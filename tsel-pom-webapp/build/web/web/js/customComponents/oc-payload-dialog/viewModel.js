define(["knockout","jquery","common/restService","libs/cm/lib/codemirror","libs/cm/mode/htmlmixed/htmlmixed","libs/cm/mode/xml/xml","libs/cm/addon/hint/show-hint","libs/cm/addon/hint/html-hint","libs/cm/addon/mode/loadmode","libs/cm/addon/selection/active-line","libs/cm/addon/edit/matchbrackets","libs/vkbeautify/vkbeautify.0.99.00.beta"],function(e,i,d,o){return function(e){var d=this;d.props=e.properties,d.editedEditor,d.oriEditor,d.editedReadOnly=e.properties.readOnly,d.displayOri=e.properties.displayOriginal,d.bindingsApplied=function(){console.log("---binding applied"),d.displayOri&&(d.oriEditor=o.fromTextArea(document.getElementById("oriPayloadEditor"),{mode:"text/xml",theme:"default",lineNumbers:!0,readOnly:"true"}),d.oriEditor.setSize(null,"60vh"),i(".div-ori").show()),document.getElementById("editedPayloadEditor").value=vkbeautify.xml(document.getElementById("editedPayloadEditor").value),d.editedEditor=o.fromTextArea(document.getElementById("editedPayloadEditor"),{mode:"text/xml",theme:"default",lineNumbers:!0,lineWrapping:!0,readOnly:d.editedReadOnly}),d.editedEditor.setSize(null,"60vh"),d.editedReadOnly||i(".retry-action").show()},d.onClickSavePayload=function(){alert(d.editedEditor.getValue())},d.onOpenPayloadDialog=function(){d.openDialog(),!0===d.props.initTableOnLoad&&d.initialize()},d.openDialog=function(){document.querySelector("#dlgPayloadModal_"+d.props.id).open()},d.closeDialog=function(){document.querySelector("#dlgPayloadModal_"+d.props.id).close()}}});