import srat from"../common/srat";var MAX_ITER=20;import{HALF_PI,FORTPI}from"../constants/values";export function init(){var t=Math.sin(this.lat0),s=Math.cos(this.lat0);s*=s,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*s*s/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+FORTPI)/(Math.pow(Math.tan(.5*this.lat0+FORTPI),this.C)*srat(this.e*t,this.ratexp))};export function forward(t){var s=t.x,a=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*a+FORTPI),this.C)*srat(this.e*Math.sin(a),this.ratexp))-HALF_PI,t.x=this.C*s,t};export function inverse(t){for(var s=t.x/this.C,a=t.y,i=Math.pow(Math.tan(.5*a+FORTPI)/this.K,1/this.C),h=MAX_ITER;h>0&&(a=2*Math.atan(i*srat(this.e*Math.sin(t.y),-.5*this.e))-HALF_PI,!(Math.abs(a-t.y)<1e-14));--h)t.y=a;return h?(t.x=s,t.y=a,t):null};export var names=["gauss"];export default{init:init,forward:forward,inverse:inverse,names:names};