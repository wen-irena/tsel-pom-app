export function init(){var t=this.lat0;this.lambda0=this.long0;var a=Math.sin(t),h=this.a,s=1/this.rf,i=2*s-Math.pow(s,2),M=this.e=Math.sqrt(i);this.R=this.k0*h*Math.sqrt(1-i)/(1-i*Math.pow(a,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(a/this.alpha);var n=Math.log(Math.tan(Math.PI/4+this.b0/2)),o=Math.log(Math.tan(Math.PI/4+t/2)),r=Math.log((1+M*a)/(1-M*a));this.K=n-this.alpha*o+this.alpha*M/2*r};export function forward(t){var a=Math.log(Math.tan(Math.PI/4-t.y/2)),h=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),s=-this.alpha*(a+h)+this.K,i=2*(Math.atan(Math.exp(s))-Math.PI/4),M=this.alpha*(t.x-this.lambda0),n=Math.atan(Math.sin(M)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(M))),o=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(M));return t.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,t.x=this.R*n+this.x0,t};export function inverse(t){for(var a=t.x-this.x0,h=t.y-this.y0,s=a/this.R,i=2*(Math.atan(Math.exp(h/this.R))-Math.PI/4),M=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(s)),n=Math.atan(Math.sin(s)/(Math.cos(this.b0)*Math.cos(s)-Math.sin(this.b0)*Math.tan(i))),o=this.lambda0+n/this.alpha,r=0,e=M,l=-1e3,p=0;Math.abs(e-l)>1e-7;){if(++p>20)return;r=1/this.alpha*(Math.log(Math.tan(Math.PI/4+M/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(e))/2)),l=e,e=2*Math.atan(Math.exp(r))-Math.PI/2}return t.x=o,t.y=e,t};export var names=["somerc"];export default{init:init,forward:forward,inverse:inverse,names:names};