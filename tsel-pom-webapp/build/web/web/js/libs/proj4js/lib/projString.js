import{D2R}from"./constants/values";import PrimeMeridian from"./constants/PrimeMeridian";import units from"./constants/units";import match from"./match";export default function(t){var n,o,a,r={},i=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var o=n.split("=");return o.push(!0),t[o[0].toLowerCase()]=o[1],t},{}),e={proj:"projName",datum:"datumCode",rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){r.lat0=t*D2R},lat_1:function(t){r.lat1=t*D2R},lat_2:function(t){r.lat2=t*D2R},lat_ts:function(t){r.lat_ts=t*D2R},lon_0:function(t){r.long0=t*D2R},lon_1:function(t){r.long1=t*D2R},lon_2:function(t){r.long2=t*D2R},alpha:function(t){r.alpha=parseFloat(t)*D2R},lonc:function(t){r.longc=t*D2R},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r_a:function(){r.R_A=!0},zone:function(t){r.zone=parseInt(t,10)},south:function(){r.utmSouth=!0},towgs84:function(t){r.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(t){r.units=t;var n=match(units,t);n&&(r.to_meter=n.to_meter)},from_greenwich:function(t){r.from_greenwich=t*D2R},pm:function(t){var n=match(PrimeMeridian,t);r.from_greenwich=(n||parseFloat(t))*D2R},nadgrids:function(t){"@null"===t?r.datumCode="none":r.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(r.axis=t)}};for(n in i)o=i[n],n in e?"function"==typeof(a=e[n])?a(o):r[a]=o:r[n]=o;return"string"==typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r};