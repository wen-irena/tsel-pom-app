define(["require","libs/require-css/normalize"],function(e,r){var s={},t=!!process.platform.match(/^win/);function n(e){if("none"==u.optimizeCss)return e;if("undefined"!=typeof process&&process.versions&&process.versions.node&&require.nodeRequire){try{var r=require.nodeRequire("csso")}catch(r){return console.log('Compression module not installed. Use "npm install csso -g" to enable.'),e}var s=e.length;try{if("function"==typeof r.minify){var t=r.minify(e);"string"==typeof t?e=t:"object"==typeof t&&(e=t.css)}else e=r.justDoIt(e)}catch(r){return console.log("Compression failed due to a CSS syntax error."),e}return console.log("Compressed CSS output to "+Math.round(e.length/s*100)+"%."),e}return console.log("Compression not supported outside of nodejs environments."),e}function i(e){return e.replace(/(["'\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")}var a,o=/^([^\:\/]+:\/)?\//,l=e.toUrl("base_url").split("/");l[l.length-1]="";var u,c=l.join("/"),d=!0,f=[],p={};return s.load=function(e,s,n,i){if(u=u||i,a||(a=path.resolve(u.dir||path.dirname(u.out),u.siteRoot||".")+"/",t&&(a=a.replace(/\\/g,"/"))),e.match(o))return n();var l=s.toUrl(e+".css");t&&(l=l.replace(/\\/g,"/"));var d=l;if(d.indexOf(c)<0){var f=s.toUrl(u.appDir);t&&(f=f.replace(/\\/g,"/")),0==d.indexOf(f)&&(d=a+d.substring(f.length))}p[e]=r(function(e){if("undefined"!=typeof process&&process.versions&&process.versions.node&&require.nodeRequire)return 0===(t=require.nodeRequire("fs").readFileSync(e,"utf8")).indexOf("\ufeff")?t.substring(1):t;var r,s,t=new java.io.File(e),n=java.lang.System.getProperty("line.separator"),i=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(t),"utf-8"));try{for(r=new java.lang.StringBuffer,(s=i.readLine())&&s.length()&&65279===s.charAt(0)&&(s=s.substring(1)),r.append(s);null!==(s=i.readLine());)r.append(n).append(s);return String(r.toString())}finally{i.close()}}(l),d,a),n()},s.normalize=function(e,r){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),r(e)},s.write=function(e,r,s,t){var a;if(!r.match(o)&&(f.push(p[r]),global._requirejsCssData?global._requirejsCssData.usedBy.css=!0:global._requirejsCssData={usedBy:{css:!0},css:""},0!=u.buildCSS)){var l=p[r];u.writeCSSModule&&l?(d&&(d=!1,s("define('@writecss', function() {return function writeCss(c) {var d=document,a='appendChild',i='styleSheet',s=d.createElement('style');s.type='text/css';d.getElementsByTagName('head')[0][a](s);s[i]?s[i].cssText=c:s[a](d.createTextNode(c));};});")),a='define(["@writecss"], function(writeCss){\n writeCss("'+i(n(l))+'");\n})'):a="define(function(){})",s.asModule(e+"!"+r,a)}},s.onLayerEnd=function(e,r){if(u.separateCSS&&u.IESelectorLimit)throw"RequireCSS: separateCSS option is not compatible with ensuring the IE selector limit";if(u.separateCSS){var s=r.path.replace(/(\.js)?$/,".css");console.log("Writing CSS! file: "+s+"\n");var t=f.join("");process.nextTick(function(){global._requirejsCssData&&(t=global._requirejsCssData.css=t+global._requirejsCssData.css,delete global._requirejsCssData.usedBy.css,0===Object.keys(global._requirejsCssData.usedBy).length&&delete global._requirejsCssData),function(e,r){if("undefined"!=typeof process&&process.versions&&process.versions.node&&require.nodeRequire)require.nodeRequire("fs").writeFileSync(e,r,"utf8");else{var s=new java.lang.String(r),t=new java.io.BufferedWriter(new java.io.OutputStreamWriter(new java.io.FileOutputStream(e),"utf-8"));try{t.write(s,0,s.length()),t.flush()}finally{t.close()}}}(s,n(t))})}else if(0!=u.buildCSS&&1!=u.writeCSSModule)for(var a=u.IESelectorLimit?f:[f.join("")],o=0;o<a.length;o++){if(""==a[o])return;e("(function(c){var d=document,a='appendChild',i='styleSheet',s=d.createElement('style');s.type='text/css';d.getElementsByTagName('head')[0][a](s);s[i]?s[i].cssText=c:s[a](d.createTextNode(c));})\n('"+i(n(a[o]))+"');\n")}f=[],d=!0},s});