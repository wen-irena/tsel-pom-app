import Native from"./Native.js";import CustomElementInternals from"../CustomElementInternals.js";import*as Utilities from"../Utilities.js";import PatchParentNode from"./Interface/ParentNode.js";export default function(t){Utilities.setPropertyUnchecked(Document.prototype,"createElement",function(e){if(this.__CE_hasRegistry){const n=t.localNameToDefinition(e);if(n)return new n.constructor}const n=Native.Document_createElement.call(this,e);return t.patch(n),n}),Utilities.setPropertyUnchecked(Document.prototype,"importNode",function(e,n){const o=Native.Document_importNode.call(this,e,n);return this.__CE_hasRegistry?t.patchAndUpgradeTree(o):t.patchTree(o),o});Utilities.setPropertyUnchecked(Document.prototype,"createElementNS",function(e,n){if(this.__CE_hasRegistry&&(null===e||"http://www.w3.org/1999/xhtml"===e)){const e=t.localNameToDefinition(n);if(e)return new e.constructor}const o=Native.Document_createElementNS.call(this,e,n);return t.patch(o),o}),PatchParentNode(t,Document.prototype,{prepend:Native.Document_prepend,append:Native.Document_append})};