import Native from"./Native.js";import CustomElementInternals from"../CustomElementInternals.js";import CEState from"../CustomElementState.js";import AlreadyConstructedMarker from"../AlreadyConstructedMarker.js";export default function(t){window.HTMLElement=function(){function e(){const e=this.constructor,r=t.constructorToDefinition(e);if(!r)throw new Error("The custom element being constructed was not registered with `customElements`.");const o=r.constructionStack;if(0===o.length){const o=Native.Document_createElement.call(document,r.localName);return Object.setPrototypeOf(o,e.prototype),o.__CE_state=CEState.custom,o.__CE_definition=r,t.patch(o),o}const n=o.length-1,c=o[n];if(c===AlreadyConstructedMarker)throw new Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return o[n]=AlreadyConstructedMarker,Object.setPrototypeOf(c,e.prototype),t.patch(c),c}return e.prototype=Native.HTMLElement.prototype,e}()};