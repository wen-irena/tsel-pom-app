import adjust_lon from"../common/adjust_lon";import asinz from"../common/asinz";import{EPSLN}from"../constants/values";export function init(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1};export function forward(t){var i,s,n,h,a,o,r,p=t.x,c=t.y;return n=adjust_lon(p-this.long0),i=Math.sin(c),s=Math.cos(c),h=Math.cos(n),1,(a=this.sin_p14*i+this.cos_p14*s*h)>0||Math.abs(a)<=EPSLN?(o=this.x0+1*this.a*s*Math.sin(n)/a,r=this.y0+1*this.a*(this.cos_p14*i-this.sin_p14*s*h)/a):(o=this.x0+this.infinity_dist*s*Math.sin(n),r=this.y0+this.infinity_dist*(this.cos_p14*i-this.sin_p14*s*h)),t.x=o,t.y=r,t};export function inverse(t){var i,s,n,h,a,o;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(i=Math.sqrt(t.x*t.x+t.y*t.y))?(h=Math.atan2(i,this.rc),s=Math.sin(h),n=Math.cos(h),o=asinz(n*this.sin_p14+t.y*s*this.cos_p14/i),a=Math.atan2(t.x*s,i*this.cos_p14*n-t.y*this.sin_p14*s),a=adjust_lon(this.long0+a)):(o=this.phic0,a=0),t.x=a,t.y=o,t};export var names=["gnom"];export default{init:init,forward:forward,inverse:inverse,names:names};