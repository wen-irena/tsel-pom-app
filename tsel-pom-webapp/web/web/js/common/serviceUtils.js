function disableLasTbl(e,t){$("#"+e+" .dropBtnBar button").removeAttr("disabled"),t&&$("#"+e+" .dropBtnBar button").attr("disabled","disbaled")}function printContent(e){var t=e.split(",");for($("div").addClass("printHide"),i=0;i<t.length;i++)$("."+t[i]).parents().addClass("printVis"),$("."+t[i]).parents().removeClass("printHide"),$("."+t[i]).find("*").removeClass("printHide"),$("."+t[i]).removeClass("printHide"),$("."+t[i]).addClass("printVis");window.print()}define(["knockout","ojs/ojcore","jquery","common/constants","common/userInfo","common/messageService","common/commonUtils","common/restService","ojs/ojknockout","promise","ojs/ojlistview","ojs/ojmodel","ojs/ojtable","ojs/ojknockout-validation"],function(e,t,n,r,o,s,a,l){var u=this;u.applicationMessages=e.observableArray([]),u.createMessage=function(e,n,i){return{severity:e,summary:n,detail:i,closeAffordance:"defaults",autoTimeout:r.notificationTimeout,sound:"none",timestamp:t.IntlConverterUtils.dateToLocalIso(new Date)}},u.closeMessageHandler=function(e){u.applicationMessages.remove(e.detail.message)},u.messagePosition=e.computed(function(){return r.messagePositions["top-page"]}),u.showErrorMessage=function(e,t){u.applicationMessages.push(u.createMessage("error",e,t))},u.showWarningMessage=function(e,t){u.applicationMessages.push(u.createMessage("warning",e,t))},u.showInfoMessage=function(e,t){u.applicationMessages.push(u.createMessage("info",e,t))},u.showConfirmationMessage=function(e,t){u.applicationMessages.push(u.createMessage("confirmation",e,t))},u.createMessage2=function(e,n,i){return{severity:e,summary:n,detail:i,closeAffordance:"defaults",sound:"none",timestamp:t.IntlConverterUtils.dateToLocalIso(new Date)}},u.showErrorMessage2=function(e,t){u.applicationMessages.push(u.createMessage2("error",e,t))},u.b64toBlob=function(e,t,n){t=t||"",n=n||512;for(var i=u.decode64(e),r=[],o=0;o<i.length;o+=n){for(var s=i.slice(o,o+n),a=new Array(s.length),l=0;l<s.length;l++)a[l]=s.charCodeAt(l);var c=new Uint8Array(a);r.push(c)}return new Blob(r,{type:t})},u.decode64=function(e){var t,n,i,o,s="",a="",l="",u=0,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.error(r.base64decodeErrorTxt),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=c.indexOf(e.charAt(u++))<<2|(i=c.indexOf(e.charAt(u++)))>>4,n=(15&i)<<4|(o=c.indexOf(e.charAt(u++)))>>2,a=(3&o)<<6|(l=c.indexOf(e.charAt(u++))),s+=String.fromCharCode(t),64!==o&&(s+=String.fromCharCode(n)),64!==l&&(s+=String.fromCharCode(a)),t=n=a="",i=o=l=""}while(u<e.length);return unescape(s)},u.tracker=e.observable(),u._showComponentValidationErrors=function(t){return t||(t=e.utils.unwrapObservable(u.tracker)),t.showMessages(),!t.focusOnFirstInvalid()},u.getCurrentDate=function(){return(new Date).toISOString().substring(0,10)},u.refreshJsonData=function(e,t){u.getRestData(e,[],[],t)},u.getUrlFromParams=function(e,t){var n="";if(!e||!t)return n;for(i=0;i<t.length;i++)(null===t[i]||t[i]?0!==t[i].toString().trim().length:t[i])||e.splice(i+e.length-t.length,1);for(i=0;i<t.length;i++)(null===t[i]||t[i]?0!==t[i].toString().trim().length:t[i])||(t.splice(i,1),i--);for(i=0;i<e.length;i++)n=n+e[i]+"="+t[i]+"&";return e.length>0&&(n="?"+n.substring(0,n.length-1)),n},u.getJsonFromArray=function(e){for(var t in e)FirstKey||(FirstKey=t);var n="[";for(var i in e[FirstKey]){for(var t in n+="{",e)n=n+t+":"+e[t][i]+",";n="{"===n?"{},":n.substring(0,n.length-1)+"},"}return n.length>3&&(n=n.substring(0,n.length-1)),n+="]",JSON.stringify(n)},u.getJsonFromParams=function(e,t){if(!t)return JSON.stringify(e);var n="[{";for(i=0;i<e.length;i++)n=n+'"'+e[i]+'": "'+t[i]+'",';return e.length>0&&(n=n.substring(0,n.length-1)),n+="}]",JSON.stringify(n)},u.getRestData=function(e,t,n,i,r){doRestCall(e,t,n,"get",i,r)},u.postRestData=function(e,t,n,i,r){doRestCall(e,t,n,"post",i,r)},u.putRestData=function(e,t,n,i,r){doRestCall(e,t,n,"put",i,r)},u.deleteRestData=function(e,t,n,i,r){doRestCall(e,t,n,"delete",i,r)},u.doRestCall=function(e,t,i,l,c,g){var f;console.log("Start doRestCall "+l),"get"===l?e+=getUrlFromParams(t,i):f=JSON.stringify(t),n.ajax({url:e,data:f,type:l,contentType:"application/json",dataType:"json",beforeSend:function(e){e.setRequestHeader("AppId",r.appId),o.userToken()&&e.setRequestHeader("Authorization","Bearer "+o.userToken())},success:function(e,t,n){c&&c(e)},error:function(t,n,i){a.restErrorHandler(t.status,t.responseText),u.showErrorMessage(s.httpStatusToMessage(t.status),r.businessErrors[r.backendErrorFlag][l].message+"\n"+e),c&&c(r.backendErrorFlag)},timeout:g||r.serviceTimeout})},u.doFilterSearch=function(t,n,r,o,s){for(i=0;i<n.length;i++)null!==n[i]&&0!==n[i].toString().trim().length||t.splice(i+t.length-n.length,1);for(i=0;i<n.length;i++)null!==n[i]&&0!==n[i].toString().trim().length||(n.splice(i,1),i--);return e.utils.arrayFilter(r,function(e){var r=!0,a="";for(s&&(r=!1),i=0;i<n.length;i++)a=null,filterVal=n[i].toString().trim().toLowerCase(),t[i].indexOf(".")>0?(jsonRecVal=null,e[t[i].split(".")[0]]&&(jsonRecVal=e[t[i].split(".")[0]][t[i].split(".")[1]]),null!==jsonRecVal&&(a=jsonRecVal.toString().toLowerCase())):null!==t[i]&&e[t[i]]&&null!==e[t[i]]&&(a=e[t[i]].toString().toLowerCase()),r=s?!!(!0===r||n[i].toString().trim().length>0&&null!==a&&(o&&a===filterVal||!o&&a.indexOf(filterVal)>-1)):!!(!0===r&&n[i].toString().trim().length>0&&null!==a&&(o&&a===filterVal||!o&&a.indexOf(filterVal)>-1));return r})},u.downloadFile=function(e,t,n,i){(!e||null===e||""===e||e.length<1)&&(e=l.fileUtilityService()),getRestData(e,t,n,function(e){i&&(e=e[i]);var t=(e=e[0]).Document,n=e.FileName,r=u.b64toBlob(t,"");saveAs(r,n)})},u.quickFileView=function(e){Keys=["DocId","Role"];Vals=[e,"OPE"],u.downloadFile(l.fileUtilUrl(),Keys,Vals,"FileResp")},u.downloadDoc=function(e,t,n,i){(!e||null===e||""===e||e.length<1)&&(e=l.docGenUrl()),getRestData(e,t,n,function(t){"ERROR"!==t&&u.showConfirmationMessage(r.docGenSuccessTxt,e);var n=(t=i?t[i]:t[0]).DocumentFile,o=t.DocumentFilepath;o=o.substring(o.lastIndexOf("/")+1,o.length);var s=u.b64toBlob(n,"");saveAs(s,o)})}});