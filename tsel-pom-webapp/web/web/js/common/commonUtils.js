"use strict";define(["jquery","ojs/ojcore","knockout","common/configService","common/constants"],function(e,n,o,r,t){return new function(){var e=this;e.isTokenExist=function(){var n=localStorage.getItem("token"),o=e.getParameterByName("token");return!(!n&&!o)},e.sanitizeUrl=function(e){return e=(e=(e=(e=e.replace("<","&lt;").replace(">","&gt;")).replace("eval\\((.*)\\)","")).replace("[\\\"\\'][\\s]*((?i)javascript):(.*)[\\\"\\']",'""')).replace("((?i)script)","")},e.restErrorHandler=function(n,o){if(403===n||"403"===n){localStorage.clear();var a,c=o?JSON.parse(o):null,i=encodeURIComponent(e.sanitizeUrl(window.location.href));a=c?c.url+i+"&appId="+encodeURIComponent(t.appId):r.portalAdmServiceUrl+"/login.html?url="+i+"&appId="+encodeURIComponent(t.appId),window.location.href=a}else 401!==n&&"401"!==n||window.location.replace("?root=401-unauthorized")},e.getParameterByName=function(e,n){n||(n=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(n);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}}});