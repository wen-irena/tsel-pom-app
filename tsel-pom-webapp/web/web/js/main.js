!function(){"use strict";var e=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;function n(e,n,o,r,a,t,l){if(n[e]||(e=e.replace(/^zh-(Hans|Hant)-([^-]+)$/,"zh-$2")),n[e]){if(o.push(e),!0===n[e]||1===n[e]){var u=l?l+e:e;r.push(a+u+"/"+t)}return!0}return!1}function o(e){return"object"==typeof e}function r(e,n){var a;for(a in n)n.hasOwnProperty(a)&&(null==e[a]?e[a]=n[a]:o(n[a])&&o(e[a])&&r(e[a],n[a]))}define('ojL10n',["module"],function(o){var a=o.config?o.config():{};return{version:"2.0.1+",load:function(o,t,l,u){(u=u||{}).locale&&(a.locale=u.locale);var c,i,f,s,h,v,g,p,d,y,O,_,m=e.exec(o),L=m[1],H=m[5],b=[],j={},x="";m[5]?(c=(L=m[1])+H,i=m[4]):(c=o,H=m[4],i=a.locale,"undefined"!=typeof document?(i||(i=u.isBuild?"root":document.documentElement.lang)||(i=void 0===navigator?"root":navigator.language||navigator.userLanguage||"root"),a.locale=i):i="root"),f=function(e){var n,o=i.toLowerCase().split(/-|_/),r=[o[0]],a=1;for(n=1;n<o.length;n++){var t=o[n],l=t.length;if(1==l)break;switch(a){case 1:if(a=2,4==l){r.push(t.charAt(0).toUpperCase()+t.slice(1));break}case 2:a=3,r.push(t.toUpperCase());break;default:r.push(t)}}return function(e){if(!("zh"!=e[0]||e.length>1&&4==e[1].length)){var n="Hans",o=e.length>1?e[1]:null;"TW"!==o&&"MO"!==o&&"HK"!==o||(n="Hant"),e.splice(1,0,n)}}(r),r}(),h=a.noOverlay,v=a.defaultNoOverlayLocale;var k=a.localePrefix;for((y=a.merge)&&(g=y[L+H])&&(m=e.exec(g),p=m[1],d=m[4]),O=[],s=0;s<f.length;s++)x+=(x?"-":"")+f[s],O.push(x);u.isBuild?(b.push(c),g&&b.push(g),t(b,function(){l()})):("query"==a.includeLocale&&(c=t.toUrl(c+".js"),c+=(-1===c.indexOf("?")?"?":"&")+"loc="+i),_=[c],g&&_.push(g),t(_,function(e,o){var a=[],u=function(e,o,r){for(var t=h||!0===e.__noOverlay,l=v||e.__defaultNoOverlayLocale,u=!1,c=O.length-1;c>=0&&(!u||!t);c--)u=n(O[c],e,a,b,o,r,k);var i=1===O.length&&"root"===O[0];t&&(i||!u)&&l&&n(l,e,a,b,o,r,k),i||n("root",e,a,b,o,r,k)};u(e,L,H);var c=a.length;o&&u(o,p,d),t(b,function(){var n=function(e,n,o,l,u){for(var c=n;c<o&&a[c];c++){var i=a[c],f=k?k+i:i,s=e[i];!0!==s&&1!==s||(s=t(l+f+"/"+u)),r(j,s)}};n(o,c,a.length,p,d),n(e,0,c,L,H),j._ojLocale_=f.join("-"),l(j)})}))}}})}();
define('ojtranslations/nls/ojtranslations',{root:{"oj-message":{fatal:"Fatal",error:"Error",warning:"Warning",info:"Info",confirmation:"Confirmation","compact-type-summary":"{0}: {1}"},"oj-converter":{summary:"Value is not in the expected format.",detail:"Enter a value in the expected format.","plural-separator":", ",hint:{summary:"Example: {exampleValue}",detail:"Enter a value in the same format as this example: '{exampleValue}'.","detail-plural":"Enter a value in the same format as these examples: '{exampleValue}'."},optionHint:{detail:"An accepted value for option '{propertyName}' is '{propertyValueValid}'.","detail-plural":"Accepted values for option '{propertyName}' are '{propertyValueValid}'."},optionTypesMismatch:{summary:"A value for the option '{requiredPropertyName}' is required when the option '{propertyName}' is set to '{propertyValue}'."},optionTypeInvalid:{summary:"A value of the expected type was not provided for option '{propertyName}'."},optionOutOfRange:{summary:"Value {propertyValue} is out of range for the option '{propertyName}'."},optionValueInvalid:{summary:"An invalid value '{propertyValue}' was specified for the option '{propertyName}'."},number:{decimalFormatMismatch:{summary:"'{value}' is not in the expected number format."},shortLongUnsupportedParse:{summary:"'short' and 'long' are not supported for converter parsing.",detail:"Change component to readonly. readonly fields do not call the converter's parse function."},currencyFormatMismatch:{summary:"'{value}' is not in the expected currency format."},percentFormatMismatch:{summary:"'{value}' is not in the expected percent format."}},datetime:{datetimeOutOfRange:{summary:"Value '{value}' is out of range for the '{propertyName}'.",detail:"Enter a value between '{minValue}' and '{maxValue}'.",hour:"hour",minute:"minute",second:"second",millisec:"millisec",month:"month",day:"day",year:"year","month name":"month name",weekday:"weekday"},dateFormatMismatch:{summary:"'{value}' is not in the expected date format."},invalidTimeZoneID:{summary:"Invalid timezone id {timeZoneID} provided."},nonExistingTime:{summary:"The input time does not exist because it falls during the transition to daylight saving time."},missingTimeZoneData:{summary:"TimeZone data is missing. Please call require 'ojs/ojtimezonedata' in order to load the TimeZone data."},timeFormatMismatch:{summary:"'{value}' is not in the expected time format."},datetimeFormatMismatch:{summary:"'{value}' is not in the expected date and time format."},dateToWeekdayMismatch:{summary:"Day '{date}' does not fall on a '{weekday}'.",detail:"Enter a weekday that corresponds with the date."},invalidISOString:{summary:"The provided '{isoStr}' is not a valid ISO 8601 string.",detail:"Please provide valid ISO 8601 string."}}},"oj-validator":{length:{hint:{min:"Enter {min} or more characters.",max:"Enter {max} or fewer characters.",inRange:"Enter {min} or more characters, up to a maximum of {max}.",exact:"Enter {length} characters."},messageDetail:{tooShort:"Enter {min} or more characters, not fewer.",tooLong:"Enter {max} or fewer characters, not more."},messageSummary:{tooShort:"There are too few characters.",tooLong:"There are too many characters."}},range:{number:{hint:{min:"Enter a number greater than or equal to {min}.",max:"Enter a number less than or equal to {max}.",inRange:"Enter a number between {min} and {max}.",exact:"Enter the number {num}."},messageDetail:{rangeUnderflow:"The number must be greater than or equal to {min}.",rangeOverflow:"The number must be less than or equal to {max}.",exact:"The number must be {num}."},messageSummary:{rangeUnderflow:"The number is too low.",rangeOverflow:"The number is too high."}},datetime:{hint:{min:"Enter a date and time on or after {min}.",max:"Enter a date and time on or before {max}.",inRange:"Enter a date and time between {min} and {max}."},messageDetail:{rangeUnderflow:"Date and time must be on or later than {min}.",rangeOverflow:"Date and time must be on or sooner than {max}."},messageSummary:{rangeUnderflow:"Date and time is earlier than the minimum date and time.",rangeOverflow:"Date and time is later than the maximum date and time."}},date:{hint:{min:"Enter a date on or after {min}.",max:"Enter a date on or before {max}.",inRange:"Enter a date between {min} and {max}."},messageDetail:{rangeUnderflow:"Date must be on or later than {min}.",rangeOverflow:"Date must be on or sooner than {max}."},messageSummary:{rangeUnderflow:"Date is earlier than the minimum date.",rangeOverflow:"Date is later than the maximum date."}},time:{hint:{min:"Enter a time on or after {min}.",max:"Enter a time on or before {max}.",inRange:"Enter a time between {min} and {max}."},messageDetail:{rangeUnderflow:"Time must be on or later than {min}.",rangeOverflow:"Time must be on or sooner than {max}."},messageSummary:{rangeUnderflow:"Time is earlier than the minimum time.",rangeOverflow:"Time is later than the maximum time."}}},restriction:{date:{messageSummary:"Date {value} is of a disabled entry.",messageDetail:"Date {value} should not be of a disabled entry."}},regExp:{summary:"Format is incorrect.",detail:"Value '{value}' must match this pattern: '{pattern}'."},required:{summary:"Value is required.",detail:"You must enter a value."}},"oj-ojInputDate":{done:"Done",cancel:"Cancel",prevText:"Prev",nextText:"Next",currentText:"Today",weekHeader:"Wk",tooltipCalendar:"Select Date.",tooltipCalendarTime:"Select Date Time.",tooltipCalendarDisabled:"Select Date Disabled.",tooltipCalendarTimeDisabled:"Select Date Time Disabled.",picker:"Picker",weekText:"Week",datePicker:"Date Picker",inputHelp:"Press Key down or Key up for access to Calendar.",inputHelpBoth:"Press Key down or Key up for access to Calendar and Shift + Key down or Shift Key up for access to time drop down.",dateTimeRange:{hint:{min:"",max:"",inRange:""},messageDetail:{rangeUnderflow:"",rangeOverflow:""},messageSummary:{rangeUnderflow:"",rangeOverflow:""}},dateRestriction:{hint:"",messageSummary:"",messageDetail:""}},"oj-ojInputTime":{cancelText:"Cancel",okText:"OK",currentTimeText:"Now",hourWheelLabel:"Hour",minuteWheelLabel:"Minute",ampmWheelLabel:"AMPM",tooltipTime:"Select Time.",tooltipTimeDisabled:"Select Time Disabled.",inputHelp:"Press Key down or Key up for access to time drop down.",dateTimeRange:{hint:{min:"",max:"",inRange:""},messageDetail:{rangeUnderflow:"",rangeOverflow:""},messageSummary:{rangeUnderflow:"",rangeOverflow:""}}},"oj-inputBase":{required:{hint:"",messageSummary:"",messageDetail:""},regexp:{messageSummary:"",messageDetail:""}},"oj-ojInputPassword":{regexp:{messageDetail:"Value must match this pattern: '{pattern}'."}},"oj-ojFilmStrip":{labelAccFilmStrip:"Displaying page {pageIndex} of {pageCount}",labelAccArrowNextPage:"Select Next to display next page",labelAccArrowPreviousPage:"Select Previous to display previous page",tipArrowNextPage:"Next",tipArrowPreviousPage:"Previous"},"oj-ojDataGrid":{accessibleSortAscending:"{id} sorted in ascending order",accessibleSortDescending:"{id} sorted in descending order",accessibleActionableMode:"Enter actionable mode.",accessibleNavigationMode:"Enter navigation mode, press F2 to enter edit or actionable mode.",accessibleEditableMode:"Enter editable mode, press escape to navigate outside the data grid.",accessibleSummaryExact:"This is a data grid with {rownum} rows and {colnum} columns",accessibleSummaryEstimate:"This is a data grid with unknown number of rows and columns",accessibleSummaryExpanded:"There are currently {num} rows expanded",accessibleRowExpanded:"Row expanded",accessibleRowCollapsed:"Row collapsed",accessibleRowSelected:"Row {row} selected",accessibleColumnSelected:"Column {column} selected",accessibleStateSelected:"selected",accessibleMultiCellSelected:"{num} cells selected",accessibleColumnSpanContext:"{extent} wide",accessibleRowSpanContext:"{extent} high",accessibleRowContext:"Row {index}",accessibleColumnContext:"Column {index}",accessibleRowHeaderContext:"Row Header {index}",accessibleColumnHeaderContext:"Column Header {index}",accessibleRowEndHeaderContext:"Row End Header {index}",accessibleColumnEndHeaderContext:"Column End Header {index}",accessibleLevelContext:"Level {level}",accessibleRangeSelectModeOn:"Add selected range of cells mode on.",accessibleRangeSelectModeOff:"Add selected range of cells mode off.",accessibleFirstRow:"You have reached the first row.",accessibleLastRow:"You have reached the last row.",accessibleFirstColumn:"You have reached the first column",accessibleLastColumn:"You have reached the last column.",accessibleSelectionAffordanceTop:"Top selection handle.",accessibleSelectionAffordanceBottom:"Bottom selection handle.",msgFetchingData:"Fetching Data...",msgNoData:"No items to display.",labelResize:"Resize",labelResizeWidth:"Resize Width",labelResizeHeight:"Resize Height",labelSortRow:"Sort Row",labelSortRowAsc:"Sort Row Ascending",labelSortRowDsc:"Sort Row Descending",labelSortCol:"Sort Column",labelSortColAsc:"Sort Column Ascending",labelSortColDsc:"Sort Column Descending",labelCut:"Cut",labelPaste:"Paste",labelEnableNonContiguous:"Enable Non-Contiguous Selection",labelDisableNonContiguous:"Disable Non-Contiguous Selection",labelResizeDialogSubmit:"OK"},"oj-ojRowExpander":{accessibleLevelDescription:"Level {level}",accessibleRowDescription:"Level {level}, Row {num} of {total}",accessibleRowExpanded:"Row expanded",accessibleRowCollapsed:"Row collapsed",accessibleStateExpanded:"expanded",accessibleStateCollapsed:"collapsed"},"oj-ojListView":{msgFetchingData:"Fetching Data...",msgNoData:"No items to display.",indexerCharacters:"A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z",accessibleReorderTouchInstructionText:"Double tap and hold.  Wait for the sound then drag to rearrange.",accessibleReorderBeforeItem:"Before {item}",accessibleReorderAfterItem:"After {item}",accessibleReorderInsideItem:"Into {item}",accessibleNavigateSkipItems:"Skipping {numSkip} items",labelCut:"Cut",labelCopy:"Copy",labelPaste:"Paste",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After"},"oj-_ojLabel":{tooltipHelp:"Help",tooltipRequired:"Required"},"oj-ojLabel":{tooltipHelp:"Help",tooltipRequired:"Required"},"oj-ojInputNumber":{required:{hint:"",messageSummary:"",messageDetail:""},numberRange:{hint:{min:"",max:"",inRange:"",exact:""},messageDetail:{rangeUnderflow:"",rangeOverflow:"",exact:""},messageSummary:{rangeUnderflow:"",rangeOverflow:""}},tooltipDecrement:"Decrement",tooltipIncrement:"Increment"},"oj-ojTable":{labelAccSelectionAffordanceTop:"Top selection handle",labelAccSelectionAffordanceBottom:"Bottom selection handle",labelEnableNonContiguousSelection:"Enable Non-Contiguous Selection",labelDisableNonContiguousSelection:"Disable Non-Contiguous Selection",labelResize:"Resize",labelResizePopupSubmit:"OK",labelResizePopupSpinner:"Resize Column",labelSelectRow:"Select Row",labelEditRow:"Edit Row",labelSelectAndEditRow:"Select And Edit Row",labelSelectColumn:"Select Column",labelSort:"Sort",labelSortAsc:"Sort Ascending",labelSortDsc:"Sort Descending",msgFetchingData:"Fetching Data...",msgNoData:"No data to display.",msgInitializing:"Initializing...",msgColumnResizeWidthValidation:"Width value must be an integer.",msgScrollPolicyMaxCountSummary:"Exceeded maximum rows for table scrolling.",msgScrollPolicyMaxCountDetail:"Please reload with smaller data set.",msgStatusSortAscending:"{0} sorted in ascending order.",msgStatusSortDescending:"{0} sorted in descending order."},"oj-ojTabs":{labelCut:"Cut",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After",labelRemove:"Remove",labelReorder:"Reorder",removeCueText:"Removable"},"oj-ojCheckboxset":{required:{hint:"",messageSummary:"",messageDetail:""}},"oj-ojRadioset":{required:{hint:"",messageSummary:"",messageDetail:""}},"oj-ojSelect":{required:{hint:"",messageSummary:"",messageDetail:""},searchField:"Search field",noMatchesFound:"No matches found",oneMatchesFound:"One match found",moreMatchesFound:"{num} matches found",filterFurther:"More results available, please filter further."},"oj-ojSwitch":{SwitchON:"On",SwitchOFF:"Off"},"oj-ojCombobox":{required:{hint:"",messageSummary:"",messageDetail:""},noMatchesFound:"No matches found",filterFurther:"More results available, please filter further."},"oj-ojInputSearch":{required:{hint:"",messageSummary:"",messageDetail:""},noMatchesFound:"No matches found",oneMatchesFound:"One match found",moreMatchesFound:"{num} matches found"},"oj-ojTree":{stateLoading:"Loading...",labelNewNode:"New Node",labelMultiSelection:"Multiple Selection",labelEdit:"Edit",labelCreate:"Create",labelCut:"Cut",labelCopy:"Copy",labelPaste:"Paste",labelPasteAfter:"Paste After",labelPasteBefore:"Paste Before",labelRemove:"Remove",labelRename:"Rename",labelNoData:"No data"},"oj-ojPagingControl":{labelAccPaging:"Pagination",labelAccNavFirstPage:"First Page",labelAccNavLastPage:"Last Page",labelAccNavNextPage:"Next Page",labelAccNavPreviousPage:"Previous Page",labelAccNavPage:"Page",labelLoadMore:"Show More...",labelLoadMoreMaxRows:"Reached Maximum Limit of {maxRows} rows",labelNavInputPage:"Page",labelNavInputPageMax:"of {pageMax}",msgItemRangeCurrent:"{pageFrom}-{pageTo}",msgItemRangeCurrentSingle:"{pageFrom}",msgItemRangeOf:"of",msgItemRangeOfAtLeast:"of at least",msgItemRangeOfApprox:"of approx.",msgItemRangeItems:"items",tipNavInputPage:"Go To Page",tipNavPageLink:"Go To Page {pageNum}",tipNavNextPage:"Next",tipNavPreviousPage:"Previous",tipNavFirstPage:"First",tipNavLastPage:"Last",pageInvalid:{summary:"The page value entered is invalid.",detail:"Please enter a value greater than 0."},maxPageLinksInvalid:{summary:"Value for maxPageLinks is invalid.",detail:"Please enter a value greater than 4."}},"oj-ojMasonryLayout":{labelCut:"Cut",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After"},"oj-panel":{labelAccButtonExpand:"Expand",labelAccButtonCollapse:"Collapse",labelAccButtonRemove:"Remove"},"oj-ojChart":{labelDefaultGroupName:"Group {0}",labelSeries:"Series",labelGroup:"Group",labelDate:"Date",labelValue:"Value",labelTargetValue:"Target",labelX:"X",labelY:"Y",labelZ:"Z",labelPercentage:"Percentage",labelLow:"Low",labelHigh:"High",labelOpen:"Open",labelClose:"Close",labelVolume:"Volume",labelQ1:"Q1",labelQ2:"Q2",labelQ3:"Q3",labelMin:"Min",labelMax:"Max",labelOther:"Other",tooltipPan:"Pan",tooltipSelect:"Marquee select",tooltipZoom:"Marquee zoom",componentName:"Chart"},"oj-dvtBaseGauge":{componentName:"Gauge"},"oj-ojDiagram":{promotedLink:"{0} link",promotedLinks:"{0} links",promotedLinkAriaDesc:"Indirect",componentName:"Diagram"},"oj-ojGantt":{componentName:"Gantt",accessibleDurationDays:"{0} days",accessibleDurationHours:"{0} hours",accessibleTaskInfo:"Start time is {0}, end time is {1}, duration is {2}",accessibleMilestoneInfo:"Time is {0}",accessibleRowInfo:"Row {0}",accessibleTaskTypeMilestone:"Milestone",accessibleTaskTypeSummary:"Summary",accessiblePredecessorInfo:"{0} predecessors",accessibleSuccessorInfo:"{0} successors",accessibleDependencyInfo:"Dependency type {0}, connects {1} to {2}",startStartDependencyAriaDesc:"start to start",startFinishDependencyAriaDesc:"start to finish",finishStartDependencyAriaDesc:"finish to start",finishFinishDependencyAriaDesc:"finish to finish",tooltipZoomIn:"Zoom In",tooltipZoomOut:"Zoom Out",labelRow:"Row",labelStart:"Start",labelEnd:"End",labelDate:"Date",labelBaselineStart:"Baseline Start",labelBaselineEnd:"Baseline End",labelBaselineDate:"Baseline Date",labelLabel:"Label",labelProgress:"Progress",labelMoveBy:"Move By",taskMoveInitiated:"Task move initiated",taskMoveSelectionInfo:"{0} others selected",taskMoveInitiatedInstruction:"Use the arrow keys to move",taskMoveFinalized:"Task move finalized",taskMoveCancelled:"Task move cancelled"},"oj-ojLegend":{componentName:"Legend"},"oj-ojNBox":{highlightedCount:"{0}/{1}",labelOther:"Other",labelGroup:"Group",labelSize:"Size",labelAdditionalData:"Additional Data",componentName:"NBox"},"oj-ojPictoChart":{componentName:"Picture Chart"},"oj-ojSparkChart":{componentName:"Chart"},"oj-ojSunburst":{labelColor:"Color",labelSize:"Size",tooltipExpand:"Expand",tooltipCollapse:"Collapse",componentName:"Sunburst"},"oj-ojTagCloud":{componentName:"Tag Cloud"},"oj-ojThematicMap":{componentName:"Thematic Map"},"oj-ojTimeAxis":{componentName:"Time Axis"},"oj-ojTimeline":{componentName:"Timeline",accessibleItemDesc:"Description is {0}.",accessibleItemEnd:"End time is {0}.",accessibleItemStart:"Start time is {0}.",accessibleItemTitle:"Title is {0}.",labelSeries:"Series",tooltipZoomIn:"Zoom In",tooltipZoomOut:"Zoom Out"},"oj-ojTreemap":{labelColor:"Color",labelSize:"Size",tooltipIsolate:"Isolate",tooltipRestore:"Restore",componentName:"Treemap"},"oj-dvtBaseComponent":{labelScalingSuffixThousand:"K",labelScalingSuffixMillion:"M",labelScalingSuffixBillion:"B",labelScalingSuffixTrillion:"T",labelScalingSuffixQuadrillion:"Q",labelInvalidData:"Invalid data",labelNoData:"No data to display",labelClearSelection:"Clear Selection",labelDataVisualization:"Data Visualization",stateSelected:"Selected",stateUnselected:"Unselected",stateMaximized:"Maximized",stateMinimized:"Minimized",stateExpanded:"Expanded",stateCollapsed:"Collapsed",stateIsolated:"Isolated",stateHidden:"Hidden",stateVisible:"Visible",stateDrillable:"Drillable",labelAndValue:"{0}: {1}",labelCountWithTotal:"{0} of {1}"},"oj-ojNavigationList":{defaultRootLabel:"Navigation List",hierMenuBtnLabel:"Hierarchical Menu button",selectedLabel:"selected",previousIcon:"Previous",msgFetchingData:"Fetching Data...",msgNoData:"No items to display.",overflowItemLabel:"More",accessibleReorderTouchInstructionText:"Double tap and hold.  Wait for the sound then drag to rearrange.",accessibleReorderBeforeItem:"Before {item}",accessibleReorderAfterItem:"After {item}",labelCut:"Cut",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After",labelRemove:"Remove",removeCueText:"Removable"},"oj-ojSlider":{noValue:"ojSlider has no value",maxMin:"Max must not be less than or equal to min",valueRange:"Value must be within min to max range",optionNum:"{option} option is not a number",invalidStep:"Invalid step; step must be > 0"},"oj-ojDialog":{labelCloseIcon:"Close"},"oj-ojPopup":{ariaLiveRegionInitialFocusFirstFocusable:"Entering pop-up. Press F6 to navigate between the pop-up and associated control.",ariaLiveRegionInitialFocusNone:"Pop-up opened. Press F6 to navigate between the pop-up and associated control.",ariaLiveRegionInitialFocusFirstFocusableTouch:"Entering pop-up. Pop-up can be closed by navigating to the last link within the pop-up.",ariaLiveRegionInitialFocusNoneTouch:"Pop-up opened.  Navigate to the next link to establish focus within the pop-up.",ariaFocusSkipLink:"Double tap to navigate to the open pop-up.",ariaCloseSkipLink:"Double tap to close the open pop-up."},"oj-pullToRefresh":{ariaRefreshLink:"Activate link to refresh content",ariaRefreshingLink:"Refreshing content",ariaRefreshCompleteLink:"Refresh complete"},"oj-ojSwipeActions":{ariaShowStartActionsDescription:"Show start actions",ariaShowEndActionsDescription:"Show end actions",ariaHideActionsDescription:"Hide actions"},"oj-ojIndexer":{indexerCharacters:"A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z",indexerOthers:"#",ariaDisabledLabel:"No matching group header",ariaOthersLabel:"number",ariaInBetweenText:"Between {first} and {second}",ariaKeyboardInstructionText:"Press enter to select value.",ariaTouchInstructionText:"Double tap and hold to enter gesture mode, then drag up or down to adjust value."},"oj-ojMenu":{labelCancel:"Cancel"},"oj-ojColorSpectrum":{labelHue:"Hue",labelOpacity:"Opacity",labelSatLum:"Saturation/Luminance",labelThumbDesc:"Color spectrum four way slider."},"oj-ojColorPalette":{labelNone:"None"},"oj-ojColorPicker":{labelSwatches:"Swatches",labelCustomColors:"Custom Colors",labelPrevColor:"Previous Color",labelDefColor:"Default Color",labelDelete:"Delete",labelDeleteQ:"Delete?",labelAdd:"Add",labelAddColor:"Add color",labelMenuHex:"HEX",labelMenuRgba:"RGBa",labelMenuHsla:"HSLa",labelSliderHue:"Hue",labelSliderSaturation:"Saturation",labelSliderSat:"Sat",labelSliderLightness:"Lightness",labelSliderLum:"Luminosity",labelSliderAlpha:"Alpha",labelOpacity:"Opacity",labelSliderRed:"Red",labelSliderGreen:"Green",labelSliderBlue:"Blue"},"oj-ojFilePicker":{dropzoneText:"Drop files here or click to upload"},"oj-ojProgressbar":{ariaIndeterminateProgressText:"In Progress"},"oj-ojMessage":{labelCloseIcon:"Close",categories:{fatal:"FATAL",error:"ERROR",warning:"WARNING",info:"INFORMATION",confirmation:"CONFIRMATION"}},"oj-ojMessages":{labelLandmark:"Messages",ariaLiveRegion:{navigationFromKeyboard:"Entering messages region. Press F6 to navigate back to prior focused element.",navigationToTouch:"Messages region has new messages.Use the voice-over rotor to navigate to the messages landmark.",navigationToKeyboard:"Messages region has new messages.  Press F6 to navigate to the most recent message region.",newMessage:"Message category {category}. {summary}."}}},ar:1,"ar-XB":1,cs:1,da:1,de:1,el:1,"en-XA":1,"en-XC":1,es:1,fi:1,fr:1,"fr-CA":1,he:1,hu:1,it:1,ja:1,ko:1,nl:1,no:1,pl:1,pt:1,"pt-PT":1,ro:1,ru:1,sk:1,sv:1,th:1,tr:1,"zh-Hans":1,"zh-Hant":1});

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define('promise',e):t.ES6Promise=e()}(this,function(){"use strict";function t(t){return"function"==typeof t}function e(){var t=setTimeout;return function(){return t(n,1)}}function n(){for(var t=0;t<y;t+=2){(0,T[t])(T[t+1]),T[t]=void 0,T[t+1]=void 0}y=0}function r(t,e){var n=this,r=new this.constructor(i);void 0===r[P]&&d(r);var o=n._state;if(o){var s=arguments[o-1];w(function(){return v(o,r,s,n._result)})}else h(n,r,t,e);return r}function o(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(i);return c(e,t),e}function i(){}function s(t){try{return t.then}catch(t){return F.error=t,F}}function u(e,n,i){n.constructor===e.constructor&&i===r&&n.constructor.resolve===o?function(t,e){e._state===C?f(t,e._result):e._state===O?l(t,e._result):h(e,void 0,function(e){return c(t,e)},function(e){return l(t,e)})}(e,n):i===F?(l(e,F.error),F.error=null):void 0===i?f(e,n):t(i)?function(t,e,n){w(function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,function(n){r||(r=!0,e!==n?c(t,n):f(t,n))},function(e){r||(r=!0,l(t,e))},t._label);!r&&o&&(r=!0,l(t,o))},t)}(e,n,i):f(e,n)}function c(t,e){t===e?l(t,new TypeError("You cannot resolve a promise with itself")):function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}(e)?u(t,e,s(e)):f(t,e)}function a(t){t._onerror&&t._onerror(t._result),p(t)}function f(t,e){t._state===x&&(t._result=e,t._state=C,0!==t._subscribers.length&&w(p,t))}function l(t,e){t._state===x&&(t._state=O,t._result=e,w(a,t))}function h(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+C]=n,o[i+O]=r,0===i&&t._state&&w(p,t)}function p(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?v(n,r,o,i):o(i);t._subscribers.length=0}}function v(e,n,r,o){var i=t(r),s=void 0,u=void 0,a=void 0,h=void 0;if(i){if((s=function(t,e){try{return t(e)}catch(t){return F.error=t,F}}(r,o))===F?(h=!0,u=s.error,s.error=null):a=!0,n===s)return void l(n,new TypeError("A promises callback cannot return that same promise."))}else s=o,a=!0;n._state!==x||(i&&a?c(n,s):h?l(n,u):e===C?f(n,s):e===O&&l(n,s))}function d(t){t[P]=Y++,t._state=void 0,t._result=void 0,t._subscribers=[]}var _=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},y=0,m=void 0,b=void 0,w=function(t,e){T[y]=t,T[y+1]=e,2===(y+=2)&&(b?b(n):M())},g="undefined"!=typeof window?window:void 0,A=g||{},j=A.MutationObserver||A.WebKitMutationObserver,S="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),E="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,T=new Array(1e3),M=void 0;M=S?function(){return process.nextTick(n)}:j?function(){var t=0,e=new j(n),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}():E?function(){var t=new MessageChannel;return t.port1.onmessage=n,function(){return t.port2.postMessage(0)}}():void 0===g&&"function"==typeof require?function(){try{var t=Function("return this")().require("vertx");return void 0!==(m=t.runOnLoop||t.runOnContext)?function(){m(n)}:e()}catch(t){return e()}}():e();var P=Math.random().toString(36).substring(2),x=void 0,C=1,O=2,F={error:null},Y=0,k=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(i),this.promise[P]||d(this.promise),_(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?f(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&f(this.promise,this._result))):l(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===x&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,c=n.resolve;if(c===o){var a=s(t);if(a===r&&t._state!==x)this._settledAt(t._state,e,t._result);else if("function"!=typeof a)this._remaining--,this._result[e]=t;else if(n===q){var f=new n(i);u(f,t,a),this._willSettleAt(f,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(c(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===x&&(this._remaining--,t===O?l(r,n):this._result[e]=n),0===this._remaining&&f(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;h(t,void 0,function(t){return n._settledAt(C,e,t)},function(t){return n._settledAt(O,e,t)})},t}(),q=function(){function t(e){this[P]=Y++,this._result=this._state=void 0,this._subscribers=[],i!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){c(t,e)},function(e){l(t,e)})}catch(e){l(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})},t}();return q.prototype.then=r,q.all=function(t){return new k(this,t).promise},q.race=function(t){var e=this;return new e(_(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})},q.resolve=o,q.reject=function(t){var e=new this(i);return l(e,t),e},q._setScheduler=function(t){b=t},q._setAsap=function(t){w=t},q._asap=w,q.polyfill=function(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=q},q.Promise=q,q});
define('ojs/ojcore',["require","ojL10n!ojtranslations/nls/ojtranslations","promise"],function(e,t,n){n.polyfill();var o={};"undefined"!=typeof window?o=window:"undefined"!=typeof self&&(o=self);var r=o.oj,s=o.oj={version:"5.1.0",revision:"2018-06-06_15-03-03",noConflict:function(){o.oj=r}};s.Logger={},s.Logger.LEVEL_NONE=0,s.Logger.LEVEL_ERROR=1,s.Logger.LEVEL_WARN=2,s.Logger.LEVEL_INFO=3,s.Logger.LEVEL_LOG=4,s.Logger._METHOD_ERROR="error",s.Logger._METHOD_WARN="warn",s.Logger._METHOD_INFO="info",s.Logger._METHOD_LOG="log",s.Logger._defaultOptions={level:s.Logger.LEVEL_ERROR,writer:null},s.Logger._options=s.Logger._defaultOptions,s.Logger.error=function(e){s.Logger._write(s.Logger.LEVEL_ERROR,s.Logger._METHOD_ERROR,arguments)},s.Logger.info=function(e){s.Logger._write(s.Logger.LEVEL_INFO,s.Logger._METHOD_INFO,arguments)},s.Logger.warn=function(e){s.Logger._write(s.Logger.LEVEL_WARN,s.Logger._METHOD_WARN,arguments)},s.Logger.log=function(e){s.Logger._write(s.Logger.LEVEL_LOG,s.Logger._METHOD_LOG,arguments)},s.Logger.option=function(e,t){var n,o={};if(0==arguments.length){for(n in s.Logger._options)s.Logger._options.hasOwnProperty(n)&&(o[n]=s.Logger._options[n]);return o}if("string"==typeof e&&void 0===t)return void 0===s.Logger._options[e]?null:s.Logger._options[e];if("string"==typeof e)s.Logger._options[e]=t;else{var r=e;for(n in r)r.hasOwnProperty(n)&&s.Logger.option(n,r[n])}},s.Logger._write=function(e,t,n){if(!(s.Logger.option("level")<e)){var o=s.Logger._getWriter();null!=o&&(1==n.length&&n[0]instanceof Function&&(n=[n[0]()]),o[t]&&o[t].apply?o[t].apply(o,n):o[t]&&(o[t]=Function.prototype.bind.call(o[t],o),s.Logger._write(e,t,n)))}},s.Logger._getWriter=function(){var e=null;return s.Logger.option("writer")?e=s.Logger.option("writer"):"undefined"!=typeof window&&void 0!==window.console&&(e=window.console),e},s.Logger._validateOption=function(e){return void 0!==s.Logger._defaultOptions[e]};var i=o.__ojCheckpointManager;s.CHECKPOINT_MANAGER={},s.CHECKPOINT_MANAGER.startCheckpoint=function(e,t){i&&i.startCheckpoint(e,t)},s.CHECKPOINT_MANAGER.endCheckpoint=function(e){i&&i.endCheckpoint(e)},s.CHECKPOINT_MANAGER.getRecord=function(e){return i?i.getRecord(e):void 0},s.CHECKPOINT_MANAGER.matchRecords=function(e){return i?i.matchRecords(e):[]},s.CHECKPOINT_MANAGER.dump=function(e){s.Logger.info(function(){for(var t="Checkpoint Records:",n=s.CHECKPOINT_MANAGER.matchRecords(e),o=0;o<n.length;o++){var r=n[o];t=t+"\n"+r.name;var i=r.description;null!=i&&(t=t+" ("+i+")"),t=(t+=":\n")+"start: "+r.start+"\tduration: "+r.duration}return t})},s.Object=function(){this.Init()},s.Object.superclass=null,s.Object._typeName="oj.Object",s.Object._GET_FUNCTION_NAME_REGEXP=/function\s+([\w\$][\w\$\d]*)\s*\(/,s.Object.prototype={},s.Object.prototype.constructor=s.Object,s.Object.createSubclass=function(e,t,n){s.Assert.assertFunction(e),s.Assert.assertFunctionOrNull(t),s.Assert.assertStringOrNull(n),void 0===t&&(t=s.Object),s.Assert.assert(e!==t,"Class can't extend itself");var o=s.Object._tempSubclassConstructor;o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e,e.superclass=e.superclass=t.prototype,n&&(e._typeName=n)},s.Object.copyPropertiesForClass=function(e,t){var n;for(n in s.Assert.assertFunction(e),s.Assert.assert(null!=t,"source object cannot be null"),t)t.hasOwnProperty(n)&&(e.prototype[n]=t[n])},s.Object._tempSubclassConstructor=function(){},s.Object.prototype.getClass=function(e){if(void 0===e)e=this;else if(null===e)return null;return e.constructor},s.Object.prototype.clone=function(){var e=new this.constructor;return s.CollectionUtils.copyInto(e,this),e},s.Object.prototype.toString=function(){return this.toDebugString()},s.Object.prototype.toDebugString=function(){return this.getTypeName()+" Object"},s.Object.getTypeName=function(e){s.Assert.assertFunction(e);var t,n,o=e._typeName;return null==o&&(t=e.toString(),o=(n=s.Object._GET_FUNCTION_NAME_REGEXP.exec(t))?n[1]:"anonymous",e._typeName=o),o},s.Object.prototype.getTypeName=function(){return s.Object.getTypeName(this.constructor)},s.Object.prototype.Init=function(){s.Assert.isDebug()&&s.Assert.assert(this.getTypeName,"Not an oj.Object");var e=this.constructor;e._initialized||s.Object._initClasses(e)},s.Object.ensureClassInitialization=function(e){s.Assert.assertFunction(e),e._initialized||s.Object._initClasses(e)},s.Object.prototype.equals=function(e){return this===e},s.Object.createCallback=function(e,t){return s.Assert.assertFunction(t),t.bind(e)},s.Object._initClasses=function(e){s.Assert.isDebug()&&(s.Assert.assertFunction(e),s.Assert.assert(!e._initialized)),e._initialized=!0;var t,n,o=e.superclass;o&&(t=o.constructor)&&!t._initialized&&s.Object._initClasses(t),(n=e.InitClass)&&n.call(e)},s.Object.compareValues=function(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(null===e||null===t)return!1;if(e.constructor===t.constructor){if(Array.isArray(e))return s.Object._compareArrayValues(e,t);if(e.constructor===Object)return s.Object.__innerEquals(e,t);if(e.valueOf&&"function"==typeof e.valueOf)return e.valueOf()===t.valueOf()}return!1},s.Object._compareArrayValues=function(e,t){if(e.length!==t.length)return!1;for(var n=0,o=e.length;n<o;n++)if(!s.Object.compareValues(e[n],t[n]))return!1;return!0},s.Object._compareIdIndexObject=function(e,t){if("number"==typeof e&&"number"==typeof t||"string"==typeof e&&"string"==typeof t)return e==t;if("object"==typeof e&&"object"==typeof t){if(e.id&&t.id)return!(e.id!=t.id||e.index&&t.index&&e.index!=t.index);if(e.index&&t.index)return e.index==t.index}return!1},s.Object._compareArrayIdIndexObject=function(e,t){if(!e)return!t||0==t.length;if(!t)return!e||0==e.length;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++){for(var o=!1,r=0;r<t.length;r++)if(s.Object._compareIdIndexObject(e[n],t[r])){o=!0;break}if(!o)return!1}return!0},s.Object.__innerEquals=function(e,t){var n,o=!1;if(e===t)return!0;if(!(e instanceof Object&&t instanceof Object))return!1;if(e.constructor!==t.constructor)return!1;for(n in e)if(o||(o=!0),e.hasOwnProperty(n)){if(!t.hasOwnProperty(n))return!1;if(e[n]!==t[n]){if("object"!=typeof e[n])return!1;if(!s.Object.__innerEquals(e[n],t[n]))return!1}}for(n in t)if(o||(o=!0),t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!!o||JSON.stringify(e)===JSON.stringify(t)},s.Object.isEmpty=function(e){var t;if(null==e)return!0;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},s.__isAmdLoaderPresent=function(){return"function"==typeof define&&define.amd},s.Assert={},s.Assert.forceDebug=function(){s.Assert.DEBUG=!0},s.Assert.clearDebug=function(){s.Assert.DEBUG=!1},s.Assert.isDebug=function(){return 1==s.Assert.DEBUG},s.Assert.assert=function(e,t){if(s.Assert.DEBUG&&!e){var n,o=t||"";if(arguments.length>2){for(o+="(",n=2;n<arguments.length;n+=1)o+=arguments[n];o+=")"}s.Assert.assertionFailed(o,1)}},s.Assert.failedInAbstractFunction=function(){s.Assert.DEBUG&&s.Assert.assertionFailed("Abstract function called",1)},s.Assert.assertPrototype=function(e,t,n){var o;s.Assert.DEBUG&&(null!=e?(s.Assert.assertType(t,"function",null,1,!1),(o=t.prototype).isPrototypeOf(e)||s.Assert.assertionFailed("object '"+e+"' doesn't match prototype "+o,1,n)):s.Assert.assertionFailed("null object doesn't match prototype "+o,1,n))},s.Assert.assertPrototypeOrNull=function(e,t,n){var o;s.Assert.DEBUG&&null!=e&&(null!=e?(s.Assert.assertType(t,"function",null,1,!1),(o=t.prototype).isPrototypeOf(e)||s.Assert.assertionFailed("object '"+e+"' doesn't match prototype "+o,1,n)):s.Assert.assertionFailed("null object doesn't match prototype "+o,1,n))},s.Assert.assertPrototypes=function(e,t,n,o){if(s.Assert.DEBUG){var r=t.prototype,i=n.prototype;r.isPrototypeOf(e)||i.isPrototypeOf(e)||s.Assert.assertionFailed("object '"+e+"' doesn't match prototype "+r+" or "+i,1,o)}},s.Assert.assertDomNodeOrNull=function(e,t){s.Assert.DEBUG&&e&&void 0===e.nodeType&&s.Assert.assertionFailed(e+" is not a DOM Node",t+1)},s.Assert.assertDomNode=function(e,t){s.Assert.DEBUG&&(e&&void 0!==e.nodeType||s.Assert.assertionFailed(e+" is not a DOM Node",t+1))},s.Assert.assertDomElement=function(e,t){s.Assert.DEBUG&&(s.Assert.assertDomNode(e,1),1!==e.nodeType?s.Assert.assertionFailed(e+" is not a DOM Element",1):t&&e.nodeName!==t&&s.Assert.assertionFailed(e+" is not a "+t+" Element",1))},s.Assert.assertDomElementOrNull=function(e,t){s.Assert.DEBUG&&null!=e&&(s.Assert.assertDomNode(e,1),1!==e.nodeType?s.Assert.assertionFailed(e+" is not a DOM Element",1):t&&e.nodeName!==t&&s.Assert.assertionFailed(e+" is not a "+t+" Element",1))},s.Assert.assertType=function(e,t,n,o,r){var i;s.Assert.DEBUG&&(null==e&&r||typeof e===t||(i=e+" is not of type "+t,n&&(i=n+i),o||(o=0),s.Assert.assertionFailed(i,o+1)))},s.Assert.assertObject=function(e,t){s.Assert.DEBUG&&s.Assert.assertType(e,"object",t,1,!1)},s.Assert.assertObjectOrNull=function(e,t){s.Assert.DEBUG&&s.Assert.assertType(e,"object",t,1,!0)},s.Assert.assertNonEmptyString=function(e,t){s.Assert.DEBUG&&(s.Assert.assertType(e,"string",t,1,!1),s.Assert.assert(e.length>0,"empty string"))},s.Assert.assertString=function(e,t){s.Assert.DEBUG&&s.Assert.assertType(e,"string",t,1,!1)},s.Assert.assertStringOrNull=function(e,t){s.Assert.DEBUG&&s.Assert.assertType(e,"string",t,1,!0)},s.Assert.assertFunction=function(e,t){s.Assert.DEBUG&&s.Assert.assertType(e,"function",t,1,!1)},s.Assert.assertFunctionOrNull=function(e,t){s.Assert.DEBUG&&s.Assert.assertType(e,"function",t,1,!0)},s.Assert.assertBoolean=function(e,t){s.Assert.DEBUG&&s.Assert.assertType(e,"boolean",t,1,!1)},s.Assert.assertNumber=function(e,t){s.Assert.DEBUG&&s.Assert.assertType(e,"number",t,1,!1)},s.Assert.assertNumberOrNull=function(e,t){s.Assert.DEBUG&&s.Assert.assertType(e,"number",t,1,!0)},s.Assert.assertArray=function(e,t){s.Assert.DEBUG&&(Array.isArray(e)||(void 0===t&&(t=e+" is not an array"),s.Assert.assertionFailed(t,1)))},s.Assert.assertArrayOrNull=function(e,t){s.Assert.DEBUG&&null!=e&&(Array.isArray(e)||(void 0===t&&(t=e+" is not an array"),s.Assert.assertionFailed(t,1)))},s.Assert.assertNonNumeric=function(e,t){s.Assert.DEBUG&&(isNaN(e)||(void 0===t&&(t=e+" is convertible to a number"),s.Assert.assertionFailed(t,1)))},s.Assert.assertNumeric=function(e,t){s.Assert.DEBUG&&isNaN(e)&&(void 0===t&&(t=e+" is not convertible to a number"),s.Assert.assertionFailed(t,1))},s.Assert.assertInSet=function(e,t,n){var o,r;if(null==e||void 0===t[e.toString()]){if(void 0===n){for(r in o=" is not in set: {",t)t.hasOwnProperty(r)&&(o+=r,o+=",");n=e+(o+="}")}s.Assert.assertionFailed(n,1)}},s.Assert.assertionFailed=function(e,t,n){t||(t=0);var o="Assertion";throw n&&(o+=" ("+n+")"),o+=" failed: ",void 0!==e&&(o+=e),new Error(o)};var a,l=o.__oj_Assert_DEBUG;function u(){}return void 0!==l&&(s.Assert.DEBUG=l),s.EventSource=function(){this.Init()},s.Object.createSubclass(s.EventSource,s.Object,"oj.EventSource"),s.EventSource.prototype.Init=function(){this._eventHandlers=[],s.EventSource.superclass.Init.call(this)},s.EventSource.prototype.on=function(e,t){var n,o=!1;for(n=0;n<this._eventHandlers.length;n++)if(this._eventHandlers[n].eventType==e&&this._eventHandlers[n].eventHandlerFunc==t){o=!0;break}o||this._eventHandlers.push({eventType:e,eventHandlerFunc:t})},s.EventSource.prototype.off=function(e,t){var n;for(n=this._eventHandlers.length-1;n>=0;n--)if(this._eventHandlers[n].eventType==e&&this._eventHandlers[n].eventHandlerFunc==t){this._eventHandlers.splice(n,1);break}},s.EventSource.prototype.handleEvent=function(e,t){var n;for(n=0;n<this._eventHandlers.length;n++){var o=this._eventHandlers[n];if(o.eventType==e&&!1===o.eventHandlerFunc.apply(this,Array.prototype.slice.call(arguments).slice(1)))return!1}return!0},s.Config={},s.Config.getDeviceType=function(){return s.AgentUtils.getAgentInfo().deviceType},s.Config.getLocale=function(){var e,n;return s.__isAmdLoaderPresent()?(s.Assert.assert(void 0!==t,"ojtranslations module must be defined"),"root"==(e=t._ojLocale_)?"en":e):(null==(n=s.Config._locale)&&((n=document.documentElement.lang)||(n=void 0===navigator?"en":(navigator.language||navigator.userLanguage||"en").toLowerCase()),s.Config._locale=n=n.toLowerCase()),n)},s.Config.setLocale=function(n,o){if(s.__isAmdLoaderPresent()){var r="ojL10n!ojtranslations/nls/",i=[r+n+"/ojtranslations"],a=0;if(s.LocaleData&&(i.push(r+n+"/localeElements"),s.TimezoneData)){var l=s.TimezoneData.__getBundleNames();a=l.length,l.forEach(function(e){i.push(r+n+e)})}e(i,function(e,n){t=e,n&&s.LocaleData.__updateBundle(n);for(var r=0;r<a;r++){var i=arguments[r+2];s.TimezoneData.__mergeIntoLocaleElements(i)}o&&o()})}else s.Config._locale=n,o&&o()},s.Config.getResourceUrl=function(t){var n;return null==t||/^\/|:/.test(t)?t:(n=s.Config._resourceBaseUrl)?n+("/"==n.charAt(n.length-1)?"":"/")+t:s.__isAmdLoaderPresent()?e.toUrl("ojs/_foo_").replace(/[^\/]*$/,"../"+t):t},s.Config.setResourceBaseUrl=function(e){s.Config._resourceBaseUrl=e},s.Config.setAutomationMode=function(e){s.Config._automationMode=e},s.Config.getAutomationMode=function(){return s.Config._automationMode},s.Config.getVersionInfo=function(){var e="Oracle JET Version: "+s.version+"\n";e+="Oracle JET Revision: "+s.revision+"\n";var t="undefined"!=typeof window;return t&&window.navigator&&(e+="Browser: "+window.navigator.userAgent+"\n",e+="Browser Platform: "+window.navigator.platform+"\n"),$&&($.fn&&(e+="jQuery Version: "+$.fn.jquery+"\n"),$.ui&&$.ui.version&&(e+="jQuery UI Version: "+$.ui.version+"\n")),s.ComponentBinding&&(e+="Knockout Version: "+s.ComponentBinding.__getKnockoutVersion()+"\n"),t&&window.require&&(e+="Require Version: "+window.require.version+"\n"),e},s.Config.logVersionInfo=function(){console.log(s.Config.getVersionInfo())},s.Config.__getTemplateEngine=function(){if(!s.Config._templateEnginePromise){if(!s.__isAmdLoaderPresent())throw"JET Temlate engine cannot be loaded with an AMD loader";s.Config._templateEnginePromise=new Promise(function(t,n){e(["./ojtemplateengine"],t,n)})}return s.Config._templateEnginePromise},function(){if("undefined"!=typeof window){var e;if((e=document.createEvent("Event")).initEvent("foo",!0,!0),e.preventDefault(),!e.defaultPrevented){var t=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(t.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}"function"!=typeof window.CustomEvent&&(n.prototype=window.Event.prototype,window.CustomEvent=n)}function n(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}(),function(){var e,t;function n(t){var n=t.data;if(n&&"oj-setImmeidate"===n.message){var r=n.id,s=e.get(r);if(o(r),s){var i=s.callback,a=s.args;i.apply(window,a)}}}function o(t){e&&(e.delete(t),e.size<1&&(window.removeEventListener("message",n),e=null))}"undefined"!=typeof window&&!window.setImmediate&&window.postMessage&&(window.setImmediate=function(){var o=arguments[0],r=Array.prototype.slice.call(arguments,1);"function"!=typeof o&&(o=new Function(o.toString()));var s=(isNaN(t)&&(t=0),++t);return e||(e=new Map),e.set(s,{callback:o,args:r}),1===e.size&&window.addEventListener("message",n),window.postMessage({id:s,message:"oj-setImmeidate"},"*"),s},window.clearImmediate=o)}(),function(){if("undefined"!=typeof window&&!window.__extends){var e,t=this&&this.__extends||(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)});window.__extends=t}}(),"undefined"!=typeof window&&(window.Symbol?(window.Symbol.asyncIterator||(window.Symbol.asyncIterator="asyncIterator"),window.Symbol.iterator||(window.Symbol.iterator="iterator")):(window.Symbol={},window.Symbol.asyncIterator="asyncIterator",window.Symbol.iterator="iterator")),s.AgentUtils=function(){},s.AgentUtils.BROWSER={IE:"ie",FIREFOX:"firefox",SAFARI:"safari",CHROME:"chrome",EDGE:"edge",UNKNOWN:"unknown"},s.AgentUtils.ENGINE={TRIDENT:"trident",WEBKIT:"webkit",GECKO:"gecko",BLINK:"blink",EDGE_HTML:"edgehtml",UNKNOWN:"unknown"},s.AgentUtils.OS={WINDOWS:"Windows",SOLARIS:"Solaris",MAC:"Mac",UNKNOWN:"Unknown",ANDROID:"Android",IOS:"IOS",WINDOWSPHONE:"WindowsPhone",LINUX:"Linux"},s.AgentUtils.DEVICETYPE={PHONE:"phone",TABLET:"tablet",OTHERS:"others"},s.AgentUtils.getAgentInfo=function(e){s.StringUtils.isEmptyOrUndefined(e)&&(e=navigator.userAgent),e=e.toLowerCase();var t=s.StringUtils.hashCode(e),n=s.AgentUtils._currAgentInfo;if(n&&n.hashCode===t)return{os:n.os,browser:n.browser,browserVersion:n.browserVersion,deviceType:n.deviceType,engine:n.engine,engineVersion:n.engineVersion,hashCode:n.hashCode};var o=s.AgentUtils.OS.UNKNOWN,r=s.AgentUtils.BROWSER.UNKNOWN,i=0,a=s.AgentUtils.DEVICETYPE.OTHERS,l=s.AgentUtils.ENGINE.UNKNOWN,u=0;return e.indexOf("iphone")>-1||e.indexOf("ipad")>-1?o=s.AgentUtils.OS.IOS:e.indexOf("mac")>-1?o=s.AgentUtils.OS.MAC:e.indexOf("sunos")>-1?o=s.AgentUtils.OS.SOLARIS:e.indexOf("android")>-1?o=s.AgentUtils.OS.ANDROID:e.indexOf("linux")>-1?o=s.AgentUtils.OS.LINUX:e.indexOf("windows phone")>-1?o=s.AgentUtils.OS.WINDOWSPHONE:e.indexOf("win")>-1&&(o=s.AgentUtils.OS.WINDOWS),o==s.AgentUtils.OS.ANDROID?a=e.indexOf("mobile")>-1?s.AgentUtils.DEVICETYPE.PHONE:s.AgentUtils.DEVICETYPE.TABLET:o==s.AgentUtils.OS.IOS&&(a=e.indexOf("iphone")>-1?s.AgentUtils.DEVICETYPE.PHONE:s.AgentUtils.DEVICETYPE.TABLET),e.indexOf("msie")>-1?(r=s.AgentUtils.BROWSER.IE,i=s.AgentUtils._parseFloatVersion(e,/msie (\d+[.]\d+)/),e.indexOf("trident")&&(l=s.AgentUtils.ENGINE.TRIDENT,u=s.AgentUtils._parseFloatVersion(e,/trident\/(\d+[.]\d+)/))):e.indexOf("trident")>-1?(r=s.AgentUtils.BROWSER.IE,i=s.AgentUtils._parseFloatVersion(e,/rv:(\d+[.]\d+)/),e.indexOf("trident")&&(l=s.AgentUtils.ENGINE.TRIDENT,u=s.AgentUtils._parseFloatVersion(e,/trident\/(\d+[.]\d+)/))):e.indexOf("edge")>-1?(r=s.AgentUtils.BROWSER.EDGE,i=u=s.AgentUtils._parseFloatVersion(e,/edge\/(\d+[.]\d+)/),l=s.AgentUtils.ENGINE.EDGE_HTML):e.indexOf("chrome")>-1?(r=s.AgentUtils.BROWSER.CHROME,(i=s.AgentUtils._parseFloatVersion(e,/chrome\/(\d+[.]\d+)/))>=28?(l=s.AgentUtils.ENGINE.BLINK,u=i):(l=s.AgentUtils.ENGINE.WEBKIT,u=s.AgentUtils._parseFloatVersion(e,/applewebkit\/(\d+[.]\d+)/))):e.indexOf("safari")>-1?(r=s.AgentUtils.BROWSER.SAFARI,i=s.AgentUtils._parseFloatVersion(e,/version\/(\d+[.]\d+)/),l=s.AgentUtils.ENGINE.WEBKIT,u=s.AgentUtils._parseFloatVersion(e,/applewebkit\/(\d+[.]\d+)/)):e.indexOf("firefox")>-1&&(r=s.AgentUtils.BROWSER.FIREFOX,i=s.AgentUtils._parseFloatVersion(e,/rv:(\d+[.]\d+)/),l=s.AgentUtils.ENGINE.GECKO,u=s.AgentUtils._parseFloatVersion(e,/gecko\/(\d+)/)),{os:(n=s.AgentUtils._currAgentInfo={hashCode:t,os:o,browser:r,browserVersion:i,deviceType:a,engine:l,engineVersion:u}).os,browser:n.browser,browserVersion:n.browserVersion,deviceType:n.deviceType,engine:n.engine,engineVersion:n.engineVersion,hashCode:n.hashCode}},s.AgentUtils._parseFloatVersion=function(e,t){var n=e.match(t);if(n){var o=n[1];if(o)return parseFloat(o)}return 0},s.ThemeUtils=function(){},s.ThemeUtils.getThemeName=function(){return(s.ThemeUtils.parseJSONFromFontFamily("oj-theme-json")||{}).name},s.ThemeUtils.getThemeTargetPlatform=function(){return(s.ThemeUtils.parseJSONFromFontFamily("oj-theme-json")||{}).targetPlatform},s.ThemeUtils.clearCache=function(){this._cache=null},s.ThemeUtils.parseJSONFromFontFamily=function(e){null==this._cache&&(this._cache={},this._null_cache_value={},this._headfontstring=window.getComputedStyle(document.head).getPropertyValue("font-family"));var t=this._cache[e];if(t===this._null_cache_value)return null;if(null!=t)return t;var n=document.createElement("meta");n.className=e,document.head.appendChild(n);var o=window.getComputedStyle(n).getPropertyValue("font-family");if(null!=o)if(o==this._headfontstring)s.Logger.warn("parseJSONFromFontFamily: When the selector ",e," is applied the font-family read off the dom element is ",o,". The parent dom elment has the same font-family value."," This is interpreted to mean that no value was sent down for selector ",e,". Null will be returned.");else{var r=o.replace(/^['"]+|\s+|\\|(;\s?})+|['"]$/g,"");if(r)try{t=JSON.parse(r)}catch(o){var i=r.indexOf(","),a=!1;if(i>-1){r=r.substring(i+2);try{t=JSON.parse(r),a=!0}catch(e){}}if(0==a)throw s.Logger.error("Error parsing json for selector "+e+".\nString being parsed is "+r+". Error is:\n",o),document.head.removeChild(n),o}}return document.head.removeChild(n),this._cache[e]=null==t?this._null_cache_value:t,t},s.ResponsiveUtils=function(){},s.ResponsiveUtils.SCREEN_RANGE={SM:"sm",MD:"md",LG:"lg",XL:"xl",XXL:"xxl"},s.ResponsiveUtils.FRAMEWORK_QUERY_KEY={SM_UP:"sm-up",MD_UP:"md-up",LG_UP:"lg-up",XL_UP:"xl-up",XXL_UP:"xxl-up",SM_ONLY:"sm-only",MD_ONLY:"md-only",LG_ONLY:"lg-only",XL_ONLY:"xl-only",MD_DOWN:"md-down",LG_DOWN:"lg-down",XL_DOWN:"xl-down",HIGH_RESOLUTION:"high-resolution"},s.ResponsiveUtils._RANGE={},s.ResponsiveUtils._RANGE[s.ResponsiveUtils.SCREEN_RANGE.SM]=0,s.ResponsiveUtils._RANGE[s.ResponsiveUtils.SCREEN_RANGE.MD]=1,s.ResponsiveUtils._RANGE[s.ResponsiveUtils.SCREEN_RANGE.LG]=2,s.ResponsiveUtils._RANGE[s.ResponsiveUtils.SCREEN_RANGE.XL]=3,s.ResponsiveUtils._RANGE[s.ResponsiveUtils.SCREEN_RANGE.XXL]=4,s.ResponsiveUtils._getMediaQueryFromClass=function(e){var t=document.getElementsByClassName(e).item(0);return null===t&&((t=document.createElement("meta")).className=e,document.head.appendChild(t)),window.getComputedStyle(t).getPropertyValue("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},s.ResponsiveUtils.getFrameworkQuery=function(e){var t="oj-mq-"+e,n=s.ResponsiveUtils._getMediaQueryFromClass(t);return"null"==n?null:n},s.ResponsiveUtils.compare=function(e,t){var n=s.ResponsiveUtils._RANGE[e],o=s.ResponsiveUtils._RANGE[t];if(null==n)throw"size1 param "+e+" illegal, please use one of the screen size constants like oj.ResponsiveUtils.SCREEN_RANGE.MD";if(null==o)throw"size2 param "+t+" illegal, please use one of the screen size constants like oj.ResponsiveUtils.SCREEN_RANGE.MD";return n-o},s.StringUtils={},s.StringUtils._TRIM_ALL_RE=/^\s*|\s*$/g,s.StringUtils.isEmpty=function(e){return null===e||0===s.StringUtils.trim(e).length},s.StringUtils.isEmptyOrUndefined=function(e){return!(void 0!==e&&!s.StringUtils.isEmpty(e))},s.StringUtils.isString=function(e){return null!==e&&("string"==typeof e||e instanceof String)},s.StringUtils.trim=function(e){return s.StringUtils.isString(e)?e.replace(s.StringUtils._TRIM_ALL_RE,""):e},s.StringUtils.hashCode=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t},String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var o=n.lastIndexOf(e,t);return-1!==o&&o===t}),s.CollectionUtils={},s.CollectionUtils.copyInto=function(e,t,n,o,r){return s.CollectionUtils._copyIntoImpl(e,t,n,o,r,0)},s.CollectionUtils.isPlainObject=function(e){if(null!==e&&"object"==typeof e)try{if(e.constructor&&e.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!0}catch(e){}return!1},s.CollectionUtils._copyIntoImpl=function(e,t,n,o,r,i){var a,l,u;if(null==r&&(r=Number.MAX_VALUE),e&&t&&e!==t){u=Object.keys(t);for(var c=0;c<u.length;c++){a=u[c],l=n?n(a):a;var g=t[a],d=!1;if(o&&i<r){var p=e[l];s.CollectionUtils.isPlainObject(g)&&(null==p||s.CollectionUtils.isPlainObject(p))&&(d=!0,e[l]=p||{},s.CollectionUtils._copyIntoImpl(e[l],g,n,!0,r,i+1))}d||(e[l]=g)}}return e},s.Translations={},s.Translations.setBundle=function(e){s.Translations._bundle=e},s.Translations.getResource=function(e){return s.Translations._getResourceString(e)},s.Translations.applyParameters=function(e,t){return null==e?null:s.Translations._format(e,t)},s.Translations.getTranslatedString=function(e,t){var n=s.Translations._getResourceString(e);if(null==n)return e;var o={};return arguments.length>2?o=Array.prototype.slice.call(arguments,1):2==arguments.length&&("object"==typeof(o=arguments[1])||o instanceof Array||(o=[o])),s.Translations.applyParameters(n,o)},s.Translations.getComponentTranslations=function(e){var t,n,o=s.Translations._getBundle()[e];if(null==o)return{};for(n in t={},o)o.hasOwnProperty(n)&&(t[n]=o[n]);return t},s.Translations._getResourceString=function(e){var t=e?e.split("."):[],n=s.Translations._getBundle(),o=t.length,r=0,i=t[r];for(s.Assert.assertObject(n);--o>0&&n;)n=n[i],i=t[++r];return n&&n[i]||null},s.Translations._format=function(e,t){var n,o,r=e.length,s=[],i=null,a=!1,l=!1,u=!1,c=!1;for(o=0;o<r;o++){var g=e.charAt(o),d=!1;if(a)d=!0,a=!1;else switch(g){case"$":a=!0;break;case"{":c||(l||(n=!1,i=[]),l=!0);break;case"}":if(l&&i.length>0){var p=t[i.join("")];s.push(void 0===p?"null":p)}l=!1;break;case"[":l||(u?c=!0:u=!0);break;case"]":c?c=!1:u=!1;break;default:d=!0}d&&(l?","==g||" "==g?n=!0:n||i.push(g):c||s.push(g))}return s.join("")},s.Translations._getBundle=function(){return s.Translations._bundle||(s.__isAmdLoaderPresent()?(s.Assert.assert(void 0!==t,"ojtranslations module must be defined"),t):{})},s.BusyState=function(e){this._description=e,this._addedWaitTs=s.BusyState._getTs(),this._id=this._addedWaitTs.toString(36)+"_"+Math.random().toString(36)},Object.defineProperties(s.BusyState.prototype,{id:{get:function(){return this._id},enumerable:!0},description:{get:function(){if(this._description)return this._description instanceof Function?this._description():this._description.toString()},enumerable:!0}}),s.BusyState.prototype.toString=function(){var e="Busy state: [description=",t=this.description;return null!==t&&(e+=t),e+", elapsed="+(s.BusyState._getTs()-this._addedWaitTs)+"]"},s.BusyState._getTs=function(){return window.performance?window.performance.now():(new Date).getTime()},s.BusyContext=function(e){this.Init(e)},s.Object.createSubclass(s.BusyContext,s.Object,"oj.BusyContext"),s.BusyContext._defaultTimeout=Number.NaN,s.BusyContext.setDefaultTimeout=function(e){isNaN(e)||(s.BusyContext._defaultTimeout=e)},s.BusyContext.prototype.Init=function(e){s.BusyContext.superclass.Init.call(this),this._hostNode=e,this._statesMap=new Map,this._mediator={getMasterWhenReadyPromise:function(){return this._masterWhenReadyPromise||(this._masterWhenReadyPromise=new Promise(this._captureWhenReadyPromiseResolver.bind(this))),this._masterWhenReadyPromise},resolveMasterWhenReadyPromise:function(){this._masterWhenReadyPromiseResolver&&this._masterWhenReadyPromiseResolver(!0),this._masterWhenReadyPromise=null,this._masterWhenReadyPromiseResolver=null},getSlaveTimeoutPromise:function(e,t,n){var o,r=new Promise(function(e,r){o=window.setTimeout(function(){r(t())},n)});return this._slaveTimeoutPromiseTimers.push(o),Promise.race([e,r]).then(this._clearAllSlaveTimeouts.bind(this))},getNextTickPromise:function(){return this._nextTickPromise||(this._nextTickPromise=new Promise(function(e){window.setImmediate(function(){this._nextTickPromise=null,e(!0)}.bind(this))}.bind(this))),this._nextTickPromise},_clearAllSlaveTimeouts:function(){var e=this._slaveTimeoutPromiseTimers;this._slaveTimeoutPromiseTimers=[];for(var t=0;t<e.length;t++)window.clearTimeout(e[t]);return!0},_captureWhenReadyPromiseResolver:function(e,t){this._masterWhenReadyPromiseResolver=e},_slaveTimeoutPromiseTimers:[]}},s.BusyContext._log=function(e){if(s.Logger.option("level")===s.Logger.LEVEL_LOG){s.Logger.log(">> Busy states: %d",e.size);var t=s.BusyContext._values(e);t.length>0&&s.Logger.log(t.join("\n"))}},s.BusyContext._values=function(e){var t=[];return e.forEach(function(e){t.push(e)}),t},s.BusyContext.prototype.addBusyState=function(e){s.Logger.log("BusyContext.addBusyState: start scope='%s'",this._getDebugScope());var t=this._statesMap,n=new s.BusyState(e[s.BusyContext._DESCRIPTION]);return s.Logger.log(">> "+n),t.set(n.id,n),this._addBusyStateToParent(),s.Logger.log("BusyContext.addBusyState: end scope='%s'",this._getDebugScope()),this._removeBusyState.bind(this,n)},s.BusyContext.prototype.dump=function(e){s.Logger.info("BusyContext.dump: start scope='%s' %s",this._getDebugScope(),e||"");var t=this._statesMap;s.Logger.info(">> Busy states: %d",t.size);var n=s.BusyContext._values(t);n.length>0&&s.Logger.info(n.join("\n")),s.Logger.info("BusyContext.dump: start scope='%s' %s",this._getDebugScope(),e||"")},s.BusyContext.prototype.getBusyStates=function(){var e=this._statesMap;return s.BusyContext._values(e)},s.BusyContext.prototype.clear=function(){s.Logger.log("BusyContext.clear: start scope='%s'",this._getDebugScope());for(var e=this._statesMap,t=s.BusyContext._values(e),n=0;n<t.length;n++){var o=t[n];try{this._removeBusyState(o)}catch(e){s.Logger.log("BusyContext.clear: %o",e)}Object.defineProperty(o,s.BusyContext._OJ_RIP,{value:!0,enumerable:!1})}s.Logger.log("BusyContext.clear: end scope='%s'",this._getDebugScope())},s.BusyContext.prototype.whenReady=function(e){var t=this._getDebugScope();s.Logger.log("BusyContext.whenReady: start, scope='%s', timeout=%d",t,e);var n=this._statesMap,o=this._mediator,r=o.getNextTickPromise(),i=s.BusyContext._BOOTSTRAP_MEDIATOR.whenReady(),a=Promise.all([r,i]).then(function(){return s.Logger.log("BusyContext.whenReady: bootstrap mediator ready scope=%s",t),s.BusyContext._deliverThrottledUpdates(),0!==n.size||this._waitingOnNextTickBusynessEval?(s.Logger.log("BusyContext.whenReady: busy states returning master scope=%s",t),o.getMasterWhenReadyPromise()):(s.Logger.log("BusyContext.whenReady: resolved no busy states scope=%s",t),Promise.resolve(!0))}.bind(this));return isNaN(e)&&!isNaN(s.BusyContext._defaultTimeout)&&(e=s.BusyContext._defaultTimeout),isNaN(e)||(a=o.getSlaveTimeoutPromise(a,function(){var o,r="whenReady timeout of "+e+"ms expired ";s.BusyContext._log(n);var i=s.BusyContext._values(n);return(o=s.BusyContext._BOOTSTRAP_MEDIATOR.isReady()?new Error(r+"with the following busy states: "+i.join(", ")):new Error(r+'while the application is loading. Busy state enabled by setting the "window.oj_whenReady = true;" global variable. Application bootstrap busy state is released by calling "oj.Context.getPageContext().getBusyContext().applicationBootstrapComplete();".')).busyStates=i,s.Logger.log("BusyContext.whenReady: rejected scope='%s'\n%s",t,o.message),o},e)),s.Logger.log("BusyContext.whenReady: end scope='%s'",this._getDebugScope()),a},s.BusyContext.prototype.isReady=function(){s.Logger.log("BusyContext.isReady: start scope='%s'",this._getDebugScope());var e=!1;if(s.BusyContext._BOOTSTRAP_MEDIATOR.isReady()&&!this._waitingOnNextTickBusynessEval){var t=this._statesMap;e=0===t.size,s.BusyContext._log(t)}return s.Logger.log("BusyContext.isReady: end scope='%s'",this._getDebugScope()),e},s.BusyContext.prototype._removeBusyState=function(e){var t=this._getDebugScope();s.Logger.log("BusyContext._removeBusyState: start scope='%s'",t);var n=this._statesMap;if(e[s.BusyContext._OJ_RIP])s.Logger.log("Busy state has been forcefully resolved via clear:\n"+e);else{if(!n.delete(e.id))throw new Error("Busy state has already been resolved:\n"+e);0!==n.size||this._waitingOnNextTickBusynessEval?s.Logger.log("BusyContext._removeBusyState: resolving busy state:\n"+e):(this._waitingOnNextTickBusynessEval=!0,window.setImmediate(this._evalBusyness.bind(this))),s.Logger.log("BusyContext._removeBusyState: end scope='%s'",t)}},s.BusyContext.prototype._evalBusyness=function(){var e=this._getDebugScope();s.Logger.log("BusyContext._evalBusyness: begin scope='%s'",e),s.BusyContext._deliverThrottledUpdates();var t=this._statesMap,n=this._mediator;0===t.size?(s.Logger.log("BusyContext._evalBusyness: resolving whenReady promises"),n.resolveMasterWhenReadyPromise(),this._resolveBusyStateForParent()):s.BusyContext._log(t),this._waitingOnNextTickBusynessEval=!1,
s.Logger.log("BusyContext._evalBusyness: end scope='%s'",e)},s.BusyContext.prototype.applicationBootstrapComplete=function(){var e=this._getDebugScope();s.Logger.log("BusyContext.applicationBootstrapComplete: begin scope='%s'",e),s.BusyContext._BOOTSTRAP_MEDIATOR.notifyComplete(),s.Logger.log("BusyContext.applicationBootstrapComplete: end scope='%s'",e)},s.BusyContext.prototype._getParentBusyContext=function(){if(this._hostNode){var e=s.Context.getContext(s.Context.getParentElement(this._hostNode));if(e)return e.getBusyContext()}return null},s.BusyContext.prototype._addBusyStateToParent=function(){if(!this._parentNotified){this._parentNotified=!0;var e=this._getParentBusyContext();if(e){var t={};t[s.BusyContext._DESCRIPTION]=this._getCompoundDescription.bind(this),this._parentResolveCallback=e.addBusyState(t)}}},s.BusyContext.prototype._resolveBusyStateForParent=function(){this._parentNotified=!1,this._parentResolveCallback&&(this._parentResolveCallback(),this._parentResolveCallback=null)},s.BusyContext.prototype._getCompoundDescription=function(){return"["+s.BusyContext._values(this._statesMap).join(", ")+"]"},s.BusyContext.prototype._getDebugScope=function(){function e(e){var t="undefined";if(e)if(e.id&&e.id.length>0)t="#"+e.id;else{t=e.nodeName,e.hasAttribute("data-oj-context")&&(t+="[data-oj-context]");var n=e.getAttribute("class");n&&(t+="."+n.split(" ").join("."))}return t}return this._debugScope||(this._hostNode?this._debugScope=e(this._hostNode.parentElement)+" > "+e(this._hostNode):this._debugScope="page"),this._debugScope},s.BusyContext.prototype.toString=function(){var e="Busy Context: [scope=";return(e+=this._getDebugScope())+" states="+this._getCompoundDescription()+"]"},s.BusyContext._deliverThrottledUpdates=function(){s.ComponentBinding&&s.ComponentBinding.deliverChanges()},s.BusyContext._DESCRIPTION="description",s.BusyContext._OJ_RIP="__ojRip",s.BusyContext._BOOTSTRAP_MEDIATOR=new function(){var e,t,n;"undefined"!=typeof window&&(e=window.oj_whenReady),this.whenReady=function(){return t||(t=e?new Promise(function(e,t){n=e}):Promise.resolve(!0))},this.isReady=function(){return!e},this.notifyComplete=function(){n?window.setImmediate(function(){e=!1,n(!0),n=null}):e=!1}},s.Context=function(e){this.Init(e)},s.Object.createSubclass(s.Context,s.Object,"oj.Context"),s.Context.prototype.Init=function(e){s.Context.superclass.Init.call(this),this._node=e},s.Context.getContext=function(e){for(;e;){var t=e[s.Context._OJ_CONTEXT_INSTANCE];if(t)return t;if(e.hasAttribute(s.Context._OJ_CONTEXT_ATTRIBUTE))return t=new s.Context(e),Object.defineProperty(e,s.Context._OJ_CONTEXT_INSTANCE,{value:t}),t;e=s.Context.getParentElement(e)}return s.Context.getPageContext()},s.Context.getPageContext=function(){return s.Context._pageContext||(s.Context._pageContext=new s.Context),s.Context._pageContext},s.Context.prototype.getBusyContext=function(){return this._busyContext||(this._busyContext=new s.BusyContext(this._node)),this._busyContext},s.Context._OJ_CONTEXT_ATTRIBUTE="data-oj-context",s.Context._OJ_CONTEXT_INSTANCE="__ojContextInstance",s.Context._OJ_SURROGATE_ATTR="data-oj-surrogate-id",s.Context.getParentElement=function(e){if(e&&e.hasAttribute(s.Context._OJ_SURROGATE_ATTR)){var t=document.getElementById(e.getAttribute(s.Context._OJ_SURROGATE_ATTR));if(t)return t.parentElement}return e.parentElement},function(){s.__AttributeUtils={},s.__AttributeUtils.getExpressionInfo=function(e){var t={};if(e){var n=e.trim(),o=r.exec(n);(o=o?o[1]:null)||(t.downstreamOnly=!0,o=(o=i.exec(n))?o[1]:null),t.expr=o}return t},s.__AttributeUtils.attributeToPropertyName=function(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})},s.__AttributeUtils.propertyNameToAttribute=function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})},s.__AttributeUtils.eventTypeToEventListenerProperty=function(e){return"on"+e.substr(0,1).toUpperCase()+e.substr(1)},s.__AttributeUtils.eventListenerPropertyToEventType=function(e){return/^on[A-Z]/.test(e)?e.substr(2,1).toLowerCase()+e.substr(3):null},s.__AttributeUtils.propertyNameToChangeEventType=function(e){return e+"Changed"},s.__AttributeUtils.changeEventTypeToPropertyName=function(e){return/Changed$/.test(e)?e.substr(0,e.length-7):null},s.__AttributeUtils.eventTriggerToEventType=function(e){return"oj"+e.substr(0,1).toUpperCase()+e.substr(1)},s.__AttributeUtils.eventTypeToEventTrigger=function(e){return/^oj[A-Z]/.test(e)?e.substr(2,1).toLowerCase()+e.substr(3):null},s.__AttributeUtils.coerceValue=function(r,s,i,a){if(!a)throw"Unable to parse "+s+"='"+i+"' for "+r.tagName+" with id "+r.id+" . This attribute only supports data bound values. Check the API doc for supported types";var l=a.toLowerCase(),u=n.test(i),c=o.test(i);if(e.test(l)&&u||t.test(l)&&c||"any"===l&&(u||c))try{return JSON.parse(i)}catch(e){throw"Unable to parse "+s+"='"+i+"' for "+r.tagName+" with id "+r.id+" to a JSON Object. Check the value for correct JSON syntax, e.g. double quoted strings. "+e}else if("boolean"===l){if(null==i||"true"===i||""===i||i.toLowerCase()===s)return!0;if("false"===i)return!1}else if("number"===l){if(!isNaN(i))return Number(i)}else if(-1!==a.split("|").indexOf("string")||"any"===l)return i;throw"Unable to parse "+s+"='"+i+"' for "+r.tagName+" with id "+r.id+" to a "+a+"."};var e=/(^array)|(\|array)/,t=/(^object)|(\|object)/,n=/\s*\[[^]*\]\s*/,o=/\s*\{[^]*\}\s*/,r=/^(?:\{\{)([^]+)(?:\}\})$/,i=/^(?:\[\[)([^]+)(?:\]\])$/}(),"undefined"!=typeof window&&window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),o=this;do{for(t=n.length;--t>=0&&n.item(t)!==o;);}while(t<0&&(o=o.parentElement));return o}),s.__HtmlUtils=(a=function(e){for(var t=e.childNodes,n=t.length,o=0;o<n;o++){var r=t[o];a(r);var s=r.nodeName.toLowerCase();if("oj-bind-replace-"===s.substr(0,16)){for(var i=s.substr(16),l=document.createElement(i),u=0;u<r.attributes.length;u++){var c=r.attributes[u];l.setAttribute(c.name,c.value)}var g=l.content?l.content:l;for(u=0;r.childNodes.length>0;)g.appendChild(r.childNodes[0]);e.replaceChild(l,r)}else if("script"===s||"style"===s){for(l=document.createElement(s),u=0;u<r.attributes.length;u++)c=r.attributes[u],l.setAttribute(c.name,c.value);var d=r.innerHTML;l.innerHTML=d.replace(new RegExp("oj-bind-replace-","g"),""),e.replaceChild(l,r)}else if(8===r.nodeType){var p=r.nodeValue;r.nodeValue=p.replace(new RegExp("oj-bind-replace-","g"),"")}}},{stringToNodeArray:function(e){for(var t,n,o,r,s=["table","caption","colgroup","col","thead","tfoot","th","tbody","tr","td","template"],i=0;i<s.length;i++)t=s[i],n=e,o=new RegExp("<"+t+"(?=\\s|>)","gi"),r=new RegExp("</"+t+"(?=\\s|>)","gi"),e=n.replace(o,"<oj-bind-replace-"+t).replace(r,"</oj-bind-replace-"+t);var l=document.createElement("div");l.innerHTML=e,-1!==e.indexOf("<oj-bind-replace-")&&a(l);var u=l.childNodes,c=[];for(i=u.length;i--;c.unshift(u[i]));return c}}),s.TimerUtils={},u.prototype.getPromise=function(){},u.prototype.clear=function(){},s.TimerUtils.getTimer=function(e){return new s.TimerUtils._TimerImpl(e)},s.TimerUtils._TimerImpl=function(e){var t,n,o;function r(e){o=null,n(e)}this.getPromise=function(){return t},this.clear=function(){window.clearTimeout(o),o=null,r(!1)},t="undefined"==typeof window?Promise.reject():new Promise(function(t){n=t,o=window.setTimeout(r.bind(null,!0),e)})},s});
!function(e){var n=this||(0,eval)("this"),t=n.document,a=n.navigator,r=n.jQuery,i=n.JSON;!function(e){"function"==typeof define&&define.amd?define('knockout',["exports","require"],e):"object"==typeof exports&&"object"==typeof module?e(module.exports||exports):e(n.ko={})}(function(o,u){function c(e,n){return(null===e||typeof e in k)&&e===n}function s(n,t){var a;return function(){a||(a=x.a.setTimeout(function(){a=e,n()},t))}}function l(e,n){var t;return function(){clearTimeout(t),t=x.a.setTimeout(e,n)}}function f(e,n){n&&n!==E?"beforeChange"===n?this.Ob(e):this.Ja(e,n):this.Pb(e)}function d(e,n){null!==n&&n.k&&n.k()}function p(e,n){var t=this.Mc,a=t[_];a.T||(this.ob&&this.Oa[n]?(t.Sb(n,e,this.Oa[n]),this.Oa[n]=null,--this.ob):a.s[n]||t.Sb(n,e,a.t?{$:e}:t.yc(e)),e.Ha&&e.Hc())}function h(e,n,t,a){x.d[e]={init:function(e,r,i,o,u){var c,s;return x.m(function(){var i=r(),o=x.a.c(i),l=(o=!t!=!o,!s);(l||n||o!==c)&&(l&&x.xa.Ca()&&(s=x.a.wa(x.f.childNodes(e),!0)),o?(l||x.f.fa(e,x.a.wa(s)),x.hb(a?a(u,i):u,e)):x.f.za(e),c=o)},null,{i:e}),{controlsDescendantBindings:!0}}},x.h.va[e]=!1,x.f.aa[e]=!0}var b,v,g,m,y,w,x=void 0!==o?o:{};x.b=function(e,n){for(var t=e.split("."),a=x,r=0;r<t.length-1;r++)a=a[t[r]];a[t[t.length-1]]=n},x.H=function(e,n,t){e[n]=t},x.version="3.4.2",x.b("version",x.version),x.options={deferUpdates:!1,useOnlyNativeEvents:!1},x.a=function(){function o(e,n){for(var t in e)e.hasOwnProperty(t)&&n(t,e[t])}function u(e,n){if(n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function c(e,n){return e.__proto__=n,e}function s(e,n,t,a){var r=e[n].match(v)||[];x.a.r(t.match(v),function(e){x.a.ra(r,e,a)}),e[n]=r.join(" ")}var l={__proto__:[]}instanceof Array,f="function"==typeof Symbol,d={},p={};d[a&&/Firefox\/2/i.test(a.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],d.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),o(d,function(e,n){if(n.length)for(var t=0,a=n.length;t<a;t++)p[n[t]]=e});var h={propertychange:!0},b=t&&function(){for(var n=3,a=t.createElement("div"),r=a.getElementsByTagName("i");a.innerHTML="\x3c!--[if gt IE "+ ++n+"]><i></i><![endif]--\x3e",r[0];);return 4<n?n:e}(),v=/\S+/g;return{gc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],r:function(e,n){for(var t=0,a=e.length;t<a;t++)n(e[t],t)},o:function(e,n){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,n);for(var t=0,a=e.length;t<a;t++)if(e[t]===n)return t;return-1},Vb:function(e,n,t){for(var a=0,r=e.length;a<r;a++)if(n.call(t,e[a],a))return e[a];return null},Na:function(e,n){var t=x.a.o(e,n);0<t?e.splice(t,1):0===t&&e.shift()},Wb:function(e){for(var n=[],t=0,a=(e=e||[]).length;t<a;t++)0>x.a.o(n,e[t])&&n.push(e[t]);return n},ib:function(e,n){for(var t=[],a=0,r=(e=e||[]).length;a<r;a++)t.push(n(e[a],a));return t},Ma:function(e,n){for(var t=[],a=0,r=(e=e||[]).length;a<r;a++)n(e[a],a)&&t.push(e[a]);return t},ta:function(e,n){if(n instanceof Array)e.push.apply(e,n);else for(var t=0,a=n.length;t<a;t++)e.push(n[t]);return e},ra:function(e,n,t){var a=x.a.o(x.a.Bb(e),n);0>a?t&&e.push(n):t||e.splice(a,1)},la:l,extend:u,$a:c,ab:l?c:u,D:o,Ea:function(e,n){if(!e)return e;var t,a={};for(t in e)e.hasOwnProperty(t)&&(a[t]=n(e[t],t,e));return a},rb:function(e){for(;e.firstChild;)x.removeNode(e.firstChild)},nc:function(e){for(var n=((e=x.a.W(e))[0]&&e[0].ownerDocument||t).createElement("div"),a=0,r=e.length;a<r;a++)n.appendChild(x.ba(e[a]));return n},wa:function(e,n){for(var t=0,a=e.length,r=[];t<a;t++){var i=e[t].cloneNode(!0);r.push(n?x.ba(i):i)}return r},fa:function(e,n){if(x.a.rb(e),n)for(var t=0,a=n.length;t<a;t++)e.appendChild(n[t])},uc:function(e,n){var t=e.nodeType?[e]:e;if(0<t.length){for(var a=t[0],r=a.parentNode,i=0,o=n.length;i<o;i++)r.insertBefore(n[i],a);for(i=0,o=t.length;i<o;i++)x.removeNode(t[i])}},Ba:function(e,n){if(e.length){for(n=8===n.nodeType&&n.parentNode||n;e.length&&e[0].parentNode!==n;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==n;)e.length--;if(1<e.length){var t=e[0],a=e[e.length-1];for(e.length=0;t!==a;)e.push(t),t=t.nextSibling;e.push(a)}}return e},wc:function(e,n){7>b?e.setAttribute("selected",n):e.selected=n},cb:function(n){return null===n||n===e?"":n.trim?n.trim():n.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},sd:function(e,n){return e=e||"",!(n.length>e.length)&&e.substring(0,n.length)===n},Rc:function(e,n){if(e===n)return!0;if(11===e.nodeType)return!1;if(n.contains)return n.contains(3===e.nodeType?e.parentNode:e);if(n.compareDocumentPosition)return 16==(16&n.compareDocumentPosition(e));for(;e&&e!=n;)e=e.parentNode;return!!e},qb:function(e){return x.a.Rc(e,e.ownerDocument.documentElement)},Tb:function(e){return!!x.a.Vb(e,x.a.qb)},A:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},Zb:function(e){return x.onError?function(){try{return e.apply(this,arguments)}catch(e){throw x.onError&&x.onError(e),e}}:e},setTimeout:function(e,n){return setTimeout(x.a.Zb(e),n)},dc:function(e){setTimeout(function(){throw x.onError&&x.onError(e),e},0)},q:function(e,n,t){var a=x.a.Zb(t);if(t=b&&h[n],x.options.useOnlyNativeEvents||t||!r)if(t||"function"!=typeof e.addEventListener){if(void 0===e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var i=function(n){a.call(e,n)},o="on"+n;e.attachEvent(o,i),x.a.G.qa(e,function(){e.detachEvent(o,i)})}else e.addEventListener(n,a,!1);else r(e).bind(n,a)},Fa:function(e,a){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var i;if(i=!("input"!==x.a.A(e)||!e.type||"click"!=a.toLowerCase())&&("checkbox"==(i=e.type)||"radio"==i),x.options.useOnlyNativeEvents||!r||i)if("function"==typeof t.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(i=t.createEvent(p[a]||"HTMLEvents")).initEvent(a,!0,!0,n,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(i)}else if(i&&e.click)e.click();else{if(void 0===e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+a)}else r(e).trigger(a)},c:function(e){return x.I(e)?e():e},Bb:function(e){return x.I(e)?e.p():e},fb:function(e,n,t){var a;n&&("object"==typeof e.classList?(a=e.classList[t?"add":"remove"],x.a.r(n.match(v),function(n){a.call(e.classList,n)})):"string"==typeof e.className.baseVal?s(e.className,"baseVal",n,t):s(e,"className",n,t))},bb:function(n,t){var a=x.a.c(t);null!==a&&a!==e||(a="");var r=x.f.firstChild(n);!r||3!=r.nodeType||x.f.nextSibling(r)?x.f.fa(n,[n.ownerDocument.createTextNode(a)]):r.data=a,x.a.Wc(n)},vc:function(e,n){if(e.name=n,7>=b)try{e.mergeAttributes(t.createElement("<input name='"+e.name+"'/>"),!1)}catch(e){}},Wc:function(e){9<=b&&(e=1==e.nodeType?e:e.parentNode).style&&(e.style.zoom=e.style.zoom)},Sc:function(e){if(b){var n=e.style.width;e.style.width=0,e.style.width=n}},nd:function(e,n){e=x.a.c(e),n=x.a.c(n);for(var t=[],a=e;a<=n;a++)t.push(a);return t},W:function(e){for(var n=[],t=0,a=e.length;t<a;t++)n.push(e[t]);return n},bc:function(e){return f?Symbol(e):e},xd:6===b,yd:7===b,C:b,ic:function(e,n){for(var t=x.a.W(e.getElementsByTagName("input")).concat(x.a.W(e.getElementsByTagName("textarea"))),a="string"==typeof n?function(e){return e.name===n}:function(e){return n.test(e.name)},r=[],i=t.length-1;0<=i;i--)a(t[i])&&r.push(t[i]);return r},kd:function(e){return"string"==typeof e&&(e=x.a.cb(e))?i&&i.parse?i.parse(e):new Function("return "+e)():null},Gb:function(e,n,t){if(!i||!i.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return i.stringify(x.a.c(e),n,t)},ld:function(e,n,a){var r=(a=a||{}).params||{},i=a.includeFields||this.gc,u=e;if("object"==typeof e&&"form"===x.a.A(e)){u=e.action;for(var c=i.length-1;0<=c;c--)for(var s=x.a.ic(e,i[c]),l=s.length-1;0<=l;l--)r[s[l].name]=s[l].value}n=x.a.c(n);var f=t.createElement("form");for(var d in f.style.display="none",f.action=u,f.method="post",n)(e=t.createElement("input")).type="hidden",e.name=d,e.value=x.a.Gb(x.a.c(n[d])),f.appendChild(e);o(r,function(e,n){var a=t.createElement("input");a.type="hidden",a.name=e,a.value=n,f.appendChild(a)}),t.body.appendChild(f),a.submitter?a.submitter(f):f.submit(),setTimeout(function(){f.parentNode.removeChild(f)},0)}}}(),x.b("utils",x.a),x.b("utils.arrayForEach",x.a.r),x.b("utils.arrayFirst",x.a.Vb),x.b("utils.arrayFilter",x.a.Ma),x.b("utils.arrayGetDistinctValues",x.a.Wb),x.b("utils.arrayIndexOf",x.a.o),x.b("utils.arrayMap",x.a.ib),x.b("utils.arrayPushAll",x.a.ta),x.b("utils.arrayRemoveItem",x.a.Na),x.b("utils.extend",x.a.extend),x.b("utils.fieldsIncludedWithJsonPost",x.a.gc),x.b("utils.getFormFields",x.a.ic),x.b("utils.peekObservable",x.a.Bb),x.b("utils.postJson",x.a.ld),x.b("utils.parseJson",x.a.kd),x.b("utils.registerEventHandler",x.a.q),x.b("utils.stringifyJson",x.a.Gb),x.b("utils.range",x.a.nd),x.b("utils.toggleDomNodeCssClass",x.a.fb),x.b("utils.triggerEvent",x.a.Fa),x.b("utils.unwrapObservable",x.a.c),x.b("utils.objectForEach",x.a.D),x.b("utils.addOrRemoveItem",x.a.ra),x.b("utils.setTextContent",x.a.bb),x.b("unwrap",x.a.c),Function.prototype.bind||(Function.prototype.bind=function(e){var n=this;if(1===arguments.length)return function(){return n.apply(e,arguments)};var t=Array.prototype.slice.call(arguments,1);return function(){var a=t.slice(0);return a.push.apply(a,arguments),n.apply(e,a)}}),x.a.e=new function(){function n(n,i){var o=n[a];if(!o||"null"===o||!r[o]){if(!i)return e;o=n[a]="ko"+t++,r[o]={}}return r[o]}var t=0,a="__ko__"+(new Date).getTime(),r={};return{get:function(t,a){var r=n(t,!1);return r===e?e:r[a]},set:function(t,a,r){r===e&&n(t,!1)===e||(n(t,!0)[a]=r)},clear:function(e){var n=e[a];return!!n&&(delete r[n],e[a]=null,!0)},J:function(){return t+++a}}},x.b("utils.domData",x.a.e),x.b("utils.domData.clear",x.a.e.clear),x.a.G=new function(){function n(n,t){var r=x.a.e.get(n,a);return r===e&&t&&(r=[],x.a.e.set(n,a,r)),r}function t(e){if(a=n(e,!1))for(var a=a.slice(0),r=0;r<a.length;r++)a[r](e);if(x.a.e.clear(e),x.a.G.cleanExternalData(e),o[e.nodeType])for(a=e.firstChild;e=a;)a=e.nextSibling,8===e.nodeType&&t(e)}var a=x.a.e.J(),i={1:!0,8:!0,9:!0},o={1:!0,9:!0};return{qa:function(e,t){if("function"!=typeof t)throw Error("Callback must be a function");n(e,!0).push(t)},tc:function(t,r){var i=n(t,!1);i&&(x.a.Na(i,r),0==i.length&&x.a.e.set(t,a,e))},ba:function(e){if(i[e.nodeType]&&(t(e),o[e.nodeType])){var n=[];x.a.ta(n,e.getElementsByTagName("*"));for(var a=0,r=n.length;a<r;a++)t(n[a])}return e},removeNode:function(e){x.ba(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){r&&"function"==typeof r.cleanData&&r.cleanData([e])}}},x.ba=x.a.G.ba,x.removeNode=x.a.G.removeNode,x.b("cleanNode",x.ba),x.b("removeNode",x.removeNode),x.b("utils.domNodeDisposal",x.a.G),x.b("utils.domNodeDisposal.addDisposeCallback",x.a.G.qa),x.b("utils.domNodeDisposal.removeDisposeCallback",x.a.G.tc),b=[0,"",""],y={thead:v=[1,"<table>","</table>"],tbody:v,tfoot:v,tr:[2,"<table><tbody>","</tbody></table>"],td:g=[3,"<table><tbody><tr>","</tr></tbody></table>"],th:g,option:m=[1,"<select multiple='multiple'>","</select>"],optgroup:m},w=8>=x.a.C,x.a.na=function(e,a){var i;if(r){if(r.parseHTML)i=r.parseHTML(e,a)||[];else if((i=r.clean([e],a))&&i[0]){for(var o=i[0];o.parentNode&&11!==o.parentNode.nodeType;)o=o.parentNode;o.parentNode&&o.parentNode.removeChild(o)}}else{(i=a)||(i=t),o=i.parentWindow||i.defaultView||n;var u,c=x.a.cb(e).toLowerCase(),s=i.createElement("div");for(u=(c=c.match(/^<([a-z]+)[ >]/))&&y[c[1]]||b,c=u[0],u="ignored<div>"+u[1]+e+u[2]+"</div>","function"==typeof o.innerShiv?s.appendChild(o.innerShiv(u)):(w&&i.appendChild(s),s.innerHTML=u,w&&s.parentNode.removeChild(s));c--;)s=s.lastChild;i=x.a.W(s.lastChild.childNodes)}return i},x.a.Eb=function(n,t){if(x.a.rb(n),null!==(t=x.a.c(t))&&t!==e)if("string"!=typeof t&&(t=t.toString()),r)r(n).html(t);else for(var a=x.a.na(t,n.ownerDocument),i=0;i<a.length;i++)n.appendChild(a[i])},x.b("utils.parseHtmlFragment",x.a.na),x.b("utils.setHtml",x.a.Eb),x.N=function(){var n={};return{yb:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var t=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return n[t]=e,"\x3c!--[ko_memo:"+t+"]--\x3e"},Bc:function(t,a){var r=n[t];if(r===e)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return r.apply(null,a||[]),!0}finally{delete n[t]}},Cc:function(e,n){var t=[];!function e(n,t){if(n)if(8==n.nodeType)null!=(a=x.N.pc(n.nodeValue))&&t.push({Qc:n,hd:a});else if(1==n.nodeType)for(var a=0,r=n.childNodes,i=r.length;a<i;a++)e(r[a],t)}(e,t);for(var a=0,r=t.length;a<r;a++){var i=t[a].Qc,o=[i];n&&x.a.ta(o,n),x.N.Bc(t[a].hd,o),i.nodeValue="",i.parentNode&&i.parentNode.removeChild(i)}},pc:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),x.b("memoization",x.N),x.b("memoization.memoize",x.N.yb),x.b("memoization.unmemoize",x.N.Bc),x.b("memoization.parseMemoText",x.N.pc),x.b("memoization.unmemoizeDomNodeAndDescendants",x.N.Cc),x.Z=function(){function e(){if(i)for(var e,n=i,t=0;u<i;)if(e=r[u++]){if(u>n){if(5e3<=++t){u=i,x.a.dc(Error("'Too much recursion' after processing "+t+" task groups."));break}n=i}try{e()}catch(e){x.a.dc(e)}}}function a(){e(),u=i=r.length=0}var r=[],i=0,o=1,u=0;return{scheduler:n.MutationObserver?function(e){var n=t.createElement("div");return new MutationObserver(e).observe(n,{attributes:!0}),function(){n.classList.toggle("foo")}}(a):t&&"onreadystatechange"in t.createElement("script")?function(e){var n=t.createElement("script");n.onreadystatechange=function(){n.onreadystatechange=null,t.documentElement.removeChild(n),n=null,e()},t.documentElement.appendChild(n)}:function(e){setTimeout(e,0)},Za:function(e){return i||x.Z.scheduler(a),r[i++]=e,o++},cancel:function(e){(e-=o-i)>=u&&e<i&&(r[e]=null)},resetForTesting:function(){var e=i-u;return u=i=r.length=0,e},rd:e}}(),x.b("tasks",x.Z),x.b("tasks.schedule",x.Z.Za),x.b("tasks.runEarly",x.Z.rd),x.Aa={throttle:function(e,n){e.throttleEvaluation=n;var t=null;return x.B({read:e,write:function(a){clearTimeout(t),t=x.a.setTimeout(function(){e(a)},n)}})},rateLimit:function(e,n){var t,a,r;"number"==typeof n?t=n:(t=n.timeout,a=n.method),e.gb=!1,r="notifyWhenChangesStop"==a?l:s,e.Wa(function(e){return r(e,t)})},deferred:function(n,t){if(!0!==t)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");n.gb||(n.gb=!0,n.Wa(function(t){var a,r=!1;return function(){if(!r){x.Z.cancel(a),a=x.Z.Za(t);try{r=!0,n.notifySubscribers(e,"dirty")}finally{r=!1}}}}))},notify:function(e,n){e.equalityComparer="always"==n?null:c}};var k={undefined:1,boolean:1,number:1,string:1};x.b("extenders",x.Aa),x.zc=function(e,n,t){this.$=e,this.jb=n,this.Pc=t,this.T=!1,x.H(this,"dispose",this.k)},x.zc.prototype.k=function(){this.T=!0,this.Pc()},x.K=function(){x.a.ab(this,T),T.ub(this)};var E="change",T={ub:function(e){e.F={change:[]},e.Qb=1},Y:function(e,n,t){var a=this;t=t||E;var r=new x.zc(a,n?e.bind(n):e,function(){x.a.Na(a.F[t],r),a.Ka&&a.Ka(t)});return a.ua&&a.ua(t),a.F[t]||(a.F[t]=[]),a.F[t].push(r),r},notifySubscribers:function(e,n){if((n=n||E)===E&&this.Kb(),this.Ra(n)){var t=n===E&&this.Fc||this.F[n].slice(0);try{x.l.Xb();for(var a,r=0;a=t[r];++r)a.T||a.jb(e)}finally{x.l.end()}}},Pa:function(){return this.Qb},Zc:function(e){return this.Pa()!==e},Kb:function(){++this.Qb},Wa:function(e){var n,t,a,r,i=this,o=x.I(i);i.Ja||(i.Ja=i.notifySubscribers,i.notifySubscribers=f);var u=e(function(){i.Ha=!1,o&&r===i&&(r=i.Mb?i.Mb():i());var e=t||i.Ua(a,r);t=n=!1,e&&i.Ja(a=r)});i.Pb=function(e){i.Fc=i.F[E].slice(0),i.Ha=n=!0,r=e,u()},i.Ob=function(e){n||(a=e,i.Ja(e,"beforeChange"))},i.Hc=function(){i.Ua(a,i.p(!0))&&(t=!0)}},Ra:function(e){return this.F[e]&&this.F[e].length},Xc:function(e){if(e)return this.F[e]&&this.F[e].length||0;var n=0;return x.a.D(this.F,function(e,t){"dirty"!==e&&(n+=t.length)}),n},Ua:function(e,n){return!this.equalityComparer||!this.equalityComparer(e,n)},extend:function(e){var n=this;return e&&x.a.D(e,function(e,t){var a=x.Aa[e];"function"==typeof a&&(n=a(n,t)||n)}),n}};x.H(T,"subscribe",T.Y),x.H(T,"extend",T.extend),x.H(T,"getSubscriptionsCount",T.Xc),x.a.la&&x.a.$a(T,Function.prototype),x.K.fn=T,x.lc=function(e){return null!=e&&"function"==typeof e.Y&&"function"==typeof e.notifySubscribers},x.b("subscribable",x.K),x.b("isSubscribable",x.lc),x.xa=x.l=function(){function e(e){a.push(t),t=e}function n(){t=a.pop()}var t,a=[],r=0;return{Xb:e,end:n,sc:function(e){if(t){if(!x.lc(e))throw Error("Only subscribable things can act as dependencies");t.jb.call(t.Lc,e,e.Gc||(e.Gc=++r))}},w:function(t,a,r){try{return e(),t.apply(a,r||[])}finally{n()}},Ca:function(){if(t)return t.m.Ca()},Va:function(){if(t)return t.Va}}}(),x.b("computedContext",x.xa),x.b("computedContext.getDependenciesCount",x.xa.Ca),x.b("computedContext.isInitial",x.xa.Va),x.b("ignoreDependencies",x.wd=x.l.w);var C=x.a.bc("_latestValue");x.O=function(e){function n(){return 0<arguments.length?(n.Ua(n[C],arguments[0])&&(n.ia(),n[C]=arguments[0],n.ha()),this):(x.l.sc(n),n[C])}return n[C]=e,x.a.la||x.a.extend(n,x.K.fn),x.K.fn.ub(n),x.a.ab(n,N),x.options.deferUpdates&&x.Aa.deferred(n,!0),n};var N={equalityComparer:c,p:function(){return this[C]},ha:function(){this.notifySubscribers(this[C])},ia:function(){this.notifySubscribers(this[C],"beforeChange")}};x.a.la&&x.a.$a(N,x.K.fn);var S=x.O.md="__ko_proto__";N[S]=x.O,x.Qa=function(n,t){return null!==n&&n!==e&&n[S]!==e&&(n[S]===t||x.Qa(n[S],t))},x.I=function(e){return x.Qa(e,x.O)},x.Da=function(e){return!!("function"==typeof e&&e[S]===x.O||"function"==typeof e&&e[S]===x.B&&e.$c)},x.b("observable",x.O),x.b("isObservable",x.I),x.b("isWriteableObservable",x.Da),x.b("isWritableObservable",x.Da),x.b("observable.fn",N),x.H(N,"peek",N.p),x.H(N,"valueHasMutated",N.ha),x.H(N,"valueWillMutate",N.ia),x.ma=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=x.O(e),x.a.ab(e,x.ma.fn),e.extend({trackArrayChanges:!0})},x.ma.fn={remove:function(e){for(var n=this.p(),t=[],a="function"!=typeof e||x.I(e)?function(n){return n===e}:e,r=0;r<n.length;r++){var i=n[r];a(i)&&(0===t.length&&this.ia(),t.push(i),n.splice(r,1),r--)}return t.length&&this.ha(),t},removeAll:function(n){if(n===e){var t=this.p(),a=t.slice(0);return this.ia(),t.splice(0,t.length),this.ha(),a}return n?this.remove(function(e){return 0<=x.a.o(n,e)}):[]},destroy:function(e){var n=this.p(),t="function"!=typeof e||x.I(e)?function(n){return n===e}:e;this.ia();for(var a=n.length-1;0<=a;a--)t(n[a])&&(n[a]._destroy=!0);this.ha()},destroyAll:function(n){return n===e?this.destroy(function(){return!0}):n?this.destroy(function(e){return 0<=x.a.o(n,e)}):[]},indexOf:function(e){var n=this();return x.a.o(n,e)},replace:function(e,n){var t=this.indexOf(e);0<=t&&(this.ia(),this.p()[t]=n,this.ha())}},x.a.la&&x.a.$a(x.ma.fn,x.O.fn),x.a.r("pop push reverse shift sort splice unshift".split(" "),function(e){x.ma.fn[e]=function(){var n=this.p();this.ia(),this.Yb(n,e,arguments);var t=n[e].apply(n,arguments);return this.ha(),t===n?this:t}}),x.a.r(["slice"],function(e){x.ma.fn[e]=function(){var n=this();return n[e].apply(n,arguments)}}),x.b("observableArray",x.ma),x.Aa.trackArrayChanges=function(n,t){function a(){if(!o){o=!0,i=n.notifySubscribers,n.notifySubscribers=function(e,n){return n&&n!==E||++c,i.apply(this,arguments)};var e=[].concat(n.p()||[]);u=null,r=n.Y(function(t){var a;t=[].concat(t||[]),n.Ra("arrayChange")&&((!u||1<c)&&(u=x.a.lb(e,t,n.kb)),a=u),e=t,u=null,c=0,a&&a.length&&n.notifySubscribers(a,"arrayChange")})}}if(n.kb={},t&&"object"==typeof t&&x.a.extend(n.kb,t),n.kb.sparse=!0,!n.Yb){var r,i,o=!1,u=null,c=0,s=n.ua,l=n.Ka;n.ua=function(e){s&&s.call(n,e),"arrayChange"===e&&a()},n.Ka=function(t){l&&l.call(n,t),"arrayChange"!==t||n.Ra("arrayChange")||(i&&(n.notifySubscribers=i,i=e),r.k(),o=!1)},n.Yb=function(e,n,t){function a(e,n,t){return r[r.length]={status:e,value:n,index:t}}if(o&&!c){var r=[],i=e.length,s=t.length,l=0;switch(n){case"push":l=i;case"unshift":for(n=0;n<s;n++)a("added",t[n],l+n);break;case"pop":l=i-1;case"shift":i&&a("deleted",e[l],l);break;case"splice":n=Math.min(Math.max(0,0>t[0]?i+t[0]:t[0]),i),i=1===s?i:Math.min(n+(t[1]||0),i),s=n+s-2,l=Math.max(i,s);for(var f=[],d=[],p=2;n<l;++n,++p)n<i&&d.push(a("deleted",e[n],n)),n<s&&f.push(a("added",t[p],n));x.a.hc(d,f);break;default:return}u=r}}}};var _=x.a.bc("_state");x.m=x.B=function(n,t,a){function r(){if(0<arguments.length){if("function"!=typeof i)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return i.apply(o.sb,arguments),this}return x.l.sc(r),(o.V||o.t&&r.Sa())&&r.U(),o.M}if("object"==typeof n?a=n:(a=a||{},n&&(a.read=n)),"function"!=typeof a.read)throw Error("Pass a function that returns the value of the ko.computed");var i=a.write,o={M:e,da:!0,V:!0,Ta:!1,Hb:!1,T:!1,Ya:!1,t:!1,od:a.read,sb:t||a.owner,i:a.disposeWhenNodeIsRemoved||a.i||null,ya:a.disposeWhen||a.ya,pb:null,s:{},L:0,fc:null};return r[_]=o,r.$c="function"==typeof i,x.a.la||x.a.extend(r,x.K.fn),x.K.fn.ub(r),x.a.ab(r,D),a.pure?(o.Ya=!0,o.t=!0,x.a.extend(r,B)):a.deferEvaluation&&x.a.extend(r,A),x.options.deferUpdates&&x.Aa.deferred(r,!0),o.i&&(o.Hb=!0,o.i.nodeType||(o.i=null)),o.t||a.deferEvaluation||r.U(),o.i&&r.ca()&&x.a.G.qa(o.i,o.pb=function(){r.k()}),r};var D={equalityComparer:c,Ca:function(){return this[_].L},Sb:function(e,n,t){if(this[_].Ya&&n===this)throw Error("A 'pure' computed must not be called recursively");this[_].s[e]=t,t.Ia=this[_].L++,t.pa=n.Pa()},Sa:function(){var e,n,t=this[_].s;for(e in t)if(t.hasOwnProperty(e)&&(n=t[e],this.oa&&n.$.Ha||n.$.Zc(n.pa)))return!0},gd:function(){this.oa&&!this[_].Ta&&this.oa(!1)},ca:function(){var e=this[_];return e.V||0<e.L},qd:function(){this.Ha?this[_].V&&(this[_].da=!0):this.ec()},yc:function(e){if(e.gb&&!this[_].i){var n=e.Y(this.gd,this,"dirty"),t=e.Y(this.qd,this);return{$:e,k:function(){n.k(),t.k()}}}return e.Y(this.ec,this)},ec:function(){var e=this,n=e.throttleEvaluation;n&&0<=n?(clearTimeout(this[_].fc),this[_].fc=x.a.setTimeout(function(){e.U(!0)},n)):e.oa?e.oa(!0):e.U(!0)},U:function(e){var n=this[_],t=n.ya,a=!1;if(!n.Ta&&!n.T){if(n.i&&!x.a.qb(n.i)||t&&t()){if(!n.Hb)return void this.k()}else n.Hb=!1;n.Ta=!0;try{a=this.Vc(e)}finally{n.Ta=!1}return n.L||this.k(),a}},Vc:function(n){var t=this[_],a=!1,r=t.Ya?e:!t.L,i={Mc:this,Oa:t.s,ob:t.L};return x.l.Xb({Lc:i,jb:p,m:this,Va:r}),t.s={},t.L=0,i=this.Uc(t,i),this.Ua(t.M,i)&&(t.t||this.notifySubscribers(t.M,"beforeChange"),t.M=i,t.t?this.Kb():n&&this.notifySubscribers(t.M),a=!0),r&&this.notifySubscribers(t.M,"awake"),a},Uc:function(e,n){try{var t=e.od;return e.sb?t.call(e.sb):t()}finally{x.l.end(),n.ob&&!e.t&&x.a.D(n.Oa,d),e.da=e.V=!1}},p:function(e){var n=this[_];return(n.V&&(e||!n.L)||n.t&&this.Sa())&&this.U(),n.M},Wa:function(e){x.K.fn.Wa.call(this,e),this.Mb=function(){return this[_].da?this.U():this[_].V=!1,this[_].M},this.oa=function(e){this.Ob(this[_].M),this[_].V=!0,e&&(this[_].da=!0),this.Pb(this)}},k:function(){var e=this[_];!e.t&&e.s&&x.a.D(e.s,function(e,n){n.k&&n.k()}),e.i&&e.pb&&x.a.G.tc(e.i,e.pb),e.s=null,e.L=0,e.T=!0,e.da=!1,e.V=!1,e.t=!1,e.i=null}},B={ua:function(e){var n=this,t=n[_];if(!t.T&&t.t&&"change"==e){if(t.t=!1,t.da||n.Sa())t.s=null,t.L=0,n.U()&&n.Kb();else{var a=[];x.a.D(t.s,function(e,n){a[n.Ia]=e}),x.a.r(a,function(e,a){var r=t.s[e],i=n.yc(r.$);i.Ia=a,i.pa=r.pa,t.s[e]=i})}t.T||n.notifySubscribers(t.M,"awake")}},Ka:function(n){var t=this[_];t.T||"change"!=n||this.Ra("change")||(x.a.D(t.s,function(e,n){n.k&&(t.s[e]={$:n.$,Ia:n.Ia,pa:n.pa},n.k())}),t.t=!0,this.notifySubscribers(e,"asleep"))},Pa:function(){var e=this[_];return e.t&&(e.da||this.Sa())&&this.U(),x.K.fn.Pa.call(this)}},A={ua:function(e){"change"!=e&&"beforeChange"!=e||this.p()}};x.a.la&&x.a.$a(D,x.K.fn);var O=x.O.md;x.m[O]=x.O,D[O]=x.m,x.bd=function(e){return x.Qa(e,x.m)},x.cd=function(e){return x.Qa(e,x.m)&&e[_]&&e[_].Ya},x.b("computed",x.m),x.b("dependentObservable",x.m),x.b("isComputed",x.bd),x.b("isPureComputed",x.cd),x.b("computed.fn",D),x.H(D,"peek",D.p),x.H(D,"dispose",D.k),x.H(D,"isActive",D.ca),x.H(D,"getDependenciesCount",D.Ca),x.rc=function(e,n){return"function"==typeof e?x.m(e,n,{pure:!0}):((e=x.a.extend({},e)).pure=!0,x.m(e,n))},x.b("pureComputed",x.rc),function(){function n(a,r,i){if(i=i||new t,"object"!=typeof(a=r(a))||null===a||a===e||a instanceof RegExp||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var o=a instanceof Array?[]:{};return i.save(a,o),function(e,n){if(e instanceof Array){for(var t=0;t<e.length;t++)n(t);"function"==typeof e.toJSON&&n("toJSON")}else for(t in e)n(t)}(a,function(t){var u=r(a[t]);switch(typeof u){case"boolean":case"number":case"string":case"function":o[t]=u;break;case"object":case"undefined":var c=i.get(u);o[t]=c!==e?c:n(u,r,i)}}),o}function t(){this.keys=[],this.Lb=[]}x.Ac=function(e){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return n(e,function(e){for(var n=0;x.I(e)&&10>n;n++)e=e();return e})},x.toJSON=function(e,n,t){return e=x.Ac(e),x.a.Gb(e,n,t)},t.prototype={save:function(e,n){var t=x.a.o(this.keys,e);0<=t?this.Lb[t]=n:(this.keys.push(e),this.Lb.push(n))},get:function(n){return 0<=(n=x.a.o(this.keys,n))?this.Lb[n]:e}}}(),x.b("toJS",x.Ac),x.b("toJSON",x.toJSON),x.j={u:function(n){switch(x.a.A(n)){case"option":return!0===n.__ko__hasDomDataOptionValue__?x.a.e.get(n,x.d.options.zb):7>=x.a.C?n.getAttributeNode("value")&&n.getAttributeNode("value").specified?n.value:n.text:n.value;case"select":return 0<=n.selectedIndex?x.j.u(n.options[n.selectedIndex]):e;default:return n.value}},ja:function(n,t,a){switch(x.a.A(n)){case"option":switch(typeof t){case"string":x.a.e.set(n,x.d.options.zb,e),"__ko__hasDomDataOptionValue__"in n&&delete n.__ko__hasDomDataOptionValue__,n.value=t;break;default:x.a.e.set(n,x.d.options.zb,t),n.__ko__hasDomDataOptionValue__=!0,n.value="number"==typeof t?t:""}break;case"select":""!==t&&null!==t||(t=e);for(var r,i=-1,o=0,u=n.options.length;o<u;++o)if((r=x.j.u(n.options[o]))==t||""==r&&t===e){i=o;break}(a||0<=i||t===e&&1<n.size)&&(n.selectedIndex=i);break;default:null!==t&&t!==e||(t=""),n.value=t}}},x.b("selectExtensions",x.j),x.b("selectExtensions.readValue",x.j.u),x.b("selectExtensions.writeValue",x.j.ja),x.h=function(){function e(e){123===(e=x.a.cb(e)).charCodeAt(0)&&(e=e.slice(1,-1));var n,t=[],o=e.match(a),u=[],c=0;if(o){o.push(",");for(var s,l=0;s=o[l];++l){var f=s.charCodeAt(0);if(44===f){if(0>=c){t.push(n&&u.length?{key:n,value:u.join("")}:{unknown:n||u.join("")}),n=c=0,u=[];continue}}else if(58===f){if(!c&&!n&&1===u.length){n=u.pop();continue}}else 47===f&&l&&1<s.length?(f=o[l-1].match(r))&&!i[f[0]]&&((o=(e=e.substr(e.indexOf(s)+1)).match(a)).push(","),l=-1,s="/"):40===f||123===f||91===f?++c:41===f||125===f||93===f?--c:n||u.length||34!==f&&39!==f||(s=s.slice(1,-1));u.push(s)}}return t}var n=["true","false","null","undefined"],t=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,a=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),r=/[\])"'A-Za-z0-9_$]+$/,i={in:1,return:1,typeof:1},o={};return{va:[],ga:o,Ab:e,Xa:function(a,r){function i(e,a){var r;if(!l){var f=x.getBindingHandler(e);if(f&&f.preprocess&&!(a=f.preprocess(a,e,i)))return;(f=o[e])&&(r=a,r=!(0<=x.a.o(n,r))&&(null!==(f=r.match(t))&&(f[1]?"Object("+f[1]+")"+f[2]:r)),f=r),f&&c.push("'"+e+"':function(_z){"+r+"=_z}")}s&&(a="function(){return "+a+" }"),u.push("'"+e+"':"+a)}var u=[],c=[],s=(r=r||{}).valueAccessors,l=r.bindingParams,f="string"==typeof a?e(a):a;return x.a.r(f,function(e){i(e.key||e.unknown,e.value)}),c.length&&i("_ko_property_writers","{"+c.join(",")+" }"),u.join(",")},fd:function(e,n){for(var t=0;t<e.length;t++)if(e[t].key==n)return!0;return!1},Ga:function(e,n,t,a,r){e&&x.I(e)?!x.Da(e)||r&&e.p()===a||e(a):(e=n.get("_ko_property_writers"))&&e[t]&&e[t](a)}}}(),x.b("expressionRewriting",x.h),x.b("expressionRewriting.bindingRewriteValidators",x.h.va),x.b("expressionRewriting.parseObjectLiteral",x.h.Ab),x.b("expressionRewriting.preProcessBindings",x.h.Xa),x.b("expressionRewriting._twoWayBindings",x.h.ga),x.b("jsonExpressionRewriting",x.h),x.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",x.h.Xa),function(){function e(e){return 8==e.nodeType&&o.test(i?e.text:e.nodeValue)}function n(e){return 8==e.nodeType&&u.test(i?e.text:e.nodeValue)}function a(t,a){for(var r=t,i=1,o=[];r=r.nextSibling;){if(n(r)&&0==--i)return o;o.push(r),e(r)&&i++}if(!a)throw Error("Cannot find closing comment tag to match: "+t.nodeValue);return null}function r(e,n){var t=a(e,n);return t?0<t.length?t[t.length-1].nextSibling:e.nextSibling:null}var i=t&&"\x3c!--test--\x3e"===t.createComment("test").text,o=i?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,u=i?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,c={ul:!0,ol:!0};x.f={aa:{},childNodes:function(n){return e(n)?a(n):n.childNodes},za:function(n){if(e(n))for(var t=0,a=(n=x.f.childNodes(n)).length;t<a;t++)x.removeNode(n[t]);else x.a.rb(n)},fa:function(n,t){if(e(n)){x.f.za(n);for(var a=n.nextSibling,r=0,i=t.length;r<i;r++)a.parentNode.insertBefore(t[r],a)}else x.a.fa(n,t)},qc:function(n,t){e(n)?n.parentNode.insertBefore(t,n.nextSibling):n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t)},kc:function(n,t,a){a?e(n)?n.parentNode.insertBefore(t,a.nextSibling):a.nextSibling?n.insertBefore(t,a.nextSibling):n.appendChild(t):x.f.qc(n,t)},firstChild:function(t){return e(t)?!t.nextSibling||n(t.nextSibling)?null:t.nextSibling:t.firstChild},nextSibling:function(t){return e(t)&&(t=r(t)),t.nextSibling&&n(t.nextSibling)?null:t.nextSibling},Yc:e,vd:function(e){return(e=(i?e.text:e.nodeValue).match(o))?e[1]:null},oc:function(t){if(c[x.a.A(t)]){var a=t.firstChild;if(a)do{if(1===a.nodeType){var i,o=null;if(i=a.firstChild)do{if(o)o.push(i);else if(e(i)){var u=r(i,!0);u?i=u:o=[i]}else n(i)&&(o=[i])}while(i=i.nextSibling);if(i=o)for(o=a.nextSibling,u=0;u<i.length;u++)o?t.insertBefore(i[u],o):t.appendChild(i[u])}}while(a=a.nextSibling)}}}}(),x.b("virtualElements",x.f),x.b("virtualElements.allowedBindings",x.f.aa),x.b("virtualElements.emptyNode",x.f.za),x.b("virtualElements.insertAfter",x.f.kc),x.b("virtualElements.prepend",x.f.qc),x.b("virtualElements.setDomNodeChildren",x.f.fa),x.S=function(){this.Kc={}},x.a.extend(x.S.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||x.g.getComponentNameForNode(e);case 8:return x.f.Yc(e);default:return!1}},getBindings:function(e,n){var t=(t=this.getBindingsString(e,n))?this.parseBindingsString(t,n,e):null;return x.g.Rb(t,e,n,!1)},getBindingAccessors:function(e,n){var t=(t=this.getBindingsString(e,n))?this.parseBindingsString(t,n,e,{valueAccessors:!0}):null;return x.g.Rb(t,e,n,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return x.f.vd(e);default:return null}},parseBindingsString:function(e,n,t,a){try{var r,i=this.Kc,o=e+(a&&a.valueAccessors||"");if(!(r=i[o])){var u,c="with($context){with($data||{}){return{"+x.h.Xa(e,a)+"}}}";u=new Function("$context","$element",c),r=i[o]=u}return r(n,t)}catch(n){throw n.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+n.message,n}}}),x.S.instance=new x.S,x.b("bindingProvider",x.S),function(){function t(e){return function(){return e}}function a(e){return e()}function i(e){return x.a.Ea(x.l.w(e),function(n,t){return function(){return e()[t]}})}
function o(e,n,a){return"function"==typeof e?i(e.bind(null,n,a)):x.a.Ea(e,t)}function u(e,n){return i(this.getBindings.bind(this,e,n))}function c(e,n,t){var a,r=x.f.firstChild(n),i=x.S.instance,o=i.preprocessNode;if(o){for(;a=r;)r=x.f.nextSibling(a),o.call(i,a);r=x.f.firstChild(n)}for(;a=r;)r=x.f.nextSibling(a),s(e,a,t)}function s(e,n,t){var a=!0,r=1===n.nodeType;r&&x.f.oc(n),(r&&t||x.S.instance.nodeHasBindings(n))&&(a=l(n,null,e,t).shouldBindDescendants),a&&!d[x.a.A(n)]&&c(e,n,!r)}function l(n,t,r,i){var o,c,s=x.a.e.get(n,p);if(!t){if(s)throw Error("You cannot apply bindings multiple times to the same element.");x.a.e.set(n,p,!0)}if(!s&&i&&x.xc(n,r),t&&"function"!=typeof t)o=t;else{var l=x.S.instance,f=l.getBindingAccessors||u,d=x.B(function(){return(o=t?t(r,n):f.call(l,n,r))&&r.Q&&r.Q(),o},null,{i:n});o&&d.ca()||(d=null)}if(o){var h=d?function(e){return function(){return a(d()[e])}}:function(e){return o[e]},b=function(){return x.a.Ea(d?d():o,a)};b.get=function(e){return o[e]&&a(h(e))},b.has=function(e){return e in o},i=function(e){var n=[],t={},a=[];return x.a.D(e,function r(i){if(!t[i]){var o=x.getBindingHandler(i);o&&(o.after&&(a.push(i),x.a.r(o.after,function(n){if(e[n]){if(-1!==x.a.o(a,n))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+a.join(", "));r(n)}}),a.length--),n.push({key:i,jc:o})),t[i]=!0}}),n}(o),x.a.r(i,function(t){var a=t.jc.init,i=t.jc.update,u=t.key;if(8===n.nodeType&&!x.f.aa[u])throw Error("The binding '"+u+"' cannot be used with virtual elements");try{"function"==typeof a&&x.l.w(function(){var t=a(n,h(u),b,r.$data,r);if(t&&t.controlsDescendantBindings){if(c!==e)throw Error("Multiple bindings ("+c+" and "+u+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");c=u}}),"function"==typeof i&&x.B(function(){i(n,h(u),b,r.$data,r)},null,{i:n})}catch(e){throw e.message='Unable to process binding "'+u+": "+o[u]+'"\nMessage: '+e.message,e}})}return{shouldBindDescendants:c===e}}function f(e){return e&&e instanceof x.R?e:new x.R(e)}x.d={};var d={script:!0,textarea:!0,template:!0};x.getBindingHandler=function(e){return x.d[e]},x.R=function(n,t,a,r,i){function o(){var e=l?n():n,i=x.a.c(e);return t?(t.Q&&t.Q(),x.a.extend(s,t),s.Q=c):(s.$parents=[],s.$root=i,s.ko=x),s.$rawData=e,s.$data=i,a&&(s[a]=i),r&&r(s,t,i),s.$data}var u,c,s=this,l="function"==typeof n&&!x.I(n);i&&i.exportDependencies?o():(c=x.B(o,null,{ya:function(){return u&&!x.a.Tb(u)},i:!0})).ca()&&(s.Q=c,c.equalityComparer=null,u=[],c.Dc=function(n){u.push(n),x.a.G.qa(n,function(n){x.a.Na(u,n),u.length||(c.k(),s.Q=c=e)})})},x.R.prototype.createChildContext=function(e,n,t,a){return new x.R(e,this,n,function(e,n){e.$parentContext=n,e.$parent=n.$data,e.$parents=(n.$parents||[]).slice(0),e.$parents.unshift(e.$parent),t&&t(e)},a)},x.R.prototype.extend=function(e){return new x.R(this.Q||this.$data,this,null,function(n,t){n.$rawData=t.$rawData,x.a.extend(n,"function"==typeof e?e():e)})},x.R.prototype.ac=function(e,n){return this.createChildContext(e,n,null,{exportDependencies:!0})};var p=x.a.e.J(),h=x.a.e.J();x.xc=function(e,n){if(2!=arguments.length)return x.a.e.get(e,h);x.a.e.set(e,h,n),n.Q&&n.Q.Dc(e)},x.La=function(e,n,t){return 1===e.nodeType&&x.f.oc(e),l(e,n,f(t),!0)},x.Ic=function(e,n,t){return t=f(t),x.La(e,o(n,t,e),t)},x.hb=function(e,n){1!==n.nodeType&&8!==n.nodeType||c(f(e),n,!0)},x.Ub=function(e,t){if(!r&&n.jQuery&&(r=n.jQuery),t&&1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||n.document.body,s(f(e),t,!0)},x.nb=function(n){switch(n.nodeType){case 1:case 8:var t=x.xc(n);if(t)return t;if(n.parentNode)return x.nb(n.parentNode)}return e},x.Oc=function(n){return(n=x.nb(n))?n.$data:e},x.b("bindingHandlers",x.d),x.b("applyBindings",x.Ub),x.b("applyBindingsToDescendants",x.hb),x.b("applyBindingAccessorsToNode",x.La),x.b("applyBindingsToNode",x.Ic),x.b("contextFor",x.nb),x.b("dataFor",x.Oc)}(),function(e){function n(n,a){var o,u=r.hasOwnProperty(n)?r[n]:e;u?u.Y(a):((u=r[n]=new x.K).Y(a),t(n,function(e,t){var a=!(!t||!t.synchronous);i[n]={definition:e,dd:a},delete r[n],o||a?u.notifySubscribers(e):x.Z.Za(function(){u.notifySubscribers(e)})}),o=!0)}function t(e,n){a("getConfig",[e],function(t){t?a("loadComponent",[e,t],function(e){n(e,t)}):n(null,null)})}function a(n,t,r,i){i||(i=x.g.loaders.slice(0));var o=i.shift();if(o){var u=o[n];if(u){var c=!1;if(u.apply(o,t.concat(function(e){c?r(null):null!==e?r(e):a(n,t,r,i)}))!==e&&(c=!0,!o.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else a(n,t,r,i)}else r(null)}var r={},i={};x.g={get:function(t,a){var r=i.hasOwnProperty(t)?i[t]:e;r?r.dd?x.l.w(function(){a(r.definition)}):x.Z.Za(function(){a(r.definition)}):n(t,a)},$b:function(e){delete i[e]},Nb:a},x.g.loaders=[],x.b("components",x.g),x.b("components.get",x.g.get),x.b("components.clearCachedDefinition",x.g.$b)}(),function(){function e(e,n,t,a){function r(){0==--u&&a(o)}var o={},u=2,c=t.template;t=t.viewModel,c?i(n,c,function(n){x.g.Nb("loadTemplate",[e,n],function(e){o.template=e,r()})}):r(),t?i(n,t,function(n){x.g.Nb("loadViewModel",[e,n],function(e){o[s]=e,r()})}):r()}function a(e){switch(x.a.A(e)){case"script":return x.a.na(e.text);case"textarea":return x.a.na(e.value);case"template":if(r(e.content))return x.a.wa(e.content.childNodes)}return x.a.wa(e.childNodes)}function r(e){return n.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function i(e,t,a){"string"==typeof t.require?u||n.require?(u||n.require)([t.require],a):e("Uses require, but no AMD loader is present"):a(t)}function o(e){return function(n){throw Error("Component '"+e+"': "+n)}}var c={};x.g.register=function(e,n){if(!n)throw Error("Invalid configuration for "+e);if(x.g.wb(e))throw Error("Component "+e+" is already registered");c[e]=n},x.g.wb=function(e){return c.hasOwnProperty(e)},x.g.ud=function(e){delete c[e],x.g.$b(e)},x.g.cc={getConfig:function(e,n){n(c.hasOwnProperty(e)?c[e]:null)},loadComponent:function(n,t,a){var r=o(n);i(r,t,function(t){e(n,r,t,a)})},loadTemplate:function(e,i,u){if(e=o(e),"string"==typeof i)u(x.a.na(i));else if(i instanceof Array)u(i);else if(r(i))u(x.a.W(i.childNodes));else if(i.element)if(i=i.element,n.HTMLElement?i instanceof HTMLElement:i&&i.tagName&&1===i.nodeType)u(a(i));else if("string"==typeof i){var c=t.getElementById(i);c?u(a(c)):e("Cannot find element with ID "+i)}else e("Unknown element type: "+i);else e("Unknown template value: "+i)},loadViewModel:function(e,n,t){!function e(n,t,a){if("function"==typeof t)a(function(e){return new t(e)});else if("function"==typeof t[s])a(t[s]);else if("instance"in t){var r=t.instance;a(function(){return r})}else"viewModel"in t?e(n,t.viewModel,a):n("Unknown viewModel value: "+t)}(o(e),n,t)}};var s="createViewModel";x.b("components.register",x.g.register),x.b("components.isRegistered",x.g.wb),x.b("components.unregister",x.g.ud),x.b("components.defaultLoader",x.g.cc),x.g.loaders.push(x.g.cc),x.g.Ec=c}(),function(){function e(e,t){if(a=e.getAttribute("params")){var a=n.parseBindingsString(a,t,e,{valueAccessors:!0,bindingParams:!0}),r=(a=x.a.Ea(a,function(n){return x.m(n,null,{i:e})}),x.a.Ea(a,function(n){var t=n.p();return n.ca()?x.m({read:function(){return x.a.c(n())},write:x.Da(t)&&function(e){n()(e)},i:e}):t}));return r.hasOwnProperty("$raw")||(r.$raw=a),r}return{$raw:{}}}x.g.getComponentNameForNode=function(e){var n=x.a.A(e);if(x.g.wb(n)&&(-1!=n.indexOf("-")||"[object HTMLUnknownElement]"==""+e||8>=x.a.C&&e.tagName===n))return n},x.g.Rb=function(n,t,a,r){if(1===t.nodeType){var i=x.g.getComponentNameForNode(t);if(i){if((n=n||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var o={name:i,params:e(t,a)};n.component=r?function(){return o}:o}}return n};var n=new x.S;9>x.a.C&&(x.g.register=function(e){return function(n){return t.createElement(n),e.apply(this,arguments)}}(x.g.register),t.createDocumentFragment=function(e){return function(){var n,t=e(),a=x.g.Ec;for(n in a)a.hasOwnProperty(n)&&t.createElement(n);return t}}(t.createDocumentFragment))}(),function(e){var n=0;x.d.component={init:function(e,t,a,r,i){function o(){var e=u&&u.dispose;"function"==typeof e&&e.call(u),c=u=null}var u,c,s=x.a.W(x.f.childNodes(e));return x.a.G.qa(e,o),x.m(function(){var a,r,l=x.a.c(t());if("string"==typeof l?a=l:(a=x.a.c(l.name),r=x.a.c(l.params)),!a)throw Error("No component name specified");var f=c=++n;x.g.get(a,function(n){if(c===f){if(o(),!n)throw Error("Unknown component '"+a+"'");!function(e,n,t){if(!(n=n.template))throw Error("Component '"+e+"' has no template");e=x.a.wa(n),x.f.fa(t,e)}(a,n,e);var t=function(e,n,t,a){var r=e.createViewModel;return r?r.call(e,a,{element:n,templateNodes:t}):a}(n,e,s,r);n=i.createChildContext(t,void 0,function(e){e.$component=t,e.$componentTemplateNodes=s}),u=t,x.hb(n,e)}})},null,{i:e}),{controlsDescendantBindings:!0}}},x.f.aa.component=!0}();var M={class:"className",for:"htmlFor"};x.d.attr={update:function(n,t){var a=x.a.c(t())||{};x.a.D(a,function(t,a){var r=!1===(a=x.a.c(a))||null===a||a===e;r&&n.removeAttribute(t),8>=x.a.C&&t in M?(t=M[t],r?n.removeAttribute(t):n[t]=a):r||n.setAttribute(t,a.toString()),"name"===t&&x.a.vc(n,r?"":a.toString())})}},x.d.checked={after:["value","attr"],init:function(n,t,a){function r(){var e=n.checked,r=d?i():e;if(!x.xa.Va()&&(!u||e)){var o=x.l.w(t);if(s){var c=l?o.p():o;f!==r?(e&&(x.a.ra(c,r,!0),x.a.ra(c,f,!1)),f=r):x.a.ra(c,r,e),l&&x.Da(o)&&o(c)}else x.h.Ga(o,a,"checked",r,!0)}}var i=x.rc(function(){return a.has("checkedValue")?x.a.c(a.get("checkedValue")):a.has("value")?x.a.c(a.get("value")):n.value}),o="checkbox"==n.type,u="radio"==n.type;if(o||u){var c=t(),s=o&&x.a.c(c)instanceof Array,l=!(s&&c.push&&c.splice),f=s?i():e,d=u||s;u&&!n.name&&x.d.uniqueName.init(n,function(){return!0}),x.m(r,null,{i:n}),x.a.q(n,"click",r),x.m(function(){var e=x.a.c(t());n.checked=s?0<=x.a.o(e,i()):o?e:i()===e},null,{i:n}),c=e}}},x.h.ga.checked=!0,x.d.checkedValue={update:function(e,n){e.value=x.a.c(n())}},x.d.css={update:function(e,n){var t=x.a.c(n());null!==t&&"object"==typeof t?x.a.D(t,function(n,t){t=x.a.c(t),x.a.fb(e,n,t)}):(t=x.a.cb(String(t||"")),x.a.fb(e,e.__ko__cssValue,!1),e.__ko__cssValue=t,x.a.fb(e,t,!0))}},x.d.enable={update:function(e,n){var t=x.a.c(n());t&&e.disabled?e.removeAttribute("disabled"):t||e.disabled||(e.disabled=!0)}},x.d.disable={update:function(e,n){x.d.enable.update(e,function(){return!x.a.c(n())})}},x.d.event={init:function(e,n,t,a,r){var i=n()||{};x.a.D(i,function(i){"string"==typeof i&&x.a.q(e,i,function(e){var o,u=n()[i];if(u){try{var c=x.a.W(arguments);a=r.$data,c.unshift(a),o=u.apply(a,c)}finally{!0!==o&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===t.get(i+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},x.d.foreach={mc:function(e){return function(){var n=e(),t=x.a.Bb(n);return t&&"number"!=typeof t.length?(x.a.c(n),{foreach:t.data,as:t.as,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:x.X.vb}):{foreach:n,templateEngine:x.X.vb}}},init:function(e,n){return x.d.template.init(e,x.d.foreach.mc(n))},update:function(e,n,t,a,r){return x.d.template.update(e,x.d.foreach.mc(n),t,a,r)}},x.h.va.foreach=!1,x.f.aa.foreach=!0,x.d.hasfocus={init:function(e,n,t){function a(a){e.__ko_hasfocusUpdating=!0;var r=e.ownerDocument;if("activeElement"in r){var i;try{i=r.activeElement}catch(e){i=r.body}a=i===e}r=n(),x.h.Ga(r,t,"hasfocus",a,!0),e.__ko_hasfocusLastValue=a,e.__ko_hasfocusUpdating=!1}var r=a.bind(null,!0),i=a.bind(null,!1);x.a.q(e,"focus",r),x.a.q(e,"focusin",r),x.a.q(e,"blur",i),x.a.q(e,"focusout",i)},update:function(e,n){var t=!!x.a.c(n());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===t||(t?e.focus():e.blur(),!t&&e.__ko_hasfocusLastValue&&e.ownerDocument.body.focus(),x.l.w(x.a.Fa,null,[e,t?"focusin":"focusout"]))}},x.h.ga.hasfocus=!0,x.d.hasFocus=x.d.hasfocus,x.h.ga.hasFocus=!0,x.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,n){x.a.Eb(e,n())}},h("if"),h("ifnot",!1,!0),h("with",!0,!1,function(e,n){return e.ac(n)});var j={};x.d.options={init:function(e){if("select"!==x.a.A(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(n,t,a){function r(){return x.a.Ma(n.options,function(e){return e.selected})}function i(e,n,t){var a=typeof n;return"function"==a?n(e):"string"==a?e[n]:t}function o(e,t){if(h&&l)x.j.ja(n,x.a.c(a.get("value")),!0);else if(p.length){var r=0<=x.a.o(p,x.j.u(t[0]));x.a.wc(t[0],r),h&&!r&&x.l.w(x.a.Fa,null,[n,"change"])}}var u=n.multiple,c=0!=n.length&&u?n.scrollTop:null,s=x.a.c(t()),l=a.get("valueAllowUnset")&&a.has("value"),f=a.get("optionsIncludeDestroyed");t={};var d,p=[];l||(u?p=x.a.ib(r(),x.j.u):0<=n.selectedIndex&&p.push(x.j.u(n.options[n.selectedIndex]))),s&&(void 0===s.length&&(s=[s]),d=x.a.Ma(s,function(n){return f||n===e||null===n||!x.a.c(n._destroy)}),a.has("optionsCaption")&&null!==(s=x.a.c(a.get("optionsCaption")))&&s!==e&&d.unshift(j));var h=!1;t.beforeRemove=function(e){n.removeChild(e)},s=o,a.has("optionsAfterRender")&&"function"==typeof a.get("optionsAfterRender")&&(s=function(n,t){o(0,t),x.l.w(a.get("optionsAfterRender"),null,[t[0],n!==j?n:e])}),x.a.Db(n,d,function(t,r,o){return o.length&&(p=!l&&o[0].selected?[x.j.u(o[0])]:[],h=!0),r=n.ownerDocument.createElement("option"),t===j?(x.a.bb(r,a.get("optionsCaption")),x.j.ja(r,e)):(o=i(t,a.get("optionsValue"),t),x.j.ja(r,x.a.c(o)),t=i(t,a.get("optionsText"),o),x.a.bb(r,t)),[r]},t,s),x.l.w(function(){l?x.j.ja(n,x.a.c(a.get("value")),!0):(u?p.length&&r().length<p.length:p.length&&0<=n.selectedIndex?x.j.u(n.options[n.selectedIndex])!==p[0]:p.length||0<=n.selectedIndex)&&x.a.Fa(n,"change")}),x.a.Sc(n),c&&20<Math.abs(c-n.scrollTop)&&(n.scrollTop=c)}},x.d.options.zb=x.a.e.J(),x.d.selectedOptions={after:["options","foreach"],init:function(e,n,t){x.a.q(e,"change",function(){var a=n(),r=[];x.a.r(e.getElementsByTagName("option"),function(e){e.selected&&r.push(x.j.u(e))}),x.h.Ga(a,t,"selectedOptions",r)})},update:function(e,n){if("select"!=x.a.A(e))throw Error("values binding applies only to SELECT elements");var t=x.a.c(n()),a=e.scrollTop;t&&"number"==typeof t.length&&x.a.r(e.getElementsByTagName("option"),function(e){var n=0<=x.a.o(t,x.j.u(e));e.selected!=n&&x.a.wc(e,n)}),e.scrollTop=a}},x.h.ga.selectedOptions=!0,x.d.style={update:function(n,t){var a=x.a.c(t()||{});x.a.D(a,function(t,a){null!==(a=x.a.c(a))&&a!==e&&!1!==a||(a=""),n.style[t]=a})}},x.d.submit={init:function(e,n,t,a,r){if("function"!=typeof n())throw Error("The value for a submit binding must be a function");x.a.q(e,"submit",function(t){var a,i=n();try{a=i.call(r.$data,e)}finally{!0!==a&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}})}},x.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,n){x.a.bb(e,n())}},x.f.aa.text=!0,function(){if(n&&n.navigator)var t=function(e){if(e)return parseFloat(e[1])},a=n.opera&&n.opera.version&&parseInt(n.opera.version()),r=n.navigator.userAgent,i=t(r.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),o=t(r.match(/Firefox\/([^ ]*)/));if(10>x.a.C)var u=x.a.e.J(),c=x.a.e.J(),s=function(e){var n=this.activeElement;(n=n&&x.a.e.get(n,c))&&n(e)},l=function(e,n){var t=e.ownerDocument;x.a.e.get(t,u)||(x.a.e.set(t,u,!0),x.a.q(t,"selectionchange",s)),x.a.e.set(e,c,n)};x.d.textInput={init:function(n,t,r){function u(e,t){x.a.q(n,e,t)}function c(){f||(d=n.value,f=x.a.setTimeout(s,4))}function s(){clearTimeout(f),d=f=e;var a=n.value;p!==a&&(p=a,x.h.Ga(t(),r,"textInput",a))}var f,d,p=n.value,h=9==x.a.C?c:s;10>x.a.C?(u("propertychange",function(e){"value"===e.propertyName&&h(e)}),8==x.a.C&&(u("keyup",s),u("keydown",s)),8<=x.a.C&&(l(n,h),u("dragend",c))):(u("input",s),5>i&&"textarea"===x.a.A(n)?(u("keydown",c),u("paste",c),u("cut",c)):11>a?u("keydown",c):4>o&&(u("DOMAutoComplete",s),u("dragdrop",s),u("drop",s))),u("change",s),x.m(function a(){var r=x.a.c(t());null!==r&&r!==e||(r=""),d!==e&&r===d?x.a.setTimeout(a,4):n.value!==r&&(p=r,n.value=r)},null,{i:n})}},x.h.ga.textInput=!0,x.d.textinput={preprocess:function(e,n,t){t("textInput",e)}}}(),x.d.uniqueName={init:function(e,n){if(n()){var t="ko_unique_"+ ++x.d.uniqueName.Nc;x.a.vc(e,t)}}},x.d.uniqueName.Nc=0,x.d.value={after:["options","foreach"],init:function(e,n,t){if("input"!=e.tagName.toLowerCase()||"checkbox"!=e.type&&"radio"!=e.type){var a=["change"],r=t.get("valueUpdate"),i=!1,o=null;r&&("string"==typeof r&&(r=[r]),x.a.ta(a,r),a=x.a.Wb(a));var u=function(){o=null,i=!1;var a=n(),r=x.j.u(e);x.h.Ga(a,t,"value",r)};!x.a.C||"input"!=e.tagName.toLowerCase()||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=x.a.o(a,"propertychange")||(x.a.q(e,"propertychange",function(){i=!0}),x.a.q(e,"focus",function(){i=!1}),x.a.q(e,"blur",function(){i&&u()})),x.a.r(a,function(n){var t=u;x.a.sd(n,"after")&&(t=function(){o=x.j.u(e),x.a.setTimeout(u,0)},n=n.substring(5)),x.a.q(e,n,t)});var c=function(){var a=x.a.c(n()),r=x.j.u(e);if(null!==o&&a===o)x.a.setTimeout(c,0);else if(a!==r)if("select"===x.a.A(e)){var i=t.get("valueAllowUnset");(r=function(){x.j.ja(e,a,i)})(),i||a===x.j.u(e)?x.a.setTimeout(r,0):x.l.w(x.a.Fa,null,[e,"change"])}else x.j.ja(e,a)};x.m(c,null,{i:e})}else x.La(e,{checkedValue:n})},update:function(){}},x.h.ga.value=!0,x.d.visible={update:function(e,n){var t=x.a.c(n()),a="none"!=e.style.display;t&&!a?e.style.display="":!t&&a&&(e.style.display="none")}},function(e){x.d[e]={init:function(n,t,a,r,i){return x.d.event.init.call(this,n,function(){var n={};return n[e]=t(),n},a,r,i)}}}("click"),x.P=function(){},x.P.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},x.P.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},x.P.prototype.makeTemplateSource=function(e,n){if("string"==typeof e){var a=(n=n||t).getElementById(e);if(!a)throw Error("Cannot find template with ID "+e);return new x.v.n(a)}if(1==e.nodeType||8==e.nodeType)return new x.v.sa(e);throw Error("Unknown template type: "+e)},x.P.prototype.renderTemplate=function(e,n,t,a){return e=this.makeTemplateSource(e,a),this.renderTemplateSource(e,n,t,a)},x.P.prototype.isTemplateRewritten=function(e,n){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,n).data("isRewritten")},x.P.prototype.rewriteTemplate=function(e,n,t){n=n((e=this.makeTemplateSource(e,t)).text()),e.text(n),e.data("isRewritten",!0)},x.b("templateEngine",x.P),x.Ib=function(){function e(e,n,t,a){e=x.h.Ab(e);for(var r=x.h.va,i=0;i<e.length;i++){var o=e[i].key;if(r.hasOwnProperty(o)){var u=r[o];if("function"==typeof u){if(o=u(e[i].value))throw Error(o)}else if(!u)throw Error("This template engine does not support the '"+o+"' binding within its templates")}}return t="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+x.h.Xa(e,{valueAccessors:!0})+" } })()},'"+t.toLowerCase()+"')",a.createJavaScriptEvaluatorBlock(t)+n}var n=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,t=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Tc:function(e,n,t){n.isTemplateRewritten(e,t)||n.rewriteTemplate(e,function(e){return x.Ib.jd(e,n)},t)},jd:function(a,r){return a.replace(n,function(n,t,a,i,o){return e(o,t,a,r)}).replace(t,function(n,t){return e(t,"\x3c!-- ko --\x3e","#comment",r)})},Jc:function(e,n){return x.N.yb(function(t,a){var r=t.nextSibling;r&&r.nodeName.toLowerCase()===n&&x.La(r,e,a)})}}}(),x.b("__tr_ambtns",x.Ib.Jc),function(){x.v={},x.v.n=function(e){if(this.n=e){var n=x.a.A(e);this.eb="script"===n?1:"textarea"===n?2:"template"==n&&e.content&&11===e.content.nodeType?3:4}},x.v.n.prototype.text=function(){var e=1===this.eb?"text":2===this.eb?"value":"innerHTML";if(0==arguments.length)return this.n[e];var n=arguments[0];"innerHTML"===e?x.a.Eb(this.n,n):this.n[e]=n};var n=x.a.e.J()+"_";x.v.n.prototype.data=function(e){if(1===arguments.length)return x.a.e.get(this.n,n+e);x.a.e.set(this.n,n+e,arguments[1])};var t=x.a.e.J();x.v.n.prototype.nodes=function(){var n=this.n;if(0==arguments.length)return(x.a.e.get(n,t)||{}).mb||(3===this.eb?n.content:4===this.eb?n:e);x.a.e.set(n,t,{mb:arguments[0]})},x.v.sa=function(e){this.n=e},x.v.sa.prototype=new x.v.n,x.v.sa.prototype.text=function(){if(0==arguments.length){var n=x.a.e.get(this.n,t)||{};return n.Jb===e&&n.mb&&(n.Jb=n.mb.innerHTML),n.Jb}x.a.e.set(this.n,t,{Jb:arguments[0]})},x.b("templateSources",x.v),x.b("templateSources.domElement",x.v.n),x.b("templateSources.anonymousTemplate",x.v.sa)}(),function(){function n(e,n,t){var a;for(n=x.f.nextSibling(n);e&&(a=e)!==n;)t(a,e=x.f.nextSibling(a))}function t(e,t){if(e.length){var a=e[0],r=e[e.length-1],i=a.parentNode,o=x.S.instance,u=o.preprocessNode;if(u){if(n(a,r,function(e,n){var t=e.previousSibling,i=u.call(o,e);i&&(e===a&&(a=i[0]||n),e===r&&(r=i[i.length-1]||t))}),e.length=0,!a)return;a===r?e.push(a):(e.push(a,r),x.a.Ba(e,i))}n(a,r,function(e){1!==e.nodeType&&8!==e.nodeType||x.Ub(t,e)}),n(a,r,function(e){1!==e.nodeType&&8!==e.nodeType||x.N.Cc(e,[t])}),x.a.Ba(e,i)}}function a(e){return e.nodeType?e:0<e.length?e[0]:null}function r(e,n,r,i,u){u=u||{};var c=(e&&a(e)||r||{}).ownerDocument,s=u.templateEngine||o;if(x.Ib.Tc(r,s,c),"number"!=typeof(r=s.renderTemplate(r,i,u,c)).length||0<r.length&&"number"!=typeof r[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(c=!1,n){case"replaceChildren":x.f.fa(e,r),c=!0;break;case"replaceNode":x.a.uc(e,r),c=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+n)}return c&&(t(r,i),u.afterRender&&x.l.w(u.afterRender,null,[r,i.$data])),r}function i(e,n,t){return x.I(e)?e():"function"==typeof e?e(n,t):e}var o;x.Fb=function(n){if(n!=e&&!(n instanceof x.P))throw Error("templateEngine must inherit from ko.templateEngine");o=n},x.Cb=function(n,t,u,c,s){if(((u=u||{}).templateEngine||o)==e)throw Error("Set a template engine before calling renderTemplate");if(s=s||"replaceChildren",c){var l=a(c);return x.B(function(){var e=t&&t instanceof x.R?t:new x.R(t,null,null,null,{exportDependencies:!0}),o=i(n,e.$data,e);e=r(c,s,o,e,u),"replaceNode"==s&&(l=a(c=e))},null,{ya:function(){return!l||!x.a.qb(l)},i:l&&"replaceNode"==s?l.parentNode:l})}return x.N.yb(function(e){x.Cb(n,t,u,e,"replaceNode")})},x.pd=function(n,a,o,u,c){function s(e,n){t(n,f),o.afterRender&&o.afterRender(n,e),f=null}function l(e,t){return f=c.createChildContext(e,o.as,function(e){e.$index=t}),r(null,"ignoreTargetNode",i(n,e,f),f,o)}var f;return x.B(function(){var n=x.a.c(a)||[];void 0===n.length&&(n=[n]),n=x.a.Ma(n,function(n){return o.includeDestroyed||n===e||null===n||!x.a.c(n._destroy)}),x.l.w(x.a.Db,null,[u,n,l,o,s])},null,{i:u})};var u=x.a.e.J();x.d.template={init:function(e,n){var t=x.a.c(n());if("string"==typeof t||t.name)x.f.za(e);else{if("nodes"in t){if(t=t.nodes||[],x.I(t))throw Error('The "nodes" option must be a plain, non-observable array.')}else t=x.f.childNodes(e);t=x.a.nc(t),new x.v.sa(e).nodes(t)}return{controlsDescendantBindings:!0}},update:function(n,t,a,r,i){var o=t();a=!0,r=null,"string"==typeof(t=x.a.c(o))?t={}:(o=t.name,"if"in t&&(a=x.a.c(t.if)),a&&"ifnot"in t&&(a=!x.a.c(t.ifnot))),"foreach"in t?r=x.pd(o||n,a&&t.foreach||[],t,n,i):a?(i="data"in t?i.ac(t.data,t.as):i,r=x.Cb(o||n,i,t,n)):x.f.za(n),i=r,(t=x.a.e.get(n,u))&&"function"==typeof t.k&&t.k(),x.a.e.set(n,u,i&&i.ca()?i:e)}},x.h.va.template=function(e){return 1==(e=x.h.Ab(e)).length&&e[0].unknown||x.h.fd(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},x.f.aa.template=!0}(),x.b("setTemplateEngine",x.Fb),x.b("renderTemplate",x.Cb),x.a.hc=function(e,n,t){var a,r,i,o,u;if(e.length&&n.length)for(a=r=0;(!t||a<t)&&(o=e[r]);++r){for(i=0;u=n[i];++i)if(o.value===u.value){o.moved=u.index,u.moved=o.index,n.splice(i,1),a=i=0;break}a+=i}},x.a.lb=function(){function e(e,n,t,a,r){var i,o,u,c,s,l=Math.min,f=Math.max,d=[],p=e.length,h=n.length,b=h-p||1,v=p+h+1;for(i=0;i<=p;i++)for(c=u,d.push(u=[]),s=l(h,i+b),o=f(0,i-1);o<=s;o++)u[o]=o?i?e[i-1]===n[o-1]?c[o-1]:l(c[o]||v,u[o-1]||v)+1:o+1:i+1;for(l=[],f=[],b=[],i=p,o=h;i||o;)h=d[i][o]-1,o&&h===d[i][o-1]?f.push(l[l.length]={status:t,value:n[--o],index:o}):i&&h===d[i-1][o]?b.push(l[l.length]={status:a,value:e[--i],index:i}):(--o,--i,r.sparse||l.push({status:"retained",value:n[o]}));return x.a.hc(b,f,!r.dontLimitMoves&&10*p),l.reverse()}return function(n,t,a){return a="boolean"==typeof a?{dontLimitMoves:a}:a||{},n=n||[],t=t||[],n.length<t.length?e(n,t,"added","deleted",a):e(t,n,"deleted","added",a)}}(),x.b("utils.compareArrays",x.a.lb),function(){function n(n,t,a,r,i){var o=[],u=x.B(function(){var e=t(a,i,x.a.Ba(o,n))||[];0<o.length&&(x.a.uc(o,e),r&&x.l.w(r,null,[a,e,i])),o.length=0,x.a.ta(o,e)},null,{i:n,ya:function(){return!x.a.Tb(o)}});return{ea:o,B:u.ca()?u:e}}var t=x.a.e.J(),a=x.a.e.J();x.a.Db=function(r,i,o,u,c){function s(e,n){k=p[n],m!==n&&(C[e]=k),k.tb(m++),x.a.Ba(k.ea,r),v.push(k),w.push(k)}function l(e,n){if(e)for(var t=0,a=n.length;t<a;t++)n[t]&&x.a.r(n[t].ea,function(a){e(a,t,n[t].ka)})}i=i||[],u=u||{};var f,d=x.a.e.get(r,t)===e,p=x.a.e.get(r,t)||[],h=x.a.ib(p,function(e){return e.ka}),b=x.a.lb(h,i,u.dontLimitMoves),v=[],g=0,m=0,y=[],w=[];i=[];for(var k,E,T,C=[],N=(h=[],0);E=b[N];N++)switch(T=E.moved,E.status){case"deleted":T===e&&((k=p[g]).B&&(k.B.k(),k.B=e),x.a.Ba(k.ea,r).length&&(u.beforeRemove&&(v.push(k),w.push(k),k.ka===a?k=null:i[N]=k),k&&y.push.apply(y,k.ea))),g++;break;case"retained":s(N,g++);break;case"added":T!==e?s(N,T):(k={ka:E.value,tb:x.O(m++)},v.push(k),w.push(k),d||(h[N]=k))}for(x.a.e.set(r,t,v),l(u.beforeMove,C),x.a.r(y,u.beforeRemove?x.ba:x.removeNode),N=0,d=x.f.firstChild(r);k=w[N];N++){for(k.ea||x.a.extend(k,n(r,o,k.ka,c,k.tb)),g=0;b=k.ea[g];d=b.nextSibling,f=b,g++)b!==d&&x.f.kc(r,b,f);!k.ad&&c&&(c(k.ka,k.ea,k.tb),k.ad=!0)}for(l(u.beforeRemove,i),N=0;N<i.length;++N)i[N]&&(i[N].ka=a);l(u.afterMove,C),l(u.afterAdd,h)}}(),x.b("utils.setDomNodeChildrenFromArrayMapping",x.a.Db),x.X=function(){this.allowTemplateRewriting=!1},x.X.prototype=new x.P,x.X.prototype.renderTemplateSource=function(e,n,t,a){return(n=9>x.a.C||!e.nodes?null:e.nodes())?x.a.W(n.cloneNode(!0).childNodes):(e=e.text(),x.a.na(e,a))},x.X.vb=new x.X,x.Fb(x.X.vb),x.b("nativeTemplateEngine",x.X),function(){x.xb=function(){var e=this.ed=function(){if(!r||!r.tmpl)return 0;try{if(0<=r.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(n,a,i,o){if(o=o||t,i=i||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var u=n.data("precompiled");return u||(u=n.text()||"",u=r.template(null,"{{ko_with $item.koBindingContext}}"+u+"{{/ko_with}}"),n.data("precompiled",u)),n=[a.$data],a=r.extend({koBindingContext:a},i.templateOptions),(a=r.tmpl(u,n,a)).appendTo(o.createElement("div")),r.fragments={},a},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,n){t.write("<script type='text/html' id='"+e+"'>"+n+"<\/script>")},0<e&&(r.tmpl.tag.ko_code={open:"__.push($1 || '');"},r.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},x.xb.prototype=new x.P;var e=new x.xb;0<e.ed&&x.Fb(e),x.b("jqueryTmplTemplateEngine",x.xb)}()})}();
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],r=e.document,i=Object.getPrototypeOf,o=n.slice,a=n.concat,s=n.push,u=n.indexOf,l={},c=l.toString,f=l.hasOwnProperty,p=f.toString,d=p.call(Object),h={},g=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},v=function(e){return null!=e&&e===e.window},y={type:!0,src:!0,nonce:!0,noModule:!0};function m(e,t,n){var i,o,a=(n=n||r).createElement("script");if(a.text=e,t)for(i in y)(o=t[i]||t.getAttribute&&t.getAttribute(i))&&a.setAttribute(i,o);n.head.appendChild(a).parentNode.removeChild(a)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var b="3.4.1",w=function(e,t){return new w.fn.init(e,t)},T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function C(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!g(e)&&!v(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}w.fn=w.prototype={jquery:b,constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(w.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||w.isPlainObject(n)?n:{},i=!1,a[t]=w.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},w.extend({expando:"jQuery"+(b+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e)||(t=i(e))&&("function"!=typeof(n=f.call(t,"constructor")&&t.constructor)||p.call(n)!==d))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){m(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(C(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?w.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if(C(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return a.apply([],s)},guid:1,support:h}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});var E=function(e){var t,n,r,i,o,a,s,u,l,c,f,p,d,h,g,v,y,m,x,b="sizzle"+1*new Date,w=e.document,T=0,C=0,E=ue(),S=ue(),k=ue(),N=ue(),A=function(e,t){return e===t&&(f=!0),0},D={}.hasOwnProperty,j=[],q=j.pop,L=j.push,H=j.push,O=j.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",$=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",F=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp($),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){p()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(j=O.call(w.childNodes),w.childNodes),j[w.childNodes.length].nodeType}catch(t){H={apply:j.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,i){var o,s,l,c,f,h,y,m=t&&t.ownerDocument,T=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==T&&9!==T&&11!==T)return r;if(!i&&((t?t.ownerDocument||t:w)!==d&&p(t),t=t||d,g)){if(11!==T&&(f=Z.exec(e)))if(o=f[1]){if(9===T){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(m&&(l=m.getElementById(o))&&x(t,l)&&l.id===o)return r.push(l),r}else{if(f[2])return H.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return H.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!N[e+" "]&&(!v||!v.test(e))&&(1!==T||"object"!==t.nodeName.toLowerCase())){if(y=e,m=t,1===T&&U.test(e)){for((c=t.getAttribute("id"))?c=c.replace(re,ie):t.setAttribute("id",c=b),s=(h=a(e)).length;s--;)h[s]="#"+c+" "+xe(h[s]);y=h.join(","),m=ee.test(e)&&ye(t.parentNode)||t}try{return H.apply(r,m.querySelectorAll(y)),r}catch(t){N(e,!0)}finally{c===b&&t.removeAttribute("id")}}}return u(e.replace(B,"$1"),t,r,i)}function ue(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function le(e){return e[b]=!0,e}function ce(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ve(e){return le(function(t){return t=+t,le(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},o=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},p=se.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==d&&9===a.nodeType&&a.documentElement&&(h=(d=a).documentElement,g=!o(d),w!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),n.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ce(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=K.test(d.getElementsByClassName),n.getById=ce(function(e){return h.appendChild(e).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},y=[],v=[],(n.qsa=K.test(d.querySelectorAll))&&(ce(function(e){h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+b+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||v.push(".#.+[+~]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=K.test(m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ce(function(e){n.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),y.push("!=",$)}),v=v.length&&new RegExp(v.join("|")),y=y.length&&new RegExp(y.join("|")),t=K.test(h.compareDocumentPosition),x=t||K.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===d||e.ownerDocument===w&&x(w,e)?-1:t===d||t.ownerDocument===w&&x(w,t)?1:c?P(c,e)-P(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===d?-1:t===d?1:i?-1:o?1:c?P(c,e)-P(c,t):0;if(i===o)return pe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?pe(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0}),d},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&p(e),n.matchesSelector&&g&&!N[t+" "]&&(!y||!y.test(t))&&(!v||!v.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){N(t,!0)}return 0<se(t,d,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!==d&&p(e),x(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==d&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&D.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(A),f){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return c=null,e},i=se.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=se.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&-1<i.indexOf(n):"$="===t?n&&i.slice(-n.length)===n:"~="===t?-1<(" "+i.replace(F," ")+" ").indexOf(n):"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,y=s&&t.nodeName.toLowerCase(),m=!u&&!s,x=!1;if(v){if(o){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&m){for(x=(d=(l=(c=(f=(p=v)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1])&&l[2],p=d&&v.childNodes[d];p=++d&&p&&p[g]||(x=d=0)||h.pop();)if(1===p.nodeType&&++x&&p===t){c[e]=[T,d,x];break}}else if(m&&(x=d=(l=(c=(f=(p=t)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1]),!1===x)for(;(p=++d&&p&&p[g]||(x=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++x||(m&&((c=(f=p[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[T,x]),p!==t)););return(x-=i)===r||x%r==0&&0<=x/r}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[b]?i(t):1<i.length?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=P(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:le(function(e){var t=[],n=[],r=s(e.replace(B,"$1"));return r[b]?le(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:le(function(e){return function(t){return 0<se(e,t).length}}),contains:le(function(e){return e=e.replace(te,ne),function(t){return-1<(t.textContent||i(t)).indexOf(e)}}),lang:le(function(e){return V.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=he(t);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=C++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[T,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(c=(f=t[b]||(t[b]={}))[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===T&&l[1]===s)return p[2]=l[2];if((c[o]=p)[2]=e(t,n,u))return!0}return!1}}function we(e){return 1<e.length?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(e,t,n,r,i,o){return r&&!r[b]&&(r=Ce(r)),i&&!i[b]&&(i=Ce(i,o)),le(function(o,a,s,u){var l,c,f,p=[],d=[],h=a.length,g=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),v=!e||!o&&t?g:Te(g,p,e,s,u),y=n?i||(o?e:h||r)?[]:a:v;if(n&&n(v,y,s,u),r)for(l=Te(y,d),r(l,[],s,u),c=l.length;c--;)(f=l[c])&&(y[d[c]]=!(v[d[c]]=f));if(o){if(i||e){if(i){for(l=[],c=y.length;c--;)(f=y[c])&&l.push(v[c]=f);i(null,y=[],l,u)}for(c=y.length;c--;)(f=y[c])&&-1<(l=i?P(o,f):p[c])&&(o[l]=!(a[l]=f))}}else y=Te(y===a?y.splice(h,y.length):y),i?i(null,a,y,u):H.apply(a,y)})}function Ee(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,c=be(function(e){return e===t},s,!0),f=be(function(e){return-1<P(t,e)},s,!0),p=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])p=[be(we(p),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[b]){for(i=++u;i<o&&!r.relative[e[i].type];i++);return Ce(1<u&&we(p),1<u&&xe(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(B,"$1"),n,u<i&&Ee(e.slice(u,i)),i<o&&Ee(e=e.slice(i)),i<o&&xe(e))}p.push(n)}return we(p)}return me.prototype=r.filters=r.pseudos,r.setFilters=new me,a=se.tokenize=function(e,t){var n,i,o,a,s,u,l,c=S[e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],l=r.preFilter;s;){for(a in n&&!(i=_.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=z.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(B," ")}),s=s.slice(n.length)),r.filter)!(i=G[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):S(e,u).slice(0)},s=se.compile=function(e,t){var n,i,o,s,u,c,f=[],h=[],v=k[e+" "];if(!v){for(t||(t=a(e)),n=t.length;n--;)(v=Ee(t[n]))[b]?f.push(v):h.push(v);(v=k(e,(i=h,s=0<(o=f).length,u=0<i.length,c=function(e,t,n,a,c){var f,h,v,y=0,m="0",x=e&&[],b=[],w=l,C=e||u&&r.find.TAG("*",c),E=T+=null==w?1:Math.random()||.1,S=C.length;for(c&&(l=t===d||t||c);m!==S&&null!=(f=C[m]);m++){if(u&&f){for(h=0,t||f.ownerDocument===d||(p(f),n=!g);v=i[h++];)if(v(f,t||d,n)){a.push(f);break}c&&(T=E)}s&&((f=!v&&f)&&y--,e&&x.push(f))}if(y+=m,s&&m!==y){for(h=0;v=o[h++];)v(x,b,t,n);if(e){if(0<y)for(;m--;)x[m]||b[m]||(b[m]=q.call(a));b=Te(b)}H.apply(a,b),c&&!e&&0<b.length&&1<y+o.length&&se.uniqueSort(a)}return c&&(T=E,l=w),x},s?le(c):c))).selector=e}return v},u=se.select=function(e,t,n,i){var o,u,l,c,f,p="function"==typeof e&&e,d=!i&&a(e=p.selector||e);if(n=n||[],1===d.length){if(2<(u=d[0]=d[0].slice(0)).length&&"ID"===(l=u[0]).type&&9===t.nodeType&&g&&r.relative[u[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(te,ne),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(o=G.needsContext.test(e)?0:u.length;o--&&(l=u[o],!r.relative[c=l.type]);)if((f=r.find[c])&&(i=f(l.matches[0].replace(te,ne),ee.test(u[0].type)&&ye(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&xe(u)))return H.apply(n,i),n;break}}return(p||s(e,d))(i,t,!g,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},n.sortStable=b.split("").sort(A).join("")===b,n.detectDuplicates=!!f,p(),n.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(e);w.find=E,w.expr=E.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=E.uniqueSort,w.text=E.getText,w.isXMLDoc=E.isXML,w.contains=E.contains,w.escapeSelector=E.escape;var S=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&w(e).is(n))break;r.push(e)}return r},k=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},N=w.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,t,n){return g(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return-1<u.call(t,e)!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,i[t],n);return 1<r?w.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&N.test(e)?w(e):e||[],!1).length}});var q,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||q,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:L.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),D.test(i[1])&&w.isPlainObject(t))for(i in t)g(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=r.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,q=w(r);var H=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function P(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&w(e);if(!N.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&w.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?w.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(w(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return S(e,"parentNode")},parentsUntil:function(e,t,n){return S(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return S(e,"nextSibling")},prevAll:function(e){return S(e,"previousSibling")},nextUntil:function(e,t,n){return S(e,"nextSibling",n)},prevUntil:function(e,t,n){return S(e,"previousSibling",n)},siblings:function(e){return k((e.parentNode||{}).firstChild,e)},children:function(e){return k(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(A(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=w.filter(r,i)),1<this.length&&(O[e]||w.uniqueSort(i),H.test(e)&&i.reverse()),this.pushStack(i)}});var R=/[^\x20\t\r\n\f]+/g;function M(e){return e}function I(e){throw e}function W(e,t,n,r){var i;try{e&&g(i=e.promise)?i.call(e).done(t).fail(n):e&&g(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.Callbacks=function(e){var t,n;e="string"==typeof e?(t=e,n={},w.each(t.match(R)||[],function(e,t){n[t]=!0}),n):w.extend({},e);var r,i,o,a,s=[],u=[],l=-1,c=function(){for(a=a||e.once,o=r=!0;u.length;l=-1)for(i=u.shift();++l<s.length;)!1===s[l].apply(i[0],i[1])&&e.stopOnFalse&&(l=s.length,i=!1);e.memory||(i=!1),r=!1,a&&(s=i?[]:"")},f={add:function(){return s&&(i&&!r&&(l=s.length-1,u.push(i)),function t(n){w.each(n,function(n,r){g(r)?e.unique&&f.has(r)||s.push(r):r&&r.length&&"string"!==x(r)&&t(r)})}(arguments),i&&!r&&c()),this},remove:function(){return w.each(arguments,function(e,t){for(var n;-1<(n=w.inArray(t,s,n));)s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<w.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=i="",this},disabled:function(){return!s},lock:function(){return a=u=[],i||r||(s=i=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),r||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(n,function(n,r){var i=g(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var s=this,u=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(s,u))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,g(l)?i?l.call(e,a(o,n,M,i),a(o,n,I,i)):(o++,l.call(e,a(o,n,M,i),a(o,n,I,i),a(o,n,M,n.notifyWith))):(r!==M&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,c.stackTrace),o<=t+1&&(r!==I&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),e.setTimeout(c))}}return w.Deferred(function(e){n[0][3].add(a(0,e,g(i)?i:M,e.notifyWith)),n[1][3].add(a(0,e,g(t)?t:M)),n[2][3].add(a(0,e,g(r)?r:I))}).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},o={};return w.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=w.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=1<arguments.length?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&(W(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||g(i[n]&&i[n].then)))return a.then();for(;n--;)W(i[n],s(n),a.reject);return a.promise()}});var $=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&$.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout(function(){throw t})};var F=w.Deferred();function B(){r.removeEventListener("DOMContentLoaded",B),e.removeEventListener("load",B),w.ready()}w.fn.ready=function(e){return F.then(e).catch(function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0)!==e&&0<--w.readyWait||F.resolveWith(r,[w])}}),w.ready.then=F.then,"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(w.ready):(r.addEventListener("DOMContentLoaded",B),e.addEventListener("load",B));var _=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===x(n))for(s in i=!0,n)_(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,g(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(w(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},z=/^-ms-/,U=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function V(e){return e.replace(z,"ms-").replace(U,X)}var G=function(e){
return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=w.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[V(t)]=n;else for(r in t)i[V(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(V):(t=V(t))in r?[t]:t.match(R)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var Q=new Y,J=new Y,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function ee(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:K.test(i)?JSON.parse(i):i)}catch(e){}J.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return J.hasData(e)||Q.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=J.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=V(r.slice(5)),ee(o,r,i[r]));Q.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){J.set(this,e)}):_(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=J.get(o,e))?n:void 0!==(n=ee(o,e))?n:void 0;this.each(function(){J.set(this,e,t)})},null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Q.get(e,t),n&&(!r||Array.isArray(n)?r=Q.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),o=w._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){w.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:w.Callbacks("once memory").add(function(){Q.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=w.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Q.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],ie=r.documentElement,oe=function(e){return w.contains(e.ownerDocument,e)},ae={composed:!0};ie.getRootNode&&(oe=function(e){return w.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===w.css(e,"display")},ue=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};function le(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return w.css(e,t,"")},u=s(),l=n&&n[3]||(w.cssNumber[t]?"":"px"),c=e.nodeType&&(w.cssNumber[t]||"px"!==l&&+u)&&ne.exec(w.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)w.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,w.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ce={};function fe(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Q.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&se(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ce[s])||(o=a.body.appendChild(a.createElement(s)),u=w.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ce[s]=u)))):"none"!==n&&(l[c]="none",Q.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}w.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?w(this).show():w(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?w.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;var me,xe,be=/<|&#?\w+;/;function we(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===x(o))w.merge(p,o.nodeType?[o]:o);else if(be.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+w.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;w.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&-1<w.inArray(o,r))i&&i.push(o);else if(l=oe(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n)for(c=0;o=a[c++];)he.test(o.type||"")&&n.push(o);return f}me=r.createDocumentFragment().appendChild(r.createElement("div")),(xe=r.createElement("input")).setAttribute("type","radio"),xe.setAttribute("checked","checked"),xe.setAttribute("name","t"),me.appendChild(xe),h.checkClone=me.cloneNode(!0).cloneNode(!0).lastChild.checked,me.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!me.cloneNode(!0).lastChild.defaultValue;var Te=/^key/,Ce=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ee=/^([^.]*)(?:\.(.+)|)/;function Se(){return!0}function ke(){return!1}function Ne(e,t){return e===function(){try{return r.activeElement}catch(e){}}()==("focus"===t)}function Ae(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ae(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ke;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),e.each(function(){w.event.add(this,t,i,r,n)})}function De(e,t,n){n?(Q.set(e,t,!1),w.event.add(e,t,{namespace:!1,handler:function(e){var r,i,a=Q.get(this,t);if(1&e.isTrigger&&this[t]){if(a.length)(w.event.special[t]||{}).delegateType&&e.stopPropagation();else if(a=o.call(arguments),Q.set(this,t,a),r=n(this,t),this[t](),a!==(i=Q.get(this,t))||r?Q.set(this,t,!1):i={},a!==i)return e.stopImmediatePropagation(),e.preventDefault(),i.value}else a.length&&(Q.set(this,t,{value:w.event.trigger(w.extend(a[0],w.Event.prototype),a.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,t)&&w.event.add(e,t,Se)}w.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Q.get(e);if(v)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&w.find.matchesSelector(ie,i),n.guid||(n.guid=w.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(R)||[""]).length;l--;)d=g=(s=Ee.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=w.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=w.event.special[d]||{},c=w.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),w.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Q.hasData(e)&&Q.get(e);if(v&&(u=v.events)){for(l=(t=(t||"").match(R)||[""]).length;l--;)if(d=g=(s=Ee.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=w.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||w.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)w.event.remove(e,d+t[l],n,r,!0);w.isEmptyObject(u)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=w.event.fix(e),u=new Array(arguments.length),l=(Q.get(this,"events")||{})[s.type]||[],c=w.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=w.event.handlers.call(this,s,l),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((w.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<w(i,this).index(l):w.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&De(t,"click",Se),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&De(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Q.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Se:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Se,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Se,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Se,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Te.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ce.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(e,t){w.event.special[e]={setup:function(){return De(this,e,Ne),!1},trigger:function(){return De(this,e),!0},delegateType:t}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||w.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return Ae(this,e,t,n,r)},one:function(e,t,n,r){return Ae(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each(function(){w.event.remove(this,e,n,t)})}});var je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,qe=/<script|<style|<link/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,He=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Oe(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Re(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Me(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(Q.hasData(e)&&(o=Q.access(e),a=Q.set(t,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)w.event.add(t,i,l[i][n]);J.hasData(e)&&(s=J.access(e),u=w.extend({},s),J.set(t,u))}}function Ie(e,t,n,r){t=a.apply([],t);var i,o,s,u,l,c,f=0,p=e.length,d=p-1,v=t[0],y=g(v);if(y||1<p&&"string"==typeof v&&!h.checkClone&&Le.test(v))return e.each(function(i){var o=e.eq(i);y&&(t[0]=v.call(this,i,o.html())),Ie(o,t,n,r)});if(p&&(o=(i=we(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(u=(s=w.map(ve(i,"script"),Pe)).length;f<p;f++)l=i,f!==d&&(l=w.clone(l,!0,!0),u&&w.merge(s,ve(l,"script"))),n.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,w.map(s,Re),f=0;f<u;f++)l=s[f],he.test(l.type||"")&&!Q.access(l,"globalEval")&&w.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&!l.noModule&&w._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):m(l.textContent.replace(He,""),l,c))}return e}function We(e,t,n){for(var r,i=t?w.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||w.cleanData(ve(r)),r.parentNode&&(n&&oe(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e.replace(je,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=oe(e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],"input"===(l=(u=a[r]).nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Me(o[r],a[r]);else Me(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=w.event.special,o=0;void 0!==(n=e[o]);o++)if(G(n)){if(t=n[Q.expando]){if(t.events)for(r in t.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[Q.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),w.fn.extend({detach:function(e){return We(this,e,!0)},remove:function(e){return We(this,e)},text:function(e){return _(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ie(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Oe(this,e).appendChild(e)})},prepend:function(){return Ie(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Oe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return _(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!qe.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ie(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ve(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=[],i=w(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(i[a])[t](n),s.apply(r,n.get());return this.pushStack(r)}});var $e=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),Fe=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Be=new RegExp(re.join("|"),"i");function _e(e,t,n){var r,i,o,a,s=e.style;return(n=n||Fe(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||oe(e)||(a=w.style(e,t)),!h.pixelBoxStyles()&&$e.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);i="1%"!==t.top,u=12===n(t.marginLeft),c.style.right="60%",s=36===n(t.right),o=36===n(t.width),c.style.position="absolute",a=12===n(c.offsetWidth/3),ie.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var i,o,a,s,u,l=r.createElement("div"),c=r.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(h,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),a}}))}();var Ue=["Webkit","Moz","ms"],Xe=r.createElement("div").style,Ve={};function Ge(e){return w.cssProps[e]||Ve[e]||(e in Xe?e:Ve[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ue.length;n--;)if((e=Ue[n]+t)in Xe)return e}(e)||e)}var Ye=/^(none|table(?!-c[ea]).+)/,Qe=/^--/,Je={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"};function Ze(e,t,n){var r=ne.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function et(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=w.css(e,n+re[a],!0,i)),r?("content"===n&&(u-=w.css(e,"padding"+re[a],!0,i)),"margin"!==n&&(u-=w.css(e,"border"+re[a]+"Width",!0,i))):(u+=w.css(e,"padding"+re[a],!0,i),"padding"!==n?u+=w.css(e,"border"+re[a]+"Width",!0,i):s+=w.css(e,"border"+re[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function tt(e,t,n){var r=Fe(e),i=(!h.boxSizingReliable()||n)&&"border-box"===w.css(e,"boxSizing",!1,r),o=i,a=_e(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if($e.test(a)){if(!n)return a;a="auto"}return(!h.boxSizingReliable()&&i||"auto"===a||!parseFloat(a)&&"inline"===w.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===w.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+et(e,t,n||(i?"border":"content"),o,r,a)+"px"}function nt(e,t,n,r,i){return new nt.prototype.init(e,t,n,r,i)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=_e(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=V(t),u=Qe.test(t),l=e.style;if(u||(t=Ge(s)),a=w.cssHooks[t]||w.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=ne.exec(n))&&i[1]&&(n=le(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(w.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=V(t);return Qe.test(t)||(t=Ge(s)),(a=w.cssHooks[t]||w.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=_e(e,t,r)),"normal"===i&&t in Ke&&(i=Ke[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!Ye.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?tt(e,t,r):ue(e,Je,function(){return tt(e,t,r)})},set:function(e,n,r){var i,o=Fe(e),a=!h.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===w.css(e,"boxSizing",!1,o),u=r?et(e,t,r,s,o):0;return s&&a&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-et(e,t,"border",!1,o)-.5)),u&&(i=ne.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Ze(0,n,u)}}}),w.cssHooks.marginLeft=ze(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(_e(e,"marginLeft"))||e.getBoundingClientRect().left-ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+re[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(w.cssHooks[e+t].set=Ze)}),w.fn.extend({css:function(e,t){return _(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Fe(e),i=t.length;a<i;a++)o[t[a]]=w.css(e,t[a],!1,r);return o}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,1<arguments.length)}}),((w.Tween=nt).prototype={constructor:nt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var e=nt.propHooks[this.prop];return e&&e.get?e.get(this):nt.propHooks._default.get(this)},run:function(e){var t,n=nt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):nt.propHooks._default.set(this),this}}).init.prototype=nt.prototype,(nt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||!w.cssHooks[e.prop]&&null==e.elem.style[Ge(e.prop)]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=nt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=nt.prototype.init,w.fx.step={};var rt,it,ot,at,st=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function lt(){it&&(!1===r.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(lt):e.setTimeout(lt,w.fx.interval),w.fx.tick())}function ct(){return e.setTimeout(function(){rt=void 0}),rt=Date.now()}function ft(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=re[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function pt(e,t,n){for(var r,i=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function dt(e,t,n){var r,i,o=0,a=dt.prefilters.length,s=w.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=rt||ct(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:rt||ct(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=V(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=w.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);o<a;o++)if(r=dt.prefilters[o].call(l,e,c,l.opts))return g(r.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return w.map(c,pt,l),g(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(dt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(R);for(var n,r=0,i=e.length;r<i;r++)n=e[r],dt.tweeners[n]=dt.tweeners[n]||[],dt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&se(e),v=Q.get(e,"fxshow");for(r in n.queue||(null==(a=w._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,w.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],st.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||w.style(e,r)}if((u=!w.isEmptyObject(t))||!w.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Q.get(e,"display")),"none"===(c=w.css(e,"display"))&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=w.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===w.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Q.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&fe([e],!0),p.done(function(){for(r in g||fe([e]),Q.remove(e,"fxshow"),d)w.style(e,r,d[r])})),u=pt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),o=w.speed(t,n,r),a=function(){var t=dt(this,w.extend({},e),o);(i||Q.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=w.timers,a=Q.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ut.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Q.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=w.timers,a=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ft(t,!0),e,r,i)}}),w.each({slideDown:ft("show"),slideUp:ft("hide"),slideToggle:ft("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(rt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),rt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){it||(it=!0,lt())},w.fx.stop=function(){it=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx&&w.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},ot=r.createElement("input"),
at=r.createElement("select").appendChild(r.createElement("option")),ot.type="checkbox",h.checkOn=""!==ot.value,h.optSelected=at.selected,(ot=r.createElement("input")).value="t",ot.type="radio",h.radioValue="t"===ot.value;var ht,gt=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return _(this,w.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?w.prop(e,t,n):(1===o&&w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(R);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=gt[t]||w.find.attr;gt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=gt[a],gt[a]=i,i=null!=n(e,t,r)?a:null,gt[a]=o),i}});var vt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;function mt(e){return(e.match(R)||[]).join(" ")}function xt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(R)||[]}w.fn.extend({prop:function(e,t){return _(this,w.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).addClass(e.call(this,t,xt(this)))});if((t=bt(e)).length)for(;n=this[u++];)if(i=xt(n),r=1===n.nodeType&&" "+mt(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=mt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).removeClass(e.call(this,t,xt(this)))});if(!arguments.length)return this.attr("class","");if((t=bt(e)).length)for(;n=this[u++];)if(i=xt(n),r=1===n.nodeType&&" "+mt(i)+" "){for(a=0;o=t[a++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");i!==(s=mt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,xt(this),t),t)}):this.each(function(){var t,i,o,a;if(r)for(i=0,o=w(this),a=bt(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=xt(this))&&Q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Q.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+mt(xt(n))+" ").indexOf(t))return!0;return!1}});var wt=/\r/g;w.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=g(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,w(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=w.map(i,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(wt,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:mt(w.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=w.makeArray(t),a=i.length;a--;)((r=i[a]).selected=-1<w.inArray(w.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<w.inArray(w(e).val(),t)}},h.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),h.focusin="onfocusin"in e;var Tt=/^(?:focusinfocus|focusoutblur)$/,Ct=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,i,o){var a,s,u,l,c,p,d,h,y=[i||r],m=f.call(t,"type")?t.type:t,x=f.call(t,"namespace")?t.namespace.split("."):[];if(s=h=u=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!Tt.test(m+w.event.triggered)&&(-1<m.indexOf(".")&&(m=(x=m.split(".")).shift(),x.sort()),c=m.indexOf(":")<0&&"on"+m,(t=t[w.expando]?t:new w.Event(m,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=x.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:w.makeArray(n,[t]),d=w.event.special[m]||{},o||!d.trigger||!1!==d.trigger.apply(i,n))){if(!o&&!d.noBubble&&!v(i)){for(l=d.delegateType||m,Tt.test(l+m)||(s=s.parentNode);s;s=s.parentNode)y.push(s),u=s;u===(i.ownerDocument||r)&&y.push(u.defaultView||u.parentWindow||e)}for(a=0;(s=y[a++])&&!t.isPropagationStopped();)h=s,t.type=1<a?l:d.bindType||m,(p=(Q.get(s,"events")||{})[t.type]&&Q.get(s,"handle"))&&p.apply(s,n),(p=c&&s[c])&&p.apply&&G(s)&&(t.result=p.apply(s,n),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(y.pop(),n)||!G(i)||c&&g(i[m])&&!v(i)&&((u=i[c])&&(i[c]=null),w.event.triggered=m,t.isPropagationStopped()&&h.addEventListener(m,Ct),i[m](),t.isPropagationStopped()&&h.removeEventListener(m,Ct),w.event.triggered=void 0,u&&(i[c]=u)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),h.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Q.access(r,t);i||r.addEventListener(e,n,!0),Q.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Q.access(r,t)-1;i?Q.access(r,t,i):(r.removeEventListener(e,n,!0),Q.remove(r,t))}}});var Et=e.location,St=Date.now(),kt=/\?/;w.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),n};var Nt=/\[\]$/,At=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;function qt(e,t,n,r){var i;if(Array.isArray(t))w.each(t,function(t,i){n||Nt.test(e)?r(e,i):qt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==x(t))r(e,t);else for(i in t)qt(e+"["+i+"]",t[i],n,r)}w.param=function(e,t){var n,r=[],i=function(e,t){var n=g(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){i(this.name,this.value)});else for(n in e)qt(n,e[n],t,i);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&jt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(At,"\r\n")}}):{name:t.name,value:n.replace(At,"\r\n")}}).get()}});var Lt=/%20/g,Ht=/#.*$/,Ot=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,Mt=/^\/\//,It={},Wt={},$t="*/".concat("*"),Ft=r.createElement("a");function Bt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(R)||[];if(g(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function _t(e,t,n,r){var i={},o=e===Wt;function a(s){var u;return i[s]=!0,w.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function zt(e,t){var n,r,i=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&w.extend(!0,e,r),e}Ft.href=Et.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,w.ajaxSettings),t):zt(w.ajaxSettings,e)},ajaxPrefilter:Bt(It),ajaxTransport:Bt(Wt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=w.ajaxSetup({},n),g=h.context||h,v=h.context&&(g.nodeType||g.jquery)?w(g):w.event,y=w.Deferred(),m=w.Callbacks("once memory"),x=h.statusCode||{},b={},T={},C="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Pt.exec(a);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=T[e.toLowerCase()]=T[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||C;return i&&i.abort(t),S(0,t),this}};if(y.promise(E),h.url=((t||h.url||Et.href)+"").replace(Mt,Et.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(R)||[""],null==h.crossDomain){l=r.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Ft.protocol+"//"+Ft.host!=l.protocol+"//"+l.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=w.param(h.data,h.traditional)),_t(It,h,n,E),c)return E;for(p in(f=w.event&&h.global)&&0==w.active++&&w.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Rt.test(h.type),o=h.url.replace(Ht,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Lt,"+")):(d=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(kt.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Ot,"$1"),d=(kt.test(o)?"&":"?")+"_="+St+++d),h.url=o+d),h.ifModified&&(w.lastModified[o]&&E.setRequestHeader("If-Modified-Since",w.lastModified[o]),w.etag[o]&&E.setRequestHeader("If-None-Match",w.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&E.setRequestHeader("Content-Type",h.contentType),E.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+$t+"; q=0.01":""):h.accepts["*"]),h.headers)E.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,E,h)||c))return E.abort();if(C="abort",m.add(h.complete),E.done(h.success),E.fail(h.error),i=_t(Wt,h,n,E)){if(E.readyState=1,f&&v.trigger("ajaxSend",[E,h]),c)return E;h.async&&0<h.timeout&&(u=e.setTimeout(function(){E.abort("timeout")},h.timeout));try{c=!1,i.send(b,S)}catch(t){if(c)throw t;S(-1,t)}}else S(-1,"No Transport");function S(t,n,r,s){var l,p,d,b,T,C=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",E.readyState=0<t?4:0,l=200<=t&&t<300||304===t,r&&(b=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(h,E,r)),b=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(h,b,E,l),l?(h.ifModified&&((T=E.getResponseHeader("Last-Modified"))&&(w.lastModified[o]=T),(T=E.getResponseHeader("etag"))&&(w.etag[o]=T)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=b.state,p=b.data,l=!(d=b.error))):(d=C,!t&&C||(C="error",t<0&&(t=0))),E.status=t,E.statusText=(n||C)+"",l?y.resolveWith(g,[p,C,E]):y.rejectWith(g,[E,C,d]),E.statusCode(x),x=void 0,f&&v.trigger(l?"ajaxSuccess":"ajaxError",[E,h,l?p:d]),m.fireWith(g,[E,C]),f&&(v.trigger("ajaxComplete",[E,h]),--w.active||w.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,n,r,i){return g(n)&&(i=i||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:i,data:n,success:r},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e,t){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){w.globalEval(e,t)}})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ut={0:200,1223:204},Xt=w.ajaxSettings.xhr();h.cors=!!Xt&&"withCredentials"in Xt,h.ajax=Xt=!!Xt,w.ajaxTransport(function(t){var n,r;if(h.cors||Xt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ut[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(i){if(n)throw i}},abort:function(){n&&n()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,o){t=w("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}});var Vt,Gt=[],Yt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||w.expando+"_"+St++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Yt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Yt,"$1"+i):!1!==t.jsonp&&(t.url+=(kt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||w.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?w(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Gt.push(i)),a&&g(o)&&o(a[0]),a=o=void 0}),"script"}),h.createHTMLDocument=((Vt=r.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Vt.childNodes.length),w.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(h.createHTMLDocument?((i=(t=r.implementation.createHTMLDocument("")).createElement("base")).href=r.location.href,t.head.appendChild(i)):t=r),a=!n&&[],(o=D.exec(e))?[t.createElement(o[1])]:(o=we([e],t,a),a&&a.length&&w(a).remove(),w.merge([],o.childNodes)));var i,o,a},w.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=mt(e.slice(s)),e=e.slice(0,s)),g(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&w.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=w.css(e,"position"),c=w(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=w.css(e,"top"),u=w.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),g(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),i.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-w.css(r,"marginTop",!0),left:t.left-i.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||ie})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return _(this,function(e,r,i){var o;if(v(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=ze(h.pixelPosition,function(e,n){if(n)return n=_e(e,t),$e.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){w.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return _(this,function(t,n,i){var o;return v(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?w.css(t,n,s):w.style(t,n,i,s)},t,a?i:void 0,a)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),w.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return r=o.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(o.call(arguments)))}).guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=A,w.isFunction=g,w.isWindow=v,w.camelCase=V,w.type=x,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var Qt=e.jQuery,Jt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Jt),t&&e.jQuery===w&&(e.jQuery=Qt),w},t||(e.jQuery=e.$=w),w});
define('common/constants',["jquery","ojs/ojcore","knockout"],function(e,t,s){return new function(){this.appId=1,this.status="temp-new",this.appMode="ocws.mode",this.appName="Postpaid Reflex Ordering",this.base64decodeErrorTxt="There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding.",this.serviceTimeout=18e4,this.notificationTimeout=5e3,this.messagePositions={"top-page":{my:{vertical:"top",horizontal:"right"},at:{vertical:"bottom",horizontal:"right"},of:"#pageHeader"},"top-window":{my:{vertical:"top",horizontal:"center"},at:{vertical:"top",horizontal:"center"},of:"window"},"bottom-window":{my:{vertical:"bottom",horizontal:"center"},at:{vertical:"bottom",horizontal:"center"},of:"window"}},this.docGenSuccessTxt="Document Generation Succcessfull",this.actionFireSuccessTxt="Action successfully executed",this.businessErrors={SUCCESS:{get:{message:"Information fetched successfully"},put:{message:"Action successfully executed"},post:{message:"Action successfully executed"},delete:{message:"Action successfully executed"}},ERROR:{get:{message:"Failed to fetch information"},put:{message:"Failed to execute action"},post:{message:"Failed to execute action"},delete:{message:"Failed to execute action"}}},this.backendInfoFetchSuccessTxt="Information fetched successfully",this.backendErrorFlag="ERROR",this.backendSuccessFlag="SUCCESS",this.backendErrors={404:{code:404,message:"The backend service is not reachable, please contact administrator."},403:{code:403,message:"Access denied. Please provide valid credential or token."},500:{code:500,message:"Internal server error"},200:{code:200,message:"Success."},0:{code:0,message:"The backend service is not reachable, please contact administrator."},401:{code:401,message:"Access Denied. You are not authorized to access this page. INIT"}},this.channel="PRO"}});
define('common/userInfo',["jquery","ojs/ojcore","knockout"],function(e,r,s){return new function(){var e=this;e.userLogin=s.observable(),e.userGroup=s.observable(),e.userAccess=s.observableArray(),e.userRole=s.observableArray(),e.userToken=function(){var e=localStorage.getItem("token");return e||""},e.setUserToken=function(){var e=new URL(window.location.href).searchParams.get("token");e&&localStorage.setItem("token",e)},e.getCookie=function(e,r){if(e&&r)for(var s=r.split(";"),n=0;n<s.length;n++)if(s[n].includes(e))return s[n].split("=")[1];return""},e.setUserInfo=function(r){e.userLogin(r.userName),e.userAccess(r.access),e.userRole(r.userRoleList)},e.isRoleReadOnly=function(){var r=e.userRole();return!(r.includes("PROUser")||r.includes("PROAdministrator")||r.includes("Administrators"))},e.hasAccess=function(r){var s=e.userAccess();if(s)for(let e=0;e<s.length;e++)if(s[e].viewName===r&&1===s[e].accessible)return!0;return!1}}});
define('common/configService',["jquery","ojs/ojcore","knockout","common/constants","common/userInfo"],function(t,e,r,o,s){return new function(){if(this.serviceUrl="",this.serviceAdmUrl="",this.portalServiceUrl="",this.portalAdmServiceUrl="",s.setUserToken(),localStorage.getItem("token")){this.tokenPayload=JSON.parse(decodeURIComponent(atob(localStorage.getItem("token").split(".")[1])));var t=this.tokenPayload.appMode;t?"DEV"===t?(this.serviceUrl="http://10.250.200.191:7003/prows",this.serviceAdmUrl="http://10.250.200.191:7003/ocws",this.portalServiceUrl="http://10.250.200.191:7003/pro/web",this.portalAdmServiceUrl="http://10.250.200.191:7003/ocwsadm/web"):"SIT"===t?(this.serviceUrl="http://10.250.200.192:7003/prows",this.serviceAdmUrl="http://10.250.200.192:7003/ocws",this.portalServiceUrl="http://10.250.200.192:7003/pro/web",this.portalAdmServiceUrl="http://10.250.200.192:7003/ocwsadm/web"):"PRD"===t&&(this.serviceUrl="http://10.1.89.22:7178/prows",this.serviceAdmUrl="http://10.1.89.22:7178/ocws",this.portalServiceUrl="http://10.1.89.22:7178/pro/web",this.portalAdmServiceUrl="http://10.1.89.22:7178/ocwsadm/web"):this.portalAdmServiceUrl="http://10.1.89.22:7178/ocwsadm/web"}else this.portalAdmServiceUrl="http://10.1.89.22:7178/ocwsadm/web"}});
define('common/commonUtils',["jquery","ojs/ojcore","knockout","common/configService","common/constants"],function(e,n,o,r,t){return new function(){var e=this;e.isTokenExist=function(){var n=localStorage.getItem("token"),o=e.getParameterByName("token");return!(!n&&!o)},e.sanitizeUrl=function(e){return e=(e=(e=(e=e.replace("<","&lt;").replace(">","&gt;")).replace("eval\\((.*)\\)","")).replace("[\\\"\\'][\\s]*((?i)javascript):(.*)[\\\"\\']",'""')).replace("((?i)script)","")},e.restErrorHandler=function(n,o){if(403===n||"403"===n){localStorage.clear();var a,c=o?JSON.parse(o):null,i=encodeURIComponent(e.sanitizeUrl(window.location.href));a=c?c.url+i+"&appId="+encodeURIComponent(t.appId):r.portalAdmServiceUrl+"/login.html?url="+i+"&appId="+encodeURIComponent(t.appId),window.location.href=a}else 401!==n&&"401"!==n||window.location.replace("?root=401-unauthorized")},e.getParameterByName=function(e,n){n||(n=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(n);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}}});
define('ojs/ojmodel',["ojs/ojcore","jquery","promise"],function(t,e){t.Events=t.Events={on:function(t,e,o){return this.OnInternal(t,e,o,!1,!1)},off:function(t,e,o){return this._offInternal(t,e,o,!1)},trigger:function(e){var o=Array.prototype.slice.call(arguments);return o.unshift(!1),t.Events.TriggerInternal.apply(this,o)},once:function(t,e,o){return this._onceInternal(t,e,o,!1,null)},listenTo:function(e,o,n){var r,i,s,l,a,c,u,h={};for(u in o.constructor===String?h[o]=n:h=o,h)if(h.hasOwnProperty(u))for(r=t.Events._getEvents(u),i=0;i<r.length;i+=1)c={event:s=r[i].event,attribute:l=r[i].attribute,object:e,callback:h[u]},a=l?s+":"+l:s,void 0===this._listeningTo&&(this._listeningTo=[]),this._listeningTo.push(c),e.OnInternal(a,h[u],null,!0,!1);return this},listenToOnce:function(e,o,n){var r,i,s,l,a,c,u,h={};for(u in o.constructor===String?h[o]=n:h=o,h)if(h.hasOwnProperty(u))for(r=t.Events._getEvents(u),i=0;i<r.length;i+=1)c={event:s=r[i].event,attribute:l=r[i].attribute,object:e,callback:h[u]},a=l?s+":"+l:s,void 0===this._listeningTo&&(this._listeningTo=[]),this._listeningTo.push(c),e._onceInternal(a,h[u],null,!0,this);return this},stopListening:function(e,o,n){var r,i,s,l,a,c,u,h,p,d,f,_,g,v={};if(null==arguments||arguments.length<=1){for(_=this._listeningTo?this._listeningTo.length:0,f=0;f<_;f++)c=this._listeningTo[f],(u=!e||e===c.object)&&c.object._offInternal.apply(c.object,[c.event,c.callback,c.context,!0]);return this._listeningTo=[],this}for(g in i=o,e&&e.constructor===String&&(i=e),i.constructor===String?v[i]=n:v=i,v)if(v.hasOwnProperty(g))for(r=t.Events._getEvents(g),s=0;s<r.length;s+=1)for(l=r[s].event,a=r[s].attribute,f=(_=this._listeningTo?this._listeningTo.length:0)-1;f>=0;f-=1)c=this._listeningTo[f],u=!e||e===c.object,h=!l||l===c.event,p=!n||v[g]===c.callback,d=!a||a===c.attribute,u&&h&&p&&d&&(this._listeningTo[f].object._offInternal.apply(this._listeningTo[f].object,[this._listeningTo[f].event,this._listeningTo[f].callback,this._listeningTo[f].context,!0]),this._listeningTo.splice(f,1));return this}},t.Events.bind=t.Events.on,t.Events.unbind=t.Events.off,t.Events.EventType={ADD:"add",ALLADDED:"alladded",REMOVE:"remove",RESET:"reset",REFRESH:"refresh",SORT:"sort",CHANGE:"change",DESTROY:"destroy",ALLREMOVED:"allremoved",REQUEST:"request",SYNC:"sync",ERROR:"error",INVALID:"invalid",READY:"ready",ALL:"all"},t.Events.Mixin=function(t,e){var o,n=e||this;for(o in n)"function"==typeof n[o]&&(t[o]=n[o]);t.eventHandlers={},t._listeningTo=[]},t.Events._onceInternal=function(t,e,o,n,r){var i,s,l,a,c,u,h;u=this._getEventMap(t,e,o),c=u.map,h=u.context;var p=this;return Object.keys(c||{}).forEach(function(t){if(Object.prototype.hasOwnProperty.call(c,t))for(i=p._getEvents(t),s=0;s<i.length;s+=1)l=i[s].event,a=i[s].attribute,void 0===p.eventHandlers&&(p.eventHandlers=[]),void 0===p.eventHandlers[l]&&(p.eventHandlers[l]=[]),p.eventHandlers[l].push({callback:c[t],context:h,attribute:a,once:!0,fired:!1,listen:n,otherObj:r})}),this},t.Events._shouldFire=function(t){return!t.once||!t.fired&&(t.fired=!0,!0)},t.Events._getContext=function(t,e){return e.context||e.otherObj||t},t.Events.TriggerInternal=function(e,o){var n,r,i,s,l,a,c,u,h,p=this._getEvents(o);for(s=[],n=0;n<p.length;n+=1)r=p[n].event,i=p[n].attribute,s.push({event:r,attribute:i});for(n=0;n<s.length;n+=1){for(u=this._getHandlers(this.eventHandlers,t.Events.EventType.ALL),l=t.Events._getHandlers(this.eventHandlers,s[n].event,!1),a=0;a<(l?l.length:0);a+=1)l[a].attribute===s[n].attribute&&l[a].callback&&(c=Array.prototype.slice.call(arguments),l&&l[a]&&l[a].once&&(this._removeHandler(t.Events._getHandlers(this.eventHandlers,s[n].event,!0),l[a]),l[a].otherObj&&l[a].otherObj.stopListening(this,o,l[a].callback)),l&&l[a]&&this._shouldFire(l[a])&&(h=l[a].callback,e&&!l[a].ignoreSilent||h.apply(t.Events._getContext(this,l[a]),c.slice(2))));for(a=0;a<(u?u.length:0);a+=1)(c=Array.prototype.slice.call(arguments)).length>0&&(s[n].attribute?c[1]=s[n].event+":"+s[n].attribute:c[1]=s[n].event),u&&u[a]&&u[a].callback&&this._shouldFire(u[a])&&(h=u[a].callback,e&&!u[a].ignoreSilent||h.apply(t.Events._getContext(this,u[a]),c.slice(1))),u&&u[a]&&u[a].once&&(this._removeHandler(this._getHandlers(this.eventHandlers,t.Events.EventType.ALL,!0),u[a]),u[a].otherObj&&u[a].otherObj.stopListening(this,t.Events.EventType.ALL,u[a].callback))}return this},t.Events.OnInternal=function(e,o,n,r,i){var s,l,a,c,u,h,p,d,f=this._getEventMap(e,o,n);for(d in s=f.map,p=f.context,s)if(s.hasOwnProperty(d))for(l=this._getEvents(d),a=0;a<l.length;a+=1)c=l[a].event,u=l[a].attribute,void 0===this.eventHandlers&&(this.eventHandlers=[]),void 0===this.eventHandlers[c]&&(this.eventHandlers[c]=[]),h={callback:s[d],context:p,attribute:u,listen:r,ignoreSilent:i},-1===this._checkForHandler(this.eventHandlers[c],h,t.Events._handlersIdentical)&&this.eventHandlers[c].push(h);return this},t.Events._offInternal=function(t,e,o,n){var r,i,s,l;if(null===arguments||0===arguments.length)return this.eventHandlers={},this;if(null==t)return this._removeEvent(t,e,o,n),this;for(l in r=(i=this._getEventMap(t,e,o)).map,s=i.context,r)r.hasOwnProperty(l)&&this._removeEvent(l,r[l],s,n);return this},t.Events._getEventMap=function(t,e,o){var n={};return t.constructor!==String?{map:n=t,context:e}:(n[t]=e,{map:n,context:o})},t.Events._removeEvent=function(e,o,n,r){var i,s,l,a,c,u,h,p,d,f=[];if(e)f=t.Events._getEvents(e);else if(void 0!==this.eventHandlers){var _=this;Object.keys(this.eventHandlers||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(_.eventHandlers,t)&&f.push({event:t})})}for(i=0;i<f.length;i+=1)if(s=f[i].event,a=f[i].attribute,void 0!==this.eventHandlers&&this.eventHandlers[s]instanceof Array){for(l=(c=this.eventHandlers[s]).length-1;l>=0;l-=1)u=null==o||c[l].callback===o,h=null==n||c[l].context===n,p=null==a||c[l].attribute===a,d=null==r||c[l].listen===r,u&&h&&p&&d&&c.splice(l,1);0===c.length&&delete this.eventHandlers[s]}},t.Events._removeHandler=function(t,e){var o,n,r,i,s,l;if(t)for(o=t.length-1;o>=0;o-=1)n=void 0===e.callback||null===e.callback||t[o].callback===e.callback,r=void 0===e.context||null===e.context||t[o].context===e.context,i=void 0===e.attribute||null===e.attribute||t[o].attribute===e.attribute,s=void 0===e.listen||null===e.listen||t[o].listen===e.listen,l=void 0===e.once||null===e.once||t[o].once===e.once,n&&r&&i&&s&&l&&t.splice(o,1)},t.Events._getEvents=function(t){var e,o,n,r,i=t?t.split(" "):[],s=[];for(e=0;e<i.length;e+=1)n=(o=i[e].split(":"))[0],r=o.length>1?o[1]:null,s.push({event:n,attribute:r});return s},t.Events._handlersIdentical=function(t,e){return t.callback===e.callback&&t.attribute===e.attribute&&t.context===e.context&&t.listen===e.listen&&t.once===e.once},t.Events._listenersIdentical=function(t,e){return t.event===e.event&&t.attribute===e.attribute&&t.context===e.context&&t.object===e.object},t.Events._checkForHandler=function(t,e,o){var n;if(void 0===t)return-1;for(n=0;n<t.length;n+=1)if(o(t[n],e))return n;return-1},t.Events._getHandlers=function(t,e,o){if(t&&t[e]instanceof Array){if(o)return t[e];var n,r=[];for(n=0;n<t[e].length;n++)r.push(t[e][n]);return r}return null},t.Collection=function(e,o){t.Collection._justExtending||t.Collection._init(this,e,o,null)},t.Object.createSubclass(t.Collection,t.Object,"oj.Collection"),t.Collection.prototype.model=null,t.Collection.prototype.modelId=function(t){var e=this.model;return e&&t?t[e.idAttribute||e.prototype.idAttribute||"id"]:null},t.Collection.prototype.length=void 0,t.Collection.prototype.models=void 0,t.Collection.prototype._modelIndices=[],t.Collection.prototype.url=null,t.Collection.prototype.changes=[],t.Collection.prototype.customURL=null,t.Collection.prototype.customPagingOptions=null,t.Collection.prototype.lastFetchSize=void 0,t.Collection.prototype.hasMore=!1,t.Collection.prototype.totalResults=void 0,t.Collection.prototype.lastFetchCount=void 0,t.Collection.prototype.modelLimit=-1,t.Collection.prototype.offset=void 0,t.Collection.prototype.fetchSize=-1,t.Collection.prototype.sortDirection=1,t.Collection.prototype.comparator=null,t.Collection.prototype.omitLanguageHeader=!1,t.Collection.prototype.Init=function(){t.Collection.superclass.Init.call(this)},t.Collection.extend=function(o,n){var r,i=null;return t.Collection._justExtending=!0,i=new t.Collection,t.Collection._justExtending=!1,e.extend(i,this.prototype),r=o&&o.constructor&&Object.prototype.hasOwnProperty.call(o,"constructor")?o.constructor:function(e,n){t.Collection._init(this,e,n,o)},n&&Object.keys(n).forEach(function(t){Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}),o&&Object.keys(o).forEach(function(t){Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}),e.extend(r,this),r.prototype=i,r.extend=t.Collection.extend,r.prototype.constructor=r,r},t.Collection._init=function(e,o,n,r){var i,s,l,a;if(e.Init(),t.Events.Mixin(e),r)for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);var c=n||{};for(s=["comparator","customPagingOptions","customURL",t.Collection._FETCH_SIZE_PROP,"model","modelLimit","sortDirection","url"],i=0;i<s.length;i++)Object.prototype.hasOwnProperty.call(c,s[i])&&void 0!==c[s[i]]&&(e[s[i]]=c[s[i]]);void 0===e._getFetchSize(null)&&e.setFetchSize(-1),void 0===e.modelLimit&&e.setModelLimit(-1),e.hasMore=!1,e.lruCount=0,e._setModels([],!0);var u=o;c.parse&&(u=e.parse(o)),null!=u&&(c.noparse=!0,l=u instanceof Array?u:[u],e._addInternal(l,c,!0,!1)),e._setLength(),u||(e.totalResults=void 0),r&&r.initialize&&r.initialize.call(e,u,c)},t.Collection.prototype.on=function(t,e){},t.Collection.prototype.OnInternal=function(t,e,o,n,r){},t.Collection.prototype.TriggerInternal=function(t,e,o,n,r){},t.Collection.prototype._fireRequest=function(e,o,n,r){this.TriggerInternal(r,t.Events.EventType.REQUEST,e,o,n)},t.Collection.prototype._resetChanges=function(){this.changes=[]},t.Collection.prototype._setChangeAt=function(t,e){for(var o=t;o<t+e;o++)-1===this.changes.indexOf(o)&&this.changes.push(o)},t.Collection.prototype._setModels=function(t,e){if(this.models=t,e)this._modelIndices=[],this._resetChanges();else for(var o=0;o<t.length;o++)t[o]&&this._modelIndices.push(o)},t.Collection.prototype._getModels=function(){return this.models},t.Collection.prototype._getModelsLength=function(){return this._getModels().length},t.Collection.prototype._overUpperLimit=function(t){return!(t<this._getModelsLength()||this.IsVirtual()&&(!this._hasTotalResults()||0===this._getModelsLength()))},t.Collection.prototype._hasTotalResults=function(){return t.Collection._defined(this.totalResults)},t.Collection._defined=function(t){return null!=t},t.Collection.prototype._pushModel=function(t){this._getModels().push(t),this._modelIndices.push(this._getModelsLength()-1),this._setChangeAt(this._getModelsLength()-1,1)},t.Collection.prototype._pushModels=function(t){this._makeModelHead(t),this._pushModel(t),this.lruCount=this.lruCount+1,t.SetIndex(this._getModelsLength()-1)},t.Collection.prototype._reduceLRU=function(t){if(t)for(var e=0;e<t.length;e++)t[e]&&(this.lruCount=this.lruCount-1)},t.Collection.prototype._spliceModels=function(t,e,o){for(var n=t;n<t+e;n++)this._removePrevNext(this._getModel(n));void 0===o?(this._reduceLRU(this._getModels().splice(t,e)),this._spliceModelIndices(t,t+e-1)):(this._reduceLRU(this._getModels().splice(t,e,o)),this._spliceModelIndices(t,t+e-1),this._insertModelIndex(t),this._makeModelHead(o)),this._setChangeAt(t,e),this.lruCount<0&&(this.lruCount=0),this._realignModelIndices(t)},t.Collection.prototype._getModel=function(t){return this._getModels()[t]},t.Collection.prototype._realignModelIndices=function(t){for(var e,o=0;o<this._modelIndices.length;o++)(e=this._modelIndices[o])>=t&&this._getModel(e)&&this._getModel(e).SetIndex(e)},t.Collection.prototype._removePrevNext=function(t){if(t){var e=t.GetPrevious(),o=t.GetNext();e?e.SetNext(o):this.head=o,o?o.SetPrevious(e):this.tail=e}},t.Collection.prototype._makeModelHead=function(t){t.SetNext(this.head),this.head?this.head.SetPrevious(t):this.tail=t,t.SetPrevious(null),this.head=t},t.Collection.prototype._setModelIndex=function(t){-1===this._modelIndices.indexOf(t)&&this._modelIndices.push(t)},t.Collection.prototype._insertModelIndex=function(t){for(var e=0;e<this._modelIndices.length;e++)this._modelIndices[e]>=t&&(this._modelIndices[e]=this._modelIndices[e]+1);this._modelIndices.push(t)},t.Collection.prototype._spliceModelIndices=function(t,e){var o=void 0===e?t:e;this._clearModelIndices(t,o);for(var n=o-t+1,r=0;r<this._modelIndices.length;r++)this._modelIndices[r]>o&&(this._modelIndices[r]-=n)},t.Collection.prototype._clearModelIndices=function(t,e){for(var o=void 0===e?t:e,n=t;n<=o;n++){var r=this._modelIndices.indexOf(t);r>-1&&this._modelIndices.splice(r,1)}},t.Collection.prototype._setModel=function(t,e){var o=this._getModel(t);this._removePrevNext(o),o||(this.lruCount=this.lruCount+1),this._setChangeAt(t,1),this._getModels()[t]=e,e&&(this._setModelIndex(t),e.SetIndex(t),this._makeModelHead(e))},t.Collection.prototype._clearOutModels=function(t){var e,o,n=this.tail,r=0;for(this.tail=null;n&&r<t;)e=n.GetIndex(),(o=this._getModel(e))&&o.hasChanged()?(this.tail||(this.tail=n),n=n.GetPrevious()):(this.lruCount=this.lruCount-1,e>-1&&(this._setModel(e,void 0),this._clearModelIndices(e,e)),n.SetNext(null),n=n.SetPrevious(null),r+=1);this.tail||(this.tail=n),this.lruCount<0&&(this.lruCount=0),0===this.lruCount&&(this.head=null,this.tail=null)},t.Collection.prototype._resetLRU=function(){this.lruCount=0,this.head=null,this.tail=null},t.Collection.prototype._manageLRU=function(t){if(this.IsVirtual()){var e=this._getModelLimit();e>-1&&this.lruCount+t>e&&this._clearOutModels(this.lruCount+t-e)}},t.Collection.prototype.clone=function(){return this._cloneInternal(!0)},t.Collection.prototype._cloneInternal=function(t){var e,o,n=new this.constructor;if(this.IsVirtual()&&(n=this._copyFetchProperties(n))._resetModelsToFullLength(),n=this._copyProperties(n),t){var r,i=[];for(e=0;e<this._modelIndices.length;e++)i.push(this._modelIndices[e]);for(i.sort(function(t,e){return t-e}),e=0;e<i.length;e++)r=i[e],(o=this._atInternal(r,null,!0,!1))&&n._addInternal(o.clone(),{at:r},!0,!1)}return n},t.Collection.prototype._copyProperties=function(t){var e,o,n=["comparator","model","modelId"];for(o=0;o<n.length;o++)t[e=n[o]]=this[e];return t},t.Collection.prototype._copyFetchProperties=function(e){var o,n,r=["totalResults","hasMore",t.Collection._FETCH_SIZE_PROP];for(n=0;n<r.length;n++)e[o=r[n]]=this[o];return e},t.Collection.prototype._getLength=function(){return this.length},t.Collection.prototype._setLength=function(){var t=this._getModelsLength();this.length=t,this.IsVirtual()||(this.totalResults=t)},t.Collection._createModel=function(t,o,n){return t.model?e.isFunction(t.model)?new t.model(o,n):new t.model.constructor(o,n):null},t.Collection.prototype._newModel=function(e,o,n,r){var i,s=null,l=n||{};return l.ignoreDefaults=r,e instanceof t.Model?s=e:this.model?s=t.Collection._createModel(this,e,l):(l.collection=this,s=new t.Model(e,l)),l.validate&&s.validate&&(i=s.validate(s.attributes))?(l.validationError=i,this.TriggerInternal(!1,t.Events.EventType.INVALID,s,i,l),null):s},t.Collection.prototype.add=function(t,e){this._manageLRU(1);var o=e||{};return this._handlePromise(this._addInternal(t,e,!1,o.deferred))},t.Collection.prototype._addInternal=function(e,o,n,r){var i,s,l,a=o||{},c=[],u=a.at,h=a.silent,p=a.force,d=a.merge||!1,f=a.sort,_=!0,g=!1,v=[],y=[];function C(e,o,r,i,c){var y,C=null;return!p&&d&&r?(_=r.Merge(o,e.comparator,h),C=r):(p||(y=n&&i.isNew()?void 0:e._getLocal(i))&&n&&u!==y.index&&t.Logger.warn("Duplicate ID fetched or added without merging, the id = "+y.GetId()),void 0===y?(function(t,e){void 0===u?(t._pushModels(e),s=t._getModelsLength()-1,t._getModel(s).SetCid()):(s=u,t.IsVirtual()&&n?t._setModel(s,e):t._spliceModels(s,0,e),t._getModel(s).SetCid(),u+=1),void 0===e.GetCollection()&&e.SetCollection(t),t._setLength(),t._listenToModel(e),g=!0}(e,i),C=i):C=y),function(e,o,r,i,c){var p=a||{};n&&(p.fillIn=!0);var d=p.comparator||e._hasComparator();if((!n||n&&d)&&_&&void 0===o&&!f&&void 0===u&&e._getLength()>1){s>-1&&(l=e._getModel(s).cid);var y={};t.CollectionUtils.copyInto(y,p),y.add=!0,e.sort(y),s>-1&&(s=e.IsVirtual()?-1:e.indexOf(e.getByCid(l),c))}g&&(p.at&&(p.index=s),i?(i.TriggerInternal(h,t.Events.EventType.ADD,i,e,p),v.push(i)):(r.TriggerInternal(h,t.Events.EventType.ADD,r,e,p),v.push(r)))}(e,y,r,i,c),C}function m(e,o,r){g=!1;var i=e._newModel(o,!0,a,!1),l=null,c=null;if(null!=i){if(s=-1,i.SetupId(),l=o instanceof t.Model?o:i,r)return p?new Promise(function(t){var o=C(e,l,void 0,i,r);y.push(o),t(o)}):e._getInternal(l,{silent:!0},r,!0).then(function(t){c=t.m;var o=C(e,l,c,i,r);y.push(o)});!p&&d&&(c=n?e._getLocal(l):e.get(l));var u=C(e,l,c,i,r);u&&y.push(u)}else y.push(!1);return Promise.resolve()}function I(t,e){return t.parse&&a.parse&&!a.noparse?t.parse(e):e}if(void 0!==u&&u<0&&(u+=this._getLength()+1),e instanceof Array?c=e:c.push(e),!n&&(this.IsVirtual()||r)){var M=this;return new Promise(function(e,o){var n=function(t){return new Promise(function(e,o){m(M,c[t],!0).then(function(){e(t+1)},o)})},r=Promise.resolve(0);for(c=I(M,c),i=0;i<c.length;i++)r=r.then(n);r.then(function(){v.length>0&&M.TriggerInternal(a.silent,t.Events.EventType.ALLADDED,M,v,a),e(t.Collection._returnModels(y))},o)})}for(c=I(this,c),i=0;i<c.length;i++)m(this,c[i],!1);return v.length>0&&this.TriggerInternal(a.silent,t.Events.EventType.ALLADDED,this,v,a),t.Collection._returnModels(y)},t.Collection._returnModels=function(t){return 1===t.length?t[0]:t},t.Collection.prototype._hasComparator=function(){return t.Collection._defined(this.comparator)},t.Collection.prototype.sort=function(e){var o,n,r=e||{},i=r.silent,s=this.comparator;if(!this._hasComparator())return null;if(this.IsVirtual()){var l=this.totalResults;this._hasTotalResults()?this._setModels(new Array(l),!0):(this._setModels([],!0),this._resetLRU(),this._setLength()),n=r.add?{add:!0}:null,this.TriggerInternal(i,t.Events.EventType.SORT,this,n,null);var a=r.startIndex;return null!=a?this.setRangeLocal(a,this._getFetchSize(r)):null}return o=this,this._getModels().sort(function(e,n){return t.Collection.SortFunc(e,n,s,o,o)}),this._realignModelIndices(0),n=r.add?{add:!0}:null,this.TriggerInternal(i,t.Events.EventType.SORT,this,n,null),null},t.Collection._getKey=function(e,o){return e instanceof t.Model?e.get(o):t.Model.GetPropValue(e,o)},t.Collection.SortFunc=function(o,n,r,i,s){var l,a,c,u;if(e.isFunction(r)){if(1===r.length){l=r.call(s,o),a=r.call(s,n);var h=t.StringUtils.isString(l)?l.split(","):[l],p=t.StringUtils.isString(a)?a.split(","):[a];for(c=0;c<h.length;c++)if(0!==(u=t.Collection._compareKeys(h[c],p[c],i.sortDirection)))return u}return r.call(s,o,n)}if(t.StringUtils.isString(r)){var d=r.split(",");for(c=0;c<d.length;c++)if(l=t.Collection._getKey(o,d[c]),a=t.Collection._getKey(n,d[c]),0!==(u=t.Collection._compareKeys(l,a,i.sortDirection)))return u}return 0},t.Collection.prototype.sortedIndex=function(o,n){var r,i,s=n||this.comparator;return s?(this._throwErrIfVirtual("sortedIndex"),r=this,i=function(o,n){var i,l;if(e.isFunction(s)){if(1===s.length){i=s.call(r,o),l=s.call(r,n);var a,c,u=t.StringUtils.isString(i)?i.split(","):[i],h=t.StringUtils.isString(l)?l.split(","):[l];for(c=0;c<u.length;c++)if(0!==(a=t.Collection._compareKeys(u[c],h[c],r.sortDirection)))return a}return s.call(r,o,n)}return t.StringUtils.isString(s)?(i=o.get(s),l=n.get(s),t.Collection._compareKeys(i,l,r.sortDirection)):0},t.Collection._find(this._getModels(),o,i)):-1},t.Collection._find=function(t,e,o){return function n(r,i){var s,l,a;return r>i?-1:(s=e.GetCid(),l=e.GetId(),t[r].Match(l,s)?r:t[i].Match(l,s)?i:(a=Math.floor((i+r)/2),-1===o(t[a],e)?n(r+1,a):1===o(t[a],e)?n(a,i-1):a))}(0,t.length-1)},t.Collection._compareKeys=function(t,e,o){if(-1===o){if(t<e)return 1;if(e<t)return-1}else{if(t>e)return 1;if(e>t)return-1}return 0},t.Collection.prototype.unshift=function(e,o){var n={};return t.CollectionUtils.copyInto(n,o||{}),n.at||(n.at=0),this._manageLRU(1),this._handlePromise(this._addInternal(e,n,!1,n.deferred))},t.Collection.prototype._handlePromise=function(t){return e.isFunction(t.then)?this._addPromise(function(){return t}):t},t.Collection.prototype.shift=function(e){var o,n=e||{},r=this._getDeferred(n);if(this.IsVirtual()||r){var i=this;return this._atInternal(0,n,!1,!0).then(function(e){return o=i._removeInternal(e,0,n),i.TriggerInternal(n.silent,t.Events.EventType.ALLREMOVED,i,[o],n),o})}return o=this._removeInternal(this.at(0),0,n),this.TriggerInternal(n.silent,t.Events.EventType.ALLREMOVED,this,[o],n),o},t.Collection.prototype.initial=function(t){var e=void 0===t?1:t;this._throwErrIfVirtual("initial");var o,n=[];for(o=0;o<this._getLength()-e;o+=1)n.push(this.at(o));return n},t.Collection.prototype._getDeferred=function(t){return(t||{}).deferred},t.Collection.prototype.last=function(t,e){var o,n=this._getDeferred(e),r=void 0===t?1:t;if(1===r)return 0===(o=this._getModelsLength())&&(o=r),o>0?this._atInternal(o-1,e,!1,n):null;var i,s=[];if(o=this._getLength(),n||this.IsVirtual()){var l=o-t;l<0&&(l=0),0===o&&(o=t);var a=this;return this._addPromise(function(){return a.IterativeAt(l,o)})}for(i=o-t;i<o;i+=1)s.push(this.at(i));return s},t.Collection.prototype.IterativeAt=function(t,e){var o,n=[],r=this;return new Promise(function(i,s){var l=function(t){return r.IsVirtual()&&r._hasTotalResults()&&t>=r.totalResults?Promise.resolve(t+1):new Promise(function(e,o){r._deferredAt(t,null).then(function(o){n.push(o),e(t+1)},o)})},a=Promise.resolve(t);for(o=t;o<e;o++)a=a.then(l);a.then(function(){i(n)},s)})},t.Collection.prototype._getDefaultFetchSize=function(e){return null==e?this[t.Collection._FETCH_SIZE_PROP]:e},t.Collection.prototype._calculateNextStart=function(){var e=this.lastFetchCount;return null==e&&(e=this[t.Collection._FETCH_SIZE_PROP]),void 0===this.offset||null===this.offset?e:this.offset+e},t.Collection.prototype.next=function(e,o){var n=o||{};n[t.Collection._FETCH_SIZE_PROP]=this._getDefaultFetchSize(e);var r=this._calculateNextStart(),i=this._getLength();if(0===i&&n[t.Collection._FETCH_SIZE_PROP]>0)r=0;else if(r>=i)return n.success&&n.success.call(t.Model.GetContext(n,this),this,null,n),null;return n.startIndex=r,this.fetch(n)},t.Collection.prototype._calculatePrevStart=function(t){return void 0===this.offset||null===this.offset?0:this.offset-t},t.Collection.prototype.previous=function(e,o){var n=o||{};if(0===this.offset)return n.success&&this.lastFetchCount&&n.success.call(t.Model.GetContext(n,this),this,null,n),null;n[t.Collection._FETCH_SIZE_PROP]=this._getDefaultFetchSize(e);var r=this._calculatePrevStart(n[t.Collection._FETCH_SIZE_PROP]);return r<0&&(n[t.Collection._FETCH_SIZE_PROP]=this.offset,r=0),n.startIndex=r,this.fetch(n)},t.Collection.prototype.setModelLimit=function(t){this.modelLimit=t,this._manageLRU(0)},t.Collection.prototype._getModelLimit=function(){return this.modelLimit},t.Collection.prototype.setFetchSize=function(e){this[t.Collection._FETCH_SIZE_PROP]=e},t.Collection.prototype.rest=function(t,e){var o,n=this._getDeferred(e),r=void 0===t?1:t,i=[];if(this.IsVirtual()||n){var s=this;return this._addPromise(function(){return s.IterativeAt(r,s._getLength())})}for(o=r;o<this._getLength();o+=1)i.push(this.at(o));return i},t.Collection.prototype.remove=function(e,o){var n,r=o||{},i=[];e instanceof Array?i=e:i.push(e);var s=[];for(n=i.length-1;n>=0;n-=1)s.unshift(this._removeInternal(i[n],-1,r));return this.TriggerInternal(r.silent,t.Events.EventType.ALLREMOVED,this,i,r),t.Collection._returnModels(s)},t.Collection.prototype._removeInternal=function(e,o,n){var r=n||{},i=-1===o?this._getInternal(e):t.Collection._getModinfo(o,e),s=r.silent,l=i.index;if(l>-1){var a=i.m;void 0!==a&&a.GetCollection()===this&&a.SetCollection(null),this._spliceModels(l,1),this._setLength();var c={};t.CollectionUtils.copyInto(c,r),c.index=l,void 0!==a&&a.TriggerInternal(s,t.Events.EventType.REMOVE,a,this,c),this._unlistenToModel(a)}return i.m},t.Collection.prototype._unlistenToModel=function(t){void 0!==t&&t.off(null,null,this)},t.Collection.prototype._listenToModel=function(e){e.OnInternal(t.Events.EventType.ALL,this._modelEvent,this,!1,!0)},t.Collection.prototype._modelEvent=function(e,o,n,r){if(e===t.Events.EventType.DESTROY&&this.remove(o),!(void 0!==n&&n instanceof t.Collection&&n!==this)){var i=r&&r.silent;this.TriggerInternal(i,e,o,n,r)}},t.Collection.prototype.refresh=function(e){var o,n=e||{},r=this;return this._addPromise(function(){return new Promise(function(e,i){if(!r.IsVirtual()){o=void 0!==n.silent&&n.silent;try{r.reset(null,{silent:!0});var s={};return Object.keys(n).forEach(function(t){Object.prototype.hasOwnProperty.call(n,t)&&(s[t]=n[t])}),s.success=function(n,i,s){r.TriggerInternal(o,t.Events.EventType.REFRESH,r,s,null),e({collection:n,response:i,options:s})},s.error=function(e,o,s){i(t.Collection._createRejectionError(e,o,s,r,n,!1))},void r.fetch(s)}catch(i){if(i instanceof t.URLError)return r.TriggerInternal(o,t.Events.EventType.REFRESH,r,n,null),void e({collection:r,options:n});throw i}}var l=n.startIndex;r._setModels([],!0),r._resetLRU(),r.totalResults=void 0,r._setLength(),o=void 0!==n.silent&&n.silent,r.TriggerInternal(o,t.Events.EventType.REFRESH,r,n,null),null==l&&(l=0),null!=l?r._setRangeLocalInternal(l,r._getFetchSize(n)).then(function(t){e(t)},function(t){i(t)}):e(void 0)})})},t.Collection.prototype.reset=function(e,o){var n,r,i={};t.CollectionUtils.copyInto(i,o||{}),i.previousModels=this._getModels();for(var s=0;s<this._modelIndices.length;s++)n=this._modelIndices[s],(r=this._getModel(n))&&(this._unlistenToModel(r),r.SetCollection(null));this._setModels([],!0),this._resetLRU();var l=void 0!==i.silent&&i.silent;if(!e)return this._setLength(),this.totalResults=void 0,this.TriggerInternal(l,t.Events.EventType.RESET,this,i,null),null;var a,c=e;return i.parse&&(c=this.parse(e)),this._manageLRU(c instanceof Array?c.length:1),i.noparse=!0,a=this._addInternal(c,i,!0,!1),this._setLength(),this.TriggerInternal(l,t.Events.EventType.RESET,this,i,null),this._handlePromise(a)},t.Collection.prototype.at=function(t,e){var o=this._getDeferred(e);return this._atInternal(t,e,!1,o)},t.Collection.prototype._atInternal=function(t,e,o,n){var r=t;if(r<0&&(r+=this._getLength()),r<0||this._overUpperLimit(r))return o||!this.IsVirtual()&&!n?null:this._addPromise(function(){return Promise.resolve(null)});var i=this;return o||!this.IsVirtual()&&!n?this._getModel(r):this._addPromise(function(){return i._deferredAt(r,e)})},t.Collection.prototype.whenReady=function(){return this._promises?this._promises:Promise.resolve()},t.Collection.prototype._addPromise=function(e){var o=this;return void 0===this._promises&&(this._promiseCount=0,this._promises=Promise.resolve()),this._promiseCount=this._promiseCount+1,this._promises=this._promises.then(e.bind(o)).then(function(e){return o._promiseCount-=1,0===o._promiseCount&&(o._promises=void 0,o.TriggerInternal(!1,t.Events.EventType.READY,o,null,null)),e},function(t){return o._promiseCount-=1,0===o._promiseCount&&(o._promises=void 0),Promise.reject(t)}),this._promises},t.Collection.prototype._addxhr=function(t){if(t&&t.abort){void 0===this._xhrs&&(this._xhrs=[]);var e=this;this._xhrs.push(t),t.done(function(){var o=e._xhrs?e._xhrs.indexOf(t):-1;o>-1&&e._xhrs.splice(o,1)})}},t.Collection.prototype.abort=function(){var t=this;function e(e,o){t._xhrs[e].then(function(n,r){"abort"===r&&(t._xhrs.splice(e,1),0===t._xhrs.length&&t.whenReady().then(function(){o(null)},function(){o(null)}))},function(){t._xhrs.splice(e,1),0===t._xhrs.length&&t.whenReady().then(function(){o(null)},function(){o(null)})})}return this._xhrs&&this._xhrs.length>0?new Promise(function(o){for(var n=t._xhrs.length-1;n>=0;n--)e(n,o),t._xhrs[n].abort()}):Promise.resolve()},t.Collection.prototype._deferredAt=function(e,o){var n=this,r=n._getModel(e);return void 0===r?new Promise(function(r,i){var s={};t.CollectionUtils.copyInto(s,o||{}),s.context=n,s.startIndex=e,s.error=function(e,r,s){i(t.Collection._createRejectionError(e,r,s,n,o,!1))},s.success=function(){r(n._getModel(e))},n._fetchInternal(s,-1,!1)}):new Promise(function(t){t(r)})},t.Collection.prototype.getByCid=function(t){for(var e,o=this._getModels(),n=null,r=0;r<this._modelIndices.length;r++)if(o[e=this._modelIndices[r]]&&t===o[e].cid){n=o[e];break}if(n)return n;if(this.IsVirtual())throw new Error("Not found locally and not supported by server for virtual collections");return null},t.Collection.prototype.get=function(t,o){var n=this._getDeferred(o),r=this._getInternal(t,o,n);if(r){if(e.isFunction(r.then))return this._addPromise(function(){return new Promise(function(t,e){r.then(function(e){t(e.m)},function(t){e(t)})})});if(this.IsVirtual())return this._addPromise(function(){return new Promise(function(t){t(r.m)})});if(Object.prototype.hasOwnProperty.call(r,"m"))return r.m}return null},t.Collection.prototype._getLocal=function(t){var e=this._getLocalInternal(t);return e?e.m:null},t.Collection.prototype._getLocalInternal=function(e){var o=e,n=e;e instanceof t.Model?(o=e.GetCid(),n=e.GetId()):t.Collection._defined(e)&&void 0!==e.id&&(n=e.id);for(var r,i,s=null,l=this._modelIndices.length,a=this._getModels(),c=0;c<l;c++)if(void 0!==(r=a[i=this._modelIndices[c]])&&r.Match(n,o)){s=t.Collection._getModinfo(i,r);break}return s||t.Collection._getModinfo(-1,void 0)},t.Collection.prototype._getInternal=function(e,o,n,r){var i=e,s=e,l=void 0!==r&&r;e instanceof t.Model?(i=e.GetCid(),s=e.GetId()):t.Collection._defined(e)&&void 0!==e.id&&(s=e.id);for(var a,c=null,u=this._getModels(),h=0;h<this._modelIndices.length;h++)if(u[a=this._modelIndices[h]]&&u[a].Match(s,i)){var p=t.Collection._getModinfo(a,u[a]);c=p;break}if(c)return n?new Promise(function(t){t(c)}):c;if(this.IsVirtual()){if(void 0===s&&void 0!==i)return new Promise(function(e){e(t.Collection._getModinfo(-1,void 0))});var d=this;return new Promise(function(e,n){var r={};t.CollectionUtils.copyInto(r,o||{}),r.context=d,r.startID=s,r.error=function(e,r,i){n(t.Collection._createRejectionError(e,r,i,d,o,!1))},r.success=function(o,n){!function(o){if(null!=o){var n=d._getOffset(),r=d._getModel(n);void 0!==r&&r.Match(s,i)?e(t.Collection._getModinfo(n,r)):e(t.Collection._getModinfo(-1,void 0))}else e(t.Collection._getModinfo(-1,void 0))}(n)},d._fetchInternal(r,-1,l)})}var f=t.Collection._getModinfo(-1,void 0);return n?new Promise(function(t){t(f)}):f},t.Collection._getModinfo=function(t,e){return{index:t,m:e}},t.Collection.prototype._parseImpl=function(t){if(t instanceof Array)return t;if(!t)return t;var e;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e]instanceof Array)return t[e];return t},t.Collection.prototype.parse=t.Collection.prototype._parseImpl,t.Collection.prototype._checkActual=function(t,e,o){return!!(this._hasTotalResults()&&o.start+o.count>=this.totalResults)||o.start===t&&o.count===e},t.Collection.prototype.setRangeLocal=function(t,e){var o=this;return this._addPromise(function(){return o._setRangeLocalInternal(t,e)})},t.Collection.prototype._setRangeLocalInternal=function(t,e){this.IsVirtual()&&this._resetModelsToFullLength();var o=this._getLocalRange(t,e),n=this;if(this._checkActual(t,e,o))return new Promise(function(t){t(o)});var r=this._getModelLimit();return r>-1&&r<e&&(this.modelLimit=e),new Promise(function(o,r){n._setRangeLocalFetch(t,e,-1,{start:t,count:e},o,r,!0)})},t.Collection.prototype._setRangeLocalFetch=function(e,o,n,r,i,s,l){var a=this,c=e,u=c+o;this[t.Collection._FETCH_SIZE_PROP]&&this[t.Collection._FETCH_SIZE_PROP]>o&&(u=this[t.Collection._FETCH_SIZE_PROP]+c);var h=null;if(this.IsVirtual()){var p=this._getFirstMissingModel(c,u);p>c&&(u=(c=p)+o,this[t.Collection._FETCH_SIZE_PROP]&&this[t.Collection._FETCH_SIZE_PROP]>o&&(u=this[t.Collection._FETCH_SIZE_PROP]+c)),h={context:this,startIndex:c,fetchSize:u-c}}else h={context:this};h.error=function(e,o,n){s(t.Collection._createRejectionError(e,o,n,a,null,!1))},h.success=function(){
!function(){var t=a._getLocalRange(r.start,r.count);if(l&&a._hasTotalResults()&&t.count<r.count){var e=t.start+t.count,n=c+(a.lastFetchCount?a.lastFetchCount:o);n<a.totalResults?a._setRangeLocalFetch(n,o,e,r,i,s,l):i(t)}else i(t)}()};try{this._fetchInternal(h,n,n>-1)}catch(e){if(e instanceof t.URLError){var d=a._getLocalRange(c,o);i(d)}}},t.Collection._createRejectionError=function(e,o,n,r,i,s){var l=!1;i&&i.silent&&(l=i.silent),s&&t.Model._triggerError(r,l,i,o,n,e);var a=new Error(o);return a.xhr=e,a.error=n,a.collection=r,a.status=o,a},t.Collection.prototype._getMaxLength=function(t,e){var o=this._getModelsLength();return 0===o?t+e:t+e>o?o:t+e},t.Collection.prototype.isRangeLocal=function(t,e){var o=this._getLocalRange(t,e);return 0===this._getModelsLength()?0===e:t===o.start&&(e===o.count||t+e>this._getModelsLength())},t.Collection.prototype._getModelArray=function(t,e){for(var o=[],n=this._getModels(),r=t+e,i=t;i<r;i++)o.push(n[i]);return o},t.Collection.prototype._getLocalRange=function(t,e){if(!this.IsVirtual()){if(this._getModelsLength()>0){if(t+e>this._getModelsLength()){var o=this._getModelsLength()-t;return{start:t,count:o,models:this._getModelArray(t,o)}}return{start:t,count:e,models:this._getModelArray(t,e)}}return{start:t,count:0,models:[]}}var n=this._getMaxLength(t,e);if(!this._hasTotalResults()&&n<t+e)return{start:t,count:n-t,models:this._getModelArray(t,n-t)};if(0===n)return{start:t,count:0,models:[]};var r=this._getFirstMissingModel(t,n);if(r>-1)return{start:t,count:r-t,models:this._getModelArray(t,r-t)};var i=e;return t>n?i=0:t+i>n&&(i=n-t),{start:t,count:i,models:this._getModelArray(t,i)}},t.Collection.prototype._getFirstMissingModel=function(t,e){for(var o=t;o<e;o++)if(void 0===this._getModel(o))return o;return-1},t.Collection.prototype.fetch=function(t){var e=this._fetchInternal(t,-1,!1);return this._addPromise(function(){return Promise.resolve(e)}),e},t.Collection.prototype._fetchInternal=function(e,o,n){function r(t,e,o){t.IsVirtual()?o||t._resetModelsToFullLength():e.add||e.useset||t.reset(null,{silent:!0})}var i,s=e||{},l=s.success,a=s.error;return s.set&&(s.useset=!!s.set),void 0===s.parse&&(s.parse=!0),i=this,s.error=function(o,n,r){t.Model._triggerError(i,!1,e,n,r,o),a&&a.call(t.Model.GetContext(e,i),o,n,r)},s.success=function(a){var c;try{c=i.parse(a,e)}catch(o){return void t.Collection._reportError(i,o,s.error,e)}i._setPagingReturnValues(a,e,c,n);var u=null,h=!1,p=o;if(s.add||i.model){r(i,s,n);try{-1===o&&(h=!0,p=i._getOffset()),u=i._fillInCollectionWithParsedData(c,p,h,s)}catch(o){return void t.Collection._reportError(i,o,s.error,e)}}else n||(i.IsVirtual()?(r(i,s,n),-1===o&&(h=!0,p=i._getOffset()),u=i._putDataIntoCollection(c,p,h)):s.useset?i._setInternal(c,!1,s,!1):i.reset(c,{silent:!0}));i.IsVirtual()&&u&&(i.lastFetchCount=u.length);var d=!!s.silent;i.TriggerInternal(d,t.Events.EventType.SYNC,i,a,s),l&&l.call(t.Model.GetContext(e,i),i,a,s)},this._fetchCall(s)},t.Collection.prototype._putDataIntoCollection=function(t,e,o){var n;if(t){n=t instanceof Array?t:[t];var r={};o&&this._manageLRU(n.length);for(var i=e,s=this.IsVirtual(),l=null,a=0;a<n.length;a+=1)s&&(r={at:i},l=this._atInternal(i,null,!0,!1)),r.silent=!0,this._addInternal(n[a],r,!0,!1),this._atInternal(i,null,!0,!1)!==l&&(i+=1)}return n},t.Collection.prototype._fillInCollectionWithParsedData=function(e,o,n,r){var i=r||{},s=i.parse,l=t.Collection._createModel(this),a=null;if(e){a=e instanceof Array?e:[e];var c,u={};n&&this._manageLRU(a.length);var h,p=this.IsVirtual();if(i.useset&&!p){for(h=0;h<a.length;h+=1)c=l&&s?l.parse(a[h]):a[h],a[h]=c;this._setInternal(a,!1,i,!1)}else{var d=null,f=o;for(h=0;h<a.length;h+=1)c=l&&s?l.parse(a[h]):a[h],p&&(u={at:f},d=this._atInternal(f,u,!0,!1)),u.silent=!0,this._addInternal(c,u,!0,!1),this._atInternal(f,null,!0,!1)!==d&&(f+=1)}}return a},t.Collection._reportError=function(e,o,n,r){t.Logger.error(o.toString()),n&&n.call(t.Model.GetContext(r,e),e,o,r)},t.Collection.prototype._fetchOnly=function(e){var o,n,r=e||{},i=r.success;return void 0===r.parse&&(r.parse=!0),n=this,r.success=function(s){var l,a,c,u=null,h=[];try{c=n.parse(s,e)}catch(o){return void t.Collection._reportError(n,o,r.error,e)}if(r.add||n.model){if(a=t.Collection._createModel(n),c)for(u=c instanceof Array?c:[c],l=0;l<u.length;l+=1){if(a&&r.parse)try{o=a.parse(u[l])}catch(o){return void t.Collection._reportError(n,o,r.error,e)}else o=u[l];h.push(n._newModel(o))}}else u=c instanceof Array?c:[c];n.TriggerInternal(!1,t.Events.EventType.SYNC,n,s,r),i&&i.call(t.Model.GetContext(e,n),n,h,r)},this._fetchCall(r)},t.Collection.prototype._fetchCall=function(e){try{return t.Model._internalSync("read",this,e)}catch(o){throw t.Model._triggerError(this,!1,e,null,o,null),o}},t.Collection.prototype._resetModelsToFullLength=function(){var t=this.totalResults;return void 0!==t&&this._getModelsLength()!==t&&(this._setModels(new Array(t),!0),this._resetLRU(),this._setLength(),!0)},t.Collection.prototype._getFetchSize=function(e){return(e||{})[t.Collection._FETCH_SIZE_PROP]||this[t.Collection._FETCH_SIZE_PROP]},t.Collection.prototype.IsVirtual=function(){return this._getFetchSize(null)>-1},t.Collection.prototype._getReturnProperty=function(e,o,n,r,i){var s=parseInt(t.Collection._getProp(e,o,n),10);return null==s||isNaN(s)?r||i:s},t.Collection.prototype._cleanTotalResults=function(t){if(-1!==t)return t},t.Collection.prototype._setPagingReturnValues=function(e,o,n,r){var i={};this.customPagingOptions&&((i=this.customPagingOptions.call(this,e))||(i={}));var s=o||{};if(this.lastFetchSize=this._getReturnProperty(i,e,"limit",s.fetchSize,this.fetchSize),this.offset=this._getReturnProperty(i,e,"offset",s.startIndex,0),this.lastFetchCount=this._getReturnProperty(i,e,"count",this.lastFetchCount,this.lastFetchCount),this.totalResults=this._cleanTotalResults(this._getReturnProperty(i,e,"totalResults",this.totalResults,this.totalResults)),this.hasMore=this._getHasMore(t.Collection._getProp(i,e,"hasMore"),this.offset,this.lastFetchSize,this.totalResults),!r){var l=this._cleanTotalResults(parseInt(t.Collection._getProp(i,e,"totalResults"),10)),a=parseInt(t.Collection._getProp(i,e,"count"),10);this.totalResults=this._adjustTotalResults(l,this.hasMore,this.offset,a,n&&Array.isArray(n)?n.length:0)}!this.IsVirtual()&&this.totalResults&&this.totalResults!==this.lastFetchCount&&this.lastFetchSize&&this.setFetchSize(this.lastFetchSize)},t.Collection.prototype._adjustTotalResults=function(t,e,o,n,r){return!e&&isNaN(t)?(isNaN(n)?r:n)+o:this.totalResults},t.Collection.prototype._getHasMore=function(e,o,n,r){return t.Collection._defined(e)?e:null==r||!(o+n>r)},t.Collection._getProp=function(t,e,o){return Object.prototype.hasOwnProperty.call(t,o)?t[o]:e?e[o]:void 0},t.Collection.prototype._getOffset=function(){return t.Collection._defined(this.offset)?this.offset:0},t.Collection.prototype.create=function(e,o){var n=this,r=o||{},i=this._getDeferred(r);function s(o,n,r,i){return n.save(e instanceof t.Model?null:e,i),n}function l(t,e){return r.wait?n.IsVirtual()||i?n._addPromise(function(){return Promise.resolve(void 0)}):null:n.add(t,e)}var a=this._newModel(e,!0,r,!1),c=r.success,u=r.context;if(r.validate,r.context=this,r.success=function(t,e,o){o.xhr&&(r.xhr=o.xhr),r.wait&&n.add(a,r),c&&c.call(null!=u?u:n,t,e,r)},null==a)return!1;r.forceNew=null!=a.GetId();var h=t.Model._copyOptions(r);return a.SetCollection(this),i||this.IsVirtual()?new Promise(function(t){h.merge=!0,h.deferred=!0,l(a,h).then(function(){r.success=function(e,o,i){i.xhr&&(r.xhr=i.xhr),r.wait?(n.IsVirtual()&&(h.force=!0),n.add(a,h).then(function(){c&&c.call(null!=u?u:n,e,o,r),t(e)})):(c&&c.call(null!=u?u:n,e,o,r),t(e))};var e=s(0,a,0,r);e||t(e)})}):(h.merge=!0,l(a,h),s(0,a,0,r))},t.Collection.prototype.pluck=function(t){var e,o=[];for(this._throwErrIfVirtual("pluck"),e=0;e<this._getLength();e+=1)o.push(this.at(e).get(t));return o},t.Collection.prototype.where=function(t,e){return this._handlePromise(this._whereInternal(t,e))},t.Collection.prototype._whereInternal=function(e,o){var n=o||{},r=this._getDeferred(n),i=this;if(this.IsVirtual())return new Promise(function(o,r){var s={query:e,all:!0,success:function(t,e){o(e)},error:function(e,o,s){r(t.Collection._createRejectionError(e,o,s,i,n,!0))}};i._fetchOnly(s)});var s,l,a=[];for(s=0;s<this._getLength();s+=1)(l=this.at(s)).Contains(e)&&a.push(l);return r?new Promise(function(t){t(a)}):a},t.Collection.prototype.whereToCollection=function(e,o){var n=o||{},r=this._getDeferred(n),i=this;if(this.IsVirtual()||r)return i._addPromise(function(){return new Promise(function(t,o){return i._whereInternal(e,n).then(function(e){var o=i._makeNewCollection(e);t(o)},function(t){o(t)})})});var s=this._whereInternal(e,n),l=this._makeNewCollection(s);return l[t.Collection._FETCH_SIZE_PROP]=-1,l._setLength(),l},t.Collection.prototype._makeNewCollection=function(t){var e=this._cloneInternal(!1);return e._setModels(t,!1),e._resetLRU(),e._setLength(),e},t.Collection.prototype._throwErrIfVirtual=function(t){if(this.IsVirtual())throw new Error(t+" not valid on a virtual Collection")},t.Collection.prototype.map=function(t,e){var o,n=[];return this._throwErrIfVirtual("map"),this._getModels().forEach(function(r){o=t.call(e||this,r),n.push(o)}),n},t.Collection.prototype.each=function(t,e){this._throwErrIfVirtual("each"),this._getModels().forEach(t,e)},t.Collection.prototype.size=function(){return this._getLength()},t.Collection.prototype.sortBy=function(o,n){var r,i=[];return this._throwErrIfVirtual("sortBy"),this._getModels().forEach(function(t){i.push(t)}),r=this,i.sort(function(i,s){var l,a;return e.isFunction(o)?(l=o.call(n||r,i),a=o.call(n||r,s),t.Collection._compareKeys(l,a,r.sortDirection)):(l=i.get(o),a=s.get(o),t.Collection._compareKeys(l,a,r.sortDirection))}),i},t.Collection.prototype.groupBy=function(t,o){var n,r={};return this._throwErrIfVirtual("groupBy"),this._getModels().forEach(function(i){n=e.isFunction(t)?t.call(o||this,i):i.get(t),void 0===r[n]&&(r[n]=[]),r[n].push(i)},this),r},t.Collection.prototype.indexBy=function(t,o){var n,r={};return this._throwErrIfVirtual("indexBy"),this._getModels().forEach(function(i){n=e.isFunction(t)?t.call(o||this,i):i.get(t),r[n]=i},this),r},t.Collection.prototype.min=function(t,e){var o,n,r={};return this._throwErrIfVirtual("min"),0===this._getModelsLength()?null:(r=this._getModel(0),o=t.call(e||this,this._getModel(0)),this._getModels().forEach(function(i,s){s>=1&&(n=t.call(e||this,i))<o&&(r=i,o=n)},this),r)},t.Collection.prototype.max=function(t,e){var o,n,r={};return this._throwErrIfVirtual("max"),0===this._getModelsLength()?null:(r=this._getModel(0),o=t.call(e,this._getModel(0)),this._getModels().forEach(function(i,s){s>=1&&(n=t.call(e||this,i))>o&&(r=i,o=n)},this),r)},t.Collection.prototype.filter=function(t,e){var o=[];return this._throwErrIfVirtual("filter"),this._getModels().forEach(function(n){t.call(e||this,n)&&o.push(n)}),o},t.Collection.prototype.without=function(t){var e,o,n,r,i,s=[];this._throwErrIfVirtual("without");for(var l=0;l<this._getModels().length;l++){for(r=!0,i=this._getModel(l),e=0;e<arguments.length;e+=1)if(n=arguments[e].GetCid(),o=arguments[e].GetId(),i.Match(o,n)){r=!1;break}r&&s.push(i)}return s},t.Collection.prototype.difference=function(t){var e,o,n,r,i,s,l=[];this._throwErrIfVirtual("difference");for(var a=0;a<this._getModels().length;a++){for(i=!0,s=this._getModel(a),e=0;e<arguments.length;e+=1){for(o=0;o<arguments[e].length;o++)if(r=arguments[e][o].GetCid(),n=arguments[e][o].GetId(),s.Match(n,r)){i=!1;break}if(!i)break}i&&l.push(s)}return l},t.Collection.prototype.isEmpty=function(){return 0===this._getLength()},t.Collection.prototype.any=function(t,e){var o;this._throwErrIfVirtual("any");for(var n=0;n<this._getModelsLength();n+=1)if(o=this._getModel(n),t.call(e||this,o))return!0;return!1},t.Collection.prototype.findWhere=function(t,e){var o=this._getDeferred(e),n=this;if(this.IsVirtual()||o)return this._addPromise(function(){return new Promise(function(o){n._whereInternal(t,e).then(function(t){t&&t.length>0&&o(t[0]),o(null)})})});var r=this._whereInternal(t,e);return r.length>0?r[0]:null},t.Collection.prototype.slice=function(t,e,o){var n,r=this._getDeferred(o),i=[],s=e;if(void 0===s){if(this.IsVirtual()&&!this._hasTotalResults())throw new Error("End must be set for virtual collections with no totalResults");s=this._getModelsLength()}if(r||this.IsVirtual()){var l=this;return this._addPromise(function(){return l.IterativeAt(t,s)})}for(n=t;n<s;n+=1)i.push(this._getModel(n));return i},t.Collection.prototype.set=function(t,e){var o=this._getDeferred(e);return this._setInternal(t,!0,e,o||this.IsVirtual())},t.Collection._removeAfterSet=function(t,e,o,n,r){if(o)for(var i=e.length-1;i>=0;i-=1)-1===n.indexOf(i)&&t._removeInternal(e[i],i,r)},t.Collection.prototype._swapModels=function(t,e,o,n){if(this._hasComparator()||!o||!n)return{index:t,swapped:!1};var r=this._getModelsLength();if(t>=r||e>=r)return{index:t,swapped:!1};var i=this._getModel(t),s=this._getModel(e);return this._setModel(t,s),s.SetIndex(t),this._setModel(e,i),i.SetIndex(e),{index:e,swapped:e!==t}},t.Collection.prototype._setInternal=function(e,o,n,r){var i,s,l=n||{},a=void 0===l.add||l.add,c=void 0===l.remove||l.remove,u=void 0===l.merge||l.merge,h=[],p=null,d=o?this.parse(e):e;if(s=Array.isArray(d)?d:[d],r){var f=this;return this._addPromise(function(){return f._deferredSet(s,f._getModels(),l,c,a,u,o)})}var _=!1;for(i=0;i<s.length;i+=1)if(-1!==(p=this._updateModel(this._newModel(s[i],o,l,!0),a,u,r))){var g=this._swapModels(p,i,c,a),v=g.index;g.swapped&&(_=!0),-1===h.indexOf(v)&&h.push(v)}if(_){var y=l.add?{add:!0}:null;this.TriggerInternal(l.silent,t.Events.EventType.SORT,this,y,null)}return t.Collection._removeAfterSet(this,this._getModels(),c,h,l),null},t.Collection.prototype._deferredSet=function(e,o,n,r,i,s,l){var a,c=[],u=this;return new Promise(function(h,p){var d=function(t){return new Promise(function(o,r){u._updateModel(u._newModel(e[t],l,n,!0),i,s,!0).then(function(e){-1!==e&&c.push(e),o(t+1)},r)})},f=Promise.resolve(0);for(a=0;a<e.length;a+=1)f=f.then(d);f.then(function(){t.Collection._removeAfterSet(u,o,r,c,n),h(void 0)},p)})},t.Collection.prototype._updateModel=function(t,e,o,n){function r(n,r,i){var s=r?r.index:-1,l={};if(r?r.m:null){if(o){if(l={merge:o},i)return new Promise(function(e){n._addInternal(t,l,!1,!0).then(function(){e(s)})});n.add(t,l)}}else if(e){if(i)return new Promise(function(e){n._addInternal(t,l,!1,!0).then(function(){e(n._getLength()-1)})});n.add(t),s=n._getLength()-1}return s}if(n||this.IsVirtual()){var i=this;return new Promise(function(e){i._getInternal(t,{silent:!0},n).then(function(t){r(i,t,!0).then(function(t){e(t)})})})}return r(this,this._getInternal(t),!1)},t.Collection.prototype.toJSON=function(){var t=[];return this._throwErrIfVirtual("toJSON"),this._getModels().forEach(function(e){t.push(e.toJSON())}),t},t.Collection.prototype.first=function(t,e){var o,n=this._getDeferred(e),r=this._getLength(),i=[],s=this,l=t;l?r=l:l=1;var a=this.IsVirtual()||n;if(1===l)return a?this._addPromise(function(){return s._deferredAt(0,null)}):this._getModelsLength()>0?this._getModel(0):null;if(r>this._getModelsLength()&&(this.IsVirtual()&&!this._hasTotalResults()||(r=this._getModelsLength())),a)return this._addPromise(function(){return s.IterativeAt(0,r)});for(o=0;o<r;o+=1)i.push(this._getModel(o));return i},t.Collection.prototype.indexOf=function(t,e){var o=this._getDeferred(e);if(this.IsVirtual()||o){var n=this;return this._addPromise(function(){return n._getInternal(t,null,!0).then(function(t){return t.index})})}return this._getInternal(t).index},t.Collection.prototype.contains=function(t,e){var o=this._getDeferred(e);if(this.IsVirtual()||o){var n=this;return this._addPromise(function(){return n._getInternal(t,null,!0).then(function(t){return t.index>-1})})}return this._getInternal(t).index>-1},t.Collection.prototype.include=t.Collection.prototype.contains,t.Collection.prototype._localIndexOf=function(t){var e=this._getLocalInternal(t);return void 0!==e?e.index:-1},t.Collection.prototype.pop=function(t){var e=this._getDeferred(t);if(this.IsVirtual()||e){var o=this;return this._atInternal(this._getLength()-1,t,!1,!0).then(function(e){return o.remove(e,t),e})}var n=this.at(this._getLength()-1);return this.remove(n,t),n},t.Collection.prototype.push=function(t,e){var o=this._getDeferred(e);return this._manageLRU(1),this._handlePromise(this._addInternal(t,e,!1,o))},t.Collection.prototype.lastIndexOf=function(e,o){var n,r=o;for(this._throwErrIfVirtual("lastIndexOf"),void 0===r&&(r=0),n=this._getLength()-1;n>=r;n-=1)if(t.Object.__innerEquals(e,this.at(n)))return n;return-1},t.Collection.prototype._getSortAttrs=function(t){return void 0===t?[]:t.split(",")},t.Collection._getQueryString=function(o){function n(t,e,o){return t+o+e}function r(o,r){var i,s=r;return Object.keys(o||{}).forEach(function(r){if(Object.prototype.hasOwnProperty.call(o,r))for(var l=Array.isArray(o[r])?o[r]:[o[r]],a=0;a<l.length;a++){if(t.Model.IsComplexValue(l[a])){var c,u=l[a].value,h=l[a].comparator;c=e.isFunction(h)?h(null,r,u):h,i=n(r,u,c)}else i=n(r,o[r],"=");s+=i+"+"}}),s=s.substring(0,s.length-1)+","}var i,s=Array.isArray(o)?o:[o],l="";for(i=0;i<s.length;i++)l=r(s[i],l);return","===l.substring(l.length-1)?l.substring(0,l.length-1):l},t.Collection.prototype.ModifyOptionsForCustomURL=function(e){var o={};Object.keys(e||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])});var n=this.comparator;if(n&&t.StringUtils.isString(n)){for(var r=this._getSortAttrs(n),i=0;i<r.length;i++)0===i?o.sort=r[i]:o.sort+=","+r[i];o.sortDir=this._getSortDirStr()}return this.IsVirtual()&&(o[t.Collection._FETCH_SIZE_PROP]=this._getFetchSize(o)),o},t.Collection.prototype.IsUrlBased=function(o){var n=this.customURL;if(e.isFunction(n))return!0;var r=this.GetCollectionFetchUrl(o);return t.Collection._defined(r)},t.Collection.prototype.GetCollectionFetchUrl=function(e){var o=t.Model.GetPropValue(this,"url");if(this.IsVirtual()){var n=e||{},r=n.all,i=null;if(i=r&&this.totalResults||this._getFetchSize(n),o&&o.indexOf("?")>-1?o+="&":o+="?",o+="limit="+i,r||(t.Collection._defined(n.startIndex)&&(o+="&offset="+n.startIndex),n.startID&&(o+="&fromID="+n.startID),n.since&&(o+="&since="+n.since),n.until&&(o+="&until="+n.until)),n.query){var s=t.Collection._getQueryString(n.query);s&&s.length>0&&(o+="&q="+s)}var l=this.comparator;if(l&&t.StringUtils.isString(l)){var a,c=this._getSortAttrs(l),u=this._getSortDirStr();for(a=0;a<c.length;a++)o+=0===a?"&orderBy="+c[a]+":"+u:","+c[a]+":"+u}o+="&totalResults=true"}return o},t.Collection.prototype._getSortDirStr=function(){return-1===this.sortDirection?"desc":"asc"},t.Collection.prototype.sync=function(e,o,n){return t.sync(e,o,n)},t.Collection._FETCH_SIZE_PROP="fetchSize",t.Model=function(e,o){t.Model._init(this,e,o,null)},t.Object.createSubclass(t.Model,t.Object,"oj.Model"),t.Model.prototype.Init=function(){t.Model.superclass.Init.call(this)},t.Model.prototype.attributes={},t.Model.prototype.defaults={},t.Model.prototype.id=null,t.Model.prototype.idAttribute="id",t.Model.prototype.urlRoot=null,t.Model.prototype.customURL=null,t.Model.prototype.validate=null,t.Model.prototype.validationError=null,t.Model.prototype.omitLanguageHeader=!1,t.Model._idCount=0,t.Model._init=function(o,n,r,i){var s,l,a;if(!t.Model._justExtending){o.Init(),t.Events.Mixin(o),o._clearChanged(),o.previousAttrs={},o.nestedSet=!1,o.index=-1;var c=r||{};for(a in o.attributes={},o.defaults&&!c.ignoreDefaults&&(o.attributes=t.Model._cloneAttributes(e.isFunction(o.defaults)?o.defaults():o.defaults,null)),i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a]);if(n)if(s=c.parse,e.isFunction(s)&&(o.parse=s),l=t.Model._cloneAttributes(n,o.attributes),o.attributes=l,null==(l=s?o.parse(l):l)||void 0===l)o.attributes={};else for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&o._setProp(a,l[a],!1,!1,c,!0);o.SetCid(),o.SetCollection(c.collection),c.customURL&&(o.customURL=c.customURL),c.url&&(o.url=c.url),c.urlRoot&&(o.urlRoot=c.urlRoot),o.initialize&&o.initialize(n,c),o.SetupId()}},t.Model.extend=function(o,n){var r;t.Model._justExtending=!0,r=new t.Model,t.Model._justExtending=!1,e.extend(r,this.prototype);var i,s=o||{};return Object.keys(s).forEach(function(t){Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}),i=s&&s.constructor&&Object.prototype.hasOwnProperty.call(s,"constructor")?s.constructor:function(e,o){t.Model._init(this,e,o,s)},e.extend(i,this),i.prototype=r,i.extend=t.Model.extend,i.prototype.constructor=i,t.Events.Mixin(i,this),n&&Object.keys(n).forEach(function(t){Object.prototype.hasOwnProperty.call(n,t)&&(i[t]=n[t])}),i},t.Model.prototype.TriggerInternal=function(t,e,o,n,r){},t.Model.prototype.SetCid=function(){this.GetCid()||(this.cid="id"+t.Model._idCount,t.Model._idCount+=1)},t.Model.prototype.GetCid=function(){return this.cid},t.Model.prototype.SetIndex=function(t){this.index=t},t.Model.prototype.GetIndex=function(){return this.index},t.Model.prototype.SetNext=function(t){var e=this.nextModel;return this.nextModel=t,e},t.Model.prototype.GetNext=function(){return this.nextModel},t.Model.prototype.SetPrevious=function(t){var e=this.previousModel;return this.previousModel=t,e},t.Model.prototype.GetPrevious=function(){return this.previousModel},t.Model.prototype.Merge=function(e,o,n){var r,i=!1,s=t.StringUtils.isString(o),l=!1,a=this;return Object.keys(e.attributes||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(e.attributes,t)&&(r=a.attributes[t]!==e.attributes[t],s?t===o&&r&&(i=!0):r&&(i=!0),r&&(l=!0,a.attributes[t]=e.attributes[t],a._addChange(t,e.attributes[t]),a._fireAttrChange(t,a.attributes[t],null,n)))}),this.SetupId(),l&&this._fireChange(null,n),i},t.Model._hasProperties=function(t){var e;if(t&&t instanceof Object)for(e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!0;return!1},t.Model.prototype.SetCollection=function(t){null!=t?(this.collection=t,this.SetupId()):delete this.collection},t.Model.prototype.GetCollection=function(){return this.collection},t.Model.prototype._fireAttrChange=function(e,o,n,r){null!=e&&this.TriggerInternal(r,t.Events.EventType.CHANGE+":"+e,this,o,n)},t.Model.prototype._fireChange=function(e,o){this.TriggerInternal(o,t.Events.EventType.CHANGE,this,e,null)},t.Model.prototype.SetupId=function(){var t=null;if(this.collection&&this.collection.modelId){var o=this.collection.modelId;t=e.isFunction(o)?o.call(this.collection,this.attributes):o}if(!t){var n=this._getIdAttr();t=null!=this.attributes?this.attributes[n]:null}this.id=t},t.Model.prototype._setPropInternal=function(e,o,n){var r=t.Object.__innerEquals(this.attributes[e],o);return!(!n&&r||(this.attributes[e]=o,this.SetupId(),r))},t.Model.prototype._clearChanged=function(){this.changed={}},t.Model.prototype._addChange=function(t,e){this.changed[t]=e},t.Model.prototype._setProp=function(e,o,n,r,i,s){if(null==e)return!0;var l,a={},c=this.nestedSet;if(r?Object.keys(e).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}):a[e]=o,l=i||{},!this._checkValid(a,{validate:l.validate},!1))return!1;c||(this._clearChanged(),this.changes=[]),this.nestedSet||s||(this.previousAttrs=t.Model._cloneAttributes(this.attributes,null)),this.nestedSet=!0;var u=this;Object.keys(a).forEach(function(t){Object.prototype.hasOwnProperty.call(a,t)&&(u._setPropInternal(t,a[t],n)?(u._addChange(t,a[t]),u.changes.push(t)):delete a[t])});var h=l.silent;if(Object.keys(a).forEach(function(t){Object.prototype.hasOwnProperty.call(a,t)&&(!h&&(u.changes.length>0||c&&-1===u.changes.indexOf(t))&&(u.pendingChanges=!0,u.pendingOpts=l),u._fireAttrChange(t,a[t],l,h))}),c)return!0;if(!h&&!c)for(;this.pendingChanges;)this.pendingChanges=!1,this._fireChange(this.pendingOpts,h);return this.nestedSet=!1,!0},t.Model.prototype.clear=function(e){var o,n,r={silent:!0},i=e||{};for(n in o=i.silent,r.validate=i.validate,this._clearChanged(),this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,n)){if(!this._unsetInternal(n,r,!0))return!1;this.TriggerInternal(o,t.Events.EventType.CHANGE+":"+n,this,void 0,null)}return this.attributes={},this.SetupId(),this._fireAttrChange(null,null,null,o),this._fireChange(null,o),this},t.Model._cloneAttributes=function(o,n){var r,i,s=n||{},l=!0;if(("object"==typeof s?Object.keys(s):[]).length>0){for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&Object.prototype.hasOwnProperty.call(o,r)&&void 0===o[r]&&delete o[r];return t.CollectionUtils.copyInto(s,o,void 0,!0,1e4),s}for(r in o)if("function"===(i=e.type(o[r]))||"undefined"===i||"date"===i||"array"===i||"object"===i){l=!1;break}return l?s=JSON.parse(JSON.stringify(o)):"object"==typeof o&&t.CollectionUtils.copyInto(s,o,void 0,!0,1e4),s},t.Model.prototype.clone=function(){var e,o=new this.constructor;for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&this[e]!==this.attributes&&(o[e]=this[e]);return o.attributes=t.Model._cloneAttributes(this.attributes,null),delete o.cid,o.SetCid(),o.SetupId(),o},t.Model.prototype.Match=function(t,e){var o,n=this.GetId();return void 0!==n&&n==t||void 0!==(o=this.cid)&&o==e},t.Model.prototype.set=function(e,o,n){var r,i=n||{},s=!0;if(arguments&&arguments.length>0)if(t.StringUtils.isString(e))i.unset?this._unsetInternal(e,null,!1):this._setProp(e,o,!1,!1,i,!1)||(s=!1);else if((i=o||{}).unset)for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&this._unsetInternal(r,null,!1);else this._setProp(e,null,!0,!0,i,!1)||(s=!1);return!!s&&this},t.Model.prototype.unset=function(t,e){return this._unsetInternal(t,e,!1)},t.Model.prototype._unsetInternal=function(t,e,o){var n=e||{},r=n.silent;if(this.has(t)){if(!this._checkValid({},n,!1))return!1;o||this._clearChanged(),delete this.attributes[t],this._addChange(t,void 0),this._fireAttrChange(t,null,null,r),this._fireChange(null,r)}return this.SetupId(),!0},t.Model.prototype.get=function(t){return this.attributes[t]},t.Model.prototype.has=function(e){return t.Collection._defined(this.attributes[e])},t.Model.prototype.fetch=function(o){var n,r=o||{},i=r.success,s=r.error,l=this;return(n=t.Model._copyOptions(r)).error=function(e,o,n){t.Model._triggerError(l,!1,r,o,n,e),s&&s.apply(l,arguments)},n.success=function(o){n.xhr&&(r.xhr=n.xhr),t.Model._fireSyncEvent(l,o,n,!1),e.isFunction(l.parse)&&l.set(l.parse(o),n),i&&i.call(t.Model.GetContext(n,l),l,o,r)},t.Model._internalSync("read",this,n)},t.Model.prototype._parseImpl=function(t){return t},t.Model.prototype.parse=t.Model.prototype._parseImpl,t.Model.prototype.url=function(){var e,o,n=this._getUrlRoot(),r=this.GetId();if(n)return r?n+"/"+encodeURIComponent(r):n;if(e=this.collection)return o=t.Model.GetPropValue(e,"url"),r&&o?o+("/"===t.Model._getLastChar(o)?"":"/")+encodeURIComponent(this.GetId()):o;throw new t.URLError},t.Model.prototype.keys=function(){var t=[],e=this;return Object.keys(e.attributes||{}).forEach(function(o){Object.prototype.hasOwnProperty.call(e.attributes,o)&&t.push(o)}),t},t.Model.prototype.values=function(){var t=[],e=this;return Object.keys(e.attributes||{}).forEach(function(o){Object.prototype.hasOwnProperty.call(e.attributes,o)&&t.push(e.get(o))}),t},t.Model.prototype.pairs=function(){var t,e=[],o=this;return Object.keys(o.attributes||{}).forEach(function(n){Object.prototype.hasOwnProperty.call(o.attributes,n)&&((t=[]).push(n),t.push(o.get(n)),e.push(t))}),e},t.Model.prototype.omit=function(t){var e,o=[],n={};if(t instanceof Array)o=t;else for(e=0;e<arguments.length;e++)o.push(arguments[e]);var r=this;return Object.keys(r.attributes||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(r.attributes,t)&&-1===o.indexOf(t)&&(n[t]=r.get(t))}),n},t.Model.prototype.pick=function(t){var e,o=[],n={};if(t instanceof Array)o=t;else for(e=0;e<arguments.length;e++)o.push(arguments[e]);for(e=0;e<o.length;e++)Object.prototype.hasOwnProperty.call(this.attributes,o[e])&&(n[o[e]]=this.get(o[e]));return n},t.Model.prototype.invert=function(){var t,e={},o=this;return Object.keys(o.attributes||{}).forEach(function(n){Object.prototype.hasOwnProperty.call(o.attributes,n)&&(t=o.get(n),e[t]=n)}),e},t.Model._getLastChar=function(t){return t.charAt(t.length-1)},t.Model.prototype._saveUrl=function(){return this._getUrlRoot()||(this.GetCollection()?this.GetCollection().url:null)},t.Model.prototype._getUrlRoot=function(){return t.Model.GetPropValue(this,"urlRoot")},t.Model.prototype._parseSaveImpl=function(t){return t},t.Model.prototype.parseSave=t.Model.prototype._parseSaveImpl,t.Model.prototype.isValid=function(){var t={};return t.validate=this.validate,this._checkValid(this.attributes,t,!1)},t.Model._isValidateSet=function(t,e){var o=t||{};return void 0!==o.validate&&null!==o.validate?o.validate:e},t.Model.prototype._checkValid=function(e,o,n){var r=o||{},i=this.validate;return!(i&&t.Model._isValidateSet(r,n)&&(this.validationError=i.call(this,e,r),this.validationError)&&(this.TriggerInternal(!1,t.Events.EventType.INVALID,this,this.validationError,r),1))},t.Model._processArgs=function(e){var o,n=!1,r={},i={};if(e&&e.length>0){if(e.length>1&&e[e.length-1]&&t.Model._hasProperties(e[e.length-1])&&(n=!0,r=e[e.length-1]||{}),null==e[0])return{attributes:null,options:r};if(t.Model._hasProperties(e[0])||t.Object.isEmpty(e[0]))Object.keys(e[0]).forEach(function(t){Object.prototype.hasOwnProperty.call(e[0],t)&&(i[t]=e[0][t])});else for(o=0;o<e.length;o+=2)(void 0!==e[o]||o<e.length-1||!n&&o===e.length-1)&&(i[e[o]]=e[o+1])}return{attributes:i,options:r}},t.Model._copyOptions=function(t){var e={},o=t||{};return Object.keys(o).forEach(function(t){Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}),e},t.Model._triggerError=function(e,o,n,r,i,s){var l=n||{};l.textStatus=r,l.errorThrown=i,e.TriggerInternal(o,t.Events.EventType.ERROR,e,s,l)},t.Model.prototype.save=function(o,n){var r,i,s,l,a,c,u,h,p,d=t.Model._processArgs(arguments);p=void 0===o?void 0:d.attributes;var f=n||{};u=t.Model._copyOptions(d.options);var _=e.extend(!0,{},this.attributes,p);return!!this._checkValid(_,u,!0)&&(u.wait||this.set(p),r=void 0!==u.forceNew&&u.forceNew,l=this,a=u.error,c=u.patch,u.error=function(e,o,n){t.Model._triggerError(l,!1,f,o,n,e),a&&a.apply(l,arguments)},u.saveAttrs=u.wait?this._attrUnion(p):this.attributes,h=this.attributes,this.attributes=u.saveAttrs,u.saveAttrs=this.toJSON(),this.attributes=h,r||this.isNew()?(s=t.Model._getSuccess(u),u.success=function(o){var n;if(u.xhr&&(f.xhr=u.xhr),o&&!t.Object.isEmpty(o)){if(n=e.isFunction(l.parse)?l.parse(o):o,!l._checkValid(n,u,!0))return;l.attributes=e.extend(!0,l.attributes,n),u.wait&&Object.keys(p||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(n,t)&&(p[t]=n[t])}),l.SetupId()}t.Model._fireSyncEvent(l,o,u,!1),u.wait&&l.set(p),s&&s.call(t.Model.GetContext(u,l),l,o,f),l._clearChanged()},u.attrs||(u.attrs=u.saveAttrs),u.parse=!0,c&&(u.saveAttrs=u.attrs),t.Model._internalSync("create",this,u)):(i=u.success,u.success=function(o){var n;u.xhr&&(f.xhr=u.xhr),o&&!t.Object.isEmpty(o)&&(n=e.isFunction(l.parse)?l.parse(o):o,l.attributes=e.extend(!0,l.attributes,n),u.wait&&Object.keys(p||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(n,t)&&(p[t]=n[t])}),l.SetupId()),t.Model._fireSyncEvent(l,o,u,!1),u.wait&&l.set(p),i&&i.call(t.Model.GetContext(u,l),l,o,f),l._clearChanged()},u.attrs||(u.attrs=void 0===p?void 0:c?p:u.saveAttrs),t.Model._internalSync(c?"patch":"update",this,u)))},t.Model.prototype._attrUnion=function(t){var e={},o=this;return Object.keys(o.attributes||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(o.attributes,t)&&(e[t]=o.attributes[t])}),Object.keys(t||{}).forEach(function(o){Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}),e},t.Model.GetPropValue=function(t,o){return t?e.isFunction(t[o])?t[o]():t[o]:e.isFunction(o)?o():o},t.Model.IsComplexValue=function(t){return t&&Object.prototype.hasOwnProperty.call(t,"value")&&Object.prototype.hasOwnProperty.call(t,"comparator")},t.Model.prototype._hasAttrs=function(e){var o
;for(o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(!Object.prototype.hasOwnProperty.call(this.attributes,o))return!1;for(var n=Array.isArray(e[o])?e[o]:[e[o]],r=0;r<n.length;r++)if(t.Model.IsComplexValue(n[r])){var i=n[r].comparator,s=n[r].value;if(t.StringUtils.isString(i))throw new Error("String comparator invalid for local where/findWhere");if(!i(this,o,s))return!1}else if(e[o]!==this.attributes[o])return!1}return!0},t.Model.prototype.matches=function(t){return function(e){for(var o in t)if(e.get(o)!==t[o])return!1;return!0}(this)},t.Model.prototype.Contains=function(t){var e,o=t.constructor===Array?t:[t];for(e=0;e<o.length;e++)if(this._hasAttrs(o[e]))return!0;return!1},t.Model._getSuccess=function(t){return null!=t&&t.success?t.success:null},t.Model.GetContext=function(t,e){return void 0!==t&&void 0!==t.context?t.context:e},t.Model.prototype.isNew=function(){return void 0===this.GetId()},t.Model.prototype._getIdAttr=function(){return this.idAttribute||"id"},t.Model.prototype.GetId=function(){return this.id},t.Model.prototype.changedAttributes=function(e){if(e){var o={},n=this;return Object.keys(e).forEach(function(r){Object.prototype.hasOwnProperty.call(e,r)&&(t.Object.__innerEquals(e[r],n.attributes[r])||(o[r]=e[r]))}),!t.Object.isEmpty(o)&&o}return!t.Object.isEmpty(this.changed)&&this.changed},t.Model.prototype.hasChanged=function(e){return void 0!==e?t.Model._hasProperties(this.changed)&&Object.prototype.hasOwnProperty.call(this.changed,e):t.Model._hasProperties(this.changed)},t.Model.prototype.destroy=function(e){var o,n,r,i=e||{},s=i.wait,l=i.error,a=this;r=t.Model._copyOptions(i),o=t.Model._getSuccess(r);var c=this.GetCollection();return r.success=function(e){if(r.xhr&&(i.xhr=r.xhr),c){var n=t.StringUtils.isString(e)&&!t.StringUtils.isEmpty(e)?JSON.parse(e):e;c._setPagingReturnValues(n,null,e,!0)}s&&a._fireDestroy(!1),t.Model._fireSyncEvent(a,e,r,!1),o&&o.call(t.Model.GetContext(r,a),a,e,i)},r.error=function(e){a.TriggerInternal(!1,t.Events.EventType.ERROR,a,e,i),l&&l.apply(a,arguments)},this.isNew()?(s||this._fireDestroy(!1),o&&o.call(t.Model.GetContext(r,a),a,null,i),!1):(n=t.Model._internalSync("delete",this,r),s||this._fireDestroy(!1),n)},t.Model.prototype._fireRequest=function(e,o,n,r){this.TriggerInternal(r,t.Events.EventType.REQUEST,e,o,n)},t.Model.prototype._fireDestroy=function(e){this.TriggerInternal(e,t.Events.EventType.DESTROY,this,this.collection,null)},t.Model._fireSyncEvent=function(e,o,n,r){e.TriggerInternal(r,t.Events.EventType.SYNC,e,o,n)},t.Model.prototype.toJSON=function(){var t={},e=this;return Object.keys(e.attributes||{}).forEach(function(o){Object.prototype.hasOwnProperty.call(e.attributes,o)&&(Array.isArray(e.attributes[o])?t[o]=e.attributes[o].slice(0):t[o]=e.attributes[o])}),t},t.Model.prototype.previous=function(t){return this.previousAttrs[t]},t.Model.prototype.previousAttributes=function(){return this.previousAttrs},t.Model.prototype.sync=function(e,o,n){return t.sync(e,o,n)},t.Model._internalSync=function(e,o,n){var r=n||{};o.oauth&&(r.oauthHeader=o.oauth.getHeader()),!r.dataType&&o.dataType&&(r.dataType=o.dataType),!r.jsonpCallback&&o.jsonpCallback&&(r.jsonpCallback=o.jsonpCallback),"create"!==e&&"patch"!==e&&"update"!==e||(r.parsedData=o.parseSave.call(o,"patch"===e?r.attrs:r.saveAttrs));var i=null;o instanceof t.Model&&(i=o.GetId());var s={};Object.keys(r||{}).forEach(function(t){s[t]=r[t]});var l=t.Model.SetCustomURLOptions(i,o,r);return Object.keys(l||{}).forEach(function(t){s[t]=l[t]}),r.xhr=o.sync(e,o,s),s.xhr&&(r.xhr=s.xhr),r.xhr},t.Model.SetCustomURLOptions=function(e,o,n){var r=o instanceof t.Collection?o.ModifyOptionsForCustomURL(n):{};return e&&(r.recordID=e),r},t.sync=function(e,o,n){var r,i=n||{};function s(t){return o._fireRequest(o,t,i,i.silent),t}var l,a=i.success,c=i.error;if("create"===e.valueOf())return l=(l=o._saveUrl())||t.Model.GetPropValue(o,"url"),s((r=new t.RestImpl(l,o)).addRecord(i.parsedData,c,i,o));if("read"===e.valueOf())return o instanceof t.Model?(l=i.url?i.url:t.Model.GetPropValue(o,"url"),s((r=new t.RestImpl(l,o)).getRecord(a,c,o.GetId(),i,t.Model.GetContext(i,o)))):(l=o.GetCollectionFetchUrl(i),s((r=new t.RestImpl(l,o)).getRecords(a,c,i,o)));r=new t.RestImpl(t.Model.GetPropValue(o,"url"),o);var u=null;return o instanceof t.Model&&(u=o.GetId()),"update"===e.valueOf()?s(r.updateRecord(a,u,i.parsedData,c,i,o,!1)):"patch"===e.valueOf()?s(r.updateRecord(a,u,i.parsedData,c,i,o,!0)):"delete"===e.valueOf()?s(r.deleteRecord(u,c,i,o)):null},t.Model._urlError=function(t){if(!t.url)throw new Error("The url property or function must be specified")},t.ajax=function(o){return arguments&&arguments.length>0&&t.Model._urlError(arguments[0]),e.ajax.apply(t,arguments)},t.OAuth=function(e,o){t.OAuth._init(this,o||{},e||"Authorization")},t.Object.createSubclass(t.OAuth,t.Object,"oj.OAuth"),t.OAuth.prototype.Init=function(){t.OAuth.superclass.Init.call(this)},t.OAuth.prototype.getHeader=function(){var t={};return this.accessTokenResponse.access_token||this.clientCredentialGrant(),t[this.accessTokenRequest.auth_header]="Bearer "+this.accessTokenResponse.access_token,t},t.OAuth.prototype.isInitialized=function(){return!(!this.accessTokenResponse||!this.accessTokenResponse.access_token)},t.OAuth.prototype.clientCredentialGrant=function(){var o={},n=this;o[n.accessTokenRequest.auth_header]="Basic "+t.OAuth._base64_encode(n.accessTokenRequest.client_id+":"+n.accessTokenRequest.client_secret),e.ajax({type:"POST",async:!1,url:this.accessTokenRequest.bearer_url,data:"grant_type=client_credentials",headers:o,success:function(e){n.accessTokenResponse=t.OAuth._initAccessToken(n.accessTokenResponse,e)},error:function(t){throw new Error(t.responseText)}})},t.OAuth.prototype.setAccessTokenResponse=function(e){this.accessTokenResopnse=t.OAuth._initAccessToken(this.accessTokenResponse,e)},t.OAuth.prototype.getAccessTokenResponse=function(){return this.accessTokenResponse},t.OAuth.prototype.cleanAccessTokenResponse=function(){t.OAuth._cleanAccessToken(this.accessTokenResponse)},t.OAuth.prototype.setAccessTokenRequest=function(e){this.accessTokenRequest=t.OAuth._initAccessToken(this.accessTokenRequest,e)},t.OAuth.prototype.getAccessTokenRequest=function(){return this.accessTokenRequest},t.OAuth.prototype.cleanAccessTokenRequest=function(){t.OAuth._cleanAccessToken(this.accessTokenRequest)},t.OAuth._init=function(e,o,n){var r=e;r.Init(),r.accessTokenRequest={},r.accessTokenResponse={},o.access_token?r.accessTokenResponse=t.OAuth._initAccessToken(r.accessTokenResponse,o):o.client_id&&o.client_secret&&o.bearer_url&&(r.accessTokenResponse=t.OAuth._initAccessToken(r.accessTokenRequest,o)),r.accessTokenRequest.auth_header=n},t.OAuth._initAccessToken=function(t,e){var o=e||{},n=t||{};return Object.keys(o).forEach(function(t){Object.prototype.hasOwnProperty.call(o,t)&&(n[t]=o[t])}),n},t.OAuth._cleanAccessToken=function(t){var e=t||{};Object.keys(e).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&"auth_header"!==t&&(e[t]=null,delete e[t])})},t.OAuth._base64_encode=function(t){var e,o,n,r,i=0,s=0,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=[];do{e=t.charCodeAt(i),i+=1,o=t.charCodeAt(i),i+=1,n=t.charCodeAt(i),i+=1,e=(r=e<<16|o<<8|n)>>18&63,o=r>>12&63,n=r>>6&63,r&=63,a[s]=l.charAt(e)+l.charAt(o)+l.charAt(n)+l.charAt(r),s+=1}while(i<t.length);return a=a.join(""),((e=t.length%3)?a.slice(0,e-3):a)+"===".slice(e||3)},t.RestImpl=function(t,o){this.rootURL=t,this.model=o,this.customURL=o.customURL,e.support.cors=!0},t.RestImpl._HEADER_PROP="headers",t.RestImpl.addOptions=function(o,n,r){var i=e.extend(!0,o,r);return n&&Object.keys(n||{}).forEach(function(o){Object.prototype.hasOwnProperty.call(n,o)&&"oauthHeader"!==o&&(Object.prototype.hasOwnProperty.call(i,o)||(i[o]=n[o]),o===t.RestImpl._HEADER_PROP&&(i[o]=e.extend(!0,i[o],n[o])))}),n.oauthHeader&&(i[t.RestImpl._HEADER_PROP]||(i[t.RestImpl._HEADER_PROP]={}),Object.keys(n.oauthHeader||{}).forEach(function(e){Object.prototype.hasOwnProperty.call(n.oauthHeader,e)&&(Object.prototype.hasOwnProperty.call(i[t.RestImpl._HEADER_PROP],e)||(i[t.RestImpl._HEADER_PROP][e]=n.oauthHeader[e]))})),i},t.RestImpl.prototype.getRecords=function(e,o,n,r){var i=n||{},s="jsonp"===i.dataType,l=this._getURL("read",this.rootURL,this.customURL,null,r,i),a={crossDomain:i.crossDomain||!s,dataType:this._getDataType(i),jsonpCallback:i.jsonpCallback,context:null!==r?r:this,success:e,error:o};return a=this._addHeaderProp(a),a=t.RestImpl.addOptions(a,i,l),i.xhr=this.ajax(a,r),i.xhr},t.RestImpl.prototype._addHeaderProp=function(e){var o=e||{};return this.model&&this.model.omitLanguageHeader||(o[t.RestImpl._HEADER_PROP]={"Accept-Language":this.getLocale()}),o},t.RestImpl.prototype.getRecord=function(e,o,n,r,i){var s=r||{},l="jsonp"===s.dataType,a=this._getURL("read",this.rootURL,this.customURL,n,i,s),c={crossDomain:s.crossDomain||!l,dataType:this._getDataType(s),jsonpCallback:s.jsonpCallback,context:null!==i?i:this,success:e,error:o};return c=this._addHeaderProp(c),c=t.RestImpl.addOptions(c,s,a),s.xhr=this.ajax(c,i),s.xhr},t.RestImpl.prototype.updateRecord=function(e,o,n,r,i,s,l){var a=i||{},c="jsonp"===a.dataType,u=this._getURL(l?"patch":"update",this.rootURL,this.customURL,o,s,a),h=t.RestImpl._emulateHTTP(a),p={crossDomain:a.crossDomain||!c,contentType:this._getContentType(a),dataType:this._getDataType(a),jsonpCallback:a.jsonpCallback,data:this._getData(JSON.stringify(n),a,u),emulateHTTP:h,emulateJSON:t.RestImpl._emulateJSON(a),success:e,error:r,context:null!==s?s:this};return p=this._addHeaderProp(p),p=t.RestImpl.addOptions(p,a,u),p=t.RestImpl._beforeSendMod(h,p),a.xhr=this.ajax(p,s),a.xhr},t.RestImpl._beforeSendMod=function(t,e){var o=e||{};if(t){var n=o.beforeSend;o.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",o._method),n?n.apply(this,arguments):null}}return o},t.RestImpl.prototype._getData=function(e,o,n){if(t.RestImpl._emulateJSON(o)){var r={_method:n._method?n._method:n.type};return e&&(r.model=e),r}return e},t.RestImpl.prototype._getHTTPMethod=function(e,o){if(o.type)return{method:o.type};var n=null;if("create"===e&&(n="POST"),"delete"===e&&(n="DELETE"),"patch"===e&&(n="PATCH"),"update"===e&&(n="PUT"),t.RestImpl._emulateHTTP(o)){var r={method:"POST"};return r._method=n,r}return null===n&&(n="GET"),{method:n}},t.RestImpl._emulateHTTP=function(e){return e.emulateHTTP||t.emulateHTTP},t.RestImpl._emulateJSON=function(e){return e.emulateJSON||t.emulateJSON},t.RestImpl.prototype._getURL=function(o,n,r,i,s,l){var a=this._getHTTPMethod(o,l);if(e.isFunction(r)){var c=r.call(this,o,s,t.Model.SetCustomURLOptions(i,s,l));if(t.StringUtils.isString(c)){var u={url:c,type:a.method};return a._method&&(u._method=a._method),u}if(c)return c.url=Object.prototype.hasOwnProperty.call(c,"url")?c.url:n,Object.prototype.hasOwnProperty.call(c,"type")||(c.type=a.method),Object.prototype.hasOwnProperty.call(c,"data")||a._method&&(c._method=a._method),c}var h={url:t.Model.GetPropValue(null,n),type:a.method};return a._method&&(h._method=a._method),h},t.RestImpl.prototype.deleteRecord=function(e,o,n,r){var i=n||{},s="jsonp"===i.dataType,l=this._getURL("delete",this.rootURL,this.customURL,e,r,i),a=t.RestImpl._emulateHTTP(i),c=t.RestImpl._emulateJSON(i),u={crossDomain:i.crossDomain||!s,success:i.success,error:o,context:null!==r?r:this,emulateHTTP:a,emulateJSON:c},h=this._getData(null,i,l);return h&&(u.data=h),u=t.RestImpl.addOptions(u,i,l),u=t.RestImpl._beforeSendMod(a,u),i.xhr=this.ajax(u,r),i.xhr},t.RestImpl.prototype.addRecord=function(e,o,n,r){var i=n||{},s=JSON.stringify(e),l="jsonp"===i.dataType,a=this._getURL("create",this.rootURL,this.customURL,null,r,i),c=t.RestImpl._emulateHTTP(i),u={crossDomain:i.crossDomain||!l,contentType:i.contentType||"application/json",dataType:this._getDataType(i),jsonpCallback:i.jsonpCallback,data:this._getData(s,i,a),success:i.success,error:o,emulateHTTP:c,emulateJSON:t.RestImpl._emulateJSON(i),context:null!==r?r:this};return u=this._addHeaderProp(u),u=t.RestImpl.addOptions(u,i,a),i.xhr=this.ajax(u,r),i.xhr},t.RestImpl.prototype._getDataType=function(e){return t.RestImpl._emulateJSON(e)&&!t.RestImpl._emulateHTTP(e)?"application/x-www-form-urlencoded":e.dataType||"json"},t.RestImpl.prototype._getContentType=function(e){return t.RestImpl._emulateJSON(e)&&!t.RestImpl._emulateHTTP(e)?"application/x-www-form-urlencoded":e.contentType||"application/json"},t.RestImpl.prototype.getLocale=function(){return t.Config.getLocale()},t.RestImpl.prototype.ajax=function(e,o){if(null===e.url||void 0===e.url)throw new t.URLError;var n=t.ajax(e);return o._addxhr&&o._addxhr(n),n},t.URLError=function(){this.name="URLError",this.message="No URL defined"},t.URLError.prototype=new Error,t.URLError.constructor=t.URLError});
define('common/baseRestService',["ojs/ojcore","knockout","common/configService","ojs/ojmodel"],function(e,r,t){return function(n,o,c,u,l){var i=this;i.fetchSize=u||-1,i.getRestServiceUrl=function(e,r){var n,o=(n=l?t[l]+("/"===t[l][t[l].length-1]?"":"/")+e:t.serviceUrl+("/"===t.serviceUrl[t.serviceUrl.length-1]?"":"/")+e).indexOf("://");return o>=0?n=n.substr(0,o)+"://"+n.substr(o+3).replace("//","/"):n.replace("//","/"),"/"===n[n.length-1]&&(n=n.substr(0,n.length-1)),n},i.getRestServiceAdmUrl=function(e){var r,n=(r=l?t[l]+("/"===t[l][t[l].length-1]?"":"/")+e:t.serviceAdmUrl+("/"===t.serviceAdmUrl[t.serviceAdmUrl.length-1]?"":"/")+e).indexOf("://");return n>=0?r=r.substr(0,n)+"://"+r.substr(n+3).replace("//","/"):r.replace("//","/"),"/"===r[r.length-1]&&(r=r.substr(0,r.length-1)),r},i.baseUrl=i.getRestServiceUrl(n),i.propertyId=o,i.objectEnclosure=c,i.createModel=function(r){var t=new(e.Model.extend({urlRoot:i.baseUrl,customURL:function(e,r,t){return"create"===e?{url:i.baseUrl,type:"PUT"}:"update"===e?{url:i.baseUrl+"?"+o+"="+t.recordID,type:"PUT"}:"get"===e?{url:i.baseUrl+"?"+o+"="+t.recordID,type:"GET"}:"delete"===e?{url:i.baseUrl+"?"+o+"="+t.recordID,type:"DELETE"}:void 0},idAttribute:i.propertyId,parse:function(e){var r={};for(var t in e)e.hasOwnProperty(t)&&(e[t]&&e[t].hasOwnProperty("@nil")&&"true"===e[t]["@nil"]?r[t]=void 0:r[t]=e[t]);return r},parseSave:function(e){if(i.objectEnclosure){var r={};return r[i.objectEnclosure]=[e],r}return e}}));if(r)for(var n in r)r.hasOwnProperty(n)&&(t.attributes[n]=r[n]);return t},i.createCollection=function(){return new(e.Collection.extend({url:i.baseUrl,model:new i.createModel,fetchSize:i.fetchSize,parse:function(e){return i.objectEnclosure?e.hasOwnProperty(i.objectEnclosure)?e[i.objectEnclosure]:void 0:e},customURL:function(e,r,t){var n="";if("read"===e){if(t.query)for(var o in t.query)""!==n&&(n+="&"),t.query.hasOwnProperty(o)&&(n+=o+"="+t.query[o]);return{url:i.baseUrl+(""!==n?"?"+n:""),type:"GET"}}return null}}))},i.fetchAsLOV=function(e,t){return new Promise(function(n,o){var c=i.createCollection();c.fetch({success:function(o,u){var l=c.toJSON(),i=[];r.utils.arrayForEach(l,function(r){if(!r.hasOwnProperty("active")||"Y"===r.active){var n=r[e],o=r[t];i.push({label:n,value:o})}}),n(i)},error:function(e,r){o("failed")}})})},i.fetchAsLOVForSRPSPB=function(e,t,n){return new Promise(function(o,c){var u=i.createCollection();u.fetch({success:function(c,l){var i=u.toJSON(),s=[];r.utils.arrayForEach(i,function(r){if("Y"===r.active){var o=r[e];if("SRP"===(c=r[t])){o="MGP SRP";var c="mgprate"===n?"MGP SRP":r.prodId;s.push({label:o,value:c})}else"SPB"===c&&(o="MGP SPB",c="mgprate"===n?"MGP SPB":r.prodId,s.push({label:o,value:c}))}}),o(s)},error:function(e,r){c("failed")}})})}}});
define('common/restService',["common/baseRestService","ojs/ojcore","knockout"],function(e){return new function(){this.viewProfileService2=function(){return new e("/viewProfile/1234","ssnum")},this.viewProfileService=function(){return(new e).getRestServiceUrl("/viewProfile/1234")},this.userInfo=(new e).getRestServiceAdmUrl("/users/me"),this.navigationService=(new e).getRestServiceAdmUrl("/menu/navigation"),this.orderService=(new e).getRestServiceUrl("/order"),this.orderDialogService=(new e).getRestServiceUrl("/order/dialog"),this.workorderService=(new e).getRestServiceUrl("/action"),this.actionService=(new e).getRestServiceUrl("/action"),this.falloutService=(new e).getRestServiceUrl("/fallout"),this.falloutServiceAt=(new e).getRestServiceUrl("/falloutAt"),this.payloadService=(new e).getRestServiceUrl("/payload"),this.orderRecoveryForceCompleteService=(new e).getRestServiceUrl("/order/Recovery"),this.orderRecoveryRetryService=(new e).getRestServiceUrl("/order/Retry"),this.orderRecoveryUpdateService=(new e).getRestServiceUrl("/order/Update"),this.orderRecoveryCancelService=(new e).getRestServiceUrl("/order/Cancel"),this.orderRecoveryRollbackService=(new e).getRestServiceUrl("/order/Rollback"),this.orderRecoveryMassRetryService=(new e).getRestServiceUrl("/order/MassRetry"),this.orderRecoveryMassCancelService=(new e).getRestServiceUrl("/order/MassCancel"),this.getSchedulerMidnightService=(new e).getRestServiceUrl("/dashboard/getSchedulerMidnight"),this.getStuckOrderCountService=(new e).getRestServiceUrl("/dashboard/getStuckOrderCount"),this.getCollectionService=(new e).getRestServiceUrl("/dashboard/getCollection"),this.getTotalSchedulerService=(new e).getRestServiceUrl("/dashboard/getTotalScheduler"),this.getCollectionDetailService=(new e).getRestServiceUrl("/collectionDetail/getCollectionDetail"),this.getCollectionsMsisdn=(new e).getRestServiceUrl("/order/getCollectionByMsisdn"),this.getOrdersMsisdn=(new e).getRestServiceUrl("/order/getOfferByMsisdn"),this.getOfferListOrderID=(new e).getRestServiceUrl("/order/getOfferByMsisdn"),this.getDailyOrderPerformanceChart=(new e).getRestServiceUrl("/monitoring/getDailyOrderSLACount"),this.getHourlyOrderPerformance=(new e).getRestServiceUrl("/monitoring/getHourlyOrderSLACount"),this.getOrderCountByOrderType=(new e).getRestServiceUrl("/monitoring/getOrderCountByOrderType"),this.getOrderCountBySalesChannel=(new e).getRestServiceUrl("/monitoring/getOrderCountBySalesChannel"),this.getHourlyPercentileCount=(new e).getRestServiceUrl("/monitoring/getHourlyPercentileCount"),this.getTopOrderType=(new e).getRestServiceUrl("/monitoring/getTopOrderType"),this.getTopSalesChannel=(new e).getRestServiceUrl("/monitoring/getTopSalesChannel"),this.getOrderTypeLOV=(new e).getRestServiceUrl("/lookupsdetail/getLOV?lovName=LOV_ORDER_TYPE"),this.getLOV=(new e).getRestServiceUrl("/lookupsdetail/getLOV"),this.getServiceDetail=(new e).getRestServiceUrl("/dashboard/getServiceDetail"),this.getDashboardHourlyOperationCode=(new e).getRestServiceUrl("/dashboard/getHourlyOperationCode"),this.getCollectionMonitoring=(new e).getRestServiceUrl("/collectionmonitoring/getCollectionMonitoring"),this.getCollectionDashboard=(new e).getRestServiceUrl("/collectiondashboard/getCollectionDashboard"),this.getCollectionTotalDaily=(new e).getRestServiceUrl("/collectiondashboard/getCollectionTotalDaily"),this.getCollectionTotalHourly=(new e).getRestServiceUrl("/collectiondashboard/getCollectionTotalHourly"),this.getCollectionTopOrderType=(new e).getRestServiceUrl("/collectiondashboard/getCollectionTopOrderType"),this.getEpcProStatus=(new e).getRestServiceUrl("/EpcProStatus/getAll"),this.updateCache=(new e).getRestServiceUrl("/cache/updateCache")}});
define('ojs/ojmodule-element-utils',["ojs/ojcore","knockout"],function(e,r){var t=function(){};return e.Object.createSubclass(t,e.Object,"ModuleElementUtils"),e.ModuleElementUtils=t,{createView:t.createView=function(r){if(!r||!r.viewPath)return Promise.resolve([]);var t=new Promise(function(e,t){(r.require?r.require:require)(["text!"+r.viewPath],e,t)});return new Promise(function(r,i){t.then(function(t){var i=e.__HtmlUtils.stringToNodeArray(t);return r(i)},function(e){return i(e)})})},createViewModel:t.createViewModel=function(e){return e&&e.viewModelPath?new Promise(function(r,t){(e.require?e.require:require)([e.viewModelPath],r,t)}):Promise.resolve(null)}}});
define('ojs/ojmodule',["ojs/ojcore","knockout","promise"],function(e,n){e.ModuleBinding={},e.ModuleBinding.defaults={viewPath:"text!views/",viewSuffix:".html",modelPath:"viewModels/",initializeMethod:"initialize",disposeMethod:"dispose",activatedHandler:"handleActivated",attachedHandler:"handleAttached",detachedHandler:"handleDetached",bindingsAppliedHandler:"handleBindingsApplied",deactivatedHandler:"handleDeactivated",transitionCompletedHandler:"handleTransitionCompleted"},e.ModuleBinding._EMPTY_MODULE="oj:blank",function(){function i(e,i,o){i=i||e;var t=[];o&&e===i&&(o.parentNode.removeChild(o),t.push(o)),n.virtualElements.setDomNodeChildren(i,t)}function o(e,n){e.forEach(function(e){n.appendChild(e)})}function t(e,n,i){var o={};i[0]&&(o.viewModel=i[0]),i[1]&&(o.view=i[1]);var t=new CustomEvent(n,{detail:o});e.dispatchEvent(t)}function l(e,i,o){if(e&&e[i]){var t={element:o[0],valueAccessor:o[1]};return o.length>2&&(t.viewModel=o[2],o.length>3&&(t["boolean"==typeof o[3]?"fromCache":"cachedNodes"]=o[3])),n.ignoreDependencies(e[i],e,[t])}}function r(i,o,t){if(null!=i){var l=e.ModuleBinding.defaults[o];if(null!=l&&i){var r=i[l];if("function"==typeof r){var d=void 0;return t&&(d={element:t[0],valueAccessor:t[1]},t.length>2&&(d["boolean"==typeof t[2]?"fromCache":"cachedNodes"]=t[2])),n.ignoreDependencies(r,i,[d])}}}}function d(e,i){if(e&&i){var o=e[i];"function"==typeof o&&n.ignoreDependencies(o,e)}}function a(e,i,o){for(var t=e;null!=t;){var l=n.virtualElements.nextSibling(t),r=t.nodeType;t===i||1!==r&&8!==r||o(t),t=l}}function u(e,i){for(var o=i.length-1;o>=0;o--)n.virtualElements.prepend(e,i[o])}function s(e,n){if(n)for(var i=0;i<e.length;i++){var o=e[i];1===o.nodeType&&n(o)}}function c(n,i){return n=n||require,new Promise(function(o,t){n([i],function(e){o(e)},function(n){e.Logger.error("ojModule failed to load "+i),t(n)})})}n.bindingHandlers.ojModule={init:function(f,v,p,h,m){var w,g,M,C,b,y,N,E,P={},V=-1,D=f.parentNode&&"OJ-MODULE"===f.parentNode.nodeName,j=D?function(){}:r,A=D?function(){}:l,B=D?d:function(){},H=D?t:function(){};function $(){y&&(y(),y=null)}var x=function(e){j(e,"disposeMethod",[f,v])},T=function(){x(w)};n.utils.domNodeDisposal.addDisposeCallback(f,function(){T();for(var e=Object.keys(P),n=0;n<e.length;n++){var i=P[e[n]].model;x(i)}$()});var F=new Error("Promise cancelled because ojModule is fetching new View and ViewModel"),O=function(e){if(e!=V)throw F},S=f;return 8===f.nodeType&&(S=f.parentNode,n.virtualElements.setDomNodeChildren(f,[]),b=f.nextSibling),n.computed(function(){if(V++,!y){var t=e.Context.getContext(S).getBusyContext();y=t.addBusyState({description:"ojModule binding on a node with the Id "+f.id+"is loading the module. Binding evaluator: "+v.toString()})}var l,r,d,p,h,x,L,k,q,I,U,_,z,J,Y=0===V,K=n.utils.unwrapObservable,R=K(v());"string"==typeof R?l=R:(l=K(R.name),r=K(R.viewName),d=K(R.params),p=K(R.viewModelFactory),h=K(R.createViewFunction),x=K(R.cacheKey),L=K(R.lifecycleListener),k=K(R.animation),_=K(R.view),z=K(R.viewModel),q=K(R.require),J=K(R.cleanupMode)),null==q||q instanceof Function||(U=q.viewPath,I=q.modelPath,q=q.instance),r=null==r?l:r;var W,G,Q,X=e.ModuleBinding._EMPTY_MODULE===r,Z=A(L,"activated",[f,v]);if(H(S,"ojTransitionStart",[z]),X)W=Promise.resolve([]),G=Promise.resolve(null);else{var ee=null==x?null:P[x];null!=ee&&(delete P[x],W=Promise.resolve(ee.view),G=Promise.resolve(ee.model))}if(null==W&&null!=_&&(W=Promise.resolve(_)),null==G&&(null!=z?G=Promise.resolve(z):null!=p&&(G=n.ignoreDependencies(p.createViewModel,p,[d,v])),null==G&&null!=l&&(null==I&&(I=e.ModuleBinding.defaults.modelPath),G=c(q,I+l)),null!=G&&(G=G.then(function(e,n){return O(e),"function"==typeof n?new n(d):j(n,"initializeMethod",[f,v])||n}.bind(null,V)),null==W&&null!=h&&(W=G.then(function(e,n){if(O(e),null==n)throw $(),"createViewFunction option cannot be used when the ViewModel is null";var i=n[h];if(null==i)throw $(),"function specified by the createViewFunction option was not found on the ViewModel";return i.call(n)}.bind(null,V)))),null==W)){if(null==r)throw $(),new Error("View name or view instance must be specified");null==U&&(U=e.ModuleBinding.defaults.viewPath),W=c(q,U+r+e.ModuleBinding.defaults.viewSuffix)}if(null==W)throw $(),new Error("ojModule is missing a View");null!=G&&(Q=G.then(function(e,n){return O(e),j(n,"activatedHandler",[f,v])}.bind(null,V))),Promise.all([W,G,Z,Q,g]).then(function(t,l){if(t==V){var r=l[0];if(null==r)throw $(),"The module's View was resolved to null";var c,p=function(e,i){if("string"==typeof e)e=n.utils.parseHtmlFragment(e);else if(function(e){return window.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}(e))e=n.utils.arrayPushAll([],e.childNodes);else{if(!Array.isArray(e))throw i(),"The View ("+e+") has an unsupported type";e=n.utils.arrayPushAll([],e)}return e}(r,$),h=l[1],y=!1,F=function(e,i,o){for(var t=[],l=n.virtualElements.firstChild(e);null!=l&&l!=o;l=l.nextSibling)l!=i&&t.push(l);return t}(f,C,b),O=function(e,i){var o=[];return a(n.virtualElements.firstChild(e),i,function(e){o.push(e)}),o}(f,C);null==M||N?D&&(c=F):(y=!0,c=F,C||((C=document.createElement("div")).className="oj-helper-module-cache",n.virtualElements.prepend(f,C)));var q=!1,I=function(t){if(!q){if(q=!0,y)o(F,C),i(f,t||f,C);else if(D&&"none"===E)for(var l=0;l<c.length;l++){var r=c[l];r.parentNode.removeChild(r)}else O.forEach(function(e){n.cleanNode(e)}),i(f,t||f,C);Y||(A(L,"detached",[f,v,w,c]),j(w,"detachedHandler",[f,v,c]),B(w,"disconnected"),H(S,"ojViewDisconnected",[w,c]),A(L,"deactivated",[f,v,w]),j(w,"deactivatedHandler",[f,v])),y?(s(c,e.Components?e.Components.subtreeHidden:null),P[M]={model:w,view:c}):D&&"none"===E||T(),w=h,M=x,N=X,E=J}},U=function(i){u(i=i||f,p);var o=null!=ee;o&&s(p,e.Components?e.Components.subtreeShown:null),A(L,"attached",[i,v,h,o]),j(h,"attachedHandler",[i,v,o]),B(h,"connected"),H(S,"ojViewConnected",[h]);var t=D&&function(e,i){for(var o,t=0;t<e.length&&!(o=n.contextFor(e[t]));t++);return o&&o.$module&&o.$module==i}(p,h);if(!o&&!t){var l=m.createChildContext(h,void 0,function(e){e.$module=h,e.$params=d});D&&(l.$parent=void 0,l.$parents=void 0,l.$parentContext=void 0,l.$props=void 0,l.$properties=void 0,l.$slotNodeCounts=void 0,l.$slotCounts=void 0,l.$unique=void 0,l.$uniqueId=void 0),function(e,i,o,t){var l=n.bindingProvider.instance,r=l.preprocessNode;r&&(a(i,t,function(e){r.call(l,e)}),i=n.virtualElements.firstChild(e)),a(i,t,function(e){n.applyBindings(o,e)})}(i,p[0],l,C),A(L,"bindingsApplied",[i,v,h]),j(h,"bindingsAppliedHandler",[i,v])}},_=function(){A(L,"transitionCompleted",[f,v,h]),j(h,"transitionCompletedHandler",[f,v]),B(h,"transitionCompleted"),H(S,"ojTransitionEnd",[h]),$()};if(null!=k){var z=function(i,t,l,r,d,a,c){var f,v,p=t.canAnimate;if(null==p||p.call(t,i)){var h=t.prepareAnimation.call(t,i);h&&(f=h.newViewParent,v=h.oldViewParent);var m=f||l;v&&v!==l?o(r,v):m===l&&a(null),m!==l&&n.virtualElements.setDomNodeChildren(m,[]),d(m);var w=Array.prototype.slice.call(m.childNodes),g=!1,M=function(){if(!g&&(g=!0,l!==m)){u(l,w);var n=l.parentNode&&"OJ-MODULE"===l.parentNode.nodeName;e.Components&&!n&&(s(w,e.Components.subtreeDetached),s(w,e.Components.subtreeAttached))}},C=a.bind(null,v);i.newViewParent=f,i.oldViewParent=v,i.oldViewNodes=r,i.removeOldView=C,i.insertNewView=M;var b=function(){C(),M(),c()};return t.animate.call(t,i).then(b,function(n){b(),e.Logger.error("ojModule animation promise was rejected")})}}(function(e,n,i,o,t,l){return{node:l?e.parentNode:e,valueAccessor:l?null:n,isInitial:i,oldViewModel:o,newViewModel:t}}(f,v,Y,w,h,D),k,f,F,U,I,_);g=function(e){return e?new Promise(function(n,i){e.then(n,n)}):e}(z)}else g=void 0;g||(I(null),U(null),_())}}.bind(null,V),function(n,i){i!==F&&null!=i&&($(),e.Logger.error(i))}.bind(null,V))},null,{disposeWhenNodeIsRemoved:f}),{controlsDescendantBindings:!0}}},n.virtualElements.allowedBindings.ojModule=!0}()});
(function(){"use strict";var t=new function(){},e=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));function n(t){var n=e.has(t);return t=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t),!n&&t}function o(t){var e=t.isConnected;if(void 0!==e)return e;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function i(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function r(t,e,n){n=n||new Set;for(var o=t;o;){if(o.nodeType===Node.ELEMENT_NODE){var a=o;e(a);var l=a.localName;if("link"===l&&"import"===a.getAttribute("rel")){if((o=a.import)instanceof Node&&!n.has(o))for(n.add(o),o=o.firstChild;o;o=o.nextSibling)r(o,e,n);o=i(t,a);continue}if("template"===l){o=i(t,a);continue}if(a=a.__CE_shadowRoot)for(a=a.firstChild;a;a=a.nextSibling)r(a,e,n)}o=o.firstChild?o.firstChild:i(t,o)}}function a(t,e,n){t[e]=n}function l(){this.a=new Map,this.o=new Map,this.f=[],this.b=!1}function c(t,e){t.b=!0,t.f.push(e)}function s(t,e){t.b&&r(e,function(e){return h(t,e)})}function h(t,e){if(t.b&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.f.length;n++)t.f[n](e)}}function u(t,e){var n=[];for(r(e,function(t){return n.push(t)}),e=0;e<n.length;e++){var o=n[e];1===o.__CE_state?t.connectedCallback(o):d(t,o)}}function f(t,e){var n=[];for(r(e,function(t){return n.push(t)}),e=0;e<n.length;e++){var o=n[e];1===o.__CE_state&&t.disconnectedCallback(o)}}function p(t,e,n){var o=(n=n||{}).w||new Set,i=n.s||function(e){return d(t,e)},a=[];if(r(e,function(e){if("link"===e.localName&&"import"===e.getAttribute("rel")){var n=e.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_hasRegistry=!0),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:e.addEventListener("load",function(){var n=e.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var r=new Set(o);r.delete(n),p(t,n,{w:r,s:i})}})}else a.push(e)},o),t.b)for(e=0;e<a.length;e++)h(t,a[e]);for(e=0;e<a.length;e++)i(a[e])}function d(t,e){if(void 0===e.__CE_state){var n=e.ownerDocument;if((n.defaultView||n.__CE_isImportDocument&&n.__CE_hasRegistry)&&(n=t.a.get(e.localName))){n.constructionStack.push(e);var i=n.constructor;try{try{if(new i!==e)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{n.constructionStack.pop()}}catch(t){throw e.__CE_state=2,t}if(e.__CE_state=1,e.__CE_definition=n,n.attributeChangedCallback)for(n=n.observedAttributes,i=0;i<n.length;i++){var r=n[i],a=e.getAttribute(r);null!==a&&t.attributeChangedCallback(e,r,null,a,null)}o(e)&&t.connectedCallback(e)}}}function m(t,e){this.c=t,this.a=e,this.b=void 0,p(this.c,this.a),"loading"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function w(t){t.b&&t.b.disconnect()}function y(t){if(t.a)throw Error("Already resolved.");t.a=void 0,t.b&&t.b(void 0)}function g(t){this.i=!1,this.c=t,this.m=new Map,this.j=function(t){return t()},this.g=!1,this.l=[],this.u=new m(t,document)}l.prototype.connectedCallback=function(t){var e=t.__CE_definition;e.connectedCallback&&e.connectedCallback.call(t)},l.prototype.disconnectedCallback=function(t){var e=t.__CE_definition;e.disconnectedCallback&&e.disconnectedCallback.call(t)},l.prototype.attributeChangedCallback=function(t,e,n,o,i){var r=t.__CE_definition;r.attributeChangedCallback&&-1<r.observedAttributes.indexOf(e)&&r.attributeChangedCallback.call(t,e,n,o,i)},m.prototype.f=function(t){var e=this.a.readyState;for("interactive"!==e&&"complete"!==e||w(this),e=0;e<t.length;e++)for(var n=t[e].addedNodes,o=0;o<n.length;o++)p(this.c,n[o])},g.prototype.define=function(t,e){var o,i,r,a,l,c=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!n(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(this.c.a.get(t))throw Error("A custom element with name '"+t+"' has already been defined.");if(this.i)throw Error("A custom element is already being defined.");this.i=!0;try{var s=function(t){var e=h[t];if(void 0!==e&&!(e instanceof Function))throw Error("The '"+t+"' callback must be a function.");return e},h=e.prototype;if(!(h instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");o=s("connectedCallback"),i=s("disconnectedCallback"),r=s("adoptedCallback"),a=s("attributeChangedCallback"),l=e.observedAttributes||[]}catch(t){return}finally{this.i=!1}e={localName:t,constructor:e,connectedCallback:o,disconnectedCallback:i,adoptedCallback:r,attributeChangedCallback:a,observedAttributes:l,constructionStack:[]},function(t,e,n){t.a.set(e,n),t.o.set(n.constructor,n)}(this.c,t,e),this.l.push(e),this.g||(this.g=!0,this.j(function(){return function(t){if(!1!==t.g){t.g=!1;for(var e=t.l,n=[],o=new Map,i=0;i<e.length;i++)o.set(e[i].localName,[]);for(p(t.c,document,{s:function(e){if(void 0===e.__CE_state){var i=e.localName,r=o.get(i);r?r.push(e):t.c.a.get(i)&&n.push(e)}}}),i=0;i<n.length;i++)d(t.c,n[i]);for(;0<e.length;){for(var r=e.shift(),i=r.localName,r=o.get(r.localName),a=0;a<r.length;a++)d(t.c,r[a]);(i=t.m.get(i))&&y(i)}}}(c)}))},g.prototype.get=function(t){if(t=this.c.a.get(t))return t.constructor},g.prototype.whenDefined=function(t){if(!n(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.m.get(t);return e?e.f:(e=new function(){var t=this;this.b=this.a=void 0,this.f=new Promise(function(e){t.b=e,t.a&&e(t.a)})},this.m.set(t,e),this.c.a.get(t)&&!this.l.some(function(e){return e.localName===t})&&y(e),e.f)},g.prototype.v=function(t){w(this.u);var e=this.j;this.j=function(n){return t(function(){return e(n)})}},window.CustomElementRegistry=g,g.prototype.define=g.prototype.define,g.prototype.get=g.prototype.get,g.prototype.whenDefined=g.prototype.whenDefined,g.prototype.polyfillWrapFlushCallback=g.prototype.v;var b=window.Document.prototype.createElement,_=window.Document.prototype.createElementNS,v=window.Document.prototype.importNode,E=window.Document.prototype.prepend,C=window.Document.prototype.append,N=window.DocumentFragment.prototype.prepend,k=window.DocumentFragment.prototype.append,D=window.Node.prototype.cloneNode,S=window.Node.prototype.appendChild,A=window.Node.prototype.insertBefore,T=window.Node.prototype.removeChild,j=window.Node.prototype.replaceChild,L=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),M=window.Element.prototype.attachShadow,O=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),x=window.Element.prototype.getAttribute,H=window.Element.prototype.setAttribute,R=window.Element.prototype.removeAttribute,F=window.Element.prototype.getAttributeNS,P=window.Element.prototype.setAttributeNS,I=window.Element.prototype.removeAttributeNS,z=window.Element.prototype.insertAdjacentElement,W=window.Element.prototype.prepend,B=window.Element.prototype.append,V=window.Element.prototype.before,X=window.Element.prototype.after,$=window.Element.prototype.replaceWith,q=window.Element.prototype.remove,G=window.HTMLElement,J=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),K=window.HTMLElement.prototype.insertAdjacentElement;function Q(t,e,n){function i(e){return function(n){for(var i=[],r=0;r<arguments.length;++r)i[r-0]=arguments[r];r=[];for(var a=[],l=0;l<i.length;l++){var c=i[l];if(c instanceof Element&&o(c)&&a.push(c),c instanceof DocumentFragment)for(c=c.firstChild;c;c=c.nextSibling)r.push(c);else r.push(c)}for(e.apply(this,i),i=0;i<a.length;i++)f(t,a[i]);if(o(this))for(i=0;i<r.length;i++)(a=r[i])instanceof Element&&u(t,a)}}n.h&&(e.prepend=i(n.h)),n.append&&(e.append=i(n.append))}var U,Y=window.customElements;if(!Y||Y.forcePolyfill||"function"!=typeof Y.define||"function"!=typeof Y.get){var Z=new l;U=Z,window.HTMLElement=function(){function e(){var e=this.constructor;if(!(o=U.o.get(e)))throw Error("The custom element being constructed was not registered with `customElements`.");var n=o.constructionStack;if(!n.length)return n=b.call(document,o.localName),Object.setPrototypeOf(n,e.prototype),n.__CE_state=1,n.__CE_definition=o,h(U,n),n;var o,i=n[o=n.length-1];if(i===t)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return n[o]=t,Object.setPrototypeOf(i,e.prototype),h(U,i),i}return e.prototype=G.prototype,e}(),function(){var t=Z;a(Document.prototype,"createElement",function(e){if(this.__CE_hasRegistry){var n=t.a.get(e);if(n)return new n.constructor}return e=b.call(this,e),h(t,e),e}),a(Document.prototype,"importNode",function(e,n){return e=v.call(this,e,n),this.__CE_hasRegistry?p(t,e):s(t,e),e}),a(Document.prototype,"createElementNS",function(e,n){if(this.__CE_hasRegistry&&(null===e||"http://www.w3.org/1999/xhtml"===e)){var o=t.a.get(n);if(o)return new o.constructor}return e=_.call(this,e,n),h(t,e),e}),Q(t,Document.prototype,{h:E,append:C})}(),Q(Z,DocumentFragment.prototype,{h:N,append:k}),function(){var t=Z;function e(e,n){Object.defineProperty(e,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,e);else{var i=void 0;if(this.firstChild){var r=this.childNodes,a=r.length;if(0<a&&o(this)){i=Array(a);for(var l=0;l<a;l++)i[l]=r[l]}}if(n.set.call(this,e),i)for(e=0;e<i.length;e++)f(t,i[e])}}})}a(Node.prototype,"insertBefore",function(e,n){if(e instanceof DocumentFragment){var i=Array.prototype.slice.apply(e.childNodes);if(e=A.call(this,e,n),o(this))for(n=0;n<i.length;n++)u(t,i[n]);return e}return i=o(e),n=A.call(this,e,n),i&&f(t,e),o(this)&&u(t,e),n}),a(Node.prototype,"appendChild",function(e){if(e instanceof DocumentFragment){var n=Array.prototype.slice.apply(e.childNodes);if(e=S.call(this,e),o(this))for(var i=0;i<n.length;i++)u(t,n[i]);return e}return n=o(e),i=S.call(this,e),n&&f(t,e),o(this)&&u(t,e),i}),a(Node.prototype,"cloneNode",function(e){return e=D.call(this,e),this.ownerDocument.__CE_hasRegistry?p(t,e):s(t,e),e}),a(Node.prototype,"removeChild",function(e){var n=o(e),i=T.call(this,e);return n&&f(t,e),i}),a(Node.prototype,"replaceChild",function(e,n){if(e instanceof DocumentFragment){var i=Array.prototype.slice.apply(e.childNodes);if(e=j.call(this,e,n),o(this))for(f(t,n),n=0;n<i.length;n++)u(t,i[n]);return e}i=o(e);var r=j.call(this,e,n),a=o(this);return a&&f(t,n),i&&f(t,e),a&&u(t,e),r}),L&&L.get?e(Node.prototype,L):c(t,function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=0;e<this.childNodes.length;e++)t.push(this.childNodes[e].textContent);return t.join("")},set:function(t){for(;this.firstChild;)T.call(this,this.firstChild);S.call(this,document.createTextNode(t))}})})}(),function(){var t=Z;function e(e,n){Object.defineProperty(e,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){var i=this,a=void 0;if(o(this)&&(a=[],r(this,function(t){t!==i&&a.push(t)})),n.set.call(this,e),a)for(var l=0;l<a.length;l++){var c=a[l];1===c.__CE_state&&t.disconnectedCallback(c)}return this.ownerDocument.__CE_hasRegistry?p(t,this):s(t,this),e}})}function n(e,n){a(e,"insertAdjacentElement",function(e,i){var r=o(i);return e=n.call(this,e,i),r&&f(t,i),o(e)&&u(t,i),e})}M&&a(Element.prototype,"attachShadow",function(t){return this.__CE_shadowRoot=M.call(this,t)}),O&&O.get?e(Element.prototype,O):J&&J.get?e(HTMLElement.prototype,J):c(t,function(t){e(t,{enumerable:!0,configurable:!0,get:function(){return D.call(this,!0).innerHTML},set:function(t){var e="template"===this.localName,n=e?this.content:this,o=b.call(document,this.localName);for(o.innerHTML=t;0<n.childNodes.length;)T.call(n,n.childNodes[0]);for(t=e?o.content:o;0<t.childNodes.length;)S.call(n,t.childNodes[0])}})}),a(Element.prototype,"setAttribute",function(e,n){if(1!==this.__CE_state)return H.call(this,e,n);var o=x.call(this,e);H.call(this,e,n),n=x.call(this,e),t.attributeChangedCallback(this,e,o,n,null)}),a(Element.prototype,"setAttributeNS",function(e,n,o){if(1!==this.__CE_state)return P.call(this,e,n,o);var i=F.call(this,e,n);P.call(this,e,n,o),o=F.call(this,e,n),t.attributeChangedCallback(this,n,i,o,e)}),a(Element.prototype,"removeAttribute",function(e){if(1!==this.__CE_state)return R.call(this,e);var n=x.call(this,e);R.call(this,e),null!==n&&t.attributeChangedCallback(this,e,n,null,null)}),a(Element.prototype,"removeAttributeNS",function(e,n){if(1!==this.__CE_state)return I.call(this,e,n);var o=F.call(this,e,n);I.call(this,e,n);var i=F.call(this,e,n);o!==i&&t.attributeChangedCallback(this,n,o,i,e)}),K?n(HTMLElement.prototype,K):z?n(Element.prototype,z):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),Q(t,Element.prototype,{h:W,append:B}),function(t){var e=Element.prototype;function n(e){return function(n){for(var i=[],r=0;r<arguments.length;++r)i[r-0]=arguments[r];r=[];for(var a=[],l=0;l<i.length;l++){var c=i[l];if(c instanceof Element&&o(c)&&a.push(c),c instanceof DocumentFragment)for(c=c.firstChild;c;c=c.nextSibling)r.push(c);else r.push(c)}for(e.apply(this,i),i=0;i<a.length;i++)f(t,a[i]);if(o(this))for(i=0;i<r.length;i++)(a=r[i])instanceof Element&&u(t,a)}}V&&(e.before=n(V)),V&&(e.after=n(X)),$&&a(e,"replaceWith",function(e){for(var n=[],i=0;i<arguments.length;++i)n[i-0]=arguments[i];i=[];for(var r=[],a=0;a<n.length;a++){var l=n[a];if(l instanceof Element&&o(l)&&r.push(l),l instanceof DocumentFragment)for(l=l.firstChild;l;l=l.nextSibling)i.push(l);else i.push(l)}for(a=o(this),$.apply(this,n),n=0;n<r.length;n++)f(t,r[n]);if(a)for(f(t,this),n=0;n<i.length;n++)(r=i[n])instanceof Element&&u(t,r)}),q&&a(e,"remove",function(){var e=o(this);q.call(this),e&&f(t,this)})}(t)}(),document.__CE_hasRegistry=!0;var tt=new g(Z);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:tt})}}).call(self);
define("customElements", function(){});

define('ojs/ojcustomelement',["ojs/ojcore","require","promise","customElements"],function(e,t){e.BaseCustomElementBridge={},e.BaseCustomElementBridge.proto={getClass:function(t){var r=Object.create(HTMLElement.prototype);this.InitializePrototype(r);var n=this.GetMetadata(t);e.BaseCustomElementBridge._enumerateMetadataForKey(r,n,"properties",this.DefinePropertyCallback.bind(this)),e.BaseCustomElementBridge._enumerateMetadataForKey(r,n,"methods",this.DefineMethodCallback.bind(this)),this.AddComponentMethods(r),r.setProperties=function(t){e.BaseCustomElementBridge.getInstance(this)._setProperties(this,t)},Object.defineProperty(r,"set",{value:function(e,t){this.setProperty(e,t)}}),Object.defineProperty(r,"unset",{value:function(e){this.setProperty(e,void 0)}}),r.attributeChangedCallback=this._attributeChangedCallback,r.connectedCallback=this._connectedCallback,r.disconnectedCallback=this._detachedCallback,Object.defineProperty(r,"resolveBP",{value:function(t){e.BaseCustomElementBridge.getInstance(this)._resolveBindingProvider(t)}});var i=function(){var e=window.Reflect;return void 0!==e?e.construct(HTMLElement,[],this.constructor):HTMLElement.call(this)},o=this;return Object.defineProperty(i,"observedAttributes",{get:function(){return o.GetAttributes(n)}}),Object.defineProperty(r,"constructor",{value:i,writable:!0,configurable:!0}),i.prototype=r,Object.setPrototypeOf(i,HTMLElement),i},resolveDelayedReadyPromise:function(e){this.GetDelayedReadyPromise().resolvePromise()},AddComponentMethods:function(e){},CreateComponent:function(e){},DefineMethodCallback:function(e,t,r){},DefinePropertyCallback:function(e,t,r){},GetDelayedReadyPromise:function(){return this._delayedReady||(this._delayedReady=new e.BaseCustomElementBridge.__DelayedPromise),this._delayedReady},GetAttributes:function(t){return e.BaseCustomElementBridge.getAttributes(t.properties)},GetMetadata:function(t){return t[e.BaseCustomElementBridge.DESC_KEY_META]},GetAliasForProperty:function(e){return e},HandleAttributeChanged:function(e,t,r,n){},HandleBindingsApplied:function(e,t){},HandleDetached:function(e){this._bConnected=!1,this._complete||this._resolveBusyState(e)},HandleReattached:function(e){},InitializeElement:function(e){},InitializePrototype:function(e){},BatchedPropertySet:function(e,t){for(var r=Object.keys(t),n=0;n<r.length;n++){var i=r[n];e.setProperty(i,t[i])}},CanSkipTypeCheck:function(e){return!1},GetProperty:function(t,r,n){var i=e.__AttributeUtils.eventListenerPropertyToEventType(r),o=e.BaseCustomElementBridge.__GetPropertyMetadata(r,e.BaseCustomElementBridge.getProperties(this,t));return i||!o||-1===r.indexOf(".")?n[r]:e.BaseCustomElementBridge.__GetProperty(n,r)},InitializeBridge:function(t){var r=e.BaseCustomElementBridge.__GetDescriptor(t.tagName);this.METADATA=this.GetMetadata(r),this._eventListeners={}},PlaybackEarlyPropertySets:function(e){if(this._bCanSetProperty=!0,this._earlySets)for(;this._earlySets.length;){var t=this._earlySets.shift();e.setProperty(t.property,t.value)}},SaveEarlyPropertySet:function(e,t){return!this.__INITIALIZING_PROPS&&!this._bCanSetProperty&&(this._earlySets||(this._earlySets=[]),this._earlySets.push({property:e,value:t}),!0)},SetEventListenerProperty:function(t,r,n){var i=e.__AttributeUtils.eventListenerPropertyToEventType(r),o=this._eventListeners[i];o||(o=this._createEventListenerWrapper(),this._eventListeners[i]=o,t.addEventListener(i,o)),null==n||n instanceof Function?o.setListener(n):e.BaseCustomElementBridge.__ThrowTypeError(t,r,n,"function")},SetProperty:function(t,r,n,i,o){var s=e.__AttributeUtils.eventListenerPropertyToEventType(r),a=e.BaseCustomElementBridge.__GetPropertyMetadata(r,e.BaseCustomElementBridge.getProperties(this,t));if(s||!a)t[r]=n;else{var l=t.getProperty(r),u=r.split(".")[0],d=i[u];if(e.CollectionUtils.isPlainObject(d)&&(d=e.CollectionUtils.copyInto({},d,void 0,!0)),!e.BaseCustomElementBridge.__CompareOptionValues(r,a,n,l)){o?this.ValidateAndSetProperty(this.GetAliasForProperty.bind(this),i,r,n,t):e.BaseCustomElementBridge.__SetProperty(this.GetAliasForProperty.bind(this),i,r,n);var m=-1!==r.indexOf(".");if(m){var p={};p.path=r,p.value=n,p.previousValue=l;var g=o?"external":"internal";e.BaseCustomElementBridge.__FirePropertyChangeEvent(t,u,i[u],d,g,p)}return{property:u,propertySet:!0,isSubproperty:m}}}return{property:null,propertySet:!1,isSubproperty:!1}},ValidateAndSetProperty:function(t,r,n,i,o){i=this.ValidatePropertySet(o,n,i),e.BaseCustomElementBridge.__SetProperty(t,r,n,i)},ValidatePropertySet:function(t,r,n){var i=e.BaseCustomElementBridge.getProperties(this,t),o=e.BaseCustomElementBridge.__GetPropertyMetadata(r,i),s=r.split("."),a=this.CanSkipTypeCheck(s);if(o||a)return i[s[0]].readOnly&&this._throwError(t,"Read-only property '"+r+"' cannot be set."),e.BaseCustomElementBridge.__CheckEnumValues(t,r,n,o),a||null==n?n:e.BaseCustomElementBridge.__CheckType(t,r,n,o);e.Logger.warn(e.BaseCustomElementBridge.getElementInfo(t)+": Ignoring property set for undefined property '"+r+"'.")},_attributeChangedCallback:function(t,r,n){var i=e.BaseCustomElementBridge.getInstance(this);if(i._bCreateCalled&&this.setProperty){var o=e.__AttributeUtils.attributeToPropertyName(t),s=e.BaseCustomElementBridge.__GetPropertyMetadata(o,e.BaseCustomElementBridge.getProperties(i,this));e.BaseCustomElementBridge.__CheckOverlappingAttribute(this,t),null===n&&(n=void 0);var a={detail:{attribute:t,value:n,previousValue:r}};this.dispatchEvent(new CustomEvent("attribute-changed",a)),e.__AttributeUtils.getExpressionInfo(n).expr||(s&&this.setProperty(o,e.BaseCustomElementBridge.__ParseAttrValue(this,t,o,n,s)),i.HandleAttributeChanged(this,t,r,n))}},_connected:function(e){if(this._bConnected=!0,this._bCreateCalled)this._complete||this._registerBusyState(e),this.HandleReattached(e);else{this._bCreateCalled=!0,this._registerBusyState(e),this._monitorReadyPromise(e),this.InitializeElement(e);var t=this;this._getBindingProvider(e).then(function(){t.CreateComponent(e)})}},_connectedCallback:function(){e.BaseCustomElementBridge.getInstance(this)._connected(this)},_detachedCallback:function(){e.BaseCustomElementBridge.getInstance(this).HandleDetached(this)},_createEventListenerWrapper:function(){var e,t=function(t){e&&e(t)};return t.setListener=function(t){e=t},t},_monitorReadyPromise:function(e){var t=this,r=function(){t._bConnected&&t._resolveBusyState(e),t._complete=!0};this.GetDelayedReadyPromise().getPromise().then(function(){e.classList.add("oj-complete"),r()},function(){e.classList.add("oj-incomplete"),r()})},_registerBusyState:function(t){var r=e.Context.getContext(t).getBusyContext();this._initCompleteCallback=r.addBusyState({description:e.BaseCustomElementBridge.getElementInfo(t)+" is being upgraded."})},_resolveBusyState:function(e){var t=this._initCompleteCallback;t||this._throwError(e,"Unexpected call to _resolveBusyState()."),this._initCompleteCallback=null,t()},_setProperties:function(e,t){for(var r=[],n={},i=!1,o=Object.keys(t),s=0;s<o.length;s++){var a=o[s];a.indexOf(".")>=0?r.push(a):(n[a]=t[a],i=!0)}i&&this.BatchedPropertySet(e,n);for(var l=0;l<r.length;l++){var u=r[l];e.setProperty(u,t[u])}},_throwError:function(t,r){throw this.GetDelayedReadyPromise().rejectPromise(),new Error(e.BaseCustomElementBridge.getElementInfo(t)+": "+r)},_resolveBindingProvider:function(e){this._bpResolve?this._bpResolve(e):this._bpInst=e},_setBpResolver:function(e){this._bpResolve=e},_getBindingProvider:function(t){var r=this._getBindingProviderName(t);return r===e.BaseCustomElementBridge._NO_BINDING_PROVIDER?(this.PlaybackEarlyPropertySets(t),Promise.resolve(null)):"knockout"==r?this._bpInst?Promise.resolve(this._bpInst):new Promise(this._setBpResolver.bind(this)):void this._throwError(t,"Unknown binding provider '"+r+"'.")},_getBindingProviderName:function(t){var r=t._ojBndgPrv;if(r)return r;if(!(r=t.getAttribute("data-oj-binding-provider")||e.BaseCustomElementBridge._getCompositeBindingProviderName(t))){var n=t.parentElement;null==n?t===document.documentElement?r="knockout":this._throwError(t,"Cannot determine binding provider for a disconnected subtree."):r=this._getBindingProviderName(n)}return Object.defineProperty(t,"_ojBndgPrv",{value:r}),r}},e.BaseCustomElementBridge.getAttributes=function(t){var r=[];return e.BaseCustomElementBridge._getAttributesFromProperties("",t,r),r},e.BaseCustomElementBridge._getAttributesFromProperties=function(t,r,n){if(r)for(var i in r){var o=r[i];if(!o.readOnly){var s=t+i;n.push(e.__AttributeUtils.propertyNameToAttribute(s)),o.properties&&e.BaseCustomElementBridge._getAttributesFromProperties(s+".",o.properties,n)}}},e.BaseCustomElementBridge.getElementInfo=function(e){return e?e.tagName.toLowerCase()+" with id '"+e.id+"'":""},e.BaseCustomElementBridge.getInstance=function(t){var r=t[e.BaseCustomElementBridge._INSTANCE_KEY];if(!r){var n=e.BaseCustomElementBridge._registry[t.tagName.toLowerCase()];if(!n)throw new Error(e.BaseCustomElementBridge.getElementInfo(t)+" Attempt to interact with the custom element before it has been registered.");(r=Object.create(n.bridgeProto)).InitializeBridge(t),Object.defineProperty(t,e.BaseCustomElementBridge._INSTANCE_KEY,{value:r})}return r},e.BaseCustomElementBridge.getProperties=function(e,t){return e.METADATA.properties},e.BaseCustomElementBridge.getRegistered=function(t){if(t){var r=e.BaseCustomElementBridge._registry[t.toLowerCase()];if(r)return{composite:r.composite}}return null},e.BaseCustomElementBridge.getSlotMap=function(t,r){for(var n={},i=t.childNodes,o=0;o<i.length;o++){var s=i[o];if(e.BaseCustomElementBridge.isSlotAssignable(s)&&(3!==s.nodeType||s.nodeValue.trim())){var a=r?s.__oj_slots:null,l=null!=a?a:s.getAttribute&&s.getAttribute("slot");l||(l=""),n[l]||(n[l]=[]),n[l].push(s)}}return n},e.BaseCustomElementBridge.isSlotAssignable=function(e){return 1===e.nodeType||3===e.nodeType},e.BaseCustomElementBridge._NO_BINDING_PROVIDER="none",e.BaseCustomElementBridge._enumerateMetadataForKey=function(e,t,r,n){if(t&&t[r]){var i=t[r];Object.keys(i).forEach(function(t){n(e,t,i[t])})}},e.BaseCustomElementBridge._getCompositeBindingProviderName=function(t){return e.Composite?e.Composite.getBindingProviderName(t.parentElement):null},e.BaseCustomElementBridge._verifyMetadata=function(t,r){if(r){var n=r.properties;if(n)for(var i=e.BaseCustomElementBridge._GLOBAL_PROPERTIES,o=0;o<i.length;o++)n[i[o]]&&e.Logger.error("Error registering composite %s. Redefined global HTML element attribute '%s' in metadata.",t,i[o])}},e.BaseCustomElementBridge.__CheckEnumValues=function(t,r,n,i){if("string"==typeof n&&i){var o=i.enumValues;o&&-1===o.indexOf(n)&&e.BaseCustomElementBridge.getInstance(t)._throwError(t,"Invalid value '"+n+"' found for property '"+r+"'. Expected one of the following '"+o.toString()+"'.")}},e.BaseCustomElementBridge.__CheckType=function(t,r,n,i){var o=i.type;if(o){var s=(o=o.toLowerCase()).split("|"),a=typeof n;if(1===s.length)("array"===o.substring(0,5)&&!Array.isArray(n)||"object"===o.substring(0,6)&&"object"!==a||"number"===o&&("number"!=typeof n||!isFinite(n))||"string"===o&&"string"!==a)&&e.BaseCustomElementBridge.__ThrowTypeError(t,r,n,o),"boolean"===o&&(n=!!n);else if(2===s.length){var l=s.indexOf("string"),u=s.indexOf("promise");if(-1!==l&&"string"!==a)("function"===(d=0===l?s[1]:s[0])&&"function"!==a||"array"===d.substring(0,5)&&!Array.isArray(n)||"object"===d.substring(0,6)&&"object"!==a)&&e.BaseCustomElementBridge.__ThrowTypeError(t,r,n,o);else if(-1!==u&&!(n instanceof Promise)){var d;"array"!==(d=0===u?s[1]:s[0]).substring(0,5)||Array.isArray(n)||e.BaseCustomElementBridge.__ThrowTypeError(t,r,n,o)}}}return n},e.BaseCustomElementBridge.__CompareOptionValues=function(t,r,n,i){return r.writeback?e.Object.compareValues(n,i):n===i},e.BaseCustomElementBridge.__ThrowTypeError=function(t,r,n,i){e.BaseCustomElementBridge.getInstance(t)._throwError(t,"Invalid type '"+typeof n+"' found for property '"+r+"'. Expected value of type '"+i+"'.")},e.BaseCustomElementBridge.__GetDescriptor=function(t){return e.BaseCustomElementBridge._registry[t.toLowerCase()].descriptor},e.BaseCustomElementBridge.__GetCache=function(t){return t?e.BaseCustomElementBridge._registry[t.toLowerCase()].cache:null},e.BaseCustomElementBridge.__CheckOverlappingAttribute=function(t,r){var n=r.split(".");if(n.length>1)for(n.pop();n.length;){var i=n.join(".");t.hasAttribute(i)&&e.BaseCustomElementBridge.getInstance(t)._throwError(t,"Cannot set overlapping attributes '"+r+"' and '"+i+"'."),n.pop()}},e.BaseCustomElementBridge.__GetPropertyMetadata=function(e,t){for(var r=t,n=e.split("."),i=0;i<n.length&&(r=r[n[i]])&&(!(n.length>1&&i<n.length-1)||(r=r.properties));i++);return r},e.BaseCustomElementBridge.__InitProperties=function(t,r){var n=e.BaseCustomElementBridge.getInstance(t);n.__INITIALIZING_PROPS=!0;var i=e.BaseCustomElementBridge.getProperties(n,t);if(i)for(var o=t.attributes,s=0;s<o.length;s++){var a=o[s],l=e.__AttributeUtils.attributeToPropertyName(a.nodeName),u=e.BaseCustomElementBridge.__GetPropertyMetadata(l,i);if(u&&!u.readOnly&&(e.BaseCustomElementBridge.__CheckOverlappingAttribute(t,a.nodeName),!e.__AttributeUtils.getExpressionInfo(a.value).expr)){var d=e.BaseCustomElementBridge.__ParseAttrValue(t,a.nodeName,l,a.value,u);n.ValidateAndSetProperty(n.GetAliasForProperty.bind(n),r,l,d,t)}}n.__INITIALIZING_PROPS=!1},e.BaseCustomElementBridge.__SetProperty=function(e,t,r,n){var i,o=t,s=r.split("."),a=e(s[0]);s.length>1&&!t[a]&&(o=i={});for(var l=0;l<s.length;l++){var u=e(s[l]);l===s.length-1?o[u]=n:o[u]||(o[u]={}),o=o[u]}i&&(t[a]=i[a])},e.BaseCustomElementBridge.__GetProperty=function(e,t){for(var r=e,n=t.split("."),i=0;i<n.length;i++){var o=n[i];if(i===n.length-1)return r[o];if(!r[o])return;r=r[o]}},e.BaseCustomElementBridge.__ParseAttrValue=function(t,r,n,i,o){if(null==i)return i;var s=o.type,a=e.BaseCustomElementBridge.getInstance(t);function l(n){var i;try{i=e.__AttributeUtils.coerceValue(t,r,n,s)}catch(e){a._throwError(t,e)}return i}var u=e.BaseCustomElementBridge.__GetDescriptor(t.tagName).parseFunction;return u?u(i,n,o,function(e){return l(e)}):l(i)},e.BaseCustomElementBridge.__ProcessEventListeners=function(t,r){return(t=e.CollectionUtils.copyInto({},t,void 0,!0,1)).properties=t.properties||{},e.BaseCustomElementBridge._enumerateMetadataForKey(null,t,"properties",function(r,n,i){var o=e.__AttributeUtils.propertyNameToChangeEventType(n),s=e.__AttributeUtils.eventTypeToEventListenerProperty(o);t.properties[s]={_derived:!0,_eventListener:!0}}),e.BaseCustomElementBridge._enumerateMetadataForKey(null,t,"events",function(n,i,o){var s=r?e.__AttributeUtils.eventTriggerToEventType(i):i,a=e.__AttributeUtils.eventTypeToEventListenerProperty(s);t.properties[a]={_derived:!0,_eventListener:!0}}),t},e.BaseCustomElementBridge.__Register=function(t,r,n,i){var o=t.toLowerCase();if(!e.BaseCustomElementBridge._registry[o]){if(!r)throw new Error("Cannot register "+t+". Missing a descriptor.");return e.BaseCustomElementBridge._verifyMetadata(t,r[e.BaseCustomElementBridge.DESC_KEY_META]),e.BaseCustomElementBridge._registry[o]={descriptor:r,bridgeProto:n,composite:i,cache:{}},!0}return!1},e.BaseCustomElementBridge.__FirePropertyChangeEvent=function(t,r,n,i,o,s){var a=e.BaseCustomElementBridge.getInstance(t);if("external"!==o||a.__READY_TO_FIRE){var l={};s&&(l.subproperty=s),l.value=n,l.previousValue=i,l.updatedFrom=o,a.beforePropertyChangedEvent&&a.beforePropertyChangedEvent(t,r,l),t.dispatchEvent(new CustomEvent(r+"Changed",{detail:l}))}},e.BaseCustomElementBridge.__DefineDynamicObjectProperty=function(e,t,r,n){Object.defineProperty(e,t,{enumerable:!0,get:r,set:n})},e.BaseCustomElementBridge.__GetUnique=function(){return n+r++};var r=0,n="_ojcustomelem";e.BaseCustomElementBridge._registry={},e.BaseCustomElementBridge.DESC_KEY_CSS="css",e.BaseCustomElementBridge.DESC_KEY_META="metadata",e.BaseCustomElementBridge.DESC_KEY_PARSE_FUN="parseFunction",e.BaseCustomElementBridge.DESC_KEY_VIEW="view",e.BaseCustomElementBridge.DESC_KEY_VIEW_MODEL="viewModel",e.BaseCustomElementBridge._GLOBAL_PROPERTIES=["accesskey","class","contenteditable","contextmenu","dir","draggable","hidden","id","is","lang","style","tabindex","title"],e.BaseCustomElementBridge._INSTANCE_KEY="_ojBridge",e.BaseCustomElementBridge.__DelayedPromise=function(){var e,t,r;this.getPromise=function(){return e||(e=new Promise(function(e,n){t=e,r=n})),e},this.rejectPromise=function(e){r&&r(e)},this.resolvePromise=function(e){t&&t(e)}}});
define('ojs/ojtemplateengine',["knockout"],function(e){return new function(){this.execute=function(t,n,o,r){var c=function(e){var t=document.createElement("div");if(1!==e.nodeType||"template"!==e.tagName.toLowerCase())throw new Error("Invalid template node "+e);var n=e.content;return n?t.appendChild(document.importNode(n,!0)):Array.prototype.forEach.call(e.childNodes,function(e){t.appendChild(e.cloneNode(!0))}),t}(n),a=n.getAttribute("data-oj-as");return e.applyBindingsToDescendants(function(t,n,o,r){var c={$current:n},a=e.contextFor(t);return a?(o&&(c[o]=n),r&&(c[r]=n),a.extend(c)):c}(t,o,r,a),c),Array.prototype.slice.call(c.childNodes,0)},this.clean=function(t){return e.cleanNode(t)}}});
define('ojs/ojkoshared',["ojs/ojcore","knockout"],function(n,i){n.__KO_CUSTOM_BINDING_PROVIDER_INSTANCE=(new function(){this.install=function(){var r=i.bindingProvider,t=r.instance;if(!t.getBindingAccessors)return n.Logger.error("JET's Knockout bindings are not compatible with the current binding provider since it does not implement getBindingAccessors()"),this;var o=r.instance={},s=[];return s.push("getBindingAccessors","nodeHasBindings","getBindings","preprocessNode"),s.forEach(function(n){!function(n,r,t){var o=n[t];r[t]=function(){var r=o?o.apply(n,arguments):null,s=e[t];if(null!=s){var c=arguments;s.forEach(function(e){var t=Array.prototype.slice.call(c);t.push(r,n),r=i.ignoreDependencies(e,null,t)})}return r}}(t,o,n)}),this},this.addPostprocessor=function(n){Object.keys(n).forEach(function(i){e[i]=e[i]||[],e[i].push(n[i])})};var e={}}).install()});
define('ojs/ojcomposite-knockout',["ojs/ojcore","knockout","ojs/ojtemplateengine","ojs/ojkoshared"],function(e,o,t){!function(){function o(o){if(null!=o){var t=e.__AttributeUtils.getExpressionInfo(o).expr;return null==t&&(t="'"+o+"'"),t}return null}e.__KO_CUSTOM_BINDING_PROVIDER_INSTANCE.addPostprocessor({preprocessNode:function(e,t){var n;if(1===e.nodeType){var i,r=["name","slot"],l=e.nodeName.toLowerCase(),s=!1;if("oj-slot"===l||"oj-bind-slot"===l?(s=!0,r.push("index"),i="ko _ojBindSlot_:{"):"oj-bind-template-slot"===l&&(s=!0,r.push("data"),r.push("as"),i="ko _ojBindTemplateSlot_:{"),s){for(var d=[],a=0;a<r.length;a++){var u=r[a],p=o(e.getAttribute(u));p&&d.push(u+":"+p)}i+=d.join(","),i+="}";var m=document.createComment(i),c=document.createComment("/ko");n=[m];var _=e.parentNode;for(_.insertBefore(m,e);e.childNodes.length>0;){var C=e.childNodes[0];_.insertBefore(C,e),n.push(C)}n.push(c),_.replaceChild(c,e)}}return n||t}})}(),e.CompositeTemplateRenderer={},e.CompositeTemplateRenderer.renderTemplate=function(t,n,i){var r=e.CompositeTemplateRenderer._storeNodes(n,i);o.virtualElements.setDomNodeChildren(n,i),e.CompositeTemplateRenderer.invokeViewModelMethod(t.viewModel,"attached",[t.viewModelContext]),e.CompositeTemplateRenderer.invokeViewModelMethod(t.viewModel,"connected",[t.viewModelContext]);var l=e.CompositeTemplateRenderer._createKoBindingContext(n).createChildContext(t.viewModel,void 0,function(o){o[e.Composite.__COMPOSITE_PROP]=n,o.__oj_slots=t.slotMap,o.__oj_nodestorage=r,o.$slotNodeCounts=t.slotNodeCounts,o.$slotCounts=t.slotNodeCounts,o.$props=t.props,o.$properties=t.props,o.$unique=t.unique,o.$uniqueId=t.uniqueId,o.$parent=null,o.$parentContext=null,o.$parents=null});o.applyBindingsToDescendants(l,n),e.CompositeTemplateRenderer.invokeViewModelMethod(t.viewModel,"bindingsApplied",[t.viewModelContext])},e.CompositeTemplateRenderer.getEnclosingComposite=function(t){for(var n=null,i=o.contextFor(t);i&&!n;i=i.$parentContext)n=i[e.Composite.__COMPOSITE_PROP];return n},e.CompositeTemplateRenderer.createTracker=function(){return o.observable()},e.CompositeTemplateRenderer.invokeViewModelMethod=function(e,t,n){if(null!=e){var i=e[t];return"function"==typeof i?o.ignoreDependencies(i,e,n):void 0}},e.CompositeTemplateRenderer._storeNodes=function(o,t){var n,i=o.childNodes;if(i){(n=document.createElement("div")).setAttribute("data-bind","_ojNodeStorage_"),n.style.display="none",t.push(n);for(var r=[],l=0;l<i.length;l++){var s=i[l];e.BaseCustomElementBridge.isSlotAssignable(s)&&r.push(s)}r.forEach(function(e){n.appendChild(e)}),e.Components&&e.Components.subtreeHidden(n)}return n},e.CompositeTemplateRenderer._createKoBindingContext=function(e){var t=document.createElement("div");o.applyBindings(null,t);var n=o.contextFor(t);return o.cleanNode(t),n},o.bindingHandlers._ojNodeStorage_={init:function(){return{controlsDescendantBindings:!0}}},o.bindingHandlers._ojBindSlot_={init:function(t,i,r,l,s){o.utils.domNodeDisposal.addDisposeCallback(t,n.cleanup.bind(null,t,s));var d=s.__oj_slots,a=i(),u=o.utils.unwrapObservable,p=u(a.name)||"",m=u(a.index),c=null!=m?[d[p][m]]:d[p];if(c){for(var _=0;_<c.length;_++)c[_].__oj_slots=u(a.slot)||"";if(o.virtualElements.setDomNodeChildren(t,c),e.Components)for(_=0;_<c.length;_++)e.Components.subtreeShown(c[_]);return{controlsDescendantBindings:!0}}}},o.virtualElements.allowedBindings._ojBindSlot_=!0;var n={cleanup:function(t,n){var i=n.__oj_nodestorage;if(i)for(var r=o.virtualElements.firstChild(t);r;){var l=o.virtualElements.nextSibling(r);null!=r.__oj_slots&&(i.appendChild(r),e.Components&&e.Components.subtreeHidden(r)),r=l}}};o.bindingHandlers._ojBindTemplateSlot_={init:function(i,r,l,s,d){o.utils.domNodeDisposal.addDisposeCallback(i,n.cleanup.bind(null,i,d));var a=d.__oj_slots,u=r(),p=o.utils.unwrapObservable,m=p(u.name)||"",c=a[m],_=c&&c[c.length-1],C=!1;if(!_)for(var v=o.virtualElements.childNodes(i),f=0;f<v.length;f++)if("TEMPLATE"===v[f].tagName){C=!0,_=v[f];break}if(_){var g=d[e.Composite.__COMPOSITE_PROP];"TEMPLATE"!==_.tagName&&e.Logger.error("Slot content for slot '"+m+"' under "+g.tagName.toLowerCase()+" with id '"+g.id+"' should be wrapped inside a <template> node."),_.__oj_slots=p(u.slot)||"",o.computed(function(){var e=p(u.data),n=p(u.as),r=t.execute(C?i:g,_,e,C?n:null);o.virtualElements.setDomNodeChildren(i,r)})}else o.virtualElements.setDomNodeChildren(i,[]);return{controlsDescendantBindings:!0}}},o.virtualElements.allowedBindings._ojBindTemplateSlot_=!0});
define('ojs/ojcomposite',["ojs/ojcore","promise","ojs/ojcustomelement","ojs/ojcomposite-knockout"],function(e){e.Composite={},e.Composite.getMetadata=function(t){var o=e.Composite.getComponentMetadata(t);return o?Promise.resolve(o):null},e.Composite.getComponentMetadata=function(t){var o=e.BaseCustomElementBridge.getRegistered(t);return o&&o.composite?e.BaseCustomElementBridge.__GetDescriptor(t)[e.BaseCustomElementBridge.DESC_KEY_META]:null},e.Composite.register=function(t,o){e.CompositeElementBridge.register(t,o)},e.Composite.getContainingComposite=function(t,o){for(var r=null;t;)if((t=e.CompositeTemplateRenderer.getEnclosingComposite(t))&&"oj-module"!==t.nodeName.toLowerCase()){if(o&&!(16&t.compareDocumentPosition(o)))break;r=t}return r},e.Composite.getBindingProviderName=function(t){return t?t[e.Composite.__BINDING_PROVIDER]:null},e.Composite.__COMPOSITE_PROP="__oj_composite",e.Composite.__BINDING_PROVIDER="__oj_binding_prvdr",e.CompositeElementBridge={},e.CompositeElementBridge.proto=Object.create(e.BaseCustomElementBridge.proto),e.CollectionUtils.copyInto(e.CompositeElementBridge.proto,{beforePropertyChangedEvent:function(t,o,r){var i={property:o};e.CollectionUtils.copyInto(i,r,void 0,!0),e.CompositeTemplateRenderer.invokeViewModelMethod(this._VIEW_MODEL,"propertyChanged",[i])},AddComponentMethods:function(t){var o=function(t,o,r,i,n,s){if(!o.SaveEarlyPropertySet(r,i)){var a=o.SetProperty(t,r,i,n,s);a.propertySet&&a.isSubproperty&&e.CompositeElementBridge._getPropertyTracker(o,a.property).valueHasMutated()}};t.setProperty=function(t,r){var i=e.BaseCustomElementBridge.getInstance(this);o(this,i,t,r,this,!0)},t.getProperty=function(t){return e.BaseCustomElementBridge.getInstance(this).GetProperty(this,t,this)},t._propsProto.setProperty=function(e,t){o(this._ELEMENT,this._BRIDGE,e,t,this,!1)},t._propsProto.getProperty=function(e){return this._BRIDGE.GetProperty(this,e,this)},t.getNodeBySubId=function(t){var o=e.BaseCustomElementBridge.getInstance(this),r=o._getViewModel(this);return r.getNodeBySubId?r.getNodeBySubId(t,o._getNodeBySubId.bind(this)):o._getNodeBySubId.bind(this)(t)},t.getSubIdByNode=function(t){var o=e.BaseCustomElementBridge.getInstance(this),r=o._getViewModel(this);return r.getSubIdByNode?r.getSubIdByNode(t,o._getSubIdByNode.bind(this)):o._getSubIdByNode.bind(this)(t)}},CreateComponent:function(t){var o={},r=e.BaseCustomElementBridge.getSlotMap(t,!0);for(var i in r)o[i]=r[i].length;this._SLOT_MAP=r;var n={element:t,props:Promise.resolve(this._PROPS),properties:this._PROPS,slotNodeCounts:Promise.resolve(o),slotCounts:o,unique:e.BaseCustomElementBridge.__GetUnique()};n.uniqueId=t.id?t.id:n.unique,this._VM_CONTEXT=n;var s=e.BaseCustomElementBridge.__GetDescriptor(t.tagName)[e.BaseCustomElementBridge.DESC_KEY_VIEW_MODEL];s="function"==typeof s?new s(n):e.CompositeTemplateRenderer.invokeViewModelMethod(s,"initialize",[n])||s,this._VIEW_MODEL=s;var a=this;(e.CompositeTemplateRenderer.invokeViewModelMethod(s,"activated",[n])||Promise.resolve(!0)).then(function(r){var i={props:a._PROPS,slotMap:a._SLOT_MAP,slotNodeCounts:o,unique:a._VM_CONTEXT.unique,uniqueId:a._VM_CONTEXT.uniqueId,viewModel:a._VIEW_MODEL,viewModelContext:a._VM_CONTEXT};Object.defineProperty(t,e.Composite.__BINDING_PROVIDER,{value:"knockout"}),e.Components&&e.Components.unmarkPendingSubtreeHidden(t);var n=e.BaseCustomElementBridge.__GetCache(t.tagName),s=e.CompositeElementBridge._getDomNodes(n.view,t);e.CompositeTemplateRenderer.renderTemplate(i,t,s),a.__READY_TO_FIRE=!0,a.resolveDelayedReadyPromise()}).catch(function(e){a._throwError(t,e)})},DefineMethodCallback:function(t,o,r){t[o]=function(){var t=r.internalName||o,i=e.BaseCustomElementBridge.getInstance(this)._getViewModel(this);return i[t].apply(i,arguments)}},DefinePropertyCallback:function(t,o,r){var i=function(t,i){if(!this._BRIDGE.SaveEarlyPropertySet(o,t)){var n=e.CompositeElementBridge._getPropertyTracker(this._BRIDGE,o),s=n.peek();if(!e.BaseCustomElementBridge.__CompareOptionValues(o,r,t,s)&&(i&&(t=this._BRIDGE.ValidatePropertySet(this._ELEMENT,o,t)),r._eventListener&&this._BRIDGE.SetEventListenerProperty(this._ELEMENT,o,t),n(t),!r._derived)){var a=i?"external":"internal";e.BaseCustomElementBridge.__FirePropertyChangeEvent(this._ELEMENT,o,t,s,a)}}},n=function(t){var i=e.CompositeElementBridge._getPropertyTracker(this._BRIDGE,o),n=t?i.peek():i();return void 0===n&&(n=r.value,Array.isArray(n)?n=n.slice():"object"==typeof n&&(n=e.CollectionUtils.copyInto({},n,void 0,!0)),i(n)),n};r._derived||e.BaseCustomElementBridge.__DefineDynamicObjectProperty(t._propsProto,o,function(){return n.bind(this,!1)()},function(e){i.bind(this)(e,!1)}),e.BaseCustomElementBridge.__DefineDynamicObjectProperty(t,o,function(){var t=e.BaseCustomElementBridge.getInstance(this);return n.bind(t._PROPS,!0)()},function(t){var o=e.BaseCustomElementBridge.getInstance(this);i.bind(o._PROPS)(t,!0)})},GetMetadata:function(e){return e._metadata},HandleDetached:function(t){e.BaseCustomElementBridge.proto.HandleDetached.call(this,t),e.CompositeTemplateRenderer.invokeViewModelMethod(this._VIEW_MODEL,"detached",[t]),e.CompositeTemplateRenderer.invokeViewModelMethod(this._VIEW_MODEL,"disconnected",[t])},HandleReattached:function(t){e.BaseCustomElementBridge.proto.HandleReattached.call(this,t),e.CompositeTemplateRenderer.invokeViewModelMethod(this._VIEW_MODEL,"connected",[this._VM_CONTEXT])},InitializeElement:function(t){e.BaseCustomElementBridge.proto.InitializeElement.call(this,t),e.Components&&e.Components.markPendingSubtreeHidden(t);var o=e.BaseCustomElementBridge.__GetCache(t.tagName);if(!o.view){var r=e.BaseCustomElementBridge.__GetDescriptor(t.tagName)[e.BaseCustomElementBridge.DESC_KEY_VIEW];o.view||("string"==typeof r&&(o.view=e.CompositeElementBridge._getDomNodes(r,t)),o.view=r)}if(!o.css){var i=e.BaseCustomElementBridge.__GetDescriptor(t.tagName)[e.BaseCustomElementBridge.DESC_KEY_CSS];if(i){var n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i)),document.head.appendChild(n),o.css=!0}}e.BaseCustomElementBridge.__InitProperties(t,this._PROPS)},InitializePrototype:function(t){e.BaseCustomElementBridge.proto.InitializePrototype.call(this,t),Object.defineProperty(t,"_propsProto",{value:{}})},InitializeBridge:function(t){e.BaseCustomElementBridge.proto.InitializeBridge.call(this,t),t._propsProto&&(this._PROPS=Object.create(t._propsProto),this._PROPS._BRIDGE=this,this._PROPS._ELEMENT=t)},_getNodeBySubId:function(t){var o=e.CompositeElementBridge.__GetSubIdMap(this)[t.subId];if(o){if(o.alias){var r=e.CollectionUtils.copyInto({},t,void 0,!0);r.subId=o.alias;var i=o.node;return i.getNodeBySubId?i.getNodeBySubId(r):e.Components.__GetWidgetConstructor(i)("getNodeBySubId",r)}return o.node}return null},_getSubIdByNode:function(t){if(!this.contains(t))return null;var o=e.CompositeElementBridge.__GetNodeMap(this),r=e.Composite.getContainingComposite(t,this);if(null!=r){var i;if((i=o[a=r.node.getAttribute("data-oj-subid-map")])&&r.getSubIdByNode&&(d=r.getSubIdByNode(t))){var n=i.map[d.subId];return d.subId=n,d}return null}for(var s=t;s!==this;){var a;if(a=s.getAttribute("data-oj-subid-map")||s.getAttribute("data-oj-subid"))break;s=s.parentNode}if(i=o[a]){if(!i.map)return{subId:a};var d,m=i.node;if(d=m.getSubIdByNode?m.getSubIdByNode(t):e.Components.__GetWidgetConstructor(m)("getSubIdByNode",t))return d.subId=i.map[d.subId],d}return null},_getViewModel:function(e){return this._VIEW_MODEL||this._throwError(e,"Cannot access methods before element is upgraded."),this._VIEW_MODEL}}),e.CompositeElementBridge.register=function(t,o){var r={};if(r[e.BaseCustomElementBridge.DESC_KEY_META]=e.CompositeElementBridge._getResource(o,e.BaseCustomElementBridge.DESC_KEY_META),r[e.BaseCustomElementBridge.DESC_KEY_VIEW]=e.CompositeElementBridge._getResource(o,e.BaseCustomElementBridge.DESC_KEY_VIEW),r[e.BaseCustomElementBridge.DESC_KEY_CSS]=e.CompositeElementBridge._getResource(o,e.BaseCustomElementBridge.DESC_KEY_CSS),r[e.BaseCustomElementBridge.DESC_KEY_VIEW_MODEL]=e.CompositeElementBridge._getResource(o,e.BaseCustomElementBridge.DESC_KEY_VIEW_MODEL),r[e.BaseCustomElementBridge.DESC_KEY_PARSE_FUN]=o[e.BaseCustomElementBridge.DESC_KEY_PARSE_FUN],e.BaseCustomElementBridge.__Register(t,r,e.CompositeElementBridge.proto,!0)){var i=r[e.BaseCustomElementBridge.DESC_KEY_META];if(i){var n=i.name;n?t!=n&&e.Logger.warn("Warning registering composite %s. Registered name: %s does not match name: %s provided in metadata.",t,t,n):e.Logger.warn('Warning registering composite %s. Required property "name" missing from metadata.',t),i.version||e.Logger.warn('Warning registering composite %s. Required property "version" missing from metadata.',t),i.jetVersion||e.Logger.warn('Warning registering composite %s. Required composite "jetVersion" missing from metadata.',t)}else e.Logger.warn("Composite registered'"+t.toLowerCase()+"' without Metadata."),i={};if(null==r[e.BaseCustomElementBridge.DESC_KEY_VIEW])throw new Error("Cannot register composite '"+t.toLowerCase()+"' without a View.");r._metadata=e.BaseCustomElementBridge.__ProcessEventListeners(i,!1),customElements.define(t.toLowerCase(),e.CompositeElementBridge.proto.getClass(r))}},e.CompositeElementBridge._getDomNodes=function(t,o){if("string"==typeof t)return e.__HtmlUtils.stringToNodeArray(t);if(e.CompositeElementBridge._isDocumentFragment(t)){for(var r=t.cloneNode(!0),i=[],n=0;n<r.childNodes.length;n++)i.push(r.childNodes[n]);return i}if(Array.isArray(t)){for(r=[],n=0;n<t.length;n++)r.push(t[n].cloneNode(!0));return r}e.BaseCustomElementBridge.getInstance(o)._throwError(o,"The composite View is not one of the following supported types: string, Array of DOM nodes, DocumentFragment")},e.CompositeElementBridge._generateSubIdMap=function(t,o){if(!t._SUBID_MAP){for(var r={},i={},n=o.children,s=0;s<n.length;s++)e.CompositeElementBridge._walkSubtree(r,i,n[s]);t._NODE_MAP=i,t._SUBID_MAP=r}},e.CompositeElementBridge._walkSubtree=function(t,o,r){if(!r.hasAttribute("slot")&&(e.CompositeElementBridge._addNodeToSubIdMap(t,o,r),!e.BaseCustomElementBridge.getRegistered(r.tagName)&&!e.Components.__GetWidgetConstructor(r)))for(var i=r.children,n=0;n<i.length;n++)e.CompositeElementBridge._walkSubtree(t,o,i[n])},e.CompositeElementBridge._addNodeToSubIdMap=function(e,t,o){var r=o.getAttribute("data-oj-subid"),i=o.getAttribute("data-oj-subid-map");if(i){var n=JSON.parse(i);if("object"==typeof n&&!(n instanceof Array)){var s=n,a={};for(var d in s)e[d]={alias:s[d],node:o},a[s[d]]=d;t[i]={map:a,node:o}}}else r&&(e[r]={node:o},t[r]={node:o})},e.CompositeElementBridge.__GetSubIdMap=function(t){var o=e.BaseCustomElementBridge.getInstance(t);return e.CompositeElementBridge._generateSubIdMap(o,t),o._SUBID_MAP},e.CompositeElementBridge.__GetNodeMap=function(t){var o=e.BaseCustomElementBridge.getInstance(t);return e.CompositeElementBridge._generateSubIdMap(o,t),o._NODE_MAP},e.CompositeElementBridge._getPropertyTracker=function(t,o){return t._TRACKERS||(t._TRACKERS={}),t._TRACKERS[o]||(t._TRACKERS[o]=e.CompositeTemplateRenderer.createTracker()),t._TRACKERS[o]},e.CompositeElementBridge._getResource=function(e,t){var o=e[t];if(null!=o){if(o.hasOwnProperty("inline"))return o.inline;if(o.hasOwnProperty("promise"))throw new Error("The 'promise' resource type for descriptor key '"+t+"' is no longer supported. The resource should be passed directly as the value instead.");return o}},e.CompositeElementBridge._isDocumentFragment=function(e){return window.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}});
define('ojs/ojmodule-element',["ojs/ojcore","knockout","ojs/ojmodule","ojs/ojcomposite"],function(e,n){e.Composite.register("oj-module",{view:'\x3c!-- ko ojModule: {"view":$properties.config.view, "viewModel":$properties.config.viewModel,"cleanupMode":$properties.config.cleanupMode,"animation":animation} --\x3e\x3c!-- /ko --\x3e',metadata:{properties:{config:{type:"object",properties:{viewModel:{type:"object"},view:{type:"array<object>"},cleanupMode:{type:"string",enumValues:["onDisconnect","none"],value:"onDisconnect"}}},animation:{type:"object"}},events:{transitionStart:{},transitionEnd:{},viewConnected:{},viewDisconnected:{}}},viewModel:function(e){var o=e.element,i=e.properties,t=this;function c(e){var n=e?e.view:null;return n&&n.length>0&&o.contains(n[0])}function r(e,o){var i=e&&e[o];"function"==typeof i&&n.ignoreDependencies(i,e)}this.animation=e.properties.animation,this.propertyChanged=function(e){"animation"===e.property&&(t.animation=e.value)},this.connected=function(e){c(i&&i.config)&&r(i.config?i.config.viewModel:null,"connected")},this.disconnected=function(e){c(i&&i.config)&&r(i.config?i.config.viewModel:null,"disconnected")}}})});
!function(i){function t(i,t,n,e,s){this._listener=t,this._isOnce=n,this.context=e,this._signal=i,this._priority=s||0}function n(i,t){if("function"!=typeof i)throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function e(){this._bindings=[],this._prevParams=null;var i=this;this.dispatch=function(){e.prototype.dispatch.apply(i,arguments)}}t.prototype={active:!0,params:null,execute:function(i){var t;return this.active&&this._listener&&(i=this.params?this.params.concat(i):i,t=this._listener.apply(this.context,i),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},e.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(i,n,e,s){var r=this._indexOfListener(i,e);if(-1!==r){if((i=this._bindings[r]).isOnce()!==n)throw Error("You cannot add"+(n?"":"Once")+"() then add"+(n?"Once":"")+"() the same listener without removing the relationship first.")}else i=new t(this,i,n,e,s),this._addBinding(i);return this.memorize&&this._prevParams&&i.execute(this._prevParams),i},_addBinding:function(i){var t=this._bindings.length;do{--t}while(this._bindings[t]&&i._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,i)},_indexOfListener:function(i,t){for(var n,e=this._bindings.length;e--;)if((n=this._bindings[e])._listener===i&&n.context===t)return e;return-1},has:function(i,t){return-1!==this._indexOfListener(i,t)},add:function(i,t,e){return n(i,"add"),this._registerListener(i,!1,t,e)},addOnce:function(i,t,e){return n(i,"addOnce"),this._registerListener(i,!0,t,e)},remove:function(i,t){n(i,"remove");var e=this._indexOfListener(i,t);return-1!==e&&(this._bindings[e]._destroy(),this._bindings.splice(e,1)),i},removeAll:function(){for(var i=this._bindings.length;i--;)this._bindings[i]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(i){if(this.active){var t,n=Array.prototype.slice.call(arguments),e=this._bindings.length;if(this.memorize&&(this._prevParams=n),e){t=this._bindings.slice(),this._shouldPropagate=!0;do{e--}while(t[e]&&this._shouldPropagate&&!1!==t[e].execute(n))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var s=e;s.Signal=e,"function"==typeof define&&define.amd?define('signals',[],function(){return s}):"undefined"!=typeof module&&module.exports?module.exports=s:i.signals=s}(this);
define('ojs/ojrouter',["ojs/ojcore","knockout","signals","promise"],function(e,t,r){var n;!function(){var n,o,i,a,u,s="/",l="oj_Router",c=" | ",f=1024,h="popstate",d="hasChanged",p={hasChanged:!1},g=!1,v=[],_=window.location,m="parameters";function b(e){return e?e.split("/"):[]}function R(e){return $(b(e)[0])}function w(t,r){var n=document.createElement("a");return n.href=_.href,void 0!==t.search&&(n.search=t.search),void 0!==t.pathname&&(n.pathname=t.pathname),n.search=function(t,r){var n,o,i="",a=t.indexOf(l);if(-1!==a){var u=t.indexOf("&",a);-1===u&&(u=t.length),n=t.substring(0,a),o=t.substr(u)}else n=t+(-1===t.indexOf("?")?"?":"&"),o="";return r&&Object.getOwnPropertyNames(r).length>0?i=function(t){var r=JSON.stringify(t),n=encodeURIComponent(r),o=e.LZString.compressToEncodedURIComponent(r),i=!1,a=l+"=";if(o.length<=n.length&&(i=!0),(a+=i?"1"+o:"0"+n).length>f)throw new Error("Size of bookmarkable data is too big.");return a}(r):n=n.substring(0,n.length-1),n+i+o}(n.search,r),n.href.replace(/\?$/,"")}function S(e){return e._parentRouter?S(e._parentRouter)+"."+e._name:e._name}function y(e,t){var r;return e._childRouters.every(function(e){if(e._parentState){if(e._parentState===t)return r=e,!1}else r=e;return!0}),r}function I(t){var r=t.filter(function(e){return e.value!==e.router._stateId()});return e.Logger.option("level")===e.Logger.LEVEL_INFO&&(e.Logger.info("Potential changes are: "),r.forEach(function(t){e.Logger.info("   { router: %s, value: %s }",t.router&&S(t.router),t.value)})),r}function E(e){var t=this[e.router._name];void 0!==t&&(e.router._extra=t)}function C(){return v[0]&&v[0].cancel}function L(t){var r,n,o=t.charAt(0);if(t=t.slice(1),"0"===o)t=decodeURIComponent(t);else{if("1"!==o)throw new Error("Error retrieving bookmarkable data. Format is invalid");t=e.LZString.decompressFromEncodedURIComponent(t)}if(r=JSON.parse(t),e.Logger.option("level")===e.Logger.LEVEL_INFO)for(n in e.Logger.info("Bookmarkable data: "),r)e.Logger.info("   { router: %s, value: %s }",n,r[n]);return r}function x(e,t,r){var n;return e._childRouters.every(function(e){return!((!e._parentState||e._parentState===r)&&e.stateFromIdCallback(t)&&(n=e,1))}),n}function P(t){e.Router._transitionedToState.dispatch(t)}function O(e,t){this.router=e,this.value=t}function k(e){var t,r,n=e[e.length-1];for(n?(t=n.router,r=R(n.value)):(t=u,(r=u._defaultStateId)&&e.push(new O(t,r)));t=y(t,r);)(r=t._defaultStateId)&&e.push(new O(t,r));var o=[];return function e(t){var r=[];return t._currentState()&&(r.push(new O(t)),t._childRouters.forEach(function(t){r=r.concat(e(t))})),r}(u).forEach(function(t,r){var n=e[r];n&&t.router===n.router||o.unshift(t)}),e=o.concat(e)}function j(t,r,n){var o=t();return o||e.Logger.info("%s is false for state: %s",r,n),o}function A(e,t,r,n){return"function"==typeof e&&(t=t?t.then(function(t){return t&&(t=j(e,r,n)),t}):new Promise(function(t){t(j(e,r,n))})),t}function U(t){var r;return C()?Promise.resolve(!1):(e.Logger.info("Start _canExit."),r=t?null===(r=function e(t,r){var n,o=t._currentState();if(o){for(n=0;n<t._childRouters.length;n++)r=e(t._childRouters[n],r);r=A(o.viewModel&&o.viewModel.canExit?o.viewModel.canExit:o._canExit,r,"canExit",o._id)}return r}(t,null))?Promise.resolve(!0):r.then(function(e){return e&&!C()}):Promise.resolve(!0))}function M(t,r){if(C())return Promise.resolve();e.Logger.info("Start _canEnter.");var n=null;return t.forEach(function(e){var t=e.getState();t&&(n=A(t._canEnter,n,"canEnter",t._id))}),n=null===n?Promise.resolve({allChanges:t,origin:r}):n.then(function(e){var n;return e&&!C()&&(n={allChanges:t,origin:r}),n})}function F(t){if(!t)return Promise.resolve(p);var r,n=Promise.resolve().then(function(){e.Logger.info("Entering _updateAll."),e.Router._updating=!0}),o=t.allChanges;return o.forEach(function(o){r=o.router.currentState.peek(),n=n.then(function(){if(!C())return function(t,r){var n=t.router.stateFromIdCallback(R(t.router._stateId())),o=t.getState();return Promise.resolve().then(function(){e.Logger.option("level")===e.Logger.LEVEL_INFO&&e.Logger.info("Updating state of %s to %s.",S(t.router),t.value)}).then(n?n._exit:void 0).then(function(){var e,n,i,a=t.router;if("popState"===r){for(e=(n=a._navHistory.length)-1;e>=0;e--)if(a._navHistory[e]===t.value){i=!0,a._navHistory.splice(e,n-e);break}n-e==1&&(a._navigationType="back")}if(i||(delete a._navigationType,a._navHistory.push(R(a._stateId()))),t.value&&o){var u=b(t.value);o._paramOrder.forEach(function(e,t){var r=$(u[t+1]);r!==o._parameters[e]&&(o._parameters[e]=r)})}a._stateId(t.value)}).then(o?o._enter:void 0)}(o,t.origin)})}),n.then(function(){var t,n,i=!1;if(o.length){i=!C();var a=o[o.length-1];t=a.router,n=a.state}return e.Router._updating=!1,e.Logger.info("_updateAll returns %s.",String(i)),{hasChanged:i,router:t,oldState:r,newState:n}},function(t){return e.Router._updating=!1,Promise.reject(t)})}function T(e){var t;try{t=I(t=o.parse())}catch(e){return Promise.reject(e)}return M(t,e).then(F)}function H(t,r){if(e.Logger.option("level")===e.Logger.LEVEL_INFO){var n=r.path?"path="+r.path:"",o=r.deferredHandling?"deferredHandling=true":"",i=r.router?S(r.router):"null";e.Logger.info(">> %s: origin=%s router=%s %s %s",t,r.origin,i,n,o)}}function N(){var t,r=v[0];return H("Resolving",r),r.cancel?(H("Cancelled",r),t=Promise.resolve(p)):t=function(e){if(H("Executing",e),!e.deferredHandling){if("sync"===e.origin)return T();if("popState"===e.origin)return U(e.router).then(function(t){return t?T(e.origin):Promise.resolve(p)})}return e.router._go(e)}(r),t.then(function(e){if(H("Done with",v.shift()),!0===e[d]){var t,r=function e(t){if(!t)return{title:"",segment:""};var r=e(y(t,t._stateId()));if(""===r.title){var n=t._currentState();if(n){var o=n._title;void 0!==o?("function"==typeof o&&(o=o()),r.title=String(o)):void 0!==(o=n._label)&&(o=String(o),""!==r.segment&&(o+=c+r.segment),r.segment=o)}}return r}(u);""!==r.title?t=r.title:n&&n.length>0?(t=n,""!==r.segment&&(t+=c+r.segment)):t=r.segment,t!==window.document.title&&(window.document.title=t)}return P(e),e},function(t){return v=[],e.Logger.error("Error when executing transition: %o",t||"Unknown"),P(p),Promise.reject(t)})}function D(t){var r,n;return H("Queuing  ",t),t.path,e.Context.getPageContext().getBusyContext(),1===(n=v.push(t))?a=N():((r=v[n-2]).deferredHandling||(H("Cancelling",r),r.cancel=!0),a=a.then(N)),a}function V(){var t,r,n=R(u._stateId()),o=null;if(e.Logger.info("Handling popState event with URL: %s",_.href),n)for(t=0;t<u._childRouters.length;t++)if(n===(r=u._childRouters[t])._parentState){o=r;break}D({router:o,origin:"popState"})}function B(){g||(o||(o=new e.Router.urlPathAdapter),o.init(s),n=window.document.title,window.addEventListener(h,V,!1),e.Logger.info("Initializing rootInstance."),e.Logger.info("Base URL is %s",s),e.Logger.info("Current URL is %s",_.href),g=!0)}function Z(e){var t=e;return t&&t.replace&&(t=(t=t.replace(/~/g,"~0")).replace(/\//g,"~1")),t}function $(e){var t=e;return t&&t.replace&&(t=(t=t.replace(/~1/g,"/")).replace(/~0/g,"~")),t}O.prototype.getState=function(){return this.state||this.value&&(this.state=this.router.stateFromIdCallback(R(this.value))),this.state},O.prototype.addParameter=function(e){e&&(this.value+="/"+e)},e.Router=function(e,r,n){var o=this;function i(e,r){var n={};if(n.name=r.moduleConfig.name,e){var o={};n.params=o;var i=o.ojRouter={};i.parentRouter=r,Object.defineProperty(i,"direction",{get:function(){return r._navigationType},enumerable:!0});var a,u=i[m]={},s=e[m];Object.keys(s).forEach(function(e){a=s[e],u[e]=t.observable(a)}),n.lifecycleListener=function(e){var t=r.currentState();t&&(t.viewModel=e.viewModel)}}return n}this._name=e,this._parentState=n||(r?R(r._stateId()):void 0),this._parentRouter=r,this._childRouters=[],this._extra=void 0,this._stateId=t.observable(),this._stateIdComp=t.pureComputed({read:function(){return R(this._stateId())},write:function(e){this.go(e).then(null,function(e){throw e})},owner:o}),this._states=null,this._defaultStateId=void 0,this._currentState=t.pureComputed(function(){var e=R(o._stateId());return t.ignoreDependencies(o.stateFromIdCallback,o,[e])}),this._currentValue=t.pureComputed(function(){var e,r=R(o._stateId()),n=t.ignoreDependencies(o.stateFromIdCallback,o,[r]);return n&&(e=n.value),e}),this._navigationType=void 0,this._navHistory=[],this._moduleConfig=Object.create(null,{name:{value:t.pureComputed(function(){var e,t=R(this._stateId())||this._defaultStateId||this._states[0],r=this.stateFromIdCallback(t);return r&&((e=r.value)&&"string"==typeof e||(e=r._id)),e},o),enumerable:!0},params:{value:Object.create(null,{ojRouter:{value:new function(){Object.defineProperties(this,{parentRouter:{value:o,enumerable:!0},direction:{get:function(){return o._navigationType},enumerable:!0}})},enumerable:!0}}),enumerable:!0},lifecycleListener:{value:Object.create(null,{attached:{value:function(e){var r=t.unwrap(e.valueAccessor()).params.ojRouter.parentRouter._currentState();r&&(r.viewModel=e.viewModel)},writable:!0,enumerable:!0}}),enumerable:!0}}),this._getObservableModuleConfig=function(){if(!this._observableModuleConfig){var e=o.currentState,r=e.peek(),n=t.observable(i(r,o));e.subscribe(function(e){var t=n.peek();if(t.name!=function(e){var t="oj-blank";if(e)return(t=e.value)&&"string"==typeof t||(t=e._id),t}(e))n(i(e,o));else{var r,a=t.params.ojRouter[m];for(var u in a)r=e[m][u],a[u](r)}}),this._observableModuleConfig=n}return this._observableModuleConfig},Object.defineProperties(this,{parent:{value:this._parentRouter,enumerable:!0}})},Object.defineProperties(e.Router.prototype,{name:{get:function(){return this._name},enumerable:!0},states:{get:function(){return this._states},enumerable:!0},stateId:{get:function(){return this._stateIdComp},enumerable:!0},currentState:{get:function(){return this._currentState},enumerable:!0},currentValue:{get:function(){return this._currentValue},enumerable:!0},direction:{get:function(){return this._navigationType},enumerable:!0},defaultStateId:{get:function(){return this._defaultStateId},set:function(e){this._defaultStateId=e},enumerable:!0},moduleConfig:{get:function(){return this._moduleConfig},enumerable:!0},observableModuleConfig:{get:function(){return this._getObservableModuleConfig()},enumerable:!0}}),u=new e.Router("root",void 0,void 0),e.Router.prototype.getChildRouter=function(e){var t;return e&&"string"==typeof e&&(e=e.trim()).length>0&&this._childRouters.every(function(r){return r._name!==e||(t=r,!1)}),t},e.Router.prototype.getCurrentChildRouter=function(){return y(this,R(this._stateId()||this._defaultStateId))},e.Router.prototype.createChildRouter=function(t,r){var n,o,i;for(e.Assert.assertString(t),r=r||R(this._stateId()),t=encodeURIComponent(t.trim()),n=0;n<this._childRouters.length;n++){if((o=this._childRouters[n])._name===t)throw new Error('Invalid router name "'+t+'", it already exists.');if(o._parentState===r)throw new Error('Cannot create more than one child router for parent state id "'+o._parentState+'".')}return i=new e.Router(t,this,r),this._childRouters.push(i),i},e.Router.prototype.stateFromIdCallback=function(t){return function(t,r){var n;return r&&t._states&&(e.Assert.assertString(r),t._states.every(function(e){return e._id!==r||(n=e,!1)})),n}(this,t)},e.Router.prototype.configure=function(t){return this._stateId(void 0),delete this._defaultStateId,this._navigationType=void 0,this._navHistory=[],"function"==typeof t?(this._states=null,this.stateFromIdCallback=t):(this._states=[],delete this.stateFromIdCallback,Object.keys(t).forEach(function(r){var n=t[r];this._states.push(new e.RouterState(r,n,this)),"boolean"==typeof n.isDefault&&n.isDefault&&(this._defaultStateId=r)},this)),this},e.Router.prototype.getState=function(e){return this.stateFromIdCallback(e)},e.Router.prototype.go=function(e,t){return B(),t=t||[],Array.isArray(e)&&(e=e.map(Z).join("/")),D({router:this,path:e,origin:"go",historyUpdate:t.historyUpdate})},e.Router.prototype._go=function(t){var r,n,a=!0,u=t.path,s=!1,l=!1;switch(t.historyUpdate){case"skip":l=!0;break;case"replace":s=!0}if(u){if("string"!=typeof u)return Promise.reject(new Error("Invalid object type for state id."));a=!1}if(a&&!(u=this._defaultStateId))return e.Logger.info(function(){return"Undefined state id with no default id on router "+S(this)}),Promise.resolve(p);if("/"===u.charAt(0))r=u;else{if(!(r=function e(t){var r,n;return t?(r=e(t._parentRouter))&&((n=t._stateId())?r+=n+"/":r=void 0):r="/",r}(this._parentRouter)))return Promise.reject(new Error('Invalid path "'+u+'". The parent router does not have a current state.'));r+=u}e.Logger.info("Destination path: %s",r);try{n=k(n=function(e,t){var r,n,o,a,u,s=[],l=[],c=e,f=b(t),h=0;for(f.splice(0,1);c;)l.unshift(c),c=c._parentRouter;for(;r=f.shift();){if(a){if(a._paramOrder[h]){u.addParameter(r),h++;continue}h=0}if(!(c=l.shift())&&!(c=x(n,r,o)))return i=t,s;if(!(a=(u=new O(c,r)).getState()))throw new Error('Invalid path "'+t+'". State id "'+r+'" does not exist on router "'+c._name+'".');s.push(u),n=c,o=r}return s}(this,r))}catch(e){return Promise.reject(e)}var c=I(n);return s||c.length>0?(e.Logger.info("Deferred mode or new state is different."),U(this).then(function(t){return t?M(c).then(F).then(function(t){if(t[d])if(l)e.Logger.info("Skip history update.");else{var r=o.buildUrlFromStates(n);e.Logger.info("%s URL to %s",s?"Replacing":"Pushing",r),window.history[s?"replaceState":"pushState"](null,"",r)}return t}):Promise.resolve(p)})):Promise.resolve(p)},e.Router.prototype.store=function(e){this._extra=e;for(var t,r,n,o,i={},a=this;a;)void 0!==a._extra&&(i[a._name]=a._extra),a=a._parentRouter;for(a=this;a;){for(r=0;r<a._childRouters.length;r++)if(n=a._childRouters[r],(o=R(a._stateId()))&&o===n._parentState){void 0!==n._extra&&(i[n._name]=n._extra),t=n;break}a=t,t=void 0}window.history.replaceState(null,"",w({},i))},e.Router.prototype.retrieve=function(){return this._extra},e.Router.prototype.dispose=function(){for(var t,r;this._childRouters.length>0;)this._childRouters[0].dispose();if(this._parentRouter){for(t=this._parentRouter._childRouters,r=0;r<t.length;r++)if(t[r]._name===this._name){t.splice(r,1);break}delete this._parentState}else s="/",o=null,this._name="root",window.document.title=n,window.removeEventListener(h,V),e.Router._transitionedToState.removeAll(),g=!1;delete this._navigationType,this._navHistory=[],this._states=null,delete this._defaultStateId,delete this._extra},e.Router._transitionedToState=new r.Signal,e.Router._updating=!1,Object.defineProperties(e.Router,{rootInstance:{value:u,enumerable:!0},transitionedToState:{value:e.Router._transitionedToState,enumerable:!0}}),e.Router.defaults={},Object.defineProperties(e.Router.defaults,{urlAdapter:{get:function(){return o||(o=new e.Router.urlPathAdapter),o},set:function(e){if(g)throw new Error("Incorrect operation. Cannot change URL adapter after calling sync() or go().");o=e},enumerable:!0,readonly:!1},baseUrl:{get:function(){return s},set:function(e){if(g)throw new Error("Incorrect operation. Cannot change base URL after calling sync() or go().");s=e?e.match(/[^?#]+/)[0]:"/"},enumerable:!0,readonly:!1},rootInstanceName:{get:function(){return u._name},set:function(t){if(g)throw new Error("Incorrect operation. Cannot change the name of the root instance after calling sync() or go().");e.Assert.assertString(t),u._name=encodeURIComponent(t.trim())},enumerable:!0,readonly:!1}}),e.Router.sync=function(){var t={router:u,origin:"sync"};return B(),e.Logger.info("Entering sync with URL: %s",_.href),i?(t.path=i,t.deferredHandling=!0,t.historyUpdate="replace",i=void 0,D(t)):e.Router._updating?(e.Logger.info("Sync called while updating, waiting for updates to end."),new Promise(function(t){e.Router._transitionedToState.addOnce(function(r){e.Logger.info("Sync updates done."),t(r)})})):D(t)},e.Router.urlPathAdapter=function(){var t="";this.init=function(e){var r=document.createElement("a");r.href=e;var n=r.pathname;"/"!==(n=n.replace(/^([^\/])/,"/$1")).slice(-1)&&(n+="/"),t=n},this.parse=function(){var r,n,o,i,a=u,s=_.pathname.replace(t,""),c=b(decodeURIComponent(s)).map($),f=[];for(e.Logger.info("Parsing: %s",s);a&&(n=c.shift());)(o=(i=new O(a,n)).getState())&&o._paramOrder.forEach(function(e){i.addParameter(c.shift())}),f.push(i),a=y(a,n);return f=k(f),(r=_.search.split(l+"=")[1])&&(r=r.split("&")[0])&&f.forEach(E,L(r)),f},this.buildUrlFromStates=function(e){for(var r,n=!1,o="",i={};r=e.pop();)r.value&&(n||r.value!==r.router._defaultStateId)&&(o=o?r.value+"/"+o:r.value,n=!0),void 0!==r.router._extra&&(i[r.router._name]=r.router._extra);return w({pathname:t+o},i)}},e.Router.urlParamAdapter=function(){this.init=function(){},this.parse=function(){var t,r,n,o,i,a=_.search,s=function(e){var t={};return(e=e.split("?")[1])&&e.split("&").forEach(function(e){var r,n=e.split(/\=(.+)?/),o=n[0];o.length&&(r=n[1]&&decodeURIComponent(n[1]),t[o]=r)}),t}(a),c=u,f=[];for(e.Logger.info("Parsing: %s",a);c;)r=s[c._name]||c._defaultStateId,r=(n=b(r)).shift(),i=new O(c,r),r&&((o=i.getState())&&o._paramOrder.forEach(function(e){i.addParameter(n.shift())}),f.push(i)),c=y(c,r);return f=k(f),(t=s[l])&&f.forEach(E,L(t)),f},this.buildUrlFromStates=function(e){for(var t,r,n,o=!1,i="",a={};t=e.pop();)t.value&&(o||t.value!==t.router._defaultStateId)&&(r="&"+t.router._name+"=",n=t.value,i=r+encodeURIComponent(n)+i,o=!0),void 0!==t.router._extra&&(a[t.router._name]=t.router._extra);return i&&(i="?"+i.substr(1)),w({search:i},a)}}}(),function(){e.LZString={compressToEncodedURIComponent:function(e){return null===e?"":function(e,t,r){if(null===e)return"";var n,o,i,a,u,s={},l={},c="",f=2,h=3,d=2,p="",g=0,v=0,_=e.length;for(u=0;u<_;u++)if(i=e[u],Object.prototype.hasOwnProperty.call(s,i)||(s[i]=h++,l[i]=!0),a=c+i,Object.prototype.hasOwnProperty.call(s,a))c=a;else{if(Object.prototype.hasOwnProperty.call(l,c)){if(c.charCodeAt(0)<256){for(n=d;n--;)g<<=1,5==v?(v=0,p+=r(g),g=0):v++;for(o=c.charCodeAt(0),n=8;n--;)g=g<<1|1&o,5==v?(v=0,p+=r(g),g=0):v++,o>>=1}else{for(o=1,n=d;n--;)g=g<<1|o,5==v?(v=0,p+=r(g),g=0):v++,o=0;for(o=c.charCodeAt(0),n=16;n--;)g=g<<1|1&o,5==v?(v=0,p+=r(g),g=0):v++,o>>=1}0==--f&&(f=Math.pow(2,d),d++),delete l[c]}else for(o=s[c],n=d;n--;)g=g<<1|1&o,5==v?(v=0,p+=r(g),g=0):v++,o>>=1;0==--f&&(f=Math.pow(2,d),d++),s[a]=h++,c=String(i)}if(""!==c){if(Object.prototype.hasOwnProperty.call(l,c)){if(c.charCodeAt(0)<256){for(n=d;n--;)g<<=1,5==v?(v=0,p+=r(g),g=0):v++;for(o=c.charCodeAt(0),n=8;n--;)g=g<<1|1&o,5==v?(v=0,p+=r(g),g=0):v++,o>>=1}else{for(o=1,n=d;n--;)g=g<<1|o,5==v?(v=0,p+=r(g),g=0):v++,o=0;for(o=c.charCodeAt(0),n=16;n--;)g=g<<1|1&o,5==v?(v=0,p+=r(g),g=0):v++,o>>=1}0==--f&&(f=Math.pow(2,d),d++),delete l[c]}else for(o=s[c],n=d;n--;)g=g<<1|1&o,5==v?(v=0,p+=r(g),g=0):v++,o>>=1;0==--f&&(f=Math.pow(2,d),d++)}for(o=2,n=d;n--;)g=g<<1|1&o,5==v?(v=0,p+=r(g),g=0):v++,o>>=1;for(;;){if(g<<=1,5==v){p+=r(g);break}v++}return p}(e,0,function(e){return n.charAt(e)})},decompressFromEncodedURIComponent:function(e){return null===e?"":""===e?null:function(e,t,n){var o,i,a,u,s,l,c,f=[],h=4,d=4,p=3,g="",v="",_={val:n(0),position:t,index:1};for(o=0;o<3;o+=1)f[o]=o;for(a=0,s=Math.pow(2,2),l=1;l!=s;)u=_.val&_.position,_.position>>=1,0==_.position&&(_.position=t,_.val=n(_.index++)),a|=(u>0?1:0)*l,l<<=1;switch(a){case 0:for(a=0,s=Math.pow(2,8),l=1;l!=s;)u=_.val&_.position,_.position>>=1,0==_.position&&(_.position=t,_.val=n(_.index++)),a|=(u>0?1:0)*l,l<<=1;c=r(a);break;case 1:for(a=0,s=Math.pow(2,16),l=1;l!=s;)u=_.val&_.position,_.position>>=1,0==_.position&&(_.position=t,_.val=n(_.index++)),a|=(u>0?1:0)*l,l<<=1;c=r(a);break;case 2:return""}for(f[3]=c,i=v=c;;){if(_.index>e)return"";for(a=0,s=Math.pow(2,p),l=1;l!=s;)u=_.val&_.position,_.position>>=1,0==_.position&&(_.position=t,_.val=n(_.index++)),a|=(u>0?1:0)*l,l<<=1;switch(c=a){case 0:for(a=0,s=Math.pow(2,8),l=1;l!=s;)u=_.val&_.position,_.position>>=1,0==_.position&&(_.position=t,_.val=n(_.index++)),a|=(u>0?1:0)*l,l<<=1;f[d++]=r(a),c=d-1,h--;break;case 1:for(a=0,s=Math.pow(2,16),l=1;l!=s;)u=_.val&_.position,_.position>>=1,0==_.position&&(_.position=t,_.val=n(_.index++)),a|=(u>0?1:0)*l,l<<=1;f[d++]=r(a),c=d-1,h--;break;case 2:return v}if(0==h&&(h=Math.pow(2,p),p++),f[c])g=f[c];else{if(c!==d)return null;g=i+i[0]}v+=g,f[d++]=i+g[0],i=g,0==--h&&(h=Math.pow(2,p),p++)}}(e.length,32,function(r){return function(e,r){var n;if(t||(t={}),!t[e])for(t[e]={},n=0;n<e.length;n++)t[e][e[n]]=n;return t[e][r]}(n,e.charAt(r))})}};var t,r=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$"}(),n=/^{(\w+)}$/,e.RouterState=function(t,r,o){r=r||{},e.Assert.assertString(t);var i=(t=t.trim()).split("/");this._id=i.shift(),this._parameters={},this._paramOrder=new Array(i.length),i.forEach(function(e,t){var r=e.match(n);r&&(e=r[1],this._parameters[e]=null,this._paramOrder[t]=e)},this),this._canEnter=r.canEnter,this._canEnter&&e.Assert.assertFunctionOrNull(this._canEnter),this._enter=r.enter,this._enter&&e.Assert.assertFunctionOrNull(this._enter),this._canExit=r.canExit,this._canExit&&e.Assert.assertFunctionOrNull(this._canExit),this._exit=r.exit,this._exit&&e.Assert.assertFunctionOrNull(this._exit),this._value=r.value,this._label=r.label,this._title=r.title,this._router=o,this.viewModel=void 0,Object.defineProperties(this,{id:{value:this._id,enumerable:!0},value:{get:function(){return this._value},set:function(e){this._value=e},enumerable:!0},label:{get:function(){return this._label},set:function(e){this._label=e},enumerable:!0},title:{get:function(){return this._title},set:function(e){this._title=e},enumerable:!0},canEnter:{get:function(){return this._canEnter},set:function(e){this._canEnter=e},enumerable:!0},enter:{get:function(){return this._enter},set:function(e){this._enter=e},enumerable:!0},canExit:{get:function(){return this._canExit},set:function(e){this._canExit=e},enumerable:!0},exit:{get:function(){return this._exit},set:function(e){this._exit=e},enumerable:!0},parameters:{get:function(){return this._parameters},enumerable:!0}})},e.RouterState.prototype.go=function(){return this._router?this._router.go(this._id):(e.Router._transitionedToState.dispatch({hasChanged:!1}),Promise.reject(new Error("Router is not defined for this RouterState object.")))},e.RouterState.prototype.isCurrent=function(){if(!this._router)throw new Error("Router is not defined for this RouterState object.");return this._router._stateId()===this._id}});
!function(e){"function"==typeof define&&define.amd?define('jqueryui-amd/version',["jquery"],e):e(jQuery)}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"});
!function(t){"function"==typeof define&&define.amd?define('jqueryui-amd/widget',["jquery","./version"],t):t(jQuery)}(function(t){var e=0,i=Array.prototype.slice;return t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{(s=t._data(n,"events"))&&s.remove&&t(n).triggerHandler("remove")}catch(t){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},l=e.split(".")[0],u=l+"-"+(e=e.split(".")[1]);return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},n=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),(a=new i).options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?void(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(r[e]=s)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n&&a.widgetEventPrefix||e},r,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var s,n,o=i.call(arguments,1),a=0,r=o.length;a<r;a++)for(s in o[a])n=o[a][s],o[a].hasOwnProperty(s)&&void 0!==n&&(t.isPlainObject(n)?e[s]=t.isPlainObject(e[s])?t.widget.extend({},e[s],n):t.widget.extend({},n):e[s]=n);return e},t.widget.bridge=function(e,s){var n=s.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,r=i.call(arguments,1),l=this;return a?this.length||"instance"!==o?this.each(function(){var i,s=t.data(this,n);return"instance"===o?(l=s,!1):s?t.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,r))!==s&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(r.length&&(o=t.widget.extend.apply(null,[o].concat(r))),this.each(function(){var e=t.data(this,n);e?(e.option(o||{}),e._init&&e._init()):t.data(this,n,new s(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},e=(s=e.split(".")).shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;o<s.length-1;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;r<i.length;r++)a=n.classesElementLookup[i[r]]||t(),a=t(e.add?t.unique(a.get().concat(e.element.get())):a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,h=l[2];h?n.on(u,h,r):i.on(u,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(s))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?!0===n||"number"==typeof n?i:n.effect||i:e;"number"==typeof(n=n||{})&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget});
define('ojs/ojkeyset',["ojs/ojcore"],function(t){var e=function(){};t.Object.createSubclass(e,t.Object,"KeySet"),t.KeySet=e,e.prototype.InitializeWithKeys=function(t){this._keys=this._populate(t)},e.prototype.SetInternal=function(t){this._keys=t},e.prototype.AddOrDeleteInternal=function(t,e){var n,r;return null==(n=t?this._add(e):this._remove(e))?this:((r=Object.create(Object.getPrototypeOf(this))).SetInternal(n),r)},e.prototype._add=function(t){var e=this,n=null;return t.forEach(function(t){null==e.FindEquals(t)&&(null==n&&(n=e.Clone()),n.add(t))}),n},e.prototype._remove=function(t){var e,n=this,r=null;return 0==this._keys.size?null:(t.forEach(function(t){null!=(e=n.FindEquals(t))&&(null==r&&(r=n.Clone()),r.delete(e))}),r)},e.prototype.FindEquals=function(e){var n,r,o=null;if(this._keys.has(e))return e;if("function"==typeof Symbol&&"function"==typeof Set.prototype[Symbol.iterator])for(r=(n=this._keys[Symbol.iterator]()).next();!r.done;){if(t.Object.compareValues(r.value,e)||r.value==e)return r.value;r=n.next()}else this._keys.forEach(function(n){(null==o&&t.Object.compareValues(n,e)||n==e)&&(o=n)});return o},e.prototype.GetInternalSize=function(){return this._keys.size},e.prototype.Clone=function(){return this._populate(this._keys)},e.prototype._populate=function(t){var e=new Set(t);return null!=t&&0==e.size&&t.forEach(function(t){e.add(t)}),e};var n=function(t){this.InitializeWithKeys(t)};t.Object.createSubclass(n,e,"ExpandedKeySet"),t.ExpandedKeySet=n,n.prototype.add=function(t){return this.AddOrDeleteInternal(!0,t)},n.prototype.addAll=function(){return new r},n.prototype.isAddAll=function(){return!1},n.prototype.delete=function(t){return this.AddOrDeleteInternal(!1,t)},n.prototype.clear=function(){return 0==this.GetInternalSize()?this:new n},n.prototype.has=function(t){return null!=this.FindEquals(t)},n.prototype.values=function(){return this.Clone()};var r=function(){this.InitializeWithKeys(null)};return t.Object.createSubclass(r,e,"ExpandAllKeySet"),t.ExpandAllKeySet=r,r.prototype.add=function(t){return this.AddOrDeleteInternal(!1,t)},r.prototype.addAll=function(){return 0==this.GetInternalSize()?this:new r},r.prototype.isAddAll=function(){return!0},r.prototype.delete=function(t){return this.AddOrDeleteInternal(!0,t)},r.prototype.clear=function(){return new n},r.prototype.has=function(t){return null==this.FindEquals(t)},r.prototype.deletedValues=function(){return this.Clone()},t.KeySetImpl=function(e){this.has=function(t){return null!=this.get(t)},this.get=function(e){var n,r,o=null;if(this._keys.has(e))return e;if(e!==Object(e))return null;if("function"==typeof Symbol&&"function"==typeof Set.prototype[Symbol.iterator])for(r=(n=this._keys[Symbol.iterator]()).next();!r.done;){if(t.Object.compareValues(r.value,e)||r.value===e)return r.value;r=n.next()}else this._keys.forEach(function(n){(null==o&&t.Object.compareValues(n,e)||n===e)&&(o=n)});return o},this.InitializeWithKeys=function(t){this._keys=this._populate(t)},this._populate=function(t){var e=new Set(t);return null!=t&&0===e.size&&t.forEach(function(t){e.add(t)}),e},this.InitializeWithKeys(e)},{KeySet:e,ExpandedKeySet:n,ExpandAllKeySet:r}});
define('ojs/ojknockout',["ojs/ojcore","jquery","knockout","jqueryui-amd/widget","ojs/ojkoshared","ojs/ojkeyset"],function(e,t,n){function r(){this.Init()}function i(e,t){var n={};return n.value=t.value,n}var o,a,s;function u(e,t,n){return"pieCenter"===e&&t.template&&(t._renderer=m(n,t.template)),{pieCenter:t}}function l(e,t,r){return"optionTemplate"===e&&null!==t?{optionRenderer:function(e,t){return function(r){var i,o;return i=r.parentElement,o=e.createChildContext(r.data,null,function(e){e.$optionContext=r}),n.renderTemplate(t,o,null,i),null}}(r,String(t))}:null}function d(e,t){this.Init(e,t)}function c(e,t){var n={};return function(r){var i,o;return i=r.parentElement,o=e.createChildContext(r.data,null,function(e){e.$key=r.key,e.$metadata=r.metadata,e.$headerContext=r}),f(r,t,i,o,n),null}}function p(e,t){var n={};return function(r){var i,o;return i=r.parentElement,o=e.createChildContext(r.data,null,function(e){e.$keys=r.keys,e.$metadata=r.metadata,e.$cellContext=r,e.$cell=r.cell}),f(r,t,i,o,n),null}}function f(e,r,i,o,a){var s,u;for(s=function(e,t){var r=t[e];return null==r&&(r=n.utils.parseHtmlFragment(document.getElementById(e).innerHTML),t[e]=r),r.map(function(e){return e.cloneNode(!0)})}(function(e,t){return"function"==typeof e?e(t):e}(r,e),a),n.virtualElements.setDomNodeChildren(i,s),n.applyBindingsToDescendants(o,i),u=0;u<i.childNodes.length;u++)if(1==i.childNodes[u].nodeType){t(i.childNodes[u])._ojDetectCleanData({cleanParent:!0});break}}function h(e,t,n){return"template"===e?{_templateFunction:v(n,t)}:null}function g(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=r.key,o=r.value;if(null!=i&&null!=o&&t(i.trim(),o.trim()))break}}function m(e,r){return function(i){var o=e.createChildContext(i.context);return n.renderTemplate(r,o,{afterRender:function(e){t(e)._ojDetectCleanData()}},i.parentElement),null}}function v(e,r){return function(i){var o=e.createChildContext(i.data);return n.renderTemplate(r,o,{afterRender:function(e){t(e)._ojDetectCleanData()}},i.parentElement),null}}function _(e,t,n){return"tooltip"===e&&t.template&&(t._renderer=m(n,t.template)),{tooltip:t}}function y(e,r,i){if("item"==e){var o=r.template;return null!=o&&(r.renderer=function(e,r){return function(i){var o,a;return o=i.parentElement,a=e.createChildContext(i.data,null,function(e){e.$itemContext=i}),n.renderTemplate(r,a,{afterRender:function(e){t(e)._ojDetectCleanData()}},o,"replaceNode"),null}}(i,o)),{item:r}}return null}function C(e,t,n){return"center"===e&&t.template&&(t._renderer=m(n,t.template)),{center:t}}function b(e,t,n){return"rootNodeContent"===e&&t.template&&(t._renderer=m(n,t.template)),{rootNodeContent:t}}function E(e,r,i){var o={};return function(r,i){o=function(o){var a=null,s=null;if("header"==i)a=e.createChildContext(null,null,function(e){e.$columnIndex=o.columnIndex,e.$headerContext=o.headerContext,e.$data=o.data}),s=o.headerContext.parentElement;else if("cell"==i){var u=o.row;a=e.createChildContext(u,null,function(e){e.$columnIndex=o.columnIndex,e.$cellContext=o.cellContext}),s=o.cellContext.parentElement}"footer"==i&&(a=e.createChildContext(null,null,function(e){e.$columnIndex=o.columnIndex,e.$footerContext=o.footerContext}),s=o.footerContext.parentElement),n.renderTemplate(r,a,{afterRender:function(e){t(e)._ojDetectCleanData()}},s,"replaceNode")}}(i,r),o}function x(e,r){return function(i){var o=i.row,a=e.createChildContext(o,null,function(e){e.$rowContext=i.rowContext});n.renderTemplate(r,a,{afterRender:function(e){t(e)._ojDetectCleanData()}},i.rowContext.parentElement,"replaceNode")}}function N(e,t,n){if("areaLayers"===e){for(var r=0;r<t.length;r++){var i=t[r].areaDataLayer;i&&null!=(o=i.template)&&(i._templateRenderer=v(n,o))}return{areaLayers:t}}if("pointDataLayers"===e){for(r=0;r<t.length;r++){var o;null!=(o=t[r].template)&&(t[r]._templateRenderer=v(n,o))}return{pointDataLayers:t}}return null}function B(e,t,n){return"nodeContent"===e&&t.template&&(t._renderer=m(n,t.template)),{nodeContent:t}}e.Object.createSubclass(r,e.Object,"ComponentBinding.GlobalChangeQueue"),r.prototype.Init=function(){r.superclass.Init.call(this),this._trackers=[],this._queue=[]},r.prototype.registerComponentChanges=function(t){-1===this._trackers.indexOf(t)&&(this._trackers.push(t),this._delayTimer||(this._delayTimer=setTimeout(e.Object.createCallback(this,this._deliverChangesImpl),1)))},r.prototype.deliverChanges=function(){this._delayTimer&&clearTimeout(this._delayTimer),this._deliverChangesImpl()},r.prototype._deliverChangesImpl=function(){var e;this._delayTimer=null;var t=this._trackers;for(this._trackers=[],e=0;e<t.length;e++){var n=t[e];this._queue.push({tracker:n,changes:n.flushChanges()})}for(;this._queue.length>0;){var r=this._queue.shift();r.tracker.applyChanges(r.changes)}},e.ComponentBinding=function(e,t){this.Init(e,t)},e.Object.createSubclass(e.ComponentBinding,e.Object,"oj.ComponentBinding"),e.ComponentBinding.create=function(t,r){if(null==t)throw"Binding name is required!";var i,o=new e.ComponentBinding(t,r),a=(o._getBindingOptions().componentName,n.bindingHandlers),s=Array.isArray(t)?t:[t];for(i=0;i<s.length;i++){var u=s[i];e.ComponentBinding._REGISTERED_NAMES.push(u),a[u]=o}return o},e.ComponentBinding.getDefaultInstance=function(){return e.ComponentBinding._INSTANCE},e.ComponentBinding.prototype.setupManagedAttributes=function(e){var t=e.for;t=null==t?"@global":t;var n=this._managedAttrOptions[t]||[];n.push(e),this._managedAttrOptions[t]=n},e.ComponentBinding.deliverChanges=function(){e.ComponentBinding._changeQueue.deliverChanges()},e.ComponentBinding.prototype.Init=function(t,n){e.ComponentBinding.superclass.Init.call(this),"string"==typeof n&&(n={componentName:n}),this._bindingOptions=n||{},this._bindingNames=Array.isArray(t)?t:[t],this.init=this._init.bind(this),this.update=this._update.bind(this),this._managedAttrOptions={}},e.ComponentBinding.prototype._getBindingOptions=function(){return this._bindingOptions},e.ComponentBinding.prototype._init=function(e,t,r,i,o){return n.applyBindingsToDescendants(o,e),{controlsDescendantBindings:!0}},e.ComponentBinding.prototype._update=function(r,i,o,a,s){var u,l,c=[],p=0,f=t(r);function h(t){c.forEach(function(e){e.dispose()}),c=[],t&&u&&(u("destroy"),u=null),l&&(l.dispose(),l=null),f.off(e.ComponentBinding._HANDLER_NAMESPACE)}function g(t,n,i){if(null!=t){var a=f[t];if("function"==typeof a){a=a.bind(f),l=new d(function(t){var n=e.ComponentBinding.__removeDotNotationOptions(t);a("option",t);for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i];a("option",o,n[o])}},e.ComponentBinding._changeQueue);var p=Object.keys(i).filter(function(e){return!(null==e||e===n)}),h={component:a,changeTracker:l,componentName:t,specifiedOptions:p,computeds:c,valueAccessor:function(){return i},allBindingsAccessor:o,bindingContext:s,destroyCallback:function(){u=null},readOnlyProperties:{}};u=this._initComponent(r,h)}else e.Logger.error("Component %s is not found",t)}}n.ignoreDependencies(function(){n.computed(function(){var t=n.utils.unwrapObservable(i());"object"!=typeof t&&e.Logger.error("ojComponent binding should evaluate to an object");var r,o=this._bindingOptions.componentName,a=!1;if(null==o&null!=t){for(var s=[e.ComponentBinding._COMPONENT_OPTION,"role"],u=0;!a&&u<s.length;u++)(r=s[u])in t&&(a=!0,o=t[r]);a||e.Logger.error("component attribute is required for the ojComponent binding"),o=n.utils.unwrapObservable(o)}0==p?p=1:n.ignoreDependencies(h,this,[!0]),n.ignoreDependencies(g,this,[o,r,t])},this,{disposeWhenNodeIsRemoved:r})},this),n.utils.domNodeDisposal.addDisposeCallback(r,h.bind(this,!1))},e.ComponentBinding.prototype._initComponent=function(r,i){var o=!1,a=0,s={},u=t(r),l=i.component,d=i.componentName,c=this,p=function(t){if(t.target&&t.target==r){i.destroyCallback();var n=c._bindingOptions.beforeDestroy;n&&n(r,l,i.valueAccessor,i.allBindingsAccessor,i.bindingContext),e.ComponentBinding._deliverCreateDestroyEventToManagedProps(!1,s,r,l,i.valueAccessor,i.allBindingsAccessor,i.bindingContext),o=!0,i.changeTracker.dispose(),r.removeEventListener("_ojDestroy",p)}};r.addEventListener("_ojDestroy",p);var f=e.ComponentBinding._resolveManagedAttributes(this._managedAttrOptions,i.specifiedOptions,d),h=e.ComponentBinding.getDefaultInstance();if(this!==h){var g=h._getManagedAttributes(i.specifiedOptions,d);e.CollectionUtils.copyInto(g,f),f=g}for(var m={},v=function(){var t=this._property,n=e.ComponentBinding._toJS(i.valueAccessor()[t]);if(0===a){var u=f[t];if(null!=u){s[t]=u;var d=u.init;if(null!=d)for(var c=d(t,n,r,l,i.valueAccessor,i.allBindingsAccessor,i.bindingContext)||{},p=Object.keys(c),h=0;h<p.length;h++){var g=p[h];m[g]=e.ComponentBinding.__cloneIfArray(c[g])}}else m[t]=e.ComponentBinding.__cloneIfArray(n)}else if(!o)if(null!=f[t]){var v=f[t].update;if(null!=v)for(var _=v(t,n,r,l,i.valueAccessor,i.allBindingsAccessor,i.bindingContext)||{},y=Object.keys(_),C=0;C<y.length;C++){var b=y[C];i.changeTracker.addChange(b,e.ComponentBinding.__cloneIfArray(_[b]))}}else i.readOnlyProperties[t]||i.changeTracker.addChange(t,e.ComponentBinding.__cloneIfArray(n))},_=0;_<i.specifiedOptions.length;_++)i.computeds.push(n.computed(v,{_property:i.specifiedOptions[_]}));a=1,e.ComponentBinding._registerWritebacks(u,i);var y=e.ComponentBinding.__removeDotNotationOptions(m);l(m),Object.keys(y).forEach(function(e){l("option",e,y[e])});var C=this._bindingOptions.afterCreate;return C&&C(r,l,i.valueAccessor,i.allBindingsAccessor,i.bindingContext),e.ComponentBinding._deliverCreateDestroyEventToManagedProps(!0,s,r,l,i.valueAccessor,i.allBindingsAccessor,i.bindingContext),m=null,l},e.ComponentBinding.__CreateEvaluator=function(e){return new Function("$context","with($context){with($data||{}){return "+e+";}}")},e.ComponentBinding.prototype._getManagedAttributes=function(t,n){return e.ComponentBinding._resolveManagedAttributes(this._managedAttrOptions,t,n)},e.ComponentBinding._resolveManagedAttributes=function(e,n,r){var i={},o=[],a=function(t,n){var r=e[t];if(null!=r)for(var i=r.length-1;i>=0;i--){var s=r[i];if(null!=s.attributes&&o.push(s),n){var u=s.use;if(null!=u){u=Array.isArray(u)?u:[u];for(var l=0;l<u.length;l++)a(u[l],!0)}}}};a(r,!0);var s=t.oj[r];if(null!=s)for(var u=Object.getPrototypeOf(s.prototype);null!=u&&"oj"===u.namespace;)a(u.widgetName,!0),u=Object.getPrototypeOf(u);if(a("@global",!1),o.length>0)for(var l=0;l<n.length;l++)for(var d=n[l],c=0;c<o.length;c++){var p=o[c];if(p.attributes.indexOf(d)>=0){i[d]={init:p.init,update:p.update,afterCreate:p.afterCreate,beforeDestroy:p.beforeDestroy};break}}return i},e.ComponentBinding._HANDLER_NAMESPACE=".oj_ko",e.ComponentBinding._registerWritebacks=function(t,n){for(var r={"^slider$":[{event:"slidechange",getter:i}],"^oj*":[{event:"ojoptionchange",getter:function(e,t,n){var r={},i=n.optionMetadata;if(i&&"shouldWrite"===i.writeback){var o=n.option;r[o]=n.value,i.readOnly&&(e.readOnlyProperties[o]=!0)}return r}.bind(void 0,n)}]},o={},a=Object.keys(r),s=0;s<a.length;s++){var u=a[s];if(n.componentName.match(u)){for(var l=r[u],d=0;d<l.length;d++){var c=l[d];t.on(c.event+e.ComponentBinding._HANDLER_NAMESPACE,{getter:c.getter},function(r,i){if(r.target===t[0])for(var a=r.data.getter(r,i),s=n.valueAccessor(),u=Object.keys(a),l=0;l<u.length;l++){var d=u[l];n.changeTracker.suspend(d);try{if(n.specifiedOptions.indexOf(d)>=0){var c=s[e.ComponentBinding._OPTION_MAP],p=null==c?null:c[d],f=s[d];e.ComponentBinding._writeValueToProperty(d,f,a[d],p,n.bindingContext,o)}}finally{n.changeTracker.resume(d)}}})}break}}},e.ComponentBinding._writeValueToProperty=function(t,r,i,o,a,s){if(null!=r&&n.isObservable(r))n.isWriteableObservable(r)&&r(e.ComponentBinding.__cloneIfArray(i));else{if(!(t in s)){var u=null,l=e.__ExpressionUtils.getPropertyWriterExpression(o);null!=l&&(u=e.ComponentBinding.__CreateEvaluator(l)),s[t]=u}var d=s[t];d&&d(a)(e.ComponentBinding.__cloneIfArray(i))}},e.ComponentBinding._toJS=function(t){return t=n.utils.unwrapObservable(t),(Array.isArray(t)||e.CollectionUtils.isPlainObject(t))&&t.ojConvertToJS&&(t=n.toJS(t)),t},e.ComponentBinding.__cloneIfArray=function(e){return Array.isArray(e)&&(e=e.slice()),e},e.ComponentBinding.__removeDotNotationOptions=function(e){for(var t={},n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];i.indexOf(".")>=0&&(t[i]=e[i],delete e[i])}return t},e.ComponentBinding._deliverCreateDestroyEventToManagedProps=function(e,t,n,r,i,o,a){for(var s=Object.keys(t),u=0;u<s.length;u++){var l=s[u],d=t[l],c=e?d.afterCreate:d.beforeDestroy;c&&c(l,n,r,i,o,a)}},e.ComponentBinding._changeQueue=new r,e.ComponentBinding.__getKnockoutVersion=function(){return e.__isAmdLoaderPresent()&&n?n.version:""},e.ComponentBinding._isNameRegistered=function(t){return e.ComponentBinding._REGISTERED_NAMES.indexOf(t)>=0},e.ComponentBinding._REGISTERED_NAMES=[],e.ComponentBinding._COMPONENT_OPTION="component",e.ComponentBinding._OPTION_MAP="_ojOptions",o="cleanExternalData",a=n.utils.domNodeDisposal,s=a[o],a[o]=function(t){var n=e.DomUtils?e.DomUtils.setInKoCleanExternal:null;n&&n(t);try{s(t)}finally{n&&n(null)}},e.ComponentBinding._INSTANCE=e.ComponentBinding.create(["ojComponent","jqueryUI"]),t.widget("oj._ojDetectCleanData",{options:{cleanParent:!1},_destroy:function(){var e,t;t=(e=n.utils.domNodeDisposal).cleanExternalData,e.cleanExternalData=function(){};try{this.options.cleanParent&&null!=this.element[0].parentNode?n.cleanNode(this.element[0].parentNode):n.cleanNode(this.element[0])}finally{e.cleanExternalData=t}}}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["pieCenter"],init:function(e,t,n,r,i,o,a){return u(e,t,a)},update:function(e,t,n,r,i,o,a){return u(e,t,a)},for:"ojChart"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["optionTemplate"],init:function(e,t,n,r,i,o,a){var s=l(e,t,a);if(null!==s)return s},update:function(e,t,n,r,i,o,a){return l(e,t,a)},for:"ComboboxOptionRenderer"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({for:"ojCombobox",use:"ComboboxOptionRenderer"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({for:"ojSelect",use:"ComboboxOptionRenderer"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({for:"ojInputSearch",use:"ComboboxOptionRenderer"}),e.Object.createSubclass(d,e.Object,"ComponentBinding.ComponentChangeTracker"),d.prototype.Init=function(e,t){d.superclass.Init.call(this),this._updateCallback=e,this._queue=t,this._changes={},this._suspendCountMap={}},d.prototype.addChange=function(e,t){this._isSuspended(e)||this._disposed||(this._changes[e]=t,this._queue.registerComponentChanges(this))},d.prototype.dispose=function(){this._disposed=!0},d.prototype.resume=function(t){var n=this._suspendCountMap[t]||0;--n<0?e.Logger.error("ComponentChangeTracker suspendCount underflow"):0==n?delete this._suspendCountMap[t]:this._suspendCountMap[t]=n},d.prototype.suspend=function(e){var t=this._suspendCountMap[e]||0;this._suspendCountMap[e]=t+1},d.prototype.applyChanges=function(e){this._disposed||this._updateCallback(e)},d.prototype.flushChanges=function(){var e=this._changes;return this._changes={},e},d.prototype._isSuspended=function(e){return(this._suspendCountMap[e]||0)>=1},n.bindingHandlers.ojContextMenu={update:function(r,i,o,a,s){var u,l,d=t(r),c=!1,p=!1,f=null,h=function(e){if(c)return e.preventDefault(),e.stopPropagation(),c=!1,!1},g=function(e){121==e.which&&e.shiftKey&&v().is(":visible")&&e.preventDefault()},m=function(){var t=e.Components.__GetWidgetConstructor(v()[0],"ojMenu"),n=t&&t("instance");if(!n)throw new Error('ojContextMenu binding bound to "'+(x||E)+'", which does not reference a valid JET Menu.');return b||(n.widget().on("ojclose.ojContextMenu",function(e,t){document.removeEventListener("keyup",g)}),b=!0),n},v=function(){return _(E,x)},_=function(e,n){return n?t(document.getElementById(n)):t(e).first()},y=function(e,t,n){c=n;var r=m();if(c&&d.one("touchend.ojContextMenu",function(e){r.__contextMenuPressHoldJustEnded(!0),setTimeout(function(){r.__contextMenuPressHoldJustEnded(!1)},50)}),"touchstart"===f&&"contextmenu"===e.type||"contextmenu"===f&&"touchstart"===e.type)return f=null,void clearTimeout(l);if(!e.isDefaultPrevented()){var i={launcher:d,initialFocus:"menu",position:{mouse:{my:"start top",at:"start bottom",of:e},touch:{my:"start>40 center",at:"start bottom",of:e,collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",of:"launcher"}}[t]};r.__openingContextMenu=!0,r.open(e,i),r.__openingContextMenu=!1,r.widget().is(":visible")&&(e.preventDefault(),document.addEventListener("keyup",g),"touchstart"!==e.type&&"contextmenu"!==e.type||(f=e.type,l=setTimeout(function(){f=null},300)))}};d.off(".ojContextMenu").removeClass("oj-menu-context-menu-launcher")[0].removeEventListener("click",h,!0),clearTimeout(u);var C=d.data("_ojLastContextMenu");C&&_(C.selector,C.id).off(".ojContextMenu");var b=!1,E=n.utils.unwrapObservable(i()),x=t.isPlainObject(E)?r.getAttribute("contextmenu"):null;d.data("_ojLastContextMenu",{selector:E,id:x}),r.addEventListener("click",h,!0),d.on("touchstart.ojContextMenu mousedown.ojContextMenu keydown.ojContextMenu ",function(e){if("mousedown"!==e.type||!m().__contextMenuPressHoldJustEnded())return c=!1,"touchstart"===e.type&&(p=!0,u=setTimeout(y.bind(void 0,e,"touch",!0),750)),!0}).on("touchend.ojContextMenu touchcancel.ojContextMenu",function(e){return p=!1,clearTimeout(u),!0}).on("keydown.ojContextMenu contextmenu.ojContextMenu",function(e){if("contextmenu"===e.type||121==e.which&&e.shiftKey){var t=p?"touch":"keydown"===e.type?"keyboard":"mouse";y(e,t,!1)}return!0}).addClass(e.DomUtils.isTouchSupported()?"oj-menu-context-menu-launcher":"")}},e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["header","cell"],init:function(e,t,n,r,i,o,a){var s,u,l,d,f,h,g,m,v;return"header"===e?(null!=(s=t.row)&&null!=(u=s.template)&&(s.renderer=c(a,u)),null!=(l=t.column)&&null!=(d=l.template)&&(l.renderer=c(a,d)),null!=(h=t.rowEnd)&&null!=(g=h.template)&&(h.renderer=c(a,g)),null!=(m=t.columnEnd)&&null!=(v=m.template)&&(m.renderer=c(a,v)),{header:t}):"cell"===e?(null!=(f=t.template)&&(t.renderer=p(a,f)),{cell:t}):void 0},update:function(e,t,n,r,i,o,a){var s,u,l,d,f,h,g,m,v;return"header"===e?(null!=(s=t.row)&&null!=(u=s.template)&&(s.renderer=c(a,u)),null!=(l=t.column)&&null!=(d=l.template)&&(l.renderer=c(a,d)),null!=(h=t.rowEnd)&&null!=(g=h.template)&&(h.renderer=c(a,g)),null!=(m=t.columnEnd)&&null!=(v=m.template)&&(m.renderer=c(a,v)),{header:t}):"cell"===e?(null!=(f=t.template)&&(t.renderer=p(a,f)),{cell:t}):null},for:"ojDataGrid"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["template"],init:function(e,t,n,r,i,o,a){return h(e,t,a)},update:function(e,t,n,r,i,o,a){return h(e,t,a)},for:"ojDiagram"}),function(){e.__ExpressionUtils={},e.__ExpressionUtils.getPropertyWriterExpression=function(e){if(null==e||["true","false","null","undefined"].indexOf(e)>=0)return null;var n=(e=e.trim()).match(t);return null===n?null:"function(v){"+(n[1]?"Object("+n[1]+")"+n[2]:e)+"=v;}"};var t=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i}(),e.__KO_CUSTOM_BINDING_PROVIDER_INSTANCE.addPostprocessor({getBindingAccessors:function(t,r,i,o){if(null==i)return null;var a=function(t){for(var n=Object.keys(t),r=-0;r<n.length;r++){var i=n[r];if(e.ComponentBinding._isNameRegistered(i))return i}return null}(i);return null!=a&&(i=function(t,r,i,o,a){var s=function(e,t,r,i){var o=null,a=function(e,t,n){var r=t.getBindingsString;if(r)return r.call(t,e,n);switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:var i=e.nodeValue.match(/^\s*ko(?:\s+([\s\S]+))?\s*$/);return i?i[1]:null}return null}(e,r,i),s=null;return g(n.jsonExpressionRewriting.parseObjectLiteral(a),function(e,n){return e===t&&(s=n,!0)}),null!=s&&0===s.indexOf("{")&&(o=n.jsonExpressionRewriting.parseObjectLiteral(s)),{attrList:o,bindingExpr:s}}(t,r,i,o),u=s.attrList;if(null==u)return a;var l={};return g(u,function(e,t){l[e]=t}),(a=e.CollectionUtils.copyInto({},a))[r]=function(t,n,r){var i=function(){var r={};return Object.keys(n).forEach(function(i){var o=n[i],a=e.ComponentBinding.__CreateEvaluator(o).bind(null,t);Object.defineProperty(r,i,{get:a,enumerable:!0})}),Object.defineProperty(r,e.ComponentBinding._OPTION_MAP,{value:n}),r};return i.toString=function(){return r},i}(o,l,s.bindingExpr),a}(t,a,o,r,i)),i}}),e.__KO_CUSTOM_BINDING_PROVIDER_INSTANCE.addPostprocessor({nodeHasBindings:function(t,n){return e.BaseCustomElementBridge?n||1===t.nodeType&&e.BaseCustomElementBridge.getRegistered(t.nodeName):n},getBindingAccessors:function(t,n,r){if(1===t.nodeType&&e.BaseCustomElementBridge){var i=t.nodeName,o=e.BaseCustomElementBridge.getRegistered(i);o&&((r=r||{})._ojCustomElement=function(){return{composite:o.composite}})}return r}}),function(){n.bindingHandlers._ojCustomElement={after:["attr"],init:function(e,t,r,i,o){return n.applyBindingsToDescendants(o,e),{controlsDescendantBindings:!0}},update:function(r,i,o,a,s){var u,l,d=e.BaseCustomElementBridge.getInstance(r);function c(){u&&(u.teardown(),u=null),l&&(r.removeEventListener(t,l),l=null)}n.ignoreDependencies(function(){n.computed(function(){var o=i().composite;n.computedContext.isInitial()||c(),function(n){var i=e.BaseCustomElementBridge.getProperties(d,r);u=new e.__ExpressionPropertyUpdater(r,s,n);var o={_domListener:!0};d.__INITIALIZING_PROPS=!0;for(var a=r.attributes,c=0;c<a.length;c++){var p=a[c],f=e.__AttributeUtils.attributeToPropertyName(p.nodeName),h=e.__AttributeUtils.eventListenerPropertyToEventType(f)&&!i[f];u.setupExpression(p.value,f,h?o:i[f.split(".")[0]])}d.__INITIALIZING_PROPS=!1,l=function(t){var n=t.detail,r=n.attribute,a=e.__AttributeUtils.attributeToPropertyName(r),s=e.__AttributeUtils.eventListenerPropertyToEventType(a)&&!i[a]?o:i[a.split(".")[0]];u.setupExpression(n.value,a,s)},r.addEventListener(t,l)}(o),d.PlaybackEarlyPropertySets(r),e._KnockoutBindingProvider.getInstance().__NotifyBindingsApplied(r)},null,{disposeWhenNodeIsRemoved:r})}),n.utils.domNodeDisposal.addDisposeCallback(r,c)}};var t="attribute-changed"}(),e.__ExpressionPropertyUpdater=function(t,r,i){function o(e){return e.$current||e.$data}function a(e,n,r){var i=c[n];i||(i=function(e){var t,n=o(e),r=function(r){t&&t(r,n,e)};return r.setListener=function(e){t=e},r}(e),c[n]=i,t.addEventListener(n,i)),(null==r||r instanceof Function)&&i.setListener(r)}function s(e){var t=h[e]||0;t++,h[e]=t}function u(t){var n=h[t];n?(n--,h[t]=0===n?null:n):e.Logger.error("Property count undefrlow")}this.setupExpression=function(i,d,c){if(c&&function(e,t){var n=d.split("."),r=t;n.shift();for(var i=0;i<n.length&&(r=r.properties);i++)r=r[n[i]];return r}(0,c)){var m=e.__AttributeUtils.getExpressionInfo(i),v=p[d];v&&(v.dispose(),p[d]=null);var _=f[d];if(_&&(t.removeEventListener(d+g,_),f[d]=null),c._domListener){var y=e.__AttributeUtils.eventListenerPropertyToEventType(d);a(r,y,null)}var C=c.readOnly,b=m.expr;if(b){var E=e.ComponentBinding.__CreateEvaluator(b);if(!C){var x=!0;n.ignoreDependencies(function(){p[d]=n.computed(function(){var i=E(r),p=n.utils.unwrapObservable(i);if(c._domListener){var f=e.__AttributeUtils.eventListenerPropertyToEventType(d);a(r,f,p)}else Array.isArray(p)&&(p=p.slice()),c._eventListener&&p&&p instanceof Function&&(p=function(e,t){var n=o(e);return function(r){t(r,n,e)}}(r,p)),!x&&l?l.addChange(d,p):function(e,n){s(e);try{t.setProperty(e,n)}finally{u(e)}}(d,p)})}),x=!1}return c.writeback&&!m.downstreamOnly&&(f[d]=function(i,o,a){var s=function(t){if(!h[i]){var s,u=!1;n.ignoreDependencies(function(){var i=t.detail.value,l=a(r);if(n.isObservable(l))n.isWriteableObservable(l)?(l(e.ComponentBinding.__cloneIfArray(i)),u=!0):s="the observable is not writeable";else{var d=e.__ExpressionUtils.getPropertyWriterExpression(o);if(null!=d)e.ComponentBinding.__CreateEvaluator(d)(r)(e.ComponentBinding.__cloneIfArray(i)),u=!0;else s="the expression is not a valid update target"}}),u||s&&e.Logger.info("The expression '%s' for property '%s' was not updated because %s.",o,i,s)}};return t.addEventListener(i+g,s),s}(d,b,E)),!0}return!1}},this.teardown=function(){for(var e=Object.keys(p),n=0;n<e.length;n++){var r=p[e[n]];r&&r.dispose()}for(p={},e=Object.keys(f),n=0;n<e.length;n++){var i=e[n];t.removeEventListener(i+g,f[i])}for(f={},e=Object.keys(c),n=0;n<e.length;n++){var o=e[n];t.removeEventListener(o,c[o])}c={},l&&l.dispose()};var l=i?null:new d(function(e){for(var n=Object.keys(e),r=0;r<n.length;r++)s(n[r]);try{t.setProperties(e)}finally{for(var i=0;i<n.length;i++)u(n[i])}},e.ComponentBinding._changeQueue),c={},p={},f={},h={},g="Changed"},function(){function t(e,t,n,o){var a=i(e.getAttribute(n),o);if(a)return r(e,t,"ko "+t+":"+a)}function r(e,t,n){for(var r=e.tagName.toLowerCase(),i=r,o=e.attributes,a=0;a<o.length;a++){var s=o[a];i+=" ",i+=s.name,i+="='",i+=s.value,i+="'"}var u=e.parentNode,l=document.createComment(i),d=document.createComment("/"+r);u.insertBefore(l,e);var c=document.createComment(n),p=document.createComment("/ko");u.insertBefore(c,e);var f=[l,c];if("if"===t)for(;e.childNodes.length>0;){var h=e.childNodes[0];u.insertBefore(h,e),f.push(h)}else if("_ojBindForEach_"===t){for(;e.childNodes.length>0;)if(h=e.childNodes[0],u.insertBefore(h,e),f.push(h),1===h.nodeType&&"template"===h.nodeName.toLowerCase()){if(c._templateNode)throw new Error("Multiple templates found: oj-bind-for-each requires a single template element as its direct child");Object.defineProperty(c,"_templateNode",{value:h,enumerable:!1})}if(!c._templateNode)throw new Error("Template not found: oj-bind-for-each requires a single template element as its direct child")}return u.insertBefore(p,e),f.push(p),u.replaceChild(d,e),f.push(d),f}function i(t,n){if(null!=t){var r=e.__AttributeUtils.getExpressionInfo(t).expr;return null==r&&(r=n?"'"+t+"'":t),r}return null}function o(t,r,i,o,a){var s,u,l,d=e.__AttributeUtils.getExpressionInfo(o).expr;if(null==d)u=e.__AttributeUtils.coerceValue(i,"class",o,"any"),l=Array.isArray(u),s=function(){return l?u.join(" "):u};else{var c=(s=e.ComponentBinding.__CreateEvaluator(d).bind(null,a))();"function"==typeof c?(u=c(),(l=Array.isArray(u))&&(s=n.pureComputed(function(){return c().join(" ")}))):u=c}"string"==typeof u||l?r.class=s:t.css=s}function a(t,n,r,i,o){var a=e.__AttributeUtils.getExpressionInfo(r).expr;return null==a?function(){return"object"===o?e.__AttributeUtils.coerceValue(t,n,r,o):r}:e.ComponentBinding.__CreateEvaluator(a).bind(null,i)}function s(e){return function(){for(var t={},n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];t[i]=e[i]()}return t}}function u(t){if(1!==t.nodeType)return{};if(!t[c]){for(var n=!!e.BaseCustomElementBridge&&!!e.BaseCustomElementBridge.getRegistered(t.nodeName),r={},i=[],o=[],a=[],s=t.attributes,u=0;u<s.length;u++){var d=s[u],p=l(d.name);p&&("style"===p?r._STYLE_BIND=p:"style."===p.substring(0,6)?o.push(p):i.push(p)),n||"on-"!==d.name.substring(0,3)||a.push(d)}if(o.length){if(r._STYLE_BIND)throw new Error("Cannot have both style and style.* data bound attributes on "+t.tagName+" with id "+t.id);r._STYLE_BIND=o}i.length&&(r._ATTR_BIND=i),a.length&&(r._EVENT_BIND=a),Object.defineProperty(t,c,{value:r})}return t[c]}function l(e){return e&&":"===e.charAt(0)?e.slice(1):null}function d(e){return":"+e}e.__KO_CUSTOM_BINDING_PROVIDER_INSTANCE.addPostprocessor({preprocessNode:function(n,o){var a;if(1===n.nodeType){var s=n.nodeName.toLowerCase();"oj-bind-text"===s?a=t(n,"text","value",!0):"oj-bind-if"===s?a=t(n,"if","test",!1):"oj-bind-for-each"===s&&(a=function(t){var n=t.getAttribute("data"),o=e.__AttributeUtils.getExpressionInfo(n).expr;if(!o)try{var a=JSON.parse(n);if(!Array.isArray(a))throw new Error("got value "+n);o=n}catch(e){throw new Error("The value on the oj-bind-for-each data attribute should be either a JSON array or an expression : "+e)}var s=i(t.getAttribute("as"),!0);if(o){var u="ko _ojBindForEach_:{data:"+o;return r(t,"_ojBindForEach_",u+=s?",as:"+s+"}":"}")}}(n))}return a||o},nodeHasBindings:function(e,t){var n=u(e);return t||null!=n._ATTR_BIND||null!=n._STYLE_BIND||null!=n._EVENT_BIND},getBindingAccessors:function(t,r,i){if(1===t.nodeType){i=i||{};var l=u(t),c=l._STYLE_BIND;if(c){if(i.style)throw new Error("Cannot have both style data-bind and JET style binding on "+t.tagName+" with id "+t.id);if("style"===c)i[c]=a(t,c,t.getAttribute(d(c)),r,"object");else{for(var p={},f=0;f<c.length;f++){var h=c[f];p[e.__AttributeUtils.attributeToPropertyName(h.substring(6))]=a(t,h,t.getAttribute(d(h)),r,"string")}i.style=s(p)}}var g=l._ATTR_BIND;if(g){if(i.attr)throw new Error("Cannot have both attr data-bind and JET attribute binding on "+t.tagName+" with id "+t.id);var m={};for(f=0;f<g.length;f++)"class"===(h=g[f])?o(i,m,t,t.getAttribute(d(h)),r):m[h]=a(t,h,t.getAttribute(d(h)),r,"string");i.attr=s(m)}var v=l._EVENT_BIND;if(v){var _=new e.__ExpressionPropertyUpdater(t,r,!0);for(f=0;f<v.length;f++){var y=v[f],C=e.__AttributeUtils.attributeToPropertyName(y.nodeName);_.setupExpression(y.value,C,{_domListener:!0})}n.utils.domNodeDisposal.addDisposeCallback(t,function(){_&&(_.teardown(),_=null)})}}return i}});var c="_ojbindingsobj"}(),e._KnockoutBindingProvider=function(){this.__NotifyBindingsApplied=function(e){e.resolveBP(this)}},e._KnockoutBindingProvider.getInstance=function(){return e._KnockoutBindingProvider._instance},e._KnockoutBindingProvider._instance=new e._KnockoutBindingProvider,e.KnockoutTemplateUtils={},e.KnockoutTemplateUtils.getRenderer=function(e,r){var i=function(i){var o=i._parentElement||i.parentElement,a=n.contextFor(i.componentElement).createChildContext(i.data,null,function(e){e.$context=i});return n.renderTemplate(e,a,{afterRender:function(e){t(e)._ojDetectCleanData()}},o,r?"replaceNode":"replaceChildren"),null};return function(n){if(n.componentElement.classList&&n.componentElement.classList.contains("oj-dvtbase")){var r=document.createElement("div");r.style.display="none",r._dvtcontext=n._dvtcontext,n.componentElement.appendChild(r),Object.defineProperty(n,"_parentElement",{value:r,enumerable:!1}),Object.defineProperty(n,"_templateCleanup",{value:function(){t(r).remove()},enumerable:!1}),Object.defineProperty(n,"_templateName",{value:e,enumerable:!1}),i(n);var o=r.children[0];return o?("http://www.w3.org/2000/svg"===o.namespaceURI&&(r.removeChild(o),t(r).remove()),{insert:o}):{preventDefault:!0}}return i(n)}},e.ResponsiveKnockoutUtils={},e.ResponsiveKnockoutUtils.createMediaQueryObservable=function(e){if(null==e)throw new Error("oj.ResponsiveKnockoutUtils.createMediaQueryObservable: aborting, queryString is null");var r=window.matchMedia(e),i=n.observable(r.matches);return r.addListener(function(e){i(e.matches)}),-1!=navigator.userAgent.indexOf("WebKit")&&-1==navigator.userAgent.indexOf("Chrome")&&t(window).resize(function(){var e="oj-webkit-bug-123293";0===t("body").has("."+e).length&&t("body").append('<div aria-hidden="true" class="oj-helper-hidden-accessible '+e+'">'),t("."+e).text((new Date).getMilliseconds().toString())}),i},e.ResponsiveKnockoutUtils.createScreenRangeObservable=function(){var t=e.ResponsiveUtils.getFrameworkQuery(e.ResponsiveUtils.FRAMEWORK_QUERY_KEY.XXL_UP),r=e.ResponsiveUtils.getFrameworkQuery(e.ResponsiveUtils.FRAMEWORK_QUERY_KEY.XL_UP),i=e.ResponsiveUtils.getFrameworkQuery(e.ResponsiveUtils.FRAMEWORK_QUERY_KEY.LG_UP),o=e.ResponsiveUtils.getFrameworkQuery(e.ResponsiveUtils.FRAMEWORK_QUERY_KEY.MD_UP),a=e.ResponsiveUtils.getFrameworkQuery(e.ResponsiveUtils.FRAMEWORK_QUERY_KEY.SM_UP),s=null==t?null:e.ResponsiveKnockoutUtils.createMediaQueryObservable(t),u=null==r?null:e.ResponsiveKnockoutUtils.createMediaQueryObservable(r),l=null==i?null:e.ResponsiveKnockoutUtils.createMediaQueryObservable(i),d=null==o?null:e.ResponsiveKnockoutUtils.createMediaQueryObservable(o),c=null==a?null:e.ResponsiveKnockoutUtils.createMediaQueryObservable(a);return n.computed(function(){if(s&&s())return e.ResponsiveUtils.SCREEN_RANGE.XXL;if(u&&u())return e.ResponsiveUtils.SCREEN_RANGE.XL;if(l&&l())return e.ResponsiveUtils.SCREEN_RANGE.LG;if(d&&d())return e.ResponsiveUtils.SCREEN_RANGE.MD
;if(c&&c())return e.ResponsiveUtils.SCREEN_RANGE.SM;throw new Error(" NO MATCH in oj.ResponsiveKnockoutUtils.createScreenRangeObservable")})},e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["tooltip"],init:function(e,t,n,r,i,o,a){return _(e,t,a)},update:function(e,t,n,r,i,o,a){return _(e,t,a)},for:"tooltipOptionRenderer"}),function(){for(var t=["ojChart","ojDiagram","ojNBox","ojPictoChart","ojSunburst","ojTagCloud","ojThematicMap","ojTreemap","ojDialGauge","ojLedGauge","ojRatingGauge","ojSparkChart","ojStatusMeterGauge","ojGantt"],n=0;n<t.length;n++)e.ComponentBinding.getDefaultInstance().setupManagedAttributes({for:t[n],use:"tooltipOptionRenderer"})}(),function(){document&&document.createComment("test").text;var t=document&&"function"==typeof document.createDocumentFragment;function r(e,t,n){return{status:"added",value:e,index:t,key:n}}function i(e){return{status:"deleted",value:{},index:e}}var o="_ko_ffe_pending_delete_index";function a(e,t,i){if(this.element=t.element||e,this.$context=i,this.data=t.data,this.as=t.as,this.templateAlias=this.element._templateNode?this.element._templateNode.getAttribute("data-oj-as"):null,this.templateNode=function(e){var t,r=document.createElement("div");if(e._templateNode&&e._templateNode.content)t=e._templateNode.content;else if(e._templateNode)t=e._templateNode;else{var i=e.parentNode.getElementsByTagName("SCRIPT");t=i&&i.length>0?n.utils.parseHtmlFragment(i[0].text):e}var o=Array.isArray(t)?t:n.virtualElements.childNodes(t);return n.utils.arrayForEach(o,function(e){e&&r.insertBefore(e.cloneNode(!0),null)}),r}(this.element),this.changeQueue=[],this.firstLastNodesList=[],this.indexesToDelete=[],this.rendering_queued=!1,this.pendingDeletes=[],n.virtualElements.emptyNode(this.element),this.data.fetchFirst)this.fetchData();else{var o=n.unwrap(this.data);this.onArrayChange(function(e,t){var n;if(e){var r=e.length;n=new Array(r);for(var i=0;i<r;i++)n[i]=t(e[i],i,e)}return n}(o,r))}this.addSubscriptions()}a.PENDING_DELETE_INDEX_KEY=o,a.prototype.addSubscriptions=function(){n.isObservable(this.data)?(this.data.indexOf||(this.data=this.data.extend({trackArrayChanges:!0})),this.changeSubs=this.data.subscribe(this.onArrayChange,this,"arrayChange")):this.data.fetchFirst&&(this.dataMutateHandler=this.handleDataMutateEvent.bind(this),this.dataRefreshHandler=this.handleDataRefreshEvent.bind(this),this.data.addEventListener("mutate",this.dataMutateHandler),this.data.addEventListener("refresh",this.dataRefreshHandler))},a.prototype.removeSubscriptions=function(){this.changeSubs?this.changeSubs.dispose():this.data.removeEventListener&&(this.data.removeEventListener("mutate",this.dataMutateHandler),this.data.removeEventListener("refresh",this.dataRefreshHandler))},a.prototype.registerBusyState=function(){var t=this.element.parentNode;return e.Context.getContext(t).getBusyContext().addBusyState({description:"oj-bind-for-each binding on a node with the Id "+t.id+"is loading data."})},a.prototype.fetchData=function(){var e=this.registerBusyState(),t=this.data.fetchFirst({size:-1})[Symbol.asyncIterator](),n=function(i,o,a){return function(s){for(var u=s.value,l=i.length,d=0;d<u.metadata.length&&d<u.data.length;d++)i.push(r(u.data[d],l++,u.metadata[d].key));if(s.done)o.call(a,i),e();else{var c=n(i,o,a);t.next().then(c,function(){e()})}}},i=n([],this.onArrayChange,this);t.next().then(i,function(){e()})},a.prototype.getIndexesForEvent=function(t,n){var r=[];if(Array.isArray(t))for(var i=0;i<t.length;i++)r.push(t[i]);else if(n){var o=new e.KeySetImpl(n),a=new Map,s=0;for(i=0;i<this.firstLastNodesList.length&&s<n.size;i++){var u=this.firstLastNodesList[i].key,l=o.get(u);null!=l&&(a.set(l,i),s++)}n.forEach(function(e){r.push(a.get(e))})}return r},a.prototype.handleDataMutateEvent=function(e){var t=e.detail.add,n=e.detail.remove,o=e.detail.update,a=[];if(t){var s=t.data,u=t.keys,l=this.getIndexesForEvent(t.indexes,t.afterKeys),d=function(e){var t=l.length>e?l[e]:this.firstLastNodesList.length+e;return void 0===t?this.firstLastNodesList.length:t};if(Array.isArray(s)){var c=0;u.forEach(function(e){a.push(r(s[c],d(c),e)),c++},this)}else{var p=this,f=this.registerBusyState();this.data.fetchByKeys({keys:u}).then(function(e){if(e.results.size>0){var t=0;u.forEach(function(n){var i=e.results.get(n).data;a.push(r(i,d(t),n)),t++}),p.onArrayChange(a)}f()},function(){f()})}}else n?(l=(l=this.getIndexesForEvent(n.indexes,n.keys)).filter(function(e){return void 0!==e}),a=l.map(i)):o&&(u=o.keys,l=this.getIndexesForEvent(o.indexes,u),Array.isArray(o.data)?(c=0,u.forEach(function(e){void 0!==l[c]&&(a.push(i(l[c])),a.push(r(o.data[c],l[c],e))),c++})):(p=this,f=this.registerBusyState(),this.data.fetchByKeys({keys:u}).then(function(e){var t=0;e.results.size>0&&(u.forEach(function(n){if(void 0!==l[t]){var o=e.results.get(n).data;a.push(i(l[t])),a.push(r(o,l[t],n))}t++}),p.onArrayChange(a)),f()},function(){f()})));a.length>0&&this.onArrayChange(a)},a.prototype.handleDataRefreshEvent=function(e){this.changeQueue=[],this.firstLastNodesList=[],this.indexesToDelete=[],this.rendering_queued=!1,this.pendingDeletes=[],n.virtualElements.emptyNode(this.element),this.fetchData()},a.prototype.onArrayChange=function(e){for(var t={added:[],deleted:[]},n=0,r=e.length;n<r;n++){if(t.added.length&&"added"==e[n].status){var i=t.added[t.added.length-1];if((i.isBatch?i.index+i.values.length-1:i.index)+1==e[n].index){i.isBatch||(i={isBatch:!0,status:"added",index:i.index,values:[i.value],keys:[i.key]},t.added.splice(t.added.length-1,1,i)),i.values.push(e[n].value),i.keys.push(e[n].key);continue}}t[e[n].status].push(e[n])}t.deleted.length>0&&(this.changeQueue.push.apply(this.changeQueue,t.deleted),this.changeQueue.push({status:"clearDeletedIndexes"})),this.changeQueue.push.apply(this.changeQueue,t.added),this.changeQueue.length>0&&!this.rendering_queued&&(this.rendering_queued=!0,this.processQueue())},a.prototype.processQueue=function(){var e=this,t=9007199254740991;n.utils.arrayForEach(this.changeQueue,function(n){"number"==typeof n.index&&(t=Math.min(t,n.index)),e[n.status](n)}),this.flushPendingDeletes(),this.rendering_queued=!1,this.updateIndexes(t),this.changeQueue=[]},a.prototype.added=function(e){for(var t=e.index,r=e.isBatch?e.values:[e.value],i=e.isBatch?e.keys:[e.key],o=this.getLastNodeBeforeIndex(t),a=[],s=0,u=r.length;s<u;++s){var l,d,c=this.getPendingDeleteFor(r[s]);if(c&&c.nodesets.length)l=c.nodesets.pop(),d=c.childContext;else{var p=this.templateNode.cloneNode(!0),f={data:r[s],index:t+s,observableIndex:n.observable()};d=this.$context.extend({$root:void 0,$parent:void 0,$parents:void 0,$current:f}),this.as&&(d[this.as]=f),this.templateAlias&&(d[this.templateAlias]=f),n.applyBindingsToDescendants(d,p),l=n.virtualElements.childNodes(p)}a.push.apply(a,Array.prototype.slice.call(l)),this.firstLastNodesList.splice(t+s,0,{first:l[0],last:l[l.length-1],key:i?i[s]:null,childContext:d})}this.insertAllAfter(a,o)},a.prototype.getNodesForIndex=function(e){var t=[],n=this.firstLastNodesList[e].first,r=this.firstLastNodesList[e].last;for(t.push(n);n&&n!==r;)n=n.nextSibling,t.push(n);return t},a.prototype.getLastNodeBeforeIndex=function(e){return e<1||e-1>=this.firstLastNodesList.length?null:this.firstLastNodesList[e-1].last},a.prototype.insertAllAfter=function(e,r){var i,o,a,s=this.element;if(1===e.length)n.virtualElements.insertAfter(s,e[0],r);else if(t){for(i=document.createDocumentFragment(),a=0,o=e.length;a!==o;++a)i.appendChild(e[a]);n.virtualElements.insertAfter(s,i,r)}else for(a=e.length-1;a>=0;--a){var u=e[a];if(!u)break;n.virtualElements.insertAfter(s,u,r)}return e},a.prototype.shouldDelayDeletion=function(e){return e&&("object"==typeof e||"function"==typeof e)},a.prototype.getPendingDeleteFor=function(e){var t=e&&e[o];return void 0===t?null:this.pendingDeletes[t]},a.prototype.getOrCreatePendingDeleteFor=function(e){var t=this.getPendingDeleteFor(e);return t||(t={data:e,nodesets:[]},e[o]=this.pendingDeletes.length,this.pendingDeletes.push(t),t)},a.prototype.deleted=function(e){if(this.shouldDelayDeletion(e.value)){var t=this.getOrCreatePendingDeleteFor(e.value);t.nodesets.push(this.getNodesForIndex(e.index)),t.childContext=this.firstLastNodesList[e.index].childContext}else this.removeNodes(this.getNodesForIndex(e.index));this.indexesToDelete.push(e.index)},a.prototype.removeNodes=function(e){e.length&&function(){for(var t=e[0].parentNode,r=e.length-1;r>=0;--r)n.cleanNode(e[r]),t.removeChild(e[r])}()},a.prototype.flushPendingDeletes=function(){for(var e=0,t=this.pendingDeletes.length;e!=t;++e){for(var n=this.pendingDeletes[e];n.nodesets.length;)this.removeNodes(n.nodesets.pop());n.data&&void 0!==n.data[o]&&delete n.data[o]}this.pendingDeletes=[]},a.prototype.clearDeletedIndexes=function(){for(var e=this.indexesToDelete.length-1;e>=0;--e)this.firstLastNodesList.splice(this.indexesToDelete[e],1);this.indexesToDelete=[]},a.prototype.updateIndexes=function(e){for(var t,n=e,r=this.firstLastNodesList.length;n<r;++n)(t=this.firstLastNodesList[n].childContext)&&t.$current&&t.$current.observableIndex(n)},a.prototype.getData=function(){return this.data},a.prototype.setData=function(e){this.removeSubscriptions(),this.data=e,this.addSubscriptions()},n.bindingHandlers._ojBindForEach_={init:function(e,t,r,i,o){var s,u;return n.computed(function(){if(u=t(),s){var e,r,i=u.data,o=s.getData();n.ignoreDependencies(function(){e=n.unwrap(o),r=n.unwrap(i)});var a=n.utils.compareArrays(e,r,{sparse:!0,dontLimitMoves:!0});s.setData(i),s.onArrayChange(a)}}),s=new a(e,u,o),n.utils.domNodeDisposal.addDisposeCallback(e,function(){s.removeSubscriptions()}),{controlsDescendantBindings:!0}}},n.virtualElements.allowedBindings._ojBindForEach_=!0}(),e.koStringTemplateEngine={},e.koStringTemplateEngine.install=function(){if(!n.templates){var e={},t={},r=new n.nativeTemplateEngine;r.makeTemplateSource=function(r,i){if("string"==typeof r){var o=(i=i||document).getElementById(r);return o?new n.templateSources.domElement(o):new function(n){this._templateName=n,this.text=function(t){if(!t)return e[this._templateName];e[this._templateName]=t},this.data=function(e,n){if(t[this._templateName]||(t[this._templateName]={}),1===arguments.length)return t[this._templateName][e];t[this._templateName][e]=n}}(r)}if(r&&1==r.nodeType||8==r.nodeType)return new n.templateSources.anonymousTemplate(r)},n.templates=e,n.setTemplateEngine(r)}},e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["item"],init:function(e,t,n,r,i,o,a){var s=y(e,t,a);if(null!=s)return s},update:function(e,t,n,r,i,o,a){return y(e,t,a)},for:"ojListViewRenderer"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({for:"ojListView",use:"ojListViewRenderer"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({for:"ojNavigationList",use:"ojListViewRenderer"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["center"],init:function(e,t,n,r,i,o,a){return C(e,t,a)},update:function(e,t,n,r,i,o,a){return C(e,t,a)},for:"ojStatusMeterGauge"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["rootNodeContent"],init:function(e,t,n,r,i,o,a){return b(e,t,a)},update:function(e,t,n,r,i,o,a){return b(e,t,a)},for:"ojSunburst"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["columns","columnsDefault","rowTemplate"],init:function(e,t,n,r,i,o,a){if("columns"==e||"columnsDefault"==e){var s,u,l,d;for(s=0;s<t.length;s++){var c=t[s];u=c.template,l=c.footerTemplate,d=c.headerTemplate,null!=u&&(c.renderer=E(a,"cell",u)),null!=l&&(c.footerRenderer=E(a,"footer",l)),null!=d&&(c.headerRenderer=E(a,"header",d))}return"columns"==e?{columns:t}:{columnsDefault:t}}if("rowTemplate"==e)return{rowRenderer:x(a,t)}},update:function(e,t,n,r,i,o,a){if("columns"==e||"columnsDefault"==e){var s,u,l,d;for(s=0;s<t.length;s++){var c=t[s];u=c.template,l=c.footerTemplate,d=c.headerTemplate,null!=u&&(c.renderer=E(a,"cell",u)),null!=l&&(c.footerRenderer=E(a,"footer",l)),null!=d&&(c.headerRenderer=E(a,"header",d))}r("columns"==e?{columns:t}:{columnsDefault:t})}else if("rowTemplate"==e)return{rowRenderer:x(a,t)};return null},for:"ojTable"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["areaLayers","pointDataLayers"],init:function(e,t,n,r,i,o,a){return N(e,t,a)},update:function(e,t,n,r,i,o,a){return N(e,t,a)},for:"ojThematicMap"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["nodeContent"],init:function(e,t,n,r,i,o,a){return B(e,t,a)},update:function(e,t,n,r,i,o,a){return B(e,t,a)},for:"ojTreemap"})});
define('ojs/ojdatasource-common',["ojs/ojcore","jquery"],function(a,e){a.DataSource=function(a){this.data=a,this.Init()},a.Object.createSubclass(a.DataSource,a.EventSource,"oj.DataSource"),a.DataSource.prototype.Init=function(){a.DataSource.superclass.Init.call(this)},a.TreeDataSource=function(e){a.TreeDataSource.superclass.constructor.call(this,e)},a.Object.createSubclass(a.TreeDataSource,a.DataSource,"oj.TreeDataSource"),a.TableDataSource=function(e,t){if(this.constructor==a.TableDataSource){var r=a.TableDataSource._LOGGER_MSG._ERR_TABLE_DATASOURCE_INSTANTIATED_SUMMARY,o=a.TableDataSource._LOGGER_MSG._ERR_TABLE_DATASOURCE_INSTANTIATED_DETAIL;throw new Error(r+"\n"+o)}this.data=e,this.options=t,this.isFetching=!1,this._startIndex=0,this.Init()},a.Object.createSubclass(a.TableDataSource,a.DataSource,"oj.TableDataSource"),a.TableDataSource.prototype.Init=function(){a.TableDataSource.superclass.Init.call(this)},a.TableDataSource.prototype.sortCriteria=null,a.TableDataSource.prototype.totalSizeConfidence=function(){return"actual"},a.TableDataSource.EventType={ADD:"add",REMOVE:"remove",RESET:"reset",REFRESH:"refresh",SORT:"sort",CHANGE:"change",REQUEST:"request",SYNC:"sync",ERROR:"error"},a.TableDataSource._LOGGER_MSG={_ERR_TABLE_DATASOURCE_INSTANTIATED_SUMMARY:"oj.TableDataSource constructor called.",_ERR_TABLE_DATASOURCE_INSTANTIATED_DETAIL:"Please do not instantiate oj.TableDataSource. Please use one of the subclasses instead such as oj.ArrayTableDataSource or oj.CollectionTableDataSource.",_ERR_DATA_INVALID_TYPE_SUMMARY:"Invalid data type.",_ERR_DATA_INVALID_TYPE_DETAIL:"Please specify the appropriate data type."},a.DataGridDataSource=function(e){a.DataGridDataSource.superclass.constructor.call(this,e)},a.Object.createSubclass(a.DataGridDataSource,a.DataSource,"oj.DataGridDataSource"),a.DiagramDataSource=function(e){a.DiagramDataSource.superclass.constructor.call(this,e)},a.Object.createSubclass(a.DiagramDataSource,a.DataSource,"oj.DiagramDataSource"),a.DiagramDataSource.EventType={ADD:"add",REMOVE:"remove",CHANGE:"change"}});
define('ojs/ojarraytabledatasource',["ojs/ojcore","jquery","ojs/ojdatasource-common"],function(t,e){t.ArrayTableDataSource=function(e,a){if(this.data=e||{},!(e instanceof Array)&&"function"!=typeof e&&"function"!=typeof e.subscribe){var r=t.TableDataSource._LOGGER_MSG._ERR_DATA_INVALID_TYPE_SUMMARY,i=t.TableDataSource._LOGGER_MSG._ERR_DATA_INVALID_TYPE_DETAIL;throw new Error(r+"\n"+i)}null!=a&&null!=a.idAttribute||t.Logger.info(t.ArrayTableDataSource._LOGGER_MSG._INFO_ARRAY_TABLE_DATASOURCE_IDATTR),t.ArrayTableDataSource.superclass.constructor.call(this,e,a),this._eventHandlers=[],this._rows={},null!=e&&void 0!==e&&(this._idAttribute=null,null!=a&&null!=a.idAttribute&&(this._idAttribute=a.idAttribute),this._data=e instanceof Array?e:e(),this._totalSize=this._data.length,this._subscribeObservableArray(e)),(null==a||"enabled"!=a.startFetch&&null!=a.startFetch)&&null!=a||(this._startFetchEnabled=!0)},t.Object.createSubclass(t.ArrayTableDataSource,t.TableDataSource,"oj.ArrayTableDataSource"),t.ArrayTableDataSource.prototype.comparator=null,t.ArrayTableDataSource.prototype.sortCriteria=null,t.ArrayTableDataSource.prototype.Init=function(){t.ArrayTableDataSource.superclass.Init.call(this)},t.ArrayTableDataSource.prototype.add=function(t,e){e=e||{},this._checkDataLoaded();var a=e.at;return this._addToRowSet(t,a,e)},t.ArrayTableDataSource.prototype.at=function(t,e){var a;return this._checkDataLoaded(),a=t<0||t>=this._rows.data.length?null:{data:this._rows.data[t],index:t,key:this._getId(this._rows.data[t])},new Promise(function(t,e){t(a)})},t.ArrayTableDataSource.prototype.change=function(e,a){a=a||{},this._checkDataLoaded();var r,i,s,n,o=a.silent,l={data:[],keys:[],indexes:[]};for(e instanceof Array||(e=[e]),r=0;r<e.length;r++)null!=(i=e[r])&&(s=this._getId(i),n=this._getInternal(s,!1),l.data.push(this._wrapWritableValue(i)),l.keys.push(s),l.indexes.push(n.index),this._rows.data[n.index]=i);return!o&&l.data.length>0&&t.TableDataSource.superclass.handleEvent.call(this,t.TableDataSource.EventType.CHANGE,l),Promise.resolve(l)},t.ArrayTableDataSource.prototype.fetch=function(t){return"init"!=(t=t||{}).fetchType||this._startFetchEnabled?this._fetchInternal(t):Promise.resolve()},t.ArrayTableDataSource.prototype.get=function(t,e){return e=e||{},this._checkDataLoaded(),Promise.resolve(this._getInternal(t,!0))},t.ArrayTableDataSource.prototype.getCapability=function(t){return"full"},t.ArrayTableDataSource.prototype.remove=function(t,e){return e=e||{},this._checkDataLoaded(),this._removeInternal(t,e)},t.ArrayTableDataSource.prototype.reset=function(e,a){(a=a||{}).previousRows=this._rows;var r=a.silent;return null!=e&&(this._data=e,this._subscribeObservableArray(e),this.data=e),this._rows={},this._totalSize=0,r||t.TableDataSource.superclass.handleEvent.call(this,t.TableDataSource.EventType.RESET,null),Promise.resolve()},t.ArrayTableDataSource.prototype.sort=function(e){null==e?e=this.sortCriteria:this.sortCriteria=e,this._checkDataLoaded();var a=this;return new Promise(function(r,i){e=e||{};var s=a._getComparator();a._rows.data.sort(function(e,r){return t.ArrayTableDataSource._sortFunc(e,r,s,a)}),a._sorted=!0;var n={header:e.key,direction:e.direction};t.TableDataSource.superclass.handleEvent.call(a,t.TableDataSource.EventType.SORT,n),r(n)})},t.ArrayTableDataSource.prototype.totalSize=function(){return this._totalSize},t.ArrayTableDataSource.prototype._addToRowSet=function(e,a,r){var i,s,n,o,l=(r=r||{}).silent,u={data:[],keys:[],indexes:[]};for(e instanceof Array||(e=[e]),null==a||a instanceof Array||(a=[a]),i=0;i<e.length;i++)if(null!=(n=e[i])){if(o=this._getId(n),u.data.push(this._wrapWritableValue(n)),u.keys.push(o),1==this._sorted&&this._rows.data.length>0)for(s=0;s<this._rows.data.length;s++){if(t.ArrayTableDataSource._sortFunc(n,this._rows.data[s],this._getComparator(),this)<0){this._rows.data.splice(s,0,n),u.indexes.push(s);break}if(s==this._rows.data.length-1){this._rows.data.push(n),u.indexes.push(s+1);break}}else null==a?(this._rows.data.push(n),u.indexes.push(this._rows.data.length-1)):(this._rows.data.splice(a[i],0,n),u.indexes.push(a[i]));this._totalSize++,this._realignRowIndices()}return!l&&u.data.length>0&&t.TableDataSource.superclass.handleEvent.call(this,t.TableDataSource.EventType.ADD,u),Promise.resolve(u)},t.ArrayTableDataSource.prototype._checkDataLoaded=function(){this._isDataLoaded()||(this.data instanceof Array||"function"!=typeof this.data||"function"!=typeof this.data.subscribe||(this._data=this.data()),this._rows=this._getRowArray(this._data),this._totalSize=this._data.length)},t.ArrayTableDataSource.prototype._isDataLoaded=function(){return null!=this._rows&&null!=this._rows.data},t.ArrayTableDataSource.prototype._fetchInternal=function(e){var a;e=e||{},this._startFetch(e),this._checkDataLoaded();try{a=e.pageSize>0?e.pageSize:-1,this._startIndex||(this._startIndex=0),this._startIndex=null==e.startIndex?this._startIndex:e.startIndex;var r,i,s,n=t.ArrayTableDataSource._getEndIndex(this._rows,this._startIndex,a),o=[],l=[];for(r=this._startIndex;r<=n;r++)i=this._getId(this._rows.data[r]),s=this._wrapWritableValue(this._rows.data[r]),o[r-this._startIndex]=s,l[r-this._startIndex]=i}catch(t){return this._endFetch(e,null,t),Promise.reject(t)}n<this._startIndex&&(this._startIndex=n+1),e.pageSize=a,e.startIndex=this._startIndex,e.refresh=!0;var u={data:o,keys:l,startIndex:this._startIndex};return this._endFetch(e,u,null),Promise.resolve(u)},t.ArrayTableDataSource.prototype._getInternal=function(t,a){var r,i,s,n,o=null;for(r=0;r<this._rows.data.length;r++)if(void 0!==(s=this._rows.data[r]))if(n=this._getId(s),e.isArray(n)&&e.isArray(t)){if(n.length==t.length){var l=!0;for(i=0;i<t.length;i++)if(n[i]!=t[i]){l=!1;break}if(l){o=a?{data:this._wrapWritableValue(s),key:n,index:this._rows.indexes[r]}:{data:s,key:n,index:this._rows.indexes[r]};break}}}else if(n==t){o=a?{data:this._wrapWritableValue(s),key:n,index:this._rows.indexes[r]}:{data:s,key:n,index:this._rows.indexes[r]};break}return o},t.ArrayTableDataSource.prototype._getComparator=function(){var t=this.comparator;if(null==t){var a=this.sortCriteria.key,r=this.sortCriteria.direction;"ascending"==r?t=function(t){return e.isFunction(t[a])?t[a]():t[a]}:"descending"==r&&(t=function(t,r){var i,s;return e.isFunction(t[a])?(i=t[a](),s=r[a]()):(i=t[a],s=r[a]),i===s?0:i>s?-1:1})}return t},t.ArrayTableDataSource.prototype._realignRowIndices=function(){for(var t=0;t<this._rows.data.length;t++)this._rows.indexes[t]=t},t.ArrayTableDataSource.prototype._removeInternal=function(e,a){var r,i,s,n,o=(a=a||{}).silent,l={data:[],keys:[],indexes:[]};e instanceof Array||(e=[e]);var u=[];for(r=0;r<e.length;r++)null!=(i=e[r])&&(s=this._getId(i),null!=(n=this._getInternal(s,!1))&&u.push({data:n.data,key:n.key,index:n.index}));for(u.sort(function(t,e){return t.index-e.index}),r=0;r<u.length;r++)l.data.push(u[r].data),l.keys.push(u[r].key),l.indexes.push(u[r].index);for(r=l.indexes.length-1;r>=0;r--)this._rows.data.splice(l.indexes[r],1),this._rows.indexes.splice(l.indexes[r],1),this._totalSize--;return this._realignRowIndices(),!o&&l.data.length>0&&t.TableDataSource.superclass.handleEvent.call(this,t.TableDataSource.EventType.REMOVE,l),Promise.resolve(l)},t.ArrayTableDataSource.prototype._setRow=function(t,e){this._rows[t]=e,e.index=t},t.ArrayTableDataSource.prototype._startFetch=function(e){e.silent||t.TableDataSource.superclass.handleEvent.call(this,t.TableDataSource.EventType.REQUEST,{startIndex:e.startIndex})},t.ArrayTableDataSource.prototype._endFetch=function(e,a,r){null!=r?t.TableDataSource.superclass.handleEvent.call(this,t.TableDataSource.EventType.ERROR,r):e.silent||t.TableDataSource.superclass.handleEvent.call(this,t.TableDataSource.EventType.SYNC,a)},t.ArrayTableDataSource.prototype._handleRowChange=function(e){e.startIndex=this._startIndex,t.TableDataSource.superclass.handleEvent.call(this,t.TableDataSource.EventType.CHANGE,e)},t.ArrayTableDataSource._compareKeys=function(t,e,a){if("descending"==a){if(t<e)return 1;if(e<t)return-1}else{if(t>e)return 1;if(e>t)return-1}return 0},t.ArrayTableDataSource._getEndIndex=function(t,e,a){var r=t.data.length-1;return a>0&&(r=(r=e+a-1)>t.data.length-1?t.data.length-1:r),r},t.ArrayTableDataSource._getKey=function(t,e){return"function"==typeof t[e]?t[e]():t[e]},t.ArrayTableDataSource.prototype._getRowArray=function(t){var e,a,r=t.length-1,i={data:[],indexes:[]};for(this._attributes=null,e=0;e<=r;e++){var s={},n=t[e];for(a in n)n.hasOwnProperty(a)&&(s[a]=n[a],0==e&&(null==this._attributes&&(this._attributes=[]),this._attributes.push(a)));i.data[e]=s,i.indexes[e]=e}return i},t.ArrayTableDataSource.prototype._getId=function(a){var r,i=this._getIdAttr(a);if(e.isArray(i)){var s;for(r=[],s=0;s<i.length;s++){if(!(i[s]in a)){var n=t.Translations.applyParameters(t.ArrayTableDataSource._LOGGER_MSG._ERR_ARRAY_TABLE_DATASOURCE_IDATTR_NOT_IN_ROW,[i[s]]);throw new Error(n)}r[s]=t.ArrayTableDataSource._getKey(a,i[s])}}else{if(!(i in a))throw n=t.Translations.applyParameters(t.ArrayTableDataSource._LOGGER_MSG._ERR_ARRAY_TABLE_DATASOURCE_IDATTR_NOT_IN_ROW,[i]),new Error(n);r=t.ArrayTableDataSource._getKey(a,i)}return r},t.ArrayTableDataSource.prototype._getIdAttr=function(t){if(null!=this._idAttribute)return this._idAttribute;var e;if(null==this._attributes)for(e in this._attributes=[],t)t.hasOwnProperty(e)&&this._attributes.push(e);return this._attributes.hasOwnProperty("id")?"id":this._attributes},t.ArrayTableDataSource._sortFunc=function(a,r,i,s){var n,o,l,u,c=s.sortCriteria.direction;if(e.isFunction(i)){if(1===i.length){n=i.call(s,a),o=i.call(s,r);var h=t.StringUtils.isString(n)?n.split(","):[n],d=t.StringUtils.isString(o)?o.split(","):[o];for(l=0;l<h.length;l++)if(0!==(u=t.ArrayTableDataSource._compareKeys(h[l],d[l],c)))return u;return 0}return i.call(s,a,r)}if(t.StringUtils.isString(i)){var _=i.split(",");for(l=0;l<_.length;l++)if(n=t.ArrayTableDataSource._getKey(a,_[l]),o=t.ArrayTableDataSource._getKey(r,_[l]),0!==(u=t.ArrayTableDataSource._compareKeys(n,o,c)))return u}return 0},t.ArrayTableDataSource.prototype._subscribeObservableArray=function(t){if(!(t instanceof Array)){var e=this;t.subscribe(function(t){if(e._isDataLoaded()){var a,r=[],i=[];for(a=0;a<t.length;a++)"deleted"===t[a].status&&r.push(t[a].value);for(e.remove(r,null),r=[],i=[],a=0;a<t.length;a++)"added"===t[a].status&&(r.push(t[a].value),i.push(t[a].index));e.add(r,{at:i})}},null,"arrayChange")}},t.ArrayTableDataSource.prototype._wrapWritableValue=function(e){var a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t.ArrayTableDataSource._defineProperty(r,e,i[a]);return r},t.ArrayTableDataSource._defineProperty=function(t,e,a){Object.defineProperty(t,a,{get:function(){return e[a]},set:function(t){e[a]=t},enumerable:!0})},t.ArrayTableDataSource._LOGGER_MSG={_INFO_ARRAY_TABLE_DATASOURCE_IDATTR:"idAttribute option has not been specified. Will default to using 'id' if the field exists. If not, will use all the fields.",_ERR_ARRAY_TABLE_DATASOURCE_IDATTR_NOT_IN_ROW:"Specified idAttribute {0} not in row data. Please ensure all specified idAttribute fields are in the row data or do not specify idAttribute and all fields will be used as id."}});
!function(i){"function"==typeof define&&define.amd?define('jqueryui-amd/unique-id',["jquery","./version"],i):i(jQuery)}(function(i){return i.fn.extend({uniqueId:function(){var i=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&i(this).removeAttr("id")})}})});
!function(E){"function"==typeof define&&define.amd?define('jqueryui-amd/keycode',["jquery","./version"],E):E(jQuery)}(function(E){return E.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});
!function(e){"function"==typeof define&&define.amd?define('jqueryui-amd/focusable',["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.focusable=function(i,t){var n,a,r,s,o,u=i.nodeName.toLowerCase();return"area"===u?(a=(n=i.parentNode).name,!(!i.href||!a||"map"!==n.nodeName.toLowerCase())&&(r=e("img[usemap='#"+a+"']")).length>0&&r.is(":visible")):(/^(input|select|textarea|button|object)$/.test(u)?(s=!i.disabled)&&(o=e(i).closest("fieldset")[0])&&(s=!o.disabled):s="a"===u&&i.href||t,s&&e(i).is(":visible")&&function(e){for(var i=e.css("visibility");"inherit"===i;)i=(e=e.parent()).css("visibility");return"hidden"!==i}(e(i)))},e.extend(e.expr[":"],{focusable:function(i){return e.ui.focusable(i,null!=e.attr(i,"tabindex"))}}),e.ui.focusable});
!function(e){"function"==typeof define&&define.amd?define('jqueryui-amd/tabbable',["jquery","./version","./focusable"],e):e(jQuery)}(function(e){return e.extend(e.expr[":"],{tabbable:function(n){var t=e.attr(n,"tabindex"),u=null!=t;return(!u||t>=0)&&e.ui.focusable(n,u)}})});
define('ojs/ojmessaging',["ojs/ojcore","jquery"],function(e,s){e.Message=function(e,s,t){this.Init(e,s,t)},e.Message.SEVERITY_TYPE={CONFIRMATION:"confirmation",INFO:"info",WARNING:"warning",ERROR:"error",FATAL:"fatal"},e.Message.SEVERITY_LEVEL={FATAL:5,ERROR:4,WARNING:3,INFO:2,CONFIRMATION:1},e.Object.createSubclass(e.Message,e.Object,"oj.Message"),e.Message.prototype.Init=function(s,t,n){e.Message.superclass.Init.call(this),this.summary=s,this.detail=t,this.severity=n||e.Message.SEVERITY_TYPE.ERROR},e.Message.prototype.canDisplay=function(){return!0},e.Message.prototype.equals=function(s){return!(!s||e.Message.getSeverityLevel(this.severity)!==e.Message.getSeverityLevel(s.severity)||this.summary!==s.summary||this.detail!==s.detail)},e.Message.prototype.clone=function(){return new e.Message(this.summary,this.detail,this.severity)},e.Message.getSeverityLevel=function(s){var t;return s&&("string"==typeof s?s=-1===(t=e.Message._LEVEL_TO_TYPE.indexOf(s,1))?e.Message.SEVERITY_LEVEL.ERROR:t:"number"==typeof s&&(s<e.Message.SEVERITY_LEVEL.CONFIRMATION||s>e.Message.SEVERITY_LEVEL.FATAL)&&(s=e.Message.SEVERITY_LEVEL.ERROR)),s||e.Message.SEVERITY_LEVEL.ERROR},e.Message.getSeverityType=function(s){return s&&("string"==typeof s?-1===e.Message._LEVEL_TO_TYPE.indexOf(s,1)&&(s=e.Message.SEVERITY_TYPE.ERROR):"number"==typeof s&&(s=s<e.Message.SEVERITY_LEVEL.CONFIRMATION||s>e.Message.SEVERITY_LEVEL.FATAL?e.Message.SEVERITY_TYPE.ERROR:e.Message._LEVEL_TO_TYPE[s])),s||e.Message.SEVERITY_TYPE.ERROR},e.Message.getMaxSeverity=function(t){var n,o=-1;return t&&t.length>0&&s.each(t,function(s,t){t&&(n=e.Message.getSeverityLevel(t.severity)),o=o<n?n:o}),o},e.Message.isValid=function(s){return!(e.Message.getMaxSeverity(s)>=e.Message.SEVERITY_LEVEL.ERROR)},e.Message._LEVEL_TO_TYPE=["none",e.Message.SEVERITY_TYPE.CONFIRMATION,e.Message.SEVERITY_TYPE.INFO,e.Message.SEVERITY_TYPE.WARNING,e.Message.SEVERITY_TYPE.ERROR,e.Message.SEVERITY_TYPE.FATAL],e.ComponentMessage=function(e,s,t,n){this.Init(e,s,t,n)},e.Object.createSubclass(e.ComponentMessage,e.Message,"oj.ComponentMessage"),e.ComponentMessage.DISPLAY={SHOWN:"shown",HIDDEN:"hidden"},e.ComponentMessage._DEFAULT_OPTIONS={display:e.ComponentMessage.DISPLAY.SHOWN,context:""},e.ComponentMessage.prototype.Init=function(t,n,o,a){e.ComponentMessage.superclass.Init.call(this,t,n,o),this._options=s.extend({},e.ComponentMessage._DEFAULT_OPTIONS,a)},e.ComponentMessage.prototype.equals=function(s){return e.ComponentMessage.superclass.equals.call(this,s)&&this._options.display===s._options.display},e.ComponentMessage.prototype.clone=function(){return new e.ComponentMessage(this.summary,this.detail,this.severity,this._options)},e.ComponentMessage.prototype.canDisplay=function(){return!(this._options&&this._options.display&&this._options.display===e.ComponentMessage.DISPLAY.HIDDEN)},e.ComponentMessage.prototype._forceDisplayToShown=function(){return!(!this._options||e.ComponentMessage.DISPLAY.HIDDEN!==this._options.display||(this._options.display=e.ComponentMessage.DISPLAY.SHOWN,0))},e.ComponentMessage.prototype._isMessageAddedByComponent=function(){return!(!this._options||!this._options.context)}});
define('ojs/ojcomponentcore',["ojs/ojcore","jquery","jqueryui-amd/widget","jqueryui-amd/unique-id","jqueryui-amd/keycode","jqueryui-amd/focusable","jqueryui-amd/tabbable","ojs/ojmessaging","ojs/ojcustomelement"],function(t,e){function n(t,n){var i=function(){var t=e(this),i=t.data(c);if(null!=i)for(var o=0;o<i.length;o++){var s=t.data("oj-"+i[o]);null!=s&&n(s)}},o=e(t);o.hasClass(g)&&i.call(t),o.find("."+g).each(i)}function i(t,n,i){function o(t){if(n&&t.classList.contains(g)){var o=e(t),s=o.data(c);if(null!=s)for(var r=0;r<s.length;r++){var a=o.data("oj-"+s[r]);null!=a&&n(a)}}i&&"oj-defer"===t.tagName.toLowerCase()&&t._activate()}if(!function(t){for(;t;){if(t.nodeType===Node.DOCUMENT_NODE)return!1;if(t.classList.contains(h))return!0;t=t.parentNode}return!0}(t)){o(t);var s=["."+g];i&&s.push("oj-defer");var r=[];s.forEach(function(t){r.push("."+h+" "+t),r.push("."+p+" "+t)});for(var a=s.join(","),l=r.join(","),u=function(t,e){var n,i=[],o=0;for(n=0;n<e.length;n++){for(var s=e[n];o<t.length&&t[o]!=s;)i.push(t[o++]);o++}for(;o<t.length;)i.push(t[o++]);return i}(t.querySelectorAll(a),t.querySelectorAll(l)),d=0;d<u.length;d++)o(u[d])}}function o(t){this.getCallback=function(){return t}}function s(t,e,n){return Object.keys(e).forEach(function(i){var o=t[i]||[],s=e[i];n?o=o.concat(s):o.push(s),t[i]=o}),t}function r(e){return t.BaseCustomElementBridge.getRegistered(e.tagName)}function a(e){return!!t.Components.__GetWidgetConstructor(e)}function l(t){return r(t)||a(t)}t.Components={},t.Components.setDefaultOptions=function(e){var n=t.Components._defaultProperties||{};Object.keys(e).forEach(function(i){var o=e[i];if(!t.CollectionUtils.isPlainObject(o))throw"Invalid default options";n[i]=s(n[i]||{},o,!1)}),t.Components._defaultProperties=n},t.Components.getDefaultOptions=function(){return t.Components._defaultProperties||{}},t.Components.createDynamicPropertyGetter=function(t){return new o(t)},t.Components.getWidgetConstructor=function(e,n){return e&&!t.BaseCustomElementBridge.getRegistered(e.tagName)?t.Components.__GetWidgetConstructor(e,n):null},t.Components.__GetWidgetConstructor=function(t,n){var i=e(t),o=i.data(c);if(o&&(null==n?n=o[0]:o.indexOf(n)<0&&(n=void 0),null!=n)){var s=i[n];if("function"==typeof s)return s.bind(i)}return null},t.Components.subtreeAttached=function(e){t.DomUtils.fixResizeListeners(e),n(e,function(t){t.__handleSubtreeAttached()})},t.Components.subtreeDetached=function(t){n(t,function(t){t.__handleSubtreeDetached()})},t.Components.subtreeShown=function(n,o){var s=(o=o||{}).initialRender;s||t.DomUtils.fixResizeListeners(n),(n=e(n)[0]).classList.remove(h),i(n,function(t){s?t._NotifyInitShown():t._NotifyShown()},!0)},t.Components.subtreeHidden=function(t){i(t=e(t)[0],function(t){t._NotifyHidden()},!1),t.classList.add(h)},t.Components.markPendingSubtreeHidden=function(t){t.classList.add(p)},t.Components.unmarkPendingSubtreeHidden=function(t){t.classList.remove(p)},t.Components.isComponentInitialized=function(t,n){var i=t.data(c);return!!(e.isArray(i)&&i.indexOf(n)>-1&&t.is("."+g))},t.Components.__getDefaultOptions=function(e){for(var n={},i=t.Components.getDefaultOptions(),o=e.length-1;o>=0;o--){var r=i[e[o]];void 0!==r&&(n=s(n,r,!0))}return n},t.Components.getComponentElementByNode=function(e){return function e(n,i){if(null==n)return null;var o=1===n.nodeType,s=t.Composite&&!i?t.Composite.getContainingComposite(n):null;if(s)return s;if(o&&n.hasAttribute("data-oj-internal"))return n.parentNode instanceof Element&&n.parentNode.hasAttribute("data-oj-surrogate-id")?e(n=document.querySelector("[data-oj-popup-"+n.id+"-parent]"),i):e(n.parentNode,i);if(l(n))return n;if(o&&n.classList.contains("oj-component")){if(a(n=n.querySelector(".oj-component-initnode:not([data-oj-internal])")||n))return n}else if(o&&n.hasAttribute("data-oj-containerid"))return e(n=document.getElementById(n.getAttribute("data-oj-containerid")),i);return e(n.parentNode,i)}(e,!!(arguments.length>1&&arguments[1]))},t.Components.getSubIdByNode=function(e,n){return t.Components.callComponentMethod(e,"getSubIdByNode",n)},t.Components.getNodeBySubId=function(e,n){return t.Components.callComponentMethod(e,"getNodeBySubId",n)},t.Components.getComponentOption=function(e,n){if(!l(e))throw new Error("node is not a component element");return r(e)?e.getProperty?e.getProperty.call(e,n):void 0:t.Components.__GetWidgetConstructor(e)("option",n)},t.Components.setComponentOption=function(e,n,i){if(!l(e))throw new Error("node is not a component element");r(e)?e.setProperty&&e.setProperty.call(e,n,i):t.Components.__GetWidgetConstructor(e)("option",n,i)},t.Components.callComponentMethod=function(n,i,o){if(!l(n))throw new Error("node is not a component element");return r(n)?n[i]?n[i].apply(n,[].slice.call(arguments,2)):void 0:t.Components.__GetWidgetConstructor(n).apply(e(n),[].slice.call(arguments,1))},t.Components._OJ_CONTAINER_ATTR="data-oj-container";var u,c="oj-component-names",g="oj-component-initnode",h="oj-subtree-hidden",p="oj-pending-subtree-hidden";function d(t,e,n,i,o,s,r){var a=n,l=!1,u={};delete i[o],Object.defineProperty(i,o,{get:function(){if(l)return a;if(null!=t._settingNestedKey)return a;var n=s(r?r():o);return m([e,n,a],u)},set:function(e){a=e,null!=t._settingNestedKey?u[t._settingNestedKey]=!0:l=!0},enumerable:!0})}function _(t){if(1===t.length){var e=t[0];return e instanceof o?e.getCallback():null}for(var n=!1,i=0;i<t.length&&!n;i++){var s=t[i];null!=s&&s instanceof o&&(n=!0)}return n?function(e){var n=[];return t.forEach(function(t){null!=t&&t instanceof o?n.push(t.getCallback()(e)):n.push(t)}),m(n)}:null}function m(t,n){for(var i=void 0,o=0;o<t.length;o++){var s=t[o];void 0!==s&&(i=e.isPlainObject(s)?f({},e.isPlainObject(i)?[i,s]:[s],o==t.length-1?null:n,null):s)}return i}function f(t,n,i,o){for(var s=n.length,r=0;r<s;r++)for(var a=n[r],l=Object.keys(a),u=0;u<l.length;u++){var c=l[u],g=null==i?null:null==o?c:o+"."+c;if(null==i||!i[g]){var h=a[c];if(void 0!==h)if(e.isPlainObject(h)){var p=e.isPlainObject(t[c])?[t[c],h]:[h];t[c]=f({},p,i,g)}else t[c]=h}}return t}e.widget("oj.baseComponent",{options:{contextMenu:null,rootAttributes:null,optionChange:void 0,destroy:void 0},refresh:function(){this._propertyContext=null,this._SetupContextMenu()},_createWidget:function(t,e){t&&(this.OuterWrapper=t._wrapper),this._originalDefaults=this.options||{},this._constructorOptions=t||{},this._super(t,e),this._AfterCreateEvent()},_SetRootAttributes:function(){var t=this.options.rootAttributes;if(t){var n=this.widget();if(null==n)return;var i=t.class;i&&n.addClass(i);var o=t.style;if(o){var s=n.attr("style");s?n.attr("style",s+";"+o):n.attr("style",o)}delete(t=e.extend({},t)).class,delete t.style,n.attr(t),delete t.id;var r=Object.keys(t);if(r.length)throw new Error("Unsupported values passed to rootAttributes option: "+r.toString())}},_create:function(){this._SaveAttributes(this.element),this._InitOptions(this._originalDefaults,this._constructorOptions),delete this._originalDefaults,delete this._constructorOptions,this._ComponentCreate(),this._AfterCreate(),this._SetupResources(),this.element.addClass(g)},_InitOptions:function(t,e){this._setupDefaultOptions(t,e),this._initContextMenuOption(e)},_ComponentCreate:function(){var t,e,n;t=this.element,e=this.widgetName,(n=t.data(c))||(n=[],t.data(c,n)),n.indexOf(e)<0&&n.push(e),this.activeableEventNamespace=this.eventNamespace+"activeable",this.hoverableEventNamespace=this.eventNamespace+"hoverable"},_AfterCreate:function(){this._SetRootAttributes(),this.contextMenuEventNamespace=this.eventNamespace+"contextMenu",this.activeableEventNamespace=this.eventNamespace+"activeable",this.hoverableEventNamespace=this.eventNamespace+"hoverable"},_AfterCreateEvent:e.noop,_setOptionClasses:function(){},_setOptionDisabled:function(){},_classes:function(){return""},_removeClass:function(){return this},_addClass:function(){return this},_toggleClass:function(){return this},_SaveAttributes:function(t){},_SaveAllAttributes:function(t){var n=this;this._savedAttributes=[],e.each(t,function(t,i){var o={},s={element:i,attributes:o},r=i.attributes;n._savedAttributes.push(s),e.each(r,function(t,e){var n=e.name;o[n]={attr:e.value}})})},_GetSavedAttributes:function(t){var e=this._savedAttributes;if(void 0===e)return null;t=t[0];for(var n=0,i=e.length;n<i;n++){var o=e[n];if(o.element===t)return o.attributes}return{}},_RestoreAttributes:function(){},_RestoreAllAttributes:function(){e.each(this._savedAttributes,function(t,n){var i=e(n.element),o=n.attributes;if(1===i.length){for(var s=n.element.attributes,r=[],a=0,l=s.length;a<l;a++)s[a].name in o||r.push(s[a].name);for(a=0,l=r.length;a<l;a++)i.removeAttr(r[a]);for(var u in o)i.attr(u,o[u].attr)}})},_GetTranslationsSectionName:function(){return this.widgetFullName},_CompareOptionValues:function(e,n,i){return this._IsCustomElement()&&this._getWritebackOption(e)?t.Object.compareValues(n,i):n==i},getTranslatedString:function(e,n){var i,o={};return arguments.length>2?o=Array.prototype.slice.call(arguments,1):2==arguments.length&&("object"==typeof(o=arguments[1])||o instanceof Array||(o=[o])),null==(i=this.option(v+e))?e:t.Translations.applyParameters(i.toString(),o)},getNodeBySubId:function(t){return null!=t&&null!=t.subId||!this.element?null:this.element[0]},getSubIdByNode:function(t){return null},destroy:function(){if(this._IsCustomElement())throw new Error("destroy cannot be called on a custom element");this._trigger("destroy"),t.DomUtils.dispatchEvent(this.element[0],new CustomEvent("_ojDestroy")),this._super(),this._ReleaseResources(),this.element.removeClass(g),this.widget().removeClass("oj-disabled"),this._removeStateClasses(this.element),function(t,e){var n=t.data(c);if(n){var i=n.indexOf(e);i>=0&&(n.splice(i,1),0===n.length&&t.removeData(c))}}(this.element,this.widgetName),this._RestoreAttributes(),this._initialCmDomAttr?this.element.attr("contextmenu",this._initialCmDomAttr):this.element.removeAttr("contextmenu"),this._propertyContext=null},option:function(t,n){if(0===arguments.length)return e.widget.extend({},this.options);var i=arguments[0],o=i,s=null,r={};if("string"==typeof i){o={};var a=i.split(".");if(i=a.shift(),a.length){var l;s=a.join(".");try{arguments.length>1&&(this._settingNestedKey=s),l=o[i]=e.widget.extend({},this.options[i])}finally{this._settingNestedKey=null}for(var u=0;u<a.length-1;u++)l[a[u]]=l[a[u]]||{},l=l[a[u]];if(i=a.pop(),1===arguments.length)return void 0===l[i]?null:l[i];l[i]=n}else{if(1===arguments.length)return void 0===this.options[i]?null:this.options[i];o[i]=n}r=arguments[2]||r}else r=arguments[1]||r;if(null!=s){var c={path:t,value:n};r=e.widget.extend({},r,{subkey:s,subproperty:c})}var g=r?r._context:null,h=!!g&&g.internalSet,p={};for(var d in o){var _=o[d],m=this.options[d];(!r||!r.changed)&&this._CompareOptionValues(d,m,_)||(p[d]=_)}return Object.keys(p).length>0&&(h?this._internalSetOptions(p,r):this._setOptions(p,r)),this},_internalSetOptions:function(t,e){for(var n in t){var i=t[n],o=this.options[n];this.options[n]=i,this._optionChanged(n,i,o,e)}},_setOptions:function(t,e){for(var n in t){var i=t[n];this._setOption(n,i,e)}return this},_setOption:function(t,e,n){var i=this.options[t];if("disabled"===t)this.options[t]=e,this.widget().toggleClass("oj-disabled",!!e).attr("aria-disabled",e),e&&this._removeStateClasses(this.widget());else{try{var o=null==n?null:n.subkey;null!=o&&(this._settingNestedKey=o),this._super(t,e)}finally{this._settingNestedKey=null}"contextMenu"===t&&this._SetupContextMenu()}return this._optionChanged(t,e,i,n),this},_optionChanged:function(t,n,i,o){var s,r=null,a=!1,l=!1,u=null,c="external",g=null;o&&(r=o._context)&&(u=r.originalEvent,a=void 0===r.writeback?null!=u:r.writeback,l=r.readOnly,g=r.optionMetadata,s=r.extraData,r.internalSet&&(c="internal")),(g=g||{}).writeback=a?"shouldWrite":"shouldNotWrite",l&&(g.readOnly=!0);var h={option:t,previousValue:i,value:n,optionMetadata:g,updatedFrom:c},p=null==o?null:o.subkey;if(p){var d=i;p.split(".").forEach(function(t){d&&(d=d[t])});var _=o.subproperty;_.previousValue=d,h.subproperty=_}null!=s&&(h=e.extend({},s,h)),this._trigger("optionChange",u,h)},_SetupResources:function(){this._SetupContextMenu()},_ReleaseResources:function(){this._ReleaseContextMenu()},_trigger:function(t,e,n){return this._trigger2(t,e,n).proceed},_trigger2:function(t,n,i){if(i=i||{},this._IsCustomElement())return this._triggerCustomEvent(t,n,i);var o=this.options[t];return(n=e.Event(n,y)).type=(this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],this.element.trigger(n,i),{proceed:!(e.isFunction(o)&&!1===o.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented()),event:n}},_triggerCustomEvent:function(n,i,o){var s,r,a,l={},u=this._getRootElement();if("optionChange"===n){var c=t.CustomElementBridge.getPropertyForAlias(u,o.option);if(!t.CustomElementBridge.isKnownProperty(u,c))return{proceed:!0,event:null};s=t.__AttributeUtils.propertyNameToChangeEventType(c);for(var g=Object.keys(o),h=0;h<g.length;h++){var p=g[h];if("option"!==p)if("optionMetadata"===p)for(var d=Object.keys(o[p]),_=0;_<d.length;_++){var m=d[_];"writeback"!==m&&"component"!==m&&(l[m]=o[p][m])}else l[p]=o[p]}}else{if(!t.CustomElementBridge.isKnownEvent(u,n))return{proceed:!0,event:null};r=!0,a=!0,s=t.__AttributeUtils.eventTriggerToEventType(n),l=this._resolveJQueryObjects(o)}i&&(l.originalEvent=i instanceof e.Event?i.originalEvent:i);var f={detail:l};r&&(f.bubbles=!0),a&&(f.cancelable=!0);var E=new CustomEvent(s,f);return u.dispatchEvent(E),{proceed:!E.defaultPrevented,event:E}},_resolveJQueryObjects:function(n){for(var i,o,s=t.CollectionUtils.copyInto({},n),r=Object.keys(s),a=0;a<r.length;a++)(i=s[o=r[a]])&&i instanceof e&&(0==i.length?s[o]=null:1==i.length?s[o]=i[0]:s=i.toArray());return s},_initContextMenuOption:function(t){var e=this.element.attr("contextmenu");this._initialCmDomAttr=e,!e||"contextMenu"in t||this.option("contextMenu",document.getElementById(e),{_context:{internalSet:!0}})},_handleContextMenuGesture:function(n,i,o){if(!this._IsEffectivelyDisabled()){var s;if("OJ-MENU"===n.tagName)s=n;else{var r=t.Components.__GetWidgetConstructor(n,"ojMenu");if(!(s=r&&r("instance")))throw new Error("Invalid JET Menu.")}this._NotifyContextMenuGesture(s,i,o),e(n).is(":visible")&&i.preventDefault()}},_SetupContextMenu:function(){var e=this._GetContextMenu();if(e||(e=this._GetDefaultContextMenu()),e&&void 0===this._contextMenuGestureInit){this._contextMenuGestureInit=e;var n=this;t.GestureUtils.startDetectContextMenuGesture(this.widget()[0],function(t,i){n._handleContextMenuGesture(e,t,i)})}},_ReleaseContextMenu:function(){this._contextMenuGestureInit=void 0,t.GestureUtils.stopDetectContextMenuGesture(this.widget()[0])},_GetContextMenu:function(){if(this._IsCustomElement()){var n=t.BaseCustomElementBridge.getSlotMap(this._getRootElement()).contextMenu;if(n&&n.length>0)return n[0]}else if(this.options.contextMenu)return e(this.options.contextMenu).first()[0];return null},_NotifyContextMenuGesture:function(t,e,n){this._OpenContextMenu(e,n)},_OpenContextMenu:function(n,i,o,s,r){var a=this._GetContextMenu();if(a||(a=this._contextMenuGestureInit&&e(this._contextMenuGestureInit).is(":visible")?this._contextMenuGestureInit:this._GetDefaultContextMenu()),a){var l={mouse:{my:"start top",at:"start bottom",of:n,collision:"flipfit"},touch:{my:"start>40 center",at:"start bottom",of:n,collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",of:"launcher",collision:"flipfit"}},u={launcher:this.element,position:l[i]},c={initialFocus:"menu"};if(o=r?e.extend(u,o,c):e.extend(!0,u,o,c),a.__openingContextMenu=!0,"OJ-MENU"===a.tagName)a.open(n,o,s);else{var g=t.Components.__GetWidgetConstructor(a,"ojMenu");(g&&g("instance")).open(n,o,s)}a.__openingContextMenu=!1}},_GetDefaultContextMenu:function(){return null},_removeStateClasses:function(t){t.removeClass("oj-hover oj-focus oj-focus-highlight oj-active"),t.find(".oj-hover").removeClass("oj-hover"),t.find(".oj-focus").removeClass("oj-focus"),t.find(".oj-focus-highlight").removeClass("oj-focus-highlight"),t.find(".oj-active").removeClass("oj-active")},_isRealMouseEvent:function(e){return!t.DomUtils.recentTouchEnd()},_AddHoverable:function(t){var n;e.isPlainObject(t)?n=t.element:(n=t,t={});var i=t.afterToggle||e.noop;n.on("mouseenter"+this.hoverableEventNamespace,this._hoverStartHandler.bind(this,i)).on("mouseleave"+this.hoverableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-hover",i))},_RemoveHoverable:function(t){t&&t.off(this.hoverableEventNamespace)},_AddActiveable:function(n){var i;e.isPlainObject(n)?i=n.element:(i=n,n={});var o=n.afterToggle||e.noop;t.DomUtils.isTouchSupported()&&i.on("touchstart"+this.activeableEventNamespace,this._activeStartHandler.bind(this,o)).on("touchend"+this.activeableEventNamespace+" touchcancel"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",o)),i.on("mousedown"+this.activeableEventNamespace,this._activeStartHandler.bind(this,o)).on("mouseup"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",o)).on("mouseenter"+this.activeableEventNamespace,this._activeStartHandler.bind(this,o)).on("mouseleave"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",o))},_RemoveActiveable:function(t){t&&(t.off(this.activeableEventNamespace),u=null)},_activeStartHandler:function(t,n){var i=e(n.currentTarget);("mouseenter"!==n.type||this._isTargetInActiveElement(n.currentTarget))&&(i.hasClass("oj-disabled")||"touchstart"!==n.type&&!this._isRealMouseEvent(n)||(i.addClass("oj-active"),t(n.type),"mousedown"===n.type&&(u=n.currentTarget,this.document.one("mouseup",function(){u=null}))))},_hoverStartHandler:function(t,n){var i=e(n.currentTarget);!i.hasClass("oj-disabled")&&this._isRealMouseEvent(n)&&(i.addClass("oj-hover"),t(n.type))},_hoverAndActiveEndHandler:function(t,n,i){("oj-active"!==t||"mouseleave"!==i.type||this._isTargetInActiveElement(i.currentTarget))&&(e(i.currentTarget).removeClass(t),n(i.type))},_isTargetInActiveElement:function(t){return u===t||null!=u&&e.contains(u,t)},_hoverable:function(){},_focusable:function(n){e.isPlainObject(n)||(n={element:n}),n.component=this,t.DomUtils.makeFocusable(n)},_UnregisterChildNode:function(t){if(t){e(t).off(this.eventNamespace);var n=this.bindings;n&&(this.bindings=e(n.not(t)))}},_GetReadingDirection:function(){return t.DomUtils.getReadingDirection()},_NotifyAttached:function(){this._propertyContext=null},_NotifyDetached:function(){this._propertyContext=null,this._removeStateClasses(this.widget())},_NotifyInitShown:function(){},_NotifyShown:function(){},_NotifyHidden:function(){},_IsEffectivelyDisabled:function(){return!(!this.options.disabled&&!this._ancestorDisabled)},__setAncestorComponentDisabled:function(t){this._ancestorDisabled=t},_getTranslationSectionLoader:function(){var n=[],i=this,o=0;this._traverseWidgetHierarchy(function(s){var r=0==o?i._GetTranslationsSectionName():s.widgetFullName;o++;var a=t.Translations.getComponentTranslations(r);null==a||e.isEmptyObject(a)||n.push(r)});var s=n.length;return s>0?function(){if(1==s)return t.Translations.getComponentTranslations(n[0]);for(var i={},o=s-1;o>=0;o--)e.widget.extend(i,t.Translations.getComponentTranslations(n[o]));return i}:null},_getDynamicPropertyContext:function(){if(!this._propertyContext){var e={};this._propertyContext=e;var n=this.element[0];e.containers=function(e){for(var n=[];e;){var i=e.getAttribute,o=i?i.call(e,t.Components._OJ_CONTAINER_ATTR):null;null!=o&&n.push(o),e=e.parentNode}return n}(n),e.element=n,e.isCustomElement=this._IsCustomElement()}return this._propertyContext},_setupDefaultOptions:function(t,n){var i=this.options,o=this._getTranslationSectionLoader(),s=n[E];null==o||void 0!==s&&!e.isPlainObject(s)||d(this,void 0,n[E],i,E,o),this._loadGlobalDefaultOptions(t,n)},_loadGlobalDefaultOptions:function(n,i){var o=this.options,s=[];this._traverseWidgetHierarchy(function(t){s.push(t.widgetName)}),t.Components.getDefaultOptions(),s.push("default");var r=t.Components.__getDefaultOptions(s);if(!e.isEmptyObject(r)){var a=this,l=function(){return a._getDynamicPropertyContext()};for(var u in r){var c=i[u];if(void 0===c||e.isPlainObject(c)){var g=r[u];if(g){var h=_(g);if(h)d(this,n[u],c,o,u,h,l);else{var p=[n[u]].concat(g);p.push(c),o[u]=m(p)}}}}}},_traverseWidgetHierarchy:function(t){for(var e=this.constructor.prototype;null!=e&&"oj"===e.namespace;)t(e),e=Object.getPrototypeOf(e)},_getRootElement:function(){return this.OuterWrapper||this.element[0]},_IsCustomElement:function(){return null!=t.BaseCustomElementBridge.getRegistered(this._getRootElement().tagName)},_FixRendererContext:function(e){if(this._IsCustomElement()){var n=t.CollectionUtils.copyInto({},e);return delete n.component,n.componentElement=this._getRootElement(),n}return e},_WrapCustomElementRenderer:function(t){return this._IsCustomElement()&&"function"==typeof t?function(e){var n=t(e);return n&&n.insert?n.insert:null}:t},__saveWritebackOptions:function(t){this._writebackOptions=t},_getWritebackOption:function(t){return!(!this._writebackOptions||!this._writebackOptions[t])},__handleSubtreeAttached:function(){this._IsCustomElement()||this._NotifyAttached()},__handleSubtreeDetached:function(){this._IsCustomElement()||this._NotifyDetached()},_VerifyConnectedForSetup:function(){return!1},__handleConnected:function(){this._NotifyAttached(),this.__delayConnectDisconnect(0)||this._SetupResources()},__handleDisconnected:function(){this.__delayConnectDisconnect(1)||this._ReleaseResources(),this._NotifyDetached()},__delayConnectDisconnect:function(t){if(!this._VerifyConnectedForSetup())return!1;if(void 0===this.connectedState){var e=this;Promise.resolve().then(function(){e.connectedState===t&&(0===t?e._SetupResources():e._ReleaseResources(),e.connectedState=void 0)})}return this.connectedState=t,!0},__getFocusElement:function(){return this.GetFocusElement()},GetFocusElement:function(){return this.element[0]}}),delete e.fn.baseComponent,t.__registerWidget=function(t,n,i,o){if(e.widget(t,n,i),o){var s=t.split(".")[1];delete e.fn[s]}if("oj.oj"===t.substring(0,5)||"oj._oj"===t.substring(0,6)){var r,a=t.split("."),l=a[0],u=a[1],c=l+"-"+u;r="_"===u.substring(0,1)?"_"+l+"-"+u.substring(3):l+"-"+u.substring(2),e.expr.pseudos[r.toLowerCase()]=function(t){return!!e.data(t,c)}}};var E="translations",v=E+".";function C(){return!0}var y={isDefaultPrevented:function(){return!1},preventDefault:function(){this.isDefaultPrevented=C},stopPropagation:function(){this.isPropagationStopped=C},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=C}};t.ComponentMessaging=function(t){this.Init(t)},t.Object.createSubclass(t.ComponentMessaging,t.Object,"oj.ComponentMessaging"),t.ComponentMessaging._DISPLAY_TYPE={NONE:"none",NOTEWINDOW:"notewindow",PLACEHOLDER:"placeholder",INLINE:"inline"},t.ComponentMessaging._DISPLAY_TYPE_TO_CALLBACK={},t.ComponentMessaging.registerMessagingStrategy=function(e,n){e&&"function"==typeof n&&(t.ComponentMessaging._DISPLAY_TYPE_TO_CALLBACK[e]=n)},t.ComponentMessaging.prototype.Init=function(e){t.ComponentMessaging.superclass.Init.call(this),this._component=e,this._activated=!1,this._initializeMessagingStrategies()},t.ComponentMessaging.prototype.activate=function(n,i,o){var s=this;t.Assert.assertObject(o),this._launcher=n,this._contentElement=i,this._messagingContent=t.CollectionUtils.copyInto(this._messagingContent||{},o),this._isActive()?this._reactivate():(e.each(this._strategies,function(t,e){e.activate(s)}),this._activated=!0)},t.ComponentMessaging.prototype.update=function(n){t.Assert.assertObject(n),t.Assert.assertBoolean(this._activated),this._messagingContent=t.CollectionUtils.copyInto(this._messagingContent||{},n),this._activated&&e.each(this._strategies,function(t,e){e.shouldUpdate(n)&&e.update()})},t.ComponentMessaging.prototype.deactivate=function(){e.each(this._strategies,function(t,e){e.deactivate()}),this._activated=!1,this._component=null,this._launcher=null,this._contentElement=null,this._strategies={}},t.ComponentMessaging.prototype.close=function(){e.each(this._strategies,function(t,e){e.close()})},t.ComponentMessaging.prototype._createMessagingStrategy=function(e,n){return new(t.ComponentMessaging._DISPLAY_TYPE_TO_CALLBACK[e]||t.ComponentMessaging._DISPLAY_TYPE_TO_CALLBACK[t.ComponentMessaging._DISPLAY_TYPE.NONE])(n)},t.ComponentMessaging.prototype._getComponent=function(){return this._component||null},t.ComponentMessaging.prototype._getLauncher=function(){return this._launcher||null},t.ComponentMessaging.prototype._getContentElement=function(){return this._contentElement||null},t.ComponentMessaging.prototype._getMessagingContent=function(){return this._messagingContent||{}},t.ComponentMessaging.prototype._isActive=function(){return this._activated},t.ComponentMessaging.prototype._getResolvedMessagingDisplayOptions=function(){var n,i,o,s,r,a,l,u={},c=!1,g=this._component.options.placeholder,h=this._component.options.displayOptions||{},p={};for(s=Object.keys(h),a=0;a<s.length;a++){if(n=h[r=s[a]],c=!1,o=r+"",Array.isArray(n))for(l=0;l<n.length;l++)i=n[l],c||(c=this._resolveDisplayTypeForArtifact(o,i,g,p));else"string"==typeof n&&(c||(c=this._resolveDisplayTypeForArtifact(o,n,g,p)));c||(p[o]=t.ComponentMessaging._DISPLAY_TYPE.NONE)}return e.each(t.ComponentMessaging._DISPLAY_TYPE,function(t,e){u[e]=[]}),e.each(p,function(t,e){u[e].push(t)}),u},t.ComponentMessaging.prototype._resolveDisplayTypeForArtifact=function(e,n,i,o){var s=!1;switch(n){case t.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER:"converterHint"===e&&(s||i||(o[e]=n,s=!0));break;case t.ComponentMessaging._DISPLAY_TYPE.INLINE:"messages"===e&&(s||(o[e]=n,s=!0));break;default:s||(o[e]=n,s=!0)}return s},t.ComponentMessaging.prototype._initializeMessagingStrategies=function(){var e=this._getResolvedMessagingDisplayOptions(),n=e[t.ComponentMessaging._DISPLAY_TYPE.NOTEWINDOW],i=e[t.ComponentMessaging._DISPLAY_TYPE.NONE],o=e[t.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER],s=e[t.ComponentMessaging._DISPLAY_TYPE.INLINE],r={};n.length>0&&(r[t.ComponentMessaging._DISPLAY_TYPE.NOTEWINDOW]=this._createMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.NOTEWINDOW,n)),o.length>0&&(r[t.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER]=this._createMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER,o)),s.length>0&&(r[t.ComponentMessaging._DISPLAY_TYPE.INLINE]=this._createMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.INLINE,s)),r[t.ComponentMessaging._DISPLAY_TYPE.NONE]=this._createMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.NONE,i),this._strategies=r},t.ComponentMessaging.prototype._reactivate=function(){var n,i=this._getResolvedMessagingDisplayOptions(),o=this;e.each(i,function(e,i){e+="",n=o._strategies[e],i&&i.length>0?n?n&&n.reactivate(i):(n=o._createMessagingStrategy(e,i),o._strategies[e]=n,n.activate(o)):n&&t.ComponentMessaging._DISPLAY_TYPE.NONE!==e&&(n.deactivate(),delete o._strategies[e])})},t.MessagingStrategy=function(t){this.Init(t)},t.Object.createSubclass(t.MessagingStrategy,t.Object,"oj.MessagingStrategy"),t.MessagingStrategy.prototype.Init=function(e){t.Assert.assertArray(e),t.MessagingStrategy.superclass.Init.call(this),this._displayOptions=e},t.MessagingStrategy.prototype.activate=function(t){this._componentMessaging=t},t.MessagingStrategy.prototype.deactivate=function(){},t.MessagingStrategy.prototype.close=function(){},t.MessagingStrategy.prototype.reactivate=function(t){this.Init(t)},t.MessagingStrategy.prototype.shouldUpdate=function(t){return!0},t.MessagingStrategy.prototype.update=function(){},t.MessagingStrategy.prototype.GetLauncher=function(){return this._componentMessaging._getLauncher()},t.MessagingStrategy.prototype.GetContentElement=function(){return this._componentMessaging._getContentElement()},t.MessagingStrategy.prototype.GetComponent=function(){return this._componentMessaging._getComponent()},t.MessagingStrategy.prototype.GetMessages=function(){return this.GetValidityState().getMessages()},t.MessagingStrategy.prototype.GetMaxSeverity=function(){return this.GetValidityState().getMaxSeverity()},t.MessagingStrategy.prototype.GetConverterHint=function(){var t=[],e=this._getMessagingContent(),n=e&&e.converterHint;return n&&t.push(n),t},t.MessagingStrategy.prototype.GetValidatorHints=function(){var t=[],n=this._getMessagingContent(),i=n&&n.validatorHint||[];return e.each(i,function(e,n){t.push(n)}),t},t.MessagingStrategy.prototype.GetTitle=function(){var t=this._getMessagingContent();return t&&t.title||""},t.MessagingStrategy.prototype.GetValidityState=function(){var t=this._getMessagingContent();return t&&t.validityState||null},t.MessagingStrategy.prototype.HasMessages=function(){var t=this.GetMessages();return!!(t&&t.length>0)},t.MessagingStrategy.prototype.ShowMessages=function(){return-1!==this._displayOptions.indexOf("messages")},t.MessagingStrategy.prototype.ShowConverterHint=function(){return-1!==this._displayOptions.indexOf("converterHint")},t.MessagingStrategy.prototype.ShowValidatorHint=function(){return-1!==this._displayOptions.indexOf("validatorHint")},t.MessagingStrategy.prototype.ShowTitle=function(){return-1!==this._displayOptions.indexOf("title")},t.MessagingStrategy.prototype.IsInvalid=function(){return this.GetValidityState().isInvalid()},t.MessagingStrategy.prototype._getMessagingContent=function(){return this._componentMessaging?this._componentMessaging._getMessagingContent():{}},t.DefaultMessagingStrategy=function(t){this.Init(t)},t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.NONE,t.DefaultMessagingStrategy),t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID="oj-invalid",t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING="oj-warning",t.Object.createSubclass(t.DefaultMessagingStrategy,t.MessagingStrategy,"oj.DefaultMessagingStrategy"),t.DefaultMessagingStrategy.prototype.update=function(){t.DefaultMessagingStrategy.superclass.update.call(this);var e=this.GetLauncher(),n=this.GetMaxSeverity(),i=[],o=[],s=!1,r=this.GetComponent().widget();e&&(this.IsInvalid()?(i.push(t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING),o.push(t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID),s=!0):this.HasMessages()&&n===t.Message.SEVERITY_LEVEL.WARNING?(i.push(t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID),o.push(t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING)):(i.push(t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID),i.push(t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING)),r.removeClass(i.join(" ")).addClass(o.join(" ")),this.GetContentElement().attr({"aria-invalid":s}))},t.DefaultMessagingStrategy.prototype.deactivate=function(){this.GetComponent().widget().removeClass(t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID).removeClass(t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING),this.GetContentElement().removeAttr("aria-invalid"),t.DefaultMessagingStrategy.superclass.deactivate.call(this)},t.PlaceholderMessagingStrategy=function(t){this.Init(t)},t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER,t.PlaceholderMessagingStrategy),t.Object.createSubclass(t.PlaceholderMessagingStrategy,t.MessagingStrategy,"oj.PlaceholderMessagingStrategy"),t.PlaceholderMessagingStrategy.prototype.Init=function(e){t.PlaceholderMessagingStrategy.superclass.Init.call(this,e)},t.PlaceholderMessagingStrategy.prototype.activate=function(e){t.PlaceholderMessagingStrategy.superclass.activate.call(this,e),this._refreshPlaceholder()},t.PlaceholderMessagingStrategy.prototype.reactivate=function(e){t.PlaceholderMessagingStrategy.superclass.reactivate.call(this,e),this._refreshPlaceholder()},t.PlaceholderMessagingStrategy.prototype.shouldUpdate=function(t){return!(!t||void 0===t.converterHint)},t.PlaceholderMessagingStrategy.prototype.update=function(){t.PlaceholderMessagingStrategy.superclass.update.call(this),this._refreshPlaceholder()},t.PlaceholderMessagingStrategy.prototype._refreshPlaceholder=function(){var t,e,n=this.GetLauncher()
;if(this.ShowPlaceholderContent()&&n){t=(e=this.GetConverterHint()).length?e[0]:"";this.GetComponent().option({placeholder:t},{_context:{internalMessagingSet:!0}})}},t.PlaceholderMessagingStrategy.prototype.ShowPlaceholderContent=function(){return this.ShowConverterHint()},t.ComponentValidity=function(t,e){this.Init(t,e)},t.ComponentValidity.isInvalid=function(e){return t.Message.getMaxSeverity(e)>=t.Message.SEVERITY_LEVEL.ERROR},t.Object.createSubclass(t.ComponentValidity,t.Object,"oj.ComponentValidity"),t.ComponentValidity.prototype.Init=function(e,n){t.ComponentValidity.superclass.Init.call(this),this._initialize(e,n)},t.ComponentValidity.prototype.isInvalid=function(){return this._invalid},t.ComponentValidity.prototype.getMessages=function(){return this._messages},t.ComponentValidity.prototype.getMaxSeverity=function(){return this._maxSeverity},t.ComponentValidity.prototype.update=function(t,e){this._initialize(t,e)},t.ComponentValidity.prototype._initialize=function(e,n){this._compValid=e,this._compMessages=n,this._messages=this._getImmediateMessages(),this._maxSeverity=t.Message.getMaxSeverity(this._messages),this._invalid=t.ComponentValidity.isInvalid(this._messages)},t.ComponentValidity.prototype._getImmediateMessages=function(){for(var e,n=this._compMessages||[],i=[],o=0;o<n.length;o++)(e=n[o])instanceof t.ComponentMessage&&!e.canDisplay()||i.push(e);return i},t.CustomElementBridge={},t.CustomElementBridge.proto=Object.create(t.BaseCustomElementBridge.proto),t.CollectionUtils.copyInto(t.CustomElementBridge.proto,{AddComponentMethods:function(e){e.setProperty=function(e,n){var i=t.BaseCustomElementBridge.getInstance(this);if(!i.SaveEarlyPropertySet(e,n)&&!i._setEventProperty(this,e,n)&&!i._validateAndSetCopyProperty(this,e,n,null)){var o=t.BaseCustomElementBridge.__GetPropertyMetadata(e,t.BaseCustomElementBridge.getProperties(i,this)),s=i.CanSkipTypeCheck(e.split("."));o||s?t.CustomElementBridge._getPropertyAccessor(this,e)(n):this[e]=n}},e.getProperty=function(e){var n=t.BaseCustomElementBridge.getInstance(this),i=t.BaseCustomElementBridge.__GetPropertyMetadata(e,t.BaseCustomElementBridge.getProperties(n,this)),o=n.CanSkipTypeCheck(e.split("."));if(t.__AttributeUtils.eventListenerPropertyToEventType(e)||!i&&!o)return this[e];var s=i?i.extension:null;return s&&s._COPY_TO_INNER_ELEM?n._getCopyProperty(this,e,i):t.CustomElementBridge._getPropertyAccessor(this,e)()},e.focus=function(){var e=t.BaseCustomElementBridge.getInstance(this);if(e._WIDGET_INSTANCE){var n=e._WIDGET_INSTANCE.__getFocusElement();n&&(n!==this?n.focus():HTMLElement.prototype.focus.call(this))}else HTMLElement.prototype.focus.call(this)},e.blur=function(){var e=t.BaseCustomElementBridge.getInstance(this);if(e._WIDGET_INSTANCE){var n=e._WIDGET_INSTANCE.__getFocusElement();n&&(n!==this?n.blur():HTMLElement.prototype.blur.call(this))}else HTMLElement.prototype.focus.call(this)}},BatchedPropertySet:function(e,n){for(var i=Object.keys(n),o={},s=0;s<i.length;s++){var r=i[s],a=n[r];this._setEventProperty(e,r,a)||this._validateAndSetCopyProperty(e,r,a,null)||(a=this.ValidatePropertySet(e,r,a),o[r=this.GetAliasForProperty(r)]=a)}var l=t.Components.__GetWidgetConstructor(this._WIDGET_ELEM);if(l)l("option",o);else for(s=0;s<i.length;s++){var u=i[s];e.setProperty(u,n[u])}},CanSkipTypeCheck:function(t){return t.length>1&&"translations"===t[0]},CreateComponent:function(n){var i=this._INNER_DOM_FUNCTION;if(this._WIDGET_ELEM=t.CustomElementBridge._getWidgetElement(n,i?i(n):this._EXTENSION._INNER_ELEM),this._WIDGET_ELEM!==n){for(var o=this._EXTENSION._GLOBAL_TRANSFER_ATTRS||[],s=0;s<o.length;s++){var r=o[s];n.hasAttribute(r)&&(this._WIDGET_ELEM.setAttribute(r,n.getAttribute(r)),this._removingTransfer=!0,n.removeAttribute(r))}this._copyProperties()}t.Components.unmarkPendingSubtreeHidden(n);var a=e(this._WIDGET_ELEM),l=e(this._WIDGET_ELEM)[this._EXTENSION._WIDGET_NAME].bind(a);l(this._PROPS),this._WIDGET=l,this._WIDGET_INSTANCE=l("instance"),this._WRITEBACK_PROPS&&this._WIDGET_INSTANCE.__saveWritebackOptions(this._WRITEBACK_PROPS),n.hasAttribute("disabled")&&!this._disabledProcessed&&t.CustomElementBridge._removeDisabledAttribute(n);var u=function(t){return function(){var e=document.createEvent("UIEvent");e.initEvent(t,!1,!1),n.dispatchEvent(e)}},c=this._WIDGET_INSTANCE.__getFocusElement();c&&c!==n&&(c.addEventListener("focus",u("focus")),c.addEventListener("blur",u("blur"))),this.__READY_TO_FIRE=!0,this.resolveDelayedReadyPromise()},DefineMethodCallback:function(e,n,i){e[n]=function(){var e=t.BaseCustomElementBridge.getInstance(this),o=i.internalName||n;return e._WIDGET.apply(null,[o].concat([].slice.call(arguments)))}},DefinePropertyCallback:function(e,n,i){var o,s=i.extension;Object.defineProperty(e,n,{enumerable:!0,get:function(){return i._eventListener?o:s&&s._COPY_TO_INNER_ELEM?t.BaseCustomElementBridge.getInstance(this)._getCopyProperty(this,n,i):t.CustomElementBridge._getPropertyAccessor(this,n)()},set:function(e){var s=t.BaseCustomElementBridge.getInstance(this);s.SaveEarlyPropertySet(n,e)||(i._eventListener?(s.SetEventListenerProperty(this,n,e),o=e):s._validateAndSetCopyProperty(this,n,e,i)||t.CustomElementBridge._getPropertyAccessor(this,n)(e))}})},GetAttributes:function(e){var n=t.BaseCustomElementBridge.getAttributes(e.properties);return e.extension._GLOBAL_TRANSFER_ATTRS?n.concat(e.extension._GLOBAL_TRANSFER_ATTRS):n},GetAliasForProperty:function(t){var e=this._EXTENSION._ALIASED_PROPS;return e&&e[t]?e[t]:t},InitializeElement:function(e){t.BaseCustomElementBridge.proto.InitializeElement.call(this,e),this._EXTENSION._CONTROLS_SUBTREE_HIDDEN&&t.Components.markPendingSubtreeHidden(e),t.BaseCustomElementBridge.__InitProperties(e,this._PROPS)},HandleAttributeChanged:function(t,e,n,i){var o=this._EXTENSION._GLOBAL_TRANSFER_ATTRS,s=o&&-1!==o.indexOf(e);!this._removingTransfer&&s&&this._WIDGET_ELEM?(null==i||!1===i?this._WIDGET_ELEM.removeAttribute(e):this._WIDGET_ELEM.setAttribute(e,i),this._removingTransfer=!0,t.removeAttribute(e)):this._removingTransfer&&s&&(this._removingTransfer=!1)},HandleDetached:function(e){t.BaseCustomElementBridge.proto.HandleDetached.call(this,e),t.Components.__GetWidgetConstructor(this._WIDGET_ELEM)&&this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleDisconnected()},HandleReattached:function(e){t.BaseCustomElementBridge.proto.HandleReattached.call(this,e),this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleConnected()},InitializeBridge:function(e){t.BaseCustomElementBridge.proto.InitializeBridge.call(this,e);var n=t.BaseCustomElementBridge.__GetDescriptor(e.tagName);this._INNER_DOM_FUNCTION=n.innerDomFunction,this._EXTENSION=this.METADATA.extension||{},this._PROPS=this._EXTENSION._INNER_ELEM||this._INNER_DOM_FUNCTION?{_wrapper:e}:{},this._setupPropertyAccumulator(e,this._PROPS),this._processProperties(e)},_attributeChangedCallback:function(e,n,i){var o=t.BaseCustomElementBridge.getInstance(this);"disabled"===e&&o._disabledProcessed?null!=i&&(t.Logger.warn("Ignoring 'disabled' attribute change after component initialization. Use element property setter instead."),t.CustomElementBridge._removeDisabledAttribute(this)):t.BaseCustomElementBridge.proto._attributeChangedCallback.call(this,e,n,i)},_copyProperties:function(){if(this._COPY_ATTRS)for(var e=0;e<this._COPY_ATTRS.length;e++){var n=this._COPY_ATTRS[e],i=t.__AttributeUtils.attributeToPropertyName(n);if(this._PROPS.hasOwnProperty(i)){var o=this._PROPS[i];this._setCopyProperty(n,o),delete this._PROPS[i]}}},_getCopyProperty:function(e,n,i){var o=t.__AttributeUtils.propertyNameToAttribute(n);if(i.extension._ATTRIBUTE_ONLY){if(this._WIDGET_ELEM.hasAttribute(o)){var s,r=this._WIDGET_ELEM.getAttribute(o);try{s=t.__AttributeUtils.coerceValue(e,o,r,i.type)}catch(t){this._throwError(e,t)}return s}return null}return this._WIDGET_ELEM[n]},_processProperties:function(e){var n=t.BaseCustomElementBridge.getProperties(this,e);if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var s=i[o],r=n[s];r.writeback&&(this._WRITEBACK_PROPS||(this._WRITEBACK_PROPS={}),this._WRITEBACK_PROPS[s]=!0);var a=r.extension;a&&a._COPY_TO_INNER_ELEM&&(this._COPY_ATTRS||(this._COPY_ATTRS=[]),this._COPY_ATTRS.push(s))}},_setCopyProperty:function(t,e){null==e||!1===e?this._WIDGET_ELEM.removeAttribute(t):!0===e?this._WIDGET_ELEM.setAttribute(t,""):this._WIDGET_ELEM.setAttribute(t,e)},_setupPropertyAccumulator:function(e,n){this._WIDGET=function(i,o,s){if("option"===i)return o||s?(t.BaseCustomElementBridge.__SetProperty(this.GetAliasForProperty.bind(this),n,o,s),n[o]):n;this._throwError(e,"Cannot access methods before element is upgraded.")}},_validateAndSetCopyProperty:function(e,n,i,o){var s=t.__AttributeUtils.propertyNameToAttribute(n),r=this._COPY_ATTRS&&-1!==this._COPY_ATTRS.indexOf(s);if(r)if(i=this.ValidatePropertySet(e,n,i),this._WIDGET_ELEM){o||(o=t.BaseCustomElementBridge.__GetPropertyMetadata(n,t.BaseCustomElementBridge.getProperties(this,e)));var a=this._getCopyProperty(e,n,o);this._setCopyProperty(s,i),t.BaseCustomElementBridge.__FirePropertyChangeEvent(e,n,this._getCopyProperty(e,n,o),a,"external")}else this._PROPS[s]=i;return r},_setEventProperty:function(e,n,i){var o=!1;return t.__AttributeUtils.eventListenerPropertyToEventType(n)&&(e[n]=i,o=!0),o}}),t.CustomElementBridge.getMetadata=function(e){return t.CustomElementBridge._METADATA_MAP[e.toLowerCase()]},t.CustomElementBridge.isKnownEvent=function(e,n){var i=t.BaseCustomElementBridge.getInstance(e);return!!i&&null!=(i.METADATA.events&&i.METADATA.events[n])},t.CustomElementBridge.isKnownProperty=function(e,n){var i=t.BaseCustomElementBridge.getInstance(e);return!!i&&null!=(i.METADATA.properties&&i.METADATA.properties[n])},t.CustomElementBridge.getPropertyForAlias=function(e,n){var i=t.BaseCustomElementBridge.getInstance(e)._EXTENSION._COMPONENT_TO_ELEMENT_ALIASES;return i&&i[n]?i[n]:n},t.CustomElementBridge.register=function(e,n){var i=n[t.BaseCustomElementBridge.DESC_KEY_META].extension,o=i&&i._WIDGET_NAME?t.CustomElementBridge.proto:t.DefinitionalElementBridge.proto,s=i._ALIASED_PROPS;s&&(i._COMPONENT_TO_ELEMENT_ALIASES={},Object.keys(s).forEach(function(t){i._COMPONENT_TO_ELEMENT_ALIASES[s[t]]=t})),t.BaseCustomElementBridge.__Register(e,n,o)&&customElements.define(e.toLowerCase(),o.getClass(n))},t.CustomElementBridge.registerMetadata=function(e,n,i){if(i=t.BaseCustomElementBridge.__ProcessEventListeners(i,!0),n){var o=t.CollectionUtils.copyInto({},t.CustomElementBridge.getMetadata(n),void 0,!0);t.CustomElementBridge._METADATA_MAP[e.toLowerCase()]=t.CollectionUtils.copyInto(o,i,void 0,!0)}else t.CustomElementBridge._METADATA_MAP[e.toLowerCase()]=i},t.CustomElementBridge._getPropertyAccessor=function(e,n){return function(i){var o=t.BaseCustomElementBridge.getInstance(e);if(1!==arguments.length)return n=o.GetAliasForProperty(n),o._WIDGET("option",n);i=o.ValidatePropertySet(e,n,i),n=o.GetAliasForProperty(n),o._WIDGET("option",n,i)}.bind(e)},t.CustomElementBridge._getWidgetElement=function(t,e){var n=t;if(e){var i=t.firstElementChild;if(i&&i.tagName.toLowerCase()===e)n=i;else{n=document.createElement(e);for(var o=[],s=t.childNodes,r=0;r<s.length;r++)o.push(s[r]);for(t.appendChild(n);o.length;){var a=o.shift();a.hasAttribute&&a.hasAttribute("slot")||n.appendChild(a)}}n.setAttribute("data-oj-internal","")}return n},t.CustomElementBridge._removeDisabledAttribute=function(e){t.BaseCustomElementBridge.getInstance(e)._disabledProcessed=!0,e.removeAttribute("disabled")},t.CustomElementBridge._METADATA_MAP={};var A,S,T,D,P,b,N=function(){function t(){}return t.isIteratingDataProvider=function(t){return!!t.fetchFirst},t.isFetchByKeys=function(t){return!!t.fetchByKeys},t.isFetchByOffset=function(t){return!!t.fetchByOffset},t}();t.DataProviderFeatureChecker=N,t.DefinitionalElementBridge={},t.DefinitionalElementBridge.proto=Object.create(t.BaseCustomElementBridge.proto),t.CollectionUtils.copyInto(t.DefinitionalElementBridge.proto,{beforePropertyChangedEvent:function(t,e,n){var i=e,o=n.value;n.subproperty&&(i=n.subproperty.path,o=n.subproperty.value),this._partialRender(t,i,o)},AddComponentMethods:function(e){e.refresh=function(){t.BaseCustomElementBridge.getInstance(this)._fullRender(this)},e.setProperty=function(e,n){var i=t.BaseCustomElementBridge.getInstance(this);i.SaveEarlyPropertySet(e,n)||i.SetProperty(this,e,n,this,!0)},e.getProperty=function(e){return t.BaseCustomElementBridge.getInstance(this).GetProperty(this,e,this)},e._propsProto.setProperty=function(t,e){this._BRIDGE.SetProperty(this._ELEMENT,t,e,this,!1)},e._propsProto.getProperty=function(t){return this._BRIDGE.GetProperty(this,t,this)}},CreateComponent:function(e){t.Components.unmarkPendingSubtreeHidden(e),!this._INSTANCE&&this._EXTENSION._CONSTRUCTOR&&(this._CONTEXT={element:e,props:this._PROPS_PROXY,unique:t.BaseCustomElementBridge.__GetUnique()},this._CONTEXT.uniqueId=e.id?e.id:this._CONTEXT.unique,this._INSTANCE=new this._EXTENSION._CONSTRUCTOR(this._CONTEXT),this._INSTANCE.createDOM&&this._INSTANCE.createDOM(),this._INSTANCE.updateDOM&&this._INSTANCE.updateDOM()),this.__READY_TO_FIRE=!0,this.resolveDelayedReadyPromise()},DefineMethodCallback:function(e,n,i){e[n]=function(){var e=t.BaseCustomElementBridge.getInstance(this);if(e._INSTANCE){var o=i.internalName||n;return e._INSTANCE[o].apply(e._INSTANCE,arguments)}}},DefinePropertyCallback:function(e,n,i){var o=function(e,o){if(!this._BRIDGE.SaveEarlyPropertySet(n,e)){var s=this._BRIDGE._PROPS[n];t.BaseCustomElementBridge.__CompareOptionValues(n,i,e,s)||(o&&(e=this._BRIDGE.ValidatePropertySet(this._ELEMENT,n,e)),i._eventListener?(this._BRIDGE.SetEventListenerProperty(this._ELEMENT,n,e),this._BRIDGE._PROPS[n]=e):(this._BRIDGE._PROPS[n]=e,t.BaseCustomElementBridge.__FirePropertyChangeEvent(this._ELEMENT,n,e,s,o?"external":"internal")))}},s=function(){var e=this._BRIDGE._PROPS[n];return void 0===e&&(e=i.value,Array.isArray(e)?e=e.slice():"object"==typeof e&&(e=t.CollectionUtils.copyInto({},e,void 0,!0)),this._BRIDGE._PROPS[n]=e),e};i._derived||t.BaseCustomElementBridge.__DefineDynamicObjectProperty(e._propsProto,n,function(){return s.bind(this)()},function(t){o.bind(this)(t,!1)}),t.BaseCustomElementBridge.__DefineDynamicObjectProperty(e,n,function(){var e=t.BaseCustomElementBridge.getInstance(this);return s.bind(e._PROPS_PROXY)()},function(e){var n=t.BaseCustomElementBridge.getInstance(this);o.bind(n._PROPS_PROXY)(e,!0)})},InitializeElement:function(e){t.BaseCustomElementBridge.proto.InitializeElement.call(this,e),this._EXTENSION._CONTROLS_SUBTREE_HIDDEN&&t.Components.markPendingSubtreeHidden(e),t.BaseCustomElementBridge.__InitProperties(e,this._PROPS_PROXY)},InitializePrototype:function(e){t.BaseCustomElementBridge.proto.InitializePrototype.call(this,e),Object.defineProperty(e,"_propsProto",{value:{}})},InitializeBridge:function(e){t.BaseCustomElementBridge.proto.InitializeBridge.call(this,e),this._EXTENSION=this.METADATA.extension||{},this._PROPS={},e._propsProto&&(this._PROPS_PROXY=Object.create(e._propsProto),this._PROPS_PROXY._BRIDGE=this,this._PROPS_PROXY._ELEMENT=e)},_fullRender:function(t){this._INSTANCE&&this._INSTANCE.updateDOM&&this._INSTANCE.updateDOM()},_partialRender:function(t,e,n){if(this._INSTANCE){var i=this._INSTANCE.handlePropertyChanged;(!i||!i(e,n))&&this._INSTANCE.updateDOM&&this._INSTANCE.updateDOM()}}}),t.DomUtils={},t.DomUtils._HTML_START_TAG="<html>",t.DomUtils._HTML_END_TAG="</html>",t.DomUtils._LEGAL_ELEMENTS={SPAN:1,B:1,I:1,EM:1,BR:1,HR:1,LI:1,OL:1,UL:1,P:1,TT:1,BIG:1,SMALL:1,PRE:1},t.DomUtils._LEGAL_ATTRIBUTES={class:1,style:1},t.DomUtils.isHTMLContent=function(e){return 0===e.indexOf(t.DomUtils._HTML_START_TAG)&&e.lastIndexOf(t.DomUtils._HTML_END_TAG)===e.length-7},t.DomUtils.cleanHtml=function(n){var i=e(document.createElement("span")).get(0);return i.innerHTML=n,n&&n.indexOf("<")>=0&&t.DomUtils._cleanElementHtml(i),i},t.DomUtils._cleanElementHtml=function(n){for(var i,o,s,r,a=n.childNodes,l=a.length-1;l>=0;){if((i=a.item(l))&&1===i.nodeType)if(t.DomUtils._LEGAL_ELEMENTS[i.nodeName]){for(r=(o=i.attributes).length-1;r>=0;r--)s=o[r],void 0!==e(i).attr(s.name)&&(t.DomUtils._LEGAL_ATTRIBUTES[s.name]||i.removeAttribute(s.nodeName));t.DomUtils._cleanElementHtml(i)}else i&&n.removeChild(i);l--}},t.DomUtils.isAncestor=function(t,e){for(var n=e.parentNode;n;){if(n==t)return!0;n=n.parentNode}return!1},t.DomUtils.isAncestorOrSelf=function(e,n){return n==e||t.DomUtils.isAncestor(e,n)},t.DomUtils.addResizeListener=function(n,i,o){var s=e(n),r=s.data(t.DomUtils._RESIZE_TRACKER_KEY);null==r&&(r=new t.DomUtils._ResizeTracker(n),s.data(t.DomUtils._RESIZE_TRACKER_KEY,r),r.start()),r.addListener(i,o)},t.DomUtils.removeResizeListener=function(n,i){var o=e(n),s=o.data(t.DomUtils._RESIZE_TRACKER_KEY);null!=s&&(s.removeListener(i),s.isEmpty()&&(s.stop(),o.removeData(t.DomUtils._RESIZE_TRACKER_KEY)))},t.DomUtils.fixResizeListeners=function(n){e(n).find(".oj-helper-detect-expansion").parent().each(function(n,i){var o=e(i).data(t.DomUtils._RESIZE_TRACKER_KEY);null!=o&&o.init(!0)})},t.DomUtils.isMetaKeyPressed=function(e){var n=t.AgentUtils.getAgentInfo();return t.AgentUtils.OS.MAC===n.os?e.metaKey:e.ctrlKey},t.DomUtils.dispatchEvent=function(t,e){var n="disabled",i=t[n];try{t[n]=!1,t.dispatchEvent(e)}finally{t[n]=i}},t.DomUtils._invokeAfterPaint=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,0)}).bind(window),t.DomUtils._cancelInvokeAfterPaint=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(t){return window.clearTimeout(t)}).bind(window),t.DomUtils._ResizeTracker=function(n){var i=e.Callbacks(),o=[],s=[],r=2,a=0,l=null,u=null,c=null,g=null,h=null,p=null,d=null;function _(t){var e=!1;if(null!=g.offsetParent){var n=g.offsetWidth,i=g.offsetHeight;u===n&&c===i||(a=r,f(n,i),e=!0,t&&m(!0))}return e}function m(e){var s=n.offsetWidth,r=n.offsetHeight;i.has()&&(e?(null!==l&&t.DomUtils._cancelInvokeAfterPaint(l),l=t.DomUtils._invokeAfterPaint(function(){l=null,i.fire(s,r)})):i.fire(s,r));for(var a=0;a<o.length;a++)o[a].getCallback()(s,r)}function f(t,e){u=t,c=e;var n=g.firstChild.style,i=1;do{n.width=t+i+"px",n.height=e+i+"px",g.scrollLeft=g.scrollTop=i,i++}while((0==g.scrollTop||0==g.scrollLeft)&&i<=5);h.scrollLeft=t,h.scrollTop=e}this.addListener=function(e,n){void 0===n||0===n?i.add(e):(o.push(new t.DomUtils._collapsingListenerManager(e,n)),s.push(e))},this.removeListener=function(t){var e=s.indexOf(t);e>=0?(s.splice(e,1),o.splice(e,1)[0].stop()):i.remove(t)},this.isEmpty=function(){return!i.has()&&0==s.length},this.start=function(){if(d=function(t){t.stopPropagation(),_(!0)||a>0&&null!=g.offsetParent&&(0==g.scrollLeft||0==g.scrollTop)&&(a--,f(u,c))}.bind(this),n.attachEvent)p=function(){m(!1)}.bind(this),n.attachEvent("onresize",p);else{var t=n.childNodes[0];(g=document.createElement("div")).className="oj-helper-detect-expansion";var e=document.createElement("div");g.appendChild(e),null!=t?n.insertBefore(g,t):n.appendChild(g),g.addEventListener("scroll",d,!1),(h=document.createElement("div")).className="oj-helper-detect-contraction";var i=document.createElement("div");i.style.width="200%",i.style.height="200%",h.appendChild(i),n.insertBefore(h,g),h.addEventListener("scroll",d,!1),this.init(!1)}},this.stop=function(){null!=l&&(t.DomUtils._cancelInvokeAfterPaint(l),l=null),null!=g?(g.removeEventListener("scroll",d),h.removeEventListener("scroll",d),g.parentNode&&n.removeChild(g),h.parentNode&&n.removeChild(h)):n.detachEvent("onresize",p)},this.init=function(t){var e=_(t);t&&!e&&null!=g.offsetParent&&f(u,c)}},t.DomUtils._RESIZE_TRACKER_KEY="_ojResizeTracker",t.DomUtils.isValidIdentifier=function(t){return/^[A-Za-z][0-9A-Z_a-z-]*$/.test(t)},t.DomUtils._collapsingListenerManager=function(t,e){var n=null,i=null,o=function(){t.apply(null,n),i=null},s=function(){n=Array.prototype.slice.call(arguments),null==i&&(i=window.setTimeout(o,e))};this.getCallback=function(){return s},this.stop=function(){null!=i&&(window.clearTimeout(i),i=null)}},t.DomUtils.isTouchSupported=function(){return"ontouchstart"in window||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints>0},t.DomUtils.setInKoCleanExternal=function(e){t.DomUtils._koCleanNode=e},t.DomUtils.unwrap=function(e,n){var i=t.DomUtils._koCleanNode;i&&e.get(0)===i||(n?n.replaceWith(e):e.unwrap())},t.DomUtils.isChromeEvent=function(n){function i(n){var i=n.target,o=e(i),s=i.getBoundingClientRect(),r=t.DomUtils.getScrollBarWidth(),a="ltr"===t.DomUtils.getReadingDirection();return!(!a||"HTML"!==i.nodeName&&"visible"===o.css("overflow-x")||!(n.clientX>s.right-r))||!a&&"HTML"===i.nodeName&&n.clientX>s.left-r||!a&&"visible"!==o.css("overflow-x")&&n.clientX<s.left+r||("HTML"===i.nodeName||"visible"!==o.css("overflow-y"))&&n.clientY>s.bottom-r}if(!("clientX"in n&&"clientY"in n))return!1;var o=t.AgentUtils.getAgentInfo();return t.AgentUtils.OS.ANDROID!==o.os&&t.AgentUtils.OS.IOS!==o.os&&(t.AgentUtils.ENGINE.GECKO===o.engine?function(t){try{return!t.originalTarget.localName}catch(t){return!0}}(n):t.AgentUtils.ENGINE.WEBKIT===o.engine||t.AgentUtils.ENGINE.BLINK===o.engine?i(n):t.AgentUtils.BROWSER.IE===o.browser&&i(n))},t.DomUtils.getScrollBarWidth=function(){var n=t.DomUtils._scrollBarWidth;if(e.isNumeric(n))return n;var i=e("<div />");e(document.body).append(i),i.width(50).height(50).css({overflow:"scroll",visibility:"hidden",position:"absolute"});var o=e("<div />");o.height(1),i.append(o);var s=o.width(),r=i.width();return i.remove(),t.DomUtils._scrollBarWidth=r-s},t.DomUtils.getReadingDirection=function(){var t=document.documentElement.getAttribute("dir");return t&&(t=t.toLowerCase()),"rtl"===t?"rtl":"ltr"},t.DomUtils.getScrollLeft=function(e){if("rtl"===t.DomUtils.getReadingDirection()){var n=t.AgentUtils.getAgentInfo().browser;return n===t.AgentUtils.BROWSER.FIREFOX||n===t.AgentUtils.BROWSER.IE||n===t.AgentUtils.BROWSER.EDGE?Math.abs(e.scrollLeft):Math.max(0,e.scrollWidth-e.clientWidth-e.scrollLeft)}return e.scrollLeft},t.DomUtils.setScrollLeft=function(e,n){if("rtl"===t.DomUtils.getReadingDirection()){var i=t.AgentUtils.getAgentInfo().browser;i===t.AgentUtils.BROWSER.FIREFOX?e.scrollLeft=-n:i===t.AgentUtils.BROWSER.IE||i===t.AgentUtils.BROWSER.EDGE?e.scrollLeft=n:e.scrollLeft=Math.max(0,e.scrollWidth-e.clientWidth-n)}else e.scrollLeft=n},t.DomUtils.getCSSLengthAsInt=function(t){if(!isNaN(t))return parseInt(t,10);if(t&&t.length>0&&"auto"!=t){var e=parseInt(t,10);return isNaN(e)&&(e=0),e}return 0},t.DomUtils.getCSSLengthAsFloat=function(t){if(!isNaN(t))return parseFloat(t);if(t&&t.length>0){var e=parseFloat(t);return isNaN(e)&&(e=0),e}return 0},t.DomUtils._LOGICAL_PARENT_DATA="oj-logical-parent",t.DomUtils.getLogicalParent=function(e){if(e)return e.data(t.DomUtils._LOGICAL_PARENT_DATA)},t.DomUtils.setLogicalParent=function(e,n){e&&(null===n?e.removeData(t.DomUtils._LOGICAL_PARENT_DATA):e.data(t.DomUtils._LOGICAL_PARENT_DATA,n))},t.DomUtils.isLogicalAncestorOrSelf=function(n,i){t.Assert.assertDomElement(n),t.Assert.assertDomElement(i);for(var o=i;o;){if(o==n)return!0;var s=t.DomUtils.getLogicalParent(e(o));o=s?s[0]:o.parentNode}return!1},t.DomUtils.validateURL=function(t,e){var n=e||["http:","https:"],i=document.createElement("a");i.href=t;var o=i.protocol;if(null!=o&&(o=o.toLowerCase()),n.indexOf(o)<0)throw o+" is not a valid URL protocol"},t.DomUtils._supressNativeContextMenu=function(){e(document.body).hasClass("oj-hybrid")&&document.body.addEventListener("contextmenu",function(t){t.preventDefault()},!0)},t.DomUtils._supressNativeContextMenu(),t.DomUtils.PRESS_HOLD_THRESHOLD=750,t.DomUtils.recentTouchEnd=function(){var t=0;function e(){t=Date.now()}return document.addEventListener("touchend",e,!0),document.addEventListener("touchcancel",e,!0),function(){return Date.now()-t<500}}(),t.DomUtils.recentTouchStart=function(){var e=0,n=t.DomUtils.PRESS_HOLD_THRESHOLD+50;return document.addEventListener("touchstart",function(){e=Date.now()},!0),function(){return Date.now()-e<n}}(),t.DomUtils.recentPointer=(S=0,T=t.DomUtils.PRESS_HOLD_THRESHOLD+600,document.addEventListener("mousedown",function(){var e=Date.now();(!A||e>S+t.DomUtils.PRESS_HOLD_THRESHOLD)&&(S=e,A=!1)},!0),document.addEventListener("touchstart",function(){S=Date.now(),A=!0},!0),document.addEventListener("mouseup",function(){S=Date.now(),A=!1},!0),document.addEventListener("touchend",function(){S=Date.now(),A=!1},!0),function(){return Date.now()-S<(A?T:600)}),t.DomUtils.makeFocusable=(D=0,P=(t.ThemeUtils.parseJSONFromFontFamily("oj-focus-config")||{}).focusHighlightPolicy,function(n){var i=n.element,o="ojFocusable";if(n.remove){i.removeClass("oj-focus oj-focus-highlight");var s=i.data(o);if(null==s)return;var r=".ojFocusable"+(""+s).split(",").join(" .ojFocusable");i.off(r).removeData(o)}else{var a=n.afterToggle||e.noop,l=n.applyHighlight?function(e){e.addClass("oj-focus"),function(e,n){switch(e?e():P){case"all":return!0;case"none":return!1;default:return!(t.DomUtils.recentPointer()||n&&n())}}(n.getFocusHighlightPolicy,n.recentPointer)&&e.addClass("oj-focus-highlight"),a("focusin")}:function(t){t.addClass("oj-focus"),a("focusin")};(n.setupHandlers||function(t,s){var r=n.component,a=function(n){t(e(n.currentTarget))},l=function(t){s(e(t.currentTarget))};if(r)r._on(i,{focusin:a,focusout:l});else{var u=D++,c=i.data(o);i.data(o,null==c?u:c+","+u);var g={},h=".ojFocusable"+u;g["focusin"+h]=a,g["focusout"+h]=l,i.on(g)}})(l,function(t){t.removeClass("oj-focus oj-focus-highlight"),a("focusout")})}}),t.FocusUtils={},t.FocusUtils._TABBABLE=":tabbable",t.FocusUtils.containsFocus=function(e){var n=document.activeElement;return!(!e||!n)&&t.DomUtils.isAncestorOrSelf(e,n)},t.FocusUtils.focusElement=function(t){t.focus()},t.FocusUtils.focusFirstTabStop=function(e){var n=t.FocusUtils.getFirstTabStop(e);return n&&t.FocusUtils.focusElement(n),n},t.FocusUtils.getFirstTabStop=function(n){var i=e(n);if(i.is(t.FocusUtils._TABBABLE))return n;var o=i.find(t.FocusUtils._TABBABLE);return o&&o.length>0?o[0]:null},t.FocusUtils.isFocusable=function(n){return!(!e(n).is(":focusable")||"A"===n.nodeName&&!n.hasAttribute("tabindex")&&t.AgentUtils.getAgentInfo().browser===t.AgentUtils.BROWSER.SAFARI)},t.GestureUtils={},t.GestureUtils._EVENT_NAMESPACE=".contextMenu",t.GestureUtils.stopDetectContextMenuGesture=function(n){e(n).off(t.GestureUtils._EVENT_NAMESPACE).removeClass("oj-menu-context-menu-launcher")[0].removeEventListener("click",n._clickListener,!0),clearTimeout(n._contextMenuPressHoldTimer)},t.GestureUtils.startDetectContextMenuGesture=function(n,i){var o,s,r,a,l=t.DomUtils.PRESS_HOLD_THRESHOLD,u=!1,c=!1,g=null,h=t.GestureUtils._EVENT_NAMESPACE,p=!1,d=function(t,o,s){if((u=s)&&e(n).one("touchend"+h,function(t){p=!0,setTimeout(function(){p=!1},50)}),"touchstart"===g&&"contextmenu"===t.type||"contextmenu"===g&&"touchstart"===t.type)return g=null,void clearTimeout(a);t.isDefaultPrevented()||t.originalEvent&&t.originalEvent.defaultPrevented||(i(t,o),t.isDefaultPrevented()&&("touchstart"!==t.type&&"contextmenu"!==t.type||(g=t.type,a=setTimeout(function(){g=null},300))))},_=function(t){u&&(t.preventDefault(),t.stopPropagation(),u=!1)};n._clickListener=_,n.addEventListener("click",_,!0),e(n).on("touchstart"+h+" mousedown"+h+" keydown"+h+" ",function(t){if("mousedown"!==t.type||!p){if(u=!1,"touchstart"===t.type&&1===t.originalEvent.touches.length){var e=t.originalEvent.touches[0];s=e.pageX,r=e.pageY,c=!0,o=setTimeout(d.bind(void 0,t,"touch",!0),l),n._contextMenuPressHoldTimer=o}return!0}}).on("touchmove"+h,function(t){var e=t.originalEvent.touches[0];return(Math.abs(s-e.pageX)>5||Math.abs(r-e.pageY)>5)&&(c=!1,clearTimeout(o)),!0}).on("touchend"+h+" touchcancel"+h,function(t){return c=!1,clearTimeout(o),!0}).on("keydown"+h+" contextmenu"+h,function(t){if("contextmenu"===t.type||121==t.which&&t.shiftKey){var e=c?"touch":"keydown"===t.type?"keyboard":"mouse";d(t,e,!1)}return!0}),t.DomUtils.isTouchSupported()&&e(n).addClass("oj-menu-context-menu-launcher")},e(document).ready(function(){var t,n;(n=e("<div style='border: 1px solid;border-color:red green;position: absolute;top: -999px;background-image: url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=);'></div>")).appendTo("body"),t=n.css("backgroundImage"),n.css("borderTopColor")!=n.css("borderRightColor")&&(null==t||"none"!=t&&"url (invalid-url:)"!=t)||e("body").addClass("oj-hicontrast"),n.remove()}),t.Test={},t.Test.ready=!1,t.Test.domNodeForLocator=function(n){var i=n;if(t.StringUtils.isString(n)){var o=n;try{i=JSON.parse(o)}catch(t){return null}}if(i&&i.element){var s=e(i.element);if(s){delete i.element;var r=i;return t.Components.getNodeBySubId(s[0],r)}}return null},t.Test.getOpenPopupCount=function(){return t.ZOrderUtils.getOpenPopupCount()},t.Test.findOpenPopups=function(){return t.ZOrderUtils.findOpenPopups()},t.Test.compareStackingContexts=function(e,n){return t.ZOrderUtils.compareStackingContexts(e,n)},e.cleanData=(b=e.cleanData,function(e){var n,i,o=[];for(n=0;null!=(i=e[n]);n++){var s=!1,r=t.Components.__GetWidgetConstructor(i);if(r&&!(s=r("instance")._IsCustomElement())){var a=t.Components.getComponentElementByNode(i);s=a&&t.BaseCustomElementBridge.getRegistered(a.tagName)}s||o.push(i)}o.length>0&&b(o)}),t.CustomElementBridge.registerMetadata("baseComponent",null,{properties:{translations:{type:"Object"}},methods:{getNodeBySubId:{},getSubIdByNode:{},refresh:{}},extension:{_WIDGET_NAME:"baseComponent"}})});
define('ojs/ojoption',["ojs/ojcore","jquery","ojs/ojcomponentcore"],function(e,t){var n;n={properties:{disabled:{type:"boolean",value:!1},value:{type:"any",value:null},customOptionRenderer:{}},events:{action:{}},extension:{_CONSTRUCTOR:function(n){function o(n){var o=e.BaseCustomElementBridge.getSlotMap(n),i=["startIcon","","endIcon"];t.each(o,function(e,o){-1==i.indexOf(e)&&function(e,n){t.each(n,function(t,n){e.removeChild(n)})}(n,o)}),t.each(i,function(e,i){o[i]&&function(e,n){t.each(n,function(t,n){e.appendChild(n)})}(n,o[i])})}this.updateDOM=function(){var e=n.element.customOptionRenderer;o(n.element),e&&"function"==typeof e&&e(n.element)}}}},e.CustomElementBridge.registerMetadata("oj-option",null,n),e.CustomElementBridge.register("oj-option",{metadata:e.CustomElementBridge.getMetadata("oj-option")})});
define('ojs/ojbutton',["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojoption"],function(t,e){!function(){var n,o;t.__registerWidget("oj.ojButton",e.oj.baseComponent,{defaultElement:"<button>",widgetEventPrefix:"oj",options:{chroming:"full",disabled:!1,display:"all",label:null,icons:{start:null,end:null},menu:null,action:null},_InitOptions:function(t,e){this._super(t,e),this._IsCustomElement()&&this._processSlots(),this._initButtonTypes(),"disabled"in e||this.option("disabled",!!this.element.prop("disabled"),{_context:{internalSet:!0}}),"label"in e||(this.keepDomLabel=!0,this.option("label","inputPush"===this.type?this.buttonElement.val():this.buttonElement.html(),{_context:{internalSet:!0}})),this._IsCustomElement()||!this.options.menu||e.icons&&void 0!==e.icons.end||this.option("icons.end","oj-component-icon oj-button-menu-dropdown-icon",{_context:{writeback:!0,internalSet:!0}})},_ComponentCreate:function(){this._super(),this.menuEventNamespace=this.eventNamespace+"menu",this._initButtonTypes2(),this.hasTitle=!!this.rootElement.attr("title");var i=this,a=(this.options,this._isToggle),l=a?"":"oj-active";this.rootElement.addClass(s),u(this.rootElement,this.options.chroming);var r=function(){i.rootElement.removeClass(l),i.rootElement.removeClass("oj-hover"),i._toggleDefaultClasses()};if(this.buttonElement.bind("touchstart"+this.eventNamespace,function(){i._IsEffectivelyDisabled()||(i.rootElement.addClass(l),i._toggleDefaultClasses(),i.document.one("touchend",r))}).bind("touchend"+this.eventNamespace+" touchcancel"+this.eventNamespace,r).bind("mouseenter"+this.eventNamespace,function(){i._IsEffectivelyDisabled()||t.DomUtils.recentTouchEnd()||(this===n&&i.rootElement.addClass("oj-active"),i.rootElement.addClass("oj-hover").removeClass("oj-default oj-focus-only"))}).bind("mouseleave"+this.eventNamespace,function(){i.rootElement.removeClass("oj-hover"),i._IsEffectivelyDisabled()||(i.rootElement.removeClass(l),i._toggleDefaultClasses())}),this._disabledClickHandler=function(t){i._IsEffectivelyDisabled()&&(t.preventDefault(),t.stopImmediatePropagation())},this._ojActionClickHandler=function(t){i._trigger("action",t,{})},this._IsCustomElement()?(this.rootElement[0].addEventListener("click",this._disabledClickHandler,!0),this.rootElement[0].addEventListener("click",this._ojActionClickHandler,!1)):this.buttonElement[0].addEventListener("click",this._disabledClickHandler,!0),this._focusable({element:this.rootElement,applyHighlight:!0,afterToggle:function(){i._toggleDefaultClasses()}}),a&&(this.element.bind("change"+this.eventNamespace,function(t){i._applyCheckedStateFromDom(!0);var e=i._getEnclosingContainerComponent("buttonset"),n=e&&e._getCheckedFromDom(e.$buttons);e&&void 0!==n&&e.option("checked",n,{_context:{writeback:!0,originalEvent:t,internalSet:!0}})}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){i._IsEffectivelyDisabled()||(o=this,i.document.one("mouseup",function(){o=null}))}).bind("mouseup"+this.eventNamespace,function(t){i._IsEffectivelyDisabled()||this===o&&i.element.focus()})),"checkbox"===this.type)this.buttonElement.bind("click"+this.eventNamespace,function(t){if(i._IsEffectivelyDisabled())return!1}),this.element.bind("keyup"+this.eventNamespace,function(t){t.keyCode===e.ui.keyCode.ENTER&&(i._IsEffectivelyDisabled()||i.element.click())});else if("radio"===this.type)this.buttonElement.bind("click"+this.eventNamespace,function(){if(i._IsEffectivelyDisabled())return!1}),this.element.bind("keyup"+this.eventNamespace,function(t){t.keyCode===e.ui.keyCode.ENTER&&(i.element[0].checked||i._IsEffectivelyDisabled()||(i.element[0].checked=!0,i.element.change(),i.element.click()))});else if(this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){if(i._IsEffectivelyDisabled())return!1;1!==e.which||t.DomUtils.recentTouchEnd()||(i.rootElement.addClass("oj-active").removeClass("oj-default oj-focus-only"),n=this,i.document.one("mouseup",function(){n=null}))}).bind("mouseup"+this.eventNamespace,function(){if(i._IsEffectivelyDisabled())return!1;i.rootElement.removeClass("oj-active"),i._toggleDefaultClasses()}).bind("keydown"+this.eventNamespace,function(t){if(i._IsEffectivelyDisabled())return t.keyCode===e.ui.keyCode.TAB||t.keyCode===e.ui.keyCode.LEFT||t.keyCode===e.ui.keyCode.RIGHT;var n=t.keyCode===e.ui.keyCode.SPACE,o="anchor"===i.type;o&&n&&t.preventDefault(),(n&&!o||t.keyCode===e.ui.keyCode.ENTER)&&i.rootElement.addClass("oj-active").removeClass("oj-default oj-focus-only")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){i.rootElement.removeClass("oj-active"),i._toggleDefaultClasses()}),"anchor"===this.type){var h=this.buttonElement.attr("tabindex");(null===h||isNaN(h))&&this.buttonElement.attr("tabindex","0")}this.options.disabled&&this._manageAnchorTabIndex(!1,!0),this._updateEffectivelyDisabled();var c=i._getEnclosingContainerComponent("buttonset");this._IsCustomElement()||c&&c._IsCustomElement()?this._setDisplayOptionOnDom():this._handleLabelAndIconsAtCreateTime(),this._setupMenuButton(null),this._toggleDefaultClasses()},_NotifyContextMenuGesture:function(t,e,n){this._OpenContextMenu(e,n,{position:{of:"keyboard"===n?this.rootElement:e}})},_processSlots:function(){var n=this,o=this.element[0],s=o.parentNode,i="OJ-MENU-BUTTON"===s.tagName,a=t.BaseCustomElementBridge.getSlotMap(s);if(i)var l=["startIcon","","endIcon","menu"];else l=["startIcon","","endIcon"];e.each(l,function(t,n){a[n]&&""!=n&&e.each(a[n],function(t,e){o.appendChild(e)})}),e(s).children().not(o).not("[slot='contextMenu']").remove();var r=t.BaseCustomElementBridge.getSlotMap(o);e.each(l,function(t,s){r[s]&&e.each(r[s],function(t,i){if(o.appendChild(i),""===s){var a=i,l=a;3===a.nodeType&&(l=document.createElement("span"),e(a).replaceWith(l),l.appendChild(a)),e(l).addClass("oj-button-text"),n._setTextSpanIdAndLabelledBy(e(l))}else if("startIcon"===s)e(i).addClass("oj-button-icon"),e(i).addClass("oj-start");else if("endIcon"===s)e(i).addClass("oj-button-icon"),e(i).addClass("oj-end");else if("menu"===s&&(e(i).uniqueId(),n.menuSlot="#"+i.id,void 0===r.endIcon)){var u=document.createElement("span");u.className="oj-button-icon oj-end oj-component-icon oj-button-menu-dropdown-icon",u.slot="endIcon",o.insertBefore(u,i)}})});var u=e("<div>");u.addClass("oj-button-label"),e(o).children().wrapAll(u)},_getMenuNode:function(){return this._IsCustomElement()?this.menuSlot:this.options.menu},_initButtonTypes:function(){if(this.element.is("input[type=checkbox]"))this.type="checkbox",this._isToggle=!0;else if(this.element.is("input[type=radio]"))this.type="radio",this._isToggle=!0;else if(this.element.is("input[type=button],input[type=submit],input[type=reset]"))this.type="inputPush";else if(this.element.is("button"))this.type="button";else{if(!this.element.is("a"))throw new Error("JET Button not supported on this element type");this.type="anchor"}if(this._isToggle){var t="label[for='"+this.element.attr("id")+"']";this.buttonElement=this.element.siblings().filter(t)}else this.buttonElement=this.element},_initButtonTypes2:function(){this._isToggle?(this.buttonElement.addClass("oj-button-label"),this.element.addClass("oj-button-input oj-helper-hidden-accessible").attr("data-oj-internal","").add(this.buttonElement).wrapAll("<span></span>"),this.rootElement=this.element.parent(),this.rootElement.addClass("oj-button-jqui oj-button-toggle"),this.element[0].checked&&this.rootElement.addClass("oj-selected").removeClass("oj-default oj-focus-only")):this._IsCustomElement()?(this.rootElement=this.element.parent(),this.element.addClass("oj-button-button")):(this.rootElement=this.element,this.element.addClass("oj-button-jqui"))},widget:function(){return this.rootElement},_destroy:function(){this._removeMenuBehavior(this._getMenuNode()),this.buttonElement[0].removeEventListener("click",this._disabledClickHandler,!0),this.buttonElement[0].removeEventListener("click",this._ojActionClickHandler,!1),this.element.removeClass("oj-helper-hidden-accessible").removeAttr("aria-labelledby").removeUniqueId(),this.options.disabled&&this._manageAnchorTabIndex(!0,!1);var e=this._isToggle;e||this.rootElement.removeClass(s+" oj-button-jqui "+i+" "+a+" "+l),this.buttonElement.html(this.buttonElement.find(".oj-button-text").html()),e?(this.buttonElement.removeClass("oj-button-label"),t.DomUtils.unwrap(this.element)):this.hasTitle||this.rootElement.removeAttr("title"),o===this.buttonElement[0]&&(o=null)},_NotifyDetached:function(){this._super(),this._toggleDefaultClasses()},__setAncestorComponentDisabled:function(t){this._super(t),this._updateEffectivelyDisabled()},_updateEffectivelyDisabled:function(){var t=this._IsEffectivelyDisabled();this.rootElement.toggleClass("oj-disabled",t),this.rootElement.toggleClass("oj-enabled",!t),"anchor"!==this.type?(this.element.prop("disabled",t),this.rootElement.removeAttr("aria-disabled")):(this.element.attr("aria-disabled",t),this._IsCustomElement()&&this.rootElement.removeAttr("aria-disabled")),t?(this.widget().removeClass("oj-active oj-default oj-focus-only oj-hover oj-focus oj-focus-highlight"),n=null,this._dismissMenu(this._getMenuNode())):this._toggleDefaultClasses()},_setOption:function(t,e,n){var o=this.options[t];switch(this._super(t,e,n),t){case"chroming":u(this.rootElement,e);break;case"disabled":this._manageAnchorTabIndex(o,e),this._updateEffectivelyDisabled();break;case"label":this._setLabelOption();break;case"display":"inputPush"!==this.type&&this._setDisplayOptionOnDom();break;case"icons":this._setIconsOption(!0);break;case"menu":this._setupMenuButton(o)}},refresh:function(){this._super(),this._ancestorDisabled&&!this._getEnclosingContainerElement("buttonset").length&&this.__setAncestorComponentDisabled(!1),u(this.rootElement,this.options.chroming)},_applyCheckedStateFromDom:function(t){"radio"===this.type?(t?h(this.element[0]):this.element).each(function(){var t=e(this).data("oj-ojButton");this.checked?t.rootElement.addClass("oj-selected").removeClass("oj-default oj-focus-only"):(t.rootElement.removeClass("oj-selected"),t._toggleDefaultClasses())}):"checkbox"===this.type&&(this.element[0].checked?this.rootElement.addClass("oj-selected").removeClass("oj-default oj-focus-only"):(this.rootElement.removeClass("oj-selected"),this._toggleDefaultClasses()))},_handleLabelAndIconsAtCreateTime:function(){if("inputPush"===this.type)this._setLabelOnDomOfSpanlessButton();else{var t=this._setLabelOnDomAtCreateTime(),e=this._setIconOnDom(!0),n=this._setIconOnDom(!1);this._setDisplayOptionOnDom(t,e,n)}},_setLabelOnDomAtCreateTime:function(){var t=this.buttonElement,n=e("<span class='oj-button-text'></span>",this.document[0]);if(this.keepDomLabel?n.append(t.contents()):(t.empty(),n.text(this.options.label)),"button"===this.type){var o=e("<div></div>").addClass("oj-button-label");o.append(n),this.element.append(o)}else t.append(n);return"button"!==this.type&&"anchor"!==this.type||this.element[0].hasAttribute("aria-label")||this.element[0].hasAttribute("aria-labelledby")||this._setTextSpanIdAndLabelledBy(n),n},_setTextSpanIdAndLabelledBy:function(t){t.uniqueId(),this.element.attr("aria-labelledby",t.attr("id"))},_setLabelOption:function(){if("inputPush"===this.type)this._setLabelOnDomOfSpanlessButton();else{var t=this.buttonElement.find(".oj-button-text");t.text(this.options.label),this._setDisplayOptionOnDom(t)}},_setLabelOnDomOfSpanlessButton:function(){this.options.label&&this.element.val(this.options.label)},_setIconsOption:function(){if("inputPush"!==this.type){var t=this._setIconOnDom(!0),e=this._setIconOnDom(!1);this._setDisplayOptionOnDom(void 0,t,e)}},_setIconOnDom:function(t){var n=this.buttonElement;if("button"===this.type&&(n=this.element.children("div.oj-button-label")),t)var o=".oj-button-icon.oj-start",s="oj-button-icon oj-start",i=this.options.icons.start,a="_lastStartIcon",l="prependTo";else o=".oj-button-icon.oj-end",s="oj-button-icon oj-end",i=this.options.icons.end,a="_lastEndIcon",l="appendTo";var r=n.find(o);if(i){if(r.length){var u=this[a];r.removeClass(u)}else r=e("<span></span>").addClass(s)[l](n);r.addClass(i)}else r.remove();return this[a]=i,!!i},_setDisplayOptionOnDom:function(t,n,o){var s=this.buttonElement.children(".oj-button-label");if(!s.length){var i=this._getEnclosingContainerComponent("buttonset");s=this._IsCustomElement()||i&&i._IsCustomElement()?this.buttonElement.children("oj-option"):this.buttonElement}void 0===t&&(t=s.children(".oj-button-text")),void 0===n&&(n=!!this.options.icons.start||s.children("[slot='startIcon']").length),void 0===o&&(o=!!this.options.icons.end||s.children("[slot='endIcon']").length);var l=n&&o,r=n||o,u="icons"===this.options.display;if(r&&u){if(t.addClass("oj-helper-hidden-accessible"),!this.hasTitle){var h=t.text();this.rootElement.attr("title",e.trim(h))}}else t.removeClass("oj-helper-hidden-accessible"),this.hasTitle||this.rootElement.removeAttr("title");var c=r?u?l?"oj-button-icons-only":"oj-button-icon-only":l?"oj-button-text-icons":n?"oj-button-text-icon-start":"oj-button-text-icon-end":"oj-button-text-only";this.rootElement.removeClass(a).addClass(c)},_manageAnchorTabIndex:function(t,e){if(!t!=!e&&"anchor"===this.type&&!this._getEnclosingContainerElement("buttonset").length&&!this._getEnclosingContainerElement("toolbar").length)if(e){var n=this.element.attr("tabindex");this._oldAnchorTabIndex=this._isInteger(Number(n))?n:null,this.element.attr("tabindex",-1)}else null==this._oldAnchorTabIndex?this.element.removeAttr("tabindex"):this.element.attr("tabindex",this._oldAnchorTabIndex)},_isInteger:function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},_selectorMap:{buttonset:".oj-buttonset",toolbar:".oj-toolbar"},_constructorMap:{buttonset:"ojButtonset",toolbar:"ojToolbar"},_getEnclosingContainerElement:function(t){return this.rootElement.closest(this._selectorMap[t])},_getEnclosingContainerComponent:function(e){var n=this._getEnclosingContainerElement(e)[0],o=t.Components.__GetWidgetConstructor(n,this._constructorMap[e]);return o&&o("instance")},_setupMenuButton:function(t){if(this._getMenuNode()&&this.element.is("input"))throw new Error("Menu Button functionality is not supported on input elements.");if(this._removeMenuBehavior(t),this._getMenuNode()){var n=this;this.element.attr("aria-haspopup",!0).on("keydown"+this.menuEventNamespace,function(t){if(t.which===e.ui.keyCode.DOWN)return n._showMenu(t,"firstItem"),t.preventDefault(),!0;if(t.which===e.ui.keyCode.ESCAPE){var o=!n.rootElement.hasClass("oj-selected");return n._dismissMenu(n._getMenuNode(),t),o}return!0}).on("click"+this.menuEventNamespace,function(t){var e=n._getMenu();return e.__spaceEnterDownInMenu||n._showMenu(t,"firstItem"),e.__spaceEnterDownInMenu=!1,t.preventDefault(),!0})}},_removeMenuBehavior:function(t){this.element.removeAttr("aria-haspopup").off(this.menuEventNamespace),this._dismissMenu(t),e(t).off(this.menuEventNamespace),this._menuListenerSet=!1},_getMenu:function(){var t=this._getMenuOnly(this._getMenuNode());if(!t)throw new Error('JET Button: "menu" option specified, but does not reference a valid JET Menu.');if(!this._menuListenerSet){var e=this;if(this._IsCustomElement())n="ojClose";else var n="ojclose";t.widget().on(n+this.menuEventNamespace,function(t,n){e._menuDismissHandler(t)}),this._menuListenerSet=!0}return t},_getMenuOnly:function(n){var o=t.Components.__GetWidgetConstructor(e(n)[0],"ojMenu");return o&&o("instance")},_showMenu:function(t,e){if(!this._IsEffectivelyDisabled()){var n=this._getMenu(),o=n.widget();n.open(t,{launcher:this.element,initialFocus:e}),o.is(":visible")&&(this._menuVisible=!0,o.attr("aria-label")||o.attr("aria-labelledby")||(this.element.uniqueId(),this._setAriaLabelledBy=!0,o.attr("aria-labelledby",this.element.attr("id"))),this.rootElement.addClass("oj-selected").removeClass("oj-default oj-focus-only"))}},_dismissMenu:function(t,e){if(this._menuVisible){var n=this._getMenuOnly(t);n&&(n.__collapseAll(e,!0),n.__dismiss(e))}},_menuDismissHandler:function(t){this._setAriaLabelledBy&&(e(this._getMenuNode()).removeAttr("aria-labelledby"),this._setAriaLabelledBy=!1),this.rootElement.removeClass("oj-selected"),this._toggleDefaultClasses(),this._menuVisible=!1},_toggleDefaultClasses:function(){var t,e;if(this.rootElement.is(".oj-hover, .oj-active, .oj-selected, .oj-disabled"))t=!1,e=!1;else{var n=this.rootElement.is(".oj-focus");t=!n,e=n}this.rootElement.toggleClass("oj-default",t),this.rootElement.toggleClass("oj-focus-only",e)}}),t.__registerWidget("oj.ojButtonset",e.oj.baseComponent,{_items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a",widgetEventPrefix:"oj",options:{checked:null,chroming:"full",display:"all",focusManagement:"oneTabstop"},_setCheckedOnDom:function(t,n){var o,s=e.type(t);if((o="OJ-BUTTONSET-MANY"===this.element[0].tagName||n.length>0&&n.filter("input[type=checkbox]").length===n.length)&&"array"!=s)throw new Error("Invalid 'checked' value set on JET Buttonset: "+t);if(!o&&n.length>0){var i=n[0].name;(i||n.length<=1)&&(n.filter("input[type=radio][name="+i+"]").length,n.length)}if(!(this._setCheckedOnButtons(t,n,s,o)||null===t||this._IsCustomElement()&&n.length!==this.element.children().length))throw new Error("Invalid 'checked' value set on JET Buttonset: "+t)},_setCheckedOnButtons:function(t,e,n,o){var s=this._shallowCompare(t,e,o);return this._shouldDeepCompare(t,o,s)&&(s=this._deepCompare(t,e,o,s)),o?s===t.length:1===s},_shallowCompare:function(t,e,n){var o=this,s=0;return e.each(function(){var e=o._getInputValue(this);(n?t.indexOf(e)>-1:e===t)?(this.checked=!0,s++):this.checked=!1}),s},_shouldDeepCompare:function(t,e,n){return e?n!==t.length:!n},_deepCompare:function(t,e,n,o){var s=this;return e.each(function(){var e=s._getInputValue(this);if(n)for(var i=0;i<t.length;i++)s._deepCompareValues(e,t[i])&&(this.checked=!0,o++);else s._deepCompareValues(e,t)&&(this.checked=!0,o++)}),o},_deepCompareValues:function(n,o){return"object"==e.type(n)&&n.ojCompareValues?0===n.ojCompareValues(n,o):t.Object.compareValues(n,o)},_getInputValue:function(t){return this._IsCustomElement()?this._getOjOptionFromInput(t).value:t.value},_getOjOptionFromInput:function(t){return e(t).prev().children()[0]},_getCheckedFromDom:function(t){var e=void 0,n=null,o=null,s=this;return t.each(function(t){if("input"!==this.tagName.toLowerCase())return e=void 0,!1;var i,a,l=this.type.toLowerCase();if("radio"===l)i=!0,a=this.name.toLowerCase();else{if("checkbox"!==l)return e=void 0,!1;i=!1,a=null}if(void 0!==e&&(i!==n||a!==o||n&&!o))return e=void 0,!1;var r=s._getInputValue(this);void 0===e?(e=i?this.checked?r:null:this.checked?[r]:[],n=i,o=a):this.checked&&(n?e=r:e.push(r))}),e},_CompareOptionValues:function(t,n,o){return"checked"===t?n===o||"array"===e.type(n)&&"array"===e.type(o)&&this._compareArraysAsSets(n,o):this._superApply(arguments)},_compareArraysAsSets:function(t,e){return!t.some(function(t){return e.indexOf(t)<0})&&!e.some(function(e){return t.indexOf(e)<0})},_removeNonOjOptions:function(){this.element.children(":not(oj-option)").remove()},_processOjOptions:function(){var t=this,n=this.element.find("oj-option");e.each(n,function(e,n){n.customOptionRenderer=t._customOptionRenderer.bind(t)})},_customOptionRenderer:function(t){this._removeOptionDecoration(t),this._addOptionDecoration(t)},_addOptionDecoration:function(t){var n=e(t);this._addOptionClasses(t);var o="OJ-BUTTONSET-ONE"===this.element[0].tagName,s=o?"radio":"checkbox",i=t.value,a=t.disabled,l=e("<input>"),r=e("<label>");l.uniqueId(),l.prop("value",i),l.prop("type",s),l.prop("disabled",a);var u=l[0].id;r.prop("for",u),o&&(this._name||(this._name="_n_"+u),l.prop("name",this._name)),n.before(r),r.append(n),r.after(l),this._setup(!1),this._setCheckedOnDom(this.options.checked,this.$buttons)},_removeOptionDecoration:function(t){var n=e(t).parent();if("LABEL"===n.prop("tagName")){this._removeOptionClasses(t);var o=n.siblings(".oj-button-input");o.ojButton("destroy"),o.removeUniqueId(),o.remove(),n.replaceWith(t)}},_addOptionClasses:function(n){var o=t.BaseCustomElementBridge.getSlotMap(n),s=o[""]?o[""]:null,i=o.startIcon?o.startIcon[0]:null,a=o.endIcon?o.endIcon[0]:null;if(i&&(e(i).addClass("oj-button-icon"),e(i).addClass("oj-start")),s)for(var l=0;l<s.length;l++){var r=s[l],u=r;3===r.nodeType&&(u=e("<span>"),e(r).replaceWith(u),u.append(r)),e(u).addClass("oj-button-text")}a&&(e(a).addClass("oj-button-icon"),e(a).addClass("oj-end"))},_removeOptionClasses:function(n){var o=t.BaseCustomElementBridge.getSlotMap(n),s=o[""]?o[""]:null,i=o.startIcon?o.startIcon[0]:null,a=o.endIcon?o.endIcon[0]:null;if(i&&(e(i).removeClass("oj-button-icon"),e(i).removeClass("oj-start")),s)for(var l=0;l<s.length;l++)e(s[l]).removeClass("oj-button-text");a&&(e(a).removeClass("oj-button-icon"),e(a).removeClass("oj-end"))},_InitOptions:function(t,n){if(this._super(t,n),this.$buttons=this.element.find(this._items),!("checked"in n)){this.initCheckedFromDom=!0;var o=this._getCheckedFromDom(this.$buttons);"array"!==e.type(o)&&"OJ-BUTTONSET-MANY"!==this.element[0].tagName||(this.options.checked=[]),void 0!==o&&this.option("checked",o,{_context:{internalSet:!0}})}},_ComponentCreate:function(){this._super(),this.element.attr(t.Components._OJ_CONTAINER_ATTR,this.widgetName).addClass("oj-buttonset oj-component"),this._setRole(this.options.focusManagement),this._IsCustomElement()&&(this._removeNonOjOptions(),this._processOjOptions()),this._setup(!0)},_NotifyContextMenuGesture:function(t,e,n){var o=this.element.find(":oj-button[tabindex=0]");this._OpenContextMenu(e,n,{launcher:o,position:{of:"keyboard"===n?o.ojButton("widget"):e}})},_propagateDisabled:function(t){t=!!t,this.$buttons.each(function(){e(this).data("oj-ojButton").__setAncestorComponentDisabled(t)})},_setRole:function(t){"oneTabstop"===t?this.element.attr("role","toolbar"):this.element.removeAttr("role")},_setOption:function(t,n,o){this._superApply(arguments),"disabled"===t?this._propagateDisabled(n):"checked"===t?(this._setCheckedOnDom(n,this.$buttons),this.$buttons.each(function(){e(this).data("oj-ojButton")._applyCheckedStateFromDom(!1)})):"focusManagement"===t?this._setRole(n):"chroming"===t?(u(this.element,n),this.$buttons.ojButton("refresh")):"display"===t&&this.$buttons.ojButton("option",t,n)},refresh:function(){this._super(),this._IsCustomElement()&&this._processOjOptions(),this._setup(!1)},_setup:function(t){var n=this;this.isRtl="rtl"===this._GetReadingDirection(),u(this.element,this.options.chroming),!t||this.initCheckedFromDom||this._IsCustomElement()||this._setCheckedOnDom(this.options.checked,this.$buttons),t||(this.$buttons=this.element.find(this._items)),this.element.toggleClass("oj-buttonset-multi",this.$buttons.length>1),this.$buttons.filter(":oj-button").ojButton("refresh").each(function(){e(this).data("oj-ojButton")._applyCheckedStateFromDom(!1)}).end().not(":oj-button").ojButton({display:this.options.display}).end().map(function(){return e(this).ojButton("widget")[0]}).removeClass("oj-buttonset-first oj-buttonset-last").filter(":first").addClass("oj-buttonset-first").end().filter(":last").addClass("oj-buttonset-last").end().end(),this._propagateDisabled(this.options.disabled),"oneTabstop"===this.options.focusManagement&&(this.$buttons.unbind("keydown"+this.eventNamespace).bind("keydown"+this.eventNamespace,function(t){n._handleKeyDown(t,e(this))}).unbind("click"+this.eventNamespace).bind("click"+this.eventNamespace,function(t){e(this).data("oj-ojButton")._IsEffectivelyDisabled()||n._setTabStop(e(this))}).unbind("focus"+this.eventNamespace).bind("focus"+this.eventNamespace,function(t){n._setTabStop(e(this))}),this.$enabledButtons=this.$buttons.filter(function(t){return!e(this).data("oj-ojButton")._IsEffectivelyDisabled()}),this._initTabindexes(t))},_initTabindexes:function(t){var n,o=e(this._lastTabStop);this._lastTabStop=void 0,this.$buttons.attr("tabindex","-1"),n=t||!o.is(this.$enabledButtons)?this.$enabledButtons.first():o,this._setTabStop(n)},_mapToTabbable:function(t){var e=this.$enabledButtons;return t.map(function(t,n){if("radio"!=n.type||n.checked||""==n.name)return n;var o=h(n,e).filter(":checked");return o.length?o[0]:n})},_setTabStop:function(t){var n=(t=this._mapToTabbable(t))[0],o=this._lastTabStop;n!==o&&(e(o).attr("tabindex","-1"),t.attr("tabindex","0"),this._lastTabStop=n)},_handleKeyDown:function(t,n){switch(t.which){case e.ui.keyCode.UP:case e.ui.keyCode.DOWN:if("radio"!=n.attr("type"))break;case e.ui.keyCode.LEFT:case e.ui.keyCode.RIGHT:t.preventDefault();var o=this.$enabledButtons,s=o.length;if(s<2)break;var i=(o.index(n)+(t.which==e.ui.keyCode.DOWN||t.which==e.ui.keyCode.RIGHT^this.isRtl?1:-1)+s)%s;o.eq(i).focus()}},_destroy:function(){this.element.removeClass("oj-buttonset oj-component "+l).removeAttr(t.Components._OJ_CONTAINER_ATTR).removeAttr("role"),"oneTabstop"===this.options.focusManagement&&this.$buttons.attr("tabindex","0"),this.$buttons.map(function(){return e(this).ojButton("widget")[0]}).removeClass("oj-buttonset-first oj-buttonset-last").end().ojButton("destroy")}});var s="oj-button oj-component oj-enabled oj-default",i="oj-hover oj-active oj-selected",a="oj-button-icons-only oj-button-icon-only oj-button-text-icons oj-button-text-icon-start oj-button-text-icon-end oj-button-text-only",l="oj-button-full-chrome oj-button-half-chrome oj-button-outlined-chrome",r={full:"oj-button-full-chrome",half:"oj-button-half-chrome",outlined:"oj-button-outlined-chrome"},u=function(t,e){t.removeClass(l).addClass(r[e])},h=function(t,n){var o,s=t.name,i=t.form;if(s){var a=":radio[name='"+(s=s.replace(/'/g,"\\'"))+"']:oj-button";o=n?n.filter(a):i?e(i).find(a):e(a,t.ownerDocument).filter(function(){return!this.form})}else o=(n?n.filter(t):e(t)).filter(":oj-button");return o},c={button:["ojButtonset","ojToolbar"],buttonset:["ojToolbar"]},d=function(e,n,o){var s=function(e,n,o){for(var s=0;s<o.length;++s){var i=o[s];if(n.indexOf(i)>=0)for(;;e=e.parentNode){var a=t.Components.__GetWidgetConstructor(e,i);if(a)return a}}return null}(n,o,c[e]);return s?s("option","chroming"):(t.ThemeUtils.parseJSONFromFontFamily("oj-"+e+"-option-defaults")||{}).chroming};t.Components.setDefaultOptions({ojButton:{chroming:t.Components.createDynamicPropertyGetter(function(t){return d("button",t.element,t.containers)})},ojButtonset:{chroming:t.Components.createDynamicPropertyGetter(function(t){return d("buttonset",t.element,t.containers)})}})}(),t.CustomElementBridge.registerMetadata("oj-button","baseComponent",{properties:{chroming:{type:"string",enumValues:["full","half","outlined"]},disabled:{type:"boolean"},display:{type:"string",enumValues:["all","icons"]}},events:{action:{}},extension:{_WIDGET_NAME:"ojButton"}}),t.CustomElementBridge.register("oj-button",{metadata:t.CustomElementBridge.getMetadata("oj-button"),innerDomFunction:function(t){return t.getAttribute("href")?"a":"button"}}),t.CustomElementBridge.registerMetadata("oj-menu-button","baseComponent",{properties:{chroming:{type:"string",enumValues:["full","half","outlined"]},disabled:{type:"boolean"},display:{type:"string",enumValues:["all","icons"]}},extension:{_WIDGET_NAME:"ojButton"}}),t.CustomElementBridge.register("oj-menu-button",{metadata:t.CustomElementBridge.getMetadata("oj-menu-button"),innerDomFunction:function(t){return t.getAttribute("href")?"a":"button"}}),t.CustomElementBridge.registerMetadata("oj-buttonset-one","baseComponent",{properties:{chroming:{type:"string",enumValues:["full","half","outlined"]},disabled:{type:"boolean"},display:{type:"string",enumValues:["all","icons"]},focusManagement:{type:"string",enumValues:["oneTabstop","none"]},value:{type:"any",writeback:!0}},extension:{_WIDGET_NAME:"ojButtonset",_ALIASED_PROPS:{value:"checked"}}}),t.CustomElementBridge.register("oj-buttonset-one",{metadata:t.CustomElementBridge.getMetadata("oj-buttonset-one")}),t.CustomElementBridge.registerMetadata("oj-buttonset-many","baseComponent",{properties:{chroming:{type:"string",enumValues:["full","half","outlined"]},disabled:{type:"boolean"},display:{type:"string",enumValues:["all","icons"]},focusManagement:{type:"string",enumValues:["oneTabstop","none"]},value:{type:"Array",writeback:!0}},extension:{_WIDGET_NAME:"ojButtonset",_ALIASED_PROPS:{value:"checked"}}}),t.CustomElementBridge.register("oj-buttonset-many",{metadata:t.CustomElementBridge.getMetadata("oj-buttonset-many")})});
!function(t,e,i,n){"use strict";function r(t,e,i){return setTimeout(u(t,i),e)}function s(t,e,i){return!!Array.isArray(t)&&(o(t,i[e],i),!0)}function o(t,e,i){var r;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==n)for(r=0;r<t.length;)e.call(i,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(i,t[r],r,t)}function a(e,i,n){var r="DEPRECATED METHOD: "+i+"\n"+n+" AT \n";return function(){var i=new Error("get-stack-trace"),n=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=t.console&&(t.console.warn||t.console.log);return s&&s.call(t.console,r,n),e.apply(this,arguments)}}function h(t,e,i){var n,r=e.prototype;(n=t.prototype=Object.create(r)).constructor=t,n._super=r,i&&Q(n,i)}function u(t,e){return function(){return t.apply(e,arguments)}}function c(t,e){return typeof t==it?t.apply(e&&e[0]||n,e):t}function l(t,e){return t===n?e:t}function p(t,e,i){o(m(e),function(e){t.addEventListener(e,i,!1)})}function f(t,e,i){o(m(e),function(e){t.removeEventListener(e,i,!1)})}function d(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function v(t,e){return t.indexOf(e)>-1}function m(t){return t.trim().split(/\s+/g)}function g(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function T(t){return Array.prototype.slice.call(t,0)}function y(t,e,i){for(var n=[],r=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];g(r,o)<0&&n.push(t[s]),r[s]=o,s++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function E(t,e){for(var i,r,s=e[0].toUpperCase()+e.slice(1),o=0;o<tt.length;){if((r=(i=tt[o])?i+s:e)in t)return r;o++}return n}function I(e){var i=e.ownerDocument||e;return i.defaultView||i.parentWindow||t}function A(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){c(t.options.enable,[t])&&i.handler(e)},this.init()}function _(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,s=e&vt&&n-r==0,o=e&(gt|Tt)&&n-r==0;i.isFirst=!!s,i.isFinal=!!o,s&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=S(e)),r>1&&!i.firstMultiple?i.firstMultiple=S(e):1===r&&(i.firstMultiple=!1);var s=i.firstInput,o=i.firstMultiple,a=o?o.center:s.center,h=e.center=b(n);e.timeStamp=st(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=w(a,h),e.distance=x(a,h),function(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};e.eventType!==vt&&s.eventType!==gt||(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}(i,e),e.offsetDirection=D(e.deltaX,e.deltaY);var u=P(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=rt(u.x)>rt(u.y)?u.x:u.y,e.scale=o?function(t,e){return x(e[0],e[1],Dt)/x(t[0],t[1],Dt)}(o.pointers,n):1,e.rotation=o?function(t,e){return w(e[1],e[0],Dt)+w(t[1],t[0],Dt)}(o.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,C(i,e);var c=t.element;d(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function C(t,e){var i,r,s,o,a=t.lastInterval||e,h=e.timeStamp-a.timeStamp;if(e.eventType!=Tt&&(h>dt||a.velocity===n)){var u=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,l=P(h,u,c);r=l.x,s=l.y,i=rt(l.x)>rt(l.y)?l.x:l.y,o=D(u,c),t.lastInterval=e}else i=a.velocity,r=a.velocityX,s=a.velocityY,o=a.direction;e.velocity=i,e.velocityX=r,e.velocityY=s,e.direction=o}function S(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:nt(t.pointers[i].clientX),clientY:nt(t.pointers[i].clientY)},i++;return{timeStamp:st(),pointers:e,center:b(e),deltaX:t.deltaX,deltaY:t.deltaY}}function b(t){var e=t.length;if(1===e)return{x:nt(t[0].clientX),y:nt(t[0].clientY)};for(var i=0,n=0,r=0;e>r;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:nt(i/e),y:nt(n/e)}}function P(t,e,i){return{x:e/t||0,y:i/t||0}}function D(t,e){return t===e?yt:rt(t)>=rt(e)?0>t?Et:It:0>e?At:_t}function x(t,e,i){i||(i=Pt);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function w(t,e,i){i||(i=Pt);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return 180*Math.atan2(r,n)/Math.PI}function O(){this.evEl=wt,this.evWin=Ot,this.pressed=!1,A.apply(this,arguments)}function R(){this.evEl=zt,this.evWin=Nt,A.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function M(){this.evTarget=Yt,this.evWin=Ft,this.started=!1,A.apply(this,arguments)}function z(){this.evTarget=qt,this.targetIds={},A.apply(this,arguments)}function N(){A.apply(this,arguments);var t=u(this.handler,this);this.touch=new z(this.manager,t),this.mouse=new O(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function X(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout(function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)},kt)}}function Y(t,e){this.manager=t,this.set(e)}function F(t){this.options=Q({},this.defaults,t||{}),this.id=ht++,this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=Kt,this.simultaneous={},this.requireFail=[]}function W(t){return t&ne?"cancel":t&ee?"end":t&te?"move":t&Qt?"start":""}function q(t){return t==_t?"down":t==At?"up":t==Et?"left":t==It?"right":""}function k(t,e){var i=e.manager;return i?i.get(t):t}function H(){F.apply(this,arguments)}function L(){H.apply(this,arguments),this.pX=null,this.pY=null}function U(){H.apply(this,arguments)}function V(){F.apply(this,arguments),this._timer=null,this._input=null}function j(){H.apply(this,arguments)}function G(){H.apply(this,arguments)}function Z(){F.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function B(t,e){return(e=e||{}).recognizers=l(e.recognizers,B.defaults.preset),new $(t,e)}function $(t,e){this.options=Q({},B.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function(t){var e=t.options.inputClass;return new(e||(ct?R:lt?z:ut?N:O))(t,_)}(this),this.touchAction=new Y(this,this.options.touchAction),J(this,!0),o(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function J(t,e){var i,n=t.element;n.style&&(o(t.options.cssProps,function(r,s){i=E(n.style,s),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}function K(t,i){var n=e.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=i,i.target.dispatchEvent(n)}var Q,tt=["","webkit","Moz","MS","ms","o"],et=e.createElement("div"),it="function",nt=Math.round,rt=Math.abs,st=Date.now;Q="function"!=typeof Object.assign?function(t){if(t===n||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(r!==n&&null!==r)for(var s in r)r.hasOwnProperty(s)&&(e[s]=r[s])}return e}:Object.assign;var ot=a(function(t,e,i){for(var r=Object.keys(e),s=0;s<r.length;)(!i||i&&t[r[s]]===n)&&(t[r[s]]=e[r[s]]),s++;return t},"extend","Use `assign`."),at=a(function(t,e){return ot(t,e,!0)},"merge","Use `assign`."),ht=1,ut="ontouchstart"in t,ct=E(t,"PointerEvent")!==n,lt=ut&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),pt="touch",ft="mouse",dt=25,vt=1,mt=2,gt=4,Tt=8,yt=1,Et=2,It=4,At=8,_t=16,Ct=Et|It,St=At|_t,bt=Ct|St,Pt=["x","y"],Dt=["clientX","clientY"];A.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(I(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(I(this.element),this.evWin,this.domHandler)}};var xt={mousedown:vt,mousemove:mt,mouseup:gt},wt="mousedown",Ot="mousemove mouseup";h(O,A,{handler:function(t){var e=xt[t.type];e&vt&&0===t.button&&(this.pressed=!0),e&mt&&1!==t.which&&(e=gt),this.pressed&&(e&gt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:ft,srcEvent:t}))}});var Rt={pointerdown:vt,pointermove:mt,pointerup:gt,pointercancel:Tt,pointerout:Tt},Mt={2:pt,3:"pen",4:ft,5:"kinect"},zt="pointerdown",Nt="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(zt="MSPointerDown",Nt="MSPointerMove MSPointerUp MSPointerCancel"),h(R,A,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=Rt[n],s=Mt[t.pointerType]||t.pointerType,o=s==pt,a=g(e,t.pointerId,"pointerId");r&vt&&(0===t.button||o)?0>a&&(e.push(t),a=e.length-1):r&(gt|Tt)&&(i=!0),0>a||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))}});var Xt={touchstart:vt,touchmove:mt,touchend:gt,touchcancel:Tt},Yt="touchstart",Ft="touchstart touchmove touchend touchcancel";h(M,A,{handler:function(t){var e=Xt[t.type];if(e===vt&&(this.started=!0),this.started){var i=function(t,e){var i=T(t.touches),n=T(t.changedTouches);return e&(gt|Tt)&&(i=y(i.concat(n),"identifier",!0)),[i,n]}.call(this,t,e);e&(gt|Tt)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:pt,srcEvent:t})}}});var Wt={touchstart:vt,touchmove:mt,touchend:gt,touchcancel:Tt},qt="touchstart touchmove touchend touchcancel";h(z,A,{handler:function(t){var e=Wt[t.type],i=function(t,e){var i=T(t.touches),n=this.targetIds;if(e&(vt|mt)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,s,o=T(t.changedTouches),a=[],h=this.target;if(s=i.filter(function(t){return d(t.target,h)}),e===vt)for(r=0;r<s.length;)n[s[r].identifier]=!0,r++;for(r=0;r<o.length;)n[o[r].identifier]&&a.push(o[r]),e&(gt|Tt)&&delete n[o[r].identifier],r++;return a.length?[y(s.concat(a),"identifier",!0),a]:void 0}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:pt,srcEvent:t})}});var kt=2500,Ht=25;h(N,A,{handler:function(t,e,i){var n=i.pointerType==pt,r=i.pointerType==ft;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)(function(t,e){t&vt?(this.primaryTouch=e.changedPointers[0].identifier,X.call(this,e)):t&(gt|Tt)&&X.call(this,e)}).call(this,e,i);else if(r&&function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],s=Math.abs(e-r.x),o=Math.abs(i-r.y);if(Ht>=s&&Ht>=o)return!0}return!1}.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Lt=E(et.style,"touchAction"),Ut=Lt!==n,Vt="compute",jt="auto",Gt="manipulation",Zt="none",Bt="pan-x",$t="pan-y",Jt=function(){if(!Ut)return!1;var e={},i=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!i||t.CSS.supports("touch-action",n)}),e}();Y.prototype={set:function(t){t==Vt&&(t=this.compute()),Ut&&this.manager.element.style&&Jt[t]&&(this.manager.element.style[Lt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return o(this.manager.recognizers,function(e){c(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(v(t,Zt))return Zt;var e=v(t,Bt),i=v(t,$t);return e&&i?Zt:e||i?e?Bt:$t:v(t,Gt)?Gt:jt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(!this.manager.session.prevented){var n=this.actions,r=v(n,Zt)&&!Jt[Zt],s=v(n,$t)&&!Jt[$t],o=v(n,Bt)&&!Jt[Bt];if(r){var a=1===t.pointers.length,h=t.distance<2,u=t.deltaTime<250;if(a&&h&&u)return}return o&&s?void 0:r||s&&i&Ct||o&&i&St?this.preventSrc(e):void 0}e.preventDefault()},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Kt=1,Qt=2,te=4,ee=8,ie=ee,ne=16;F.prototype={defaults:{},set:function(t){return Q(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=k(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=k(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return-1===g(e,t=k(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=k(t,this);var e=g(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,n=this.state;ee>n&&e(i.options.event+W(n)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),n>=ee&&e(i.options.event+W(n))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=32)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Kt)))return!1;t++}return!0},recognize:function(t){var e=Q({},t);return c(this.options.enable,[this,e])?(this.state&(ie|ne|32)&&(this.state=Kt),this.state=this.process(e),void(this.state&(Qt|te|ee|ne)&&this.tryEmit(e))):(this.reset(),void(this.state=32))},process:function(t){},getTouchAction:function(){},reset:function(){}},h(H,F,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(Qt|te),r=this.attrTest(t);return n&&(i&Tt||!r)?e|ne:n||r?i&gt?e|ee:e&Qt?e|te:Qt:32}}),h(L,H,{defaults:{event:"pan",threshold:10,pointers:1,direction:bt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Ct&&e.push($t),t&St&&e.push(Bt),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&e.direction||(e.direction&Ct?(r=0===s?yt:0>s?Et:It,i=s!=this.pX,n=Math.abs(t.deltaX)):(r=0===o?yt:0>o?At:_t,i=o!=this.pY,n=Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},attrTest:function(t){return H.prototype.attrTest.call(this,t)&&(this.state&Qt||!(this.state&Qt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=q(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),h(U,H,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Zt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Qt)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),h(V,F,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[jt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(gt|Tt)&&!s)this.reset();else if(t.eventType&vt)this.reset(),this._timer=r(function(){this.state=ie,this.tryEmit()},e.time,this);else if(t.eventType&gt)return ie;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ie&&(t&&t.eventType&gt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=st(),this.manager.emit(this.options.event,this._input)))}}),h(j,H,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Zt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Qt)}}),h(G,H,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ct|St,pointers:1},getTouchAction:function(){return L.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Ct|St)?e=t.overallVelocity:i&Ct?e=t.overallVelocityX:i&St&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&rt(e)>this.options.velocity&&t.eventType&gt},emit:function(t){var e=q(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),h(Z,F,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Gt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&vt&&0===this.count)return this.failTimeout();if(n&&s&&i){if(t.eventType!=gt)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||x(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=r(function(){this.state=ie,this.tryEmit()},e.interval,this),Qt):ie}return 32},failTimeout:function(){return this._timer=r(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ie&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),B.VERSION="2.0.8",B.defaults={domEvents:!1,touchAction:Vt,enable:!0,inputTarget:null,inputClass:null,preset:[[j,{enable:!1}],[U,{enable:!1},["rotate"]],[G,{direction:Ct}],[L,{direction:Ct},["swipe"]],[Z],[Z,{event:"doubletap",taps:2},["tap"]],[V]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};$.prototype={set:function(t){return Q(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&ie)&&(r=e.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],2===e.stopped||r&&i!=r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&i.state&(Qt|te|ee)&&(r=e.curRecognizer=i),s++}},get:function(t){if(t instanceof F)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=g(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==n&&e!==n){var i=this.handlers;return o(m(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==n){var i=this.handlers;return o(m(t),function(t){e?i[t]&&i[t].splice(g(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&K(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&J(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},Q(B,{INPUT_START:vt,INPUT_MOVE:mt,INPUT_END:gt,INPUT_CANCEL:Tt,STATE_POSSIBLE:Kt,STATE_BEGAN:Qt,STATE_CHANGED:te,STATE_ENDED:ee,STATE_RECOGNIZED:ie,STATE_CANCELLED:ne,STATE_FAILED:32,DIRECTION_NONE:yt,DIRECTION_LEFT:Et,DIRECTION_RIGHT:It,DIRECTION_UP:At,DIRECTION_DOWN:_t,DIRECTION_HORIZONTAL:Ct,DIRECTION_VERTICAL:St,DIRECTION_ALL:bt,Manager:$,Input:A,TouchAction:Y,TouchInput:z,MouseInput:O,PointerEventInput:R,TouchMouseInput:N,SingleTouchInput:M,Recognizer:F,AttrRecognizer:H,Tap:Z,Pan:L,Swipe:G,Pinch:U,Rotate:j,Press:V,on:p,off:f,each:o,merge:at,extend:ot,assign:Q,inherit:h,bindFn:u,prefixed:E}),(void 0!==t?t:"undefined"!=typeof self?self:{}).Hammer=B,"function"==typeof define&&define.amd?define('hammerjs',[],function(){return B}):"undefined"!=typeof module&&module.exports?module.exports=B:t.Hammer=B}(window,document);
define('ojs/ojjquery-hammer',["ojs/ojcore","jquery","hammerjs"],function(e,t,a){var r;a?(t.fn.ojHammer=function(e){switch(e){case"instance":return this.data("ojHammer");case"destroy":return this.each(function(){var e=t(this),a=e.data("ojHammer");a&&(a.destroy(),e.removeData("ojHammer"))});default:return this.each(function(){var r=t(this);r.data("ojHammer")||r.data("ojHammer",new a.Manager(r[0],e))})}},a.Manager.prototype.emit=(r=a.Manager.prototype.emit,function(e,a){r.call(this,e,a),t(this.element).trigger({type:e,gesture:a})})):e.Logger.warn("Hammer jQuery extension loaded without Hammer.")});
!function(t){"function"==typeof define&&define.amd?define('jqueryui-amd/position',["jquery","./version"],t):t(jQuery)}(function(t){return function(){function i(t,i,o){return[parseFloat(t[0])*(p.test(t[0])?i/100:1),parseFloat(t[1])*(p.test(t[1])?o/100:1)]}function o(i,o){return parseInt(t.css(i,o),10)||0}var e,n=Math.max,l=Math.abs,f=/left|center|right/,s=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,r=/^\w+/,p=/%$/,c=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==e)return e;var i,o,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),l=n.children()[0];return t("body").append(n),i=l.offsetWidth,n.css("overflow","scroll"),i===(o=l.offsetWidth)&&(o=n[0].clientWidth),n.remove(),e=i-o},getScrollInfo:function(i){var o=i.isWindow||i.isDocument?"":i.element.css("overflow-x"),e=i.isWindow||i.isDocument?"":i.element.css("overflow-y"),n="scroll"===o||"auto"===o&&i.width<i.element[0].scrollWidth;return{width:"scroll"===e||"auto"===e&&i.height<i.element[0].scrollHeight?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(i){var o=t(i||window),e=t.isWindow(o[0]),n=!!o[0]&&9===o[0].nodeType;return{element:o,isWindow:e,isDocument:n,offset:e||n?{left:0,top:0}:t(i).offset(),scrollLeft:o.scrollLeft(),scrollTop:o.scrollTop(),width:o.outerWidth(),height:o.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return c.apply(this,arguments);e=t.extend({},e);var p,a,d,g,u,m,w=t(e.of),W=t.position.getWithinInfo(e.within),v=t.position.getScrollInfo(W),y=(e.collision||"flip").split(" "),H={};return m=function(i){var o=i[0];return 9===o.nodeType?{width:i.width(),height:i.height(),offset:{top:0,left:0}}:t.isWindow(o)?{width:i.width(),height:i.height(),offset:{top:i.scrollTop(),left:i.scrollLeft()}}:o.preventDefault?{width:0,height:0,offset:{top:o.pageY,left:o.pageX}}:{width:i.outerWidth(),height:i.outerHeight(),offset:i.offset()}}(w),w[0].preventDefault&&(e.at="left top"),a=m.width,d=m.height,g=m.offset,u=t.extend({},g),t.each(["my","at"],function(){var t,i,o=(e[this]||"").split(" ");1===o.length&&(o=f.test(o[0])?o.concat(["center"]):s.test(o[0])?["center"].concat(o):["center","center"]),o[0]=f.test(o[0])?o[0]:"center",o[1]=s.test(o[1])?o[1]:"center",t=h.exec(o[0]),i=h.exec(o[1]),H[this]=[t?t[0]:0,i?i[0]:0],e[this]=[r.exec(o[0])[0],r.exec(o[1])[0]]}),1===y.length&&(y[1]=y[0]),"right"===e.at[0]?u.left+=a:"center"===e.at[0]&&(u.left+=a/2),"bottom"===e.at[1]?u.top+=d:"center"===e.at[1]&&(u.top+=d/2),p=i(H.at,a,d),u.left+=p[0],u.top+=p[1],this.each(function(){var f,s,h=t(this),r=h.outerWidth(),c=h.outerHeight(),m=o(this,"marginLeft"),b=o(this,"marginTop"),x=r+m+o(this,"marginRight")+v.width,T=c+b+o(this,"marginBottom")+v.height,L=t.extend({},u),P=i(H.my,h.outerWidth(),h.outerHeight());"right"===e.my[0]?L.left-=r:"center"===e.my[0]&&(L.left-=r/2),"bottom"===e.my[1]?L.top-=c:"center"===e.my[1]&&(L.top-=c/2),L.left+=P[0],L.top+=P[1],f={marginLeft:m,marginTop:b},t.each(["left","top"],function(i,o){t.ui.position[y[i]]&&t.ui.position[y[i]][o](L,{targetWidth:a,targetHeight:d,elemWidth:r,elemHeight:c,collisionPosition:f,collisionWidth:x,collisionHeight:T,offset:[p[0]+P[0],p[1]+P[1]],my:e.my,at:e.at,within:W,elem:h})}),e.using&&(s=function(t){var i=g.left-L.left,o=i+a-r,f=g.top-L.top,s=f+d-c,p={target:{element:w,left:g.left,top:g.top,width:a,height:d},element:{element:h,left:L.left,top:L.top,width:r,height:c},horizontal:o<0?"left":i>0?"right":"center",vertical:s<0?"top":f>0?"bottom":"middle"};a<r&&l(i+o)<a&&(p.horizontal="center"),d<c&&l(f+s)<d&&(p.vertical="middle"),n(l(i),l(o))>n(l(f),l(s))?p.important="horizontal":p.important="vertical",e.using.call(this,t,p)}),h.offset(t.extend(L,{using:s}))})},t.ui.position={fit:{left:function(t,i){var o,e=i.within,l=e.isWindow?e.scrollLeft:e.offset.left,f=e.width,s=t.left-i.collisionPosition.marginLeft,h=l-s,r=s+i.collisionWidth-f-l;i.collisionWidth>f?h>0&&r<=0?(o=t.left+h+i.collisionWidth-f-l,t.left+=h-o):t.left=r>0&&h<=0?l:h>r?l+f-i.collisionWidth:l:h>0?t.left+=h:r>0?t.left-=r:t.left=n(t.left-s,t.left)},top:function(t,i){var o,e=i.within,l=e.isWindow?e.scrollTop:e.offset.top,f=i.within.height,s=t.top-i.collisionPosition.marginTop,h=l-s,r=s+i.collisionHeight-f-l;i.collisionHeight>f?h>0&&r<=0?(o=t.top+h+i.collisionHeight-f-l,t.top+=h-o):t.top=r>0&&h<=0?l:h>r?l+f-i.collisionHeight:l:h>0?t.top+=h:r>0?t.top-=r:t.top=n(t.top-s,t.top)}},flip:{left:function(t,i){var o,e,n=i.within,f=n.offset.left+n.scrollLeft,s=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,r=t.left-i.collisionPosition.marginLeft,p=r-h,c=r+i.collisionWidth-s-h,a="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,d="left"===i.at[0]?i.targetWidth:"right"===i.at[0]?-i.targetWidth:0,g=-2*i.offset[0];p<0?((o=t.left+a+d+g+i.collisionWidth-s-f)<0||o<l(p))&&(t.left+=a+d+g):c>0&&((e=t.left-i.collisionPosition.marginLeft+a+d+g-h)>0||l(e)<c)&&(t.left+=a+d+g)},top:function(t,i){var o,e,n=i.within,f=n.offset.top+n.scrollTop,s=n.height,h=n.isWindow?n.scrollTop:n.offset.top,r=t.top-i.collisionPosition.marginTop,p=r-h,c=r+i.collisionHeight-s-h,a="top"===i.my[1]?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,d="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,g=-2*i.offset[1];p<0?((e=t.top+a+d+g+i.collisionHeight-s-f)<0||e<l(p))&&(t.top+=a+d+g):c>0&&((o=t.top-i.collisionPosition.marginTop+a+d+g-h)>0||l(o)<c)&&(t.top+=a+d+g)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position});
define('ojs/ojpopupcore',["ojs/ojcore","jquery","promise","ojs/ojcomponentcore","jqueryui-amd/position"],function(e,t){e.PopupService=function(){this.Init()},e.Object.createSubclass(e.PopupService,e.Object,"oj.PopupService"),e.PopupService.prototype.Init=function(){e.PopupService.superclass.Init.call(this)},e.PopupService.getInstance=function(t){return e.PopupService._popupService||(e.PopupService._popupService=new e.PopupServiceImpl),e.PopupService._popupService},e.PopupService.prototype.open=function(t){e.Assert.failedInAbstractFunction()},e.PopupService.prototype.close=function(t){e.Assert.failedInAbstractFunction()},e.PopupService.prototype.changeOptions=function(t){e.Assert.failedInAbstractFunction()},e.PopupService.prototype.triggerOnDescendents=function(t,r,i){e.Assert.failedInAbstractFunction()},e.PopupService.prototype.destroy=function(){e.PopupService._popupService=null},e.PopupService.MODALITY={NONE:"none",MODAL:"modal",MODELESS:"modeless"},e.PopupService.EVENT={POPUP_REMOVE:"ojPopupRemove",POPUP_CLOSE:"ojPopupClose",POPUP_REFRESH:"ojPopupRefresh",POPUP_AUTODISMISS:"ojPopupAutoDismiss",POPUP_BEFORE_OPEN:"ojPopupBeforeOpen",POPUP_AFTER_OPEN:"ojPopupAfterOpen",POPUP_BEFORE_CLOSE:"ojPopupBeforeClose",POPUP_AFTER_CLOSE:"ojPopupAfterClose"},e.PopupService.LAYER_LEVEL={TOP_LEVEL:"topLevel",NEAREST_ANCESTOR:"nearestAncestor"},e.PopupService.OPTION={POPUP:"popup",EVENTS:"events",MODALITY:"modality",LAUNCHER:"launcher",POSITION:"position",LAYER_SELECTORS:"layerSelectors",LAYER_LEVEL:"layerLevel",CONTEXT:"context",CUSTOM_ELEMENT:"customElement"},e.PopupServiceImpl=function(){this.Init()},e.Object.createSubclass(e.PopupServiceImpl,e.PopupService,"oj.PopupServiceImpl"),e.PopupServiceImpl.prototype.open=function(r){e.Assert.assertObject(r);var i=r[e.PopupService.OPTION.POPUP];e.Assert.assertPrototype(i,t);var o=e.ZOrderUtils.getStatus(i);if(o===e.ZOrderUtils.STATUS.UNKNOWN||o===e.ZOrderUtils.STATUS.CLOSE){var n=r[e.PopupService.OPTION.LAUNCHER];e.Assert.assertPrototype(n,t);var s=r[e.PopupService.OPTION.POSITION];e.Assert.assertObjectOrNull(s);var l=r[e.PopupService.OPTION.EVENTS];e.Assert.assertObject(l);var a=r[e.PopupService.OPTION.MODALITY];(!a||e.PopupService.MODALITY.MODELESS!==a&&e.PopupService.MODALITY.MODAL!==a)&&(a=e.PopupService.MODALITY.NONE);var p=r[e.PopupService.OPTION.LAYER_SELECTORS];e.Assert.assertString(p);var u=r[e.PopupService.OPTION.CUSTOM_ELEMENT],c=r[e.PopupService.OPTION.LAYER_LEVEL];(!c||e.PopupService.LAYER_LEVEL.TOP_LEVEL!==c&&e.PopupService.LAYER_LEVEL.NEAREST_ANCESTOR!==c)&&(c=e.PopupService.LAYER_LEVEL.NEAREST_ANCESTOR);var d=l[e.PopupService.EVENT.POPUP_BEFORE_OPEN];d&&t.isFunction(d)||(d=e.PopupServiceImpl._defaultBeforeOpenCallback);var _=l[e.PopupService.EVENT.POPUP_AFTER_OPEN];e.ZOrderUtils.setStatus(i,e.ZOrderUtils.STATUS.OPENING),e.DomUtils.setLogicalParent(i,n),e.ZOrderUtils.addToAncestorLayer(i,n,a,p,c,u);var O,v=function(){try{i.removeAttr("aria-hidden"),this._assertEventSink(),e.Components.subtreeShown(i[0])}catch(t){e.Logger.error("Error opening popup:\n%o",t)}finally{_&&_(r);var o=e.ZOrderUtils.getFirstAncestorLayer(i);e.Assert.assertPrototype(o,t),e.ZOrderUtils.applyEvents(o,l),e.ZOrderUtils.setStatus(i,e.ZOrderUtils.STATUS.OPEN)}};v=v.bind(this);try{O=d(r)}catch(t){e.Logger.error("Error before open popup:\n%o",t)}finally{O&&O instanceof Promise?O.then(v):v()}}else this._assertEventSink()},e.PopupServiceImpl._defaultBeforeOpenCallback=function(r){var i=r[e.PopupService.OPTION.POPUP];e.Assert.assertPrototype(i,t);var o=r[e.PopupService.OPTION.POSITION];i.show(),o&&i.position(o)},e.PopupServiceImpl.prototype.close=function(r){e.Assert.assertObject(r);var i=r[e.PopupService.OPTION.POPUP];e.Assert.assertPrototype(i,t);var o=e.ZOrderUtils.getOpenPopupLayer(i);e.Assert.assertPrototype(o,t);var n=r[e.PopupService.OPTION.EVENTS];if(n=n?t.extend(e.ZOrderUtils.getEvents(o),n):r[e.PopupService.OPTION.EVENTS]=e.ZOrderUtils.getEvents(o),e.ZOrderUtils.getStatus(i)===e.ZOrderUtils.STATUS.OPEN&&n){var s=n[e.PopupService.EVENT.POPUP_BEFORE_CLOSE];s&&t.isFunction(s)||(s=e.PopupServiceImpl._defaultBeforeCloseCallback);var l=n[e.PopupService.EVENT.POPUP_AFTER_CLOSE];e.ZOrderUtils.setStatus(i,e.ZOrderUtils.STATUS.CLOSING),e.ZOrderUtils.applyEvents(o,{});var a,p=function(){try{i.hide(),i.attr("aria-hidden","true"),i.css({top:"auto",bottom:"auto",left:"auto",right:"auto"}),e.ZOrderUtils.removeFromAncestorLayer(i),e.DomUtils.setLogicalParent(i,null),this._assertEventSink(),e.Components.subtreeHidden(i[0])}catch(t){e.Logger.error("Error closing popup:\n%o",t)}finally{l&&t.isFunction(l)&&l(r),e.ZOrderUtils.setStatus(i,e.ZOrderUtils.STATUS.CLOSE)}};p=p.bind(this);try{a=s(r)}catch(t){e.Logger.error("Error before close popup:\n%o",t)}finally{a&&a instanceof Promise?a.then(p):p()}}else this._assertEventSink()},e.PopupServiceImpl._defaultBeforeCloseCallback=function(r){var i=r[e.PopupService.OPTION.POPUP];e.Assert.assertPrototype(i,t),i.hide()},e.PopupServiceImpl.prototype.changeOptions=function(r){e.Assert.assertObject(r);var i=r[e.PopupService.OPTION.POPUP];if(e.Assert.assertPrototype(i,t),e.ZOrderUtils.getStatus(i)===e.ZOrderUtils.STATUS.OPEN){var o=e.ZOrderUtils.getOpenPopupLayer(i);e.Assert.assertPrototype(o,t);var n=r[e.PopupService.OPTION.EVENTS];n&&e.ZOrderUtils.applyEvents(o,n);var s=r[e.PopupService.OPTION.MODALITY];s&&e.ZOrderUtils.applyModality(o,s);var l=r[e.PopupService.OPTION.LAYER_SELECTORS];e.StringUtils.isEmptyOrUndefined(l)||o.attr("class",l)}},e.PopupServiceImpl.prototype.triggerOnDescendents=function(t,r,i){if(e.ZOrderUtils.isPopupOpen(t)){var o={};o.event=r,o.argsArray=i;var n=e.ZOrderUtils.getFirstAncestorLayer(t);e.ZOrderUtils.postOrderVisit(n,this._triggerOnDescendentsVisitCallback,o)}},e.PopupServiceImpl.prototype._triggerOnDescendentsVisitCallback=function(r,i){var o=i.event,n=i.argsArray,s=e.ZOrderUtils.getEvents(r);return s&&t.isFunction(s[o])&&s[o].apply(this,n),e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.PopupServiceImpl.prototype._assertEventSink=function(){var t=e.ZOrderUtils.hasPopupsOpen(),r=this._callbackEventFilter;if(!t&&r){window.removeEventListener("resize",e.PopupServiceImpl._refreshCallback,!0),window.removeEventListener("scroll",e.PopupServiceImpl._refreshCallback,!0),(s=document.documentElement).removeEventListener("mousewheel",e.PopupServiceImpl._refreshCallback,!0),s.removeEventListener("DOMMouseScroll",e.PopupServiceImpl._refreshCallback,!0),this._callbackEventFilter=null;for(var i=0;i<e.PopupServiceImpl._REDISTRIBUTE_EVENTS.length;i++){var o=e.PopupServiceImpl._REDISTRIBUTE_EVENTS[i];s.removeEventListener(o,r,!0)}var n=this._simpleTapRecognizer;n&&(n.destroy(),this._simpleTapRecognizer=null)}else if(t&&!r){var s;for(window.addEventListener("resize",e.PopupServiceImpl._refreshCallback,!0),window.addEventListener("scroll",e.PopupServiceImpl._refreshCallback,!0),(s=document.documentElement).addEventListener("mousewheel",e.PopupServiceImpl._refreshCallback,!0),s.addEventListener("DOMMouseScroll",e.PopupServiceImpl._refreshCallback,!0),r=this._callbackEventFilter=this._eventFilterCallback.bind(this),i=0;i<e.PopupServiceImpl._REDISTRIBUTE_EVENTS.length;i++)o=e.PopupServiceImpl._REDISTRIBUTE_EVENTS[i],s.addEventListener(o,r,!0);e.DomUtils.isTouchSupported()&&(this._simpleTapRecognizer=new e.SimpleTapRecognizer(r))}},e.PopupServiceImpl.prototype._eventFilterCallback=function(r){var i=t(r.target);if(e.ZOrderUtils.hasPopupsOpen()){if(!e.DomUtils.isChromeEvent(r)&&("focus"!==r.type||i.is(":focusable"))){var o=e.ZOrderUtils.getDefaultLayer();if("keydown"!==r.type||!e.ZOrderUtils.hasModalDialogOpen()||e.DomUtils.isAncestor(o[0],i[0])){var n,s=e.ZOrderUtils.getFirstAncestorLayer(i);if(o[0]!==s[0]?s.hasClass(e.PopupServiceImpl._FOCUS_WITHIN_SELECTOR)||((n=this._lastFocusLayer)&&n.removeClass(e.PopupServiceImpl._FOCUS_WITHIN_SELECTOR),s.addClass(e.PopupServiceImpl._FOCUS_WITHIN_SELECTOR),this._lastFocusLayer=s):(n=this._lastFocusLayer)&&(n.removeClass(e.PopupServiceImpl._FOCUS_WITHIN_SELECTOR),this._lastFocusLayer=null),"focus"!==r.type||"-1"!==i.attr("tabindex")){var l={},a={};for(var p in r)e.PopupServiceImpl._COPY_SAFE_EVENT_PROPERTIES[p]&&!t.isFunction(r[p])&&(a[p]=r[p]);l.event=t.Event(r,a),e.ZOrderUtils.postOrderVisit(o,e.PopupServiceImpl._redistributeVisitCallback,l)}}else e.ZOrderUtils.eatEvent(r)}}else this._assertEventSink()},e.PopupServiceImpl._redistributeVisitCallback=function(r,i){var o=e.ZOrderUtils.getEvents(r),n=i.event;return n.type,o&&t.isFunction(o[e.PopupService.EVENT.POPUP_AUTODISMISS])&&o[e.PopupService.EVENT.POPUP_AUTODISMISS](n),e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.PopupServiceImpl._refreshCallback=function(r){var i=e.PopupServiceImpl._refreshTimerId;isNaN(i)&&(e.PopupServiceImpl._refreshTimerId=window.setTimeout(function(){e.PopupServiceImpl._refreshTimerId=Number.NaN;var r=e.ZOrderUtils.getDefaultLayer();t.isFunction(window.requestAnimationFrame)?e.PopupServiceImpl._afRequestId=window.requestAnimationFrame(function(){e.PopupServiceImpl._afRequestId=null,e.ZOrderUtils.postOrderVisit(r,e.PopupServiceImpl._refreshVisitCallback)}):e.ZOrderUtils.postOrderVisit(r,e.PopupServiceImpl._refreshVisitCallback)},e.PopupServiceImpl._REFRESH_DELAY))},e.PopupServiceImpl._refreshVisitCallback=function(r,i){if(i.level>0)return e.ZOrderUtils.VISIT_RESULT.REJECT;var o=e.ZOrderUtils.getEvents(r);return o&&t.isFunction(o[e.PopupService.EVENT.POPUP_REFRESH])&&o[e.PopupService.EVENT.POPUP_REFRESH](),e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.PopupServiceImpl.prototype.destroy=function(){e.PopupServiceImpl.superclass.destroy.call(this)},e.PopupServiceImpl._FOCUS_WITHIN_SELECTOR="oj-focus-within",e.PopupServiceImpl._REDISTRIBUTE_EVENTS=["focus","mousedown","keydown"],e.PopupServiceImpl._COPY_SAFE_EVENT_PROPERTIES={altKey:!0,bubbles:!0,cancelable:!0,ctrlKey:!0,currentTarget:!0,eventPhase:!0,metaKey:!0,relatedTarget:!0,shiftKey:!0,target:!0,timeStamp:!0,view:!0,which:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pageX:!0,pageY:!0,screenX:!0,screenY:!0,toElement:!0,char:!0,charCode:!0,key:!0,keyCode:!0},e.PopupServiceImpl._REFRESH_DELAY=10,e.ZOrderUtils={},e.ZOrderUtils.STATUS={UNKNOWN:0,OPENING:1,OPEN:2,CLOSING:3,CLOSE:4},e.ZOrderUtils._STATUS_DATA="oj-popup-status",e.ZOrderUtils.getStatus=function(r){r instanceof Element&&(r=t(r));var i=r.data(e.ZOrderUtils._STATUS_DATA);return isNaN(i)?e.ZOrderUtils.STATUS.UNKNOWN:i},e.ZOrderUtils.setStatus=function(r,i){r instanceof Element&&(r=t(r)),i>=1&&i<=4&&r.data(e.ZOrderUtils._STATUS_DATA,i)},e.ZOrderUtils.getFirstAncestorLayer=function(t){if(!t)return e.ZOrderUtils.getDefaultLayer();for(var r=t;r&&r.length>0&&r.attr(e.ZOrderUtils._SURROGATE_ATTR)!==e.ZOrderUtils._DEFAULT_LAYER_ID;){if(e.ZOrderUtils._hasSurrogate(r[0]))return r;r=r.parent()}return e.ZOrderUtils.getDefaultLayer()},e.ZOrderUtils.getDefaultLayer=function(){var r=t(document.getElementById(e.ZOrderUtils._DEFAULT_LAYER_ID));return r.length>0?r:((r=t("<div>")).attr("role","presentation"),r.attr("id",e.ZOrderUtils._DEFAULT_LAYER_ID),r.prependTo(t(document.body)),r)},e.ZOrderUtils.addToAncestorLayer=function(r,i,o,n,s,l){var a=r[0];if(e.ZOrderUtils._hasSurrogate(a.parentNode))throw new Error("JET Popup is already open - id: "+a.getAttribute("id"));var p=e.ZOrderUtils.getFirstAncestorLayer(s===e.PopupService.LAYER_LEVEL.TOP_LEVEL?null:i),u=t("<div>"),c=r.attr("id");e.StringUtils.isEmptyOrUndefined(c)?u.uniqueId():u.attr("id",[c,"layer"].join("_")),u.attr("role","presentation"),u.addClass(n),r.after(u),e.ZOrderUtils._createSurrogate(u,l),e.Components.subtreeDetached(a),r.appendTo(u),r.data(e.ZOrderUtils._LAYER_ID_DATA,u.attr("id")),u.appendTo(p),e.Components.subtreeAttached(a),e.ZOrderUtils.applyModality(u,o)},e.ZOrderUtils.applyEvents=function(r,i,o){if(!o){var n=r.attr(e.ZOrderUtils._SURROGATE_ATTR);n&&(o=t(document.getElementById(n)))}r.data(e.ZOrderUtils._EVENTS_DATA,i),o&&o.length>0&&i&&t.isFunction(i[e.PopupService.EVENT.POPUP_REMOVE])&&e.Components.setComponentOption(o[0],"beforeDestroy",i[e.PopupService.EVENT.POPUP_REMOVE])},e.ZOrderUtils.getEvents=function(t){return t.data(e.ZOrderUtils._EVENTS_DATA)},e.ZOrderUtils._createSurrogate=function(r,i){var o="script";i&&(o="oj-surrogate");var n=t(document.createElement(o)),s=r.attr("id");e.StringUtils.isEmptyOrUndefined(s)||n.attr("id",[s,"surrogate"].join("_")),i&&n.attr("data-oj-binding-provider","none"),n.insertBefore(r),i||n.ojSurrogate();var l=n.attr("id");return r.attr(e.ZOrderUtils._SURROGATE_ATTR,l),n},e.ZOrderUtils._removeSurrogate=function(r){var i=r.attr(e.ZOrderUtils._SURROGATE_ATTR);r.removeAttr(e.ZOrderUtils._SURROGATE_ATTR);var o=t(document.getElementById(i));r.insertAfter(o),o.length>0&&e.Components.setComponentOption(o[0],"beforeDestroy",null),o.remove()},e.ZOrderUtils.getOpenPopupLayer=function(r){var i=r.parent();if(!i||0===i.length){var o=r.data(e.ZOrderUtils._LAYER_ID_DATA);i=t(document.getElementById(o))}return i},e.ZOrderUtils.removeFromAncestorLayer=function(t){var r=e.ZOrderUtils.getOpenPopupLayer(t);e.ZOrderUtils.preOrderVisit(r,e.ZOrderUtils._closeDescendantPopupsCallback),e.ZOrderUtils._removeOverlayFromAncestorLayer(r),r.removeData(e.ZOrderUtils._EVENTS_DATA),r.removeData(e.ZOrderUtils._MODALITY_DATA),t.removeData(e.ZOrderUtils._LAYER_ID_DATA);var i=t[0];e.Components.subtreeDetached(i),e.ZOrderUtils._removeSurrogate(r),i&&i.parentElement?e.DomUtils.unwrap(t,r):r.remove(),e.Components.subtreeAttached(i)},e.ZOrderUtils._closeDescendantPopupsCallback=function(r,i){if(i.level>0)return e.ZOrderUtils.VISIT_RESULT.REJECT;var o=r.data(e.ZOrderUtils._EVENTS_DATA);return o&&t.isFunction(o[e.PopupService.EVENT.POPUP_CLOSE])&&o[e.PopupService.EVENT.POPUP_CLOSE](),e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.ZOrderUtils.applyModality=function(t,r){var i=t.data(e.ZOrderUtils._MODALITY_DATA);if(t.data(e.ZOrderUtils._MODALITY_DATA,r),e.StringUtils.isEmptyOrUndefined(i))e.PopupService.MODALITY.MODAL===r?e.ZOrderUtils._addOverlayToAncestorLayer(t):e.ZOrderUtils._removeOverlayFromAncestorLayer(t);else{if(i===r)return;r!==i&&r===e.PopupService.MODALITY.MODAL?e.ZOrderUtils._addOverlayToAncestorLayer(t):e.ZOrderUtils._removeOverlayFromAncestorLayer(t)}},e.ZOrderUtils.hasModalDialogOpen=function(){for(var r=e.ZOrderUtils.getDefaultLayer().children(),i=r.length-1;i>-1;i--)if(t(r[i]).hasClass(e.ZOrderUtils._OVERLAY_SELECTOR))return!0;return!1},e.ZOrderUtils._addOverlayToAncestorLayer=function(r){var i=t("<div>");i.addClass(e.ZOrderUtils._OVERLAY_SELECTOR),i.addClass(r[0].className),i.attr("role","presentation");var o=r.attr("id");e.StringUtils.isEmptyOrUndefined(o)?i.uniqueId():i.attr("id",[o,"overlay"].join("_")),r.before(i);var n=i.attr("id");r.attr(e.ZOrderUtils._OVERLAY_ATTR,n)},e.ZOrderUtils._removeOverlayFromAncestorLayer=function(r){var i=r.attr(e.ZOrderUtils._OVERLAY_ATTR);e.StringUtils.isEmptyOrUndefined(i)||(r.removeAttr(e.ZOrderUtils._OVERLAY_ATTR),t(document.getElementById(i)).remove())},e.ZOrderUtils.VISIT_RESULT={ACCEPT:0,REJECT:1,COMPLETE:2},e.ZOrderUtils._VISIT_TRAVERSAL={PRE_ORDER:0,POST_ORDER:1},e.ZOrderUtils.postOrderVisit=function(t,r,i){i||(i={}),i.level=0,i.type=e.ZOrderUtils._VISIT_TRAVERSAL.POST_ORDER,e.ZOrderUtils._visitTree(t,r,i)},e.ZOrderUtils.preOrderVisit=function(t,r,i){i||(i={}),i.level=0,i.type=e.ZOrderUtils._VISIT_TRAVERSAL.PRE_ORDER,e.ZOrderUtils._visitTree(t,r,i)},e.ZOrderUtils._visitTree=function(r,i,o){for(var n=o.level,s=r.children(),l=s.length-1;l>-1;l--){var a=t(s[l]);if(e.ZOrderUtils._hasSurrogate(a[0])){var p;if(o.type===e.ZOrderUtils._VISIT_TRAVERSAL.PRE_ORDER){if((p=i(a,o))===e.ZOrderUtils.VISIT_RESULT.COMPLETE)return p;if(p===e.ZOrderUtils.VISIT_RESULT.REJECT)break}if(o.level=n+1,p=e.ZOrderUtils._visitTree(a,i,o),o.level=n,p===e.ZOrderUtils.VISIT_RESULT.COMPLETE)return p;if(o.type===e.ZOrderUtils._VISIT_TRAVERSAL.POST_ORDER){if((p=i(a,o))===e.ZOrderUtils.VISIT_RESULT.COMPLETE)return p;if(p===e.ZOrderUtils.VISIT_RESULT.REJECT)break}}}return e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.ZOrderUtils._hasSurrogate=function(t){return!(!t||1!==t.nodeType||!t.hasAttribute(e.ZOrderUtils._SURROGATE_ATTR))},e.ZOrderUtils.hasPopupsOpen=function(){return e.ZOrderUtils.getDefaultLayer().children().length>0},e.ZOrderUtils.getOpenPopupCount=function(){var t={popupCount:0},r=e.ZOrderUtils.getDefaultLayer();return e.ZOrderUtils.preOrderVisit(r,e.ZOrderUtils._openPopupCountCallback,t),t.popupCount},e.ZOrderUtils._openPopupCountCallback=function(t,r){return r.popupCount=r.popupCount+1,e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.ZOrderUtils.findOpenPopups=function(){var r={},i=[];r.popups=i;var o=e.ZOrderUtils.getDefaultLayer();return e.ZOrderUtils.preOrderVisit(o,e.ZOrderUtils._openPopupsCallback,r),i=r.popups,t(i)},e.ZOrderUtils._openPopupsCallback=function(t,r){return r.popups.push(t[0]),e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.ZOrderUtils.isAboveTopModalLayer=function(r){if(!r||!e.ZOrderUtils.hasPopupsOpen())return!0;var i,o,n=(i={topLayer:null},o=e.ZOrderUtils.getDefaultLayer(),e.ZOrderUtils.preOrderVisit(o,function(r,i){if(i.level>0)return e.ZOrderUtils.VISIT_RESULT.REJECT;var o=i.topLayer;o?e.ZOrderUtils.compareStackingContexts(t(r),t(o))>0&&(i.topLayer=r):i.topLayer=r},i),i.topLayer?i.topLayer[0]:void 0);if(!n)return!0;var s=function(r){var i={topModalPopup:null};return r.hasAttribute(e.ZOrderUtils._OVERLAY_ATTR)&&(i.topModalPopup=t(r)),e.ZOrderUtils.postOrderVisit(t(r),function(t,r){return t[0].hasAttribute(e.ZOrderUtils._OVERLAY_ATTR)?(r.topModalPopup=t,e.ZOrderUtils.VISIT_RESULT.COMPLETE):e.ZOrderUtils.VISIT_RESULT.ACCEPT},i),i.topModalPopup?i.topModalPopup[0]:void 0}(n);return!s||e.DomUtils.isAncestorOrSelf(s,r)||e.ZOrderUtils.compareStackingContexts(t(s),t(r))<0},e.ZOrderUtils.compareStackingContexts=function(r,i){function o(r,i){for(var o=["absolute","relative","fixed"],n=r.parents(),s=[],l=n.length-1;l>-1;l--)s.push(t(n[l]));(n=s).push(r);var a=[],p=0;for(l=0;l<n.length;l++){var u=n[l],c=u.css("position"),d=e.DomUtils.getCSSLengthAsFloat(u.css("opacity")),_=e.DomUtils.getCSSLengthAsInt(u.css("z-index")),O=t.inArray(u[0],u.parent().children());if(t.inArray(c,o)>-1&&_>0)a.push({weight:[p++,_,O],order:[O]});else if(d<1)a.push({weight:[p++,1,O],order:[O]});else{if(!i)continue;a.push({weight:[0,0,O],order:[O]})}}return a}function n(e,t){for(var r=Math.max(e.length,t.length),i=0;i<r;i++){var o=i<e.length?e[i]:0,n=i<t.length?t[i]:0;if(o!==n)return o<n?-1:1}return 0}e.Assert.assertPrototype(r,t),e.Assert.assertPrototype(i,t);for(var s=o(r,!1),l=o(i,!1),a=Math.max(s.length,l.length),p=0;p<a;p++){var u=p<s.length?s[p].weight:[-1],c=p<l.length?l[p].weight:[-1];if(0!==(d=n(u,c)))return d}for(s=o(r,!0),l=o(i,!0),a=Math.max(s.length,l.length),p=0;p<a;p++){var d;if(0!==(d=n(u=p<s.length?s[p].order:[-1],c=p<l.length?l[p].order:[-1])))return d}return 0},e.ZOrderUtils.eatEvent=function(e){e.stopPropagation(),e.preventDefault()},e.ZOrderUtils.isPopupOpen=function(t){var r=t.parent();return!(!r||1!==r.length||!e.ZOrderUtils._hasSurrogate(r[0]))},e.ZOrderUtils._EVENTS_DATA="oj-popup-events",e.ZOrderUtils._MODALITY_DATA="oj-popup-modality",e.ZOrderUtils._DEFAULT_LAYER_ID="__oj_zorder_container",e.ZOrderUtils._SURROGATE_ATTR="data-oj-surrogate-id",e.ZOrderUtils._LAYER_ID_DATA="oj-popup-layer-id",e.ZOrderUtils._OVERLAY_ATTR="data-oj-overlayid",e.ZOrderUtils._OVERLAY_SELECTOR="oj-component-overlay",e.__registerWidget("oj.ojSurrogate",t.oj.baseComponent,{version:"1.0.0",widgetEventPrefix:"oj",options:{beforeDestroy:null},_ComponentCreate:function(){this._super(),this.element.uniqueId()},_invokeBeforeDestroy:function(){var e=this.options.beforeDestroy;this.options.beforeDestroy=null,e&&e()},_destroy:function(){this._invokeBeforeDestroy(),this.element.removeUniqueId(),this._super()},_NotifyDetached:function(){this._invokeBeforeDestroy(),this._super()}}),e.CustomElementBridge.registerMetadata("oj-surrogate","baseComponent",{properties:{beforeDestroy:{type:"function"}},extension:{_WIDGET_NAME:"ojSurrogate"}}),e.CustomElementBridge.register("oj-surrogate",{metadata:e.CustomElementBridge.getMetadata("oj-surrogate")}),e.SimpleTapRecognizer=function(e){this._tapCallback=e,this.Init()},e.Object.createSubclass(e.SimpleTapRecognizer,e.Object,"oj.SimpleTapRecognizer"),e.SimpleTapRecognizer.prototype.Init=function(){e.SimpleTapRecognizer.superclass.Init.call(this);for(var t=this._eventHandlerCallback=this._eventHandler.bind(this),r=document.documentElement,i=0;i<e.SimpleTapRecognizer._TOUCHEVENTS.length;i++)r.addEventListener(e.SimpleTapRecognizer._TOUCHEVENTS[i],t,!0)},e.SimpleTapRecognizer.prototype._eventHandler=function(t){var r=this._tapCallback,i=t.type;if("touchstart"===i)this._touchStartEvent=t,this._touchStartEvent._tapStart=(new Date).getTime();else if("touchmove"===i||"touchcancel"===i)this._touchStartEvent=null;else if("touchend"===i){if(this._touchStartEvent){var o=this._touchStartEvent._tapStart;isNaN(o)?r(this._touchStartEvent):(new Date).getTime()-o<e.SimpleTapRecognizer._PRESSHOLDTHRESSHOLD&&r(this._touchStartEvent)}this._touchStartEvent=null}},e.SimpleTapRecognizer.prototype.destroy=function(){this._tapCallback=null;var t=this._eventHandlerCallback;this._eventHandlerCallback=null;for(var r=document.documentElement,i=0;i<e.SimpleTapRecognizer._TOUCHEVENTS.length;i++)r.removeEventListener(e.SimpleTapRecognizer._TOUCHEVENTS[i],t,!0)},e.SimpleTapRecognizer._TOUCHEVENTS=["touchstart","touchmove","touchcancel","touchend"],e.SimpleTapRecognizer._PRESSHOLDTHRESSHOLD=700,e.PopupLiveRegion=function(){this.Init()},e.Object.createSubclass(e.PopupLiveRegion,e.Object,"oj.PopupLiveRegion"),e.PopupLiveRegion.prototype.Init=function(){e.PopupLiveRegion.superclass.Init.call(this),isNaN(e.PopupLiveRegion._refCounter)?e.PopupLiveRegion._refCounter=1:++e.PopupLiveRegion._refCounter},e.PopupLiveRegion.prototype.destroy=function(){if(!isNaN(e.PopupLiveRegion._refCounter)&&(--e.PopupLiveRegion._refCounter,e.PopupLiveRegion._refCounter<1)){var r=t(document.getElementById(e.PopupLiveRegion._POPUP_LIVE_REGION_ID));r.length>0&&r.remove()}},e.PopupLiveRegion.prototype.announce=function(r){if(!e.StringUtils.isEmpty(r)){var i=e.PopupLiveRegion._getLiveRegion();i.children().remove(),t("<div>").text(r).appendTo(i)}},e.PopupLiveRegion._getLiveRegion=function(){var r=t(document.getElementById(e.PopupLiveRegion._POPUP_LIVE_REGION_ID));return 0===r.length&&((r=t("<div>")).attr({id:e.PopupLiveRegion._POPUP_LIVE_REGION_ID,role:"log","aria-live":"polite","aria-relevant":"additions"}),r.addClass("oj-helper-hidden-accessible"),r.appendTo(document.body)),r},e.PopupLiveRegion._POPUP_LIVE_REGION_ID="__oj_popup_arialiveregion",e.PopupSkipLink=function(r,i,o,n){e.Assert.assertPrototype(r,t),e.Assert.assertString(i),e.Assert.assertFunction(o),e.Assert.assertStringOrNull(n),this._sibling=r,this._message=i,this._callback=o,this._id=n,this.Init()},e.Object.createSubclass(e.PopupSkipLink,e.Object,"oj.PopupSkipLink"),e.PopupSkipLink.prototype.Init=function(){e.PopupSkipLink.superclass.Init.call(this);var r=this._sibling,i=this._callback,o=this._message;this._message=null;var n=this._id;this._id=null;var s=t("<a>").attr({tabindex:"-1",href:"#",role:"link"});s.attr("id",n),s.addClass("oj-helper-hidden-accessible"),s.text(o),s.insertAfter(r),s.on("click",e.PopupSkipLink._activateHandler.bind(this,i)),s.on("keydown keyup keypress",e.PopupSkipLink._keyHandler),r.data(e.PopupSkipLink._SKIPLINK_ATTR,s)},e.PopupSkipLink._activateHandler=function(t,r){e.ZOrderUtils.eatEvent(r),window.setImmediate(t)},e.PopupSkipLink._keyHandler=function(r){r.keyCode===t.ui.keyCode.ENTER&&e.ZOrderUtils.eatEvent(r)},e.PopupSkipLink.prototype.destroy=function(){var t=this._sibling;if(delete this._sibling,delete this._callback,t){var r=t.data(e.PopupSkipLink._SKIPLINK_ATTR);t.removeData(e.PopupSkipLink._SKIPLINK_ATTR),r&&(r.off("click keydown keyup keypress"),r.remove())}},e.PopupSkipLink.prototype.getLink=function(){var t,r=this._sibling;return r&&(t=r.data(e.PopupSkipLink._SKIPLINK_ATTR)),t},e.PopupSkipLink._SKIPLINK_ATTR="oj-skiplink",e.PopupWhenReadyMediator=function(e,t,r,i){this._element=e,this._operation=t,this._widgetName=r,this._isCustomElement=!!i,this.Init()},e.Object.createSubclass(e.PopupWhenReadyMediator,e.Object,"oj.PopupWhenReadyMediator"),e.PopupWhenReadyMediator.prototype.Init=function(){e.PopupWhenReadyMediator.superclass.Init.call(this),this._resolvedQueue=[],this._callback=this._eventHandler.bind(this);var t=this._operation,r=["oj"];this._isCustomElement?(r.push(t.charAt(0).toUpperCase()),r.push(t.slice(1))):r.push(t);var i=this._eventType=r.join("");this._element.on(i,this._callback);var o=e.Context.getContext(this._element[0]).getBusyContext(),n={description:this._getBusyStateDescription.bind(this,this._element,this._operation,this._widgetName)},s=o.addBusyState(n);this.AddPromiseExecutor(s),this._whenReadyPromise=new Promise(this.AddPromiseExecutor.bind(this))},e.PopupWhenReadyMediator.prototype._getBusyStateDescription=function(e,t,r){return r+" identified by '"+e.attr("id")+"' is busy animating on the '"+t+"' operation."},e.PopupWhenReadyMediator.prototype._deliverResolved=function(t){var r=this._resolvedQueue;this._resolvedQueue=null,t=t||this._operation,this._operation=null;for(var i=0;i<r.length;i++)try{r[i](t)}catch(t){e.Logger.error("Error resolving whenReady promises:\n%o",t)}this._whenReadyPromise=Promise.resolve("none")},e.PopupWhenReadyMediator.prototype.destroy=function(){if(this._resolvedQueue&&this._deliverResolved("none"),this._callback){var e=this._eventType;this._element.off(e,this._callback)}this._callback=null,this._element=null,this._operation=null,this._whenReadyPromise=null,this._widgetName=null,this._eventType=null},e.PopupWhenReadyMediator.prototype.getWhenReadyPromise=function(){return this._whenReadyPromise},e.PopupWhenReadyMediator.prototype._eventHandler=function(e){e.target===this._element[0]&&(this._element.off(e.type,this._callback),this._deliverResolved(),this._callback=null)},e.PopupWhenReadyMediator.prototype._getPendingOperation=function(){return this._operation?this._operation:"none"},e.PopupWhenReadyMediator.prototype.AddPromiseExecutor=function(e,t){this._resolvedQueue&&this._resolvedQueue.push(e)},e.PopupWhenReadyMediator.prototype.isOperationPending=function(t,r,i,o){var n=!1,s=this._widgetName,l=this._getPendingOperation();return r===l?(e.Logger.info("An %s instance invoked a '%s' operation while pending animation of the same type of operation.  The second request will be ignored.",s,r),n=!0):"none"!==l&&(e.Logger.info("An %s instance invoked a '%s' operation while pending animation of a '%s' operation. The second request will be invoked after the pending operation completes.",s,r,l),new Promise(this.AddPromiseExecutor.bind(this)).then(function(){this[i].apply(this,o)}.bind(t)),n=!0),n},e.PositionUtils={},e.PositionUtils.normalizeHorizontalAlignment=function(r,i){for(var o=t.extend({},r),n=0;n<e.PositionUtils._ALIGN_RULE_PROPERTIES.length;n++){var s=e.PositionUtils._ALIGN_RULE_PROPERTIES[n],l=o[s];if(l)if(e.StringUtils.isString(l))o[s]=l.replace("start",i?"right":"left").replace("end",i?"left":"right").replace("<",i?"+":"-").replace(">",i?"-":"+");else for(var a=0;a<e.PositionUtils._SUB_ALIGN_RULE_PROPERTIES.length;a++){var p=e.PositionUtils._SUB_ALIGN_RULE_PROPERTIES[a],u=l[p];e.StringUtils.isString(u)&&(l[p]=u.replace("start",i?"right":"left").replace("end",i?"left":"right").replace("<",i?"+":"-").replace(">",i?"-":"+"))}}return o},e.PositionUtils.normalizePositionOf=function(e,t,r){return"event"===e?r:null==e||"launcher"===e?t:e},e.PositionUtils._normalizeEventForPosition=function(e){t.each(["pageX","pageY"],function(t,r){if(e&&void 0===e[r]&&e.originalEvent){var i=e.originalEvent,o=i.type,n="touchstart"===o||"touchmove"===o?"touches":"touchend"===o?"changedTouches":null;if(n){var s=i[n][0];s&&(e[r]=s[r])}}})},e.PositionUtils._ALIGN_RULE_PROPERTIES=["my","at"],e.PositionUtils._SUB_ALIGN_RULE_PROPERTIES=["vertical","horizontal"],e.PositionUtils.isAligningPositionClipped=function(t){if(t.target&&t.target.height>0&&t.target.width>0){var r=t.target.element;return!e.PositionUtils.isWithinViewport(r)}return!1},e.PositionUtils.isWithinViewport=function(r){function i(t,r){if(["hidden","scroll","auto"].indexOf(r.overflowY)>-1){if(t.bottom-r.top<-1)return!1;var i="auto"===r.overflowX&&r.scrollWidth>r.innerWidth||"scroll"===r.overflowX?e.DomUtils.getScrollBarWidth():0;if(r.bottom-i-t.top<1)return!1}return!(["hidden","scroll","auto"].indexOf(r.overflowX)>-1&&(i="auto"===r.overflowY&&r.scrollHeight>r.innerHeight||"scroll"===r.overflowY?e.DomUtils.getScrollBarWidth():0,t.right-(r.left+("rtl"===e.DomUtils.getReadingDirection()?i:0))<-1||t.left-(r.right-("ltr"===e.DomUtils.getReadingDirection()?i:0))>-1))}function o(e){return"visible"!==e.css("overflow-x")||"visible"!==e.css("overflow-y")}function n(e){var r=e[0];if(1===r.nodeType){var i=t.extend({},r.getBoundingClientRect());return i.overflowX=e.css("overflow-x"),i.overflowY=e.css("overflow-y"),i.innerHeight=e.innerHeight(),i.innerWidth=e.innerWidth(),i.scrollHeight=r.scrollHeight,i.scrollWidth=r.scrollWidth,i}return{height:0,width:0}}function s(t){return["fixed","absolute","relative"].indexOf(t.css("position"))>-1&&(Math.abs(e.DomUtils.getCSSLengthAsInt(t.css("top")))>0||Math.abs(e.DomUtils.getCSSLengthAsInt(t.css("bottom")))>0||Math.abs(e.DomUtils.getCSSLengthAsInt(t.css("left")))>0||Math.abs(e.DomUtils.getCSSLengthAsInt(t.css("right")))>0)}if(!r)return!1;if(t.isWindow(r[0])||s(r))return!0;for(var l=n(r),a=!0,p=r.parent();a&&p&&p.length>0&&"BODY"!==p[0].nodeName&&1===p[0].nodeType&&!s(p);){if(o(p)){var u=n(p);u.height>0&&u.width>0&&(a=i(l,u))}p=p.parent()}return a},e.PositionUtils._ANIMATION_TRANSFORM_ORIGIN_RULES={"right-top":"right top","right-middle":"right center","right-bottom":"right bottom","left-top":"left top","left-middle":"left center","left-bottom":"left bottom","center-top":"center top","center-middle":"center center","center-bottom":"center bottom"},e.PositionUtils._ALIGN_MNEMONIC_DATA="oj-popup-align-mnemonic",e.PositionUtils.captureTransformOriginAnimationEffectsOption=function(t,r){var i=[r.horizontal,r.vertical].join("-");t.data(e.PositionUtils._ALIGN_MNEMONIC_DATA,i)},e.PositionUtils.addTransformOriginAnimationEffectsOption=function(t,r){var i,o;e.StringUtils.isString(r)?(o=!0,i=r):(o=!1,i=JSON.stringify(r));var n=/#myPosition/g;if(i.match(n)){var s=t.data(e.PositionUtils._ALIGN_MNEMONIC_DATA);e.StringUtils.isEmptyOrUndefined(s)&&(s="center-middle");var l=e.PositionUtils._ANIMATION_TRANSFORM_ORIGIN_RULES[s];i=i.replace(n,l),r=o?i:JSON.parse(i)}return r},e.PositionUtils._JQUI_MNEMONIC_GRP_REGX=/^(\w+)(\+|\-)?(\d+)?/,e.PositionUtils._VERTICAL_ENUM_TST_REGX=/^top$|^center$|^bottom$/,e.PositionUtils._HORIZONTAL_ENUM_TST_REGX=/^start$|^left$|^center$|^end$|^right$/,e.PositionUtils._COLLISION_ENUM_TST_REGX=/^none$|^flip$|^flipfit$|^fit$|^flipcenter$/,e.PositionUtils._parsePositionNmnemonic=function(t,r){var i=[null,Number.NaN],o=e.PositionUtils._JQUI_MNEMONIC_GRP_REGX.exec(t);if(o[1]&&r.test(o[1])&&(i[0]=o[1],o[2])){var n=parseInt(o[3],10);isNaN(n)||(n*="-"===o[2]?-1:1,i[1]=n)}return i},e.PositionUtils._parseJSON=function(t){if(e.StringUtils.isString(t)&&/^{/.test(t)&&/}$/.test(t))try{return JSON.parse(t)}catch(e){}return null},e.PositionUtils._coerceMyAtToJet=function(r,i,o,n){var s=e.PositionUtils._parseJSON(i);s&&(i=s),(s=e.PositionUtils._parseJSON(o))&&(o=s),n||(n={});var l,a=t.extend({},n),p={x:0,y:0};if(o&&"x"in o&&"y"in o&&(p.x=e.DomUtils.getCSSLengthAsInt(o.x),p.y=e.DomUtils.getCSSLengthAsInt(o.y)),e.StringUtils.isString(i)){var u=i.split(/\s/);u.length>0&&!e.StringUtils.isEmpty(u[0])&&(l=e.PositionUtils._parsePositionNmnemonic(u[0],e.PositionUtils._HORIZONTAL_ENUM_TST_REGX))[0]&&(a.horizontal=l[0],isNaN(l[1])||(p.x=l[1])),u.length>1&&!e.StringUtils.isEmpty(u[1])&&(l=e.PositionUtils._parsePositionNmnemonic(u[1],e.PositionUtils._VERTICAL_ENUM_TST_REGX))[0]&&(a.vertical=l[0],isNaN(l[1])||(p.y=l[1]))
}else i&&("horizontal"in i&&(l=e.PositionUtils._parsePositionNmnemonic(i.horizontal,e.PositionUtils._HORIZONTAL_ENUM_TST_REGX))[0]&&(a.horizontal=l[0],isNaN(l[1])||(p.x=l[1])),"vertical"in i&&(l=e.PositionUtils._parsePositionNmnemonic(i.vertical,e.PositionUtils._VERTICAL_ENUM_TST_REGX))[0]&&(a.vertical=l[0],isNaN(l[1])||(p.y=l[1])));var c={};return c[r]=a,c.offset=p,c},e.PositionUtils._coerceCollisionToJet=function(t,r){var i=r;return e.PositionUtils._COLLISION_ENUM_TST_REGX.test(t)&&(i=t),{collision:i}},e.PositionUtils._coerceOfToJet=function(r,i){var o=e.PositionUtils._parseJSON(r);o&&(r=o);var n=i;return e.StringUtils.isString(r)?n=r:t.isWindow(r)?n="window":r instanceof Element||r instanceof t?((r=t(r)).uniqueId(),n="#"+function(e){for(var t=[],r=/\w|_|-/,i=0;i<e.length;i++){var o=e.substring(i,i+1);r.test(o)?t.push(o):t.push("\\"+o)}return t.join("")}(r.attr("id"))):r instanceof Event||r instanceof t.Event?("pageX"in r||"pageY"in r)&&((n={}).x=e.DomUtils.getCSSLengthAsFloat(r.pageX),n.y=e.DomUtils.getCSSLengthAsFloat(r.pageY)):r&&("x"in r||"y"in r)&&((n={}).x=e.DomUtils.getCSSLengthAsFloat(r.x),n.y=e.DomUtils.getCSSLengthAsFloat(r.y)),{of:n}},e.PositionUtils.coerceToJet=function(r,i){r||(r={});var o=e.PositionUtils._parseJSON(r);o&&(r=o),i||(i={});var n=i.my,s=i.at,l=i.collision,a=i.of,p=e.PositionUtils._coerceMyAtToJet("my",r.my,r.offset,n),u=e.PositionUtils._coerceMyAtToJet("at",r.at,null,s),c={offset:{x:p.offset.x+u.offset.x,y:p.offset.y+u.offset.y}};return delete p.offset,delete u.offset,t.extend({},p,u,c,e.PositionUtils._coerceCollisionToJet(r.collision,l),e.PositionUtils._coerceOfToJet(r.of,a),function(e,r){return{using:t.isFunction(e)?e:void 0}}(r.using))},e.PositionUtils.coerceToJqUi=function(r){function i(e,t){var i=[];if(r[e][t]?i.push(r[e][t]):i.push("center"),"my"===e&&r.offset){var o="horizontal"===t?"x":"y",n=r.offset[o];isNaN(n)||0===n||(i.push(n>0?"+":""),i.push(Math.floor(n).toString()))}return i.join("")}var o={};["my","at"].forEach(function(e){if(r[e]){var t=[];t.push(i(e,"horizontal")),t.push(" "),t.push(i(e,"vertical")),o[e]=t.join("")}});var n=r.of;if(e.StringUtils.isString(n))o.of="window"===n?window:n;else if(n&&!e.StringUtils.isString(n)&&"x"in n&&"y"in n){var s=n.x,l=n.y,a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,1,s,l,s,l,!1,!1,!1,!1,0,null),o.of=t.Event(a,{pageX:s,pageY:l})}else o.of=n;return r.collision&&(o.collision=r.collision),r.using&&(o.using=r.using),o},t.ui.position.flipcenter={left:function(r,i){var o=r.left;t.ui.position.flip.left.call(this,r,i);var n=i.within,s=n.isWindow?n.scrollLeft:n.offset.left,l=n.width,a=r.left-i.collisionPosition.marginLeft,p=s-a,u=a+i.collisionWidth-l-s;(p>0||u>0)&&("right"===i.at[0]?o-=i.targetWidth/2:"left"===i.at[0]&&(o+=i.targetWidth/2),o-=("rtl"===e.DomUtils.getReadingDirection()?-1:1)*(i.elemWidth/2),r.left=Math.max(0,o))},top:function(e,r){var i=e.top;t.ui.position.flip.top.call(this,e,r);var o=r.within,n=o.isWindow?o.scrollTop:o.offset.top,s=r.within.height,l=e.top-r.collisionPosition.marginTop,a=n-l,p=l+r.collisionHeight-s-n;(a>0||p>0)&&("top"===r.at[1]?i+=r.targetHeight/2:"bottom"===r.at[1]&&(i-=r.targetHeight/2),i+=r.elemHeight/2,e.top=Math.max(0,i))}};var r=t.ui.position.flip.left;t.ui.position.flip={left:r.bind(this),top:function(e,t){var r,i,o=t.within,n=o.offset.top+o.scrollTop,s=o.height,l=o.isWindow?o.scrollTop:o.offset.top,a=e.top-t.collisionPosition.marginTop,p=a-l,u=a+t.collisionHeight-s-l,c="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,d="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,_=-2*t.offset[1];p<0?((r=e.top+c+d+_+t.collisionHeight-s-n)<0||r<Math.abs(p))&&u<0&&p>u&&(e.top+=c+d+_):u>0&&((i=e.top-t.collisionPosition.marginTop+c+d+_-l)>0||Math.abs(i)<u)&&(e.top+=c+d+_)}}});
define('ojs/ojanimation',["ojs/ojcore","jquery","promise","ojs/ojcomponentcore"],function(t,i){t.AnimationUtils={},t.AnimationUtils._getName=function(i,n){if(!t.AnimationUtils._nameMap){t.AnimationUtils._nameMap={};var e=t.AnimationUtils._nameMap,a=i.style;e.backfaceVisibility=void 0!==a.webkitBackfaceVisibility?"webkitBackfaceVisibility":"backfaceVisibility",e.transform=void 0!==a.webkitTransform?"webkitTransform":"transform",e.transformOrigin=void 0!==a.webkitTransformOrigin?"webkitTransformOrigin":"transformOrigin",e.transition=void 0!==a.webkitTransition?"webkitTransition":"transition",e.transitionend=void 0!==a.webkitTransition?"webkitTransitionEnd":"transitionend"}return t.AnimationUtils._nameMap[n]||n},t.AnimationUtils._getElementStyle=function(i,n){return i.style[t.AnimationUtils._getName(i,n)]},t.AnimationUtils._setElementStyle=function(i,n,e){i.style[t.AnimationUtils._getName(i,n)]=e},t.AnimationUtils._animate=function(n,e,a,o,s,r){var l=[].concat(s),m=function(i,m){var f=function(i){var n=0==i.propertyName.indexOf("-webkit-")?i.propertyName.substr(8):i.propertyName;n=t.AnimationUtils._getCamelCasePropName(n);var e=l.indexOf(n);e>-1&&(l.length>1?l.splice(e,1):p())},c=0,d=!1,p=function(){d||(c&&(window.cancelAnimationFrame(c),c=0),n.removeEventListener(t.AnimationUtils._getName(n,"transitionend"),f),i&&i(!0),d=!0)};null==a&&(a={}),null==a.css&&(a.css={}),a.css.transition=t.AnimationUtils._createTransitionValue(n,s,o);var u=t.AnimationUtils._saveStyle(n,e,a,o,r||s);t.AnimationUtils._applyState(n,e,u>1),n.addEventListener(t.AnimationUtils._getName(n,"transitionend"),f);var A=o.duration,g=o.delay,_=o._skipPromise;function U(){c=0,t.AnimationUtils._applyState(n,a,u>1)}null==e?U():(o._noReflow||(t.AnimationUtils._x=n.offsetWidth),c=window.requestAnimationFrame(U));var v=t.AnimationUtils._getTotalTiming(A,g);_||setTimeout(p,v+100)};return o._skipPromise?(m(null),null):new Promise(m).then(function(){e&&e.addClass&&i(n).removeClass(e.addClass),a&&a.addClass&&i(n).removeClass(a.addClass),t.AnimationUtils._restoreStyle(n)})},t.AnimationUtils._saveCssValues=function(i,n,e,a){for(var o in n)e.hasOwnProperty(o)||a&&-1!=a.indexOf(o)||(e[o]=t.AnimationUtils._getElementStyle(i,o))},t.AnimationUtils._saveStyle=function(i,n,e,a,o){var s=i._ojSavedStyle||{},r=n&&n.css?n.css:{},l=e&&e.css?e.css:{};a&&"all"===a.persist||(o=null),t.AnimationUtils._saveCssValues(i,r,s,o),t.AnimationUtils._saveCssValues(i,l,s,o),i._ojSavedStyle=s;var m=i._ojEffectCount||0;return i._ojEffectCount=++m,m},t.AnimationUtils._restoreStyle=function(i){var n=i._ojEffectCount;if(n>1)i._ojEffectCount=n-1;else{var e=i._ojSavedStyle;if(e){for(var a in e)t.AnimationUtils._setElementStyle(i,a,e[a]);delete i._ojSavedStyle,delete i._ojEffectCount}}},t.AnimationUtils._getCamelCasePropName=function(t){if(t.indexOf("-")>=0){for(var i="",n=t.split("-"),e=0;e<n.length;e++){var a=n[e];a&&(i?i+=a.charAt(0).toUpperCase()+a.slice(1):i=a)}return i}return t},t.AnimationUtils._getHyphenatedPropName=function(t){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return 0==i.indexOf("webkit")&&(i="-"+i),i},t.AnimationUtils._concatMultiValue=function(i,n,e,a,o){if(n.css[e]){var s=t.AnimationUtils._getElementStyle(i,e);s&&0!=s.indexOf(a)&&(n.css[e]=s+o+n.css[e])}},t.AnimationUtils._splitTransform=function(t){var i=[];if(t&&"none"!=t)for(var n;(n=t.indexOf(")"))>0;){var e=t.substr(0,n+1);i.push(e.trim()),t=t.slice(n+1)}return i},t.AnimationUtils._getTransformFuncName=function(t){var i=t.indexOf("(");return i>=1?t.substr(0,i):t},t.AnimationUtils._applyTransform=function(i,n){for(var e=t.AnimationUtils._getElementStyle(i,"transform"),a=t.AnimationUtils._splitTransform(e),o=t.AnimationUtils._splitTransform(n),s=[],r=0;r<o.length;r++){var l=t.AnimationUtils._getTransformFuncName(o[r]),m=!1;if(l)for(var f=0;f<a.length;f++)0==a[f].indexOf(l+"(")&&(a[f]=o[r],m=!0);m||s.push(o[r])}return(a=a.concat(s)).join(" ")},t.AnimationUtils._applyState=function(n,e,a){if(e){if(e.css){a&&t.AnimationUtils._concatMultiValue(n,e,"transition","all",", "),e.css.transform&&(e.css.transform=t.AnimationUtils._applyTransform(n,e.css.transform));var o=e.css;for(var s in o)t.AnimationUtils._setElementStyle(n,s,o[s])}e.addClass&&i(n).addClass(e.addClass),e.removeClass&&i(n).removeClass(e.removeClass)}},t.AnimationUtils._getTimingValue=function(t){var i=parseFloat(t);return isNaN(i)?0:t.indexOf("ms")>-1?i:1e3*i},t.AnimationUtils._getTotalTiming=function(i,n){var e=t.AnimationUtils._getTimingValue(i);return e>0?e+(n?t.AnimationUtils._getTimingValue(n):0):0},t.AnimationUtils._calcCssTime=function(i,n,e){for(var a=i.split(","),o=n.split(","),s=e.split(","),r=a.length,l=o.length,m=s.length,f=0,c=0;c<r;c++){var d=s[c%m],p=o[c%l],u=t.AnimationUtils._getTotalTiming(d,p);f=Math.max(f,u)}return f},t.AnimationUtils._calcEffectTime=function(i){var n,e,a,o=window.getComputedStyle(i);n=o.animationName||o.webkitAnimationName,e=o.animationDelay||o.webkitAnimationDelay,a=o.animationDuration||o.webkitAnimationDuration;var s=t.AnimationUtils._calcCssTime(n,e,a);n=o.transitionProperty||o.webkitTransitionProperty,e=o.transitionDelay||o.webkitTransitionDelay,a=o.transitionDuration||o.webkitTransitionDuration;var r=t.AnimationUtils._calcCssTime(n,e,a);return Math.max(s,r)},t.AnimationUtils._fillEmptyOptions=function(t,i){t.delay=t.delay||i.delay,t.duration=t.duration||i.duration,t.timingFunction=t.timingFunction||i.timingFunction,t.persist=t.persist||i.persist},t.AnimationUtils._triggerEvent=function(t,i,n,e){var a;if(e&&e._trigger)a=!e._trigger(i,null,n);else{var o="oj"+i.substr(0,1).toUpperCase()+i.substr(1),s=new CustomEvent(o,{detail:n,bubbles:!0,cancelable:!0}),r=e||t;r.dispatchEvent&&r.dispatchEvent(s),a=s.defaultPrevented}return a},t.AnimationUtils.startAnimation=function(n,e,a,o){return n=i(n)[0],new Promise(function(s,r){var l=i(n),m="oj-animate-"+e,f=m+"-active",c=!1,d=!1,p=function(){if(c&&d){l.removeClass(m),l.removeClass(f),t.AnimationUtils._restoreStyle(n),s(!0);var i={action:e,element:n};t.AnimationUtils._triggerEvent(n,"animateEnd",i,o)}},u=function(){c=!0,p()},A=function(){d=!0,p()};t.AnimationUtils._saveStyle(n,null,null,null,null);var g={action:e,element:n,endCallback:u};if(!t.AnimationUtils._triggerEvent(n,"animateStart",g,o)){for(var _=[].concat(a),U=[],v={},h=0;h<_.length;h++){var y,x=_[h],w="";null!=x&&"none"!=x&&("string"==typeof x?(w=x,y={}):"object"==typeof x&&(w=x.effect,y=i.extend({},x)),t.AnimationUtils._fillEmptyOptions(y,v),v=i.extend({},y)),w&&t.AnimationUtils[w]&&U.push(t.AnimationUtils[w](n,y))}U.length?Promise.all(U).then(u):u()}l.addClass(m);var b=window.requestAnimationFrame(function(){b=0,l.addClass(f);var i=t.AnimationUtils._calcEffectTime(n);i>0?setTimeout(A,i+100):A()});setTimeout(function(){b&&(window.cancelAnimationFrame(b),b=0,A())},1e3)})},t.AnimationUtils._mergeOptions=function(n,e){return null==t.AnimationUtils._defaultOptions&&(t.AnimationUtils._defaultOptions=t.ThemeUtils.parseJSONFromFontFamily("oj-animation-effect-default-options")),i.extend({duration:"400ms"},t.AnimationUtils._defaultOptions?t.AnimationUtils._defaultOptions[n]:null,e)},t.AnimationUtils._createTransitionValue=function(i,n,e){var a="";if(n)for(var o=0;o<n.length;o++){var s=t.AnimationUtils._getName(i,n[o]);a+=(o>0?", ":"")+t.AnimationUtils._getHyphenatedPropName(s)+" "+e.duration,e.timingFunction&&(a+=" "+e.timingFunction),e.delay&&(a+=" "+e.delay)}return a},t.AnimationUtils._fade=function(i,n,e,a,o){var s={css:{opacity:a}},r={css:{opacity:o}};return(n=t.AnimationUtils._mergeOptions(e,n))&&(n.startOpacity&&(s.css.opacity=n.startOpacity),n.endOpacity&&(r.css.opacity=n.endOpacity)),t.AnimationUtils._animate(i,s,r,n,["opacity"])},t.AnimationUtils.fadeIn=function(i,n){return t.AnimationUtils._fade(i,n,"fadeIn",0,1)},t.AnimationUtils.fadeOut=function(i,n){return t.AnimationUtils._fade(i,n,"fadeOut",1,0)},t.AnimationUtils.expand=function(i,n){return t.AnimationUtils._expandCollapse(i,n,!0)},t.AnimationUtils.collapse=function(i,n){return t.AnimationUtils._expandCollapse(i,n,!1)},t.AnimationUtils._wrapRowContent=function(t,i){var n=[],e=t.children,a=[],o=[];t._ojSavedHeight=t.style.height;for(var s=0;s<e.length;s++){var r=e[s],l=window.getComputedStyle(r);a.push(l.padding),o.push(l.textAlign),r._ojSavedPadding=r.style.padding}for(s=0;s<e.length;s++){r=e[s];var m=document.createElement("div");m.style.overflow="hidden;";var f=document.createElement("div");for(f.style.display="table-cell",f.style.verticalAlign="middle",f.style.boxSizing="border-box",f.style.height=i,f.style.padding=a[s],f.style.textAlign=o[s],m.appendChild(f);r.firstChild;)f.appendChild(r.firstChild);r.appendChild(m),r.style.padding="0",n.push(m)}return t.style.height="0",n},t.AnimationUtils._unwrapRowContent=function(t){for(var i=t.children,n=0;n<i.length;n++){var e=i[n],a=e.children[0];if(a){var o=a.children[0];if(o)for(;o.firstChild;)e.appendChild(o.firstChild);e.removeChild(a)}e.style.padding=e._ojSavedPadding,delete e._ojSavedPadding}t.style.height=t._ojSavedHeight,delete t._ojSavedHeight},t.AnimationUtils._expandCollapseRow=function(n,e,a){var o,s=n.offsetHeight+"px",r=t.AnimationUtils._wrapRowContent(n,s),l=i.extend({},e);if(a?l.endMaxHeight||(l.endMaxHeight=s):l.startMaxHeight||(l.startMaxHeight=s),l.persist="all",l._noReflow=!0,r.length)for(var m=0;m<r.length;m++)0==m?(l._skipPromise=!1,o=t.AnimationUtils._expandCollapse(r[m],l,a)):(l._skipPromise=!0,t.AnimationUtils._expandCollapse(r[m],l,a));else o=Promise.resolve();return o.then(function(){null!=e&&"all"==e.persist||t.AnimationUtils._unwrapRowContent(n)})},t.AnimationUtils._getSizeLimit=function(t,i,n,e,a){var o=n;if(!o)if(e)o="0";else{var s=a?i.maxWidth:i.maxHeight;o="none"!==s?s:(a?t.offsetWidth:t.offsetHeight)+"px"}return o},t.AnimationUtils._expandCollapse=function(i,n,e){if(i&&"TR"==i.tagName)return t.AnimationUtils._expandCollapseRow(i,n,e);var a={},o={},s=(n=t.AnimationUtils._mergeOptions(e?"expand":"collapse",n)).direction||"height",r=a.css={},l=o.css={},m=window.getComputedStyle(i),f=[];if("both"===s||"height"===s){var c=t.AnimationUtils._getSizeLimit(i,m,n.startMaxHeight,e,!1),d=t.AnimationUtils._getSizeLimit(i,m,n.endMaxHeight,!e,!1);r.maxHeight=c,l.maxHeight=d,f.push("maxHeight")}if("both"===s||"width"===s){var p=t.AnimationUtils._getSizeLimit(i,m,n.startMaxWidth,e,!0),u=t.AnimationUtils._getSizeLimit(i,m,n.endMaxWidth,!e,!0);r.maxWidth=p,l.maxWidth=u,f.push("maxWidth")}r.overflow=n.overflow?n.overflow:"hidden";var A=[].concat(f);return A.push("overflow"),t.AnimationUtils._animate(i,a,o,n,f,A)},t.AnimationUtils.zoomIn=function(i,n){return t.AnimationUtils._zoom(i,n,!0)},t.AnimationUtils.zoomOut=function(i,n){return t.AnimationUtils._zoom(i,n,!1)},t.AnimationUtils._zoom=function(i,n,e){var a={},o={},s=(n=t.AnimationUtils._mergeOptions(e?"zoomIn":"zoomOut",n)).axis||"both",r="both"===s?"scale":"x"===s?"scaleX":"scaleY",l=a.css={},m=o.css={};return l.transform=r+"("+(e?0:1)+") translateZ(0)",m.transform=r+"("+(e?1:0)+") translateZ(0)",l.transformOrigin=n.transformOrigin||"center",t.AnimationUtils._animate(i,a,o,n,["transform"])},t.AnimationUtils.slideIn=function(i,n){return t.AnimationUtils._slide(i,n,!0)},t.AnimationUtils.slideOut=function(i,n){return t.AnimationUtils._slide(i,n,!1)},t.AnimationUtils._slide=function(i,n,e){var a={},o={},s=(n=t.AnimationUtils._mergeOptions(e?"slideIn":"slideOut",n)).direction||"start",r="0",l="0",m=a.css={},f=o.css={};if(n.offsetX||n.offsetY)n.offsetX&&(r=n.offsetX),n.offsetY&&(l=n.offsetY);else{var c="rtl"===t.DomUtils.getReadingDirection();switch(s){case"left":r=(e?i.offsetWidth:-i.offsetWidth)+"px";break;case"right":r=(e?-i.offsetWidth:i.offsetWidth)+"px";break;case"top":l=(e?i.offsetHeight:-i.offsetHeight)+"px";break;case"bottom":l=(e?-i.offsetHeight:i.offsetHeight)+"px";break;case"end":r=(e?-i.offsetWidth:i.offsetWidth)*(c?-1:1)+"px";break;default:r=(e?i.offsetWidth:-i.offsetWidth)*(c?-1:1)+"px"}}return e?(m.transform="translate("+r+","+l+") translateZ(0)",f.transform="translate(0,0) translateZ(0)"):(m.transform="translate(0,0) translateZ(0)",f.transform="translate("+r+","+l+") translateZ(0)"),t.AnimationUtils._animate(i,a,o,n,["transform"])},t.AnimationUtils.ripple=function(n,e){e=t.AnimationUtils._mergeOptions("ripple",e);var a={},o={},s=n.offsetWidth,r=n.offsetHeight,l=i("<div style='position:absolute; overflow:hidden'>"),m=i("<div class='oj-animation-effect-ripple oj-animation-rippler'>"),f="static"==window.getComputedStyle(n).position?{left:n.offsetLeft,top:n.offsetTop}:{left:0,top:0};n.insertBefore(l[0],n.firstChild),l.css({left:f.left+"px",top:f.top+"px",width:s+"px",height:r+"px"}),l.prepend(m);var c=a.css={},d=o.css={};return t.AnimationUtils._setRippleOptions(c,m,l,e),c.transform="scale(0) translateZ(0)",c.opacity=e.startOpacity||m.css("opacity"),d.transform="scale(1) translateZ(0)",d.opacity=e.endOpacity||0,e.persist="all",t.AnimationUtils._animate(m[0],a,o,e,["transform","opacity"]).then(function(){l.remove()})},t.AnimationUtils._setRippleOptions=function(i,n,e,a){var o=n.width(),s=e.width(),r=e.height();if(a.diameter){var l=a.diameter,m=parseInt(l,10);isNaN(m)||(o="%"==l.charAt(l.length-1)?Math.floor(Math.min(s,r)*(m/100)):m,i.width=o+"px",i.height=o+"px")}var f,c="static"==e.css("position")?e.position():{left:0,top:0};null!=(f=t.AnimationUtils._calcRippleOffset(a.offsetX,o,s,c.left))&&(i.left=f+"px"),null!=(f=t.AnimationUtils._calcRippleOffset(a.offsetY,o,r,c.top))&&(i.top=f+"px"),a.color&&(i.backgroundColor=a.color)},t.AnimationUtils._calcRippleOffset=function(t,i,n,e){var a;t=t||"50%";var o=parseInt(t,10);return isNaN(o)||(a="%"==t.charAt(t.length-1)?n*(o/100)-i/2:o-i/2,a=Math.floor(a+e)),a},t.AnimationUtils._removeRipple=function(n,e){var a=(e=e||{}).removeEffect||"fadeOut",o=i(".oj-animation-rippler",n);if(0!==o.length)return a in{fadeOut:1,collapse:1,zoomOut:1,slideOut:1}?t.AnimationUtils[a](o,e).then(function(){o.remove()}):o.remove();console.warn("No rippler so returning")},t.AnimationUtils._calcBackfaceAngle=function(t){var i,n=t.match(/^([\+\-]?\d*\.?\d*)(.*)$/),e=parseFloat(n[1]),a=n[2];switch(a){case"deg":i=e-180+a;break;case"grad":i=e-200+a;break;case"rad":i=e-3.1416+a;break;case"turn":i=e-.5+a;break;default:console.log("Unknown angle unit in flip animation: "+a)}return i},t.AnimationUtils._flip=function(n,e,a,o,s){if(e&&"children"==e.flipTarget){var r,l=[],m=i(n).children(),f=i.extend({},e);delete f.flipTarget;var c=i.extend({},f);c.startAngle=t.AnimationUtils._calcBackfaceAngle(e.startAngle||o),c.endAngle=t.AnimationUtils._calcBackfaceAngle(e.endAngle||s);for(var d=0;d<m.length;d++)r=i(m[d]).hasClass("oj-animation-backface")?c:f,l.push(t.AnimationUtils._flip(m[d],r,a,o,s));return Promise.all(l)}var p,u={},A={},g={css:u},_={css:A},U="rotateY(",v="2000px",h="hidden",y="center";return(e=t.AnimationUtils._mergeOptions(a,e))&&("x"===e.axis&&(U="rotateX("),e.startAngle&&(o=e.startAngle),e.endAngle&&(s=e.endAngle),e.perspective&&(v=e.perspective),e.backfaceVisibility&&(h=e.backfaceVisibility),e.transformOrigin&&(y=e.transformOrigin)),p="perspective("+v+") "+U,u.transform=p+o+")",u.backfaceVisibility=h,u.transformOrigin=y,A.transform=p+s+")",t.AnimationUtils._animate(n,g,_,e,["transform"],["transform","backfaceVisibility","transformOrigin"])},t.AnimationUtils.flipIn=function(i,n){return t.AnimationUtils._flip(i,n,"flipIn","-180deg","0deg")},t.AnimationUtils.flipOut=function(i,n){return t.AnimationUtils._flip(i,n,"flipOut","0deg","180deg")},t.AnimationUtils.addTransition=function(i,n){return n=t.AnimationUtils._mergeOptions("addTransition",n),t.AnimationUtils._animate(i,null,null,n,n.transitionProperties)}});
define('ojs/ojmenu',["ojs/ojcore","jquery","hammerjs","ojs/ojjquery-hammer","promise","ojs/ojcomponentcore","ojs/ojpopupcore","ojs/ojanimation","ojs/ojoption"],function(e,t,i){!function(){e.__registerWidget("oj.ojMenu",t.oj.baseComponent,{defaultElement:"<ul>",delay:300,role:"menu",widgetEventPrefix:"oj",options:{menuSelector:"ul",openOptions:{display:"auto",initialFocus:"menu",launcher:null,position:{my:{horizontal:"start",vertical:"top"},offset:{x:0,y:0},at:{horizontal:"start",vertical:"bottom"},of:void 0,collision:"flipfit"}},submenuOpenOptions:{position:{my:"start top",at:"end top",collision:"flipfit"}},animateStart:null,animateEnd:null,beforeOpen:null,close:null,open:null,action:null},_ComponentCreate:function(){if(this._super(),this._focusForTesting=this._focus,this._nextForTesting=this._next,this._selectForTesting=this._select,this._IsCustomElement()){var t=this.element.parent();t.is("oj-option")&&t.parent().is("oj-menu")&&(this._isSubmenu=!0,this._createAsSubmenu()),this._isSubmenu||this._createAsTopLevelMenu();var i=this.options;i.openOptions.position=e.PositionUtils.coerceToJet(i.openOptions.position)}else{if(l&&"ul"!==this.element[0].tagName.toLowerCase())throw new Error("Cancel item supported for <ul> menus only.");this._createAsTopLevelMenu()}},_createAsTopLevelMenu:function(){var e=this;this.activeMenu=this.element,this.mouseHandled=!1,this._setupSwipeBehavior(),this.element.uniqueId().addClass("oj-menu oj-component").hide().attr({role:this.role,tabIndex:"0"}),this._on(!0,{"mousedown .oj-menu-item":function(e){this.options.disabled&&e.preventDefault()},click:function(e){this.options.disabled&&e.preventDefault()},keydown:function(e){this.options.disabled&&(e.keyCode!==t.ui.keyCode.ESCAPE&&e.keyCode!==t.ui.keyCode.TAB||(e.keyCode===t.ui.keyCode.TAB&&e.preventDefault(),this._launcher&&this._focusLauncherAndDismiss(e)))}}),this.options.disabled&&this.element.addClass("oj-disabled").attr("aria-disabled","true");var i=function(e){if(!this.focusHandled){this.focusHandled=!0;var i=t(e.currentTarget);try{this._focusIsFromPointer=!0,this._focus(e,i)}finally{this._focusIsFromPointer=!1}}}.bind(this),n=function(e){e&&e.target&&!t(e.target).is(":visible")||this._collapse(e,"eventSubtree")}.bind(this);this._on({"mousedown .oj-menu-item > a":function(e){e.preventDefault()},"click .oj-disabled > a":function(e){e.preventDefault()},click:function(e){this.mouseHandled=!1},touchstart:function(e){this.focusHandled=!1},mouseover:function(e){this.focusHandled=!1},"click .oj-menu-item:has(a)":function(e){var i=t(e.target).closest(".oj-menu-item");if(!this.mouseHandled&&i.not(".oj-disabled").length){if(this.mouseHandled=!0,e.preventDefault(),this.active&&this.active.closest(i).length&&this.active.get(0)!=i.get(0))return;i.has(".oj-menu").length?this._expand(e):(this._select(e),this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".oj-menu").length&&this._clearTimer&&this._clearTimer()))}},"mouseenter .oj-menu-item":i,"touchstart .oj-menu-item":i,mouseleave:n,"mouseleave .oj-menu":n,focus:function(e,t){if(!t){var i=this.active||this.element.children(".oj-menu-item").eq(0);this._focus(e,i)}},keydown:this._keydown,keyup:function(e){e.keyCode!=t.ui.keyCode.ENTER&&e.keyCode!=t.ui.keyCode.SPACE||(this.__spaceEnterDownInMenu=!1)}}),this._focusable({applyHighlight:!r,recentPointer:function(){return e._focusIsFromPointer},setupHandlers:function(t,i){e._focusInHandler=t,e._focusOutHandler=i}}),this._usingCallback=t.proxy(this._usingHandler,this),this._setup()},_createAsSubmenu:function(){this.element.attr(e.Components._OJ_CONTAINER_ATTR,this.widgetName),this.element.uniqueId().addClass("oj-menu oj-component oj-menu-submenu oj-menu-dropdown").hide().attr({role:this.role,tabIndex:"0"}),this._setup()},__contextMenuPressHoldJustEnded:function(e){if(!arguments.length)return s;s=e},_processOjOptions:function(){var e=this;e._maxEndIconCount=0,e._maxStartIconCount=0,e._startIconWidth=0,e._endIconWidth=0;var i=this.element.find("oj-option");t.each(i,function(t,i){i.customOptionRenderer=e._customOptionRenderer.bind(e)})},_customOptionRenderer:function(i){var n=t(i),s=this;this._clearOption(n),this._hasSubmenus=!1;for(var o=n.children("a"),r=0;r<o.length;r++){var a=t(o[r]);if("opt"===a.attr("ojmenu")){a.children().removeClass("oj-menu-item-icon").removeClass("oj-menu-item-end-icon"),a.replaceWith(a.contents());break}}if(/[^\-\u2014\u2013\s]/.test(n.text())){this._initMenuItems(n);var l=document.createElement("a");l.setAttribute("href","#"),l.setAttribute("ojmenu","opt"),(a=t(l)).uniqueId().attr({tabIndex:"-1",role:this._itemRole()}),n.prepend(l);var u=e.BaseCustomElementBridge.getSlotMap(i);t.each(["startIcon","","endIcon"],function(e,i){if(u[i])if(""===i)t.each(u[i],function(e,i){t(i).is("oj-menu")?(s._setupSubmenu(a,t(i)),this._hasSubmenus=!0):a.append(i)});else if("startIcon"===i){var n=u[i].length;s._maxStartIconCount=Math.max(s._maxStartIconCount,n),t.each(u[i],function(e,i){t(i).addClass("oj-menu-item-icon"),a.append(i),n>1&&s._positionStartIcon(i,e,n)})}else if("endIcon"===i){var o=u[i].length;s._maxEndIconCount=Math.max(s._maxEndIconCount,o),t.each(u[i],function(e,i){t(i).addClass("oj-menu-item-end-icon"),a.append(i),o>1&&s._positionEndIcon(i,e,o)})}}),1==i.disabled?(n.addClass("oj-disabled"),a.attr("aria-disabled","true")):0==i.disabled&&(n.removeClass("oj-disabled"),a.removeAttr("aria-disabled"))}else this._initDividers(n);var c=this.element.children(),h=c.filter(".oj-menu-divider");this._initDividerNeighbors(c,h)},_positionStartIcon:function(e,i,n){if(this.isRtl)var s="margin-right";else s="margin-left";var o=parseInt(t(e).css(s),10);this._startIconWidth=-1*o,t(e).css(s,o*(n-i)+"px")},_positionEndIcon:function(e,i,n){if(this.isRtl)var s="margin-left",o="margin-right";else s="margin-right",o="margin-left";var r=parseInt(t(e).css(s),10);this._endIconWidth=-1*parseInt(t(e).css(o),10),t(e).css(s,r+this._endIconWidth*(n-i-1)+"px")},_updateMenuPadding:function(e){var t=e.children().children(),i=t.children(".oj-menu-item-icon:not(.oj-menu-cancel-icon)").length;e.toggleClass("oj-menu-icons",!!i).toggleClass("oj-menu-text-only",!i),this._maxStartIconCount&&this._maxStartIconCount>1&&this._applyAnchorIconPadding(t,this._startIconWidth,this._maxStartIconCount,!0);var n=t.children(".oj-menu-item-end-icon").length;e.toggleClass("oj-menu-end-icons",!!n),this._maxEndIconCount&&this._maxEndIconCount>1&&this._applyAnchorIconPadding(t,this._endIconWidth,this._maxEndIconCount,!1)},_applyAnchorIconPadding:function(e,i,n,s){if(this.isRtl&&s||!this.isRtl&&!s)var o="padding-right";else o="padding-left";e.each(function(){var e=parseInt(t(this).css(o),10);t(this).css(o,e+i*(n-1)+"px")})},_clickAwayHandler:function(e){if("focus"===e.type||"mousedown"===e.type||"touchstart"===e.type||93==e.which||121==e.which&&e.shiftKey||93==e.keyCode){if("mousedown"===e.type&&s)return;var i=this,o=n.slice(0,n.length);t.each(o,function(n,s){if(!t(e.target).closest(s.element).length&&("keydown"===e.type||"mousedown"===e.type&&3===e.which||!t(e.target).closest(s._launcher).length||s._launcherClickShouldDismiss&&("mousedown"===e.type&&3!==e.which||"touchstart"===e.type))&&!s._dismissEvent){s._dismissEvent=e;var o=s._collapse(e,"eventSubtree");i._runOnPromise(o,function(){s._dismissEvent&&(s._launcher&&s.__dismiss(e),s._dismissEvent=null)})}})}},_setOption:function(e,t){switch(this._superApply(arguments),e){case"translations.labelCancel":case"translations":this._cancelAnchor&&this._cancelAnchor.text(this.options.translations.labelCancel)}},_destroy:function(){this.element.is(":visible")&&this.__dismiss(),this._setWhenReady("none"),this._clearTimer&&this._clearTimer(),delete this._clearTimer,this.element.removeAttr("aria-activedescendant").removeClass("oj-component").find(".oj-menu").addBack().removeClass("oj-menu oj-menu-submenu oj-menu-icons oj-menu-end-icons oj-menu-text-only").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".oj-menu-item").removeClass("oj-menu-item").removeAttr("role").children("a").removeAttr("aria-disabled").removeUniqueId().removeClass("oj-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("oj-ojMenu-submenu-icon")&&e.remove()}),this.element.find("a").removeAttr("aria-expanded"),this.element.find(".oj-menu-divider").removeClass("oj-menu-divider").removeAttr("role"),n.indexOf(this)>=0&&n.splice(n.indexOf(this),1),delete this._popupServiceEvents,delete this._usingCallback;var e=this._clearCloseDelayTimer;delete this._clearCloseDelayTimer,e&&e(),this._cancelDom&&this._cancelDom.remove(),this.element.ojHammer("destroy"),this._super()},_keydown:function(e){var i,n,s,o,r,a=!0;function l(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(e.keyCode){case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this._previous(e);break;case t.ui.keyCode.DOWN:this._next(e);break;case t.ui.keyCode.LEFT:case t.ui.keyCode.RIGHT:e.keyCode===t.ui.keyCode.RIGHT^this.isRtl?this.active&&!this.active.is(".oj-disabled")&&this._expand(e):this._collapse(e,"active");break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._handleEnterSpace(e),this.__spaceEnterDownInMenu=!0;var u=this;setTimeout(function(){u.__spaceEnterDownInMenu=!1},100);break;case t.ui.keyCode.TAB:e.preventDefault(),this._launcher&&this._focusLauncherAndDismiss(e);break;case t.ui.keyCode.ESCAPE:if(this._launcher){var c=this.element.attr("aria-activedescendant"),h="#"+this.element.attr("id")+">*>a";c&&!t("#"+c).is(h)?this._collapse(e,"active"):this._focusLauncherAndDismiss(e)}else this._collapse(e,"active");break;default:a=!1,n=this.previousFilter||"",s=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),s===n?o=!0:s=n+s,r=new RegExp("^"+l(s),"i"),i=this.activeMenu.children(".oj-menu-item").filter(function(){return r.test(t(this).children("a").text())}),(i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".oj-menu-item"):i).length||(s=String.fromCharCode(e.keyCode),r=new RegExp("^"+l(s),"i"),i=this.activeMenu.children(".oj-menu-item").filter(function(){return r.test(t(this).children("a").text())})),i.length?(this._focus(e,i),i.length>1?(this.previousFilter=s,this.filterTimer=setTimeout(function(){delete this.previousFilter}.bind(this),1e3)):delete this.previousFilter):delete this.previousFilter}a&&e.preventDefault()},_handleEnterSpace:function(e){this.active&&!this.active.is(".oj-disabled")&&(this.active.children("a[aria-haspopup='true']").length?this._expand(e):this._select(e))},refresh:function(){this._super(),this._setup();var e=this.element;if(e.is(":visible")){var i=e.data(o);i&&(i.of instanceof t.Event||i.of instanceof Window||t(i.of).is(":visible"))&&(e.position(i),e.find(".oj-menu").each(function(){var e=t(this);e.is(":visible")&&(i=e.data(o))&&e.position(i)}))}},_setup:function(){this.isRtl="rtl"===this._GetReadingDirection(),this._IsCustomElement()?(this._processOjOptions(),this._isSubmenu&&(this.options.openOptions.launcher=this.element.parent()),this._updateMenuPadding(this.element)):this._setupWidgetMenus(),this.active&&!t.contains(this.element[0],this.active[0])&&this._blur()},_setupWidgetMenus:function(){var e=this,i=this.element.find(this.options.menuSelector),n=i.add(this.element),s=n.children();this._hasSubmenus=!!i.length,s.filter(".oj-menu-divider").has("a").removeClass("oj-menu-divider oj-menu-item").removeAttr("role");var o=s.filter(":not(.oj-menu-item):has(a)"),r=o.children("a");this._initMenuItems(o),this._initAnchors(r);var a=s.filter(function(e,i){var n=t(i);return n.is(":not(.oj-menu-item)")&&!/[^\-\u2014\u2013\s]/.test(n.text())});this._initDividers(a),this._initDividerNeighbors(s,a),s.filter(".oj-disabled").children("a").attr("aria-disabled","true"),s.filter(":not(.oj-disabled)").children("a").removeAttr("aria-disabled"),i.filter(":not(.oj-menu)").addClass("oj-menu oj-menu-submenu oj-menu-dropdown").hide().attr({role:this.role,"aria-hidden":"true"}).each(function(){var i=t(this);e._setupSubmenu(e._getSubmenuAnchor(i),i)}),n.each(function(){e._updateMenuPadding(t(this))})},_setupSubmenu:function(e,i){var n=t("<span>");n.addClass("oj-menu-submenu-icon oj-component-icon").data("oj-ojMenu-submenu-icon",!0),e.attr("aria-haspopup","true").attr("aria-expanded","false").append(n),i.attr("aria-labelledby",e.attr("id"))},_initMenuItems:function(e){e.addClass("oj-menu-item").attr("role","presentation")},_initAnchors:function(e){e.uniqueId().attr({tabIndex:"-1",role:this._itemRole()})},_initDividers:function(e){e.addClass("oj-menu-divider").attr("role","separator")},_initDividerNeighbors:function(e,t){e.removeClass("oj-menu-item-before-divider oj-menu-item-after-divider"),t.prev().addClass("oj-menu-item-before-divider"),t.next().addClass("oj-menu-item-after-divider")},_clearOption:function(e){e.removeClass("oj-menu-item-before-divider oj-menu-item-after-divider oj-menu-divider oj-menu-item").removeAttr("role")},_getSubmenuAnchor:function(e){return e.prev("a")},_getSubmenuWidget:function(t){var i=e.Components.__GetWidgetConstructor(t,"ojMenu");return i&&i("instance")},_itemRole:function(){return"menuitem"},_getAdjacentDividers:function(e,t){var i=e.prev(".oj-menu-divider").add(e.next(".oj-menu-divider"));return t&&(i=i.add(e)),i},_focus:function(e,t){e&&"focus"===e.type||this._clearTimer&&this._clearTimer(),t=t.first(),this._makeActive(t,e);var i=t.parent(),n=i.closest(".oj-menu-item");i.find(".oj-focus-ancestor").removeClass("oj-focus-ancestor"),this._getAdjacentDividers(n,!0).addClass("oj-focus-ancestor"),e&&"keydown"===e.type?this._close():this._clearTimer=this._setTimer(function(){delete this._clearTimer,this._close()},this._getSubmenuBusyStateDescription("closing"),this.delay);var s=t.children(".oj-menu");s.length&&e&&/^mouse/.test(e.type)&&!this.active.hasClass("oj-disabled")&&this._startOpening(e,s),this.activeMenu=t.parent()},_makeActive:function(e,i){if(!e.is(this.active)){var n=this.active?this.active:t(),s=e.children("a");this.active=e,this.element.attr("aria-activedescendant",s.attr("id")),this._focusOutHandler(n),this._focusInHandler(e),this._getAdjacentDividers(n).removeClass("oj-focus"),this._getAdjacentDividers(e).addClass("oj-focus"),this._trigger("_activeItem",i,{previousItem:n,item:e,privateNotice:"The _activeItem event is private.  Do not use."})}},_removeActive:function(e){if(this.active){var i=this.active;this.active=null,this.element.removeAttr("aria-activedescendant"),this._focusOutHandler(i),this._getAdjacentDividers(i).removeClass("oj-focus"),this._trigger("_activeItem",e,{previousItem:i,item:t(),privateNotice:"The _activeItem event is private.  Do not use."})}},_blur:function(e){this._clearTimer&&this._clearTimer(),this._removeActive(e)},_focusLauncherAndDismiss:function(e,t){this._launcher.focus(),this.__dismiss(e,t)},__dismiss:function(t,i){if(!this._isOperationPending("close","__dismiss",[t,i])){var n=this.element.is(":visible");this._setWhenReady("close");var s={};s[e.PopupService.OPTION.POPUP]=this.element,s[e.PopupService.OPTION.CONTEXT]={event:t,selectUi:i,isOpen:n},e.PopupService.getInstance().close(s)}},_getDefaultAnimation:function(t,i){var n,s;return(n=(e.ThemeUtils.parseJSONFromFontFamily("oj-menu-option-defaults")||{}).animation)&&n[t]&&(s=n[t][i]),s},_isAnimationDisabled:function(){return!this._IsCustomElement()||this._disableAnimation},_replaceAnimationOptions:function(e,t){if(t&&e&&"string"!=typeof e){var i=JSON.stringify(e);for(var n in t)i=i.replace(new RegExp(n,"g"),t[n]);e=JSON.parse(i)}return e},_runOnPromise:function(e,t){return e?e.then(t):t()},_beforeCloseHandler:function(i){var n=i[e.PopupService.OPTION.POPUP];if(this._IsCustomElement()){var s=i[e.PopupService.OPTION.CONTEXT],o=s.selectUi;if(o&&o.item.length){var r={},a=o.item[0],l=s.event;l&&(r.originalEvent=l instanceof t.Event?l.originalEvent:l);var u=new CustomEvent("ojAction",{detail:r,cancelable:!0,bubbles:!0});a.dispatchEvent(u),s.event=u}}if(!this._isAnimationDisabled()){var c=this._getDefaultAnimation(this._sheetMenuIsOpen?"sheet":"dropdown","close"),h=e.AnimationUtils.startAnimation(n[0],"close",e.PositionUtils.addTransformOriginAnimationEffectsOption(n,c),this);return h.then(function(){n.hide()}),h}n.hide()},_afterCloseHandler:function(t){var i=t[e.PopupService.OPTION.CONTEXT],s=i.event,r=i.selectUi,a=i.isOpen;this.element.removeData(o),this._launcher=void 0,this._sheetMenuIsOpen=!1,!this._IsCustomElement()&&r&&(s=this._trigger2("select",s,r).event),a&&this._trigger("close",s,{}),this._currentOpenOptions=null,n.indexOf(this)>=0&&n.splice(n.indexOf(this),1)},getCurrentOpenOptions:function(){return t.extend(!0,{},this._currentOpenOptions||this.options.openOptions)},open:function(i,s){var r=arguments[2];if(!this._isOperationPending("open","open",[i,s,r])){this._dismissEvent&&(this._disableAnimation=!0,this.__dismiss(this._dismissEvent),this._dismissEvent=null),(s=t.extend({},this.options.openOptions,s)).position=t.extend({},s.position),this._IsCustomElement()&&this._setPosition(s.position),r=t.extend({},this.options.submenuOpenOptions,r);var a=this._currentOpenOptions;this._currentOpenOptions=s,e.PositionUtils._normalizeEventForPosition(i),this._launcherClickShouldDismiss=this.element[0].__openingContextMenu;var l=this._trigger2("beforeOpen",i,{openOptions:s});if(!l.proceed)return this._currentOpenOptions=a,void(this._disableAnimation=!1);this.element.is(":visible")&&(this._disableAnimation=!0,this._currentOpenOptions=a,this.__dismiss(l.event),this._dismissEvent=null,this._currentOpenOptions=s);var u=s.launcher;if(!(u=this._IsCustomElement()?"string"===t.type(u)?t(document.getElementById(u)):t(u):"string"===t.type(u)?t(u):u)||!u.length)return e.Logger.warn("When calling Menu.open(), must specify openOptions.launcher via the component option, method param, or beforeOpen listener.  Ignoring the call."),this._currentOpenOptions=null,void(this._disableAnimation=!1);var d,p,_=this._isDropDown(s.display);if(this._toggleCancelDom(_),_){if(this.element.addClass("oj-menu-dropdown").removeClass("oj-menu-sheet"),p=c,this._IsCustomElement()?(s.position=e.PositionUtils.coerceToJet(s.position,this.options.openOptions.position),d=e.PositionUtils.coerceToJqUi(s.position)):d=s.position,(d=e.PositionUtils.normalizeHorizontalAlignment(d,this.isRtl)).of=e.PositionUtils.normalizePositionOf(d.of,u,i),null==d.of)return e.Logger.warn("position.of passed to Menu.open() is 'event', but the event is null.  Ignoring the call."),this._currentOpenOptions=null,void(this._disableAnimation=!1)}else this.element.addClass("oj-menu-sheet").removeClass("oj-menu-dropdown"),p=h,d={my:"bottom",at:m,of:window,collision:"flipfit"};var v=this.element[0],f=n.slice(0,n.length);t.each(f,function(e,t){t.element[0]!==v&&(t._collapse(i,"eventSubtree"),t._launcher&&t.__dismiss(i))}),this._submenuPosition=e.PositionUtils.normalizeHorizontalAlignment(r.position,this.isRtl);var g=this._usingCallback;t.isFunction(d.using)&&d.using!==g&&(d.origUsing=d.using),d.using=g,this.element.data(o,d),this._setWhenReady("open");var O={};O[e.PopupService.OPTION.POPUP]=this.element,O[e.PopupService.OPTION.LAUNCHER]=u,O[e.PopupService.OPTION.POSITION]=d,O[e.PopupService.OPTION.EVENTS]=this._getPopupServiceEvents(),O[e.PopupService.OPTION.LAYER_SELECTORS]="oj-menu-layer",O[e.PopupService.OPTION.MODALITY]=p,O[e.PopupService.OPTION.CONTEXT]={event:i,initialFocus:s.initialFocus,launcher:u,isDropDown:_},O[e.PopupService.OPTION.CUSTOM_ELEMENT]=this._IsCustomElement(),e.PopupService.getInstance().open(O),this._disableAnimation=!1}},_setPosition:function(t){var i=this.options;t&&(i.openOptions.position=e.PositionUtils.coerceToJet(t,i.openOptions.position))},_beforeOpenHandler:function(t){var i,n=t[e.PopupService.OPTION.POPUP],s=t[e.PopupService.OPTION.POSITION],o=t[e.PopupService.OPTION.CONTEXT].isDropDown;if(n.show(),n.position(s),!this._isAnimationDisabled()){var r=this._getDefaultAnimation(o?"dropdown":"sheet","open");i=e.AnimationUtils.startAnimation(n[0],"open",e.PositionUtils.addTransformOriginAnimationEffectsOption(n,r),this)}return i},_afterOpenHandler:function(t){var i=t[e.PopupService.OPTION.CONTEXT],s=i.event,o=i.initialFocus,r=i.launcher,a=i.isDropDown,l="firstItem"===o;(l||"menu"===o)&&this.element.focus(),l?this._focus(s,this.element.children().first()):this._blur(s),this._launcher=r,this._sheetMenuIsOpen=!a,n.push(this),this._trigger("open",s,{})},_startOpening:function(e,t){this._clearTimer&&this._clearTimer(),"true"===t.attr("aria-hidden")&&(this._clearTimer=this._setTimer(function(){delete this._clearTimer,this._close(),this._open(e,t)},this._getSubmenuBusyStateDescription("closing and opening"),this.delay))},_open:function(i,s){if("true"===s.attr("aria-hidden")&&this.active){if(this._IsCustomElement()){var r=this._getSubmenuWidget(s);if(!r._trigger2("beforeOpen",i).proceed)return;var a=e.PositionUtils.coerceToJqUi(r.options.openOptions.position);a=e.PositionUtils.normalizeHorizontalAlignment(a,this.isRtl)}else a=this._submenuPosition;if(a=t.extend({of:this.active},a),this._clearTimer&&this._clearTimer(),this.element.find(".oj-menu").not(s.parents(".oj-menu")).hide().attr("aria-hidden","true").removeData(o),s.show().removeAttr("aria-hidden").position(a).data(o,a),this._getSubmenuAnchor(s).attr("aria-expanded","true"),!this._launcher&&n.indexOf(this)<0&&n.push(this),!this._isAnimationDisabled()){var l=this._getDefaultAnimation("submenu","open");l=this._replaceAnimationOptions(l,{"#myPosition":a.my}),e.AnimationUtils.startAnimation(s[0],"open",l,this)}}},__collapseAll:function(i,n,s){var o;this._clearTimer&&this._clearTimer();var r=this,a=function(){delete r._clearTimer;var e=n?r.element:t(i&&i.target).closest(r.element.find(".oj-menu"));e.length||(e=r.element);var s=r._close(e);return r._runOnPromise(s,function(){r._blur(i),r.activeMenu=e})};if(s?this._isAnimationDisabled()?r._clearTimer=r._setTimer(a,r._getSubmenuBusyStateDescription("closing"),s):o=new Promise(function(e,t){r._clearTimer=r._setTimer(a,r._getSubmenuBusyStateDescription("closing"),s,function(){e(!0)})}):o=a(),o){var l=e.Context.getContext(this.element[0]).getBusyContext().addBusyState({description:"closing submenus"});o.then(l)}return o},_close:function(i){var s;i||(i=this.active?this.active.parent():this.element);var r=this,a=r._getDefaultAnimation("submenu","close"),l=i.find(".oj-menu"),u=function(e){e.hide().attr("aria-hidden","true").removeData(o),r._getSubmenuAnchor(e).attr("aria-expanded","false")};if(this._isAnimationDisabled())u(l),i.find(".oj-focus-ancestor").removeClass("oj-focus-ancestor");else{var c=function(i){var n=null;return i.children().children(".oj-menu").each(function(i,s){var l=t(s);if(l.is(":visible")){var h=c(l);n=r._runOnPromise(h,function(){var t=l.data(o),i=r._replaceAnimationOptions(a,{"#myPosition":t?t.my:null});return e.AnimationUtils.startAnimation(s,"close",i,r).then(function(){u(l)})})}else u(l)}),n};s=c(i),s=this._runOnPromise(s,function(){i.find(".oj-focus-ancestor").removeClass("oj-focus-ancestor")})}return this._launcher||n.indexOf(this)>=0&&i===this.element&&n.splice(n.indexOf(this),1),s},_collapse:function(t,i){var n;if(null==i||"active"===i){var s=this.activeMenu&&this.activeMenu.closest(".oj-menu-item",this.element);if(s&&s.length){var o=this;n=this._close(),n=this._runOnPromise(n,function(){o._focus(t,s)})}}else"all"===i||"eventSubtree"===i?n=this.__collapseAll(t,"all"===i,this.delay):e.Logger.warn("Invalid param "+i+" passed to Menu._collapse().  Ignoring the call.");return n},_expand:function(e){var t=this.active&&this.active.children(".oj-menu ").children(".oj-menu-item").first();t&&t.length&&(this._open(e,t.parent()),this._clearTimer&&this._clearTimer(),this._clearTimer=this._setTimer(function(){delete this._clearTimer,this._focus(e,t)},this._getBusyStateDescription("focusing an item")))},_next:function(e){this._move("next","first",e)},_previous:function(e){this._move("prev","last",e)},_isFirstItem:function(){return this.active&&!this.active.prevAll(".oj-menu-item").length},_isLastItem:function(){return this.active&&!this.active.nextAll(".oj-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".oj-menu-item").eq(-1):this.active[e+"All"](".oj-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".oj-menu-item")[t]()),this._focus(i,n)},_select:function(i){if(!this.active&&i&&i.target){var n=t(i.target).closest(".oj-menu-item");n.closest(this.element).length&&this._makeActive(n,i)}if(this.active)if(this.active.has(".oj-menu").length||this.active.is(".oj-disabled"))e.Logger.warn("Selecting a disabled menu item or parent menu item is not allowed.");else{var s=this.active.is(this._cancelItem)?void 0:{item:this.active},o=this.__collapseAll(i,!0);if(this._launcher){var r=this;this._runOnPromise(o,function(){r._focusLauncherAndDismiss(i,s)})}}else e.Logger.warn("Menu._select() called when no menu item is focused and no menu item can be inferred from event param.")},_surrogateRemoveHandler:function(){this.element.remove()},_getPopupServiceEvents:function(){if(!this._popupServiceEvents){var t=this._popupServiceEvents={};t[e.PopupService.EVENT.POPUP_CLOSE]=this._closeAll.bind(this),t[e.PopupService.EVENT.POPUP_REMOVE]=this._surrogateRemoveHandler.bind(this),t[e.PopupService.EVENT.POPUP_REFRESH]=this.refresh.bind(this),t[e.PopupService.EVENT.POPUP_AUTODISMISS]=this._clickAwayHandler.bind(this),t[e.PopupService.EVENT.POPUP_BEFORE_OPEN]=this._beforeOpenHandler.bind(this),t[e.PopupService.EVENT.POPUP_AFTER_OPEN]=this._afterOpenHandler.bind(this),t[e.PopupService.EVENT.POPUP_BEFORE_CLOSE]=this._beforeCloseHandler.bind(this),t[e.PopupService.EVENT.POPUP_AFTER_CLOSE]=this._afterCloseHandler.bind(this)}return this._popupServiceEvents},_closeAll:function(){this._disableAnimation=!0,this._close(this.element),this.__dismiss(null),this._setWhenReady("none")},_usingHandler:function(t,i){var n=i.element.element;n.css(t),e.PositionUtils.captureTransformOriginAnimationEffectsOption(n,i);var s=n.data(o);if(s){var r=s.origUsing;r&&r(t,i)}e.PositionUtils.isAligningPositionClipped(i)&&(this._clearCloseDelayTimer=this._setTimer(this._closeAll,this._getSubmenuBusyStateDescription("closing"),1))},getNodeBySubId:function(e){switch(e&&e.subId){case _:return this._cancelDomAttached?this._cancelItem[0]:null;default:return this._super(e)}},getSubIdByNode:function(e){return this._cancelItem&&this._cancelItem.is(t(e).parents().addBack(e))?{subId:_}:this._super(e)},_isDropDown:function(e){if(this._hasSubmenus)return!0;switch(e){case"dropDown":return!0;case"sheet":return!1;case"auto":return p.matches;default:throw new Error("Invalid value for Menu openOptions.display: "+e)}},_toggleCancelDom:function(e){l&&(e?this._cancelDomAttached&&(this._getCancelDom().detach().eq(0).prev().removeClass("oj-menu-item-before-divider"),this._cancelDomAttached=!1):(this._getCancelDom().appendTo(this.element).eq(0).prev().addClass("oj-menu-item-before-divider"),this._cancelDomAttached=!0))},_getCancelDom:function(){if(!this._cancelDom){var e=t("<li></li>",this.document[0]),i=t("<a href='#'></a>",this.document[0]).text(this.options.translations.labelCancel);t("<span class='oj-menu-item-icon oj-component-icon oj-menu-cancel-icon'></span>",this.document[0]).prependTo(i);var n=t("<li></li>",this.document[0]).addClass("oj-menu-item-cancel oj-menu-item-after-divider").append(i);this._initDividers(e),this._initAnchors(i),this._initMenuItems(n),this._cancelAnchor=i,this._cancelItem=n,this._cancelDom=t([e[0],n[0]])}return this._cancelDom},_setupSwipeBehavior:function(){u&&(this.element.ojHammer(d),this._on({swipedown:function(e){this._sheetMenuIsOpen&&"touch"===e.gesture.pointerType&&(this.__collapseAll(e,!0),this._focusLauncherAndDismiss(e))}}))},_setWhenReady:function(t){var i=this._whenReadyMediator;i&&(i.destroy(),delete this._whenReadyMediator),["open","close"].indexOf(t)<0||(this._whenReadyMediator=new e.PopupWhenReadyMediator(this.element,t,"ojMenu",this._IsCustomElement()))},_isOperationPending:function(e,t,i){var n=this._whenReadyMediator;return!!n&&n.isOperationPending(this,e,t,i)},_setTimer:function(t,i,n,s){var o=e.Context.getContext(this.element[0]).getBusyContext().addBusyState({description:i}),r=function(){o&&(o(),o=null,s&&s())},a=this,l=setTimeout(function(){var e=t.bind(a)();e&&e instanceof Promise?e.then(r):r()},n||0);return function(){clearTimeout(l),r()}},_getBusyStateDescription:function(e){return"Menu with id '"+this.element.attr("id")+"' is busy "+e+"."},_getSubmenuBusyStateDescription:function(e){return this._getBusyStateDescription(e+" a submenu")},_NotifyDetached:function(){e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN&&this._closeAll(),this._super()}}),e.Components.setDefaultOptions({ojMenu:{openOptions:e.Components.createDynamicPropertyGetter(function(t){return{position:null!=e.BaseCustomElementBridge.getRegistered(t.element.tagName)?t.containers.indexOf("ojMenu")>=0?{my:{horizontal:"start",vertical:"top"},at:{horizontal:"end",vertical:"top"},offset:{x:0,y:0},collision:"flipfit"}:{my:{horizontal:"start",vertical:"top"},at:{horizontal:"start",vertical:"bottom"},offset:{x:0,y:0},collision:"flipfit"}:{my:"start top",at:"start bottom",collision:"flipfit"}}})}});var n=new Array,s=!1,o="oj-menu-position",r=navigator.userAgent.indexOf("Macintosh")>-1&&navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Chrome"),a=e.ThemeUtils.parseJSONFromFontFamily("oj-menu-config")||{},l="menuItem"===a.sheetCancelAffordance,u="dismiss"===a.sheetSwipeDownBehavior,c=a.dropDownModality||"modeless",h=a.sheetModality||"modal",m="bottom-"+(a.sheetMarginBottom||0),d=u&&{recognizers:[[i.Swipe,{direction:i.DIRECTION_DOWN}]]},p=function(){var e=a.dropDownThresholdWidth;null==e&&(e="768px");var t="(min-width: "+e+")";return window.matchMedia(t)}(),_="oj-menu-cancel-command"}(),e.CustomElementBridge.registerMetadata("oj-menu","baseComponent",{properties:{disabled:{type:"boolean"},openOptions:{type:"object",properties:{display:{type:"string",enumValues:["auto","dropDown","sheet"]},initialFocus:{type:"string",enumValues:["firstItem","menu","none"]},launcher:{type:"string"},position:{type:"object",properties:{my:{type:"string|object",properties:{horizontal:{type:"string",enumValues:["start","end","left","center","right"]},vertical:{type:"string",enumValues:["top","center","bottom"]}}},at:{type:"string|object",properties:{horizontal:{type:"string",enumValues:["start","end","left","center","right"]},vertical:{type:"string",enumValues:["top","center","bottom"]}}},offset:{type:"object",properties:{x:{type:"number"},y:{type:"number"}}},of:{type:"string|object"},collision:{type:"string",enumValues:["flip","fit","flipfit","flipcenter","none"]}}}}},translations:{type:"Object",properties:{labelCancel:{type:"string",value:"Cancel"}}}},methods:{getSubIdByNode:{},open:{},refresh:{}},events:{animateStart:{},animateEnd:{},beforeOpen:{},close:{},open:{}},extension:{_WIDGET_NAME:"ojMenu"}}),e.CustomElementBridge.register("oj-menu",{metadata:e.CustomElementBridge.getMetadata("oj-menu")})});
define('ojs/ojdomscroller',["ojs/ojcore","jquery"],function(e,t){e.DomScroller=function(e,r,o){o=o||{},this._data=r,this._asyncIterator=o.asyncIterator,this._element=t(e)[0],this._fetchSize=o.fetchSize,this._fetchSize=this._fetchSize>0?this._fetchSize:25,this._maxCount=o.maxCount,this._maxCount=this._maxCount>0?this._maxCount:500,this._rowCount=o.initialRowCount>0?o.initialRowCount:0,this._successCallback=o.success,this._requestCallback=o.request,this._errorCallback=o.error,this._registerDataSourceEventListeners(),this._fetchTrigger=o.fetchTrigger,(null==this._fetchTrigger||isNaN(this._fetchTrigger))&&(this._fetchTrigger=0),this._initialScrollTop=this._element.scrollTop,t(this._getScrollEventElement()).on("scroll.domscroller",function(e){var t=this._element,r=this._getScrollTop(t),o=t.scrollHeight-t.clientHeight;o>0&&this._handleScrollerScrollTop(r,o)}.bind(this))},e.DomScroller.prototype.setFetchTrigger=function(e){null!=e&&!isNaN(e)&&e>=0&&(this._fetchTrigger=e)},e.DomScroller.prototype._getScrollEventElement=function(){return this._element==document.body||this._element==document.documentElement?window:this._element},e.DomScroller.calculateOffsetTop=function(e,r){for(var o=0,i=r;i&&i!=e&&t.contains(e,i);)o+=i.offsetTop,i=i.offsetParent;return o},e.DomScroller.prototype._getScrollTop=function(e){var t=this._fetchTrigger;return e==document.documentElement&&(void 0===this._useBodyScrollTop&&(this._useBodyScrollTop=this._initialScrollTop==e.scrollTop),this._useBodyScrollTop)?t+document.body.scrollTop:t+e.scrollTop},e.DomScroller.prototype.destroy=function(){this._unregisterDataSourceEventListeners(),t(this._getScrollEventElement()).off("scroll.domscroller")},e.DomScroller.prototype.checkViewport=function(){return this._asyncIterator&&this._element.clientHeight>0&&!this._checkOverflow()?this._fetchMoreRows():Promise.resolve(null)},e.DomScroller.prototype._handleScrollerScrollTop=function(e,t){if(t-e<=1&&e>this._fetchTrigger&&!this._fetchPromise)if(this._asyncIterator){var r=this;this._fetchMoreRows().then(function(e){r._successCallback&&r._successCallback(e)},function(e){r._errorCallback&&r._errorCallback(e)})}else null!=this._errorCallback&&this._errorCallback()},e.DomScroller.prototype._checkOverflow=function(){var e=this._element;return e.scrollHeight>e.clientHeight+this._fetchTrigger},e.DomScroller.prototype._fetchMoreRows=function(){if(this._fetchPromise)return this._fetchPromise;var e=this._maxCount-this._rowCount;if(e>0){this._fetchSize;var t=this;if(this._fetchSize,this._asyncIterator)return null!=this._requestCallback&&this._requestCallback(),this._fetchPromise=this._asyncIterator.next().then(function(r){return t._fetchPromise=null,null!=r&&null!=r.value&&(r.value.data.length>0&&(t._rowCount=t._rowCount+r.value.data.length,e<t._fetchSize&&(r.maxCount=t._maxCount,r.maxCountLimit=!0,r.value.data.length>e&&(r.value.data=r.value.data.slice(0,e),r.value.metadata=r.value.metadata.slice(0,e),null!=r.value.fetchParameters&&(r.value.fetchParameters.size=e)))),r.done&&(t._asyncIterator=null)),Promise.resolve(r)}),this._fetchPromise}return Promise.resolve({maxCount:this._maxCount,maxCountLimit:!0})},e.DomScroller.prototype._handleDataRowMutateEvent=function(e){var t=null,r=null;if(null!=e.detail.remove&&(t="remove",r=e.detail.remove),null!=e.detail.add&&(t="add",r=e.detail.add),null!=t){var o,i=r.indexes,l=i.length;for(o=0;o<l;o++){var n=i[o];void 0!==n&&this._rowCount>0&&n<=this._rowCount&&("add"==t?this._rowCount=this._rowCount+1:"remove"==t&&(this._rowCount=this._rowCount-1))}}},e.DomScroller.prototype._registerDataSourceEventListeners=function(){var e,t,r=this._data;if(null!=r)for(this._unregisterDataSourceEventListeners(),this._dataProviderEventHandlers=[],this._dataProviderEventHandlers.push({eventType:"mutate",eventHandler:this._handleDataRowMutateEvent.bind(this)}),e=0;e<this._dataProviderEventHandlers.length;e++)(t=r.addEventListener(this._dataProviderEventHandlers[e].eventType,this._dataProviderEventHandlers[e].eventHandler))&&(this._dataProviderEventHandlers[e].eventHandler=t)},e.DomScroller.prototype._unregisterDataSourceEventListeners=function(){var e,t=this._data;if(null!=this._dataProviderEventHandlers&&null!=t)for(e=0;e<this._dataProviderEventHandlers.length;e++)t.removeEventListener(this._dataProviderEventHandlers[e].eventType,this._dataProviderEventHandlers[e].eventHandler)}});
define('ojs/ojeventtarget',["ojs/ojcore"],function(e){var t=function(){function e(){}return e.prototype.addEventListener=function(e,t){this._eventListeners||(this._eventListeners=[]),this._eventListeners.push({type:e.toLowerCase(),listener:t})},e.prototype.removeEventListener=function(e,t){if(this._eventListeners){var n=void 0;for(n=this._eventListeners.length-1;n>=0;n--)this._eventListeners[n].type==e&&this._eventListeners[n].listener==t&&this._eventListeners.splice(n,1)}},e.prototype.dispatchEvent=function(e){if(this._eventListeners){var t,n=this._eventListeners.slice(0);for(t=0;t<n.length;t++){var i=n[t];if(i.type==e.type&&!1===i.listener.apply(this,[e]))return!1}}return!0},e.applyMixin=function(t){[e].forEach(function(e){Object.getOwnPropertyNames(e.prototype).forEach(function(n){"constructor"!==n&&(t.prototype[n]=e.prototype[n])})})},e}();e.EventTargetMixin=t;var n=function(e,t){this.type=e,this.options=t,null!=t&&(this.detail=t.detail)};e.GenericEvent=n});
define('ojs/ojdataprovider',["ojs/ojcore","ojs/ojeventtarget"],function(t){var e,r,i=t.GenericEvent;!function(t){!function(t){t.$co="$co",t.$eq="$eq",t.$ew="$ew",t.$pr="$pr",t.$gt="$gt",t.$ge="$ge",t.$lt="$lt",t.$le="$le",t.$ne="$ne",t.$regex="$regex",t.$sw="$sw"}(t.AttributeOperator||(t.AttributeOperator={}))}(e||(e={})),t.AttributeFilterOperator=e,t.AttributeFilterOperator.AttributeOperator=e.AttributeOperator,function(t){!function(t){t.$and="$and",t.$or="$or"}(t.CompoundOperator||(t.CompoundOperator={}))}(r||(r={})),t.CompoundFilterOperator=r,t.CompoundFilterOperator.CompoundOperator=r.CompoundOperator;var a=function(t){function e(r){var i={};return i[e._DETAIL]=r,t.call(this,"mutate",i)||this}return __extends(e,t),e._DETAIL="detail",e}(i);t.DataProviderMutationEvent=a,t.DataProviderMutationEvent=a;var n=function(t){function e(){return t.call(this,"refresh")||this}return __extends(e,t),e}(i);t.DataProviderRefreshEvent=n,t.DataProviderRefreshEvent=n,t.DataProvider=function(){};var o=function(){function t(){}return t.prototype.fetchByKeys=function(t){var e=0,r=this.getIterationLimit?this.getIterationLimit():-1,i=new Map,a=this.fetchFirst({size:25})[Symbol.asyncIterator]();return function t(i,a,n){return a.next().then(function(o){var p=o.value,s=p.data,u=p.metadata,f=u.map(function(t){return t.key}),c=!0;return i.keys.forEach(function(t){n.has(t)||f.map(function(e,r){e==t&&n.set(e,{metadata:u[r],data:s[r]})}),n.has(t)||(c=!1)}),e+=s.length,c||o.done?n:-1!=r&&e>=r?n:t(i,a,n)})}(t,a,i).then(function(e){var r=new Map;return e.forEach(function(t,e){var i=[t];r.set(e,i[0])}),{fetchParameters:t,results:r}})},t.prototype.containsKeys=function(t){return this.fetchByKeys(t).then(function(e){var r=new Set;return t.keys.forEach(function(t){null!=e.results.get(t)&&r.add(t)}),Promise.resolve({containsParameters:t,results:r})})},t.prototype.getCapability=function(t){if("fetchByKeys"==t)return{implementation:"iteration"};var e=null;if(!0!==this._ojSkipLastCapability){this._ojSkipLastCapability=!0;for(var r=1;this["_ojLastGetCapability"+r];)++r;for(--r;r>0&&!(e=this["_ojLastGetCapability"+r](t));r--);delete this._ojSkipLastCapability}return e},t.applyMixin=function(e){var r=e.prototype.getCapability;if([t].forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(r){"constructor"!==r&&(e.prototype[r]=t.prototype[r])})}),r){for(var i=1;e.prototype["_ojLastGetCapability"+i];)++i;e.prototype["_ojLastGetCapability"+i]=r}},t}();t.FetchByKeysMixin=o,t.FetchByKeysMixin.applyMixin=o.applyMixin;var p=function(){function t(){}return t.prototype.fetchByOffset=function(t){var e=t&&t.size>0?t.size:25,r=t?t.sortCriteria:null,i=t&&t.offset>0?t.offset:0,a=0,n=this.getIterationLimit?this.getIterationLimit():-1,o=!1,p={};p.size=e,p.sortCriteria=r;var s=new Array,u=this.fetchFirst(p)[Symbol.asyncIterator]();return function t(r,p,s){return p.next().then(function(u){o=u.done;var f=u.value,c=f.data,y=f.metadata,l=c.length;if(i<a+l)for(var h=i<=a?0:i-a;h<l&&s.length!=e;h++)s.push({metadata:y[h],data:c[h]});return a+=l,s.length<e&&!o?-1!=n&&a>=n?s:t(r,p,s):s})}(t,u,s).then(function(e){return{fetchParameters:t,results:e,done:o}})},t.prototype.getCapability=function(t){if("fetchByOffset"==t)return{implementation:"iteration"};var e=null;if(!0!==this._ojSkipLastCapability){this._ojSkipLastCapability=!0;for(var r=1;this["_ojLastGetCapability"+r];)++r;for(--r;r>0&&!(e=this["_ojLastGetCapability"+r](t));r--);delete this._ojSkipLastCapability}return e},t.applyMixin=function(e){var r=e.prototype.getCapability;if([t].forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(r){"constructor"!==r&&(e.prototype[r]=t.prototype[r])})}),r){for(var i=1;e.prototype["_ojLastGetCapability"+i];)++i;e.prototype["_ojLastGetCapability"+i]=r}},t}();t.FetchByOffsetMixin=p,t.FetchByOffsetMixin.applyMixin=p.applyMixin});
define('ojs/ojdataprovideradapter',["ojs/ojcore","jquery","ojs/ojeventtarget","ojs/ojdataprovider"],function(t,e){var i=function(){function e(t){this.tableDataSource=t,this._KEY="key",this._KEYS="keys",this._AFTERKEYS="afterKeys",this._DIRECTION="direction",this._STARTINDEX="startIndex",this._ATTRIBUTE="attribute",this._SILENT="silent",this._SORT="sort",this._SORTCRITERIA="sortCriteria",this._PAGESIZE="pageSize",this._DATA="data",this._METADATA="metadata",this._INDEXES="indexes",this._OFFSET="offset",this._REFRESH="refresh",this._SIZE="size",this._VALUE="value",this._DONE="done",this._FETCHPARAMETERS="fetchParameters",this._CONTAINSPARAMETERS="containsParameters",this._RESULTS="results",this._ADD="add",this._REMOVE="remove",this._UPDATE="update",this._FETCHTYPE="fetchType",this.AsyncIterable=function(t,e){this._parent=t,this._asyncIterator=e,this[Symbol.asyncIterator]=function(){return this._asyncIterator}},this.AsyncIterator=function(){function t(t,e,i){this._parent=t,this._nextFunc=e,this._params=i,this._fetchFirst=!0}return t.prototype.next=function(){var t=this._fetchFirst;return this._fetchFirst=!1,this._nextFunc(this._params,t)},t}(),this.AsyncIteratorResult=function(t,e,i){this._parent=t,this.value=e,this.done=i,this[t._VALUE]=e,this[t._DONE]=i},this.FetchByKeysResults=function(t,e,i){this._parent=t,this.fetchParameters=e,this.results=i,this[t._FETCHPARAMETERS]=e,this[t._RESULTS]=i},this.ContainsKeysResults=function(t,e,i){this._parent=t,this.containsParameters=e,this.results=i,this[t._CONTAINSPARAMETERS]=e,this[t._RESULTS]=i},this.FetchListResult=function(t,e,i,n){this._parent=t,this.fetchParameters=e,this.data=i,this.metadata=n,this[t._FETCHPARAMETERS]=e,this[t._DATA]=i,this[t._METADATA]=n},this.Item=function(t,e,i){this._parent=t,this.metadata=e,this.data=i,this[t._METADATA]=e,this[t._DATA]=i},this.ItemMetadata=function(t,e){this._parent=t,this.key=e,this[t._KEY]=e},this.FetchByOffsetResults=function(t,e,i,n){this._parent=t,this.fetchParameters=e,this.results=i,this.done=n,this[t._FETCHPARAMETERS]=e,this[t._RESULTS]=i,this[t._DONE]=n},this.FetchListParameters=function(t,e,i){this._parent=t,this.size=e,this.sortCriteria=i,this[t._SIZE]=e,this[t._SORTCRITERIA]=i},this.SortCriterion=function(t,e,i){this._parent=t,this.attribute=e,this.direction=i,this[t._ATTRIBUTE]=e,this[t._DIRECTION]=i},this.DataProviderMutationEventDetail=function(t,e,i,n){this._parent=t,this.add=e,this.remove=i,this.update=n,this[t._ADD]=e,this[t._REMOVE]=i,this[t._UPDATE]=n},this.DataProviderOperationEventDetail=function(t,e,i,n,a){this._parent=t,this.keys=e,this.metadata=i,this.data=n,this.indexes=a,this[t._KEYS]=e,this[t._METADATA]=i,this[t._DATA]=n,this[t._INDEXES]=a},this.DataProviderAddOperationEventDetail=function(t,e,i,n,a,s){this._parent=t,this.keys=e,this.afterKeys=i,this.metadata=n,this.data=a,this.indexes=s,this[t._KEYS]=e,this[t._AFTERKEYS]=i,this[t._METADATA]=n,this[t._DATA]=a,this[t._INDEXES]=s},this._addTableDataSourceEventListeners(),this[this._OFFSET]=0}return e.prototype.destroy=function(){this._removeTableDataSourceEventListeners()},e.prototype.containsKeys=function(t){var e=this,i=[];return t[this._KEYS].forEach(function(t){i.push(e.tableDataSource.get(t))}),Promise.all(i).then(function(i){var n=new Set;return i.map(function(t){null!=t&&n.add(t[e._KEY])}),Promise.resolve(new e.ContainsKeysResults(e,t,n))})},e.prototype.fetchByKeys=function(t){var e=this,i=[];return t[this._KEYS].forEach(function(t){i.push(e.tableDataSource.get(t))}),Promise.all(i).then(function(i){var n=new Map;return i.map(function(t){var i=t[e._KEY],a=t[e._DATA];n.set(i,new e.Item(e,new e.ItemMetadata(e,i),a))}),Promise.resolve(new e.FetchByKeysResults(e,t,n))})},e.prototype.fetchByOffset=function(t){var e=this,i=null!=t?t[this._SIZE]:-1,n=null!=t?t[this._SORTCRITERIA]:null,a=null!=t&&t[this._OFFSET]>0?t[this._OFFSET]:0,s=new this.FetchListParameters(this,i,n);return this._startIndex=0,this._getFetchFunc(s,a)(s,!0).then(function(i){var n=i[e._VALUE],a=i[e._DONE],s=n[e._DATA],r=n[e._METADATA].map(function(t){return t[e._KEY]}),h=new Array;return s.map(function(t,i){h.push(new e.Item(e,new e.ItemMetadata(e,r[i]),s[i]))}),new e.FetchByOffsetResults(e,t,h,a)})},e.prototype.fetchFirst=function(t){return this._isPagingModelTableDataSource()||(this._startIndex=0),new this.AsyncIterable(this,new this.AsyncIterator(this,this._getFetchFunc(t),t))},e.prototype.getCapability=function(t){return t==this._SORT&&"full"==this.tableDataSource.getCapability(t)?{attributes:"multiple"}:null},e.prototype.getTotalSize=function(){return Promise.resolve(this.tableDataSource.totalSize())},e.prototype.isEmpty=function(){return this.tableDataSource.totalSize()>0?"no":"yes"},e.prototype.getPage=function(){return this._isPagingModelTableDataSource()?this.tableDataSource.getPage():-1},e.prototype.setPage=function(t,e){return this._isPagingModelTableDataSource()?this.tableDataSource.setPage(t,e):Promise.reject(null)},e.prototype.getStartItemIndex=function(){return this._isPagingModelTableDataSource()?this.tableDataSource.getStartItemIndex():-1},e.prototype.getEndItemIndex=function(){return this._isPagingModelTableDataSource()?this.tableDataSource.getEndItemIndex():-1},e.prototype.getPageCount=function(){return this._isPagingModelTableDataSource()?this.tableDataSource.getPageCount():-1},e.prototype.totalSize=function(){return this._isPagingModelTableDataSource()?this.tableDataSource.totalSize():-1},e.prototype.totalSizeConfidence=function(){return this._isPagingModelTableDataSource()?this.tableDataSource.totalSizeConfidence():null},e.prototype._getFetchFunc=function(t,e){var i=this;if(null!=t&&null!=t[this._SORTCRITERIA]){var n=t[this._SORTCRITERIA][0][this._ATTRIBUTE],a=t[this._SORTCRITERIA][0][this._DIRECTION];return this._ignoreSortEvent=!0,this._isPagingModelTableDataSource()||(this._startIndex=0),function(t,n){return function(a,s){if(s){var r={};return r[i._KEY]=t,r[i._DIRECTION]=n,i[i._OFFSET]=0,i.tableDataSource.sort(r).then(function(){return i._ignoreSortEvent=!1,i._getTableDataSourceFetch(a,e)(a)})}return i._getTableDataSourceFetch(a,e)(a)}}(n,a)}return this._getTableDataSourceFetch(t,e)},e.prototype._getTableDataSourceFetch=function(t,e){var i=this;return function(t,n){var a={};if(e=e>0?e:0,null!=i._startIndex&&(a[i._STARTINDEX]=i._startIndex+e),a[i._PAGESIZE]=null!=t&&t[i._SIZE]>0?t[i._SIZE]:null,i._isPagingModelTableDataSource()||(a[i._SILENT]=!0),null!=i.tableDataSource[i._SORTCRITERIA]&&null==t[i._SORTCRITERIA]){t[i._SORTCRITERIA]=[];var s=new i.SortCriterion(i,i.tableDataSource[i._SORTCRITERIA][i._KEY],i.tableDataSource[i._SORTCRITERIA][i._DIRECTION]);t[i._SORTCRITERIA].push(s)}return a[i._FETCHTYPE]=t[i._FETCHTYPE],i._isFetching=!0,new Promise(function(e,n){i._fetchResolveFunc=e,i._fetchRejectFunc=n,i._fetchParams=t,i._requestEventTriggered||i.tableDataSource.fetch(a).then(function(n){if(null!==n){i._isFetching=!1,void 0===n&&((n={})[i._KEYS]=[],n[i._DATA]=[]);var s=[];null!=n[i._KEYS]&&(s=n[i._KEYS].map(function(t){return new i.ItemMetadata(i,t)})),null==i._startIndex&&(i._startIndex=0);var r=!1;i._startIndex=i._startIndex+n[i._DATA].length,"actual"==i.tableDataSource.totalSizeConfidence()&&i.tableDataSource.totalSize()>0&&i._startIndex>=i.tableDataSource.totalSize()?r=!0:a[i._PAGESIZE]>0&&n[i._DATA].length<a[i._PAGESIZE]?r=!0:0==n[i._DATA].length&&(r=!0),i._fetchResolveFunc=null,i._fetchParams=null,e(new i.AsyncIteratorResult(i,new i.FetchListResult(i,t,n[i._DATA],s),r))}},function(t){n(t)})})}},e.prototype._handleSync=function(e){var i=this;if(i._startIndex=null,e[i._STARTINDEX]>0&&(i._startIndex=e[i._STARTINDEX],i[i._OFFSET]=i._startIndex),i._fetchResolveFunc&&null!=e[i._KEYS]){i._isFetching=!1;var n=e[i._KEYS].map(function(t){return new i.ItemMetadata(i,t)}),a=!1;"actual"==i.tableDataSource.totalSizeConfidence()&&i.tableDataSource.totalSize()>0&&i._startIndex>=i.tableDataSource.totalSize()&&(a=!0),i._fetchResolveFunc(new i.AsyncIteratorResult(i,new i.FetchListResult(i,i._fetchParams,e[i._DATA],n),a)),i._fetchResolveFunc=null,i._fetchParams=null}else i._requestEventTriggered||i.dispatchEvent(new t.DataProviderRefreshEvent);i._requestEventTriggered=!1},e.prototype._handleAdd=function(e){var i=this,n=e[i._KEYS].map(function(t){return new i.ItemMetadata(i,t)}),a=new Set;e[i._KEYS].map(function(t){a.add(t)});var s=new i.DataProviderAddOperationEventDetail(i,a,null,n,e[i._DATA],e[i._INDEXES]),r=new i.DataProviderMutationEventDetail(i,s,null,null);i.dispatchEvent(new t.DataProviderMutationEvent(r))},e.prototype._handleRemove=function(e){var i=this,n=e[i._KEYS].map(function(t){return new i.ItemMetadata(i,t)}),a=new Set;e[i._KEYS].map(function(t){a.add(t)});var s=new i.DataProviderOperationEventDetail(i,a,n,e[i._DATA],e[i._INDEXES]),r=new i.DataProviderMutationEventDetail(i,null,s,null);i.dispatchEvent(new t.DataProviderMutationEvent(r))},e.prototype._handleReset=function(e){this._requestEventTriggered||this._isPagingModelTableDataSource()||(this._startIndex=0,this.dispatchEvent(new t.DataProviderRefreshEvent))},e.prototype._handleSort=function(e){this._ignoreSortEvent||(this._startIndex=null,this.dispatchEvent(new t.DataProviderRefreshEvent))},e.prototype._handleChange=function(e){var i=this,n=e[i._KEYS].map(function(t){return new i.ItemMetadata(i,t)}),a=new Set;e[i._KEYS].map(function(t){a.add(t)});var s=new i.DataProviderOperationEventDetail(i,a,n,e[i._DATA],e[i._INDEXES]),r=new i.DataProviderMutationEventDetail(i,null,null,s);i.dispatchEvent(new t.DataProviderMutationEvent(r))},e.prototype._handleRefresh=function(e){this._isFetching||this._requestEventTriggered||(null!=e[this._OFFSET]?this._startIndex=e[this._OFFSET]:this._startIndex=null,this.dispatchEvent(new t.DataProviderRefreshEvent)),this._requestEventTriggered=!1},e.prototype._handleRequest=function(e){void 0!==t.Model&&e instanceof t.Model||this._isFetching||(e[this._STARTINDEX]>0&&0==this.getStartItemIndex()&&(this._startIndex=e[this._STARTINDEX]),this._requestEventTriggered=!0,this.dispatchEvent(new t.DataProviderRefreshEvent))},e.prototype._handleError=function(t){this._fetchRejectFunc&&this._fetchRejectFunc(t),this._isFetching=!1,this._requestEventTriggered=!1},e.prototype._handlePage=function(e){this._isFetching=!1,this._requestEventTriggered=!1;var i={};i.detail=e,this.dispatchEvent(new t.GenericEvent(t.PagingModel.EventType.PAGE,i))},e.prototype._addListener=function(t,e){this._eventHandlerFuncs[t]=e.bind(this),this.tableDataSource.on(t,this._eventHandlerFuncs[t])},e.prototype._removeListener=function(t){this.tableDataSource.off(t,this._eventHandlerFuncs[t])},e.prototype._addTableDataSourceEventListeners=function(){this._eventHandlerFuncs={},this._addListener("sync",this._handleSync),this._addListener("add",this._handleAdd),this._addListener("remove",this._handleRemove),this._addListener("reset",this._handleReset),this._addListener("sort",this._handleSort),this._addListener("change",this._handleChange),this._addListener("refresh",this._handleRefresh),this._addListener("request",this._handleRequest),this._addListener("error",this._handleError),this._addListener("page",this._handlePage)},e.prototype._removeTableDataSourceEventListeners=function(){this._removeListener("sync"),this._removeListener("add"),this._removeListener("remove"),this._removeListener("reset"),this._removeListener("sort"),this._removeListener("change"),this._removeListener("refresh"),this._removeListener("request"),this._removeListener("error"),this._removeListener("page")},e.prototype._isPagingModelTableDataSource=function(){return null!=this.tableDataSource.getStartItemIndex},e}();t.EventTargetMixin.applyMixin(i),t.TableDataSourceAdapter=i,t.TableDataSourceAdapter=i});
define('ojs/ojlistview',["ojs/ojcore","jquery","require","ojs/ojcomponentcore","ojs/ojdomscroller","ojs/ojanimation","promise","ojs/ojdataprovideradapter","ojs/ojkeyset"],function(t,e,i){t.DataSourceContentHandler=function(t,e,i){this.m_root=e,this.m_widget=t,this.m_fetching=!1,this.setDataSource(i),this.Init()},t.Object.createSubclass(t.DataSourceContentHandler,t.Object,"oj.DataSourceContentHandler"),t.DataSourceContentHandler.prototype.Init=function(){t.DataSourceContentHandler.superclass.Init.call(this)},t.DataSourceContentHandler.prototype.HandleResize=function(t,e){},t.DataSourceContentHandler.prototype.notifyShown=function(){},t.DataSourceContentHandler.prototype.notifyAttached=function(){},t.DataSourceContentHandler.prototype.cleanItems=function(t){var e,i;if(void 0===t&&(t=this.getTemplateEngine()),t&&this.m_root)for(e=this.m_root.childNodes,i=0;i<e.length;i++)t.clean(e[i])},t.DataSourceContentHandler.prototype.Destroy=function(){null!=this.m_superRoot&&(this.m_root=this.m_superRoot),this.cleanItems(),e(this.m_root).empty(),this.m_widget=null,this.m_root=null,this.m_superRoot=null},t.DataSourceContentHandler.prototype.IsReady=function(){return!this.m_fetching},t.DataSourceContentHandler.prototype.setRootAriaProperties=function(){this.shouldUseGridRole()?this.m_root.setAttribute("role","grid"):this.IsHierarchical()?this.m_root.setAttribute("role","tree"):this.m_root.setAttribute("role","listbox")},t.DataSourceContentHandler.prototype.RenderContent=function(){var t,i;this.signalTaskStart("rendering content"),this.setRootAriaProperties(),this.shouldUseGridRole()&&this.isCardLayout()&&!this.IsHierarchical()&&(t=document.createElement("li"),i=document.createElement("ul"),t.appendChild(i),e(t).attr("role","presentation").css("width","100%"),e(i).attr("role","row").addClass(this.m_widget.getGroupStyleClass()),this.m_root.appendChild(t),this.m_superRoot=this.m_root,this.m_root=i),this.fetchRows(!1),this.signalTaskEnd()},t.DataSourceContentHandler.prototype.GetKey=function(t){return t.key},t.DataSourceContentHandler.prototype.FindElementByKey=function(i){var n,s,l;for(n=e(this.m_root).find("."+this.m_widget.getItemElementStyleClass()),s=0;s<n.length;s++)if(l=n[s],i==this.GetKey(l)||t.Object.compareValues(i,this.GetKey(l)))return l;return null},t.DataSourceContentHandler.prototype.getDataSource=function(){return this.m_dataSource},t.DataSourceContentHandler.prototype.setDataSource=function(t){this.m_dataSource=t},t.DataSourceContentHandler.prototype.loadTemplateEngine=function(){var e=this;return null!=this.m_widget.getItemTemplate()&&null==this.m_widget._getItemRenderer()?new Promise(function(i,n){t.Config.__getTemplateEngine().then(function(t){e.m_engine=t,i(t)},function(t){throw"Error loading template engine: "+t})}):Promise.resolve(null)},t.DataSourceContentHandler.prototype.getTemplateEngine=function(){return this.m_engine},t.DataSourceContentHandler.prototype.fetchRows=function(t){this.m_widget.showStatusText()},t.DataSourceContentHandler.prototype.addItem=function(t,i,n,s,l,o){var r,a,h,c;return r=document.createElement("li"),e(r).uniqueId(),a=-1===i?null:i===(h=e(t).children("."+this.m_widget.getItemElementStyleClass()+", ."+this.m_widget.getEmptyTextStyleClass()+", .oj-listview-temp-item")).length?null:h[i],this.m_widget.BeforeInsertItem(),t.insertBefore(r,a),c=e(t).children().index(r),this._addOrReplaceItem(r,c,t,i,n,s,l,o)},t.DataSourceContentHandler.prototype.replaceItem=function(t,i,n,s,l,o){var r,a,h;this.signalTaskStart("replace item"),r=t.parentNode,a=e(r).children().index(t),h=document.createElement("li"),l&&l.clean(t),e(t).replaceWith(h),this._addOrReplaceItem(h,a,r,i,n,s,l,o)},t.DataSourceContentHandler.prototype._addOrReplaceItem=function(t,i,n,s,l,o,r,a){var h,c,d,u,m,p,g,_,f;if(null==a&&(a=this.afterRenderItem.bind(this)),h=this.createContext(i,l,o,t),c=this.m_widget._getItemRenderer(),d=this.m_widget.getItemTemplate(),null!=c)null!=(u=c.call(this,h))&&(null===u.parentNode||u.parentNode instanceof DocumentFragment?t.appendChild(u):null!=u.parentNode||u.toString&&((m=document.createElement("span")).appendChild(document.createTextNode(u.toString())),t.appendChild(m)));else if(null!=d&&null!=r)for(p=this.m_widget.getRootElement()[0],g=this.GetBindingContext(h),_=r.execute(p,d,g,this.m_widget.GetOption("as")),f=0;f<_.length;f++){if("LI"===_[f].tagName){n.replaceChild(_[f],t);break}t.appendChild(_[f])}else(m=document.createElement("span")).appendChild(document.createTextNode(null==l?"":l.toString())),t.appendChild(m);return t=n.children?n.children[i]:this._getItemFromDocumentFragment(n,i),h.parentElement=t,e.data(t,"data",l),a(t,h),{item:t,context:h}},t.DataSourceContentHandler.prototype._getItemFromDocumentFragment=function(t,e){var i,n,s=0,l=0;for(i=t.childNodes;n=i[s++];)if(1===n.nodeType){if(l===e)return n;l++}return null},t.DataSourceContentHandler.prototype.GetBindingContext=function(t){var e={};return e.data=t.data,e.index=t.index,e.key=t.key,e.componentElement=t.componentElement,e},t.DataSourceContentHandler.prototype.afterRenderItem=function(t,i){var n;t.key=i.key,(t=e(t)).uniqueId(),n=this.m_widget.getSingleFocusableElement(t),this.shouldUseGridRole()?null==i.leaf||i.leaf?this.isCardLayout()?n.attr("role","gridcell"):(t.attr("role","row"),n!=t?n.attr("role","gridcell"):n.children().wrapAll("<div role='gridcell' class='oj-listview-cell-element'></div>")):t.attr("role","presentation"):(n.attr("role",this.IsHierarchical()?"treeitem":"option"),n!=t&&t.attr("role","presentation")),n.addClass(this.m_widget.getFocusedElementStyleClass()),this.isFocusable(i)||t.addClass("oj-skipfocus"),t.addClass(this.m_widget.getItemElementStyleClass())},t.DataSourceContentHandler.prototype.createContext=function(t,e,i,n){var s,l;for(l in(s={}).parentElement=n,s.index=t,s.data=e,s.component=this.m_widget.getWidgetConstructor(),s.datasource=this.getDataSource(),s=this.m_widget._FixRendererContext(s),i)i.hasOwnProperty(l)&&(s[l]=i[l]);return s},t.DataSourceContentHandler.prototype.isFocusable=function(t){return this.m_widget.getItemFocusable(t)},t.DataSourceContentHandler.prototype.isSelectable=function(t){return this.m_widget.getItemSelectable(t)},t.DataSourceContentHandler.prototype.isCardLayout=function(){return this.m_widget.isCardLayout()},t.DataSourceContentHandler.prototype.shouldUseGridRole=function(){return this.m_widget.ShouldUseGridRole()},t.DataSourceContentHandler.prototype.isAsyncRendering=function(){return!1},t.DataSourceContentHandler.prototype.signalTaskStart=function(t){this.m_widget&&this.m_widget.signalTaskStart("DataSource ContentHandler "+t)},t.DataSourceContentHandler.prototype.signalTaskEnd=function(){this.m_widget&&this.m_widget.signalTaskEnd()},t.TreeDataSourceContentHandler=function(e,i,n){t.TreeDataSourceContentHandler.superclass.constructor.call(this,e,i,n)},t.Object.createSubclass(t.TreeDataSourceContentHandler,t.DataSourceContentHandler,"oj.TreeDataSourceContentHandler"),t.TreeDataSourceContentHandler.prototype.Init=function(){t.TreeDataSourceContentHandler.superclass.Init.call(this)},t.TreeDataSourceContentHandler.prototype.IsHierarchical=function(){return!0},t.TreeDataSourceContentHandler.prototype.fetchRows=function(e){this.signalTaskStart("fetching rows"),t.TreeDataSourceContentHandler.superclass.fetchRows.call(this,e),this.fetchChildren(0,null,this.m_root,null),this.signalTaskEnd()},t.TreeDataSourceContentHandler.prototype.fetchChildren=function(t,i,n,s){var l,o,r,a,h,c=this;this.signalTaskStart("fetching children from index: "+t),l=this.loadTemplateEngine(),null!=i&&(o=n.parentNode.firstElementChild.firstElementChild.firstElementChild)&&(o=e(o),r=this.m_widget.getCollapseIconStyleClass(),o.hasClass(r)&&(a=this.m_widget.getExpandingIconStyleClass(),o.removeClass(r).addClass(a))),this.m_fetching=!0,h={start:t,count:this.m_dataSource.getChildCount(i)},this.signalTaskStart("first fetch"),this.m_dataSource.fetchChildren(i,h,{success:function(t){l.then(function(e){c._handleFetchSuccess(t,i,n,s,e),c.signalTaskEnd()})},error:function(t){c._handleFetchError(t),c.signalTaskEnd()}}),this.signalTaskEnd()},t.TreeDataSourceContentHandler.prototype._handleFetchSuccess=function(i,n,s,l,o){var r,a,h,c,d,u,m,p,g=this;if(null!=this.m_widget){for(this.signalTaskStart("handling successful fetch"),r=i.getStart(),a=i.getCount(),h=document.createDocumentFragment(),c=0;c<a;c++)d=i.getData(r+c),u=i.getMetadata(r+c),this.addItem(h,-1,d,u,o);s.appendChild(h),this.shouldUseGridRole()&&this.isCardLayout()&&null!=n&&a>1&&(m=s.parentNode.firstElementChild.firstElementChild,e(m).attr("aria-colspan",a)),this.m_fetching=!1,p=function(){g.m_widget&&(null!=l&&l.call(null,s),g.m_widget.renderComplete())},this.isAsyncRendering()?t.Context.getContext(this.m_root).getBusyContext().whenReady().then(function(){p()}):p(),this.m_initialized=!0,this.signalTaskEnd()}},t.TreeDataSourceContentHandler.prototype.GetBindingContext=function(e){var i=t.TreeDataSourceContentHandler.superclass.GetBindingContext.call(this,e);return i.depth=e.depth,i.leaf=e.leaf,i.parentKey=e.parentKey,i},t.TreeDataSourceContentHandler.prototype.afterRenderItem=function(i,n){var s,l,o,r,a,h,c,d,u;this.signalTaskStart("after rendering an item"),t.TreeDataSourceContentHandler.superclass.afterRenderItem.call(this,i,n),s=this.m_widget.getGroupStyleClass(),l=this.m_widget.getItemStyleClass(),o=this.m_widget.getGroupItemStyleClass(!0),r=this.m_widget.getGroupCollapseStyleClass(),h=this.m_widget.getCollapseIconStyleClass(),a=this.m_widget.getFocusedElementStyleClass(),i=e(i),0==n.leaf?(i.children().wrapAll("<div></div>"),i.hasClass(a)?i.removeClass(a).children().first().addClass(a).attr("aria-expanded","false"):i.children().first().attr("role","presentation").find("."+a).attr("aria-expanded","false"),(c=i.children().first()).uniqueId().addClass(o),this.m_widget.isExpandable()&&(i.addClass("oj-collapsed"),d=document.createElement("a"),e(d).attr("href","#").attr("aria-labelledby",c.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(h),c.prepend(d)),this.shouldUseGridRole()&&(c.get(0).removeAttribute("aria-expanded"),c.removeClass(a),c.attr("role","row"),c.children().wrapAll("<div role='gridcell' aria-expanded='false' class='oj-listview-cell-element "+a+"'></div>")),u=document.createElement("ul"),e(u).addClass(s).addClass(r).attr("role",this.shouldUseGridRole()?this.isCardLayout()?"row":"presentation":"group"),i.append(u)):1==n.leaf&&i.addClass(l),this.m_widget._isSelectionEnabled()&&this.isSelectable(n)&&this.m_widget.getFocusItem(i).attr("aria-selected",!1),this.m_widget.itemRenderComplete(i[0],n),this.signalTaskEnd()},t.TreeDataSourceContentHandler.prototype._handleFetchError=function(e){null!=this.m_widget?(this.signalTaskStart("handling fetch error: "+e),t.Logger.error(e),this.m_widget.renderComplete(),this.signalTaskEnd()):t.Logger.info("handleFetchError: widget has already been destroyed")},t.TreeDataSourceContentHandler.prototype.Expand=function(t,e){var i,n;this.signalTaskStart("expanding an item"),i=this.GetKey(t[0]),n=t.children("ul")[0],this.fetchChildren(0,i,n,e),this.signalTaskEnd()},t.TreeDataSourceContentHandler.prototype.Collapse=function(t){var e=this.getTemplateEngine();e&&e.clean(t.get(0)),t.empty()},t.StaticContentHandler=function(t,e){this.m_widget=t,this.m_root=e},t.Object.createSubclass(t.StaticContentHandler,t.Object,"oj.StaticContentHandler"),t.StaticContentHandler.prototype.Init=function(){t.StaticContentHandler.superclass.Init.call(this)},t.StaticContentHandler.prototype.Destroy=function(){this.m_root.hasAttribute("role")&&(this.restoreContent(this.m_root,0),this.unsetRootAriaProperties(),this.shouldUseGridRole()&&this.isCardLayout()&&!this.IsHierarchical()&&e(this.m_root).children().first().children().unwrap().children().unwrap())},t.StaticContentHandler.prototype.IsReady=function(){return!0},t.StaticContentHandler.prototype.HandleResize=function(t,e){},t.StaticContentHandler.prototype.notifyShown=function(){},t.StaticContentHandler.prototype.notifyAttached=function(){},t.StaticContentHandler.prototype.RenderContent=function(){var t=this.m_root;this.shouldUseGridRole()&&this.isCardLayout()&&!this.IsHierarchical()&&e(t).children("li").length>0&&(e(this.m_root).children().wrapAll("<li role='presentation' style='width:100%'><ul role='row' class='"+this.m_widget.getGroupStyleClass()+"'></ul></li>"),t=e(this.m_root).children("li").first().children("ul").first().get(0)),this.modifyContent(t,0),this.setRootAriaProperties(),this.m_widget.renderComplete()},t.StaticContentHandler.prototype.Expand=function(t,i){var n,s;n="."+this.m_widget.getGroupStyleClass(),s=e(t).children(n)[0],e(s).css("display",""),i.call(null,s)},t.StaticContentHandler.prototype.Collapse=function(t){},t.StaticContentHandler.prototype.IsHierarchical=function(){return null==this.m_hier&&(this.m_hier=e(this.m_root).children("li").children("ul").length>0),this.m_hier},t.StaticContentHandler.prototype.restoreContent=function(t,i){var n,s,l,o,r,a,h,c,d,u,m;for(n=this.m_widget.getGroupStyleClass(),s=this.m_widget.getGroupCollapseStyleClass(),l=this.m_widget.getGroupExpandStyleClass(),o=this.m_widget.getGroupItemStyleClass(!0),r=this.m_widget.getItemStyleClass(),a=this.m_widget.getItemElementStyleClass(),h=t.children,c=0;c<h.length;c++)(d=e(h[c])).hasClass(a)&&(this.unsetAriaProperties(d.get(0)),d.removeClass(a).removeClass(r).removeClass(this.m_widget.getDepthStyleClass(i)).removeClass("oj-skipfocus").removeClass("oj-focus").removeClass("oj-hover").removeClass("oj-expanded").removeClass("oj-collapsed").removeClass("oj-selected"),(u=d.children("ul")).length>0&&(d.children("."+o).children().unwrap(),this.shouldUseGridRole()&&this.unsetGroupAriaProperties(d),d.children(".oj-component-icon").remove(),(m=e(u[0])).removeClass(n).removeClass(l).removeClass(s).removeAttr("role"),this.restoreContent(m[0],i+1)))},t.StaticContentHandler.prototype.modifyContent=function(t,i){var n,s,l,o,r,a,h,c,d,u,m,p,g,_,f,C,S;for(n=this.m_widget.getItemStyleClass(),s=this.m_widget.getItemElementStyleClass(),l=this.m_widget.getGroupStyleClass(),o=this.m_widget.getGroupItemStyleClass(!0),r=this.m_widget.getGroupCollapseStyleClass(),a=this.m_widget.getCollapseIconStyleClass(),h=this.m_widget.getFocusedElementStyleClass(),c=t.children,d=this.m_widget.isExpandable(),u=0;u<c.length;u++)m=e(c[u]),p=this.createContext(m),this.setAriaProperties(m,p),m.uniqueId().addClass(s),i>0&&m.addClass(this.m_widget.getDepthStyleClass(i)),this.isFocusable(p)||m.addClass("oj-skipfocus"),(g=m.children("ul")).length>0?(this.m_hier=!0,m.children(":not(ul)").wrapAll("<div></div>"),(_=m.children().first()).addClass(o),(S=this.getItemsCount(g[0]))>0&&(m.hasClass(h)?(m.removeClass(h),_.addClass(h).attr("aria-expanded","false")):(_.attr("role","presentation"),_.find("."+h).attr("aria-expanded","false")),d&&(m.addClass("oj-collapsed"),_.uniqueId(),f=document.createElement("a"),e(f).attr("href","#").attr("role","button").attr("aria-labelledby",_.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(a),_.prepend(f))),this.shouldUseGridRole()&&this.setGroupAriaProperties(_,S),(C=e(g[0])).addClass(l).addClass(r).attr("role",this.shouldUseGridRole()?this.isCardLayout()?"row":"presentation":"group").css("display","none"),this.modifyContent(C[0],i+1)):m.addClass(n),this.m_widget._isSelectionEnabled()&&this.isSelectable(p)&&this.m_widget.getFocusItem(m).attr("aria-selected",!1),this.m_widget.itemRenderComplete(m[0],p)},t.StaticContentHandler.prototype.setRootAriaProperties=function(){this.shouldUseGridRole()?this.m_root.setAttribute("role","grid"):this.IsHierarchical()?this.m_root.setAttribute("role","tree"):this.m_root.setAttribute("role","listbox")},t.StaticContentHandler.prototype.unsetRootAriaProperties=function(){this.m_root.removeAttribute("role")},t.StaticContentHandler.prototype.getItemsCount=function(t){return e(t).children("li").length},t.StaticContentHandler.prototype.createContext=function(t){var e,i;return(e={}).key=t.attr("id"),e.parentElement=t.children().first()[0],e.index=t.index(),e.data=t[0],e.component=this.m_widget.getWidgetConstructor(),e=this.m_widget._FixRendererContext(e),this.IsHierarchical()&&(e.leaf=0==t.children("ul").length,i=t.parents("li."+this.m_widget.getItemElementStyleClass()),e.depth=i.length,0==i.length?e.parentKey=null:e.parentKey=i.first().attr("id")),e},t.StaticContentHandler.prototype.setAriaProperties=function(t,e){var i=this.m_widget.getSingleFocusableElement(t);this.shouldUseGridRole()?null==e.leaf||e.leaf?this.isCardLayout()?i.attr("role","gridcell"):(t.attr("role","row"),i!=t?i.attr("role","gridcell"):i.children().wrapAll("<div role='gridcell' class='oj-listview-cell-element'></div>")):(t.attr("role","presentation"),i!=t&&i.attr("role","gridcell")):(i.attr("role",this.IsHierarchical()?"treeitem":"option"),i!=t&&t.attr("role","presentation")),i.addClass(this.m_widget.getFocusedElementStyleClass())},t.StaticContentHandler.prototype.setGroupAriaProperties=function(t,e){var i=this.m_widget.getFocusedElementStyleClass();t.get(0).removeAttribute("aria-expanded"),t.removeClass(i),t.attr("role","row"),t.children().wrapAll("<div role='gridcell' aria-expanded='false' class='oj-listview-cell-element "+i+"'></div>"),this.isCardLayout()&&e>1&&t.children().first().attr("aria-colspan",e)},t.StaticContentHandler.prototype.unsetGroupAriaProperties=function(t){t.children("div").first().children().unwrap()},t.StaticContentHandler.prototype.unsetAriaProperties=function(t){var i=this.m_widget.getSingleFocusableElement(e(t));i.removeAttr("role"),i.removeAttr("aria-selected"),i.removeAttr("aria-expanded"),i.removeClass(this.m_widget.getFocusedElementStyleClass()),this.shouldUseGridRole()&&!this.isCardLayout()&&(i!=t?(e(t).removeAttr("role"),i.children().first().children().unwrap()):i.children().first().children().unwrap().children().unwrap())},t.StaticContentHandler.prototype.GetKey=function(t){return e(t).attr("id")},t.StaticContentHandler.prototype.FindElementByKey=function(t){return document.getElementById(t)},t.StaticContentHandler.prototype.isFocusable=function(t){return this.m_widget.getItemFocusable(t)},t.StaticContentHandler.prototype.isSelectable=function(t){return this.m_widget.getItemSelectable(t)},t.StaticContentHandler.prototype.isCardLayout=function(){return this.m_widget.isCardLayout()},t.StaticContentHandler.prototype.shouldUseGridRole=function(){return this.m_widget.ShouldUseGridRole()},t.KeyMap=function(){},t.KeyMap.prototype.set=function(t,e){var i;void 0===this._mapKeys&&void 0===this._mapValues&&(this._mapKeys=[],this._mapValues=[]),(i=this._mapKeys.indexOf(t))>-1?this._mapValues.splice(i,1,e):(this._mapKeys.push(t),this._mapValues.push(e))},t.KeyMap.prototype.get=function(t){var e;return this._mapKeys&&this._mapValues&&(e=this._mapKeys.indexOf(t))>-1&&this._mapValues.length>e?this._mapValues[e]:null},t.KeyMap.prototype.deleteValue=function(t){for(var e=this._mapValues.indexOf(t);e>-1;)this._mapValues.splice(e,1),this._mapKeys.splice(e,1),e=this._mapValues.indexOf(t,e)},t._ojListViewExpandedKeySet=function(){t._ojListViewExpandedKeySet.superclass.constructor.call(this)},t.Object.createSubclass(t._ojListViewExpandedKeySet,t.ExpandedKeySet,"ListViewExpandedKeySet");t._ojListView=function(i,n){var s=function(){};return t.Object.createSubclass(s,i,""),s.prototype=e.extend(s.prototype,n),s}(Object,{LEFT_KEY:37,RIGHT_KEY:39,DOWN_KEY:40,UP_KEY:38,TAB_KEY:9,ENTER_KEY:13,ESC_KEY:27,F2_KEY:113,SPACE_KEY:32,STATE_EXPANDED:0,STATE_COLLAPSED:1,STATE_NONE:2,MINIMUM_ITEM_HEIGHT:20,init:function(e){var i,n=this;this.readinessStack=[],this.element=e.element,this.ojContext=e.ojContext,this.OuterWrapper=e.OuterWrapper,this.options=e,this.element.uniqueId().addClass(this.GetStyleClass()+" oj-component-initnode"),this.OuterWrapper&&this.element[0].setAttribute("data-oj-context",""),this.signalTaskStart("Initializing"),this.SetRootElementTabIndex(),(i=this.GetDnDContext())&&(this.m_dndContext=i,this.ojContext._on(this.element,{dragstart:function(t){return i._handleDragStart(t)},dragenter:function(t){return i._handleDragEnter(t)},dragover:function(t){return i._handleDragOver(t)},dragleave:function(t){return i._handleDragLeave(t)},dragend:function(t){return n.m_preActive=!1,i._handleDragEnd(t)},drag:function(t){return i._handleDrag(t)},drop:function(t){return n.m_preActive=!1,i._handleDrop(t)}})),this.ojContext._on(this.element,{click:function(t){n.HandleMouseClick(t)},touchstart:function(t){n.HandleMouseDownOrTouchStart(t)},touchend:function(t){n.HandleTouchEndOrCancel(t)},touchcancel:function(t){n.HandleTouchEndOrCancel(t)},mousedown:function(t){0===t.button?n._recentTouch()||n.HandleMouseDownOrTouchStart(t):n.m_preActive=!0},mouseup:function(t){n._handleMouseUpOrPanMove(t),n.m_preActive=!1},mouseout:function(t){n._handleMouseOut(t)},mouseover:function(t){n._handleMouseOver(t)},keydown:function(t){n.HandleKeyDown(t)},keyup:function(t){n.HandleKeyUp(t)},ojpanmove:function(t){n._handleMouseUpOrPanMove(t)}}),this.ojContext._on(this.ojContext.element,{focus:function(t){n.HandleFocus(t)},blur:function(t){n.HandleBlur(t)}}),t.AgentUtils.getAgentInfo().browser===t.AgentUtils.BROWSER.FIREFOX&&this._getListContainer().attr("tabIndex",-1),this.ojContext._on(this.ojContext.element,{focusin:function(t){n.HandleFocus(t)},focusout:function(t){n.HandleFocusOut(t)}}),this._registerScrollHandler(),this.ojContext._focusable({applyHighlight:n.ShouldApplyHighlight(),recentPointer:n.RecentPointerCallback(),setupHandlers:function(t,e){n._focusInHandler=t,n._focusOutHandler=e}})},setupResources:function(){this.ojContext.document.bind("touchend.ojlistview touchcancel.ojlistview",this.HandleTouchEndOrCancel.bind(this)),this.InitContentHandler(),this._registerResizeListener(this._getListContainer()[0])},releaseResources:function(){this.ojContext.document.off(".ojlistview"),this.DestroyContentHandler(),this._unregisterResizeListener(this._getListContainer())},afterCreate:function(){this._buildList(),this.signalTaskEnd()},refresh:function(){this._resetInternal(),this.signalTaskStart("Refresh"),this.SetAriaProperties(),this.InitContentHandler(),this._registerScrollHandler(),this.signalTaskEnd()},whenReady:function(){return this.readyPromise},destroy:function(){this.element.removeClass(this.GetStyleClass()+" oj-component-initnode"),this._unregisterResizeListener(this._getListContainer()),this._resetInternal(),t.DomUtils.unwrap(this.element,this._getListContainer())},_clearBusyState:function(){if(this.readinessStack&&this.readinessStack.length>0)for(t.Logger.warn("ListView did not end with a clean state, this could happen if ListView is detached before fetch is complete.  State: "+this.readinessStack);this.readinessStack.length>0;)this.signalTaskEnd()},_resetInternal:function(){this.UnsetAriaProperties(),this._cleanupTabbableElementProperties(this.element),this.DestroyContentHandler(),this.m_active=null,this.m_isExpandAll=null,this.m_disclosing=null,this.m_itemHeight=null,this.ClearCache(),null!=this.m_dndContext&&this.m_dndContext.reset()},notifyAttached:function(){null!=this.m_contentHandler&&(this.syncScrollPosition(),this.m_contentHandler.notifyAttached())},notifyDetached:function(){this._getListContainer().removeClass("oj-focus-ancestor"),null!=this.m_active&&e(this.m_active.elem).removeClass("oj-focus oj-focus-highlight"),null!=this.m_hoverItem&&this._unhighlightElem(this.m_hoverItem,"oj-hover")},notifyShown:function(){null!=this.m_contentHandler&&(this.syncScrollPosition(),this.m_contentHandler.notifyShown())},getNodeBySubId:function(t){var i,n,s,l;if(null==t)return this.element[0];if("oj-listview-disclosure"===(i=t.subId)||"oj-listview-icon"===i){if(null!=(n=t.key)&&null!=(s=this.FindElementByKey(n))&&(l=e(s).find(".oj-clickable-icon-nocontext").first(),this._isExpandCollapseIcon(l)))return l.get(0)}else if("oj-listview-item"===i&&null!=(n=t.key))return this.FindElementByKey(n);return null},getSubIdByNode:function(t){var e,i;return null!=t&&this._isExpandCollapseIcon(t)&&null!=(e=this.FindItem(t))&&e.length>0&&null!=(i=this.GetKey(e[0]))?{subId:"oj-listview-disclosure",key:i}:null},getContextByNode:function(t){var e,i,n,s;return null!=(e=this.FindItem(t))&&e.length>0&&null!=(i=this.GetKey(e[0]))?(s={subId:"oj-listview-item",key:i,index:(n=e.parent()).children("."+this.getItemElementStyleClass()).index(e)},n.get(0)!=this.element.get(0)&&(s.parent=n.parent().get(0)),e.children().first().hasClass(this.getGroupItemStyleClass())?s.group=!0:s.group=!1,s):null},getDataForVisibleItem:function(t){var i,n,s,l;return null!=(i=t.key)&&(l=this.FindElementByKey(i)),null==l&&(n=t.index,s=null==(s=t.parent)?this.element.get(0):e(s).children("ul."+this.getGroupStyleClass()).first(),l=e(s).children("li").get(n)),null!=l&&e(l).hasClass(this.getItemStyleClass())?this._getDataForItem(l):null},_getDataForItem:function(t){return null==this.GetOption("data")?t:e.data(t,"data")},_unregisterResizeListener:function(e){e&&this._resizeHandler&&t.DomUtils.removeResizeListener(e,this._resizeHandler)},_registerResizeListener:function(e){e&&(null==this._resizeHandler&&(this._resizeHandler=this.HandleResize.bind(this)),t.DomUtils.addResizeListener(e,this._resizeHandler))},GetDnDContext:function(){if(void 0!==t.ListViewDndContext)return new t.ListViewDndContext(this)},HandleResize:function(t,e){t>0&&e>0&&null!=this.m_contentHandler&&this.m_contentHandler.HandleResize(t,e)},ShouldApplyHighlight:function(){return!0},RecentPointerCallback:function(){return function(){return!1}},ShouldRefresh:function(t){return null!=t.data||null!=t.drillMode||null!=t.groupHeaderPosition||null!=t.item||null!=t.scrollPolicy||null!=t.scrollPolicyOptions},_isKeySet:function(t){return t.values&&t.isAddAll},setOptions:function(t,i){var n,s,l,o,r,a=this;if(this.ShouldRefresh(t))return!0;if(null!=t.expanded&&this.m_contentHandler.IsHierarchical())if(this._collapsedKeys=void 0,s=t.expanded,Array.isArray(s)||s.values){this.signalTaskStart("Set expanded option"),this._collapseAll(),this._ignoreExpanded=!0;try{(this._isKeySet(s)?s.values():s).forEach(function(t){a.expandKey(t,!0,!0,!0)})}finally{this._ignoreExpanded=void 0,this.signalTaskEnd()}}else if("all"===s||s.deletedValues)return!0;return null!=t.currentItem?null!=(n=this.FindElementByKey(t.currentItem))&&(n=e(n),this.SkipFocus(n)||((l=document.activeElement)&&this.element.get(0).contains(l)?this.ActiveAndFocus(n,null):this._setActive(n,null,!0))):null===t.currentItem&&(this.UnhighlightActive(),this.m_active=null,this.SetRootElementTabIndex()),this.HandleSelectionOption(t),null!=t.selectionMode&&(this._clearSelection(!0),this.SetAriaProperties(),this.UpdateItemAriaProperties(t.selectionMode)),null!=t.scrollTop&&(o=this._getScroller(),null==(r=t.scrollTop)||isNaN(r)||(o.scrollTop=r)),null!=t.scrollPosition&&(this._setCurrentScrollPosition(t.scrollPosition),delete t.scrollPosition),this._shouldDragSelectedItems()&&null!=this.m_active&&null!=t.dnd&&null!=t.dnd.reorder&&("enabled"===t.dnd.reorder.items?this.m_dndContext._setItemDraggable(this.m_active.elem):"disabled"===t.dnd.reorder.items&&this.m_dndContext._unsetItemDraggable(this.m_active.elem)),!1},HandleSelectionOption:function(t){var e,i,n;if(null!=t.selection&&this._isSelectionEnabled())for(t.selection=this._filterSelection(t.selection),i=t.selection,this._clearSelection(!1),n=0;n<i.length;n++)null!=(e=this.FindElementByKey(i[n]))&&this._applySelection(e,i[n])},Trigger:function(t,e,i){return this.ojContext._trigger(t,e,i)},SetOption:function(t,e,i){this.ojContext.option(t,e,i)},GetOption:function(t){return this.ojContext.option(t)},_getBusyDescription:function(t){return"The component identified by '"+(this.ojContext._IsCustomElement()?this.getRootElement().attr("id"):this.element.attr("id"))+"', "+t},signalTaskStart:function(e){var i,n,s=this;this.readinessStack&&(0==this.readinessStack.length&&(this.readyPromise=new Promise(function(t,e){s.readyResolve=t}),i=t.Context.getContext(this.element[0]).getBusyContext(),n=null!=e?{description:this._getBusyDescription(e)}:{},s.busyStateResolve=i.addBusyState(n)),this.readinessStack.push(null!=e?e:"unknown task"))},signalTaskEnd:function(){this.readinessStack&&this.readinessStack.length>0&&(this.readinessStack.pop(),0==this.readinessStack.length&&(this.readyResolve(null),this.busyStateResolve(null),this.busyStateResolve=null))},isReady:function(){return null==this.busyStateResolve},throwError:function(t){if(this.readinessStack)for(;this.readinessStack.length>0;)this.signalTaskEnd();throw t},getItems:function(t){var i,n=this,s=[];return e.each(t,function(t,e){null!=(i=n.FindElementByKey(e))&&s.push(i)}),s},isCardLayout:function(){return(this.ojContext._IsCustomElement()?this.getRootElement():this.element).hasClass("oj-listview-card-layout")},ShouldUseGridRole:function(){return!0},ShouldUpdateScrollPosition:function(){return this.ShouldUseGridRole()&&this.ojContext._IsCustomElement()},DestroyContentHandler:function(){null!=this.m_contentHandler&&(this.m_contentHandler.Destroy(),delete this.m_contentHandler,this.m_contentHandler=null),this._clearBusyState()},InitContentHandler:function(){var e;this.signalTaskStart("Initialize ContentHandler"),this.showStatusText(),null!=(e=this.GetOption("data"))?void 0!==t.TableDataSource&&e instanceof t.TableDataSource?this.m_contentHandler=new t.IteratingDataProviderContentHandler(this,this.element[0],new t.TableDataSourceAdapter(e)):void 0!==t.TreeDataSource&&e instanceof t.TreeDataSource?this.m_contentHandler=new t.TreeDataSourceContentHandler(this,this.element[0],e):t.DataProviderFeatureChecker.isIteratingDataProvider(e)?this.m_contentHandler=new t.IteratingDataProviderContentHandler(this,this.element[0],e):this.throwError("Invalid data or missing module"):this.m_contentHandler=new t.StaticContentHandler(this,this.element[0]),this.m_contentHandler.RenderContent(),this.signalTaskEnd()},UpdateActiveDescendant:function(t){this.element.attr("aria-activedescendant",t.attr("id"))},SetAriaProperties:function(){this._isMultipleSelection()?this.element.attr("aria-multiselectable",!0):this._isSelectionEnabled()&&this.element.attr("aria-multiselectable",!1)},UnsetAriaProperties:function(){this.element.removeAttr("aria-activedescendant").removeAttr("aria-multiselectable")},UpdateItemAriaProperties:function(t){var i,n,s,l=this;for("none"==t?(this.element.removeAttr("aria-multiselectable"),i=function(t){l.getFocusItem(t).removeAttr("aria-selected")}):("single"==t?this.element.attr("aria-multiselectable",!1):this.element.attr("aria-multiselectable",!0),i=function(t){l.getFocusItem(t).attr("aria-selected","false")}),n=this._getItemsCache(),s=0;s<n.length;s++)i(e(n[s]))},_buildList:function(t){var e,i,n;e=this._getListContainer(),this.SetAriaProperties(),this.m_elementOffset=this.element.get(0).offsetTop,i=this._buildStatus(),e.append(i),this.m_status=i,n=this._buildAccInfo(),e.append(n),this.m_accInfo=n,this._isTouchSupport()&&null!=this.m_dndContext&&e.append(this._buildAccInstructionText())},_buildStatus:function(){var t,i;return(t=e(document.createElement("div"))).addClass("oj-icon oj-listview-loading-icon"),(i=e(document.createElement("div"))).addClass("oj-listview-status-message oj-listview-status").attr({id:this._createSubId("status"),role:"status"}),i.append(t),i},_buildAccInfo:function(){var t=e(document.createElement("div"));return t.addClass("oj-helper-hidden-accessible").attr({id:this._createSubId("info"),role:"status"}),t},_buildAccInstructionText:function(){var t=e(document.createElement("div"));return t.addClass("oj-helper-hidden-accessible").attr({id:this._createSubId("instr")}),t.text(this.ojContext.getTranslatedString("accessibleReorderTouchInstructionText")),t},_setAccInfoText:function(t){""!=t&&this.m_accInfo.text()!=t&&this.m_accInfo.text(t)},showStatusText:function(){var t,i,n,s,l=this;this.m_showStatusTimeout||(this.m_showStatusTimeout=setTimeout(function(){e(document.getElementById(l._createSubId("empty"))).remove(),t=l.ojContext.getTranslatedString("msgFetchingData"),n=l._getListContainer(),
l.m_status.attr("aria-label",t).css("left",Math.max(0,n.outerWidth()/2-l.m_status.outerWidth()/2)).css("top",Math.max(0,n.outerHeight()/2-l.m_status.outerHeight()/2)).show(),void 0===l.m_minHeightSet&&(i=l.m_status.get(0).offsetHeight,s=n.get(0).offsetHeight,n.css("minHeight",Math.max(s,i+l._getListContainerBorderWidth())),l.m_minHeightSet=!0),l.m_showStatusTimeout=null},this._getShowStatusDelay()))},_getShowStatusDelay:function(){var e;return null==this.defaultOptions&&(this.defaultOptions=t.ThemeUtils.parseJSONFromFontFamily(this.getOptionDefaultsStyleClass())),e=parseInt(this.defaultOptions.showIndicatorDelay,10),isNaN(e)?0:e},hideStatusText:function(){this.m_showStatusTimeout&&(clearTimeout(this.m_showStatusTimeout),this.m_showStatusTimeout=null),this.m_status.hide()},getRootElement:function(){return this._getListContainer()},_getListContainer:function(){return null==this.m_container&&(this.m_container=this._createListContainer()),this.m_container},_createListContainer:function(){var t;return this.OuterWrapper?t=e(this.OuterWrapper):(t=e(document.createElement("div")),this.element.parent()[0].replaceChild(t[0],this.element[0])),t.addClass(this.GetContainerStyleClass()).addClass("oj-component"),t.prepend(this.element),t},_getEmptyText:function(){return this.ojContext.getTranslatedString("msgNoData")},_buildEmptyText:function(){var t,e;return t=this._getEmptyText(),(e=document.createElement("li")).id=this._createSubId("empty"),e.className=this.getEmptyTextStyleClass()+" "+this.getEmptyTextMarkerClass(),e.textContent=t,e},GetState:function(t){var e=this.getFocusItem(t).attr("aria-expanded");return"true"==e?this.STATE_EXPANDED:"false"==e?this.STATE_COLLAPSED:this.STATE_NONE},SetState:function(t,e){var i=this.isExpandable();e==this.STATE_EXPANDED?(this.getFocusItem(t).attr("aria-expanded","true"),i&&t.removeClass("oj-collapsed").addClass("oj-expanded")):e==this.STATE_COLLAPSED&&(this.getFocusItem(t).attr("aria-expanded","false"),i&&t.removeClass("oj-expanded").addClass("oj-collapsed"))},_getItemOption:function(t,e,i){var n;return"function"==typeof(n=this.GetOption("item")[t])&&i?n.call(this,e):n},getItemFocusable:function(t){return this._getItemOption("focusable",t,!0)},getItemSelectable:function(t){return this.getItemFocusable(t)&&this._getItemOption("selectable",t,!0)},_getItemRenderer:function(){var t=this._getItemOption("renderer",null,!1);return"function"!=typeof t?null:this._WrapCustomElementRenderer(t)},getItemTemplate:function(){var e;return void 0===this.m_template&&(this.m_template=null,this.ojContext._IsCustomElement()&&(e=t.BaseCustomElementBridge.getSlotMap(this.getRootElement()[0]).itemTemplate)&&e.length>0&&"template"===e[0].tagName.toLowerCase()&&(this.m_template=e[0])),this.m_template},itemInsertComplete:function(t,e){},BeforeInsertItem:function(){},itemRemoveComplete:function(t){if(null!=this.m_active&&this.m_active.elem&&e(this.m_active.elem).get(0)==t){var i=t.nextElementSibling;null!=i&&e(i).hasClass(this.getItemElementStyleClass())||null!=(i=t.previousElementSibling)&&e(i).hasClass(this.getItemElementStyleClass())||this.SetOption("currentItem",null),null!=i&&e(i).hasClass(this.getItemElementStyleClass())&&this.SetOption("currentItem",this.GetKey(i))}null!=t&&t.id&&null!=this.m_keyElemMap&&this.m_keyElemMap.deleteValue(t.id)},itemRenderComplete:function(i,n){var s,l,o,r,a,h,c,d;if(null!=this.m_dndContext&&this.m_dndContext.itemRenderComplete(i),this._disableAllTabbableElements(i),s=n.key,this._isSelectionEnabled())if(l=this.GetOption("selection"),this.IsSelectable(i)){for(r=0;r<l.length;r++)if((l[r]==s||t.Object.compareValues(l[r],s))&&(this._applySelection(i,l[r]),!this._isMultipleSelection())){l.length>1&&(o=this.FindElementByKey(s),this._setSelectionOption([s],null,o,n.data));break}0==l.length&&this._isSelectionRequired()&&(this._applySelection(i,s),this._setSelectionOption([s],null,[i],n.data))}else if((a=this.GetIndexOf(l,s))>-1){for((h=l.slice(0)).splice(a,1),o=new Array(h.length),r=0;r<h.length;r++)o[r]=this.FindElementByKey(h[r]);this._setSelectionOption(h,null,o)}this.m_contentHandler.IsHierarchical()&&null==this._ignoreExpanded&&this.GetState(e(i))==this.STATE_COLLAPSED&&(c=this.GetOption("expanded"),this._isExpandAll()?(this.ojContext._IsCustomElement()||null==this._collapsedKeys)&&this.ExpandItem(e(i),null,!1,null,!1,!1,!1):!this.ojContext._IsCustomElement()&&Array.isArray(c)?(d=this,e.each(c,function(t,n){n!=s||null!=d._collapsedKeys&&-1!=d._collapsedKeys.indexOf(n)||d.ExpandItem(e(i),null,!1,null,!1,!1,!1)})):c.has&&c.has(s)&&this.ExpandItem(e(i),null,!1,null,!1,!1,!1)),null!=this.m_active&&s==this.m_active.key&&null!=this.m_active.elem&&i!=this.m_active.elem.get(0)&&(this.m_active.elem=e(i))},renderComplete:function(){var t,i,n,s;if(this.hideStatusText(),e(document.getElementById(this._createSubId("empty"))).remove(),this.m_items=null,this.m_groupItems=null,this._isEmptyGrid()&&this.element[0].removeChild(this.element[0].children[0]),0==this.element[0].childElementCount)return t=this._buildEmptyText(),this.element.append(t),void this.Trigger("ready",null,{});this.ShouldUpdateScrollPosition()&&null==this.m_itemHeight&&(this.m_contentHandler.IsHierarchical()?(i=this.element.children("li."+this.getItemElementStyleClass()).first()).length>0&&(this.m_itemHeight=i.get(0).firstElementChild.offsetHeight):(i=e(this._getRootNodeForItems()).children("li."+this.getItemStyleClass()).first()).length>0&&(this.m_itemHeight=i.get(0).offsetHeight)),null!=(n=this.GetOption("currentItem"))&&(null==(s=this.FindElementByKey(n))?this.SetOption("currentItem",null):null!=this.m_active||this.SkipFocus(e(s))||this.ActiveAndFocus(e(s),null)),this._getListContainer().hasClass("oj-focus-ancestor")&&null==this.m_active&&null==n&&this._initFocus(),this.m_scrollAndFetch=void 0,this.m_ticking&&null==this.m_scrollPosition||this.syncScrollPosition(),this.Trigger("ready",null,{})},_isEmptyGrid:function(){return this.ShouldUseGridRole()&&this.isCardLayout()&&!this.m_contentHandler.IsHierarchical()&&this.element[0].children[0]&&0==this.element[0].children[0].children[0].childElementCount},_setScrollY:function(t,e){this._skipScrollUpdate||this.signalTaskStart("waiting for scroll handler"),this._skipScrollUpdate=!0,t.scrollTop=e,this._handlePinGroupHeader()},_setScrollX:function(e,i){this._skipScrollUpdate||this.signalTaskStart("waiting for scroll handler"),this._skipScrollUpdate=!0,t.DomUtils.setScrollLeft(e,i)},_getScrollX:function(e){return t.DomUtils.getScrollLeft(e)},syncScrollPosition:function(t){var e,i,n,s,l,o,r;if((e=this._getScroller()).scrollHeight!=e.clientHeight)if(this.ShouldUpdateScrollPosition()&&(null!=this.m_scrollPosition?t=this.m_scrollPosition:void 0===t&&(t=this.GetOption("scrollPosition")),n=(i=this._getScrollCoordinates(t)).x,s=i.y,isNaN(n)&&isNaN(s)))null!=this.m_scrollPosition&&(this.SetOption("scrollPosition",this._getCurrentScrollPosition(l),{_context:{originalEvent:null,internalSet:!0}}),this.signalTaskEnd(),this.m_scrollPosition=null);else{if(void 0===i&&(s=this.GetOption("scrollTop")),l=e.scrollTop,!isNaN(n)&&isNaN(s)||!isNaN(n)&&s==l&&n!=this._getScrollX(e,n))this._setScrollX(e,n),o=this.GetOption("scrollPosition"),r={x:n=this._getScrollX(e),y:o.y,index:o.index,key:o.key,offsetX:n,offsetY:o.offsetY},o.parent&&(r.parent=o.parent),this.SetOption("scrollPosition",r,{_context:{originalEvent:null,internalSet:!0}});else if(s!=l){if(this._setScrollY(e,s),isNaN(n)||n==this._getScrollX(e,n)||this._setScrollX(e,n),l=e.scrollTop,Math.abs(l-s)>=1&&this.m_contentHandler.hasMoreToFetch&&this.m_contentHandler.hasMoreToFetch())return null==this.m_scrollPosition&&this.signalTaskStart("Scroll position needs to resolve further"),this.m_scrollAndFetch=!0,void(this.m_scrollPosition=t);this.SetOption("scrollPosition",this._getCurrentScrollPosition(l),{_context:{originalEvent:null,internalSet:!0}})}else t&&(null==t.key||isNaN(t.index))&&this.SetOption("scrollPosition",this._getCurrentScrollPosition(l),{_context:{originalEvent:null,internalSet:!0}});null!=this.m_scrollPosition&&(this.signalTaskEnd(),this.m_scrollPosition=null)}},restoreCurrentItem:function(){var t=this.GetOption("currentItem");if(null!=t){var i=this.FindElementByKey(t);null==i||this.SkipFocus(e(i))||this.ActiveAndFocus(e(i),null)}},ClearCache:function(){this.m_items=null,this.m_groupItems=null},StartAnimation:function(e,i,n){return null==n&&(n=this.getAnimationEffect(i)),t.AnimationUtils.startAnimation(e,i,n,this.ojContext)},notifyContextMenuGesture:function(t,i,n){var s,l,o;if(this.IsNodeEditableOrClickable(e(i.target)))return!1;s=e(i.target).closest("."+this.getItemElementStyleClass()),this.PrepareContextMenu(s),s.length>0&&!this.SkipFocus(e(s[0]))&&this.SetCurrentItem(e(s[0]),null),o=this.element,2===i.button?o=this._findItem(e(i.target)):null!=this.m_active&&(o=this.m_active.elem),l={launcher:o,initialFocus:"menu"},"keyboard"===n&&(l.position={my:"start top",at:"start bottom",of:this.m_active.elem}),this.ojContext._OpenContextMenu(i,n,l)},PrepareContextMenu:function(t){null!=this.m_dndContext&&this.m_dndContext.prepareContextMenu(this.ojContext._GetContextMenu())},IsElementEditableOrClickable:function(t){return null!=t.prop("nodeName").match(/^INPUT|SELECT|OPTION|BUTTON|^A\b|TEXTAREA/)},IsNodeEditableOrClickable:function(t){for(;null!=t&&t[0]!=this.element[0]&&"LI"!=t.prop("nodeName");)if(3!=t[0].nodeType){var e=t.attr("tabIndex"),i=t.attr("data-oj-tabindex");if(null!=e&&e>=0&&!t.hasClass(this.getFocusedElementStyleClass())&&!t.hasClass("oj-listview-cell-element"))return!0;if(this.IsElementEditableOrClickable(t)&&(-1!=e||-1!=i))return!0;t=t.parent()}else t=t.parent();return!1},_disableAllTabbableElements:function(t,i){var n,s;(n=e(t)).hasClass(this.getItemStyleClass())||(n=e(n.get(0).firstElementChild)),n.children().first().hasClass("oj-listview-cell-element")&&(n=e(n.get(0).firstElementChild)),n.find("a, input, select, textarea, button, object, .oj-component-initnode, [tabIndex]").each(function(t){e(this).removeAttr("data-first").removeAttr("data-last"),s=parseInt(e(this).attr("tabIndex"),10),!(isNaN(s)||s>=0)||void 0!==i&&this==document.activeElement||e(this).attr("tabIndex",-1).attr("data-tabmod",isNaN(s)?-1:s)})},_disableAllTabbableElementsBeforeItem:function(t){var e,i,n;for(i=(e=this._getItemsCache()).index(t),n=0;n<=i;n++)this._disableAllTabbableElements(e[n],!0)},_disableAllTabbableElementsAfterItem:function(t){var e,i,n;if(-1!=(i=(e=this._getItemsCache()).index(t)))for(n=i;n<=e.length-1;n++)this._disableAllTabbableElements(e[n],!0)},_enableAllTabbableElements:function(t){var i,n;(i=(i=e(t).find("[data-tabmod]").each(function(t){n=parseInt(e(this).attr("data-tabmod"),10),e(this).removeAttr("data-tabmod"),-1==n?e(this).removeAttr("tabIndex"):e(this).attr("tabIndex",n)})).filter(":visible")).first().attr("data-first","true"),i.last().attr("data-last","true")},_cleanupTabbableElementProperties:function(t){e(t).find("[data-tabmod]").removeAttr("tabIndex").removeAttr("data-tabmod").removeAttr("data-first").removeAttr("data-last")},SkipFocus:function(t){return t.hasClass("oj-skipfocus")},GetFocusElement:function(){var t;if(this._getListContainer().hasClass("oj-focus-ancestor")){if(this.m_active)return this.getFocusItem(this.m_active.elem)[0];if((t=this.element.children("."+this.getEmptyTextStyleClass()).first()).length>0&&0==t.attr("tabIndex"))return t[0]}return this.element[0]},_isFocusBlurTriggeredByDescendent:function(t){return void 0===t.relatedTarget||!(null==t.relatedTarget||!e.contains(this.ojContext.element.get(0),t.relatedTarget))},HandleFocus:function(t){var i;this._getListContainer().addClass("oj-focus-ancestor"),null==this.m_active?(i=this._findItem(e(t.target)),this.m_preActive||this._isFocusBlurTriggeredByDescendent(t)||null!=i&&!this.SkipFocus(i)||this._initFocus(t)):(this.m_preActive||t.target!==this.ojContext.element[0]||this._isFocusBlurTriggeredByDescendent(t)||(this.HighlightActive(),this._focusItem(this.m_active.elem)),this.RemoveRootElementTabIndex(),this._setTabIndex(this.m_active.elem))},_initFocus:function(t){var i,n,s,l;for(i=this._getItemsCache(),n=0;n<i.length;n++)if(s=e(i[n]),!this.SkipFocus(s)){this.SetCurrentItem(s,t);break}0==i.length&&(l=this.element.children("."+this.getEmptyTextStyleClass()).first()).length>0&&(l.attr("tabIndex",0),l.focus(),this.RemoveRootElementTabIndex())},HandleFocusOut:function(t){this.HandleBlur(t)},_supportRelatedTargetOnBlur:function(){var e=t.AgentUtils.getAgentInfo();return!(e.browser==t.AgentUtils.BROWSER.FIREFOX&&parseInt(e.browserVersion,10)<48)},_isExtraBlurEvent:function(e){var i=t.AgentUtils.getAgentInfo();return null==e.relatedTarget&&i.browser==t.AgentUtils.BROWSER.IE&&e.target==this.ojContext.element.get(0)},HandleBlur:function(t){this._supportRelatedTargetOnBlur()&&!this._isExtraBlurEvent(t)&&(this._isFocusBlurTriggeredByDescendent(t)||this.m_preActive||this._doBlur(),this._isExpandCollapseIcon(t.target)&&this._focusOutHandler(e(t.target)))},_doBlur:function(){var t;this._getListContainer().removeClass("oj-focus-ancestor"),this.UnhighlightActive(),null!=this.m_active?(this._resetTabIndex(this.m_active.elem),this._removeSkipItemAriaLabel(this.m_active.elem)):(t=this.element.children("."+this.getEmptyTextStyleClass()).first()).length>0&&t.removeAttr("tabIndex"),this.SetRootElementTabIndex()},_handleMouseOut:function(t){var e=this.FindItem(t.target);null!=e&&(this.m_hoverItem=null,this._unhighlightElem(e,"oj-hover"))},_handleMouseOver:function(t){if(!this._recentTouch()){var e=this.FindItem(t.target);null==e||this.SkipFocus(e)||(this.m_hoverItem=e,this._highlightElem(e,"oj-hover"))}},_recentTouch:function(){return Date.now()-this._lastTouch<500},HandleKeyDown:function(t){var e,i,n;if(this.isExpandable()&&((e=t.keyCode)===this.LEFT_KEY||e===this.RIGHT_KEY))if(i=this.m_active.elem,e===this.LEFT_KEY){if(this.GetState(i)==this.STATE_EXPANDED)return void this.CollapseItem(i,t,!0,this.m_active.key,!0,!0)}else if(this.GetState(i)==this.STATE_COLLAPSED)return void this.ExpandItem(i,t,!0,this.m_active.key,!0,!0,!0);n=this.HandleSelectionOrActiveKeyDown(t),null!=this.m_dndContext&&(n=n||this.m_dndContext.HandleKeyDown(t)),!0===n&&t.preventDefault(),this.m_keyProcessed=n},HandleKeyUp:function(t){t.keyCode==this.ESC_KEY&&this.m_keyProcessed&&t.stopPropagation(),this.m_keyProcessed=void 0},_handleMouseUpOrPanMove:function(t){this.m_preActiveItem&&this._unhighlightElem(this.m_preActiveItem,"oj-focus"),null!=this.m_dndContext&&this.m_dndContext._unsetDraggable(e(t.target))},HandleMouseDownOrTouchStart:function(t){var i,n;n=e(t.target),null!=this.m_dndContext&&this.m_dndContext._setDraggable(n),null!=(i=this._findItem(n,!0))&&this._isClickthroughDisabled(i)&&(this.m_preActive=!0,i=null),null==i||0==i.length||this.SkipFocus(i)||n.hasClass("oj-listview-drag-handle")||(this.m_preActive=!0,this._getListContainer().hasClass("oj-focus-ancestor")||this._getListContainer().addClass("oj-focus-ancestor"),this.m_preActiveItem=i,this._highlightElem(i,"oj-focus"),this._makeFocusable(i),i.get(0).contains(document.activeElement)||this._focusItem(i),this.RemoveRootElementTabIndex(),null!=this.m_active&&this.m_active.elem.get(0)!=i.get(0)&&this._resetTabIndex(this.m_active.elem),t.originalEvent.touches&&t.originalEvent.touches.length>0&&(this.m_touchPos={x:t.originalEvent.changedTouches[0].pageX,y:t.originalEvent.changedTouches[0].pageY}))},HandleTouchEndOrCancel:function(t){var e,i,n,s;null!=this.m_preActiveItem&&(this._unhighlightElem(this.m_preActiveItem,"oj-focus"),null!=this.m_touchPos&&(e=this.m_preActiveItem.offset(),(i=this.getAnimationEffect("pointerUp")).offsetX=this.m_touchPos.x-e.left+"px",i.offsetY=this.m_touchPos.y-e.top+"px",n=(s=this.m_preActiveItem.children("."+this.getGroupItemStyleClass())).length>0?s.get(0):this.getFocusItem(this.m_preActiveItem).get(0),this.StartAnimation(n,"pointerUp",i),this.m_touchPos=null)),this._lastTouch=Date.now(),this._handleMouseOut(t)},_enterActionableMode:function(){var t;t=this.m_active.elem,this._disableAllTabbableElements(t),this._enableAllTabbableElements(t),t.find("[data-first]").length>0&&this._setActionableMode(!0)},_exitActionableMode:function(){this._setActionableMode(!1),this._disableAllTabbableElements(this.m_active.elem)},HandleMouseClick:function(t){var i,n,s,l,o;if(0===t.button)if(i=this.getCollapseIconStyleClass(),n=this.getExpandIconStyleClass(),s=this.getGroupItemStyleClass(),(l=e(t.target)).hasClass(n))this._collapse(t),t.preventDefault();else if(l.hasClass(i))this._expand(t),t.preventDefault();else{if(null==(o=this._findItem(l))||0==o.length||this.SkipFocus(o))return;if(this._isActionableMode()&&null!=this.m_active&&this.m_active.elem.get(0)!=o.get(0)&&this._exitActionableMode(),this._getListContainer().hasClass("oj-focus-ancestor")||this._getListContainer().addClass("oj-focus-ancestor"),this._isSelectionEnabled()&&this.IsSelectable(o[0])?(this._isTouchSupport()?this._handleTouchSelection(o,t):this.HandleClickSelection(o,t),this.ShouldUseGridRole()&&t.target==o.get(0)&&this._focusItem(o),this._shouldDragSelectedItems()&&this.m_dndContext.setSelectionDraggable()):this.HandleClickActive(o,t),this._isInputElement(l.get(0)))return void this._enterActionableMode();this.isExpandable()&&l.closest("."+s)&&(this.GetState(o)==this.STATE_COLLAPSED?this._expand(t):this.GetState(o)==this.STATE_EXPANDED&&this._collapse(t))}},_shouldDragSelectedItems:function(){return null!=this.m_dndContext&&!this.m_dndContext.shouldDragCurrentItem()},_isTouchSupport:function(){return t.DomUtils.isTouchSupported()},_isNonWindowTouch:function(){return this._isTouchSupport()&&t.AgentUtils.getAgentInfo().os!=t.AgentUtils.OS.WINDOWS},_ctrlEquivalent:function(e){return t.DomUtils.isMetaKeyPressed(e)},_createSubId:function(t){return[this.element.attr("id"),t].join(":")},FindItem:function(t){return e(t).closest("."+this.getItemElementStyleClass())},_isClickthroughDisabled:function(t){return t.hasClass("oj-clickthrough-disabled")},_findItem:function(t,e){for(var i=t;i.length>0;){if(this._isClickthroughDisabled(i))return e?i:null;if(i.hasClass(this.getItemElementStyleClass()))return i;i=i.parent()}return null},_getListContainerBorderWidth:function(){return null==this.m_borderWidth&&(this.m_borderWidth=parseInt(this._getListContainer().css("border-top-width"),10)+parseInt(this._getListContainer().css("border-bottom-width"),10)),this.m_borderWidth},scrollToItem:function(t){var i,n,s;null!=(i=t.key)&&null!=(n=this.FindElementByKey(i))&&(e(n).hasClass(this.getItemStyleClass())?this._scrollToVisible(n):(s=e(n).children("."+this.getGroupItemStyleClass()).first(),this._scrollToGroupHeader(s.get(0))))},_scrollToVisible:function(t){var i,n,s,l,o,r,a,h,c=0;i=t.offsetTop,n=t.offsetHeight,l=(s=this._getListContainer()[0]).scrollTop,o=s.offsetHeight,null!=this.m_groupItemToPin&&(r=parseInt(this.m_groupItemToPin.style.top,10),a=e(this.m_groupItemToPin).outerHeight(),i<=r&&r<i+n?c=(n+i-r)/2:i>=r&&i<r+a&&(c=(r+a-i)/2)),i>=l&&i+n<=l+o?c>0&&(s.scrollTop=l-c):((h=Math.max(0,Math.min(i-c,Math.abs(i+n-o))))>l&&(h+=this._getListContainerBorderWidth()),s.scrollTop=h)},GetKey:function(t){return this.m_contentHandler.GetKey(t)},FindElementByKey:function(t){var e;return null!=this.m_keyElemMap&&null!=(e=this.m_keyElemMap.get(t))?document.getElementById(e):this.m_contentHandler.FindElementByKey(t)},GetIndexOf:function(e,i){var n;for(n=0;n<e.length;n++)if(i==e[n]||t.Object.compareValues(i,e[n]))return n;return-1},_isExpandCollapseIcon:function(t){return e(t).hasClass(this.getExpandIconStyleClass())||e(t).hasClass(this.getCollapseIconStyleClass())},IsArrowKey:function(t){return this.isCardLayout()?t==this.UP_KEY||t==this.DOWN_KEY||t==this.LEFT_KEY||t==this.RIGHT_KEY:t==this.UP_KEY||t==this.DOWN_KEY},_getItemsCache:function(){var t,i;return null==this.m_items&&(t=this.getGroupCollapseStyleClass(),i="."+this.getItemElementStyleClass()+":visible",this.m_items=this.element.find(i).filter(function(i){return!e(this).parent().hasClass(t)||!e(this).parent().parent().hasClass("oj-collapsed")})),this.m_items},_handleLastItemKeyboardFocus:function(t){var i=t.get(0).nextElementSibling;if(null==i||!e(i).hasClass(this.getItemElementStyleClass())){if(this.m_contentHandler.IsHierarchical()&&t.parent().hasClass(this.getGroupStyleClass())&&null!=t.parent().parent().get(0).nextElementSibling)return;var n=this._getScroller();n.scrollTop<n.scrollHeight&&(n.scrollTop=n.scrollHeight)}},HandleArrowKeys:function(t,i,n){var s,l;if(!this.m_contentHandler.IsReady())return!0;switch(s=!i||this.m_isNavigate?this.m_active.elem:this.m_selectionFrontier,l=!1,t){case this.UP_KEY:this.isCardLayout()&&e(s).hasClass(this.getItemStyleClass())?this._gotoItemAbove(s,i,n):this._gotoPrevItem(s,i,n),l=!0;break;case this.DOWN_KEY:this.isCardLayout()&&e(s).hasClass(this.getItemStyleClass())?this._gotoItemBelow(s,i,n):this._gotoNextItem(s,i,n),l=!0;break;case this.LEFT_KEY:case this.RIGHT_KEY:this.isCardLayout()&&("rtl"==this.ojContext._GetReadingDirection()&&(t=t==this.LEFT_KEY?this.RIGHT_KEY:this.LEFT_KEY),t==this.LEFT_KEY?this._gotoPrevItem(s,i,n):this._gotoNextItem(s,i,n),l=!0)}return l},_gotoNextItem:function(t,i,n){var s,l,o;if(l=(s=this._getItemsCache()).index(t),++l<s.length){for(o=e(s[l]);this.SkipFocus(o);){if(++l==s.length)return;o=e(s[l])}i?(this._extendSelection(o,n),this.m_isNavigate=!1):(this.SetCurrentItem(o,n),this.m_isNavigate=!0),this._handleLastItemKeyboardFocus(o)}},_gotoPrevItem:function(t,i,n){var s,l,o;if(l=(s=this._getItemsCache()).index(t),--l>=0){for(o=e(s[l]);this.SkipFocus(o);){if(--l<0)return;o=e(s[l])}i?(this._extendSelection(o,n),this.m_isNavigate=!1):(this.SetCurrentItem(o,n),this.m_isNavigate=!0)}},_getColumnCount:function(t){var e,i,n;return t.each(function(t){if(i=this.offsetTop,void 0===n)n=i;else if(n!=i)return!1;e=t}),e+1},_updateSkipItemAriaLabel:function(t,i){var n,s,l;n=this._createSubId("extra_info"),null==this.m_skipAriaLabelText&&((s=e(document.createElement("div"))).addClass("oj-helper-hidden-accessible").attr("id",n),this._getListContainer().append(s),this.m_skipAriaLabelText=s),this.m_skipAriaLabelText.text(this.ojContext.getTranslatedString("accessibleNavigateSkipItems",{numSkip:i})),(l=this.getFocusItem(t)).uniqueId().attr("aria-labelledby",n+" "+l.prop("id"))},_removeSkipItemAriaLabel:function(t){var e=this.getFocusItem(t);e.length>0&&e.get(0).removeAttribute("aria-labelledby")},_gotoItemAbove:function(t,i,n){var s,l,o,r,a,h,c;if(t.hasClass(this.getItemStyleClass())){if(l=(s=t.parent()).children("li."+this.getItemStyleClass()),o=this._getColumnCount(l),(a=(r=l.index(t))-o)<0?s.hasClass(this.getGroupStyleClass())&&(h=s.parent(),c=r):(h=e(l.get(a)),c=o-1),h.length>0){if(this.SkipFocus(h))return;i?(this._extendSelection(h,n),this.m_isNavigate=!1):(null!=c&&c>0&&this._updateSkipItemAriaLabel(h,c),this.SetCurrentItem(h,n),this.m_isNavigate=!0)}}else this._gotoPrevItem(t)},_gotoItemBelow:function(t,i,n){var s,l,o,r,a,h,c,d;if(t.hasClass(this.getItemStyleClass())){if(l=(s=t.parent()).children("li."+this.getItemStyleClass()),o=this._getColumnCount(l),(a=(r=l.index(t))+o)>=l.length?(h=Math.ceil(l.length/o),d=l.length-1-r,r<Math.max(0,(h-1)*o)?(c=l.last(),d--):s.hasClass(this.getGroupStyleClass())&&(c=s.parent().next("li."+this.getItemElementStyleClass()))):(c=e(l.get(a)),d=o-1),c.length>0){if(this.SkipFocus(c))return;i?(this._extendSelection(c,n),this.m_isNavigate=!1):(null!=d&&d>0&&this._updateSkipItemAriaLabel(c,d),this.SetCurrentItem(c,n),this.m_isNavigate=!0)}}else this._gotoNextItem(t)},_isActionableMode:function(){return"actionable"==this.m_keyMode},_setActionableMode:function(t){this.m_keyMode=t?"actionable":"navigation",t||this.element[0].focus()},getFocusItem:function(t){var i;return t.hasClass(this.getFocusedElementStyleClass())?this.ShouldUseGridRole()&&"row"==t.attr("role")?0==(i=t.children(".oj-listview-cell-element").first()).length?t.children().first():i:t:e(t.find("."+this.getFocusedElementStyleClass()).first())},SetRootElementTabIndex:function(){this.element.attr("tabIndex",0)},RemoveRootElementTabIndex:function(){this.element.removeAttr("tabIndex")},_setTabIndex:function(t){this.getFocusItem(t).attr("tabIndex",0)},_resetTabIndex:function(t){var e;e=!0,"presentation"===t.attr("role")&&(e=!1),t=this.getFocusItem(t),e?t.removeAttr("tabIndex"):t.attr("tabIndex",-1)},_makeFocusable:function(t){this._setTabIndex(t)},getSingleFocusableElement:function(t){var e,i;return e="a, input, select, textarea, button",1===(i=t.children(e)).length&&0===i.first().find(e).length?i.first():t},_setCurrentItemOption:function(t,i,n){var s={item:this.ojContext._IsCustomElement()?n:e(n)};this.SetOption("currentItem",t,{_context:{originalEvent:i,internalSet:!0,extraData:s},changed:!0})},_setActive:function(t,e,i){var n,s,l,o;if(null!=t){if(n=t[0],s=this.GetKey(n),null==this.m_active||s!=this.m_active.key)return l={key:s,item:t},null!=this.m_active&&(l.previousKey=this.m_active.key,l.previousItem=this.m_active.elem,this._shouldDragSelectedItems()&&this._isTouchSupport()&&this.m_dndContext._unsetDraggable(l.previousItem),this._removeSkipItemAriaLabel(l.previousItem)),!!this.Trigger("beforeCurrentItem",e,l)&&(o={key:s,elem:t},this.m_active=o,this._shouldDragSelectedItems()&&this._isTouchSupport()&&this.m_dndContext._setDraggable(t),void 0!==i&&i||(this._makeFocusable(t),this.HighlightActive(),(null==e||e.originalEvent&&"click"!=e.originalEvent.type)&&this._focusItem(t),this.RemoveRootElementTabIndex(),l.previousItem&&this._resetTabIndex(l.previousItem)),!0);s==this.m_active.key&&(o={key:s,elem:t},this.m_active=o,void 0!==i&&i||(this._makeFocusable(t),this.RemoveRootElementTabIndex()))}else this.m_active=null;return!1},_focusItem:function(t){this.getFocusItem(t).focus()},HighlightActive:function(){var t;null!=this.m_active&&this._getListContainer().hasClass("oj-focus-ancestor")&&(t=this.m_active.elem,this._highlightElem(t,"oj-focus"))},UnhighlightActive:function(){null!=this.m_active&&this._unhighlightElem(this.m_active.elem,"oj-focus")},HandleClickActive:function(t,i){var n=null!=this.m_active?this.m_active.elem.get(0):null;null==n||e(n).hasClass(this.getItemStyleClass())||(n=n.firstElementChild),null!=i&&null!=n&&n!=i.target&&n.contains(i.target)||this.SetCurrentItem(t,i,!this.ShouldUseGridRole()||i.target!=t.get(0))},SetCurrentItem:function(t,e,i){this.ActiveAndFocus(t,e,i)&&this._setCurrentItemOption(this.GetKey(t[0]),e,t.get(0))},ActiveAndFocus:function(t,e,i){var n;return this._scrollToVisible(t[0]),this.UnhighlightActive(),n=this._setActive(t,e,i),this.HighlightActive(),n},enforceSelectionRequired:function(){var t;this._isSelectionEnabled()&&this._isSelectionRequired()&&(null!=(t=this.GetOption("selection"))&&0!=t.length||this._selectFirstSelectableItem())},_getFirstSelectableItem:function(){var t=this.element[0].querySelector(".oj-listview-cell-element[aria-selected]");return null==t?null:t.parentNode},_selectFirstSelectableItem:function(){var t,e;(t=this._getFirstSelectableItem())&&null!=(e=this.m_contentHandler.GetKey(t))&&(this._applySelection(t,e),this._setSelectionOption([e],null,[t]))},_isSelectionEnabled:function(){return"none"!=this.GetOption("selectionMode")},_isSelectionRequired:function(){return this.GetOption("selectionRequired")},_isMultipleSelection:function(){return"multiple"==this.GetOption("selectionMode")},IsSelectable:function(t){return(t=this.getFocusItem(e(t)).get(0)).hasAttribute("aria-selected")},_filterSelection:function(t){var e,i,n;for(e=[],i=0;i<t.length&&(!(null==(n=this.FindElementByKey(t[i]))||null!=n&&this.IsSelectable(n))||(e.push(t[i]),this._isMultipleSelection()));i++);return e},_setSelectionOption:function(i,n,s,l){var o,r,a={key:null,data:null};null!=(o=this.GetOption("firstSelectedItem"))&&((null==i||0==i.length)&&null!=o.key||i[0]!=o.key&&!t.Object.compareValues(i[0],o.key))&&(null!=i&&i.length>0&&(a={key:i[0],data:null!=l?l:this.getDataForVisibleItem({key:i[0]})}),this.SetOption("firstSelectedItem",a,{_context:{originalEvent:n,internalSet:!0},changed:!0})),r={items:this.ojContext._IsCustomElement()?s:e(null==s?{}:s)},this.SetOption("selection",i,{_context:{originalEvent:n,internalSet:!0,extraData:r},changed:!0})},_unhighlightSelection:function(){var t,i;null!=this.m_keyElemMap&&(t=this,e.each(this.GetOption("selection"),function(e,n){null!=(i=t.FindElementByKey(n))&&t._unhighlightElem(i,"oj-selected")}))},_highlightElem:function(t,e){this.HighlightUnhighlightElem(t,e,!0)},_unhighlightElem:function(t,e){this.HighlightUnhighlightElem(t,e,!1)},HighlightUnhighlightElem:function(t,i,n){var s;t=e(t),"oj-selected"==i&&this.getFocusItem(t).attr("aria-selected",n?"true":"false"),(s=t.children("."+this.getGroupItemStyleClass())).length>0&&(t=e(s[0])),"oj-focus"===i?n?"actionable"!=this.m_keyMode&&this._focusInHandler(t):this._focusOutHandler(t):n?t.addClass(i):t.removeClass(i)},HandleClickSelection:function(t,e){var i,n;this._scrollToVisible(t[0]),i=this._ctrlEquivalent(e),n=e.shiftKey,this._isMultipleSelection()&&(i||n)?!i&&n?this._extendSelection(t,e):this._augmentSelectionAndFocus(t,e):this.SelectAndFocus(t,e)},_handleTouchSelection:function(t,e){this._isMultipleSelection()?e.shiftKey?this._extendSelection(t,e):this._augmentSelectionAndFocus(t,e):this.SelectAndFocus(t,e)},_clearSelection:function(t,e){this._unhighlightSelection(),t&&(this._isSelectionRequired()?this._selectFirstSelectableItem():this._setSelectionOption([],null,null)),this.m_selectionFrontier=void 0===e?null:e},SelectAndFocus:function(t,e){var i,n,s;i=this.GetKey(t[0]),n=this.GetOption("selection"),s=this.GetIndexOf(n,i),this._clearSelection(s>-1),-1==s&&this._augmentSelectionAndFocus(t,e,[])},_extendSelection:function(t,e){null!=this.m_active&&this.m_selectionFrontier!=t&&(this._unhighlightElem(t,"oj-focus"),this._extendSelectionRange(this.m_active.elem,t,e))},_extendSelectionRange:function(t,e,i,n){!0===n?this._clearSelection(!1,this.m_selectionFrontier):this._clearSelection(!1,e),this._highlightRange(t,e,i),this.HighlightActive(),this._scrollToVisible(e[0])},_highlightRange:function(t,e,i){var n,s,l,o,r,a,h,c,d,u;for(n=[],s=[],(o=(l=this._getItemsCache()).index(t))>(r=l.index(e))?(a=r,h=o):(a=o,h=r),c=a;c<=h;c++)d=l[c],this.IsSelectable(d)&&(u=this.m_contentHandler.GetKey(d),this._applySelection(d,u),n.push(u),s.push(d));this._setSelectionOption(n,i,s)},_applySelection:function(i,n){null==this.m_keyElemMap&&(this.m_keyElemMap=new t.KeyMap),this.m_keyElemMap.set(n,e(i).attr("id")),this._highlightElem(i,"oj-selected")},_augmentSelectionAndFocus:function(t,i,n){var s,l,o,r,a,h;if(s=t,l=this.GetKey(t[0]),null==n&&(n=this.GetOption("selection").slice(0)),null==(o=null!=this.m_active?this.m_active.elem.get(0):null)||e(o).hasClass(this.getItemStyleClass())||(o=o.firstElementChild),null==i||null!=o&&o!=i.target&&o.contains(i.target)||(this.UnhighlightActive(),this._setActive(s,i)&&this._setCurrentItemOption(l,i,s.get(0)),this.HighlightActive()),null!=(o=null!=this.m_active?this.m_active.elem.get(0):null)&&o==s.get(0)){for((r=this.GetIndexOf(n,l))>-1?(this._unhighlightElem(t,"oj-selected"),n.splice(r,1)):(this.m_selectionFrontier=t,this._applySelection(t,l),n.push(l)),a=new Array(n.length),h=0;h<n.length;h++)a[h]=this.FindElementByKey(n[h]);this._setSelectionOption(n,i,a)}else null!=n&&0==n.length&&this._setSelectionOption(n,i,[])},ToggleSelection:function(t,e,i){var n,s,l,o,r,a;if(n=this.GetOption("selection").slice(0),l=this.m_active.elem,o=this.m_active.key,(r=this.GetIndexOf(n,o))>-1){if(i||1==n.length&&this._isSelectionRequired())return;this._unhighlightElem(l,"oj-selected"),n.splice(r,1),0==n.length&&(this.m_selectionFrontier=null)}else this.IsSelectable(l[0])&&(e||(this._clearSelection(!1),n.length=0),this.m_selectionFrontier=l,this._applySelection(l,o),n.push(o));for(s=new Array(n.length),a=0;a<n.length;a++)s[a]=this.FindElementByKey(n[a]);this._setSelectionOption(n,t,s)},_isInputElement:function(t){return null!=t.nodeName.match(/^INPUT|SELECT|OPTION|TEXTAREA/)&&!t.readOnly},HandleSelectionOrActiveKeyDown:function(t){var e,i,n,s,l,o,r=!1;return null!=this.m_active&&(e=t.keyCode,
i=this.m_active.elem,this._isActionableMode()?e==this.ESC_KEY?(this._exitActionableMode(),this.HighlightActive(),this._focusItem(i),this._setTabIndex(i),r=!0):e===this.TAB_KEY&&(l=i.find("[data-first]"),o=i.find("[data-last]"),t.shiftKey?l.length>0&&o.length>0&&l!=o&&t.target==l[0]&&(o[0].focus(),r=!0):l.length>0&&o.length>0&&l!=o&&t.target==o[0]&&(l[0].focus(),r=!0)):e==this.F2_KEY?(this._enterActionableMode(),(l=i.find("[data-first]")).length>0&&(l[0].focus(),this._isExpandCollapseIcon(l)&&this._focusInHandler(l),i.hasClass(this.getItemStyleClass())||(i=i.children("."+this.getGroupItemStyleClass()).first()),i.removeClass("oj-focus-highlight"))):e==this.SPACE_KEY&&this._isSelectionEnabled()?(n=this._ctrlEquivalent(t),(s=t.shiftKey)&&!n&&null!=this.m_selectionFrontier&&this._isMultipleSelection()?this._extendSelectionRange(this.m_selectionFrontier,this.m_active.elem,t,!0):this.ToggleSelection(t,n&&!s&&this._isMultipleSelection(),!1),r=!0):e==this.ENTER_KEY&&this._isSelectionEnabled()?this.ToggleSelection(t,!1,!0):this.IsArrowKey(e)?(n=this._ctrlEquivalent(t),s=t.shiftKey,n||(r=this.HandleArrowKeys(e,s&&this._isSelectionEnabled()&&this._isMultipleSelection(),t))):e===this.TAB_KEY&&(t.shiftKey?this._disableAllTabbableElementsBeforeItem(i):this._disableAllTabbableElementsAfterItem(i)),r)},_isDisclosing:function(t){return!(!t||!this.m_disclosing)&&this.m_disclosing.indexOf(t)>-1},_setDisclosing:function(t,e){var i;if(null!=t)if(null==this.m_disclosing&&(this.m_disclosing=[]),e)this.m_disclosing.push(t);else for(i=this.m_disclosing.indexOf(t);i>-1;)this.m_disclosing.splice(i,1),i=this.m_disclosing.indexOf(t)},getAnimationEffect:function(e){var i;return null==this.defaultOptions&&(this.defaultOptions=t.ThemeUtils.parseJSONFromFontFamily(this.getOptionDefaultsStyleClass())),null==(i=this.defaultOptions.animation)?null:i[e]},isExpandable:function(){return"none"!=this.GetOption("drillMode")},_isExpandAll:function(){var e=this.GetOption("expanded");if("auto"===e){if(!this.isExpandable())return!0}else if("all"===e)return!0;return!!e.isAddAll&&(!this.isExpandable()&&e instanceof t._ojListViewExpandedKeySet||e.isAddAll())},expandKey:function(t,i,n,s,l){var o=this.FindElementByKey(t);null!=o&&this.ExpandItem(e(o),null,l,t,i,s,n)},_expand:function(t){var e=this.FindItem(t.target);null!=e&&e.length>0&&this.ExpandItem(e,t,!0,null,!0,!0,!0)},ExpandItem:function(t,e,i,n,s,l,o){var r,a;this.GetState(t)==this.STATE_COLLAPSED&&(null==n&&(n=this.GetKey(t[0])),i&&this._isDisclosing(n)||(r={item:t,key:n},o&&!this.Trigger("beforeExpand",e,r)&&s||(this.signalTaskStart("Expand item: "+n),i&&this._setDisclosing(n,!0),this.m_contentHandler.Expand(t,function(t){this._expandSuccess(t,i,e,r,l)}.bind(this)),this.m_items=null,null!=e&&e.stopPropagation(),this.ojContext._IsCustomElement()||null==this._collapsedKeys||-1!=(a=this._collapsedKeys.indexOf(n))&&this._collapsedKeys.splice(a,1),this.signalTaskEnd())))},_expandSuccess:function(t,i,n,s,l){var o,r,a,h,c,d,u,m,p=this;this.signalTaskStart("Handle results from successful expand"),t.key=s.key,o=this.AnimateExpand(e(t),i,n),r=t.parentNode,r=e(r),this.SetState(r,this.STATE_EXPANDED),a=this.getCollapseIconStyleClass(),h=this.getExpandIconStyleClass(),c=this.getExpandingIconStyleClass(),d=this.getGroupItemStyleClass(),r.children("."+d).find("."+a+", ."+c).removeClass(a).removeClass(c).addClass(h),l&&o.then(function(){p.ojContext._IsCustomElement()&&(u=p.GetOption("expanded"),p._isKeySet(u)&&!u.has(t.key)&&(m=u.add([t.key]),p.SetOption("expanded",m,{_context:{originalEvent:n,internalSet:!0},changed:!0}))),p.Trigger("expand",n,s)}),o.then(function(){p.signalTaskEnd()})},_adjustAncestorsMaxHeight:function(t,i){var n;t.parentsUntil("ul.oj-component-initnode","ul."+this.getGroupStyleClass()).each(function(t){(n=parseInt(e(this).css("maxHeight"),10))>0&&e(this).css("maxHeight",n+i+"px")})},AnimateExpand:function(t,i,n){var s,l,o,r=0,a=this;return s=new Promise(function(t,e){l=t}),i?(this.signalTaskStart("Animate expand of group item"),t.children().each(function(){r+=e(this).outerHeight(!0)}),this._isTouchSupport()&&this._adjustAncestorsMaxHeight(t,r),t.css("maxHeight",r+"px"),this.signalTaskStart("Kick off expand animation"),o=t.get(0),this.StartAnimation(o,"expand").then(function(e){a._handleExpandTransitionEnd(t,l)}),this.signalTaskEnd()):(this._isTouchSupport()?(t.children().each(function(){r+=e(this).outerHeight(!0)}),t.css("maxHeight",r+"px"),this._adjustAncestorsMaxHeight(t,r)):t.css("maxHeight",""),this.AnimateExpandComplete(t),l(null)),s},_handleExpandTransitionEnd:function(t,e){this._isTouchSupport()||t.css("maxHeight",""),this.AnimateExpandComplete(t),e(null),this.signalTaskEnd()},AnimateExpandComplete:function(t){t.removeClass(this.getGroupCollapseStyleClass()).addClass(this.getGroupExpandStyleClass()),this._setDisclosing(t[0].key,!1)},collapseKey:function(t,i,n,s){var l=this.FindElementByKey(t);null!=l&&this.CollapseItem(e(l),null,s,t,i,n)},_collapse:function(t){var e=this.FindItem(t.target);null!=e&&e.length>0&&this.CollapseItem(e,t,!0,null,!0,!0)},CollapseItem:function(t,e,i,n,s,l){var o,r,a,h,c,d,u=this;this.GetState(t)==this.STATE_EXPANDED&&(null==n&&(n=this.GetKey(t[0])),i&&this._isDisclosing(n)||(o={item:t,key:n},!this.Trigger("beforeCollapse",e,o)&&s||(this.signalTaskStart("Collapse item: "+n),i&&this._setDisclosing(n,!0),r=this.AnimateCollapse(t,n,i,e),this.SetState(t,this.STATE_COLLAPSED),a=this.getCollapseIconStyleClass(),h=this.getExpandIconStyleClass(),t.find("."+h).first().removeClass(h).addClass(a),this.m_items=null,null!=e&&e.stopPropagation(),l&&r.then(function(){u.ojContext._IsCustomElement()&&(c=u.GetOption("expanded"),u._isKeySet(c)&&(d=c.delete([n]),u.SetOption("expanded",d,{_context:{originalEvent:e,internalSet:!0},changed:!0}))),u.Trigger("collapse",e,o)}),this.ojContext._IsCustomElement()||(null==this._collapsedKeys&&(this._collapsedKeys=[]),-1==this._collapsedKeys.indexOf(n)&&this._collapsedKeys.push(n)),r.then(function(){u.signalTaskEnd()}))))},AnimateCollapse:function(t,i,n,s){var l,o,r,a,h,c=0,d=this;return o=new Promise(function(t,e){r=t}),(l=t.children("ul").first())[0].key=i,n?(this.signalTaskStart("Animate collapse"),l.children().each(function(){c+=e(this).outerHeight()}),l.css("maxHeight",c+"px"),(a=this.getAnimationEffect("collapse")).persist="all",this.signalTaskStart("Kick off collapse animation"),h=l.get(0),this.StartAnimation(h,"collapse",a).then(function(t){d._handleCollapseTransitionEnd(l,r)}),this.signalTaskEnd()):(l.css("maxHeight","0px"),this.AnimateCollapseComplete(l),r(null)),o},_handleCollapseTransitionEnd:function(t,e){this.AnimateCollapseComplete(t),e(null),this.signalTaskEnd()},AnimateCollapseComplete:function(t){t.removeClass(this.getGroupExpandStyleClass()).addClass(this.getGroupCollapseStyleClass()),null!=this.m_contentHandler&&this.m_contentHandler.Collapse(t),this._setDisclosing(t[0].key,!1)},_collapseAll:function(){var t;this.signalTaskStart("Collapse all"),t=this,this._getItemsCache().each(function(){t.CollapseItem(e(this),null,!1,null,!1,!1)}),this.signalTaskEnd()},getExpanded:function(){var t,i,n;return t=[],i=this,this._getItemsCache().each(function(){n=e(this),i.GetState(n)==i.STATE_EXPANDED&&t.push(i.GetKey(n[0]))}),t},getWidgetConstructor:function(){return t.Components.__GetWidgetConstructor(this.element)},GetContainerStyleClass:function(){return this._isNonWindowTouch()?"oj-listview oj-listview-container-touch":"oj-listview oj-listview-container"},GetStyleClass:function(){return"oj-listview-element"},getItemStyleClass:function(){return"oj-listview-item"},getFocusedElementStyleClass:function(){return"oj-listview-focused-element"},getItemElementStyleClass:function(){return"oj-listview-item-element"},getGroupItemStyleClass:function(t){return t&&this._isPinGroupHeader()&&this._isPositionStickySupported()?"oj-listview-group-item oj-sticky":"oj-listview-group-item"},getGroupStyleClass:function(){return"oj-listview-group"},getGroupExpandStyleClass:function(){return"oj-listview-collapsible-transition"},getGroupCollapseStyleClass:function(){return this.getGroupExpandStyleClass()},getCollapseIconStyleClass:function(){return"oj-listview-collapse-icon"},getExpandIconStyleClass:function(){return"oj-listview-expand-icon"},getExpandingIconStyleClass:function(){return"oj-listview-expanding-icon"},getEmptyTextStyleClass:function(){return"oj-listview-no-data-message"},getEmptyTextMarkerClass:function(){return"oj-listview-empty-text"},getDepthStyleClass:function(t){return""},getOptionDefaultsStyleClass:function(){return"oj-listview-option-defaults"},_isPositionStickySupported:function(){return this._isTouchSupport()&&t.AgentUtils.getAgentInfo().os===t.AgentUtils.OS.IOS},_preventMouseWheelOverscroll:function(t,e){var i=e.originalEvent.wheelDelta;isNaN(i)||void 0===this.m_contentHandler.hasMoreToFetch||(i<0?this.m_contentHandler.hasMoreToFetch()&&t.scrollTop+t.clientHeight+Math.abs(i)>=t.scrollHeight&&(t.scrollTop=t.scrollHeight,e.preventDefault()):t.scrollTop>0&&t.scrollTop-i<=0&&(t.scrollTop=0,e.preventDefault()))},_getScrollEventElement:function(){var t=this._getScroller();return t==document.body||t==document.documentElement?window:t},_setCurrentScrollPosition:function(e){var i,n,s,l=!0,o=this;(i=e.key)&&null==this.FindElementByKey(i)&&this.m_contentHandler instanceof t.IteratingDataProviderContentHandler&&(n=this.m_contentHandler.getDataSource()).containsKeys&&((s=new Set).add(i),n.containsKeys({keys:s}).then(function(t){0==t.results.size&&delete e.key,o.syncScrollPosition(e)}),l=!1),l&&this.syncScrollPosition(e)},_findClosestElementToTop:function(t,e,i){var n,s,l,o,r,a=!1;if(!(0==t.length||e>=t.length)){if(o={index:e,elem:n=t[e],offsetTop:s=n.offsetTop,offset:l=i-s},Math.abs(l)<1)return o;for((r=l>0)?e++:e--;!a&&e>=0&&e<t.length;){if(s=(n=t[e]).offsetTop,a=(l=Math.abs(i-s))<1||(r?i<=s:i>=s)){(l<1||!r)&&(o={index:e,elem:n,offsetTop:s,offset:l});break}r&&o.offsetTop==s||(o={index:e,elem:n,offsetTop:s,offset:l}),r?e++:e--}return a||(e=r?t.length-1:0,o.index=e,o.elem=t[e]),o}},_getRootNodeForItems:function(){return this.isCardLayout()?this.element.get(0).firstElementChild.firstElementChild:this.element.get(0)},_getCurrentScrollPosition:function(t){var i,n,s,l,o,r,a,h,c={};return i=this._getScroller(),void 0===t&&(t=i.scrollTop),c.x=this._getScrollX(i),c.y=t,n=this.m_contentHandler.IsHierarchical(),!isNaN(this.m_itemHeight)&&this.m_itemHeight>0&&(s=n?this._getItemsCache():e(this._getRootNodeForItems()).children("li."+this.getItemElementStyleClass()),l=this.GetOption("scrollPosition"),Math.abs(l.y-t)<this.MINIMUM_ITEM_HEIGHT&&null!=l.key&&!isNaN(l.index)&&(n?null!=(a=this.FindElementByKey(l.key))&&(o=s.index(a)):o=l.index),isNaN(o)&&(o=Math.floor(t/this.m_itemHeight)),null!=(r=this._findClosestElementToTop(s,o,t))&&(a=r.elem,n?((h=a.parentNode)!=this.element.get(0)&&(c.parent=this.GetKey(h.parentNode)),c.key=this.GetKey(r.elem),c.index=e(h).children().index(a)):(c.index=r.index,c.key=this.GetKey(r.elem)),c.offsetY=r.offset,c.offsetX=c.x)),c},_getOffsetTop:function(t){var e=this.element.get(0).offsetTop;return isNaN(this.m_elementOffset)||this.m_elementOffset==e?t.offsetTop:Math.max(0,t.offsetTop-e)},_getScrollTopByIndex:function(t,i){var n,s;return null!=i?null!=(n=this.FindElementByKey(i))&&(n=e(n).children("ul").first()):(n=this.element.get(0),this.isCardLayout()&&(n=n.firstElementChild.firstElementChild)),null!=n&&null!=(s=e(n).children("."+this.getItemElementStyleClass())[t])?this._getOffsetTop(s):this.m_contentHandler.hasMoreToFetch&&this.m_contentHandler.hasMoreToFetch()?this._getScroller().scrollHeight:void 0},_getScrollTopByKey:function(t){var e=this.FindElementByKey(t);return null!=e?this._getOffsetTop(e):this.m_contentHandler.hasMoreToFetch&&this.m_contentHandler.hasMoreToFetch()?this._getScroller().scrollHeight:void 0},_getScrollCoordinates:function(t){var e,i,n,s,l,o,r;return this._getScroller(),e=t.x,o=t.offsetX,isNaN(e)||isNaN(o)||(e+=o),l=t.key,isNaN(i)&&null!=l&&(i=this._getScrollTopByKey(l)),n=t.parent,s=t.index,isNaN(i)&&!isNaN(s)&&(i=this._getScrollTopByIndex(s,n)),r=t.offsetY,isNaN(i)||isNaN(r)||(i+=r),isNaN(i)&&!isNaN(t.y)&&(i=t.y),{x:e,y:i}},_handleScroll:function(t){var e;null!=this.m_contentHandler&&(e=this._getScroller().scrollTop,this.ojContext._IsCustomElement()||this.SetOption("scrollTop",e,{_context:{originalEvent:t,internalSet:!0}}),this.ShouldUpdateScrollPosition()&&this.SetOption("scrollPosition",this._getCurrentScrollPosition(e),{_context:{originalEvent:t,internalSet:!0}}),this._handlePinGroupHeader())},_registerScrollHandler:function(){var t,i=this;t=e(this._getScrollEventElement()),this.ojContext._off(t,"scroll mousewheel"),this.ojContext._on(t,{scroll:function(t){i._skipScrollUpdate||i.m_ticking||(window.requestAnimationFrame(function(){i._handleScroll(t),i.m_ticking=!1}),i.m_ticking=!0),i._skipScrollUpdate&&i.signalTaskEnd(),i._skipScrollUpdate=!1}}),"loadMoreOnScroll"==this.options.scrollPolicy&&this.ojContext._on(t,{mousewheel:function(t){i._preventMouseWheelOverscroll(i._getScroller(),t)}})},_isPinGroupHeader:function(){return"static"!=this.GetOption("groupHeaderPosition")&&this.m_contentHandler.IsHierarchical()},_getGroupItemsCache:function(){var t;return null==this.m_groupItems&&(t="."+this.getGroupItemStyleClass()+":visible",this.m_groupItems=this.element.find(t).filter(function(t){return!e(this).parent().hasClass("oj-collapsed")&&e(this).next().children().length>0})),this.m_groupItems},_unpinGroupItem:function(t){e(t).removeClass("oj-pinned"),t.style.top="auto",t.style.width="auto"},_getNextGroupItem:function(t){var e,i;return(i=(e=this._getGroupItemsCache()).index(t))>-1&&i<e.length-1?e[i+1]:null},_pinGroupItem:function(t,i){var n,s,l;n=t.offsetWidth,s=t.offsetHeight,null!=(l=this._getNextGroupItem(t))&&l.offsetTop<=i+s+5&&(i-=s),e(t).addClass("oj-pinned"),t.style.top=i+"px",t.style.width=n+"px"},_handlePinGroupHeader:function(){var t,e,i,n,s,l,o,r,a;if(this._isPinGroupHeader()&&!this._isPositionStickySupported()){if(t=this._getScroller().scrollTop,null!=this.m_groupItemToPin&&0==t)return this._unpinGroupItem(this.m_groupItemToPin),void(this.m_groupItemToPin=null);for(i=this._getGroupItemsCache(),n=0,null!=this.m_groupItemToPin&&(n=this.m_groupItemToPin.offsetHeight),s=0;s<i.length;s++)if(l=i[s],this.m_groupItemToPin!=l&&(r=(o=i[s].offsetTop)+l.parentNode.offsetHeight,o<t&&r>t+n)){e=l;break}if(null!=e&&e!=this.m_groupItemToPin)null!=this.m_groupItemToPin&&this._unpinGroupItem(this.m_groupItemToPin),this._pinGroupItem(e,t),this.m_groupItemToPin=e;else if(null!=this.m_groupItemToPin){if(null!=(a=this._getNextGroupItem(this.m_groupItemToPin))&&a.offsetTop<=t+n)return void(this.m_groupItemToPin.style.top=a.offsetTop-n+"px");this.m_groupItemToPin.style.top=t+"px"}}},_getScroller:function(){var t,e;return null!=(t=this.GetOption("scrollPolicyOptions"))&&null!=(e=t.scroller)?e:this._getListContainer().get(0)},_scrollToGroupHeader:function(t){var e,i,n;i=(e=this._getScroller()).scrollTop,null!=this.m_groupItemToPin&&(this._unpinGroupItem(this.m_groupItemToPin),this.m_groupItemToPin=null),n=t.offsetTop,this._isPinGroupHeader()&&this._isPositionStickySupported()&&n<i&&(n=Math.max(0,n-t.parentNode.offsetHeight+t.offsetHeight)),e.scrollTop=n,i==e.scrollTop&&this._handlePinGroupHeader(),this._setFirstFocusableItemInGroupCurrent(t)},_setFirstFocusableItemInGroupCurrent:function(t){var i,n=this;e(t).next().children().each(function(){if(i=e(this),!n.SkipFocus(i))return n.SetOption("currentItem",this.key),!1})}}),t.__registerWidget("oj.ojListView",e.oj.baseComponent,{widgetEventPrefix:"oj",options:{as:"",currentItem:null,data:null,dnd:{drag:null,drop:null,reorder:{items:"disabled"}},drillMode:"collapsible",expanded:new t._ojListViewExpandedKeySet,firstSelectedItem:{key:null,data:null},groupHeaderPosition:"sticky",item:{focusable:!0,renderer:null,selectable:!0},scrollPolicy:"auto",scrollPolicyOptions:{fetchSize:25,maxCount:500},scrollPosition:{x:0,y:0},scrollTop:0,selection:[],selectionMode:"none",selectionRequired:!1,animateStart:null,animateEnd:null,beforeCurrentItem:null,beforeExpand:null,beforeCollapse:null,collapse:null,copy:null,cut:null,expand:null,paste:null,ready:null,reorder:null},_ComponentCreate:function(){this._super(),this._setup()},_setup:function(){var i={};i.element=this.element,i.OuterWrapper=this.OuterWrapper,i.ojContext=this,this._IsCustomElement()||this.options.expanded instanceof t._ojListViewExpandedKeySet&&(this.options.expanded="auto"),i=e.extend(this.options,i),this.listview=new t._ojListView,this.listview.init(i)},_AfterCreate:function(){this._super();var t=this;this.listview._FixRendererContext=function(e){return t._FixRendererContext(e)},this.listview._WrapCustomElementRenderer=function(e){return t._WrapCustomElementRenderer(e)},this.listview.afterCreate()},_SetupResources:function(){this._super(),this.listview.setupResources()},_ReleaseResources:function(){this._super(),this.listview.releaseResources()},GetFocusElement:function(){return null!=this.listview?this.listview.GetFocusElement():this._super()},_destroy:function(){this.listview.destroy(),this._super()},_NotifyContextMenuGesture:function(t,e,i){this.listview.notifyContextMenuGesture(t,e,i)},_setOptions:function(t,e){var i=this.listview.setOptions(t,e);this._super(t,e),i?this.listview.refresh():(t.selectionRequired||t.selection||t.selectionMode)&&this.listview.enforceSelectionRequired()},_setOption:function(t,i,n){var s,l=!0;if("selectionMode"==t?l="none"==i||"single"==i||"multiple"==i:"drillMode"==t?l="collapsible"==i||"none"==i:"scrollPolicy"==t?l="auto"==i||"loadMoreOnScroll"==i:"groupHeaderPosition"==t?l="static"==i||"sticky"==i:"firstSelectedItem"==t&&(l=!1),!l)throw"Invalid value: "+i+" for key: "+t;"selection"==t?(s=this.listview.getItems(i),n={_context:{extraData:{items:this._IsCustomElement()?s:e(s)}}}):"currentItem"==t&&(s=this.listview.getItems([i])[0],n={_context:{extraData:{items:this._IsCustomElement()?s:e(s)}}}),this._super(t,i,n)},_NotifyAttached:function(){this.listview.notifyAttached()},_NotifyDetached:function(){this.listview.notifyDetached()},_NotifyShown:function(){this.listview.notifyShown()},_VerifyConnectedForSetup:function(){return!0},widget:function(){return this.listview.getRootElement()},refresh:function(){this._super(),this.listview.refresh()},whenReady:function(){return this.listview.whenReady()},getNodeBySubId:function(t){return this.listview.getNodeBySubId(t)},getSubIdByNode:function(t){return this.listview.getSubIdByNode(t)},getContextByNode:function(t){return this.listview.getContextByNode(t)},getDataForVisibleItem:function(t){return this.listview.getDataForVisibleItem(t)},expand:function(t,e){this.listview.expandKey(t,e,!0,!0)},collapse:function(t,e){this.listview.collapseKey(t,e,!0)},getExpanded:function(){return this.listview.getExpanded()},getIndexerModel:function(){return null==this.indexerModel&&t.ListViewIndexerModel&&(this.indexerModel=new t.ListViewIndexerModel(this.listview)),this.indexerModel},scrollToItem:function(t){this.listview.scrollToItem(t)},_CompareOptionValues:function(e,i,n){switch(e){case"currentItem":case"selection":return t.Object.compareValues(i,n);default:return this._super(e,i,n)}}}),t.IteratingDataProviderContentHandler=function(e,i,n){t.IteratingDataProviderContentHandler.superclass.constructor.call(this,e,i,n)},t.Object.createSubclass(t.IteratingDataProviderContentHandler,t.DataSourceContentHandler,"oj.IteratingDataProviderContentHandler"),t.IteratingDataProviderContentHandler.prototype.Init=function(){t.IteratingDataProviderContentHandler.superclass.Init.call(this)},t.IteratingDataProviderContentHandler.prototype.IsHierarchical=function(){return!1},t.IteratingDataProviderContentHandler.prototype._destroyDomScroller=function(){null!=this.m_domScroller&&(this.m_domScroller.destroy(),this.m_domScroller=null,this.m_domScrollerMaxCountFunc=null)},t.IteratingDataProviderContentHandler.prototype.Destroy=function(){t.IteratingDataProviderContentHandler.superclass.Destroy.call(this),this._removeDataSourceEventListeners(),this._destroyDomScroller(),this.m_loadingIndicator=null},t.IteratingDataProviderContentHandler.prototype.HandleResize=function(t,e){this._isLoadMoreOnScroll()&&null!=this.m_height&&this.m_height!=e&&(this.m_height=e,this.checkViewport())},t.IteratingDataProviderContentHandler.prototype.notifyShown=function(){this._isLoadMoreOnScroll()&&this.checkViewport()},t.IteratingDataProviderContentHandler.prototype.notifyAttached=function(){var t,e;null!=(t=this._getFetchTrigger())&&null!=this.m_domScroller&&(this._getScroller(),t!=(e=this._getFetchTrigger())&&this.m_domScroller.setFetchTrigger(e),this.checkViewport())},t.IteratingDataProviderContentHandler.prototype._isLoadMoreOnScroll=function(){return"loadMoreOnScroll"==this.m_widget.options.scrollPolicy},t.IteratingDataProviderContentHandler.prototype._getFetchSize=function(){return Math.max(0,this.m_widget.options.scrollPolicyOptions.fetchSize)},t.IteratingDataProviderContentHandler.prototype._getTotalSize=function(){return-1},t.IteratingDataProviderContentHandler.prototype._getScroller=function(){var i=this.m_widget.options.scrollPolicyOptions.scroller;return null!=i&&e.contains(i,this.m_root)?(void 0===this._fetchTrigger&&(this._fetchTrigger=t.DomScroller.calculateOffsetTop(i,this.m_root)+this._getLoadingIndicatorHeight()),i):this.m_widget.getRootElement()},t.IteratingDataProviderContentHandler.prototype._getFetchTrigger=function(){return void 0===this._fetchTrigger&&(this._fetchTrigger=this._getLoadingIndicatorHeight()),this._fetchTrigger},t.IteratingDataProviderContentHandler.prototype._getLoadingIndicatorHeight=function(){var t,i,n;return(t=e(document.createElement("div"))).addClass(this.m_widget.getItemStyleClass()).css({visibility:"hidden",overflow:"hidden",position:"absolute"}),(i=e(document.createElement("div"))).addClass("oj-icon oj-listview-loading-icon"),t.append(i),e(this.m_widget.getRootElement()).append(t),n=t.get(0).offsetHeight,t.remove(),n},t.IteratingDataProviderContentHandler.prototype._getMaxCount=function(){return this.m_widget.options.scrollPolicyOptions.maxCount},t.IteratingDataProviderContentHandler.prototype.setDataSource=function(e){this._removeDataSourceEventListeners(),null!=e&&(this.m_handleModelMutateEventListener=this.handleModelMutateEvent.bind(this),this.m_handleModelRefreshEventListener=this.handleModelRefreshEvent.bind(this),e.addEventListener("mutate",this.m_handleModelMutateEventListener),e.addEventListener("refresh",this.m_handleModelRefreshEventListener)),t.IteratingDataProviderContentHandler.superclass.setDataSource.call(this,e)},t.IteratingDataProviderContentHandler.prototype._appendLoadingIndicator=function(){var t,i;null==this.m_loadingIndicator&&((t=e(document.createElement("li"))).uniqueId().attr("role","presentation").addClass(this.m_widget.getItemStyleClass()).addClass("oj-listview-loading-icon-container"),(i=e(document.createElement("div"))).addClass("oj-icon oj-listview-loading-icon"),t.append(i),e(this.m_root).append(t),this.m_loadingIndicator=t)},t.IteratingDataProviderContentHandler.prototype._removeLoadingIndicator=function(){null!=this.m_loadingIndicator&&this.m_loadingIndicator.remove(),this.m_loadingIndicator=null},t.IteratingDataProviderContentHandler.prototype.hasMoreToFetch=function(){return null!=this.m_loadingIndicator},t.IteratingDataProviderContentHandler.prototype.afterRenderItem=function(i,n){var s;t.IteratingDataProviderContentHandler.superclass.afterRenderItem.call(this,i,n),e(i).addClass(this.m_widget.getItemStyleClass()),this.m_widget._isSelectionEnabled()&&this.isSelectable(n)&&this.m_widget.getFocusItem(e(i)).attr("aria-selected",!1),this._isLoadMoreOnScroll()&&(-1===(s=Math.min(this._getTotalSize(),this._getMaxCount()))&&(s=this._getMaxCount()),s>0&&e(i).attr("aria-setsize",s).attr("aria-posinset",n.index+1)),this.m_widget.itemRenderComplete(i,n)},t.IteratingDataProviderContentHandler.prototype.afterRenderItemForInsertEvent=function(i,n){var s,l,o,r;this.signalTaskStart("after render item from model insert event"),i.setAttribute("data-oj-context",""),this.afterRenderItem(i,n),s=e(i),l=i.className,i.className="oj-listview-temp-item oj-listview-item-add-remove-transition",this.shouldUseGridRole()||s.children().wrapAll("<div></div>"),(o=s.children().first())[0].className=l,o[0].key=i.key,this.shouldUseGridRole()||(o.attr("role",i.getAttribute("role")),s[0].hasAttribute("aria-selected")&&o.attr("aria-selected",i.getAttribute("aria-selected"))),r=this,t.Context.getContext(i).getBusyContext().whenReady().then(function(){null!=r.m_widget&&(r.signalTaskStart("kick off animation for insert item"),r.m_widget.StartAnimation(i,"add").then(function(t){i.removeAttribute("data-oj-context"),r._handleAddTransitionEnd(n,i)}),r.signalTaskEnd())})},t.IteratingDataProviderContentHandler.prototype._handleScrollerMaxRowCount=function(){t.Logger.error("max count reached")},t.IteratingDataProviderContentHandler.prototype._removeDataSourceEventListeners=function(){var t=this.getDataSource();null!=t&&(t.removeEventListener("mutate",this.m_handleModelMutateEventListener),t.removeEventListener("refresh",this.m_handleModelRefreshEventListener))},t.IteratingDataProviderContentHandler.prototype.fetchRows=function(i){var n,s,l,o,r,a,h,c=0;if(this.signalTaskStart("fetching rows"),this.IsReady())return this.m_fetching=!0,t.IteratingDataProviderContentHandler.superclass.fetchRows.call(this,i),l=this.loadTemplateEngine(),this.signalTaskStart("first fetch"),(n={}).size=this._isLoadMoreOnScroll()?this._getFetchSize():-1,s=this,this.m_dataProviderAsyncIterator=this.getDataSource().fetchFirst(n)[Symbol.asyncIterator](),o=this.m_dataProviderAsyncIterator.next(),Promise.all([o,l]).then(function(i){null!=s.m_widget&&(r=i[0],a=i[1],(h=s.getDataSource())instanceof t.TableDataSourceAdapter&&(c=h.offset),0==c&&(a&&s.cleanItems(a),e(s.m_root).empty()),s._handleFetchedData(r,a))},function(t){s._handleFetchError(t),s.signalTaskEnd()}),void this.signalTaskEnd();this.signalTaskEnd()},t.IteratingDataProviderContentHandler.prototype._handleFetchError=function(e){t.Logger.error(e),null!=this.m_widget?(this._isLoadMoreOnScroll()&&this._removeLoadingIndicator(),this.m_widget.renderComplete()):t.Logger.info("handleFetchError: widget has already been destroyed")},t.IteratingDataProviderContentHandler.prototype._handleFetchSuccess=function(t,e,i){var n,s,l,o;if(null!=this.m_widget){for(n=this.m_root.childElementCount,s=document.createDocumentFragment(),l=0;l<t.length;l++)o=t[l],this.addItem(s,-1,o,this.getMetadata(n,e[l],o),i),n+=1;this.m_root.appendChild(s)}},t.IteratingDataProviderContentHandler.prototype._registerDomScroller=function(){var e,i=this;this.m_domScrollerMaxCountFunc=function(t){null!=t?(i.signalTaskStart("handle results when maxCountLimit reached"),i._removeLoadingIndicator(),i.IsReady()&&i.signalTaskStart("dummy task"),i._handleFetchedData(t,i.getTemplateEngine()),i.signalTaskEnd(),i.signalTaskEnd()):(i._removeLoadingIndicator(),i.signalTaskEnd())},e={fetchSize:this._getFetchSize(),fetchTrigger:this._getFetchTrigger(),maxCount:this._getMaxCount(),asyncIterator:this.m_dataProviderAsyncIterator,initialRowCount:this.m_root.childElementCount,success:this.m_domScrollerMaxCountFunc,error:this.signalTaskEnd.bind(this)},this.m_domScroller=new t.DomScroller(this._getScroller(),this.getDataSource(),e),this.m_domScroller._handleScrollerScrollTop=function(e,n){n-e<=1&&i.hasMoreToFetch()&&i.signalTaskStart("starts highwatermark scrolling"),t.DomScroller.prototype._handleScrollerScrollTop.call(this,e,n)}},t.IteratingDataProviderContentHandler.prototype._pushToEventQueue=function(t){null==this.m_eventQueue&&(this.m_eventQueue=[]),this.m_eventQueue.push(t)},t.IteratingDataProviderContentHandler.prototype._clearEventQueue=function(){null!=this.m_eventQueue&&(this.m_eventQueue.length=0)},t.IteratingDataProviderContentHandler.prototype._processEventQueue=function(){var t,e;if(null!=this.m_eventQueue&&this.m_eventQueue.length>0){for(t=0;t<this.m_eventQueue.length;t++)if("refresh"==(e=this.m_eventQueue[t]).type)return void this.handleModelRefreshEvent(e.event);"mutate"==(e=this.m_eventQueue.shift()).type&&this.handleModelMutateEvent(e.event)}},t.IteratingDataProviderContentHandler.prototype.handleModelMutateEvent=function(t){null!=t.detail.remove&&this.handleModelRemoveEvent(t),null!=t.detail.add&&this.handleModelAddEvent(t),null!=t.detail.update&&this.handleModelChangeEvent(t)},t.IteratingDataProviderContentHandler.prototype._getIndex=function(t,i){var n,s;return null==t||0==t.length||i>=t.length?-1:(n=t[i],null!=(s=this.FindElementByKey(n))?e(this.m_root).children().index(s):-1)},t.IteratingDataProviderContentHandler.prototype.handleModelAddEvent=function(t){var e,i,n,s,l,o,r,a;if(null!=this.m_root)if(this.IsReady()){if(this.signalTaskStart("handling model add event"),i=(e=t.detail.add).data,n=[],e.keys.forEach(function(t){n.push(t)}),e.afterKeys&&(s=[],e.afterKeys.forEach(function(t){s.push(t)})),l=this.getTemplateEngine(),o=e.indexes,null!=i&&null!=n&&n.length>0&&i.length>0&&n.length==i.length&&(null==o||o.length==i.length)){for(r=0;r<i.length;r++)this.signalTaskStart("handling model add event for item: "+n[r]),a=null==o?this._getIndex(s,r)+1:o[r],this.addItem(this.m_root,a,i[r],this.getMetadata(a,n[r],i[r]),l,this.afterRenderItemForInsertEvent.bind(this)),this.signalTaskEnd();this.IsReady()&&this.signalTaskStart("dummy task"),this.fetchEnd()}this.signalTaskEnd()}else this._pushToEventQueue({type:t.type,event:t})},t.IteratingDataProviderContentHandler.prototype._handleAddTransitionEnd=function(t,i){var n;null!=this.m_widget?(n=e(i).children().first().attr("class"),i.className=n,this.shouldUseGridRole()?e(i).children().first()[0].className="oj-listview-cell-element":e(i).children().children().unwrap(),this.m_widget.itemInsertComplete(i,t),this.signalTaskEnd()):this.signalTaskEnd()},t.IteratingDataProviderContentHandler.prototype.handleModelRemoveEvent=function(t){var e,i,n,s,l,o,r,a=this;if(e=t.detail.remove.keys,null!=this.m_root&&null!=e&&0!=e.size)if(this.IsReady()){if(this.signalTaskStart("handling model remove event"),n=this.m_widget.options.selection,s=n.slice(0),e.forEach(function(t){null!=(i=a.FindElementByKey(t))&&(a.signalTaskStart("handling model remove event for item: "+t),a._removeItem(i),a.signalTaskEnd()),(l=a.m_widget.GetIndexOf(n,t))>-1&&s.splice(l,1)}),n.length!=s.length){for(r=new Array(s.length),o=0;o<s.length;o++)r[o]=this.FindElementByKey(s[o]);this.m_widget._setSelectionOption(s,null,r)}this.m_widget.ClearCache(),this.signalTaskEnd()}else this._pushToEventQueue({type:t.type,event:t})},t.IteratingDataProviderContentHandler.prototype._removeItem=function(t){var i,n,s,l,o=this;this.signalTaskStart("removing an item"),i=document.activeElement,n=t.contains(i),s=(t=e(t)).get(0).className,t.children().wrapAll("<div class='"+s+"'></div>"),t.get(0).className="oj-listview-item-add-remove-transition",this.signalTaskStart("kick off animation to remove an item"),l=t.get(0),this.m_widget.StartAnimation(l,"remove").then(function(e){o._handleRemoveTransitionEnd(t,n)}),this.signalTaskEnd()},t.IteratingDataProviderContentHandler.prototype._handleRemoveTransitionEnd=function(t,i){var n,s;null!=this.m_widget&&0!=(n=(t=e(t)).parent()).length?(this.m_widget.itemRemoveComplete(t.get(0)),(s=this.getTemplateEngine())&&s.clean(t.get(0)),t.remove(),0==n.get(0).childElementCount&&this.m_widget.renderComplete(),this.m_widget.enforceSelectionRequired(),i&&this.m_root.focus(),this.signalTaskEnd()):this.signalTaskEnd()},t.IteratingDataProviderContentHandler.prototype.handleModelChangeEvent=function(t){var e,i,n,s,l,o,r,a;if(null!=this.m_root){for(this.signalTaskStart("handling model update event"),n=(e=t.detail.update).data,i=[],e.keys.forEach(function(t){i.push(t)}),s=this.getTemplateEngine(),l=e.indexes,o=0;o<i.length;o++)null!=(r=this.FindElementByKey(i[o]))&&(this.signalTaskStart("handling model update event for item: "+i[o]),a=null==l?-1:l[o],
this.replaceItem(r,a,n[o],this.getMetadata(a,i[o],n[o]),s,this.afterRenderItemForChangeEvent.bind(this)),this.signalTaskEnd());this.m_widget.ClearCache(),this.signalTaskEnd()}},t.IteratingDataProviderContentHandler.prototype.afterRenderItemForChangeEvent=function(t,e){var i=this;this.signalTaskStart("after render item for model change event"),this.afterRenderItem(t,e),this.m_widget.StartAnimation(t,"update").then(function(e){i._handleReplaceTransitionEnd(t)}),this.signalTaskEnd()},t.IteratingDataProviderContentHandler.prototype._handleReplaceTransitionEnd=function(t){null!=this.m_widget?(e(t).removeClass("oj-listview-item-add-remove-transition"),this.m_widget.restoreCurrentItem(),this.signalTaskEnd()):this.signalTaskEnd()},t.IteratingDataProviderContentHandler.prototype.handleModelRefreshEvent=function(t){null!=this.m_root&&(this.IsReady()?(this.signalTaskStart("handling model reset event"),this._clearEventQueue(),this.m_widget.ClearCache(),this._destroyDomScroller(),this.fetchRows(!0),this.signalTaskEnd()):this._pushToEventQueue({type:t.type,event:t}))},t.IteratingDataProviderContentHandler.prototype._handleFetchedData=function(e,i){var n,s,l=!1;return null==this.m_root||null==e.value?l:(n=e.value.data,s=e.value.metadata.map(function(t){return t.key}),n.length==s.length&&(this._handleFetchSuccess(n,s,i),this._isLoadMoreOnScroll()&&((l=!e.done&&this._isLoadMoreOnScroll())&&(null!=s&&0==s.length&&t.Logger.info("handleFetchedData: zero data returned while done flag is false"),null==this.m_domScroller&&this._registerDomScroller(),e.maxCountLimit||this._appendLoadingIndicator()),e.maxCountLimit&&this._handleScrollerMaxRowCount()),this.fetchEnd()),l)},t.IteratingDataProviderContentHandler.prototype.fetchEnd=function(){var e,i,n=this;this.m_fetching=!1,e=function(){n.m_widget&&(n.m_widget.renderComplete(),n._processEventQueue(),n.checkViewport())},this.isAsyncRendering()?((i=this.m_widget.m_scrollAndFetch)&&n.signalTaskEnd(),t.Context.getContext(this.m_root).getBusyContext().whenReady().then(function(){i&&n.signalTaskStart("scroll and fetch"),e()})):e(),n.signalTaskEnd()},t.IteratingDataProviderContentHandler.prototype.checkViewport=function(){var t,e=this;this.signalTaskStart("checking viewport"),null!=this.m_domScroller&&this.IsReady()&&null!=(t=this.m_domScroller.checkViewport())&&(this.signalTaskStart("got promise from checking viewport"),t.then(function(t){null!=t&&e.m_domScrollerMaxCountFunc(t),e.signalTaskEnd()},null)),this.signalTaskEnd()},t.IteratingDataProviderContentHandler.prototype.getMetadata=function(t,e,i){var n=i.context;return null==n&&(n={}),null==n.index&&(n.index=t),null==n.key&&(n.key=e),n},t.CustomElementBridge.registerMetadata("oj-list-view","baseComponent",{properties:{as:{type:"string"},currentItem:{type:"any",writeback:!0},data:{},dnd:{type:"object",properties:{drag:{type:"object",properties:{items:{type:"object",properties:{dataTypes:{type:"Array<string>"},drag:{},dragEnd:{},dragStart:{}}}}},drop:{type:"object",properties:{items:{type:"object",properties:{dataTypes:{type:"Array<string>"},dragEnter:{},dragLeave:{},dragOver:{},drop:{}}}}},reorder:{type:"object",properties:{items:{type:"string",enumValues:["disabled","enabled"]}}}}},drillMode:{type:"string",enumValues:["collapsible","none"]},expanded:{type:"object",writeback:!0},firstSelectedItem:{type:"object",writeback:!0,readOnly:!0},groupHeaderPosition:{type:"string",enumValues:["sticky","static"]},item:{type:"object",properties:{focusable:{},renderer:{},selectable:{}}},scrollPolicy:{type:"string"},scrollPolicyOptions:{type:"object",properties:{fetchSize:{type:"number"},maxCount:{type:"number"},scroller:{}}},scrollPosition:{type:"object",writeback:!0,properties:{x:{type:"number"},y:{type:"number"},offsetX:{type:"number"},offsetY:{type:"number"},key:{type:"any"},index:{type:"number"},parent:{type:"any"}}},selection:{type:"Array<any>",writeback:!0},selectionMode:{type:"string",enumValues:["none","single","multiple"]},selectionRequired:{type:"boolean"},translations:{type:"Object",properties:{accessibleNavigateSkipItems:{type:"string"},accessibleReorderAfterItem:{type:"string"},accessibleReorderBeforeItem:{type:"string"},accessibleReorderInsideItem:{type:"string"},accessibleReorderTouchInstructionText:{type:"string"},indexerCharacters:{type:"string"},labelCopy:{type:"string"},labelCut:{type:"string"},labelPaste:{type:"string"},labelPasteAfter:{type:"string"},labelPasteBefore:{type:"string"},msgFetchingData:{type:"string"},msgNoData:{type:"string"}}}},events:{animateEnd:{},animateStart:{},beforeCollapse:{},beforeCurrentItem:{},beforeExpand:{},collapse:{},copy:{},cut:{},expand:{},paste:{},reorder:{}},methods:{getContextByNode:{},getDataForVisibleItem:{},getIndexerModel:{},scrollToItem:{}},extension:{_INNER_ELEM:"ul",_GLOBAL_TRANSFER_ATTRS:["aria-label"],_WIDGET_NAME:"ojListView"}}),t.CustomElementBridge.register("oj-list-view",{metadata:t.CustomElementBridge.getMetadata("oj-list-view")})});
define('ojs/ojnavigationlist',["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojbutton","ojs/ojmenu","ojs/ojlistview"],function(t,e){t.DefaultNavListHandler=function(t,e,i){this.m_widget=t,this.m_root=e,this.m_component=i,this.m_widget.GetOption(this.m_widget.OPTION_EDGE)===this.m_widget.OPTION_EDGE_END&&this.m_root.addClass(this.m_widget.getNavListEndEdgeStyleClass())},t.DefaultNavListHandler.prototype.Destroy=function(){this.m_root.removeClass(this.m_widget.getNavListExpandedStyleClass()).removeClass(this.m_widget.getNavListVerticalStyleClass()).removeClass(this.m_widget.getNavListEndEdgeStyleClass())},t.DefaultNavListHandler.prototype.Expand=function(t,e,i){return Promise.resolve(null)},t.DefaultNavListHandler.prototype.Collapse=function(t,e,i,n){return Promise.resolve(null)},t.DefaultNavListHandler.prototype.HandleExpandAndCollapseKeys=function(t,e,i,n){return!1},t.DefaultNavListHandler.prototype.ModifyListItem=function(t,e){this.m_widget.isTabBar()&&this.m_widget.getSingleFocusableElement(t).attr("role","tab")},t.DefaultNavListHandler.prototype.UpdateAriaPropertiesOnSelectedItem=function(t,e){t.attr("aria-selected",e?"true":"false")},t.DefaultNavListHandler.prototype.BeforeRenderComplete=function(){var t=this.m_widget.element.attr("role");t&&"presentation"!=t&&(this.m_widget.element.attr("role","presentation"),this.m_widget.isTabBar()?this.m_root.attr("role","tablist"):this.m_root.attr("role",t))},t.DefaultNavListHandler.prototype.ItemInsertComplete=function(t,e){},t.DefaultNavListHandler.prototype.ItemRemoveComplete=function(t){},t.DefaultNavListHandler.prototype.HandleArrowKeys=function(t,e,n){return i.superclass.HandleArrowKeys.apply(this.m_widget,arguments)},t.DefaultNavListHandler.prototype.IsArrowKey=function(t){return i.superclass.IsArrowKey.apply(this.m_widget,arguments)},t.DefaultNavListHandler.prototype.GetState=function(t){return i.superclass.GetState.apply(this.m_widget,arguments)},t.DefaultNavListHandler.prototype.SetState=function(t,e){i.superclass.SetState.apply(this.m_widget,arguments)},t.DefaultNavListHandler.prototype.Init=function(t){this.m_root.addClass(this.m_widget.getNavListExpandedStyleClass()).addClass(this.m_widget.getNavListVerticalStyleClass())},t.DefaultNavListHandler.prototype.IsSelectable=function(t){return i.superclass.IsSelectable.apply(this.m_widget,arguments)},t.DefaultNavListHandler.prototype.RestoreItem=function(t,e,i){},t.DefaultNavListHandler.prototype.SetOptions=function(t){},t.DefaultNavListHandler.prototype.HandleBlur=function(t){return i.superclass.HandleBlur.apply(this.m_widget,arguments)},t.DefaultNavListHandler.prototype.HandleFocus=function(t){return i.superclass.HandleFocus.apply(this.m_widget,arguments)},t.DefaultNavListHandler.prototype.GetNodeBySubId=function(t){return null},t.DefaultNavListHandler.prototype.GetSubIdByNode=function(t){return null},t.DefaultNavListHandler.prototype.HandleResize=function(t,e){},t.DefaultNavListHandler.prototype.NotifyAttached=function(){},t.DefaultNavListHandler.prototype.GetAnimationEffect=function(t){return i.superclass.getAnimationEffect.apply(this.m_widget,arguments)},t.DefaultNavListHandler.prototype.IsOptionUpdateAllowed=function(t,e,i){return!0},t.DefaultNavListHandler.prototype.OptionUpdated=function(t,e,i){},t.DefaultNavListHandler.prototype.BeforeInsertItem=function(){},t.DefaultNavListHandler.prototype.HandleClick=function(t){},t.DefaultNavListHandler.prototype.HandleKeydown=function(t){},t.HorizontalNavListHandler=function(e,i,n){this.m_duringInit=!0,t.HorizontalNavListHandler.superclass.constructor.call(this,e,i,n),this.m_widget.GetOption(this.m_widget.OPTION_EDGE)===this.m_widget.OPTION_EDGE_BOTTOM&&this.m_root.addClass(this.m_widget.getNavListBottomEdgeStyleClass())},t.Object.createSubclass(t.HorizontalNavListHandler,t.DefaultNavListHandler,"oj.HorizontalNavListHandler"),t.HorizontalNavListHandler.prototype.Destroy=function(){this.m_root.removeClass(this.m_widget.getNavListExpandedStyleClass()).removeClass(this.m_widget.getHorizontalNavListStyleClass()).removeClass(this.m_widget.getNavListBottomEdgeStyleClass()),this.m_root.find("."+this.m_widget.getDividerStyleClass()).remove(),this._destroyOverflowMenu(),null!=this.m_overflowMenuItem&&(this.m_overflowMenuItem.remove(),this.m_overflowMenuItem=null),this.m_overflowMenuItems=[],this.m_duringInit=!0},t.HorizontalNavListHandler.prototype.UpdateAriaPropertiesOnSelectedItem=function(t,e){t.attr(this._isTabBar()?"aria-selected":"aria-pressed",e?"true":"false")},t.HorizontalNavListHandler.prototype._isTabBar=function(){return this.m_widget.isTabBar()},t.HorizontalNavListHandler.prototype.HandleArrowKeys=function(t,n,s){t===e.ui.keyCode.LEFT?t=this.m_widget.isRtl()?e.ui.keyCode.DOWN:e.ui.keyCode.UP:t===e.ui.keyCode.RIGHT&&(t=this.m_widget.isRtl()?e.ui.keyCode.UP:e.ui.keyCode.DOWN);var a=i.superclass.HandleArrowKeys.call(this.m_widget,t,n,s);return this.m_widget.m_active.elem[0].scrollIntoView(!1),a},t.HorizontalNavListHandler.prototype.IsArrowKey=function(t){return t===this.m_widget.UP_KEY||t===this.m_widget.DOWN_KEY||t===this.m_widget.LEFT_KEY||t===this.m_widget.RIGHT_KEY},t.HorizontalNavListHandler.prototype.ModifyListItem=function(t,e){var i=this.m_widget.getSingleFocusableElement(t);i.attr("role",this._isTabBar()?"tab":"button"),!this._isTabBar()&&i[0].hasAttribute("aria-selected")&&(i.attr("aria-pressed","false"),i.removeAttr("aria-selected"))},t.HorizontalNavListHandler.prototype.BeforeRenderComplete=function(){var t,i,n=this;this._isTabBar()?this.m_root.attr("role","tablist"):this.m_root.attr("role","toolbar"),this.m_widget.element.attr("role","presentation"),(i=this.m_widget.element.find("."+this.m_widget.getItemElementStyleClass()+":visible")).each(function(s){t=e(this),s>0&&n._addSeparator(this,s),s===i.length-1?t.addClass(n.m_widget.getLastItemStyleClass()):t.removeClass(n.m_widget.getLastItemStyleClass())}),this.m_duringInit&&(this.m_duringInit=!1,this._handleOverflow())},t.HorizontalNavListHandler.prototype._addSeparator=function(t,i){var n=e(t),s=n.prev();i>0&&s.length&&!s.is("li."+this.m_widget.getDividerStyleClass())&&n.before('<li role="separator" class="'+this.m_widget.getDividerStyleClass()+'"></li>')},t.HorizontalNavListHandler.prototype.ItemInsertComplete=function(t,e){this._addSeparator(t,e.index),this._handleOverflow()},t.HorizontalNavListHandler.prototype.ItemRemoveComplete=function(t){var i=e(t),n=i.prev();if(n.length&&n.is("li."+this.m_widget.getDividerStyleClass()))n.remove();else{var s=i.next();s.is("li."+this.m_widget.getDividerStyleClass())&&s.remove()}this._handleOverflow()},t.HorizontalNavListHandler.prototype.IsSelectable=function(t){var i="aria-selected";return this._isTabBar()||(i="aria-pressed"),!(this.m_overflowMenuItem&&this.m_overflowMenuItem[0]===e(t)[0])&&this.m_widget.getFocusItem(e(t))[0].hasAttribute(i)},t.HorizontalNavListHandler.prototype.Init=function(t){this.m_root.addClass(this.m_widget.getNavListExpandedStyleClass()).addClass(this.m_widget.getHorizontalNavListStyleClass()),this.m_overflowMenuItems=[]},t.HorizontalNavListHandler.prototype.HandleClick=function(t){e(t.target).closest("."+this.m_widget.getOverflowItemStyleClass()+" a."+this.m_widget.getItemContentStyleClass()).length>0&&this._launchOverflowMenu(t)},t.HorizontalNavListHandler.prototype.HandleKeydown=function(t){e(t.target).closest("."+this.m_widget.getOverflowItemStyleClass()+" a."+this.m_widget.getItemContentStyleClass()).length>0&&t.keyCode===e.ui.keyCode.SPACE&&this._launchOverflowMenu(t)},t.HorizontalNavListHandler.prototype.NotifyAttached=function(){this._handleOverflow()},t.HorizontalNavListHandler.prototype.HandleResize=function(t,e){this.m_ignoreNextResize?this.m_ignoreNextResize=!1:this._handleOverflow()},t.HorizontalNavListHandler.prototype.SetOptions=function(t){var e,i,n=this.m_widget.GetOption("overflow"),s=this.m_widget.GetOption("truncation");t.overflow&&n!==t.overflow&&(e=t.overflow),t.truncation&&s!==t.truncation&&(i=t.truncation),(e||i)&&this._handleOverflow(e,i)},t.HorizontalNavListHandler.prototype.GetAnimationEffect=function(t){return"add"===t||"remove"===t?i.superclass.getAnimationEffect.call(this.m_widget,t+"HorizontalItem"):i.superclass.getAnimationEffect.apply(this.m_widget,arguments)},t.HorizontalNavListHandler.prototype.GetNodeBySubId=function(t){var i,n,s,a,o=null;if(t.subId===this.m_widget.getItemSubIdKey()&&this.m_overflowMenuItems.length>0)for(n=this._getOverflowMenu(),i=t.key,s=n.find(".oj-menu-item"),a=0;a<s.length;a++)if(this.m_widget.compareValues(e(s[a]).data("key"),i)){o=s[a],this._launchOverflowMenu(null);break}return o},t.HorizontalNavListHandler.prototype.GetSubIdByNode=function(t){var i,n,s=null;return n=e(t).closest(".oj-menu-item"),null!==this._getOverflowMenu()&&n.closest("."+this.m_widget.getOverflowMenuStyleClass())[0]!==this._getOverflowMenu()[0]?null:(null!=n&&n.length>0&&null!=(i=n.data("key"))&&(s={subId:this.m_widget.getItemSubIdKey(),key:i}),s)},t.HorizontalNavListHandler.prototype.OptionUpdated=function(t,e,i){"selection"===t&&this._toggleOverflowBtnSelection(e)},t.HorizontalNavListHandler.prototype.IsOptionUpdateAllowed=function(t,e,i){return"currentItem"!==t||!this.m_overflowMenuItem||this.m_overflowMenuItem.attr("id")!==e},t.HorizontalNavListHandler.prototype._handleOverflow=function(e,i){var n,s,a=-1;if(0!==(n=this._getItems()).length){if(e||(e=this.m_widget.GetOption("overflow")),i||(i=this.m_widget.GetOption("truncation")),!(s=new t._HorizontalNavListOverflowHandler(n,e,i,this)).shouldHandleOverflow())return s.unApplyTruncation(),void this._releaseContainerWidth();this.showAllItems(n,e),s.unApplyTruncation(),s.checkForOverflow()&&s.applyTruncation()&&(a=s.getOverflowThreshold()),this._applyThreshold(a),this._releaseContainerWidth()}},t.HorizontalNavListHandler.prototype.BeforeInsertItem=function(){this._fixContainerWidth()},t.HorizontalNavListHandler.prototype._fixContainerWidth=function(){var t,e;0!==(t=(e=this.m_widget.getRootElement())[0].getBoundingClientRect().width)&&(this.m_freezedCotnainerWidth=t,e.css("maxWidth",t))},t.HorizontalNavListHandler.prototype._releaseContainerWidth=function(){var t;(t=this.m_widget.getRootElement()).css("maxWidth","none"),t[0].getBoundingClientRect().width,this.m_freezedCotnainerWidth&&(this.m_ignoreNextResize=!0,this.m_freezedCotnainerWidth=null)},t.HorizontalNavListHandler.prototype.showAllItems=function(t,i){var n=this;"popup"===i&&this._showOrHideItem(this._getOverflowMenuButton(),!0),t.each(function(t,i){n._showOrHideItem(e(i),!0)})},t.HorizontalNavListHandler.prototype._getItems=function(){return this.m_root.find("."+this.m_widget.getItemElementStyleClass()+":not(."+this.m_widget.getOverflowItemStyleClass()+")")},t.HorizontalNavListHandler.prototype._hasSeparators=function(){return this.m_root.hasClass(this.m_widget.getNavListItemsDividerStyleClass())},t.HorizontalNavListHandler.prototype._showOrHideItem=function(t,e){var i;this._hasSeparators()&&(i=t.prev("."+this.m_widget.getDividerStyleClass())),e?(t.show(),i&&i.show()):(t.hide(),i&&i.hide())},t.HorizontalNavListHandler.prototype._applyThreshold=function(t){var i,n,s,a,o=this,l=this._getItems(),r=[];0!==l.length&&(this.m_root.find("."+this.m_widget.getLastItemStyleClass()).removeClass(this.m_widget.getLastItemStyleClass()),-1===t||t>=l.length?this.m_overflowMenuItem&&this._showOrHideItem(this.m_overflowMenuItem,!1):(this._addSeparator(this._getOverflowMenuButton(),l.length),this._showOrHideItem(this._getOverflowMenuButton(),!0),s=!0),l.each(function(s,a){var l=e(a);-1!==t&&t<=s?(l.hasClass("oj-focus")&&o.m_widget.ActiveAndFocus(o._getOverflowMenuButton(),null),o._showOrHideItem(l,!1),i={},r.push(i),i.key=o.m_widget.GetKey(a),i.label=o._getItemLabel(l),l.hasClass("oj-disabled")&&(i.disabled=!0)):(n=l,o._showOrHideItem(l,!0),o.m_overflowMenuItem&&o.m_overflowMenuItem.hasClass("oj-focus")&&o.m_widget.compareValues(o.m_widget.GetKey(a),o.m_widget.GetOption("currentItem"))&&o.m_widget.ActiveAndFocus(n,null))}),s?this._getOverflowMenuButton().addClass(this.m_widget.getLastItemStyleClass()):n.addClass(this.m_widget.getLastItemStyleClass()),this.m_overflowMenuItems=r,this.m_widget.ClearCache(),a=this.m_overflowMenu&&this.m_overflowMenu.is(":visible"),this._destroyOverflowMenu(),a&&this._launchOverflowMenu(null))},t.HorizontalNavListHandler.prototype._destroyOverflowMenu=function(){this.m_overflowMenu&&(this.m_overflowMenu.ojMenu("destroy"),this.m_overflowMenu.remove(),this.m_overflowMenu=null)},t.HorizontalNavListHandler.prototype._getOverflowMenuButton=function(){var t,i,n,s,a;return this.m_overflowMenuItem||(s=e(document.createElement("li")),t=e(document.createElement("a")),i=e(document.createElement("span")),n=e(document.createElement("span")),a=this._getItems(),s.uniqueId().attr("role","presentation").addClass(this.m_widget.getItemElementStyleClass()).addClass(this.m_widget.getItemStyleClass()).addClass(this.m_widget.getOverflowItemStyleClass()).addClass("oj-default").append(t),t.addClass(this.m_widget.getFocusedElementStyleClass()).addClass(this.m_widget.getItemContentStyleClass()),t.attr("role","button").attr("aria-haspopup","true").attr("aria-pressed","false").attr("tabindex","-1").attr("data-tabmod","-1").attr("href","#").append(n).append(i),this.m_root.find("ul:first").hasClass(this.m_widget.getHasIconsStyleClass())||t.addClass(this.m_widget.getHasNoIconStyleClass()),i.text(this.m_widget.ojContext.getTranslatedString("overflowItemLabel")).addClass(this.m_widget.getItemLabelStyleClass()),n.addClass(this.m_widget.getItemIconStyleClass()).addClass("oj-fwk-icon").addClass(this.m_widget.getOverflowItemIconStyleClass()),s[0].key=s.attr("id"),this.m_root.find("."+this.m_widget.GetStyleClass()).append(s),this._addSeparator(s,a.length),this.m_overflowMenuItem=s),this.m_overflowMenuItem},t.HorizontalNavListHandler.prototype._getOverflowMenu=function(){var t,i,n,s,a=this.m_overflowMenuItems;if(0===a.length)return null;if(!this.m_overflowMenu){for((s=e(document.createElement("ul"))).addClass(this.m_widget.getOverflowMenuStyleClass()).hide(),this.m_root.append(s),n=0;n<a.length;n++)t=e(document.createElement("li")),(i=e(document.createElement("a"))).attr("href","#").text(a[n].label),t.data("key",a[n].key),a[n].disabled&&t.addClass("oj-disabled"),t.append(i),s.append(t);s.ojMenu({openOptions:{display:"auto"},open:this.__handleOverflowMenuOpen.bind(this),close:this.__handleOverflowMenuClose.bind(this),select:this.__handleOverflowMenuSelection.bind(this)}),this.m_overflowMenu=s}return this.m_overflowMenu},t.HorizontalNavListHandler.prototype._launchOverflowMenu=function(t){this._getOverflowMenu().is(":visible")||(this._getOverflowMenuButton().addClass("oj-selected").removeClass("oj-default"),this._getOverflowMenu().ojMenu("open",t,{launcher:this._getOverflowMenuButton(),initialFocus:"firstItem",position:{my:"end bottom",at:"end top",collision:"flipfit"}}))},t.HorizontalNavListHandler.prototype._toggleOverflowBtnSelection=function(t){var e,i;if(this.m_overflowMenuItem&&this.m_overflowMenuItems.length>0){if(t)for(i=0;i<this.m_overflowMenuItems.length;i++)if(this.m_widget.compareValues(this.m_overflowMenuItems[i].key,t)){e=!0;break}e||this._getOverflowMenuButton().addClass("oj-default").removeClass("oj-selected")}},t.HorizontalNavListHandler.prototype.__handleOverflowMenuOpen=function(t,e){this._getOverflowMenuButton().find("."+this.m_widget.getItemContentStyleClass()).attr("tabindex","0")},t.HorizontalNavListHandler.prototype.__handleOverflowMenuClose=function(t,e){var i=this.m_widget.ojContext.option("selection");this._toggleOverflowBtnSelection(i),this._getOverflowMenuButton().find("."+this.m_widget.getItemContentStyleClass()).focus()},t.HorizontalNavListHandler.prototype.__handleOverflowMenuSelection=function(t,i){var n,s=i.item.data("key"),a={selection:s},o=this.m_widget.FindElementByKey(s);this.m_widget.HandleSelectionOption(a),(n=a.selection)&&this.m_widget.SetOption("selection",n,{_context:{originalEvent:t,internalSet:!0,extraData:{items:e(o)}},changed:!0})},t.HorizontalNavListHandler.prototype._getItemLabel=function(t){var e=t.find("."+this.m_widget.getItemTitleStyleClass()+":first");return e.length>0?e.text():t.find("."+this.m_widget.getItemLabelStyleClass()+":first").text()},t._HorizontalNavListOverflowHandler=function(t,e,i,n){this._overflow=e,this._truncation=i,this._items=t,this._navlistHandler=n},t._HorizontalNavListOverflowHandler.prototype._getOverflowMenuButton=function(){return this._navlistHandler._getOverflowMenuButton()},t._HorizontalNavListOverflowHandler.prototype._getWidget=function(){return this._navlistHandler.m_widget},t._HorizontalNavListOverflowHandler.prototype.shouldHandleOverflow=function(){return"popup"===this._overflow||"progressive"===this._truncation},t._HorizontalNavListOverflowHandler.prototype.unApplyTruncation=function(){var t=this;this._items.each(function(i,n){e(n).find("."+t._getWidget().getItemLabelStyleClass()).css("max-width","")})},t._HorizontalNavListOverflowHandler.prototype.checkForOverflow=function(){return!!this.shouldHandleOverflow()&&(this._overflowData||(this._overflowData=this._collectOverflowData()),this._isOverflowed(this._overflowData.containerEdgePos,this._overflowData.itemEdgePos,0))},t._HorizontalNavListOverflowHandler.prototype.applyTruncation=function(){"progressive"===this._truncation&&this._applyLabelMaxWidth(this._overflowData);var e=this._items.last()[0].getBoundingClientRect()["ltr"===t.DomUtils.getReadingDirection()?"right":"left"];return this._isOverflowed(this._overflowData.containerEdgePos,e,0)},t._HorizontalNavListOverflowHandler.prototype.getOverflowThreshold=function(){var t=-1;return"popup"===this._overflow&&(t=this._calculateThreshold(this._overflowData)),t},t._HorizontalNavListOverflowHandler.prototype._collectOverflowData=function(){var e,i,n,s,a,o,l;return e="ltr"===t.DomUtils.getReadingDirection()?"right":"left",l=this._getWidget().ojContext.element,i=this._items.last(),"progressive"===this._truncation&&(n=this._calculateItemNonTextWidth()),o=l[0].getBoundingClientRect()[e],a=l[0].getBoundingClientRect().width,"popup"===this._overflow&&(s=this._getOverflowMenuButton()[0].getBoundingClientRect().width),{containerEdgePos:o,containerWidth:a,overflowItemWidth:s,itemEdgePos:i[0].getBoundingClientRect()[e],itemNonTextWidth:n}},t._HorizontalNavListOverflowHandler.prototype._calculateItemNonTextWidth=function(){var t,i,n=null,s=this._items,a=this;return this._getWidget().getRootElement().hasClass("."+this._getWidget().getHasIconsStyleClass())&&(s=s.filter(function(t,i){return e(i).find("."+a._getWidget().getItemIconStyleClass()).length>0})),i=(n=(t=s.filter(function(t,i){return e(i).find("."+a._getWidget().getRemovableStyleClass()).length>0}))&&t.length>0?t.last():s.last()).find("."+this._getWidget().getItemLabelStyleClass())[0].getBoundingClientRect().width,n[0].getBoundingClientRect().width-i},t._HorizontalNavListOverflowHandler.prototype._isOverflowed=function(e,i,n){return n=n||0,"ltr"===t.DomUtils.getReadingDirection()?i-e+n>.1:e-i+n>.1},t._HorizontalNavListOverflowHandler.prototype._calculateThreshold=function(e){var i,n,s,a;for(n=this._items,i="ltr"===t.DomUtils.getReadingDirection()?"right":"left",s=n[a=n.length-1].getBoundingClientRect()[i];this._isOverflowed(e.containerEdgePos,s,e.overflowItemWidth)&&a>0;)s=n[a-=1].getBoundingClientRect()[i];return a+1},t._HorizontalNavListOverflowHandler.prototype._applyLabelMaxWidth=function(t){var i=this._items,n=this,s=this._getMinLabelWidth(this._items),a=t.containerWidth/i.length-t.itemNonTextWidth;a<s&&(a=s),i.each(function(t,i){e(i).find("."+n._getWidget().getItemLabelStyleClass()).css({"max-width":a+"px"})})},t._HorizontalNavListOverflowHandler.prototype._getMinLabelWidth=function(t){var e=window.getComputedStyle(t.first().find("."+this._getWidget().getItemLabelStyleClass())[0],null).getPropertyValue("min-width");return e.indexOf("px")>0?parseInt(e.substring(0,e.length-2),10):0},t.CollapsibleNavListHandler=function(e,i,n){t.CollapsibleNavListHandler.superclass.constructor.call(this,e,i,n)},t.Object.createSubclass(t.CollapsibleNavListHandler,t.DefaultNavListHandler,"oj.CollapsibleNavListHandler"),t.CollapsibleNavListHandler.prototype.Destroy=function(){this.m_root.removeClass(this.m_widget.getNavListCollapsibleStyleClass()).removeClass(this.m_widget.getNavListVerticalStyleClass())},t.CollapsibleNavListHandler.prototype.Init=function(t){this.m_root.addClass(this.m_widget.getNavListCollapsibleStyleClass()).addClass(this.m_widget.getNavListVerticalStyleClass())},t.CollapsibleNavListHandler.prototype.Expand=function(t,e,n){return i.superclass.AnimateExpand.apply(this.m_widget,arguments)},t.CollapsibleNavListHandler.prototype.Collapse=function(t,e,n,s){return i.superclass.AnimateCollapse.apply(this.m_widget,arguments)},t.CollapsibleNavListHandler.prototype.HandleExpandAndCollapseKeys=function(t,i,n,s){var a=n.children("."+this.m_widget.getGroupStyleClass()).length>0;if(i===this.m_widget.LEFT_KEY||i===this.m_widget.RIGHT_KEY)return i===this.m_widget.LEFT_KEY&&!this.m_widget.isRtl()||i===this.m_widget.RIGHT_KEY&&this.m_widget.isRtl()?this.m_widget.GetState(n)===this.m_widget.STATE_EXPANDED&&this.m_widget.CollapseItem(n,t,!0,s,!0,!0):this.m_widget.GetState(n)===this.m_widget.STATE_COLLAPSED&&this.m_widget.ExpandItem(n,t,!0,s,!0,!0,!0),!0;if(a&&(i===e.ui.keyCode.ENTER||i===e.ui.keyCode.SPACE)){if(n.length<=0)return;return this.m_widget.GetState(n)===this.m_widget.STATE_COLLAPSED?this.m_widget.ExpandItem(n,null,!0,s,!0,!0,!0):this.m_widget.GetState(n)===this.m_widget.STATE_EXPANDED&&this.m_widget.CollapseItem(n,null,!0,s,!0,!0),!0}return!1},t.SlidingNavListHandler=function(e,i,n){t.SlidingNavListHandler.superclass.constructor.call(this,e,i,n),this.m_expanded=[]},t.Object.createSubclass(t.SlidingNavListHandler,t.CollapsibleNavListHandler,"oj.SlidingNavListHandler"),t.SlidingNavListHandler.prototype.Destroy=function(){this.m_root.removeClass("oj-navigationlist-slider").removeClass(this.m_widget.getNavListVerticalStyleClass()),this._toolbar.remove()},t.SlidingNavListHandler.prototype._slideAnimation=function(t,e,i,n,s){var a,o=this,l=this.m_widget.getRootElement(),r=(this.m_widget.isRtl(),this.m_widget.getRootElement().hasClass("oj-focus-ancestor"));a=e?"sliderExpand":"sliderCollapse",this.m_widget.StartAnimation(l.get(0),a,this.m_widget.getAnimationEffect(a)).then(function(){o._slideAnimationComplete(t,e,i,n,r),s(null)})},t.SlidingNavListHandler.prototype._slideAnimationComplete=function(t,e,i,n,s){null!==this.m_widget.m_contentHandler&&(i&&(s&&this.m_widget.getRootElement().addClass("oj-focus-ancestor"),n&&0===n.button&&this.m_widget.AvoidFocusHighLight(!0),this.m_widget.SetCurrentItem(i,n),this.m_widget.AvoidFocusHighLight(!1)),e?this.m_widget.AnimateExpandComplete(t.children("."+this.m_widget.getGroupStyleClass())):this.m_widget.AnimateCollapseComplete(t.children("."+this.m_widget.getGroupStyleClass())))},t.SlidingNavListHandler.prototype.Expand=function(t,i,n){var s,a,o=new Promise(function(t,e){s=t}),l=e(t).parents(".oj-navigationlist-item-element:first"),r=l.children("."+this.m_widget.getGroupStyleClass()),d=null,h=l.closest("."+this.m_widget.SLIDING_NAVLIST_CURRENT_STYLE_CLASS);if(h.length>0){h.removeClass(this.m_widget.SLIDING_NAVLIST_CURRENT_STYLE_CLASS),l.addClass(this.m_widget.SLIDING_NAVLIST_CURRENT_STYLE_CLASS),d=r.find("."+this.m_widget.getItemElementStyleClass()+":eq(0)");var _=l.parentsUntil(h,"ul");_=h.is(this.m_widget.element)?_.get().concat(h.get()):_.get();var u,m=this;(_=e(_.reverse())).each(function(t,i){a=e(i).is(m.m_widget.element)?m.m_widget.getRootLabel():m.m_widget.getItemLabel(e(i).parent()),u=t===_.length-1?l:e(_.get(t+1)).parent(),m._addItemToHviewMenu(m.m_widget.GetKey(u[0]),m.m_widget.getItemLabel(u),a),m.m_expanded.push(u)})}return i?this._slideAnimation(l,!0,d,n,s):(this._slideAnimationComplete(l,!0,d,n,!1),s(null)),l.siblings().attr("aria-hidden","true"),l.children("."+this.m_widget.getGroupItemStyleClass()).children("."+this.m_widget.getItemContentStyleClass()).attr("aria-hidden","true"),r.removeAttr("aria-hidden"),t.css("display",""),l.addClass("oj-skipfocus"),o},t.SlidingNavListHandler.prototype.Collapse=function(t,e,i,n){var s,a=new Promise(function(t,e){s=t}),o=t.children("."+this.m_widget.getGroupStyleClass()),l=t.parent();return t.children("."+this.m_widget.getGroupItemStyleClass()).children("."+this.m_widget.getItemContentStyleClass()).removeAttr("aria-hidden"),o.attr("aria-hidden","true"),t.siblings().removeAttr("aria-hidden"),t.removeClass("oj-skipfocus"),t.removeClass(this.m_widget.SLIDING_NAVLIST_CURRENT_STYLE_CLASS),0===t.closest("."+this.m_widget.SLIDING_NAVLIST_CURRENT_STYLE_CLASS).length&&(l.closest("."+this.m_widget.getItemElementStyleClass()).addClass(this.m_widget.SLIDING_NAVLIST_CURRENT_STYLE_CLASS),this.m_widget.element.is(l)&&this.m_widget.element.addClass(this.m_widget.SLIDING_NAVLIST_CURRENT_STYLE_CLASS)),i?this._slideAnimation(t,!1,o.parent(),n,s):(this._slideAnimationComplete(t,!1,o.parent(),n,!1),s(null)),this._removeItemFromHviewMenu(),a},t.SlidingNavListHandler.prototype.UpdateAriaPropertiesOnSelectedItem=function(t,e){e?t.attr("aria-describedby",this._selectedLabelId):t.removeAttr("aria-describedby")},t.SlidingNavListHandler.prototype.GetState=function(t){var e=this.m_widget.getFocusItem(t).attr("aria-expanded");return"true"===e?this.m_widget.STATE_EXPANDED:"false"===e?this.m_widget.STATE_COLLAPSED:this.m_widget.STATE_NONE},t.SlidingNavListHandler.prototype.SetState=function(t,e){e===this.m_widget.STATE_EXPANDED?(this.m_widget.getFocusItem(t).attr("aria-expanded","true"),t.removeClass(this.m_widget.COLLAPSED_STYLE_CLASS).addClass(this.m_widget.EXPANDED_STYLE_CLASS)):e===this.m_widget.STATE_COLLAPSED&&(this.m_widget.getFocusItem(t).attr("aria-expanded","false"),t.removeClass(this.m_widget.EXPANDED_STYLE_CLASS).addClass(this.m_widget.COLLAPSED_STYLE_CLASS))},t.SlidingNavListHandler.prototype.ModifyListItem=function(t,e){var i=this.m_widget.getFocusItem(t);t.attr("role","presentation"),i.attr("role","menuitem"),e.attr("id")||e.uniqueId();var n=t.children("."+this.m_widget.getGroupStyleClass());n.length>0&&(i.attr("aria-haspopup","true"),n.attr("role","menu"),n.css("display",""),t.removeAttr("aria-expanded"),i.attr("aria-expanded","false"))},t.SlidingNavListHandler.prototype.BeforeRenderComplete=function(){this.m_root.attr("role","menu"),this.m_widget.element.attr("role","presentation")},t.SlidingNavListHandler.prototype.Init=function(t){this.m_root.addClass("oj-navigationlist-slider").addClass(this.m_widget.getNavListVerticalStyleClass()),t.element.addClass("oj-navigationlist-current"),this._buildSlidingNavListHeader(t),this._initializeHierarchicalView()},t.SlidingNavListHandler.prototype.HandleClick=function(t){e(t.target).closest(".oj-navigationlist-previous-link, .oj-navigationlist-previous-button").length>0&&this.CollapseCurrentList(t)},t.SlidingNavListHandler.prototype.HandleKeydown=function(t){e(t.target).closest(".oj-navigationlist-previous-link, .oj-navigationlist-previous-button").length>0&&t.keyCode===e.ui.keyCode.ENTER&&this.CollapseCurrentList(t),e(t.target).closest("."+this.m_widget.GetStyleClass()).length>0&&(t.keyCode!==e.ui.keyCode.ESCAPE||t.isDefaultPrevented()||this.CollapseCurrentList(t))},t.SlidingNavListHandler.prototype._buildSlidingNavListHeader=function(t){var i;this._toolbar=e(document.createElement("div")),this._toolbar.addClass("oj-navigationlist-toolbar"),this._previousLink=e(document.createElement("a")),this._prevButton=e(document.createElement("a")),this._prevButton.addClass("oj-navigationlist-previous-button"),this._prevButton.css("visibility","hidden").attr("tabindex","-1"),this._previousLink.addClass("oj-navigationlist-previous-link").attr("tabindex","-1"),this._headerLabel=e(document.createElement("label")),this._headerLabel.addClass("oj-navigationlist-current-header").text(this.m_widget.getRootLabel()),this._vSeparator=e(document.createElement("span")),this._vSeparator.attr("role","separator").attr("aria-orientation","vertical").addClass("oj-navigationlist-toolbar-separator"),this._hviewBtn=e(document.createElement("button")),this._hviewBtn.addClass("oj-navigationlist-hierarchical-button").attr("tabindex","-1"),this._hviewMenu=e(document.createElement("ul")),this._hviewMenu.addClass("oj-navigationlist-hierarchical-menu").hide(),(i=e(document.createElement("label"))).uniqueId().addClass("oj-helper-hidden-accessible").attr("aria-hidden","true"),this._selectedLabelId=i.attr("id"),i.text(this.m_component.getTranslatedString("selectedLabel")),this._previousLink.append(this._headerLabel),this._toolbar.append(this._prevButton),this._toolbar.append(this._previousLink).append(this._vSeparator).append(this._hviewBtn).append(this._hviewMenu).append(i),this.m_root.prepend(this._toolbar),this._showOrHideHierarchyMenu(t.hierarchyMenuDisplayThresholdLevel)},t.SlidingNavListHandler.prototype.CollapseCurrentList=function(t){var e=this.m_expanded.pop();e&&this.m_widget.CollapseItem(e,t,!0,null,!0,!0)},t.SlidingNavListHandler.prototype._initializeHierarchicalView=function(){var t=this,i=this._hviewMenu.uniqueId().attr("id");this._hviewMenu.ojMenu({openOptions:{position:{my:"end top",at:"end bottom"}},select:function(i,n){var s,a,o=n.item.nextAll(),l=t.m_expanded,r=n.item.data("key");for(t.m_widget.signalTaskStart();l.length>0&&(a=l.pop(),s=t.m_widget.GetKey(a[0]),t.m_widget.CollapseItem(e(a),i,!0,s,!0,!0),!t.m_widget.compareValues(r,s)););o.remove(),n.item.remove(),t._hviewMenu.ojMenu("refresh"),t.m_widget.signalTaskEnd()}}),this._hviewBtn.ojButton({label:this.m_component.getTranslatedString("hierMenuBtnLabel"),display:"icons",icons:{start:"oj-fwk-icon oj-hier-icon"},menu:"#"+i,disabled:!0,chroming:"half"}),this._prevButton.ojButton({label:this.m_component.getTranslatedString("previousIcon"),display:"icons",icons:{start:"oj-navigationlist-previous-icon oj-component-icon oj-clickable-icon-nocontext"},chroming:"half"})},t.SlidingNavListHandler.prototype._addItemToHviewMenu=function(t,i,n){var s;if(this._hviewBtn){var a=this._hviewMenu.find("li").length,o=e(document.createElement("li")),l=e(document.createElement("a"));if(l.attr("href","#"),o.append(l),a>0){for(s=0;s<a;s++)s>0&&l.append(e(document.createElement("span")).addClass("oj-navigationlist-hvitem-space"));l.append(e(document.createElement("span")).addClass("oj-menu-item-icon oj-icon oj-navigationlist-level-indicator"))}var r=e(document.createElement("span")).addClass("oj-navigationlist-hierarchical-menu-label");r.text(n),l.append(r),o.data("key",t),this._hviewMenu.append(o),this._hviewMenu.ojMenu("refresh"),this._showOrHideHierarchyMenu(this.m_widget.GetOption("hierarchyMenuDisplayThresholdLevel")),this._hviewBtn.ojButton("option","disabled",!1),this._prevButton.css("visibility","visible"),this.m_widget.getRootElement().hasClass("oj-focus-ancestor")&&this._prevButton.attr("tabindex","0"),this._headerLabel.text(i)}},t.SlidingNavListHandler.prototype.SetOptions=function(t){void 0!==t.hierarchyMenuDisplayThresholdLevel&&this.m_widget.GetOption("hierarchyMenuDisplayThresholdLevel")!==t.hierarchyMenuDisplayThresholdLevel&&this._showOrHideHierarchyMenu(t.hierarchyMenuDisplayThresholdLevel)},t.SlidingNavListHandler.prototype._showOrHideHierarchyMenu=function(t){var e=this._hviewMenu.find("li").length;-1===t||e<t?(this._vSeparator.css("visibility","hidden"),this._hviewBtn[0]===document.activeElement&&this.m_root.focusin(),this._hviewBtn.css("visibility","hidden")):e>=t&&(this._vSeparator.css("visibility","visible"),this._hviewBtn.css("visibility","visible"))},t.SlidingNavListHandler.prototype._removeItemFromHviewMenu=function(){if(this._hviewBtn){var t=this._hviewMenu.find("li").last().remove();this._hviewMenu.ojMenu("refresh"),this._showOrHideHierarchyMenu(this.m_widget.GetOption("hierarchyMenuDisplayThresholdLevel")),0===this._hviewMenu.children("li").length?(this._hviewBtn.ojButton("option","disabled",!0),this._prevButton.css("visibility","hidden"),this._prevButton.attr("tabindex","-1"),
this._headerLabel.text(this.m_widget.getRootLabel())):this._headerLabel.text(t.children("a").text())}},t.SlidingNavListHandler.prototype.RestoreItem=function(t,e,i){t.removeClass(this.m_widget.SLIDING_NAVLIST_CURRENT_STYLE_CLASS),e.removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-describedby").removeAttr("aria-hidden")},t.SlidingNavListHandler.prototype._makeToolbarItemsFocusable=function(t){t?(this._hviewMenu.find("li").length&&this._prevButton.attr("tabindex","0"),this._hviewBtn.attr("tabindex","0")):(this._prevButton.attr("tabindex","-1"),this._hviewBtn.attr("tabindex","-1"))},t.SlidingNavListHandler.prototype.HandleFocus=function(t){e.contains(this._toolbar.get(0),t.target)||this._hviewMenu.get(0)===t.relatedTarget||(this._makeToolbarItemsFocusable(!0),i.superclass.HandleFocus.apply(this.m_widget,arguments))},t.SlidingNavListHandler.prototype.HandleBlur=function(t){e.contains(this._toolbar.get(0),t.relatedTarget)||this._hviewMenu.get(0)===t.relatedTarget?this.m_widget.UnhighlightActive():(null!=t.relatedTarget&&e.contains(this.m_root.get(0),t.relatedTarget)||this._makeToolbarItemsFocusable(!1),i.superclass.HandleBlur.apply(this.m_widget,arguments))},t.SlidingNavListHandler.prototype.GetNodeBySubId=function(t){return"oj-navigationlist-previous-link"===t.subId?this._prevButton?this._prevButton[0]:null:"oj-navigationlist-hierarchical-button"===t.subId?this._hviewBtn?this._hviewBtn[0]:null:"oj-navigationlist-hierarchical-menu"===t.subId&&this._hviewMenu?this._hviewMenu[0]:null},t.SlidingNavListHandler.prototype.GetSubIdByNode=function(t){return e(t).closest(this._prevButton).length>0?{subId:"oj-navigationlist-previous-link"}:e(t).closest(this._hviewBtn).length>0?{subId:"oj-navigationlist-hierarchical-button"}:e(t).closest(this._hviewMenu).length>0?{subId:"oj-navigationlist-hierarchical-menu"}:null};var i=function(i,n){var s=function(){};return t.Object.createSubclass(s,i,""),e.extend(s.prototype,n),s}(t._ojListView,{OPTION_DRILL_MODE:"drillMode",OPTION_DRILL_MODE_NONE:"none",OPTION_DRILL_MODE_COLLAPSIBLE:"collapsible",OPTION_DRILL_MODE_SLIDING:"sliding",OPTION_DISPLAY:"display",OPTION_DISPLAY_ICONS:"icons",OPTION_DISPLAY_ALL:"all",OPTION_EDGE:"edge",OPTION_EDGE_TOP:"top",OPTION_EDGE_END:"end",OPTION_EDGE_START:"start",OPTION_EDGE_BOTTOM:"bottom",OPTION_SELECTION:"selection",OPTION_CURRENT_ITEM:"currentItem",TAG_NAME_TAB_BAR:"oj-tab-bar",NAVLIST_ITEM_SUBID_KEY:{navlist:"oj-navigationlist-item",tabbar:"oj-tabbar-item"},NAVLIST_EXPANDED_STYLE_CLASS:{navlist:"oj-navigationlist-expanded",tabbar:"oj-tabbar-expanded"},NAVLIST_COLLAPSIBLE_STYLE_CLASS:{navlist:"oj-navigationlist-collapsible",tabbar:"oj-tabbar-collapsible"},NAVLIST_VERTICAL_STYLE_CLASS:{navlist:"oj-navigationlist-vertical",tabbar:"oj-tabbar-vertical"},ITEM_CONTENT_STYLE_CLASS:{navlist:"oj-navigationlist-item-content",tabbar:"oj-tabbar-item-content"},NAVLIST_DIVIDERS_STYLE_CLASS:{navlist:"oj-navigationlist-item-dividers",tabbar:"oj-tabbar-item-dividers"},LAST_ITEM_STYLE_CLASS:{navlist:"oj-navigationlist-item-last-child",tabbar:"oj-tabbar-item-last-child"},EXPANDED_STYLE_CLASS:"oj-expanded",COLLAPSED_STYLE_CLASS:"oj-collapsed",SLIDING_NAVLIST_CURRENT_STYLE_CLASS:"oj-navigationlist-current",DIVIDER_STYLE_CLASS:{navlist:"oj-navigationlist-divider",tabbar:"oj-tabbar-divider"},NAVLIST_OVERFLOW_MENU_ITEM:{navlist:"oj-navigationlist-overflow-menu-item",tabbar:"oj-tabbar-overflow-menu-item"},NAVLIST_OVERFLOW_MENU:{navlist:"oj-navigationlist-overflow-menu",tabbar:"oj-tabbar-overflow-menu"},NAVLIST_OVERFLOW_ITEM_ICON:{navlist:"oj-navigationlist-overflow-item-icon",tabbar:"oj-tabbar-overflow-item-icon"},_CATEGORY_DIVIDER_STYLE_CLASS:{navlist:"oj-navigationlist-category-divider",tabbar:"oj-tabbar-category-divider"},_ITEM_LABEL_STYLE_CLASS:{navlist:"oj-navigationlist-item-label",tabbar:"oj-tabbar-item-label"},_ICON_ONLY_STYLE_CLASS:{navlist:"oj-navigationlist-icon-only",tabbar:"oj-tabbar-icon-only"},_ITEM_ICON_STYLE_CLASS:{navlist:"oj-navigationlist-item-icon",tabbar:"oj-tabbar-item-icon"},_HORIZONTAL_NAVLIST_STYLE_CLASS:{navlist:"oj-navigationlist-horizontal",tabbar:"oj-tabbar-horizontal"},_NAVLIST_END_EDGE_STYLE_CLASS:{navlist:"oj-navigationlist-vertical-end",tabbar:"oj-tabbar-vertical-end"},_NAVLIST_BOTTOM_EDGE_STYLE_CLASS:{navlist:"oj-navigationlist-horizontal-bottom",tabbar:"oj-tabbar-horizontal-bottom"},_NAVLIST_HAS_ICONS:{navlist:"oj-navigationlist-has-icons",tabbar:"oj-tabbar-has-icons"},_NAVLIST_ITEM_HAS_NO_ICON:{navlist:"oj-navigationlist-item-no-icon",tabbar:"oj-tabbar-item-no-icon"},_NAVLIST_ITEM_TITLE:{navlist:"oj-navigationlist-item-title",tabbar:"oj-tabbar-item-title"},_NAVLIST_STYLE_CLASS:{navlist:"oj-navigationlist",tabbar:"oj-tabbar"},_NAVLIST_TOUCH_STYLE_CLASS:{navlist:"oj-navigationlist-touch",tabbar:"oj-tabbar-touch"},_NAVLIST_LISTVIEW_CONTAINER_STYLE_CLASS:{navlist:"oj-navigationlist-listview-container",tabbar:"oj-tabbar-listview-container"},_IS_TITLE_ATTR_ADDED_DUE_TO_TRUNCATION:"IsTitleAttrDueToTruncation",_APPLICATION_LEVEL_NAV_STYLE_CLASS:"oj-navigationlist-app-level",_PAGE_LEVEL_NAV_STYLE_CLASS:"oj-navigationlist-page-level",_NAVLIST_ITEM_ICON_HAS_TITLE:"navigationListItemIconHastitle",_NAVLIST_NO_FOLLOW_LINK_CLASS:{navlist:"oj-navigationlist-nofollow-link",tabbar:"oj-tabbar-nofollow-link"},_CONTAINER_STYLE_CLASS:{navlist:"oj-navigationlist-listview",tabbar:"oj-tabbar-listview"},_ELEMENT_STYLE_CLASS:{navlist:"oj-navigationlist-element",tabbar:"oj-tabbar-element"},_ELEMENT_EMPTY_TEXT_STYLE_CLASS:{navlist:"oj-navigationlist-empty-text",tabbar:"oj-tabbar-empty-text"},_ELEMENT_NO_DATA_MSG_STYLE_CLASS:{navlist:"oj-navigationlist-no-data-message",tabbar:"oj-tabbar-no-data-message"},_FOCUSED_ELEMENT_STYLE_CLASS:{navlist:"oj-navigationlist-focused-element",tabbar:"oj-tabbar-focused-element"},_ITEM_ELEMENT_STYLE_CLASS:{navlist:"oj-navigationlist-item-element",tabbar:"oj-tabbar-item-element"},_ITEM_STYLE_CLASS:{navlist:"oj-navigationlist-item",tabbar:"oj-tabbar-item"},_OPTION_DEFAULT_STYLE_CLASS:{navlist:"oj-navigationlist-option-defaults",tabbar:"oj-tabbar-option-defaults"},getItemLabel:function(t){var i=this.getItemContentElement(t);return i.is("a")?e.trim(i.text()):e.trim(i.find("."+this.getItemTitleStyleClass()).text())},getItemContentElement:function(t){var e=t.children("."+this.getItemContentStyleClass());return 0===e.length&&0===(e=t.children("."+this.getGroupItemStyleClass()).children("."+this.getItemContentStyleClass())).length&&(e=t.children("."+this.getGroupItemStyleClass()).children(":not(."+this.getExpandIconStyleClass()+"):not(."+this.getCollapseIconStyleClass()+")")),e},isRtl:function(){return"rtl"===this.ojContext._GetReadingDirection()},_initNavigationMode:function(t){t[0].tagName.toLowerCase()===this.TAG_NAME_TAB_BAR?this._navigationMode="tabbar":this._navigationMode="navlist"},_getNavigationMode:function(){return this._navigationMode},renderComplete:function(){this.m_listHandler.BeforeRenderComplete(),i.superclass.renderComplete.apply(this,arguments)},itemInsertComplete:function(t,e){this.m_listHandler.ItemInsertComplete(t,e)},itemRemoveComplete:function(t){this.m_listHandler.ItemRemoveComplete(t),i.superclass.itemRemoveComplete.apply(this,arguments)},_restoreContent:function(t){var i,n,s,a,o,l,r=t.children();for(t.removeAttr("style").removeClass(this.getHasIconsStyleClass()).removeAttr("aria-hidden"),i=0;i<r.length;i++)n=r[i],(n=e(n)).hasClass(this.getDividerStyleClass())?n.remove():((s=this.getItemContentElement(n)).removeClass(this.getItemContentStyleClass()).removeClass(this.getHasNoIconStyleClass()).removeAttr("aria-haspopup"),(a=s.children("."+this.getItemIconStyleClass()))&&a.length>0&&(a.removeAttr("role"),a.removeAttr("aria-label"),this._removeToolTipOnIcon(a)),n.removeClass("oj-default").removeAttr("role").removeAttr("aria-disabled").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-pressed"),(o=this.getFocusItem(n)).removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-pressed"),s.children("."+this.getItemLabelStyleClass()).contents().unwrap(),o.data(this._IS_TITLE_ATTR_ADDED_DUE_TO_TRUNCATION)&&o.removeAttr("title"),(l=n.children("ul")).length>0?(this.m_listHandler.RestoreItem(n,s,l),this._restoreContent(l)):this.m_listHandler.RestoreItem(n,s))},GetDnDContext:function(){if(void 0!==t.NavigationListDndContext&&this.ojContext.element[0].tagName.toLowerCase()===this.TAG_NAME_TAB_BAR)return new t.NavigationListDndContext(this)},IsNodeEditableOrClickable:function(t){return!(t.hasClass(this.getItemContentStyleClass())||t.hasClass(this.getExpandIconStyleClass())||t.hasClass(this.getCollapseIconStyleClass()))&&i.superclass.IsNodeEditableOrClickable.apply(this,arguments)},IsElementEditableOrClickable:function(t){return t.prop("nodeName").match(/^INPUT|SELECT|OPTION|BUTTON|^A\b|TEXTAREA/)&&!t.hasClass(this.getItemContentStyleClass())||t.hasClass("oj-component")},_focusable:function(t){return e(t.data).is("li")?!e(t.data).hasClass("oj-disabled"):!e(t.parentElement).hasClass("oj-disabled")},_prepareListViewOptions:function(t){var i=e.extend({},t);return i.drillMode="none"!==t.drillMode?"collapsible":"none",i.selection=null!==t.selection?[t.selection]:[],i.selectionMode="single",i.item=e.extend({focusable:this._focusable},t.item),i.element=this._list,i},getRootLabel:function(){return this.ojContext.options.rootLabel?this.ojContext.options.rootLabel:this.ojContext.getTranslatedString("defaultRootLabel")},SetAriaProperties:function(){this.ojContext.element.attr("aria-multiselectable",!1)},HandleFocus:function(t){return this.m_listHandler.HandleFocus(t)},HandleBlur:function(t){return this.m_listHandler.HandleBlur(t)},SetRootElementTabIndex:function(){this.ojContext.element.attr("tabIndex",0)},RemoveRootElementTabIndex:function(){this.ojContext.element.removeAttr("tabIndex")},UnsetAriaProperties:function(){this.ojContext.element.removeAttr("aria-activedescendant").removeAttr("aria-multiselectable")},ShouldUseGridRole:function(){return!1},init:function(n){var s,a=this,o=n.ojContext.element;this._initNavigationMode(o),o.addClass(this.getNavListStyleClass()),t.DomUtils.isTouchSupported()&&o.addClass(this.getNavListTouchStyleClass()),this._list=o.children("ul:first"),0===this._list.length&&(this._list=e(document.createElement("ul")),o.append(this._list));var l=e(document.createElement("div"));l.addClass(this.getNavListContainerStyleClass()),l.attr("role","presentation"),this._list.wrap(l),s=this._prepareListViewOptions(n),i.superclass.init.call(this,s),this.getRootElement().attr("role","presentation"),this.element.removeClass("oj-component-initnode"),this.ojContext._on(this.ojContext.element,{click:function(t){a.m_listHandler.HandleClick(t)},keydown:function(t){a.m_listHandler.HandleKeydown(t)},mouseup:function(t){a._clearActiveState(t)},mouseover:function(t){if(e(t.target).closest("a."+a.getItemContentStyleClass()).length>0){var i=e(t.target).closest("a."+a.getItemContentStyleClass()),n=i.find("."+a.getItemLabelStyleClass());n[0].offsetWidth<n[0].scrollWidth&&!i.attr("title")&&(i.attr("title",n.text().trim()),i.data(a._IS_TITLE_ATTR_ADDED_DUE_TO_TRUNCATION,"true"))}},mouseout:function(t){if(e(t.target).closest("a."+a.getItemContentStyleClass()).length>0){var i=e(t.target).closest("a."+a.getItemContentStyleClass());i.data(a._IS_TITLE_ATTR_ADDED_DUE_TO_TRUNCATION)&&(i.removeData(a._IS_TITLE_ATTR_ADDED_DUE_TO_TRUNCATION),i.removeAttr("title")),a._clearActiveState(t)}}})},_initListHandler:function(){var e,i;i=this.ojContext.options.drillMode,e=this.ojContext.options.edge,i===this.OPTION_DRILL_MODE_SLIDING?this.m_listHandler=new t.SlidingNavListHandler(this,this.ojContext.element,this.ojContext):i===this.OPTION_DRILL_MODE_COLLAPSIBLE?this.m_listHandler=new t.CollapsibleNavListHandler(this,this.ojContext.element,this.ojContext):i!==this.OPTION_DRILL_MODE_NONE||e!==this.OPTION_EDGE_TOP&&e!==this.OPTION_EDGE_BOTTOM?this.m_listHandler=new t.DefaultNavListHandler(this,this.ojContext.element,this.ojContext):this.m_listHandler=new t.HorizontalNavListHandler(this,this.ojContext.element,this.ojContext),this.m_listHandler.Init(this.options);var n=this.ojContext.options.navigationLevel;this._setNavigationLevel(n)},_setNavigationLevel:function(t){"none"===this.ojContext.options.drillMode&&("application"===t||"oj-navigation-list"===this.ojContext.element[0].tagName.toLowerCase()?(this.ojContext.element.addClass(this._APPLICATION_LEVEL_NAV_STYLE_CLASS),this.ojContext.element.removeClass(this._PAGE_LEVEL_NAV_STYLE_CLASS)):"page"===t&&(this.ojContext.element.addClass(this._PAGE_LEVEL_NAV_STYLE_CLASS),this.ojContext.element.removeClass(this._APPLICATION_LEVEL_NAV_STYLE_CLASS)))},_clearActiveState:function(t){var i=this.FindItem(e(t.target));null!=i&&this.HighlightUnhighlightElem(i,"oj-active",!1)},afterCreate:function(){this._initListHandler(),i.superclass.afterCreate.apply(this,arguments)},getAnimationEffect:function(t){return this.m_listHandler.GetAnimationEffect(t)},notifyAttached:function(){i.superclass.notifyAttached.apply(this,arguments),this.m_listHandler.NotifyAttached()},HandleResize:function(t,e){i.superclass.HandleResize.apply(this,arguments),t>0&&e>0&&null!=this.m_listHandler&&this.m_listHandler.HandleResize(t,e)},BeforeInsertItem:function(){this.m_listHandler.BeforeInsertItem()},HandleMouseDownOrTouchStart:function(t){i.superclass.HandleMouseDownOrTouchStart.apply(this,arguments);var n=this.FindItem(e(t.target));n&&!n.hasClass("oj-disabled")&&this.HighlightUnhighlightElem(n,"oj-active",!0)},HandleTouchEndOrCancel:function(t){this._clearActiveState(t),i.superclass.HandleTouchEndOrCancel.apply(this,arguments)},getItemContentStyleClass:function(){return this.ITEM_CONTENT_STYLE_CLASS[this._getNavigationMode()]},getNavListExpandedStyleClass:function(){return this.NAVLIST_EXPANDED_STYLE_CLASS[this._getNavigationMode()]},getNavListCollapsibleStyleClass:function(){return this.NAVLIST_COLLAPSIBLE_STYLE_CLASS[this._getNavigationMode()]},getNavListVerticalStyleClass:function(){return this.NAVLIST_VERTICAL_STYLE_CLASS[this._getNavigationMode()]},getNavListItemsDividerStyleClass:function(){return this.NAVLIST_DIVIDERS_STYLE_CLASS[this._getNavigationMode()]},getLastItemStyleClass:function(){return this.LAST_ITEM_STYLE_CLASS[this._getNavigationMode()]},getDividerStyleClass:function(){return this.DIVIDER_STYLE_CLASS[this._getNavigationMode()]},getOverflowItemStyleClass:function(){return this.NAVLIST_OVERFLOW_MENU_ITEM[this._getNavigationMode()]},getOverflowMenuStyleClass:function(){return this.NAVLIST_OVERFLOW_MENU[this._getNavigationMode()]},getOverflowItemIconStyleClass:function(){return this.NAVLIST_OVERFLOW_ITEM_ICON[this._getNavigationMode()]},getCategoryDividerStyleClass:function(){return this._CATEGORY_DIVIDER_STYLE_CLASS[this._getNavigationMode()]},getItemLabelStyleClass:function(){return this._ITEM_LABEL_STYLE_CLASS[this._getNavigationMode()]},getIconOnlyStyleClass:function(){return this._ICON_ONLY_STYLE_CLASS[this._getNavigationMode()]},getItemIconStyleClass:function(){return this._ITEM_ICON_STYLE_CLASS[this._getNavigationMode()]},getHorizontalNavListStyleClass:function(){return this._HORIZONTAL_NAVLIST_STYLE_CLASS[this._getNavigationMode()]},getNavListEndEdgeStyleClass:function(){return this._NAVLIST_END_EDGE_STYLE_CLASS[this._getNavigationMode()]},getNavListBottomEdgeStyleClass:function(){return this._NAVLIST_BOTTOM_EDGE_STYLE_CLASS[this._getNavigationMode()]},getHasIconsStyleClass:function(){return this._NAVLIST_HAS_ICONS[this._getNavigationMode()]},getHasNoIconStyleClass:function(){return this._NAVLIST_ITEM_HAS_NO_ICON[this._getNavigationMode()]},getItemTitleStyleClass:function(){return this._NAVLIST_ITEM_TITLE[this._getNavigationMode()]},getNavListStyleClass:function(){return this._NAVLIST_STYLE_CLASS[this._getNavigationMode()]},getNavListTouchStyleClass:function(){return this._NAVLIST_TOUCH_STYLE_CLASS[this._getNavigationMode()]},getNavListContainerStyleClass:function(){return this._NAVLIST_LISTVIEW_CONTAINER_STYLE_CLASS[this._getNavigationMode()]},getNoFollowLinkStyleClass:function(){return this._NAVLIST_NO_FOLLOW_LINK_CLASS[this._getNavigationMode()]},getItemSubIdKey:function(){return this.isTabBar()?this.NAVLIST_ITEM_SUBID_KEY.tabbar:this.NAVLIST_ITEM_SUBID_KEY.navlist},GetContainerStyleClass:function(){return this._CONTAINER_STYLE_CLASS[this._getNavigationMode()]},GetStyleClass:function(){return this._ELEMENT_STYLE_CLASS[this._getNavigationMode()]},getEmptyTextMarkerClass:function(){return this._ELEMENT_EMPTY_TEXT_STYLE_CLASS[this._getNavigationMode()]},getEmptyTextStyleClass:function(){return this._ELEMENT_NO_DATA_MSG_STYLE_CLASS[this._getNavigationMode()]},getNavListRemoveIcon:function(){return"oj-tabbar-remove-icon"},getNavListRemoveCommand:function(){return"oj-tabbar-remove"},getRemovableStyleClass:function(){return"oj-removable"},getItemStyleClass:function(){return this._ITEM_STYLE_CLASS[this._getNavigationMode()]},getFocusedElementStyleClass:function(){return this._FOCUSED_ELEMENT_STYLE_CLASS[this._getNavigationMode()]},getItemElementStyleClass:function(){return this._ITEM_ELEMENT_STYLE_CLASS[this._getNavigationMode()]},getCollapseIconStyleClass:function(){return"oj-navigationlist-collapse-icon"},getExpandIconStyleClass:function(){return"oj-navigationlist-expand-icon"},getDepthStyleClass:function(t){return"oj-navigationlist-depth-"+t},getGroupItemStyleClass:function(){return"oj-navigationlist-group-item"},getGroupStyleClass:function(){return"oj-navigationlist-group"},getGroupExpandStyleClass:function(){return"oj-navigationlist-collapsible-transition"},getGroupCollapseStyleClass:function(){return this.getGroupExpandStyleClass()},getOptionDefaultsStyleClass:function(){return this._OPTION_DEFAULT_STYLE_CLASS[this._getNavigationMode()]},AnimateExpand:function(t,e,i){return this.m_listHandler.Expand(t,e,i)},AnimateCollapse:function(t,e,i,n){return this.m_listHandler.Collapse(t,e,i,n)},HandleArrowKeys:function(t,e,i){return this.m_listHandler.HandleArrowKeys(t,e,i)},IsArrowKey:function(t){return this.m_listHandler.IsArrowKey(t)},GetState:function(t){return this.m_listHandler.GetState(t)},SetState:function(t,e){this.m_listHandler.SetState(t,e)},HandleMouseClick:function(t){var n=e(t.target),s=this.FindItem(n);if(null!=s&&0!==s.length)if(n.hasClass(this.getNavListRemoveIcon())&&this.isTabBar())this._handleRemove(t,s);else if(this.SkipFocus(s))t.preventDefault();else if(!this.IsNodeEditableOrClickable(n)){var a=this.getItemContentElement(s).attr("href");a&&"#"!==a&&0===t.button&&(t.shiftKey||t.ctrlKey)||(i.superclass.HandleMouseClick.apply(this,arguments),t.preventDefault())}},HandleKeyDown:function(t){var i,n,s,a;if(this.m_active)if(i=t.keyCode,n=this.m_active.elem,s=this.m_active.key,i===e.ui.keyCode.HOME||i===e.ui.keyCode.END)a=i===e.ui.keyCode.HOME?this.element.find("."+this.getItemContentStyleClass()+":visible").first().closest("."+this.getItemElementStyleClass()):this.element.find("."+this.getItemContentStyleClass()+":visible").last().closest("."+this.getItemElementStyleClass()),this.SetCurrentItem(a,t),t.preventDefault();else if(i===e.ui.keyCode.DELETE&&this.isTabBar())this._handleRemove(t,n);else{var o=this.HandleSelectionOrActiveKeyDown(t),l=this.m_listHandler.HandleExpandAndCollapseKeys(t,i,n,s);(o=o||l||null!=this.m_dndContext&&this.m_dndContext.HandleKeyDown(t))&&t.preventDefault()}},AvoidFocusHighLight:function(t){this._avoidFocusHighLight=t},RecentPointerCallback:function(){var t=this;return function(){return!!t._avoidFocusHighLight}},ShouldApplyHighlight:function(){return!0},ToggleSelection:function(t,e,n){var s=this.m_active.elem;this.IsSelectable(s[0])&&(this._isSelected(s)||this._fireBeforeSelectEvent(t,s)&&(i.superclass.ToggleSelection.apply(this,arguments),this._initiateNavigation(s)))},HighlightUnhighlightElem:function(t,i,n){var s;t=e(t),"oj-selected"===i&&this.m_listHandler.UpdateAriaPropertiesOnSelectedItem(this.getFocusItem(t),n),(s=t.children("."+this.getGroupItemStyleClass())).length>0&&(t=e(s[0])),"oj-focus"===i?n?this._focusInHandler(t):this._focusOutHandler(t):n?t.addClass(i):t.removeClass(i),t.hasClass("oj-selected")||t.hasClass("oj-hover")||t.hasClass("oj-active")||t.hasClass("oj-disabled")?t.removeClass("oj-default"):t.addClass("oj-default")},IsSelectable:function(t){return!e(t).hasClass("oj-disabled")&&this.m_listHandler.IsSelectable(e(t))},Trigger:function(t,e,i){return"ready"===t||this.ojContext._trigger(t,e,i)},SetOption:function(t,e,i){if(this.m_listHandler.IsOptionUpdateAllowed(t,e,i)){var n=null;if("selection"===t){var s=i._context,a=s&&s.extraData&&s.extraData.items;a&&(s.extraData.item=this.ojContext._IsCustomElement()?0===a.length?null:a[0]:a,s.extraData.items=void 0),e&&e.length>0&&(n=e[0]),this._fireDeselectEvent(s.originalEvent,a,e)}else n=e;this.ojContext.option(t,n,i),this.options[t]=e,this.m_listHandler.OptionUpdated(t,n,i)}},ShouldRefresh:function(t){return null!=t.data||null!=t.drillMode||null!=t.item||null!=t.display||null!=t.edge},setOptions:function(t,e){var n,s={skipOptions:[]};return this.m_listHandler.SetOptions(t),void 0!==t.navigationLevel&&this._setNavigationLevel(t.navigationLevel),void 0!==t.selection&&(n=t.selection),s.needRefresh=i.superclass.setOptions.call(this,t,e),void 0!==n&&void 0===t.selection&&s.skipOptions.push("selection"),void 0!==n&&(t.selection=n),s},compareValues:function(e,i){return e==i||t.Object.compareValues(e,i)},HandleSelectionOption:function(t){var n;if(void 0!==t.selection)if(n=t.selection){var s=this.GetOption("selection");if(s&&0!==s.length&&this.compareValues(s[0],n))delete t.selection;else{var a=this.FindElementByKey(n);(!a||this.IsSelectable(a))&&this._fireBeforeSelectEvent(null,e(a),n)?(this._fireDeselectEvent(null,a,n),t.selection=[n],a&&this._initiateNavigation(e(a))):delete t.selection}}else t.selection=[];i.superclass.HandleSelectionOption.call(this,t)},GetOption:function(t){var e=this.ojContext.option(t);return"selection"===t?e?[e]:[]:("item"!==t||e.focusable||(e.focusable=this._focusable),null===e?this.options[t]:e)},getWidgetConstructor:function(){return t.Components.__GetWidgetConstructor(this.ojContext.element)},SelectAndFocus:function(t,e){t.hasClass("oj-disabled")||this.IsSelectable(t[0])&&(!this._isSelected(t)&&this._fireBeforeSelectEvent(e,t)?(i.superclass.SelectAndFocus.apply(this,arguments),this._initiateNavigation(t)):this.HandleClickActive(t,e))},isTabBar:function(){return this.ojContext.element[0].tagName.toLowerCase()===this.TAG_NAME_TAB_BAR},_fireBeforeDeselectEvent:function(t,e,i){i||(i=this.GetKey(e[0]));var n=this.GetOption("selection"),s=this.FindElementByKey(n);return this.Trigger("beforeDeselect",t,{toItem:e,toKey:i,fromItem:s,fromKey:n})},_fireBeforeSelectEvent:function(t,e,i){var n=!0;return i||(i=this.GetKey(e[0])),this.isTabBar()&&(n=this._fireBeforeDeselectEvent(t,e,i)),n&&this.Trigger("beforeSelect",t,{item:e,key:i})},_fireRemoveEvent:function(t,e){var i=this.GetKey(e[0]);return this.Trigger("beforeRemove",t,{item:e,key:i})&&this.Trigger("remove",t,{item:e,key:i})},_fireDeselectEvent:function(t,e,i){var n=this.GetOption("selection"),s=this.FindElementByKey(n);this.Trigger("deselect",t,{toItem:e,toKey:i,fromItem:s,fromKey:n})},_initiateNavigation:function(t){if(this.ojContext.element.hasClass(this.getNoFollowLinkStyleClass()))return!1;var e=this.getItemContentElement(t),i=e.attr("href"),n=e.attr("target");return!(!i||"#"===i||(n&&"_self"!==n?window.open(i,n):window.location.href=i,0))},_isSelected:function(t){var e,i;return e=this.GetOption("selection"),i=this.GetKey(t[0]),!(!e||1!==e.length||!this.compareValues(e[0],i))},_setToolTipOnIcon:function(t,e){t.attr("title")||t.attr("title",e)},_removeToolTipOnIcon:function(t){t.data(this._NAVLIST_ITEM_ICON_HAS_TITLE)?t.removeData(this._NAVLIST_ITEM_ICON_HAS_TITLE):t.removeAttr("title")},getSingleFocusableElement:function(t){var i,n,s=this;return i="a, input, select, textarea, button",1===(n=t.children(i).filter(function(t){return!e(this).hasClass(s.getNavListRemoveIcon())})).length&&0===n.first().find(i).length?n.first():t},PrepareContextMenu:function(t){null!=this.m_dndContext&&this.m_dndContext.prepareContextMenu(this.ojContext._GetContextMenu());var i=this.ojContext._GetContextMenu();if(t.hasClass(this.getRemovableStyleClass())&&i){this.m_contextMenu!=i&&(this.m_contextMenu=i,i.addEventListener("ojBeforeOpen",this._handleContextMenuBeforeOpen.bind(this)),i.addEventListener("ojAction",this._handleContextMenuSelect.bind(this)));var n=e(i).find("[data-oj-command="+this.getNavListRemoveCommand()+"]"),s=this.ojContext.getTranslatedString("labelRemove");this.ojContext._IsCustomElement()?n.empty().append(document.createTextNode(s)):n.empty().append(e('<a href="#"></a>').text(s)),i.refresh()}},_handleContextMenuSelect:function(t,i){e(t.target).attr("data-oj-command")===this.getNavListRemoveCommand()&&this._handleRemove(t,this.m_contextMenuItem)},_handleContextMenuBeforeOpen:function(t){this.m_contextMenuItem=t.detail.openOptions.launcher},_handleRemove:function(t,e){e.hasClass(this.getRemovableStyleClass())&&this._fireRemoveEvent(t,e)},_wrapInner:function(t,e){for(var i=t.childNodes;i.length>0;)e.appendChild(i[0]);t.appendChild(e)},itemRenderComplete:function(t,n){var s=e(t);if(s.hasClass(this.getCategoryDividerStyleClass()))return s.removeClass(this.getItemElementStyleClass()),s.removeClass(this.getFocusedElementStyleClass()),s.removeClass(this.getItemStyleClass()),s.removeAttr("aria-selected"),s.children().remove(),void s.attr("role","separator");var a,o=this.getGroupItemStyleClass(),l=this.getCollapseIconStyleClass(),r=this.getExpandIconStyleClass(),d=this.getItemIconStyleClass(),h=s.children("."+o);if(h.length>0){h.addClass(this.getItemStyleClass()),a=h.children(":not(."+r+"):not(."+l+")");var _=h.children("."+r);0===_.length&&(_=h.children("."+l)),_.attr("role","presentation"),_.removeAttr("aria-labelledby"),s.hasClass("oj-disabled")&&h.addClass("oj-disabled")}else a=s.children().first();if(a.length>0){a.addClass(this.getItemContentStyleClass());var u=a.find("."+d),m=document.createElement("span");if(m.classList.add(this.getItemLabelStyleClass()),this._wrapInner(a[0],m),u.length>0){if(u.insertBefore(m),u.attr("title")&&u.data(this._NAVLIST_ITEM_ICON_HAS_TITLE,u.attr("title")),"icons"===this.ojContext.options.display){this.ojContext.element.addClass(this.getIconOnlyStyleClass());var c=this.getItemLabel(s);u.attr("aria-label",c),u.attr("role","img"),this._setToolTipOnIcon(u,c)}s.closest("ul").addClass(this.getHasIconsStyleClass())}else a.addClass(this.getHasNoIconStyleClass())}if(s.hasClass("oj-disabled")?this.getFocusItem(s).attr("aria-disabled","true"):h.length>0?h.addClass("oj-default"):s.addClass("oj-default"),s.hasClass(this.getRemovableStyleClass())&&this.isTabBar()){var v=e("<a>");v.addClass(this.getNavListRemoveIcon()).addClass("oj-clickable-icon-nocontext oj-component-icon").attr("aria-label",this.ojContext.getTranslatedString("removeCueText")).attr("role","presentation").attr("aria-hidden","true"),s.append(v),a.attr("aria-describedby",v.uniqueId().attr("id"))}this.m_listHandler.ModifyListItem(s,a),i.superclass.itemRenderComplete.apply(this,arguments)},DestroyContentHandler:function(){null===this.GetOption("data")&&this._restoreContent(this.element),i.superclass.DestroyContentHandler.apply(this,arguments)},getNodeBySubId:function(t){var e,i=null;return null==t?this.ojContext.element?this.ojContext.element[0]:null:((i=this.m_listHandler.GetNodeBySubId(t))||t.subId===this.getItemSubIdKey()&&(e=t.key,i=this.FindElementByKey(e)),i)},getSubIdByNode:function(t){var e,i,n=null;return null!=t&&((n=this.m_listHandler.GetSubIdByNode(t))||null!=(e=this.FindItem(t))&&e.length>0&&null!=(i=this.GetKey(e[0]))&&(n={subId:this.getItemSubIdKey(),key:i})),n},getContextByNode:function(t){var e=i.superclass.getContextByNode.call(this,t);return e&&"oj-listview-item"==e.subId?(e.subId=this.getItemSubIdKey(),e):null},refresh:function(){this._resetNavlist(),this._initListHandler(),i.superclass.refresh.apply(this,arguments)},_resetNavlist:function(){this.ojContext.element.removeClass(this.getIconOnlyStyleClass()),this.ojContext.element.removeClass(this._APPLICATION_LEVEL_NAV_STYLE_CLASS),this.ojContext.element.removeClass(this._PAGE_LEVEL_NAV_STYLE_CLASS),this._restoreContent(this.element),this.m_listHandler.Destroy()},destroy:function(){this._resetNavlist(),i.superclass.destroy.apply(this,arguments),this._list.unwrap(),this._list.is(":empty")&&this._list.remove(),this.ojContext.element.removeClass(this.getNavListStyleClass()+" "+this.getNavListTouchStyleClass()),this.ojContext._off(this.element,"click"),this.ojContext._off(this.element,"focus"),this.ojContext._off(this.element,"blur"),this.ojContext._off(this.element,"mouseover"),this.ojContext._off(this.element,"mousein"),this.ojContext._off(this.element,"mouseout"),this.ojContext._off(this.element,"keydown")}});t.__registerWidget("oj.ojNavigationList",e.oj.baseComponent,{widgetEventPrefix:"oj",options:{currentItem:null,drillMode:"none",reorderable:"disabled",truncation:"none",edge:"start",hierarchyMenuDisplayThresholdLevel:0,rootLabel:null,selection:null,expanded:new t._ojListViewExpandedKeySet,data:null,display:"all",navigationLevel:"page",overflow:"hidden",item:{renderer:null,selectable:!0},animateStart:null,animateEnd:null,beforeSelect:null,beforeCollapse:null,beforeCurrentItem:null,beforeDeselect:null,collapse:null,deselect:null,beforeExpand:null,expand:null,reorder:null},_ComponentCreate:function(){this._super(),this._setup()},_AfterCreate:function(){this._super();var t=this;this.navlist._FixRendererContext=function(e){return t._FixRendererContext(e)},this.navlist._WrapCustomElementRenderer=function(e){return t._WrapCustomElementRenderer(e)},this.navlist.afterCreate()},_NotifyContextMenuGesture:function(t,e,i){this.navlist.notifyContextMenuGesture(t,e,i)},_setup:function(){var t,n;for(t in this.navlist=new i,this.options)this._validateOptionValues(t,this.options[t]);this._validateOptionsForIconsOnlyAndHorizontalList(this.options[this.navlist.OPTION_DRILL_MODE],this.options[this.navlist.OPTION_DISPLAY],this.options[this.navlist.OPTION_EDGE]),(n={}).ojContext=this,n=e.extend(this.options,n),this.navlist.init(n)},getNodeBySubId:function(t){return this.navlist.getNodeBySubId(t)},getSubIdByNode:function(t){return this.navlist.getSubIdByNode(t)},getContextByNode:function(t){return this.navlist.getContextByNode(t)},expand:function(t,e,i){this.navlist.expandKey(t,e,!0,!0,i)},collapse:function(t,e,i){this.navlist.collapseKey(t,e,!0,i)},getExpanded:function(){return this.navlist.getExpanded()},_validateOptionsForIconsOnlyAndHorizontalList:function(t,e,i){if(t!==this.navlist.OPTION_DRILL_MODE_NONE){if(e===this.navlist.OPTION_DISPLAY_ICONS)throw"Icon only navigation list should have drillMode set to 'none'.";if(i===this.navlist.OPTION_EDGE_TOP)throw"Horizontal navigation list should have drillMode set to 'none'."}},_validateOptionValues:function(t,e){var i=!0;if(t===this.navlist.OPTION_DRILL_MODE?i=e===this.navlist.OPTION_DRILL_MODE_NONE||e===this.navlist.OPTION_DRILL_MODE_COLLAPSIBLE||e===this.navlist.OPTION_DRILL_MODE_SLIDING:t===this.navlist.OPTION_DISPLAY?i=e===this.navlist.OPTION_DISPLAY_ALL||e===this.navlist.OPTION_DISPLAY_ICONS:t===this.navlist.OPTION_EDGE&&(i=this.element[0].tagName.toLowerCase()===this.navlist.TAG_NAME_TAB_BAR?e===this.navlist.OPTION_EDGE_TOP||e===this.navlist.OPTION_EDGE_START||e===this.navlist.OPTION_EDGE_END||e===this.navlist.OPTION_EDGE_BOTTOM:e===this.navlist.OPTION_EDGE_TOP||e===this.navlist.OPTION_EDGE_START),!i)throw"Invalid value: "+e+" for key: "+t},_setOption:function(t,i){var n,s;switch(this._validateOptionValues(t,i),t){case this.navlist.OPTION_DRILL_MODE:this._validateOptionsForIconsOnlyAndHorizontalList(i,this.options[this.navlist.OPTION_DISPLAY],this.options[this.navlist.OPTION_EDGE]);break;case this.navlist.OPTION_DISPLAY:this._validateOptionsForIconsOnlyAndHorizontalList(this.options[this.navlist.OPTION_DRILL_MODE],i,this.options[this.navlist.OPTION_EDGE]);break;case this.navlist.OPTION_EDGE:
this._validateOptionsForIconsOnlyAndHorizontalList(this.options[this.navlist.OPTION_DRILL_MODE],this.options[this.navlist.OPTION_DISPLAY],i);break;case this.navlist.OPTION_SELECTION:case this.navlist.OPTION_CURRENT_ITEM:s=this.navlist.getItems([i])[0],n={_context:{extraData:{item:this._IsCustomElement()?s:e(s)}}}}return n?this._super(t,i,n):this._super(t,i)},_setOptions:function(t,e){var i,n=this.navlist.setOptions(t,e),s={};for(i in t)n.skipOptions.indexOf(i)<0&&(s[i]=t[i]);return this._super(s,e),n.needRefresh&&this.navlist.refresh(),this},_NotifyAttached:function(){this.navlist.notifyAttached()},_NotifyDetached:function(){this.navlist.notifyDetached()},_NotifyShown:function(){this.navlist.notifyShown()},_VerifyConnectedForSetup:function(){return!0},refresh:function(){this._super(),this.navlist.refresh()},whenReady:function(){return this.navlist.whenReady()},_SetupResources:function(){this._super(),this.navlist.setupResources()},_ReleaseResources:function(){this._super(),this.navlist.releaseResources()},_destroy:function(){this.navlist.destroy(),this._super()},_CompareOptionValues:function(e,i,n){switch(e){case"currentItem":case"selection":return t.Object.compareValues(i,n);default:return this._super(e,i,n)}}}),t.Components.setDefaultOptions({ojNavigationList:{hierarchyMenuDisplayThresholdLevel:t.Components.createDynamicPropertyGetter(function(){return(t.ThemeUtils.parseJSONFromFontFamily("oj-navigationlist-option-defaults")||{}).hierarchyMenuDisplayThresholdLevel})}}),t.CustomElementBridge.registerMetadata("oj-navigation-list","baseComponent",{properties:{currentItem:{type:"any",writeback:!0},data:{},display:{type:"string",enumValues:["all","icons"]},drillMode:{type:"string",enumValues:["sliding","collapsible","none"]},expanded:{type:"object",writeback:!0},edge:{type:"string",enumValues:["top","start"]},hierarchyMenuThreshold:{type:"number"},item:{type:"object",properties:{renderer:{},selectable:{}}},overflow:{type:"string",enumValues:["popup","hidden"]},rootLabel:{type:"string"},selection:{type:"any",writeback:!0},translations:{type:"Object",properties:{defaultRootLabel:{type:"string",value:"Navigation List"},hierMenuBtnLabel:{type:"string",value:"Hierarchical Menu button"},previousIcon:{type:"string",value:"Previous"}}}},events:{animateEnd:{},animateStart:{},beforeCollapse:{},beforeCurrentItem:{},beforeExpand:{},beforeSelect:{},collapse:{},expand:{}},methods:{getContextByNode:{}},extension:{_ALIASED_PROPS:{hierarchyMenuThreshold:"hierarchyMenuDisplayThresholdLevel"},_WIDGET_NAME:"ojNavigationList"}}),t.CustomElementBridge.register("oj-navigation-list",{metadata:t.CustomElementBridge.getMetadata("oj-navigation-list")}),t.CustomElementBridge.registerMetadata("oj-tab-bar","baseComponent",{properties:{currentItem:{type:"any",writeback:!0},data:{},display:{type:"string",enumValues:["all","icons"]},reorderable:{type:"string",enumValues:["enabled","disabled"]},truncation:{type:"string",enumValues:["none","progressive"]},edge:{type:"string",enumValues:["top","start","end","bottom"]},item:{type:"object",properties:{renderer:{},selectable:{}}},overflow:{type:"string",enumValues:["popup","hidden"]},selection:{type:"any",writeback:!0},translations:{type:"Object",properties:{accessibleReorderAfterItem:{type:"string",value:"After {item}"},accessibleReorderBeforeItem:{type:"string",value:"Before {item}"},accessibleReorderTouchInstructionText:{type:"string",value:"Double tap and hold.  Wait for the sound then drag to rearrange."},labelCut:{type:"string",value:"Cut"},labelPasteAfter:{type:"string",value:"Paste After"},labelPasteBefore:{type:"string",value:"Paste Before"},labelRemove:{type:"string",value:"Remove"},msgFetchingData:{type:"string",value:"Fetching Data..."},msgNoData:{type:"string",value:"No items to display."},overflowItemLabel:{type:"string",value:"More"},removeCueText:{type:"string",value:"Removable"},selectedLabel:{type:"string",value:"selected"}}}},events:{animateEnd:{},animateStart:{},beforeCurrentItem:{},beforeSelect:{},beforeRemove:{},remove:{},beforeDeselect:{},deselect:{},reorder:{}},methods:{getContextByNode:{}},extension:{_WIDGET_NAME:"ojNavigationList"}}),t.CustomElementBridge.register("oj-tab-bar",{metadata:t.CustomElementBridge.getMetadata("oj-tab-bar")})});
define('ojs/ojjsontreedatasource',["ojs/ojcore","jquery","ojs/ojdatasource-common"],function(e,t){e.JsonNodeSet=function(t,r,n,i,o){e.Assert.assertNumber(t,null),e.Assert.assertNumber(r,null),this.m_depth=o,this.m_key=i,this.m_startNode=t,this.m_endNode=r,this.m_nodes=n},e.JsonNodeSet.prototype.getParent=function(){return this.m_key},e.JsonNodeSet.prototype.getStart=function(){return this.m_startNode},e.JsonNodeSet.prototype.getCount=function(){return Math.max(0,this.m_endNode-this.m_startNode)},e.JsonNodeSet.prototype.getData=function(t){return e.Assert.assert(t<=this.m_endNode&&t>=this.m_startNode),t-=this.m_startNode,this.m_nodes[t]?this.m_nodes[t].attr:null},e.JsonNodeSet.prototype.getMetadata=function(t){var r={leaf:!1,depth:-1};return e.Assert.assert(t<=this.m_endNode&&t>=this.m_startNode),t-=this.m_startNode,r.key=this.m_nodes[t].id?this.m_nodes[t].id:this.m_nodes[t].attr.id,r.leaf=this.m_nodes[t].leaf,r.depth=this.m_nodes[t].depth,null==r.leaf&&(this.m_nodes[t].children&&this.m_nodes[t].children.length>0?r.leaf=!1:r.leaf=!0),r},e.JsonNodeSet.prototype._updateDepth=function(e,t){var r;if(t++,e.depth=t,e.children&&0!=e.children.length)for(r=0;r<e.children.length;r++)this._updateDepth(e.children[r],t)},e.JsonNodeSet.prototype.getChildNodeSet=function(t){var r,n,i,o;if(e.Assert.assert(t<=this.m_endNode&&t>=this.m_startNode),t-=this.m_startNode,i=this.m_nodes[t].depth,null==(r=this.m_nodes[t].children)||0==r.length)return null;for(n=this.m_nodes[t].id?this.m_nodes[t].id:this.m_nodes[t].attr.id,o=0;o<r.length;o++)this._updateDepth(r[o],i);return new e.JsonNodeSet(0,r.length,r,n,0)},e._JsonTreeNodeDataSource=function(){this.id=null,this.depth=0,this.parent=null,this.children=null,this.title=null,this.attr=null,this.leaf=null},e._JsonTreeNodeDataSource.prototype._ascending=function(e){return function(t,r){return null!=t.attr&&null!=r.attr&&null!=t.attr[e]&&null!=r.attr[e]?t.attr[e]<r.attr[e]?-1:t.attr[e]===r.attr[e]?0:1:t[e]<r[e]?-1:t[e]===r[e]?0:1}},e._JsonTreeNodeDataSource.prototype._descending=function(e){return function(t,r){return null!=t.attr&&null!=r.attr&&null!=t.attr[e]&&null!=r.attr[e]?t.attr[e]<r.attr[e]?1:t.attr[e]===r.attr[e]?0:-1:t[e]<r[e]?1:t[e]===r[e]?0:-1}},e._JsonTreeNodeDataSource.prototype._sortRecursive=function(e){var t=e.key;if(null==this.children)return this;"ascending"===e.direction?this.children.sort(this._ascending(t)):"descending"===e.direction&&this.children.sort(this._descending(t));for(var r=0,n=this.children.length;r<n;r++)this.children[r]._sortRecursive(e);return this},e.JsonTreeDataSource=function(t){var r;r=new e._JsonTreeNodeDataSource,null==t.id&&(r.id="root"),this.data=this._createTreeDataSource({count:0},r,t),e.JsonTreeDataSource.superclass.constructor.call(this,r)},e.Object.createSubclass(e.JsonTreeDataSource,e.TreeDataSource,"oj.JsonTreeDataSource"),e.JsonTreeDataSource.prototype.Init=function(){e.JsonTreeDataSource.superclass.Init.call(this)},e.JsonTreeDataSource.prototype._createTreeDataSource=function(t,r,n,i){var o,l,s,d,a,h,c;for(d in null==i&&(i=0),n)if("children"==d||0==i&&n instanceof Array)for(o=0==i&&n instanceof Array?n:n[d],r.children=[],i++,c=0;c<o.length;c++){for(a in s=o[c],l=new e._JsonTreeNodeDataSource,null==s.id&&(t.count++,null==s.attr?l.id="rid_"+t.count:null==s.attr.id&&(s.attr.id="rid_"+t.count)),s)for(h in l)a==h&&"children"!=a&&(l[h]=s[a]),"depth"==h&&(l[h]=i);for(h in r.children.push(l),s)"children"==h&&this._createTreeDataSource(t,r.children[c],s,i)}return r},e.JsonTreeDataSource.prototype.getChildCount=function(e){var t;return null==e&&(e=this.data.id),(t=this._searchTreeById(this.data,e)).children?t.children.length:0},e.JsonTreeDataSource.prototype.fetchChildren=function(t,r,n,i){var o,l,s,d,a,h,c,u;for(a=[],null==t&&(t=this.data.id),c=null!=(h=this._searchTreeById(this.data,t)).children?h.children.length:0,r||((r=[]).start=0,r.count=c),r.count||(r.count=c),r.start||(r.start=0),l=r.start,s=Math.min(c,l+r.count),o=l;o<s;o+=1)u=new e._JsonTreeNodeDataSource,null!=h.children[o].attr&&(u.attr=h.children[o].attr),null!=h.children[o].id&&(u.id=h.children[o].id),null!=h.children[o].depth&&(u.depth=h.children[o].depth),null!=h.children[o].title&&(u.title=h.children[o].title),null!=h.children[o].parent&&(u.parent=h.children[o].parent),null!=h.children[o].children?u.leaf=!1:u.leaf=!0,a.push(u);d=new e.JsonNodeSet(l,s,a,t,h.depth),null!=n&&null!=n.success&&n.success.call(null,d)},e.JsonTreeDataSource.prototype.fetchDescendants=function(t,r,n){var i,o,l,s,d,a,h,c;for(a=[],null==t&&(t=this.data.id),c=null!=(h=this._searchTreeById(this.data,t)).children?h.children.length:0,(i=[]).start=0,i.count=c,l=i.start,s=Math.min(c,l+i.count),o=l;o<s;o+=1)null!=h.children[o].children?h.children[o].leaf=!1:h.children[o].leaf=!0,a.push(h.children[o]);d=new e.JsonNodeSet(0,a.length,a,t,h.depth),null!=r&&null!=r.success&&r.success.call(null,d)},e.JsonTreeDataSource.prototype.moveOK=function(e,t,r){return"valid"},e.JsonTreeDataSource.prototype.move=function(t,r,n,i){var o,l,s,d,a,h,c;if(a=n,s=t,null==(d=r)||d==this.data.id){if("inside"!=a)return void e.Logger.log("Error: root can not be the reference node if position equals to "+a);d||(d=this.data.id)}o=this._searchTreeById(null,s),this._searchTreeById(o,d)?e.Logger.log("Error: the node to move contains the reference node as its sub-tree."):(l=this._searchTreeById(null,d),h=this._getParentById(d),this._removeFromTree(o),"inside"==a?(this._updateDepth(o,o.depth-(l.depth+1)),null==l.children&&(l.children=[]),l.children.push(o)):"before"==a?(this._updateDepth(o,o.depth-l.depth),(c=h.children.indexOf(l))>-1&&(0!=c?h.children.splice(c,0,o):h.children.unshift(o))):"after"==a?(this._updateDepth(o,o.depth-l.depth),(c=h.children.indexOf(l))>-1&&h.children.splice(c+1,0,o)):"first"==a?(this._updateDepth(o,o.depth-l.depth),h.children.unshift(o)):"last"==a&&(this._updateDepth(o,o.depth-l.depth),h.children.push(o)),null!=i&&null!=i.success&&i.success.call(null,this.data))},e.JsonTreeDataSource.prototype.sort=function(e,t){var r,n;n=this.data.id,(r=this._searchTreeById(this.data,n))._sortRecursive(e),null!=t&&null!=t.success&&t.success.call(null,r)},e.JsonTreeDataSource.prototype.getSortCriteria=function(){return{key:null,direction:"none"}},e.JsonTreeDataSource.prototype._getParentById=function(e,t){var r,n=null,i=!1;if(e==this.data.id)return null;if(null==t&&(t=this.data),t.children&&t.children.length>0){for(r=0;r<t.children.length;r++)if(t.children[r].id&&t.children[r].id==e||t.children[r].attr&&t.children[r].attr.id==e)return i=!0,t;if(!i)for(r=0;r<t.children.length;r++)if(n=this._getParentById(e,t.children[r]))return i=!0,n}return n},e.JsonTreeDataSource.prototype._searchTreeById=function(e,t){var r,n=null;if(null==e&&(e=this.data),e.id&&e.id==t||e.attr&&e.attr.id==t)return e;if(null!=e.children){for(r=0;r<e.children.length;r++){if(n)return n;n=e.children[r].id&&e.children[r].id==t||e.children[r].attr&&e.children[r].attr.id==t?e.children[r]:this._searchTreeById(e.children[r],t)}return n}return n},e.JsonTreeDataSource.prototype._updateDepth=function(e,t){var r;if(e.depth=e.depth-t,e.children&&0!=e.children.length)for(r=0;r<e.children.length;r++)this._updateDepth(e.children[r],t)},e.JsonTreeDataSource.prototype._removeFromTree=function(e){var t,r,n;null!=e.id?n=e.id:null!=e.attr&&(n=e.attr.id),(t=this._getParentById(n))||(t=this.data),(r=t.children.indexOf(e))>-1&&t.children.splice(r,1)},e.JsonTreeDataSource.prototype.getCapability=function(e){return"fetchDescendants"===e?"enable":"sort"===e?"default":"batchFetch"===e?"disable":"move"===e?"full":null}});
define('ojs/ojoffcanvas',["ojs/ojcore","jquery","hammerjs","promise","ojs/ojjquery-hammer","ojs/ojcomponentcore"],function(a,s,t){a.OffcanvasUtils={},a.OffcanvasUtils._DATA_EDGE_KEY="oj-offcanvasEdge",a.OffcanvasUtils._DATA_OFFCANVAS_KEY="oj-offcanvas",a.OffcanvasUtils._DATA_MEDIA_QUERY_KEY="oj-mediaQueryListener",a.OffcanvasUtils._DATA_HAMMER_KEY="oj-offcanvasHammer",a.OffcanvasUtils._DATA_STYLE_KEY="oj-offcanvasStyle",a.OffcanvasUtils.SELECTOR_KEY="selector",a.OffcanvasUtils.CONTENT_KEY="content",a.OffcanvasUtils.EDGE_START="start",a.OffcanvasUtils.EDGE_END="end",a.OffcanvasUtils.EDGE_TOP="top",a.OffcanvasUtils.EDGE_BOTTOM="bottom",a.OffcanvasUtils.DISPLAY_MODE_KEY="displayMode",a.OffcanvasUtils.DISPLAY_MODE_PUSH="push",a.OffcanvasUtils.DISPLAY_MODE_OVERLAY="overlay",a.OffcanvasUtils.DISPLAY_MODE_PIN="pin",a.OffcanvasUtils.MODALITY_KEY="modality",a.OffcanvasUtils.MODALITY_NONE="none",a.OffcanvasUtils.MODALITY_MODAL="modal",a.OffcanvasUtils.DISMISS_HANDLER_KEY="_dismissHandler",a.OffcanvasUtils.OPEN_PROMISE_KEY="_openPromise",a.OffcanvasUtils.CLOSE_PROMISE_KEY="_closePromise",a.OffcanvasUtils.GLASS_PANE_KEY="_glassPane",a.OffcanvasUtils.SURROGATE_KEY="_surrogate",a.OffcanvasUtils.ANIMATE_WRAPPER_KEY="_animateWrapper",a.OffcanvasUtils.ANIMATE_KEY="_animate",a.OffcanvasUtils.SURROGATE_ATTR="data-oj-offcanvas-surrogate-id",a.OffcanvasUtils.OUTER_WRAPPER_SELECTOR="oj-offcanvas-outer-wrapper",a.OffcanvasUtils.OPEN_SELECTOR="oj-offcanvas-open",a.OffcanvasUtils.TRANSITION_SELECTOR="oj-offcanvas-transition",a.OffcanvasUtils.PIN_WRAPPER_SELECTOR="oj-offcanvas-pin",a.OffcanvasUtils.PIN_TRANSITION_SELECTOR="oj-offcanvas-pin-transition",a.OffcanvasUtils.GLASSPANE_SELECTOR="oj-offcanvas-glasspane",a.OffcanvasUtils.GLASSPANE_DIM_SELECTOR="oj-offcanvas-glasspane-dim",a.OffcanvasUtils.VETO_BEFOREOPEN_MSG="ojbeforeopen veto",a.OffcanvasUtils.VETO_BEFORECLOSE_MSG="ojbeforeclose veto",a.OffcanvasUtils._shiftSelector={start:"oj-offcanvas-shift-start",end:"oj-offcanvas-shift-end",top:"oj-offcanvas-shift-down",bottom:"oj-offcanvas-shift-up"},a.OffcanvasUtils._drawerSelector={start:"oj-offcanvas-start",end:"oj-offcanvas-end",top:"oj-offcanvas-top",bottom:"oj-offcanvas-bottom"},a.OffcanvasUtils._getDisplayMode=function(s){var t=s[a.OffcanvasUtils.DISPLAY_MODE_KEY];return t!==a.OffcanvasUtils.DISPLAY_MODE_OVERLAY&&t!==a.OffcanvasUtils.DISPLAY_MODE_PUSH&&t!==a.OffcanvasUtils.DISPLAY_MODE_PIN&&(t=(a.ThemeUtils.parseJSONFromFontFamily("oj-offcanvas-option-defaults")||{}).displayMode),t},a.OffcanvasUtils._getDrawer=function(t){return s(t[a.OffcanvasUtils.SELECTOR_KEY])},a.OffcanvasUtils._isModal=function(s){return s[a.OffcanvasUtils.MODALITY_KEY]===a.OffcanvasUtils.MODALITY_MODAL},a.OffcanvasUtils._isOpen=function(s){return s.hasClass(a.OffcanvasUtils.OPEN_SELECTOR)},a.OffcanvasUtils._getOuterWrapper=function(s){return s.closest("."+a.OffcanvasUtils.OUTER_WRAPPER_SELECTOR)},a.OffcanvasUtils._getAnimateWrapper=function(s){var t=a.OffcanvasUtils._getDrawer(s);return a.OffcanvasUtils._noInnerWrapper(s)||s[a.OffcanvasUtils.DISPLAY_MODE_KEY]===a.OffcanvasUtils.DISPLAY_MODE_OVERLAY?t:s[a.OffcanvasUtils.ANIMATE_WRAPPER_KEY]?t.closest("."+s[a.OffcanvasUtils.ANIMATE_WRAPPER_KEY]):t.parent()},a.OffcanvasUtils._getShiftSelector=function(s){var t=a.OffcanvasUtils._shiftSelector[s];if(!t)throw new Error("Invalid edge: "+s);return t},a.OffcanvasUtils._isRTL=function(){return"rtl"===a.DomUtils.getReadingDirection()},a.OffcanvasUtils._setTransform=function(a,s){a.css({"-webkit-transform":s,transform:s})},a.OffcanvasUtils._getTranslationX=function(s,t,n){var f=s===a.OffcanvasUtils.EDGE_END;return(a.OffcanvasUtils._isRTL()||n)&&(f=!f),"translate3d("+(f?"-":"")+t+", 0, 0)"},a.OffcanvasUtils._setTranslationX=function(s,t,n){a.OffcanvasUtils._setTransform(s,a.OffcanvasUtils._getTranslationX(t,n,!1))},a.OffcanvasUtils._getTranslationY=function(s,t){return"translate3d(0, "+(s===a.OffcanvasUtils.EDGE_BOTTOM?"-":"")+t+", 0)"},a.OffcanvasUtils._setTranslationY=function(s,t,n){a.OffcanvasUtils._setTransform(s,a.OffcanvasUtils._getTranslationY(t,n))},a.OffcanvasUtils._getTranslationY2=function(a,s){return"translate3d(0, "+(s?"-":"")+a+", 0)"},a.OffcanvasUtils._setAnimateClass=function(s,t,n,f,e){t.addClass(a.OffcanvasUtils.TRANSITION_SELECTOR),a.OffcanvasUtils._setTransform(t,f),n.addClass(a.OffcanvasUtils.TRANSITION_SELECTOR),a.OffcanvasUtils._setTransform(n,e)},a.OffcanvasUtils._saveEdge=function(t){var n=t.edge,f=a.OffcanvasUtils._getDrawer(t);return n&&n.length||(n=f.hasClass("oj-offcanvas-start")?a.OffcanvasUtils.EDGE_START:f.hasClass("oj-offcanvas-end")?a.OffcanvasUtils.EDGE_END:f.hasClass("oj-offcanvas-top")?a.OffcanvasUtils.EDGE_TOP:f.hasClass("oj-offcanvas-bottom")?a.OffcanvasUtils.EDGE_BOTTOM:a.OffcanvasUtils.EDGE_START),s.data(f[0],a.OffcanvasUtils._DATA_EDGE_KEY,n),n},a.OffcanvasUtils._getEdge=function(t){return s.data(t[0],a.OffcanvasUtils._DATA_EDGE_KEY)},a.OffcanvasUtils._toggleClass=function(s,t,n){var f=s[a.OffcanvasUtils.DISPLAY_MODE_KEY],e=a.OffcanvasUtils._getDrawer(s),i=a.OffcanvasUtils.OPEN_SELECTOR,r=f===a.OffcanvasUtils.DISPLAY_MODE_OVERLAY?a.OffcanvasUtils.TRANSITION_SELECTOR+" oj-offcanvas-overlay":a.OffcanvasUtils.TRANSITION_SELECTOR;if(n)e.addClass(i),void 0===s[a.OffcanvasUtils.ANIMATE_KEY]&&t.addClass(r);else{s.makeFocusable&&a.DomUtils.makeFocusable({element:e,remove:!0});var l=s.tabindex;void 0===l?e.removeAttr("tabindex"):e.attr("tabindex",l),e.removeClass(i),t.removeClass(r)}},a.OffcanvasUtils._setFocus=function(s){var t,n=s,f=a.OffcanvasUtils._getDrawer(n),e=f.find("[autofocus]");if(0===e.length&&(e=f.find(":tabbable")),0===e.length){var i=f.attr("tabindex");void 0!==i&&(n.tabindex=i),f.attr("tabindex","-1"),t=f,a.DomUtils.makeFocusable({element:f,applyHighlight:!0}),n.makeFocusable=!0}else t=e[0];a.FocusUtils.focusElement(t)},a.OffcanvasUtils._isAutoDismiss=function(a){return"none"!==a.autoDismiss},a.OffcanvasUtils._calcTransitionTime=function(a){for(var s=a.css("transitionProperty").split(","),t=a.css("transitionDelay").split(","),n=a.css("transitionDuration").split(","),f=0,e=0;e<s.length;e++){var i=n[e%n.length],r=i.indexOf("ms")>-1?parseFloat(i):1e3*parseFloat(i);if(r>0){var l=t[e%t.length],o=l.indexOf("ms")>-1?parseFloat(l):1e3*parseFloat(l);f=Math.max(f,o+r)}}return f+100},a.OffcanvasUtils._onTransitionEnd=function(s,t){var n,f="transitionend.oc webkitTransitionEnd.oc",e=function(){n&&(clearTimeout(n),n=void 0),s.off(f,e),t(s)};s.on(f,e),n=setTimeout(e,a.OffcanvasUtils._calcTransitionTime(s))},a.OffcanvasUtils._closeWithCatch=function(s){a.OffcanvasUtils.close(s).catch(function(s){a.Logger.warn("Offcancas close failed: "+s)})},a.OffcanvasUtils._registerCloseHandler=function(t){var n=t;if(a.OffcanvasUtils._unregisterCloseHandler(n),a.OffcanvasUtils._isAutoDismiss(n)){var f=a.OffcanvasUtils._getDrawer(n),e=function(t){var e=t.target;a.DomUtils.isChromeEvent(t)||"focus"===t.type&&!s(e).is(":focusable")||(null!=s.data(f[0],a.OffcanvasUtils._DATA_OFFCANVAS_KEY)?a.DomUtils.isLogicalAncestorOrSelf(f[0],e)||a.OffcanvasUtils._closeWithCatch(n):a.OffcanvasUtils._unregisterCloseHandler(n))};n[a.OffcanvasUtils.DISMISS_HANDLER_KEY]=e;var i=document.documentElement;a.DomUtils.isTouchSupported()&&i.addEventListener("touchstart",e,!0),i.addEventListener("mousedown",e,!0),i.addEventListener("focus",e,!0)}a.OffcanvasUtils._registerSwipeHandler(n)},a.OffcanvasUtils._unregisterCloseHandler=function(s){var t=s,n=t[a.OffcanvasUtils.DISMISS_HANDLER_KEY];if(n){var f=document.documentElement;a.DomUtils.isTouchSupported()&&f.removeEventListener("touchstart",n,!0),f.removeEventListener("mousedown",n,!0),f.removeEventListener("focus",n,!0),delete t[a.OffcanvasUtils.DISMISS_HANDLER_KEY],t[a.OffcanvasUtils.DISMISS_HANDLER_KEY]=null}a.OffcanvasUtils._unregisterSwipeHandler(t)},a.OffcanvasUtils._registerSwipeHandler=function(n){if(a.DomUtils.isTouchSupported()){var f,e,i,r=n,l=r[a.OffcanvasUtils.SELECTOR_KEY],o=s(l),c=a.OffcanvasUtils._getEdge(o);c===a.OffcanvasUtils.EDGE_START&&!a.OffcanvasUtils._isRTL()||c===a.OffcanvasUtils.EDGE_END&&a.OffcanvasUtils._isRTL()?(e={recognizers:[[t.Swipe,{direction:t.DIRECTION_LEFT}]]},f="swipeleft"):c===a.OffcanvasUtils.EDGE_START&&a.OffcanvasUtils._isRTL()||c===a.OffcanvasUtils.EDGE_END&&!a.OffcanvasUtils._isRTL()?(e={recognizers:[[t.Swipe,{direction:t.DIRECTION_RIGHT}]]},f="swiperight"):c===a.OffcanvasUtils.EDGE_TOP?(e={recognizers:[[t.Swipe,{direction:t.DIRECTION_UP}]]},f="swipeup"):c===a.OffcanvasUtils.EDGE_BOTTOM&&(e={recognizers:[[t.Swipe,{direction:t.DIRECTION_DOWN}]]},f="swipedown"),i=o.ojHammer(e).on(f,function(s){s.target===o[0]&&(s.preventDefault(),a.OffcanvasUtils._closeWithCatch(r))}),s.data(s(l)[0],a.OffcanvasUtils._DATA_HAMMER_KEY,{event:f,hammer:i})}},a.OffcanvasUtils._unregisterSwipeHandler=function(t){var n=a.OffcanvasUtils._getDrawer(t);if(n.length>0){var f=s.data(n[0],a.OffcanvasUtils._DATA_HAMMER_KEY);f&&f.hammer.off(f.event)}},a.OffcanvasUtils._isFixed=function(s){return a.OffcanvasUtils._getOuterWrapper(s).hasClass("oj-offcanvas-page")},a.OffcanvasUtils._isPin=function(s){return s[a.OffcanvasUtils.DISPLAY_MODE_KEY]===a.OffcanvasUtils.DISPLAY_MODE_PIN},a.OffcanvasUtils._noInnerWrapper=function(s){return s[a.OffcanvasUtils.CONTENT_KEY]||a.OffcanvasUtils._isFixed(a.OffcanvasUtils._getDrawer(s))||a.OffcanvasUtils._isPin(s)},a.OffcanvasUtils._saveStyles=function(t){var n=t.attr("style");void 0!==n&&s.data(t[0],a.OffcanvasUtils._DATA_STYLE_KEY,n)},a.OffcanvasUtils._restoreStyles=function(t){var n=s.data(t[0],a.OffcanvasUtils._DATA_STYLE_KEY);n?t.attr("style",n):t.removeAttr("style")},a.OffcanvasUtils._toggleOuterWrapper=function(t,n,f){var e=a.OffcanvasUtils._getEdge(n),i=a.OffcanvasUtils._getShiftSelector(e),r=a.OffcanvasUtils._getOuterWrapper(n);a.Assert.assertPrototype(r,s);var l=r.hasClass(i);return f||r.toggleClass(i,!l),l},a.OffcanvasUtils._afterCloseHandler=function(t){var n=a.OffcanvasUtils._getAnimateWrapper(t);if(""===n.get(0).style.transform){a.OffcanvasUtils._unregisterCloseHandler(t);var f=a.OffcanvasUtils._getDrawer(t),e=a.OffcanvasUtils._isPin(t),i=null;try{i=s.data(f[0],a.OffcanvasUtils._DATA_OFFCANVAS_KEY)}catch(a){}i===t&&(e?f.removeClass(a.OffcanvasUtils.OPEN_SELECTOR+" "+a.OffcanvasUtils.PIN_TRANSITION_SELECTOR):a.OffcanvasUtils._toggleClass(t,n,!1),a.OffcanvasUtils._removeModality(t),e&&(a.OffcanvasUtils._getOuterWrapper(f).removeClass(a.OffcanvasUtils.PIN_WRAPPER_SELECTOR),a.OffcanvasUtils._restoreStyles(f)),f.trigger("ojclose",t),s.removeData(f[0],a.OffcanvasUtils._DATA_OFFCANVAS_KEY))}},a.OffcanvasUtils._setVisible=function(t,n,f){var e=s(t),i=!!n;i&&a.OffcanvasUtils._isOpen(e)&&a.OffcanvasUtils._close(t,!1),e.toggleClass(a.OffcanvasUtils._drawerSelector[f],!i)},a.OffcanvasUtils.setupResponsive=function(t){var n=t.query;if(null!==n){var f=t[a.OffcanvasUtils.SELECTOR_KEY],e=window.matchMedia(n),i=a.OffcanvasUtils._saveEdge(t),r=function(s){a.OffcanvasUtils._setVisible(f,s.matches,i)};e.addListener(r),a.OffcanvasUtils._setVisible(f,e.matches,i),s.data(s(f)[0],a.OffcanvasUtils._DATA_MEDIA_QUERY_KEY,{mqList:e,mqListener:r})}},a.OffcanvasUtils.tearDownResponsive=function(t){var n=a.OffcanvasUtils._getDrawer(t),f=s.data(n[0],a.OffcanvasUtils._DATA_MEDIA_QUERY_KEY);f&&(f.mqList.removeListener(f.mqListener),s.removeData(n[0],a.OffcanvasUtils._DATA_MEDIA_QUERY_KEY))},a.OffcanvasUtils._openPush=function(t,n,f,e){var i=a.OffcanvasUtils._getDrawer(t),r=s(t[a.OffcanvasUtils.CONTENT_KEY]);a.Assert.assertPrototype(r,s);var l,o=!0,c=t.size,O=function(s){s.removeClass(a.OffcanvasUtils.TRANSITION_SELECTOR),o?o=!1:(e!==a.OffcanvasUtils.EDGE_END&&e!==a.OffcanvasUtils.EDGE_BOTTOM||a.OffcanvasUtils._setFocus(t),i.trigger("ojopen",t),a.OffcanvasUtils._registerCloseHandler(t),n(!0))};i.addClass(a.OffcanvasUtils.OPEN_SELECTOR),window.setTimeout(function(){e===a.OffcanvasUtils.EDGE_START||e===a.OffcanvasUtils.EDGE_END?(void 0===c&&(c=i.outerWidth(!0)+"px"),l=a.OffcanvasUtils._getTranslationX(e,c,!1)):(void 0===c&&(c=i.outerHeight(!0)+"px"),a.OffcanvasUtils._setTransform(i,a.OffcanvasUtils._getTranslationY2(c,e===a.OffcanvasUtils.EDGE_TOP)),l=a.OffcanvasUtils._getTranslationY2(c,e!==a.OffcanvasUtils.EDGE_TOP)),window.setTimeout(function(){a.OffcanvasUtils._setAnimateClass(t,i,r,"translate3d(0, 0, 0)",l),a.OffcanvasUtils._toggleOuterWrapper(t,i,!1),a.OffcanvasUtils._onTransitionEnd(r,O),a.OffcanvasUtils._onTransitionEnd(i,O)},0)},0),a.OffcanvasUtils._applyModality(t,i),e!==a.OffcanvasUtils.EDGE_START&&e!==a.OffcanvasUtils.EDGE_TOP||a.OffcanvasUtils._setFocus(t)},a.OffcanvasUtils._openOverlay=function(s,t,n,f){var e=a.OffcanvasUtils._getDrawer(s);a.OffcanvasUtils._toggleClass(s,e,!0);var i=s.size;i&&(f===a.OffcanvasUtils.EDGE_START||f===a.OffcanvasUtils.EDGE_END?a.OffcanvasUtils._setTransform(e,a.OffcanvasUtils._getTranslationX(f,i,!0)):a.OffcanvasUtils._setTransform(e,a.OffcanvasUtils._getTranslationY(f,i))),window.setTimeout(function(){a.OffcanvasUtils._toggleOuterWrapper(s,e,!1)},20),a.OffcanvasUtils._applyModality(s,e),f!==a.OffcanvasUtils.EDGE_START&&f!==a.OffcanvasUtils.EDGE_TOP||a.OffcanvasUtils._setFocus(s),a.OffcanvasUtils._onTransitionEnd(e,function(){e.removeClass(a.OffcanvasUtils.TRANSITION_SELECTOR),f!==a.OffcanvasUtils.EDGE_END&&f!==a.OffcanvasUtils.EDGE_BOTTOM||a.OffcanvasUtils._setFocus(s),e.trigger("ojopen",s),a.OffcanvasUtils._registerCloseHandler(s),t(!0)})},a.OffcanvasUtils._closePush=function(t,n,f,e,i){var r=s(t[a.OffcanvasUtils.CONTENT_KEY]),l=!0,o=function(){l||(r.removeClass(a.OffcanvasUtils.TRANSITION_SELECTOR),a.OffcanvasUtils._setTransform(r,""),a.OffcanvasUtils._afterCloseHandler(t),n(!0)),l=!1};a.OffcanvasUtils._setTransform(e,""),a.OffcanvasUtils._setTransform(r,""),a.OffcanvasUtils._toggleOuterWrapper(t,e,!1),a.OffcanvasUtils._isModal(t)&&t[a.OffcanvasUtils.GLASS_PANE_KEY].removeClass(a.OffcanvasUtils.GLASSPANE_DIM_SELECTOR),i?(r.addClass(a.OffcanvasUtils.TRANSITION_SELECTOR),e.addClass(a.OffcanvasUtils.TRANSITION_SELECTOR),a.OffcanvasUtils._onTransitionEnd(e,o),a.OffcanvasUtils._onTransitionEnd(r,o)):(l=!1,o())},a.OffcanvasUtils._closeOverlay=function(s,t,n,f,e){var i=function(){a.OffcanvasUtils._afterCloseHandler(s),t(!0)};a.OffcanvasUtils._toggleOuterWrapper(s,f,!1),a.OffcanvasUtils._isModal(s)&&s[a.OffcanvasUtils.GLASS_PANE_KEY].removeClass(a.OffcanvasUtils.GLASSPANE_DIM_SELECTOR),e?(f.addClass(a.OffcanvasUtils.TRANSITION_SELECTOR),a.OffcanvasUtils._onTransitionEnd(f,i)):i()},a.OffcanvasUtils._openOldDrawer=function(t,n,f,e,i){var r,l=a.OffcanvasUtils._getDrawer(t),o=a.OffcanvasUtils._getAnimateWrapper(t);a.Assert.assertPrototype(o,s),a.OffcanvasUtils._toggleClass(t,o,!0),e===a.OffcanvasUtils.EDGE_START||e===a.OffcanvasUtils.EDGE_END?(r=void 0===r?l.outerWidth(!0)+"px":r,i===a.OffcanvasUtils.DISPLAY_MODE_PUSH&&a.OffcanvasUtils._setTranslationX(o,e,r)):(r=void 0===r?l.outerHeight(!0)+"px":r,i===a.OffcanvasUtils.DISPLAY_MODE_PUSH&&a.OffcanvasUtils._setTranslationY(o,e,r)),window.setTimeout(function(){a.OffcanvasUtils._toggleOuterWrapper(t,l,!1)},10),a.OffcanvasUtils._applyModality(t,l),e!==a.OffcanvasUtils.EDGE_START&&e!==a.OffcanvasUtils.EDGE_TOP||a.OffcanvasUtils._setFocus(t),a.OffcanvasUtils._onTransitionEnd(o,function(){o.removeClass(a.OffcanvasUtils.TRANSITION_SELECTOR),e!==a.OffcanvasUtils.EDGE_END&&e!==a.OffcanvasUtils.EDGE_BOTTOM||a.OffcanvasUtils._setFocus(t),l.trigger("ojopen",t),a.OffcanvasUtils._registerCloseHandler(t),n(!0)})},a.OffcanvasUtils._closeOldDrawer=function(s,t,n,f,e){var i=s[a.OffcanvasUtils.DISPLAY_MODE_KEY],r=a.OffcanvasUtils._getAnimateWrapper(s),l=function(){a.OffcanvasUtils._afterCloseHandler(s),t(!0)};i===a.OffcanvasUtils.DISPLAY_MODE_PUSH&&a.OffcanvasUtils._setTransform(r,""),a.OffcanvasUtils._toggleOuterWrapper(s,f,!1),a.OffcanvasUtils._isModal(s)&&s[a.OffcanvasUtils.GLASS_PANE_KEY].removeClass(a.OffcanvasUtils.GLASSPANE_DIM_SELECTOR),e?(r.addClass(a.OffcanvasUtils.TRANSITION_SELECTOR),a.OffcanvasUtils._onTransitionEnd(r,l)):l()},a.OffcanvasUtils.open=function(t){var n,f=a.OffcanvasUtils._getDrawer(t),e=s.data(f[0],a.OffcanvasUtils._DATA_OFFCANVAS_KEY);if(e){if(e[a.OffcanvasUtils.CLOSE_PROMISE_KEY])return e[a.OffcanvasUtils.CLOSE_PROMISE_KEY];if(e[a.OffcanvasUtils.OPEN_PROMISE_KEY])return e[a.OffcanvasUtils.OPEN_PROMISE_KEY]}var i=!1,r=new Promise(function(e,r){a.Assert.assertPrototype(f,s);var l=a.OffcanvasUtils._saveEdge(t),o=s.Event("ojbeforeopen");if(f.trigger(o,t),!1===o.result)return r(a.OffcanvasUtils.VETO_BEFOREOPEN_MSG),void(i=!0);var c=a.OffcanvasUtils._getDisplayMode(t),O=a.OffcanvasUtils._isPin(t);!O||l!==a.OffcanvasUtils.EDGE_TOP&&l!==a.OffcanvasUtils.EDGE_BOTTOM||(c=a.OffcanvasUtils.DISPLAY_MODE_PUSH);var v=s.extend({},t);if(v[a.OffcanvasUtils.DISPLAY_MODE_KEY]=c,s.data(f[0],a.OffcanvasUtils._DATA_OFFCANVAS_KEY,v),t[a.OffcanvasUtils.CONTENT_KEY]){if(!a.OffcanvasUtils._noInnerWrapper(t))throw new Error("Error: Both main content selector and the inner wrapper <div class='oj-offcanvas-inner-wrapper'> are provided. Please remove the inner wrapper.");var _=a.Context.getContext(f[0]).getBusyContext();n=_.addBusyState({description:"The offcanvas selector ='"+t[a.OffcanvasUtils.SELECTOR_KEY]+"' doing the open animation."}),O||(c===a.OffcanvasUtils.DISPLAY_MODE_PUSH?a.OffcanvasUtils._openPush(v,e,r,l):a.OffcanvasUtils._openOverlay(v,e,r,l))}else a.OffcanvasUtils._openOldDrawer(v,e,r,l,c)});if(r=r.then(function(a){return n&&n(),a},function(a){throw n&&n(),a}),!i){var l=s.data(f[0],a.OffcanvasUtils._DATA_OFFCANVAS_KEY);l&&(l[a.OffcanvasUtils.OPEN_PROMISE_KEY]=r,a.Components.subtreeShown(f[0]))}return r},a.OffcanvasUtils.close=function(s){return a.OffcanvasUtils._close(s[a.OffcanvasUtils.SELECTOR_KEY],void 0===s[a.OffcanvasUtils.ANIMATE_KEY])},a.OffcanvasUtils._close=function(t,n){var f=s(t);a.Assert.assertPrototype(f,s);var e,i=s.data(f[0],a.OffcanvasUtils._DATA_OFFCANVAS_KEY);if(i&&i[a.OffcanvasUtils.CLOSE_PROMISE_KEY])return i[a.OffcanvasUtils.CLOSE_PROMISE_KEY];var r=!1,l=new Promise(function(l,o){if(a.OffcanvasUtils._isOpen(f)){t!==i[a.OffcanvasUtils.SELECTOR_KEY]&&l(!0),a.OffcanvasUtils._toggleOuterWrapper(i,f,!0)||l(!0);var c=s.Event("ojbeforeclose");if(f.trigger(c,i),!1===c.result)return o(a.OffcanvasUtils.VETO_BEFORECLOSE_MSG),void(r=!0);if(n){var O=a.Context.getContext(f[0]).getBusyContext();e=O.addBusyState({description:"The offcanvas selector ='"+i[a.OffcanvasUtils.SELECTOR_KEY]+"' doing the close animation."})}var v=i[a.OffcanvasUtils.DISPLAY_MODE_KEY];i[a.OffcanvasUtils.CONTENT_KEY]?v===a.OffcanvasUtils.DISPLAY_MODE_PUSH?a.OffcanvasUtils._closePush(i,l,o,f,n):a.OffcanvasUtils._closeOverlay(i,l,o,f,n):a.OffcanvasUtils._closeOldDrawer(i,l,o,f,n)}else l(!0)});return l=l.then(function(a){return e&&e(),a},function(a){throw e&&e(),a}),r||(i=s.data(f[0],a.OffcanvasUtils._DATA_OFFCANVAS_KEY))&&(i[a.OffcanvasUtils.CLOSE_PROMISE_KEY]=l,a.Components.subtreeHidden(f[0])),l},a.OffcanvasUtils.toggle=function(t){var n=a.OffcanvasUtils._getDrawer(t);return a.Assert.assertPrototype(n,s),a.OffcanvasUtils._isOpen(n)?a.OffcanvasUtils.close(t):a.OffcanvasUtils.open(t)},a.OffcanvasUtils._addGlassPane=function(t){var n=s("<div>");return n.addClass(a.OffcanvasUtils.GLASSPANE_SELECTOR),n.attr("role","presentation"),n.attr("aria-hidden","true"),n.appendTo(t.parent()),n.on("keydown keyup keypress mousedown mouseup mouseover mouseout click focusin focus",function(a){a.stopPropagation(),a.preventDefault()}),n},a.OffcanvasUtils._createSurrogate=function(t){var n=s("<span style='display:none'>");n.attr("aria-hidden","true");var f,e=t.attr("id");return e?(f=[e,"surrogate"].join("_"),n.attr("id",f)):f=n.uniqueId(),n.insertBefore(t),t.attr(a.OffcanvasUtils.SURROGATE_ATTR,f),n},a.OffcanvasUtils._swapOrder=function(s,t){s[a.OffcanvasUtils.SURROGATE_KEY]=a.OffcanvasUtils._createSurrogate(t),t.appendTo(t.parent())},a.OffcanvasUtils._restoreOrder=function(s){var t=a.OffcanvasUtils._getDrawer(s),n=s[a.OffcanvasUtils.SURROGATE_KEY];t&&n&&t.attr(a.OffcanvasUtils.SURROGATE_ATTR)===n.attr("id")&&(t.insertAfter(n),t.removeAttr(a.OffcanvasUtils.SURROGATE_ATTR),n.remove())},a.OffcanvasUtils._applyModality=function(t,n){var f=t;a.OffcanvasUtils._isModal(f)&&(f[a.OffcanvasUtils.GLASS_PANE_KEY]=a.OffcanvasUtils._addGlassPane(n),a.OffcanvasUtils._swapOrder(f,n),s(f[a.OffcanvasUtils.CONTENT_KEY]).attr("aria-hidden","true"),window.setTimeout(function(){f[a.OffcanvasUtils.GLASS_PANE_KEY].addClass(a.OffcanvasUtils.GLASSPANE_DIM_SELECTOR)},0))},a.OffcanvasUtils._removeModality=function(t){a.OffcanvasUtils._isModal(t)&&(t[a.OffcanvasUtils.GLASS_PANE_KEY].remove(),a.OffcanvasUtils._restoreOrder(t),s(t[a.OffcanvasUtils.CONTENT_KEY]).removeAttr("aria-hidden"))},a.OffcanvasUtils.setupPanToReveal=function(n){var f,e,i,r,l,o,c,O,v,_,E,U,T,d=n;null==s(d).attr("oj-data-pansetup")&&(s(d).attr("oj-data-pansetup","true"),d.displayMode="push",f=a.OffcanvasUtils._getDrawer(d),i=a.OffcanvasUtils._getOuterWrapper(f),l={recognizers:[[t.Pan,{direction:t.DIRECTION_HORIZONTAL}]]},o=!1,s(i).ojHammer(l).on("panstart",function(n){switch(c=null,n.gesture.direction){case t.DIRECTION_LEFT:Math.abs(n.gesture.deltaY)<Math.abs(n.gesture.deltaX)&&(c=a.OffcanvasUtils._isRTL()?"end":"start");break;case t.DIRECTION_RIGHT:Math.abs(n.gesture.deltaY)<Math.abs(n.gesture.deltaX)&&(c=a.OffcanvasUtils._isRTL()?"start":"end")}null!==c&&(n.gesture.angle<0&&(n.gesture.deltaX<-100||n.gesture.deltaY<-100)||(O={direction:c,distance:Math.abs(n.gesture.deltaX)},v=s.Event("ojpanstart"),f.trigger(v,O),v.isDefaultPrevented()||(a.Context.getContext(i.get(0)).getBusyContext().whenReady().then(function(){null==(e=d.size)&&(e=f.outerWidth(),d.size=e),o=!0}),d._closePromise=null,(r=a.OffcanvasUtils._getAnimateWrapper(d)).off(".oc"),a.OffcanvasUtils._toggleClass(d,r,!0),n.gesture.srcEvent.stopPropagation(),n.stopPropagation())))}).on("panmove",function(t){o&&(_=t.gesture.deltaX,"start"===c&&_>0||"end"===c&&_<0?a.OffcanvasUtils._setTranslationX(r,"start","0px"):(f.css("width",Math.abs(_)),r.removeClass(a.OffcanvasUtils.TRANSITION_SELECTOR),a.OffcanvasUtils._setTranslationX(r,"start",_+"px"),O={direction:c,distance:Math.abs(_)},v=s.Event("ojpanmove"),f.trigger(v,O),t.gesture.srcEvent.stopPropagation(),t.stopPropagation()))}).on("panend",function(t){if(o){if(o=!1,_=Math.abs(t.gesture.deltaX),O={distance:_},v=s.Event("ojpanend"),f.trigger(v,O),t.stopPropagation(),!v.isDefaultPrevented())return null==(E=d.edge)&&(E=f.hasClass("oj-offcanvas-start")?"start":"end"),a.OffcanvasUtils._animateWrapperAndDrawer(r,f,E,e,d),s.data(f[0],a.OffcanvasUtils._DATA_OFFCANVAS_KEY,d),s.data(f[0],a.OffcanvasUtils._DATA_EDGE_KEY,E),void a.OffcanvasUtils._registerCloseHandler(d);U="transitionend webkitTransitionEnd otransitionend oTransitionEnd",T=function(){a.OffcanvasUtils._toggleClass(d,r,!1),r.removeClass(a.OffcanvasUtils.TRANSITION_SELECTOR),r.off(U,T),f.trigger("ojclose",d)},r.on(U,T),r.addClass(a.OffcanvasUtils.TRANSITION_SELECTOR),a.OffcanvasUtils._setTranslationX(r,"start","0px")}}))},a.OffcanvasUtils._animateWrapperAndDrawer=function(s,t,n,f,e){var i,r,l,o,c,O,v,_,E,U,T,d;s.removeClass(a.OffcanvasUtils.TRANSITION_SELECTOR),i=Math.round(1e3/60),"none"!==(r=s.css("transform"))&&(l=r.split("(")[1].split(")")[0].split(","),o=parseInt(l[4],10),c=o,O="end"===n?0-f:f,_=Math.max(1,Math.abs(O-o)/(400/i)),E=(new Date).getTime(),U=function(){c===o||""!==s.get(0).style.transform?(T=(new Date).getTime(),d=Math.max(_,_*Math.max((T-E)/i)),E=T,o<O?o=Math.min(O,o+d):o>O&&(o=Math.max(O,o-d)),a.OffcanvasUtils._setTranslationX(s,n,Math.abs(o)+"px"),t.css("width",Math.abs(o)+"px"),o===O?(window.cancelAnimationFrame(v),s.addClass(a.OffcanvasUtils.TRANSITION_SELECTOR),t.trigger("ojopen",e)):v=window.requestAnimationFrame(U)):window.cancelAnimationFrame(v)},v=window.requestAnimationFrame(U))},a.OffcanvasUtils.tearDownPanToReveal=function(t){var n=a.OffcanvasUtils._getDrawer(t),f=a.OffcanvasUtils._getOuterWrapper(n);s(f).off("panstart panmove panend")}});
define('common/messageService',["jquery","ojs/ojcore","knockout","common/constants"],function(r,e,s,o){return new function(){this.httpStatusToMessage=function(r){return r===o.backendErrors[404].code?o.backendErrors[404].message:r===o.backendErrors[500].code?o.backendErrors[500].message:r===o.backendErrors[200].code?o.backendErrors[200].message:r===o.backendErrors[403].code?o.backendErrors[403].message:r===o.backendErrors[0].code?o.backendErrors[0].message:r},this.bgColorError="#F45229",this.bgColorSuccess="#B4D884",this.bgColorDefault="#DBD6D0",this.displayTimeout=3e3}});
!function(){var e=function(){"use strict";function e(e){return 0===e.indexOf("./")?e.substr(2):e}function t(){if(!this._resolvedModule){var e=n(this.deps),t=this.module;this._resolvedModule="function"==typeof t?t.apply(null,e):t}return this._resolvedModule}function n(e){return e.map(function(e){return r[e].resolve()})}var r={};return{define:function(n,o,i){r[n]={deps:o.map(e),module:i,resolve:t}},require:function(e,t){var r=n(e);t.apply(null,r)}}}(),t=e.define,n=e.require;t("dataTransfer",[],function(){"use strict";return function(e,t){function n(e){return e?e.toString().toLowerCase():null}var r={},o="none",i="uninitialized",u=t||function(){return"readwrite"},c=["none","copy","link","move"],a=["uninitialized","none","copy","copylink","copymove","link","linkmove","move","all"];this.files={},this.items={},this.getData=function(e){if("protected"!==u()){var t=n(e);return t&&r.hasOwnProperty(t)?r[t]:null}return""},this.setData=function(e,t){if("readwrite"===u()){var o=n(e);o&&(r[o]=t.toString())}},this.clearData=function(e){if("readwrite"===u()){var t=n(e);t?r.hasOwnProperty(t)&&delete r[t]:r={}}},this.setDragImage=function(t,n,r){e&&e(t,n,r)},Object.defineProperty(this,"types",{get:function(){var e=Object.keys(r);return e.item=function(t){return t>=0&&t<e.length?e[t]:null},e.contains=function(t){return e.indexOf(t)>=0},e}}),Object.defineProperty(this,"dropEffect",{get:function(){return o},set:function(e){e=e.toLowerCase(),c.indexOf(e)>=0&&(o=e)}}),Object.defineProperty(this,"effectAllowed",{get:function(){return i},set:function(e){e=e.toLowerCase(),a.indexOf(e)>=0&&(i=e)}})}}),t("dragImage",[],function(){"use strict";return function(e,t,n){var r=function(e){var t=null!=e.parentNode,n=e.style.position,r=e.style.top;t||(e.style.position="fixed",e.style.top="10000px",document.body.appendChild(e));var o=e.cloneNode(!0);return o.id=e.id+"_dragimage",o.style.opacity=.7,o.style.position="fixed",o.style.width=e.offsetWidth+"px",o.style.height=e.offsetHeight+"px",o.style.zIndex=function e(t){var n=0;if(t.children)for(var r=0;r<t.children.length;r++){var o=t.children[r],i=window.getComputedStyle(o);n="static"===i.position||"auto"===i.zIndex||isNaN(i.zIndex)?Math.max(n,e(o)):Math.max(n,i.zIndex)}return n}(document.body)+1,o.style.visibility="hidden",t||(document.body.removeChild(e),e.style.position=n,e.style.top=r),o}(e),o=t,i=n,u=e.scrollLeft,c=e.scrollTop;this.start=function(){document.body.appendChild(r),r.scrollLeft=u,r.scrollTop=c},this.end=function(){document.body.removeChild(r),r=null},this.move=function(e,t){r.style.left=e-o+u+"px",r.style.top=t-i+c+"px"},this.show=function(e){r.style.visibility=e?"visible":"hidden"}}}),t("eventDispatcher",[],function(){"use strict";function e(e){return e||0}function t(e){return e||!1}function n(n,r){var o=r.target.getBoundingClientRect();n.screenX=e(r.screenX),n.screenY=e(r.screenY),n.clientX=e(r.clientX),n.clientY=e(r.clientY),n.offsetX=r.clientX-o.left,n.offsetY=r.clientY-o.top,n.pageX=e(r.pageX),n.pageY=e(r.pageY),n.altKey=t(r.altKey),n.ctrlKey=t(r.ctrlKey),n.metaKey=t(r.metaKey),n.shiftKey=t(r.shiftKey),n.button=e(r.button),n.buttons=e(r.buttons),n.relatedTarget=r.relatedTarget?r.relatedTarget:null}var r={dragstart:{bubbles:!0,cancelable:!0},drag:{bubbles:!0,cancelable:!0},dragend:{bubbles:!0,cancelable:!1},dragenter:{bubbles:!0,cancelable:!0},dragover:{bubbles:!0,cancelable:!0},dragleave:{bubbles:!0,cancelable:!1},drop:{bubbles:!0,cancelable:!0}};return{dispatch:function(e,t,o){var i=function(e,t,o){var i;if(window.Event&&"function"==typeof window.Event){var u={bubbles:r[e].bubbles,cancelable:r[e].cancelable};i=new window.Event(e,u)}else(i=document.createEvent("Event")).initEvent(e,r[e].bubbles,r[e].cancelable);return i.view=document.defaultView,i.detail=0,n(i,t),i.getModifierState=function(e){return function(e,t){return"Alt"===e?t.altKey:"Control"===e?t.ctrlKey:"Meta"===e?t.metaKey:"Shift"===e&&t.shiftKey}(e,t)},i.dataTransfer=o,i}(e,t,o);return!t.target.dispatchEvent(i)},getMouseEventProps:function(e){return{screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,altKey:e.altKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey,button:e.button,buttons:e.buttons}}}}),t("autoScroller",[],function(){"use strict";function e(e,n,r){if(!function(e){if(e===document.body)return!1;if(e===document.documentElement)return!0;if(1===e.nodeType){var t=window.getComputedStyle(e,null);return("auto"===t.overflow||"scroll"===t.overflow)&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight)}return!1}(e))return!1;var o,i,u=e.scrollLeft,c=e.scrollTop;if(e===document.documentElement)u=u||document.body.scrollLeft,c=c||document.body.scrollTop;else{var a=e.getBoundingClientRect();n-=Math.round(a.left),r-=Math.round(a.top)}return o=t(e.clientWidth,e.scrollWidth,n,u),i=t(e.clientHeight,e.scrollHeight,r,c),!(!o&&!i||(function(e,t,n){e.scrollLeft=t,e.scrollTop=n,e===document.documentElement&&(document.body.scrollLeft=t,document.body.scrollTop=n)}(e,u+o,c+i),0))}function t(e,t,n,r){if(n>e-12&&n<e){if(r+e<t)return 15}else if(n>=0&&n<12&&r>0)return-Math.min(r,15);return 0}return{checkAutoScroll:function(t,n,r){for(var o=t;null!=o&&!e(o,n,r);)o=o.parentNode;return o}}}),t("dragController",["./dataTransfer","./dragImage","./eventDispatcher","./autoScroller"],function(e,t,n,r){"use strict";return function(){function o(){return b}function i(e,t,r,o,i){return b=function(e){return"dragstart"===e?"readwrite":"drop"===e?"readonly":"protected"}(e),"dragstart"!==e&&(o.dropEffect=function(e,t){return"drag"===e||"dragleave"===e?"none":"dragenter"===e||"dragover"===e?"none"===t?"none":"move"===t?"move":0===t.indexOf("link")?"link":"copy":L}(e,o.effectAllowed)),r||(r={}),r.target=t,r.relatedTarget=i,n.dispatch(e,r,o)}function u(e,n,r){p&&(p.end(),p=null),e&&e.cloneNode&&(p=new t(e,n,r)).start()}function c(){return null!=g}function a(e){var t=e.clientX,n=e.clientY;return t===w&&n===E?y:document.elementFromPoint(t,n)}function l(e){return e&&("TEXTAREA"===e.nodeName||"INPUT"===e.nodeName&&"text"===e.type)}function s(e){void 0!==e._dndSavedCursor&&(e.style.cursor=e._dndSavedCursor,delete e._dndSavedCursor)}function d(e){f(e,!0)}function f(e,t){if(c()){p.show(!1);var n=a(e);n&&(s(n),function(e,t,n){v(n)||i("dragleave",e,t,g)}(n,e,t),function(e,t,n){v(n)&&(i("drop",e,t,g)?L=g.dropEffect:l(e)?function(e){var t=g.getData("text");if(t&&""!==t){var n=e.value,r=e.selectionEnd;e.value=n.substring(0,r)+t+n.substring(r)}}(e):L="none")}(n,e,t)),i("dragend",h,e,g),u(null,0,0),g=null,h=null,y=null,L="none",document.body.style.cursor=m,m=null}}function v(e){return!e&&"none"!==L}var g,p,h,y,m,b,w=-1,E=-1,L="none";this.start=function(t,n,r){var c=new e(u,o);return i("dragstart",t,r,c),function(e,t){return 0!==e.types.length&&(!t||t(e,p))}(c,n)?function(e,t,n){return g=e,h=t,m=document.body.style.cursor,function(e,t){if(null==p){var n=e.getBoundingClientRect(),r=t?t.clientX:n.left,o=t?t.clientY:n.top;u(e,r-n.left,o-n.top)}}(t,n),{dragStarted:!0,dataTransfer:e}}(c,t,r):{dataTransfer:c}},this.drag=function(e){if(e&&c()){if(p.show(!1),function(e){return i("drag",h,e,g)}(e))return d(e),!0;try{var t=a(e);(function(e,t){e!==y&&(e&&i("dragenter",e,t,g,y),y&&(s(y),i("dragleave",y,t,g,e)))})(t,e),function(e,t){e&&function(e){if(e){var t=g.effectAllowed;L="uninitialized"===t||"all"===t||t.indexOf(g.dropEffect)>=0?g.dropEffect:"none"}else L=l(y)?"copy":"none"}(i("dragover",e,t,g))}(t,e),function(e,t){(function(e){p.move(e.clientX,e.clientY)})(t),function(e){var t;(t="none"===L?"not-allowed":"copy"===L?"copy":"link"===L?"alias":"default")!==document.body.style.cursor&&(document.body.style.cursor=t),function(e,t){e.style.cursor!==t&&(void 0===e._dndSavedCursor&&(e._dndSavedCursor=e.style.cursor),e.style.cursor=t)}(e,t)}(e),function(e,t){r.checkAutoScroll(e,t.clientX,t.clientY)&&(w=-1,E=-1)}(e,t)}(t,e),function(e,t){y=e,w=t.clientX,E=t.clientY}(t,e)}finally{p.show(!0)}}return!1},this.end=function(e){f(e,!1)},this.cancel=d}}),t("args",[],function(){"use strict";function e(e,t){if(!t)throw new Error("required argument '"+e+"' not specified")}return{requiredString:function(t,n){if(e(t,n),"string"!=typeof n)throw new Error("argument '"+t+"' must be a string")},required:e}}),t("glassPane",["./eventDispatcher"],function(e){"use strict";return function(t,n){function r(){try{t(a)}finally{}}function o(t){t.target===document.body&&t.buttons!==l&&(a=e.getMouseEventProps(t),n(a,!0))}function i(t){void 0===l&&(l=t.buttons),t.stopPropagation(),t.preventDefault(),a=e.getMouseEventProps(t),r()}function u(t){t.stopPropagation(),t.preventDefault(),a=e.getMouseEventProps(t),n(a,!1)}var c,a,l;this.start=function(e){a=e,document.body.addEventListener("mouseenter",o,!0),document.body.addEventListener("mousemove",i,!0),document.body.addEventListener("mouseup",u,!0),c=window.setInterval(r,200)},this.end=function(){c&&(window.clearInterval(c),c=null),document.body.removeEventListener("mouseenter",o,!0),document.body.removeEventListener("mousemove",i,!0),document.body.removeEventListener("mouseup",u,!0)},this.getLastInputProps=function(){return a}}}),t("desktopDragDriver",["./args","./glassPane","./eventDispatcher"],function(e,t,n){"use strict";return function(r,o){function i(){var e=navigator.userAgent.toLowerCase();(e.indexOf("trident")>0||e.indexOf("edge")>0||e.indexOf("phantomjs")>0)&&o.addEventListener("dragstart",c,!0)}function u(){o.removeEventListener("dragstart",c,!0)}function c(e){var t,o=n.getMouseEventProps(e);e.stopPropagation(),u();try{t=r.start(e.target,a,o)}finally{i()}t.dragStarted?function(e,t,n){e.preventDefault(),s(n)}(e,0,o):function(e,t){l(e,t,"text"),l(e,t,"url")}(t.dataTransfer,e)}function a(e,t){return null!=t||function(e){var t=e.types;if(0===t.length)return!1;for(var n=0;n<t.length;n++){var r=t[n].toLowerCase();if("text"!==r&&"url"!==r)return!0}return!1}(e)}function l(e,t,n){var r=e.getData(n);r&&t.dataTransfer.setData(n,r)}function s(e){(p=new t(f,v)).start(e),document.body.addEventListener("keydown",g,!0)}function d(){p&&(p.end(),p=null),document.body.removeEventListener("keydown",g,!0)}function f(e){var t=r.drag(e);return t&&d(),t}function v(e,t){d(),t?r.cancel(e):r.end(e)}function g(e){if(e.stopPropagation(),e.preventDefault(),"Esc"===e.key||27===e.keyCode){var t=p.getLastInputProps();d(),r.cancel(t)}}var p;e.required("controller",r),this.install=i,this.remove=u}}),t("touchDragDriver",["./args"],function(e){"use strict";return function(t,n){function r(e){for(var t=e.target;t&&!t.draggable;)t=t.parentNode;t&&function(e){e.addEventListener("touchstart",u,!1),e.addEventListener("touchmove",c,!1),e.addEventListener("touchend",a,!1),e.addEventListener("touchcancel",l,!1)}(t)}function o(){}function i(e){e.removeEventListener("touchstart",u,!1),e.removeEventListener("touchmove",c,!1),e.removeEventListener("touchend",a,!1),e.removeEventListener("touchcancel",l,!1)}function u(e){f=e.currentTarget,v=!1}function c(e){if(e.preventDefault(),e.stopPropagation(),!v){if(!t.start(f,null,d(e)).dragStarted)return void i(e.currentTarget);v=!0}t.drag(d(e))&&i(e.currentTarget)}function a(e){s(e,!1)}function l(e){s(e,!0)}function s(e,n){var r=e.currentTarget;n?t.cancel(d(e)):t.end(d(e)),f=null,v=!1,i(r)}function d(e){return{screenX:Math.round(e.changedTouches[0].screenX),screenY:Math.round(e.changedTouches[0].screenY),clientX:Math.round(e.changedTouches[0].clientX),clientY:Math.round(e.changedTouches[0].clientY),pageX:Math.round(e.changedTouches[0].pageX),pageY:Math.round(e.changedTouches[0].pageY),altKey:e.altKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey}}e.required("controller",t);var f=null,v=!1;this.install=function(){n.addEventListener("touchstart",r,!0),n.addEventListener("touchmove",o,!0)},this.remove=function(){n.removeEventListener("touchstart",r,!0),n.removeEventListener("touchmove",o,!0)}}}),t("bootstrap",["./dragController","./desktopDragDriver","./touchDragDriver"],function(e,t,n){"use strict";var r=[];return{init:function(){r.length>0||function(e,t){for(var n=document.documentElement,o=0;o<t.length;o++){var i=t[o],u=new i(e,n);u.install(),r.push(u)}}(new e,[t,n])},destroy:function(){r.forEach(function(e){e.remove()}),r=[]}}}),n(["bootstrap"],function(e){e.init()})}();
define("ojdnd", function(){});

define('ojtranslations/nls/localeElements',{root:{supplemental:{weekData:{firstDay:{"001":1,AE:6,BH:6,BR:0,DZ:6,EG:6,IQ:6,JO:6,KW:6,LB:1,LY:6,MA:6,OM:6,QA:6,SA:0,SD:6,SY:6,TN:0,YE:0,BY:1,BG:1,ES:1,CZ:1,DK:1,AT:1,CH:1,DE:1,LU:1,CY:1,GR:1,AU:0,CA:0,GB:1,IE:0,IN:0,MT:0,NZ:0,PH:0,SG:0,US:0,ZA:0,AR:0,CL:1,CO:0,CR:1,DO:0,EC:1,GT:0,HN:0,MX:0,NI:0,PA:0,PE:0,PR:0,PY:0,SV:0,UY:1,VE:0,EE:1,FI:1,BE:1,FR:1,IL:0,HR:1,HU:1,ID:0,IS:1,IT:1,JP:0,KR:0,LT:1,LV:1,MK:1,MY:1,NO:1,NL:1,PL:1,PT:1,RO:1,RU:1,SK:1,SI:1,AL:1,BA:1,ME:1,RS:1,SE:1,TH:0,TR:1,UA:1,VN:1,CN:0,HK:0,MO:0,TW:0},weekendStart:{"001":6,AE:5,BH:5,DZ:5,EG:5,IQ:5,JO:5,KW:5,LY:5,MA:5,OM:5,QA:5,SA:5,SD:5,SY:5,TN:5,YE:5,IN:0,IL:5},weekendEnd:{"001":0,AE:6,BH:6,DZ:6,EG:6,IQ:6,JO:6,KW:6,LY:6,MA:6,OM:6,QA:6,SA:6,SD:6,SY:6,TN:6,YE:6,IL:6}},prefferedHours:{"001":"H",AE:"h",BH:"h",DZ:"h",EG:"h",IQ:"h",JO:"h",KW:"h",LB:"h",LY:"h",MA:"H",OM:"h",QA:"h",SA:"h",SD:"h",SY:"h",TN:"h",YE:"h",BG:"H",ES:"H",CZ:"H",DK:"H",AT:"H",CH:"H",DE:"H",LU:"H",CY:"h",GR:"h",AU:"h",CA:"h",GB:"H",IE:"H",IN:"h",NZ:"h",PH:"h",SG:"h",US:"h",ZA:"h",AR:"H",BO:"H",CL:"H",CO:"h",CR:"H",CU:"H",DO:"h",EC:"H",GT:"H",HN:"H",MX:"H",NI:"H",PA:"h",PE:"H",PR:"h",SV:"H",UY:"H",VE:"h",EE:"H",FI:"H",BE:"H",FR:"H",IL:"H",HR:"H",ID:"H",IS:"H",IT:"H",JP:"H",KR:"h",LT:"H",LV:"H",MK:"H",MY:"h",NL:"H",PT:"H",RO:"H",RU:"H",SK:"H",SI:"H",AL:"h",BA:"H",ME:"H",RS:"H",SE:"H",TR:"H",UA:"H",CN:"h",HK:"h",MO:"h",TW:"h"},plurals:{ar:function(r){return 0===r?"zero":1===r?"one":2===r?"two":r%100===Math.floor(r%100)&&r%100>=3&&r%100<=10?"few":r%100===Math.floor(r%100)&&r%100>=11&&r%100<=99?"many":"other"},as:function(r){return 0===Math.floor(Math.abs(r))||1===r?"one":"other"},be:function(r){return r%10==1&&r%100!=11?"one":r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)?"few":r%10==0||r%10===Math.floor(r%10)&&r%10>=5&&r%10<=9||r%100===Math.floor(r%100)&&r%100>=11&&r%100<=14?"many":"other"},bg:function(r){return 1===r?"one":"other"},bn:function(r){return 0===Math.floor(Math.abs(r))||1===r?"one":"other"},bo:function(r){return"other"},brx:function(r){return 1===r?"one":"other"},ca:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":"other"},cs:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":t===Math.floor(t)&&t>=2&&t<=4&&0===n?"few":0!==n?"many":"other"},da:function(r){var t=Math.floor(Math.abs(r)),n=parseInt(r.toString().replace(/^[^.]*.?|0+$/g,""),10);return 1===r||0!==n&&(0===t||1===t)?"one":"other"},de:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":"other"},el:function(r){return 1===r?"one":"other"},en:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":"other"},es:function(r){return 1===r?"one":"other"},et:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":"other"},fi:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":"other"},fr:function(r){var t=Math.floor(Math.abs(r));return 0===t||1===t?"one":"other"},ga:function(r){return 1===r?"one":2===r?"two":r===Math.floor(r)&&r>=3&&r<=6?"few":r===Math.floor(r)&&r>=7&&r<=10?"many":"other"},gu:function(r){return 0===Math.floor(Math.abs(r))||1===r?"one":"other"},he:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":2===t&&0===n?"two":0!==n||r>=0&&r<=10||r%10!=0?"other":"many"},hi:function(r){return 0===Math.floor(Math.abs(r))||1===r?"one":"other"},hr:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length,e=parseInt(r.toString().replace(/^[^.]*.?/,""),10);return 0===n&&t%10==1&&(t%100!=11||e%10==1&&e%100!=11)?"one":0===n&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&(!(t%100>=12&&t%100<=14)||e%10===Math.floor(e%10)&&e%10>=2&&e%10<=4&&!(e%100>=12&&e%100<=14))?"few":"other"},hu:function(r){return 1===r?"one":"other"},id:function(r){return"other"},is:function(r){var t=Math.floor(Math.abs(r)),n=parseInt(r.toString().replace(/^[^.]*.?|0+$/g,""),10);return 0!==n||t%10!=1||t%100==11&&0===n?"other":"one"},it:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":"other"},ja:function(r){return"other"},kn:function(r){return 0===Math.floor(Math.abs(r))||1===r?"one":"other"},ko:function(r){return"other"},kok:function(r){return"other"},ks:function(r){return 1===r?"one":"other"},lt:function(r){var t=parseInt(r.toString().replace(/^[^.]*.?/,""),10);return r%10!=1||r%100>=11&&r%100<=19?r%10===Math.floor(r%10)&&r%10>=2&&r%10<=9&&!(r%100>=11&&r%100<=19)?"few":0!==t?"many":"other":"one"},lv:function(r){var t=r.toString().replace(/^[^.]*.?/,"").length,n=parseInt(r.toString().replace(/^[^.]*.?/,""),10);return r%10==0||r%100===Math.floor(r%100)&&r%100>=11&&r%100<=19||2===t&&n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?"zero":r%10==1&&(r%100!=11||2===t&&n%10==1&&(n%100!=11||2!==t&&n%10==1))?"one":"other"},mk:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length,e=parseInt(r.toString().replace(/^[^.]*.?/,""),10);return 0!==n||t%10!=1&&e%10!=1?"other":"one"},ml:function(r){return 1===r?"one":"other"},mr:function(r){return 0===Math.floor(Math.abs(r))||1===r?"one":"other"},ms:function(r){return"other"},mt:function(r){return 1===r?"one":0===r||r%100===Math.floor(r%100)&&r%100>=2&&r%100<=10?"few":r%100===Math.floor(r%100)&&r%100>=11&&r%100<=19?"many":"other"},nb:function(r){return 1===r?"one":"other"},ne:function(r){return 1===r?"one":"other"},nl:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":"other"},nn:function(r){return 1===r?"one":"other"},no:function(r){return 1===r?"one":"other"},or:function(r){return 1===r?"one":"other"},pa:function(r){return r===Math.floor(r)&&r>=0&&r<=1?"one":"other"},pl:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":0===n&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&!(t%100>=12&&t%100<=14)?"few":0===n&&1!==t&&(t%10===Math.floor(t%10)&&t%10>=0&&t%10<=1||0===n&&(t%10===Math.floor(t%10)&&t%10>=5&&t%10<=9||0===n&&t%100===Math.floor(t%100)&&t%100>=12&&t%100<=14))?"many":"other"},pt:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length,e=parseInt(r.toString().replace(/^[^.]*.?|0+$/g,""),10);return 1===t&&(0===n||0===t&&1===e)?"one":"other"},"pt-PT":function(r){var t=r.toString().replace(/^[^.]*.?/,"").length;return 1===r&&0===t?"one":"other"},ro:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":0!==n||0===r||1!==r&&r%100===Math.floor(r%100)&&r%100>=1&&r%100<=19?"few":"other"},ru:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 0===n&&t%10==1&&t%100!=11?"one":0===n&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&!(t%100>=12&&t%100<=14)?"few":0===n&&(t%10==0||0===n&&(t%10===Math.floor(t%10)&&t%10>=5&&t%10<=9||0===n&&t%100===Math.floor(t%100)&&t%100>=11&&t%100<=14))?"many":"other"},sk:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":t===Math.floor(t)&&t>=2&&t<=4&&0===n?"few":0!==n?"many":"other"},sl:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 0===n&&t%100==1?"one":0===n&&t%100==2?"two":0===n&&(t%100===Math.floor(t%100)&&t%100>=3&&t%100<=4||0!==n)?"few":"other"},sq:function(r){return 1===r?"one":"other"},sr:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length,e=parseInt(r.toString().replace(/^[^.]*.?/,""),10);return 0===n&&t%10==1&&(t%100!=11||e%10==1&&e%100!=11)?"one":0===n&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&(!(t%100>=12&&t%100<=14)||e%10===Math.floor(e%10)&&e%10>=2&&e%10<=4&&!(e%100>=12&&e%100<=14))?"few":"other"},sv:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":"other"},ta:function(r){return 1===r?"one":"other"},te:function(r){return 1===r?"one":"other"},th:function(r){return"other"},tr:function(r){return 1===r?"one":"other"},uk:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 0===n&&t%10==1&&t%100!=11?"one":0===n&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&!(t%100>=12&&t%100<=14)?"few":0===n&&(t%10==0||0===n&&(t%10===Math.floor(t%10)&&t%10>=5&&t%10<=9||0===n&&t%100===Math.floor(t%100)&&t%100>=11&&t%100<=14))?"many":"other"},ur:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":"other"},vi:function(r){return"other"},zh:function(r){return"other"}},currencyData:{fractions:{IDR:{_rounding:"0",_digits:"0"},JPY:{_rounding:"0",_digits:"0"},KRW:{_rounding:"0",_digits:"0"}}}}},ar:1,"ar-AE":1,"ar-BH":1,"ar-DZ":1,"ar-EG":1,"ar-IQ":1,"ar-JO":1,"ar-KW":1,"ar-LB":1,"ar-LY":1,"ar-MA":1,"ar-OM":1,"ar-QA":1,"ar-SA":1,"ar-SD":1,"ar-SY":1,"ar-TN":1,"ar-YE":1,as:1,be:1,"be-BY":1,bg:1,"bg-BG":1,bn:1,bo:1,"bo-IN":1,brx:1,ca:1,"ca-ES":1,cs:1,"cs-CZ":1,da:1,"da-DK":1,de:1,"de-AT":1,"de-CH":1,"de-DE":1,"de-LU":1,el:1,"el-CY":1,"el-GR":1,en:1,"en-AU":1,"en-CA":1,"en-GB":1,"en-IE":1,"en-IN":1,"en-MT":1,"en-NZ":1,"en-PH":1,"en-SG":1,"en-US":1,"en-ZA":1,es:1,"es-AR":1,"es-BO":1,"es-CL":1,"es-CO":1,"es-CR":1,"es-CU":1,"es-DO":1,"es-EC":1,"es-ES":1,"es-GT":1,"es-HN":1,"es-MX":1,"es-NI":1,"es-PA":1,"es-PE":1,"es-PR":1,"es-PY":1,"es-SV":1,"es-US":1,"es-UY":1,"es-VE":1,et:1,"et-EE":1,fi:1,"fi-FI":1,fr:1,"fr-BE":1,"fr-CA":1,"fr-CH":1,"fr-FR":1,"fr-LU":1,ga:1,"ga-IE":1,gu:1,he:1,"he-IL":1,hi:1,"hi-IN":1,hr:1,"hr-HR":1,hu:1,"hu-HU":1,id:1,"id-ID":1,is:1,"is-IS":1,it:1,"it-CH":1,"it-IT":1,ja:1,"ja-JP":1,kn:1,ko:1,"ko-KR":1,kok:1,ks:1,lt:1,"lt-LT":1,lv:1,"lv-LV":1,mk:1,"mk-MK":1,ml:1,mr:1,ms:1,"ms-MY":1,mt:1,"mt-MT":1,nb:1,"nb-NO":1,ne:1,"ne-IN":1,nl:1,"nl-BE":1,"nl-NL":1,nn:1,"nn-NO":1,no:1,"no-NO":1,or:1,pa:1,pl:1,"pl-PL":1,pt:1,"pt-BR":1,"pt-PT":1,ro:1,"ro-RO":1,ru:1,"ru-RU":1,sk:1,"sk-SK":1,sl:1,"sl-SI":1,sq:1,"sq-AL":1,sr:1,"sr-Cyrl":1,"sr-Cyrl-BA":1,"sr-Cyrl-ME":1,"sr-Cyrl-RS":1,"sr-Latn":1,"sr-Latn-BA":1,"sr-Latn-ME":1,"sr-Latn-RS":1,sv:1,"sv-SE":1,ta:1,te:1,th:1,"th-TH":1,tr:1,"tr-TR":1,uk:1,"uk-UA":1,ur:1,"ur-IN":1,vi:1,"vi-VN":1,zh:1,"zh-Hans":1,"zh-Hans-CN":1,"zh-Hans-SG":1,"zh-Hant":1,"zh-Hant-HK":1,"zh-Hant-MO":1,"zh-Hant-TW":1,__noOverlay:!0,__defaultNoOverlayLocale:"en-US"});

define('ojs/ojvalidation-base',["ojs/ojcore","jquery","ojL10n!ojtranslations/nls/localeElements","ojs/ojmessaging"],function(t,r,e){t.LocaleData={},t.LocaleData.setBundle=function(r){t.LocaleData._bundle=r},t.LocaleData.getFirstDayOfWeek=function(){return t.LocaleData._getWeekData("firstDay")},t.LocaleData.getWeekendStart=function(){return t.LocaleData._getWeekData("weekendStart")},t.LocaleData.getWeekendEnd=function(){return t.LocaleData._getWeekData("weekendEnd")},t.LocaleData.getDayNames=function(r){(null==r||"abbreviated"!==r&&"narrow"!==r)&&(r="wide");var e=t.LocaleData._getCalendarData().days["stand-alone"][r];return[e.sun,e.mon,e.tue,e.wed,e.thu,e.fri,e.sat]},t.LocaleData.getMonthNames=function(r){(null==r||"abbreviated"!==r&&"narrow"!==r)&&(r="wide");var e=t.LocaleData._getCalendarData().months["stand-alone"][r];return[e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12]]},t.LocaleData.isMonthPriorToYear=function(){var r=t.LocaleData._getCalendarData().dateFormats.long.toUpperCase();return r.indexOf("M")<r.indexOf("Y")},t.LocaleData._getWeekData=function(r){var e=t.LocaleData.__getBundle(),a=t.LocaleData._getRegion()||"001",n=e.supplemental.weekData[r],o=n[a];return void 0===o&&(o=n["001"]),o},t.LocaleData._getCalendarData=function(){var r,e,a=t.LocaleData.__getBundle().main;for(e in a)if(a.hasOwnProperty(e)){r=a[e];break}return r.dates.calendars.gregorian},t.LocaleData._getRegion=function(){var r=t.Config.getLocale();if(r){var e=r.toUpperCase().split(/-|_/);if(e.length>=2){var a=e[1];if(4!=a.length)return a;if(e.length>=3)return e[2]}}return null},t.LocaleData.__getBundle=function(){return t.LocaleData._bundle||(t.__isAmdLoaderPresent()?(t.Assert.assert(void 0!==e,"LocaleElements module must be loaded"),e):{})},t.LocaleData.__updateBundle=function(t){e=t},t.OraI18nUtils={},t.OraI18nUtils.numeringSystems={latn:"0123456789",arab:"",thai:""},t.OraI18nUtils.regexTrim=/^\s+|\s+$|\u200f|\u200e/g,t.OraI18nUtils.regexTrimNumber=/\s+|\u200f|\u200e/g,t.OraI18nUtils.regexTrimRightZeros=/0+$/g,t.OraI18nUtils.zeros=["0","00","000"],t.OraI18nUtils._ISO_DATE_REGEXP=/^\d{4}(?:-?\d{2}(?:-?\d{2})?)?(?:T\d{2}:?\d{2}(?::?\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}:\d{2})?)?$|^T\d{2}:?\d{2}(?::?\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}:\d{2})?$/,t.OraI18nUtils.getLocalTimeZoneOffset=function(){var r=(new Date).getTimezoneOffset();return t.OraI18nUtils.getTimeStringFromOffset("Etc/GMT",r,!1,!1)},t.OraI18nUtils._getTimeZone=function(r){if(!r||"string"!=typeof r)return null;var e=t.OraI18nUtils._ISO_DATE_REGEXP.exec(r);return null===e&&t.OraI18nUtils._throwInvalidISOString(r),void 0!==e[1]?e[1]:null},t.OraI18nUtils.dateToLocalIso=function(r){var e=t.OraI18nUtils.padZeros(r.getFullYear(),4)+"-"+t.OraI18nUtils.padZeros(r.getMonth()+1,2)+"-"+t.OraI18nUtils.padZeros(r.getDate(),2)+"T"+t.OraI18nUtils.padZeros(r.getHours(),2)+":"+t.OraI18nUtils.padZeros(r.getMinutes(),2)+":"+t.OraI18nUtils.padZeros(r.getSeconds(),2);return r.getMilliseconds()>0&&(e+="."+t.OraI18nUtils.trimRightZeros(t.OraI18nUtils.padZeros(r.getMilliseconds(),3))),e},t.OraI18nUtils.partsToIsoString=function(r){var e=t.OraI18nUtils.padZeros(r[0],4)+"-"+t.OraI18nUtils.padZeros(r[1],2)+"-"+t.OraI18nUtils.padZeros(r[2],2)+"T"+t.OraI18nUtils.padZeros(r[3],2)+":"+t.OraI18nUtils.padZeros(r[4],2)+":"+t.OraI18nUtils.padZeros(r[5],2);return r[6]>0&&(e+="."+t.OraI18nUtils.trimRightZeros(t.OraI18nUtils.padZeros(r[6],3))),e},t.OraI18nUtils.isoToLocalDate=function(t){return t&&"string"==typeof t?this._isoToLocalDateIgnoreTimezone(t):null},t.OraI18nUtils._isoToLocalDateIgnoreTimezone=function(r){var e=t.OraI18nUtils._IsoStrParts(r);return new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5],e[6])},t.OraI18nUtils._IsoStrParts=function(r){var e,a=r.split("T"),n=r.indexOf("T"),o=new Date,i=[o.getFullYear(),o.getMonth()+1,o.getDate(),0,0,0,0];if(""!==a[0]){var s=a[0].split("-");for(e=0;e<s.length;e++)i[e]=parseInt(s[e],10)}if(-1!==n){var l=a[1].split("."),u=l[0].split(":");for(e=0;e<u.length;e++)i[3+e]=parseInt(u[e],10);2===l.length&&l[1]&&(i[6]=parseInt(t.OraI18nUtils.zeroPad(l[1],3,!1),10))}return i},t.OraI18nUtils.getISOStrFormatInfo=function(r){var e={format:null,dateTime:null,timeZone:"",isoStrParts:null},a=t.OraI18nUtils._ISO_DATE_REGEXP.exec(r);return null===a&&t.OraI18nUtils._throwInvalidISOString(r),void 0===a[1]&&void 0===a[2]?(e.format="local",e.dateTime=r,e.isoStrParts=t.OraI18nUtils._IsoStrParts(e.dateTime),e):(e.timeZone=void 0!==a[1]?a[1]:a[2],"Z"===e.timeZone?e.format="zulu":e.format="offset",e.dateTime=r.substring(0,r.indexOf(e.timeZone)),e.isoStrParts=t.OraI18nUtils._IsoStrParts(e.dateTime),e)},t.OraI18nUtils._throwTimeZoneNotSupported=function(){var t,r;throw r={errorCode:"timeZoneNotSupported"},(t=new Error("time zone is not supported")).errorInfo=r,t},t.OraI18nUtils._throwInvalidISOString=function(t){var r,e;throw e={errorCode:"invalidISOString",parameterMap:{isoStr:t}},(r=new Error("The string "+t+" is not a valid ISO 8601 string.")).errorInfo=e,r},t.OraI18nUtils.trim=function(r){return(r+"").replace(t.OraI18nUtils.regexTrim,"")},t.OraI18nUtils.trimRightZeros=function(r){return(r+"").replace(t.OraI18nUtils.regexTrimRightZeros,"")},t.OraI18nUtils.trimNumber=function(r){return(r+"").replace(t.OraI18nUtils.regexTrimNumber,"")},t.OraI18nUtils.startsWith=function(t,r){return 0===t.indexOf(r)},t.OraI18nUtils.toUpper=function(t){return t.split("").join(" ").toUpperCase()},t.OraI18nUtils.padZeros=function(r,e){var a,n=r+"";return e>1&&n.length<e?(a=t.OraI18nUtils.zeros[e-2]+n).substr(a.length-e,e):a=n},t.OraI18nUtils.zeroPad=function(t,r,e){var a;for(a=(t=""+t).length;a<r;a+=1)t=e?"0"+t:t+"0";return t},t.OraI18nUtils.getTimeStringFromOffset=function(r,e,a,n){var o=a?e>=0:e<0,i=(e=Math.abs(e))/60<<0,s=e%60,l=o?"-":"+";n&&(i=t.OraI18nUtils.zeroPad(i,2,!0));var u=r+l+i;return(s>0||n)&&(u+=":"+t.OraI18nUtils.zeroPad(s,2,!0)),u},t.OraI18nUtils.getNumberingSystemKey=function(r,e){if(void 0===e)return"latn";var a=t.OraI18nUtils.getNumberingExtension(e),n="symbols-numberSystem-"+a;return void 0===r.numbers[n]&&(a="latn"),a},t.OraI18nUtils.getBCP47Lang=function(t){return t.split("-")[0]},t.OraI18nUtils.getBCP47Region=function(t){var r=t.split("-");return 3===r.length?r[2]:2===r.length&&2===r[1].length?r[1]:"001"},t.OraI18nUtils.getNumberingExtension=function(t){var r=(t=t||"en-US").indexOf("-u-nu-"),e="latn";return-1!==r&&(e=t.substr(r+6,4)),e},t.OraI18nUtils.haveSamePropertiesLength=function(t){var r=0;for(var e in t)r++;return r},t.OraI18nUtils.getLocaleElementsMainNode=function(t){var r,e=t.main;for(var a in e){r=a;break}return e[r]},t.OraI18nUtils.getLocaleElementsMainNodeKey=function(t){var r,e=t.main;for(var a in e){r=a;break}return r},t.OraI18nUtils._toBoolean=function(t){if("string"==typeof t)switch(t.toLowerCase().trim()){case"true":case"1":return!0;case"false":case"0":return!1;default:return t}return t},t.OraI18nUtils.getGetOption=function(r,e){if(void 0===r)throw new Error("Internal "+e+" error. Default options missing.");return function(a,n,o,i){if(void 0!==r[a]){var s=r[a];switch(n){case"boolean":s=t.OraI18nUtils._toBoolean(s);break;case"string":s=String(s);break;case"number":s=Number(s);break;default:throw new Error("Internal error. Wrong value type.")}if(void 0!==o&&-1===o.indexOf(s)){for(var l=[],u=0;u<o.length;u++)l.push(o[u]);var d="The value '"+r[a]+"' is out of range for '"+e+"' options property '"+a+"'. Valid values: "+l,c=new RangeError(d),p={errorCode:"optionOutOfRange",parameterMap:{propertyName:a,propertyValue:r[a],propertyValueValid:l,caller:e}};throw c.errorInfo=p,c}return s}return i}},t.OraI18nUtils.matchString=function(r,e,a,n){void 0===n&&(n={sensitivity:"base",usage:"sort"});var o,i,s=t.OraI18nUtils.getGetOption(n,"oj.OraI18nUtils.matchString");n.usage=s("usage","string",["sort","search"],"sort"),n.sensitivity=s("sensitivity","string",["base","accent","case","variant"],"base");var l=r.length,u=e.length-1;for(o=0;o<l;o++)for(i=0;i<3;i++){var d=l-o;if(d=Math.min(d,u+i),0===r.substr(o,d).localeCompare(e,a,n))return[o,o+d-1]}return null};var a={fullYear:{pos:0,pad:4},month:{pos:1,pad:2},date:{pos:2,pad:2},hours:{pos:3,pad:2},minutes:{pos:4,pad:2},seconds:{pos:5,pad:2},milliseconds:{pos:6,pad:3},timeZone:{pos:7}};t.OraI18nUtils.isoToDate=function(t){return new Date(this._normalizeIsoString(t))},t.OraI18nUtils._copyTimeOver=function(t,r){if(!t||!r)throw new Error("Provided invalid arguments");r=this._normalizeIsoString(r);var e=t.indexOf("T"),a=r.indexOf("T");return r.substring(0,a)+(-1!==e?t.substring(e):"T00:00:00.000")},t.OraI18nUtils._clearTime=function(t){return this._dateTime(t,{hours:0,minutes:0,seconds:0,milliseconds:0})},t.OraI18nUtils._dateTime=function(t,e,n){if(!t||!e)throw new Error("Invalid argument invocation");var o,i,s,l=null,u=null,d=a,c=this.padZeros,p=this._normalizeIsoString(t),g=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):?(\d{2})?\.?(\d{3})?(.*)?/.exec(p);if(!g)throw new Error("Unable to capture anything");if(g=g.slice(1),Array.isArray(e)){l={};for(var f=0,m=e.length;f<m;f++)if((u=e[f])in d){if(i=g[o=d[u].pos],n&&"timeZone"===u)throw new Error("Dude you tried to ask timezone to be parsed");if(n){var h=parseInt(i,10);l[u]=1===o?h-1:h}else l[u]=i}}else if(r.isPlainObject(e)){for(var v in e)o=(s=d[v]).pos,i=e[v],1===o&&"number"==typeof i&&i++,g[o]=s.pad?c(i,s.pad):i;l=g[0]+"-"+g[1]+"-"+g[2]+"T"+g[3]+":"+g[4]+":"+g[5]+(g.length>6&&g[6]?"."+g[6]+(8===g.length&&g[7]?g[7]:""):"")}return l},t.OraI18nUtils._normalizeIsoString=function(t){if(!t)throw new Error("Provided invalid arguments");var r,e=(new Date).toISOString(),a=e.substring(0,e.indexOf("T")),n=t.indexOf("T"),o=-1===n?t:t.substring(0,n);return(o=o||a)+(-1!==n?(r=t.substring(n)).split(":").length>1?r:r+":00":"T00:00:00.000")},t.OraI18nUtils.formatString=function(t,r){var e,a,n=r.length;for(e=0;e<n;e++)a="{"+e+"}",t=t.replace(a,r[e]);return t},t.OraI18nUtils.getInitials=function(t,r){var e,a=0,n=0;if(void 0!==t&&t.length>0&&(a=t.charCodeAt(0)),a>=1536&&a<=1791)return"";if(a>=2304&&a<=2431)return t.charAt(0);if(a>=3584&&a<=3711)return t.charAt(0);if(a>=4352&&a<=4607||a>=12592&&a<=12687||a>=43360&&a<=43391||a>=44032&&a<=55295)return t;if(void 0!==r&&r.length>0&&(a=r.charCodeAt(0)),a>=11904&&a<=12255||a>=12288&&a<=12591||a>=12688&&a<=12799||a>=13056&&a<=19903||a>=19968&&a<=40959||a>=63744&&a<=64255)return r;if(a>=55296&&a<=56319){if(r.length<2)return"";if((n=r.charCodeAt(1))<56320||n>57343)return"";if((e=1024*(a-55296)+(n-56320)+65536)>=110592&&e<=110847||e>=127488&&e<=127743||e>=131072&&e<=173791||e>=173824&&e<=177983||e>=177984&&e<=178207||e>=178208&&e<=183983||e>=194560&&e<=195103)return r}return a="",n="",void 0!==t&&t.length>0&&(a=t.charAt(0).toUpperCase()),void 0!==r&&r.length>0&&(n=r.charAt(0).toUpperCase()),a+n},t.Validation={},t.Validation._converterFactories={},t.Validation._validatorFactories={},t.Validation._defaultConverterFactories={},t.Validation._defaultValidatorFactories={},t.Validation._CONTRACTS={converter:{name:"oj.ConverterFactory",type:t.ConverterFactory},validator:{name:"oj.ValidatorFactory",type:t.ValidatorFactory}},t.Validation.converterFactory=function(r,e){var a;return r&&!e?a=t.Validation._getFactory(r,t.Validation._converterFactories):r&&e&&(a=t.Validation._registerFactory(r,e,t.Validation._converterFactories,t.Validation._CONTRACTS.converter)),a},t.Validation.validatorFactory=function(r,e){var a;return r&&!e?a=t.Validation._getFactory(r,t.Validation._validatorFactories):r&&e&&(a=t.Validation._registerFactory(r,e,t.Validation._validatorFactories,t.Validation._CONTRACTS.validator)),a},t.Validation.getDefaultConverterFactory=function(r){return t.Validation._getFactory(r,t.Validation._defaultConverterFactories)},t.Validation.getDefaultValidatorFactory=function(r){return t.Validation._getFactory(r,t.Validation._defaultValidatorFactories)},t.Validation.__registerDefaultConverterFactory=function(r,e){var a=t.Validation._CONTRACTS.converter;t.Validation._registerFactory(r,e,t.Validation._defaultConverterFactories,a),t.Validation._registerFactory(r,e,t.Validation._converterFactories,a)},t.Validation.__registerDefaultValidatorFactory=function(r,e){var a=t.Validation._CONTRACTS.validator;t.Validation._registerFactory(r,e,t.Validation._defaultValidatorFactories,a),t.Validation._registerFactory(r,e,t.Validation._validatorFactories,a)},t.Validation._doImplementsCheck=function(r,e,a){if(e&&!t.Validation._quacksLike(r,e))throw new Error("Factory instance does not implement the methods expected by the factory of type "+a)},t.Validation._getFactory=function(r,e){t.Assert.assertString(r);var a=null;return r&&(a=(e[r=r.toLowerCase()]||{}).instance||null),a},t.Validation._quacksLike=function(r,e){var a,n=!0;for(a in t.Assert.assertObject(r),t.Assert.assertObject(e),e)if(e.hasOwnProperty(a)&&"function"==typeof e[a]&&!r[a]&&"function"!=typeof r[a]){n=!1;break}return n},t.Validation._registerFactory=function(r,e,a,n){if(t.Assert.assertString(r),t.Assert.assertObject(e),r){var o={};o.instance=e,t.Validation._doImplementsCheck(e,n.type,n.name),a[r.toLowerCase()]=o}},t.ConverterFactory={CONVERTER_TYPE_NUMBER:"number",CONVERTER_TYPE_DATETIME:"datetime",CONVERTER_TYPE_COLOR:"color",createConverter:function(t){}},t.ValidatorFactory={VALIDATOR_TYPE_REQUIRED:"required",VALIDATOR_TYPE_REGEXP:"regexp",VALIDATOR_TYPE_NUMBERRANGE:"numberRange",VALIDATOR_TYPE_LENGTH:"length",VALIDATOR_TYPE_DATETIMERANGE:"dateTimeRange",VALIDATOR_TYPE_DATERESTRICTION:"dateRestriction",createValidator:function(t){}},t.Converter=function(t){this.Init(t)},t.Object.createSubclass(t.Converter,t.Object,"oj.Converter"),t.Converter.prototype.Init=function(r){t.Converter.superclass.Init.call(this),this._options=r},t.Converter.prototype.getOptions=function(){return this._options||{}},t.Converter.prototype.resolvedOptions=function(){var t={};return r.extend(t,this._options),t},t.ConverterError=function(r,e){var a={summary:r,detail:e,severity:t.Message.SEVERITY_LEVEL.ERROR};this.Init(a)},t.ConverterError.prototype=new Error,t.ConverterError.prototype.Init=function(t){var r=t.detail,e=t.summary;this._message=t,this.name="Converter Error",this.message=r||e},t.ConverterError.prototype.getMessage=function(){return this._message},t.Validator=function(t){this.Init(t)},t.Object.createSubclass(t.Validator,t.Object,"oj.Validator"),t.Validator.prototype.Init=function(r){t.Validator.superclass.Init.call(this)},t.ValidatorError=function(r,e){var a={summary:r,detail:e,severity:t.Message.SEVERITY_LEVEL.ERROR};this.Init(a)},t.ValidatorError.prototype=new Error,t.ValidatorError.prototype.Init=function(t){var r=t.detail,e=t.summary;this._message=t,this.name="Validator Error",this.message=r||e},t.ValidatorError.prototype.getMessage=function(){return this._message},function(){function r(t,r){return"#"+function(t,r){return function(t,r,e,n){var o=[a(Math.round(t).toString(16)),a(Math.round(r).toString(16)),a(Math.round(e).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}(t._r,t._g,t._b,r)}(t,r)}function e(t,r){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var e=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=Math.min(r,Math.max(0,parseFloat(t))),e&&(t=parseInt(t*r,10)/100),Math.abs(t-r)<1e-6?1:t%r/parseFloat(r)}function a(t){return 1==t.length?"0"+t:""+t}t.ColorConverter=function(t){this.Init(t)},t.Object.createSubclass(t.ColorConverter,t.Converter,"oj.ColorConverter"),t.ColorConverter.prototype.Init=function(r){(r=r||{}).format=r.format||"rgb",t.ColorConverter.superclass.Init.call(this,r)},t.ColorConverter.prototype.format=function(a){var n=this._getFormat(),o=null;return"rgb"===n?o=a.toString():"hsl"===n?o=function(t){var r=function(t,r,a){t=e(t,255),r=e(r,255),a=e(a,255);var n,o,i=Math.max(t,r,a),s=Math.min(t,r,a),l=(i+s)/2;if(i==s)n=o=0;else{var u=i-s;switch(o=l>.5?u/(2-i-s):u/(i+s),i){case t:n=(r-a)/u+(r<a?6:0);break;case r:n=(a-t)/u+2;break;case a:n=(t-r)/u+4}n/=6}return{h:n,s:o,l:l}}(t._r,t._g,t._b),a=Math.round(360*r.h),n=Math.round(100*r.s),o=Math.round(100*r.l);return 1==t._a?"hsl("+a+", "+n+"%, "+o+"%)":"hsla("+a+", "+n+"%, "+o+"%, "+t._a+")"}(a):"hex"===n?o=r(a):"hex3"===n?o=r(a,!0):"hsv"===n?o=function(t){var r=function(t,r,a){t=e(t,255),r=e(r,255),a=e(a,255);var n,o,i=Math.max(t,r,a),s=Math.min(t,r,a),l=i,u=i-s;if(o=0===i?0:u/i,i==s)n=0;else{switch(i){case t:n=(r-a)/u+(r<a?6:0);break;case r:n=(a-t)/u+2;break;case a:n=(t-r)/u+4}n/=6}return{h:n,s:o,v:l}}(t._r,t._g,t._b),a=Math.round(360*r.h),n=Math.round(100*r.s),o=Math.round(100*r.v);return 1==t._a?"hsv("+a+", "+n+"%, "+o+"%)":"hsva("+a+", "+n+"%, "+o+"%, "+t._a+")"}(a):function(){throw new t.ConverterError("Invalid color format","Invalid color format option specification")}(),o||t.ColorConverter.superclass.format.call(this,a)},t.ColorConverter.prototype.parse=function(r){try{return new t.Color(r)}catch(r){!function(){throw new t.ConverterError("Invalid color specification","Color specification does not conform to CSS3 standard")}()}},t.ColorConverter.prototype.getHint=function(){return this._getFormat()},t.ColorConverter.prototype.resolvedOptions=function(){return{format:this._getFormat()}},t.ColorConverter.prototype._getFormat=function(){return t.ColorConverter.superclass.getOptions.call(this).format}}(),t.IntlConverterUtils={},t.IntlConverterUtils.isoToDate=function(r){return t.OraI18nUtils.isoToDate(r)},t.IntlConverterUtils.isoToLocalDate=function(r){return t.OraI18nUtils.isoToLocalDate(r)},t.IntlConverterUtils.dateToLocalIso=function(r){return t.OraI18nUtils.dateToLocalIso(r)},t.IntlConverterUtils._getTimeZone=function(r){return t.OraI18nUtils._getTimeZone(r)},t.IntlConverterUtils.getLocalTimeZoneOffset=function(){return t.OraI18nUtils.getLocalTimeZoneOffset()},t.IntlConverterUtils.getConverterInstance=function(r){var e,a="",n={},o=null;return r&&("object"==typeof r&&(r instanceof t.Converter||r.parse&&"function"==typeof r.parse||r.format&&"function"==typeof r.format?o=r:(a=r.type,n=r.options||{})),o||(a=a||r)&&"string"==typeof a&&(null===(e=t.Validation.converterFactory(a))&&t.Logger.error("Converter of type "+a+" cannot be found. Make sure the correct converter/validation module is included."),o=e.createConverter(n))),o},t.IntlConverterUtils._minMaxIsoString=function(t,r){if(t){var e=(r=r||this.dateToLocalIso(new Date)).indexOf("T");0===t.indexOf("T")&&e>0&&(t=r.substring(0,e)+t)}return t},t.IntlConverterUtils.__getConverterOptionError=function(r,e){t.Assert.assertObject(e);var a,n,o="",i="",s=e.propertyName;return"optionTypesMismatch"===r?(a=e.requiredPropertyName,n=e.requiredPropertyValueValid,o=t.Translations.getTranslatedString("oj-converter.optionTypesMismatch.summary",{propertyName:s,propertyValue:e.propertyValue,requiredPropertyName:a}),i=t.IntlConverterUtils._getOptionValueDetailMessage(a,n)):"optionTypeInvalid"===r?(s=e.propertyName,n=e.propertyValueValid,o=t.Translations.getTranslatedString("oj-converter.optionTypeInvalid.summary",{propertyName:s}),i=t.IntlConverterUtils._getOptionValueDetailMessage(s,n)):"optionOutOfRange"===r?(o=t.Translations.getTranslatedString("oj-converter.optionOutOfRange.summary",{propertyName:s,propertyValue:e.propertyValue}),n=e.propertyValueValid,i=t.IntlConverterUtils._getOptionValueDetailMessage(s,n)):"optionValueInvalid"===r&&(o=t.Translations.getTranslatedString("oj-converter.optionValueInvalid.summary",{propertyName:s,propertyValue:e.propertyValue}),n=e.propertyValueHint,i=t.IntlConverterUtils._getOptionValueDetailMessage(s,n)),new t.ConverterError(o,i)},t.IntlConverterUtils._getOptionValueDetailMessage=function(r,e){var a;return e?("string"==typeof e?a="oj-converter.optionHint.detail":(a="oj-converter.optionHint.detail-plural",e=e.join(t.Translations.getTranslatedString("oj-converter.plural-separator"))),t.Translations.getTranslatedString(a,{propertyName:r,propertyValueValid:e})):""},t.IntlConverterUtils.__getNullFormattedValue=function(){return""},t.IntlConverterUtils._copyTimeOver=function(r,e){return t.OraI18nUtils._copyTimeOver(r,e)},t.IntlConverterUtils._clearTime=function(r){return t.OraI18nUtils._clearTime(r)},t.IntlConverterUtils._dateTime=function(r,e,a){return t.OraI18nUtils._dateTime(r,e,a)},t.IntlConverterUtils._normalizeIsoString=function(r){return t.OraI18nUtils._normalizeIsoString(r)},t.IntlConverterUtils.getInitials=function(r,e){return t.OraI18nUtils.getInitials(r,e)},t.LengthValidator=function(t){this.Init(t)},t.LengthValidator.defaults={countBy:"codeUnit"},t.Object.createSubclass(t.LengthValidator,t.Validator,"oj.LengthValidator"),t.LengthValidator.prototype.Init=function(r){var e=r.countBy;if(t.LengthValidator.superclass.Init.call(this),this._min=void 0!==r.min?parseInt(r.min,10):null,this._max=void 0!==r.max?parseInt(r.max,10):null,isNaN(this._min))throw new Error("length validator's min option is not a number. min option is "+r.min);if(isNaN(this._max))throw new Error("length validator's max option is not a number. max option is "+r.min);if(null!==this._min&&this._min<0)throw new Error("length validator's min option cannot be less than 0. min option is "+r.min);if(null!==this._max&&this._max<1)throw new Error("length validator's max option cannot be less than 1. max option is "+r.max);this._countBy=void 0===e?t.LengthValidator.defaults.countBy:e,r&&(this._hint=r.hint||{},this._customMessageSummary=r.messageSummary||{},this._customMessageDetail=r.messageDetail||{})},t.LengthValidator.prototype.getHint=function(){var r,e=null,a=this._hint,n=a.exact,o=a.inRange,i=a.max,s=a.min,l=this._max,u=this._min,d=t.Translations;return null!==u&&null!==l?u!==l?(r={min:u,max:l},e=o?d.applyParameters(o,r):d.getTranslatedString("oj-validator.length.hint.inRange",r)):(r={length:u},e=n?d.applyParameters(n,r):d.getTranslatedString("oj-validator.length.hint.exact",r)):null!==u?(r={min:u},e=s?d.applyParameters(s,r):d.getTranslatedString("oj-validator.length.hint.min",r)):null!==l&&(r={max:l},e=i?d.applyParameters(i,r):d.getTranslatedString("oj-validator.length.hint.max",r)),e},t.LengthValidator.prototype.validate=function(r){var e,a,n,o=this._customMessageDetail,i=this._customMessageSummary,s="",l=this._max,u=i.tooLong,d=i.tooShort,c=o.tooLong,p=o.tooShort,g=this._min,f="",m=t.Translations;if(n=""+r,e=this._getLength(n),(null===g||e>=this._min)&&(null===l||e<=this._max))return n;throw e<this._min?(a={value:r,min:g},f=d?m.applyParameters(d,a):m.getTranslatedString("oj-validator.length.messageSummary.tooShort"),s=p?m.applyParameters(p,a):m.getTranslatedString("oj-validator.length.messageDetail.tooShort",a)):(a={value:r,max:l},f=u?m.applyParameters(u,a):m.getTranslatedString("oj-validator.length.messageSummary.tooLong"),s=c?m.applyParameters(c,a):m.getTranslatedString("oj-validator.length.messageDetail.tooLong",a)),new t.ValidatorError(f,s)},t.LengthValidator.prototype._getLength=function(r){var e,a,n=this._countBy.toLowerCase(),o=r.length,i=0;switch(n){case"codepoint":for(e=0;e<o;e++)55296==(63488&r.charCodeAt(e))&&i++;t.Assert.assert(i%2==0,"the number of surrogate chars must be an even number."),a=o-i/2;break;case"codeunit":default:a=o}return a},t.RegExpValidator=function(t){this.Init(t)},t.Object.createSubclass(t.RegExpValidator,t.Validator,"oj.RegExpValidator"),t.RegExpValidator._BUNDLE_KEY_DETAIL="oj-validator.regExp.detail",t.RegExpValidator._BUNDLE_KEY_SUMMARY="oj-validator.regExp.summary",t.RegExpValidator.prototype.Init=function(r){t.RegExpValidator.superclass.Init.call(this),this._options=r},t.RegExpValidator.prototype.validate=function(r){var e,a,n,o,i=this._options&&this._options.pattern||"";if(null==r||""===r)return!0;var s,l,u,d="^("+i+")$";if(null===(u=(r=r||0===r?r.toString():r).match(d))||u[0]!==r)throw this._options&&(o=this._options.messageSummary||null,e=this._options.messageDetail||null,a=this._options&&this._options.label||""),n={label:a,pattern:i,value:r},l=o?t.Translations.applyParameters(o,n):t.Translations.getTranslatedString(this._getSummaryKey(),n),s=e?t.Translations.applyParameters(e,n):t.Translations.getTranslatedString(this._getDetailKey(),n),new t.ValidatorError(l,s);return!0},t.RegExpValidator.prototype.getHint=function(){var r=null,e={};return this._options&&this._options.hint&&(e={pattern:this._options.pattern},r=t.Translations.applyParameters(this._options.hint,e)),r},t.RegExpValidator.prototype._getSummaryKey=function(){return t.RegExpValidator._BUNDLE_KEY_SUMMARY},t.RegExpValidator.prototype._getDetailKey=function(){return t.RegExpValidator._BUNDLE_KEY_DETAIL},t.RequiredValidator=function(t){this.Init(t)},t.Object.createSubclass(t.RequiredValidator,t.Validator,"oj.RequiredValidator"),t.RequiredValidator._BUNDLE_KEY_DETAIL="oj-validator.required.detail",t.RequiredValidator._BUNDLE_KEY_SUMMARY="oj-validator.required.summary",t.RequiredValidator.prototype.Init=function(r){t.RequiredValidator.superclass.Init.call(this),this._options=r},t.RequiredValidator.prototype.validate=function(r){var e,a,n,o,i,s="";if("number"==typeof r&&0===r||r&&0!==r.length)return!0;throw this._options&&(e=this._options.messageDetail||this._options.message||null,o=this._options.messageSummary||null,s=this._options.label||""),i={label:s},n=o?t.Translations.applyParameters(o,i):t.Translations.getTranslatedString(this._getSummaryKey(),i),a=e?t.Translations.applyParameters(e,i):t.Translations.getTranslatedString(this._getDetailKey(),i),new t.ValidatorError(n,a)},t.RequiredValidator.prototype.getHint=function(){var r="";return this._options&&this._options.hint&&(r=t.Translations.getTranslatedString(this._options.hint)),r},t.RequiredValidator.prototype._getSummaryKey=function(){return t.RequiredValidator._BUNDLE_KEY_SUMMARY},t.RequiredValidator.prototype._getDetailKey=function(){return t.RequiredValidator._BUNDLE_KEY_DETAIL},t.ColorConverterFactory={createConverter:function(r){return function(r){return new t.ColorConverter(r)}(r)}},t.Validation.__registerDefaultConverterFactory(t.ConverterFactory.CONVERTER_TYPE_COLOR,t.ColorConverterFactory),t.RequiredValidatorFactory={createValidator:function(r){return function(r){return new t.RequiredValidator(r)}(r)}},t.Validation.__registerDefaultValidatorFactory(t.ValidatorFactory.VALIDATOR_TYPE_REQUIRED,t.RequiredValidatorFactory),t.RegExpValidatorFactory={createValidator:function(r){return function(r){return new t.RegExpValidator(r)}(r)}},t.Validation.__registerDefaultValidatorFactory(t.ValidatorFactory.VALIDATOR_TYPE_REGEXP,t.RegExpValidatorFactory),t.LengthValidatorFactory={createValidator:function(r){return function(r){return new t.LengthValidator(r)}(r)}},t.Validation.__registerDefaultValidatorFactory(t.ValidatorFactory.VALIDATOR_TYPE_LENGTH,t.LengthValidatorFactory)});
define('ojs/ojpopup',["ojs/ojcore","jquery","promise","ojs/ojcomponentcore","ojs/ojpopupcore","ojs/ojanimation"],function(e,t){var i,s;i=["oj-left","oj-center","oj-right","oj-top","oj-middle","oj-bottom"],s={"right-top":"oj-right oj-top","right-middle":"oj-right oj-middle","right-bottom":"oj-right oj-bottom","left-top":"oj-left oj-top","left-middle":"oj-left oj-middle","left-bottom":"oj-left oj-bottom","center-top":"oj-center oj-top","center-middle":"oj-left oj-middle","center-bottom":"oj-center oj-bottom"},e.__registerWidget("oj.ojPopup",t.oj.baseComponent,{widgetEventPrefix:"oj",options:{animation:null,autoDismiss:"focusLoss",chrome:"default",initialFocus:"auto",position:{my:{horizontal:"start",vertical:"top"},offset:{x:0,y:0},at:{horizontal:"start",vertical:"bottom"},of:void 0,collision:"flip"},tail:"none",modality:"modeless",role:"tooltip",beforeOpen:null,open:null,beforeClose:null,close:null,focus:null,animateStart:null,animateEnd:null},_ComponentCreate:function(){this._super();var i=this._getRootStyle(),s=this.element;s.hide().addClass(i).attr("aria-hidden","true"),s.addClass("oj-component");var o=t("<div>");o.addClass([i,"content"].join("-")),o.attr("role","presentation"),o.append(s[0].childNodes),o.appendTo(s),this._content=o,this._setChrome(),this._setupFocus(s);var n=this.options;n.position=e.PositionUtils.coerceToJet(n.position)},_AfterCreate:function(){this._super(),this.element.uniqueId(),this._createTail()},_destroy:function(){e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly(),this._setWhenReady("none"),this._destroyTail(),delete this._popupServiceEvents;var t=this.element;t.hide().attr("aria-hidden","true").removeUniqueId();var i=this._content;delete this._content,t.append(i[0].childNodes),i.remove();var s=this._closeDelayTimer;s&&(delete this._closeDelayTimer,s()),this._super()},open:function(t,i){if(!this._isOperationPending("open",[t,i])){e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly(),this._setLauncher(t);var s=this.element;if(t=this._launcher,!1!==this._trigger("beforeOpen")){this._setWhenReady("open");var o=this.options;(i=i||o.position).of||(this._hasPositionOfLauncherOverride=!0,i.of=t),this._setPosition(i),this._setAutoDismiss(o.autoDismiss),this._addDescribedBy(),this._IsCustomElement()&&s[0].hasAttribute("role")||s.attr("role",o.role),i=this._getPositionAsJqUi();var n=this._getRootStyle(),r=[n,"layer"].join("-"),a=o.tail;"none"!==a&&(r+=" "+[n,"tail",a].join("-"));var l={};l[e.PopupService.OPTION.POPUP]=s,l[e.PopupService.OPTION.LAUNCHER]=t,l[e.PopupService.OPTION.POSITION]=i,l[e.PopupService.OPTION.EVENTS]=this._getPopupServiceEvents(),l[e.PopupService.OPTION.LAYER_SELECTORS]=r,l[e.PopupService.OPTION.MODALITY]=o.modality,l[e.PopupService.OPTION.CUSTOM_ELEMENT]=this._IsCustomElement(),e.PopupService.getInstance().open(l)}}},_beforeOpenHandler:function(t){var i=t[e.PopupService.OPTION.POPUP],s=t[e.PopupService.OPTION.POSITION];i.show(),i.position(s);var o=this.options.animation;if(o&&o.open){var n=o.actionPrefix,r=n?[n,"open"].join("-"):"open";return e.AnimationUtils.startAnimation(i[0],r,e.PositionUtils.addTransformOriginAnimationEffectsOption(i,o.open),this)}},_afterOpenHandler:function(t){var i=t[e.PopupService.OPTION.POPUP],s=t[e.PopupService.OPTION.LAUNCHER];this._initVoiceOverAssist(),this._trigger("open"),this._intialFocus(),this._on(i,{keydown:this._keyHandler,keyup:this._keyHandler}),s&&s.length>0&&this._on(s,{keydown:this._keyHandler,keyup:this._keyHandler})},_GetContextMenu:function(){if(!this._IsCustomElement())return this._super();var t=e.BaseCustomElementBridge.getSlotMap(this._content[0]).contextMenu;return t&&t.length>0?t[0]:void 0},close:function(){if(!this._isOperationPending("close",[])&&e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN&&(!1!==this._trigger("beforeClose")||this._ignoreBeforeCloseResultant)){this._setWhenReady("close"),this._restoreFocus();var t=this._launcher,i=this.element;this._off(i,"keydown keyup"),t&&t.length>0&&this._off(t,"keydown keyup"),this._destroyVoiceOverAssist();var s={};s[e.PopupService.OPTION.POPUP]=i,e.PopupService.getInstance().close(s)}},_beforeCloseHandler:function(t){var i=t[e.PopupService.OPTION.POPUP],s=this.options.animation;if(!this._ignoreBeforeCloseResultant&&s&&s.close){var o=i.attr("style"),n=s.actionPrefix,r=n?[n,"close"].join("-"):"close";return e.AnimationUtils.startAnimation(i[0],r,e.PositionUtils.addTransformOriginAnimationEffectsOption(i,s.close),this).then(function(){i.attr("style",o),i.hide()})}i.hide()},_afterCloseHandler:function(e){this._removeDescribedBy(),this._setAutoDismiss(),delete this._launcher,this._trigger("close"),this._hasPositionOfLauncherOverride&&(this.options.position.of=null,delete this._hasPositionOfLauncherOverride)},isOpen:function(){var t=e.ZOrderUtils.getStatus(this.element);return t===e.ZOrderUtils.STATUS.OPENING||t===e.ZOrderUtils.STATUS.OPEN||t===e.ZOrderUtils.STATUS.CLOSING},refresh:function(){if(this._super(),e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN&&this._reposition()){var t=this.element;e.PopupService.getInstance().triggerOnDescendents(t,e.PopupService.EVENT.POPUP_REFRESH)}},_setOption:function(t,i){var s=this.options;switch(t){case"tail":i!==s.tail&&this._setTail(i);break;case"chrome":i!==s.chrome&&this._setChrome(i);break;case"position":return this._setPosition(i),void this.refresh();case"autoDismiss":e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN&&i!==s.autoDismiss&&this._setAutoDismiss(i);break;case"modality":if(e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN){var o=this.element,n={};n[e.PopupService.OPTION.POPUP]=o,n[e.PopupService.OPTION.MODALITY]=i,e.PopupService.getInstance().changeOptions(n)}}this._superApply(arguments)},_getRootStyle:function(){return"oj-popup"},_setTail:function(e){this._destroyTail(),this._createTail(e),this._reposition()},_createTail:function(i){var s=i||this.options.tail;if("none"!==s){var o=this._getRootStyle(),n=[o,"tail"].join("-"),r=[n,s].join("-"),a=t("<div>").hide();a.addClass(n).addClass(r),a.attr("role","presentation"),this._tailId=a.attr("id",this._getSubId("tail")).attr("id");var l=this.element;if(a.appendTo(l),l.addClass(r),e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN){var u=[o,"layer"].join("-");u+=" "+r;var c={};c[e.PopupService.OPTION.POPUP]=l,c[e.PopupService.OPTION.LAYER_SELECTORS]=u,e.PopupService.getInstance().changeOptions(c)}}},_getTail:function(){var e=this._tailId;return e?t(document.getElementById(e)):null},_destroyTail:function(){var t=this._getTail();t&&t.remove(),delete this._tailId;var i=this.options.tail,s=this._getRootStyle(),o=[s,"tail",i].join("-"),n=this.element;if(n.removeClass(o),e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN){var r=[s,"layer"].join("-"),a={};a[e.PopupService.OPTION.POPUP]=n,a[e.PopupService.OPTION.LAYER_SELECTORS]=r,e.PopupService.getInstance().changeOptions(a)}},_setChrome:function(e){var t=e||this.options.chrome,i=[this._getRootStyle(),"no-chrome"].join("-"),s=this.element;"default"===t&&s.hasClass(i)?s.removeClass(i):"none"!==t||s.hasClass(i)||s.addClass(i)},_setLauncher:function(i){if(i?"string"===t.type(i)?i=t(i):1===i.nodeType&&(i=t(i)):i=t(document.activeElement),i instanceof t&&i.length>1)for(var s=this.element,o=0;o<i.length;o++){var n=i[0];if(!e.DomUtils.isAncestorOrSelf(s[0],n)){i=t(n);break}}else i instanceof t&&!(i instanceof t&&0===i.length)||(i=t(document.activeElement));this._launcher=i},_setPosition:function(t){var i=this.options;t&&(i.position=e.PositionUtils.coerceToJet(t,i.position))},_getPositionAsJqUi:function(){var i=this.options,s=e.PositionUtils.coerceToJqUi(i.position),o="rtl"===this._GetReadingDirection(),n=(s=e.PositionUtils.normalizeHorizontalAlignment(s,o)).using;return n=t.isFunction(n)?n:null,s.using=this._usingHandler.bind(this,n),s},_resolveBusyStateAndCloseImplicitly:function(e){e(),delete this._closeDelayTimer,this._closeImplicitly()},_resolveBusyStateAndCancelDelayedClosure:function(e,t){window.clearTimeout(e),t()},_usingHandler:function(t,o,n){var r=n.element.element;if(o.top!==r.css("top")||o.left!==r.css("left")){var a=this._getTail();if(a){a.hide();for(var l=0;l<i.length;l++)a.removeClass(i[l]),r.removeClass(i[l]);if(a.removeAttr("style"),n.target&&0===n.target.height&&0===n.target.width){var u="rtl"===this._GetReadingDirection(),c=e.PositionUtils.normalizeHorizontalAlignment(this.options.position,u).my;if(!e.StringUtils.isEmptyOrUndefined(c)){var p="center"===c.horizontal?c.horizontal:n.horizontal,h="center"===c.vertical?"middle":c.vertical;n.horizontal=p,n.vertical=h}}var d=[n.horizontal,n.vertical].join("-"),f=s[d];if(a.addClass(f),r.addClass(f),a.show(),"left"===n.horizontal){var m=a.outerWidth();m-=m+e.DomUtils.getCSSLengthAsInt(a.css("left")),o.left=o.left+(m-2)}else"right"===n.horizontal&&(m=a.outerWidth(),m-=m+e.DomUtils.getCSSLengthAsInt(a.css("right")),o.left=o.left-(m-2));if("top"===n.vertical){var _=a.outerHeight();_-=_+e.DomUtils.getCSSLengthAsInt(a.css(n.vertical)),o.top=o.top+(_-2)}else"bottom"===n.vertical&&(_=a.outerHeight(),_-=_+e.DomUtils.getCSSLengthAsInt(a.css(n.vertical)),o.top=o.top-(_-2));if(r.css(o),"center"===n.horizontal&&"middle"!==n.vertical){var v=r.width(),g=Math.round((v/2-a.outerWidth()/2)/v*100);a.css({left:g+"%"})}else if("middle"===n.vertical){var P=r.height(),O=Math.round((P/2-a.outerHeight()/2)/P*100);a.css({top:O+"%"})}}else r.css(o);if(e.PositionUtils.captureTransformOriginAnimationEffectsOption(r,n),t&&t(o,n),"focusLoss"===this.options.autoDismiss&&e.PositionUtils.isAligningPositionClipped(n)){this._ignoreRestoreFocus=!0;var S=e.Context.getContext(this.element[0]).getBusyContext(),y={description:["ojPopup identified by '",this.element.attr("id"),"' is pending implicit closure."].join("")},T=S.addBusyState(y),U=window.setTimeout(this._resolveBusyStateAndCloseImplicitly.bind(this,T),0);this._closeDelayTimer=this._resolveBusyStateAndCancelDelayedClosure.bind(this,U,T)}}},_reposition:function(){var i=this.element,s=this._getPositionAsJqUi();if(e.StringUtils.isString(s.of)){var o=t(s.of);if(0===o.length)return!1;s.of=o}return i.position(s),!0},_intialFocus:function(t){var i=this._deriveInitialFocus();if(t&&"none"===i&&(i="popup"),"firstFocusable"===i){for(var s,o=this._content.find(":focusable"),n=0;n<o.length;n++)if(e.FocusUtils.isFocusable(o[n])){s=o[n];break}s?(s.focus(),this._trigger("focus")):i="popup"}if("popup"===i){var r=this.element;r.attr("tabindex","-1");var a=this._closeSkipLink;a?a.getLink().focus():r.focus(),this._trigger("focus")}},_deriveInitialFocus:function(){var t=this.options,i=t.initialFocus;return"auto"===i&&(i="modal"===t.modality?e.DomUtils.isTouchSupported()?"popup":"firstFocusable":"none"),i},_isFocusInPopup:function(t,i){if(t||(t=document.activeElement),!t)return!1;var s=this.element;return i&&(s=s.parent()),e.DomUtils.isAncestorOrSelf(s[0],t)},_isFocusInLauncher:function(t){t||(t=document.activeElement);var i=this._launcher;return e.DomUtils.isAncestorOrSelf(i[0],t)},_restoreFocus:function(){this._ignoreRestoreFocus?delete this._ignoreRestoreFocus:this._isFocusInPopup(null,!0)&&this._launcher.focus()},_keyHandler:function(e){if(!e.isDefaultPrevented()){var i=e.type,s=this._content,o=e.target;if("keyup"===i&&e.keyCode===t.ui.keyCode.ESCAPE&&(this._isFocusInPopup(o)||this._isFocusInLauncher(o)))e.preventDefault(),this.close();else if("keydown"===i&&117===e.keyCode)this._isFocusInPopup(o)?"modeless"===this.options.modality?(e.preventDefault(),this._launcher.focus()):this.close():this._isFocusInLauncher(o)&&(e.preventDefault(),this._intialFocus(!0));else if("keydown"===i&&e.keyCode===t.ui.keyCode.TAB&&this._isFocusInPopup(o)){var n=s.find(":tabbable");if(n.length>0){var r=n[0],a=n[n.length-1],l=this.element;r!==o&&l[0]!==o||!e.shiftKey?a!==o||e.shiftKey||(e.preventDefault(),a===r?(l.attr("tabindex","-1"),l.focus()):t(r).focus()):(e.preventDefault(),r===a&&r===o?(l.attr("tabindex","-1"),l.focus()):t(a).focus())}else e.preventDefault(),"modeless"===this.options.modality?this._launcher.focus():this.close()}}},_setAutoDismiss:function(t){var i=this._focusLossCallback,s=this._getPopupServiceEvents();if(i&&(delete s[e.PopupService.EVENT.POPUP_AUTODISMISS],delete this._focusLossCallback),"focusLoss"===t&&(i=this._focusLossCallback=this._dismissalHandler.bind(this),s[e.PopupService.EVENT.POPUP_AUTODISMISS]=i),e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN){var o=this.element,n={};n[e.PopupService.OPTION.POPUP]=o,n[e.PopupService.OPTION.EVENTS]=s,e.PopupService.getInstance().changeOptions(n)}},_dismissalHandler:function(t){if(e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN){var i=this._launcher,s=this.element.parent(),o=t.target,n=this._focusSkipLink;if(n){var r=n.getLink();if(r&&e.DomUtils.isAncestorOrSelf(r[0],o))return}if(!e.DomUtils.isAncestorOrSelf(i[0],o)&&!e.DomUtils.isAncestorOrSelf(s[0],o)){if(e.FocusUtils.isFocusable(o)){if("mousedown"===t.type||"touchstart"===t.type)return;this._ignoreRestoreFocus=!0}this.close()}}},_addDescribedBy:function(){var e=this._launcher,i=this.element.attr("id"),s=e.attr("aria-describedby"),o=s?s.split(/\s+/):[];o.push(i),s=t.trim(o.join(" ")),e.attr("aria-describedby",s)},_removeDescribedBy:function(){var e=this._launcher,i=this.element;if(e&&0!==e.length){var s=i.attr("id"),o=e.attr("aria-describedby"),n=o?o.split(/\s+/):[],r=t.inArray(s,n);-1!==r&&n.splice(r,1),(o=t.trim(n.join(" ")))?e.attr("aria-describedby",o):e.removeAttr("aria-describedby")}},_initVoiceOverAssist:function(){var t,i=e.AgentUtils.getAgentInfo().os===e.AgentUtils.OS.IOS||e.AgentUtils.getAgentInfo().os===e.AgentUtils.OS.ANDROID,s=this._liveRegion;s||(s=this._liveRegion=new e.PopupLiveRegion);var o=this._deriveInitialFocus();if(t=i?this.getTranslatedString("none"===o?"ariaLiveRegionInitialFocusNoneTouch":"ariaLiveRegionInitialFocusFirstFocusableTouch"):this.getTranslatedString("none"===o?"ariaLiveRegionInitialFocusNone":"ariaLiveRegionInitialFocusFirstFocusable"),s.announce(t),i){var n=this._getSubId("focusSkipLink"),r=this._launcher,a=this._intialFocus.bind(this,!0);t=this.getTranslatedString("ariaFocusSkipLink"),this._focusSkipLink=new e.PopupSkipLink(r,t,a,n);var l=this._content,u=this._getSubId("closeSkipLink");a=this._closeImplicitly.bind(this),t=this.getTranslatedString("ariaCloseSkipLink"),this._closeSkipLink=new e.PopupSkipLink(l,t,a,u)}},_destroyVoiceOverAssist:function(){this._liveRegion.destroy(),delete this._liveRegion;var e=this._focusSkipLink;e&&(e.destroy(),delete this._focusSkipLink);var t=this._closeSkipLink;t&&(t.destroy(),delete this._closeSkipLink)},_getSubId:function(t){var i=this.element.attr("id");return e.StringUtils.isEmptyOrUndefined(i)&&(i=this.uuid),[i,t].join("_")},_surrogateRemoveHandler:function(){this.element.remove()},_getPopupServiceEvents:function(){if(!this._popupServiceEvents){var t=this._popupServiceEvents={};t[e.PopupService.EVENT.POPUP_CLOSE]=this._closeImplicitly.bind(this),t[e.PopupService.EVENT.POPUP_REMOVE]=this._surrogateRemoveHandler.bind(this),t[e.PopupService.EVENT.POPUP_REFRESH]=this.refresh.bind(this),t[e.PopupService.EVENT.POPUP_BEFORE_OPEN]=this._beforeOpenHandler.bind(this),t[e.PopupService.EVENT.POPUP_AFTER_OPEN]=this._afterOpenHandler.bind(this),t[e.PopupService.EVENT.POPUP_BEFORE_CLOSE]=this._beforeCloseHandler.bind(this),t[e.PopupService.EVENT.POPUP_AFTER_CLOSE]=this._afterCloseHandler.bind(this)}return this._popupServiceEvents},_closeImplicitly:function(){this._ignoreBeforeCloseResultant=!0,this.close(),delete this._ignoreBeforeCloseResultant},_setWhenReady:function(t){var i=this._whenReadyMediator;i&&(i.destroy(),delete this._whenReadyMediator),["open","close"].indexOf(t)<0||(this._whenReadyMediator=new e.PopupWhenReadyMediator(this.element,t,"ojPopup",this._IsCustomElement()))},_isOperationPending:function(e,t){var i=this._whenReadyMediator;return!!i&&i.isOperationPending(this,e,e,t)},_setupFocus:function(e){var i=this;this._focusable({applyHighlight:!0,setupHandlers:function(s,o){i._on(e,{focus:function(e){s(t(e.currentTarget))},blur:function(e){o(t(e.currentTarget))}})}})},_NotifyDetached:function(){e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly(),this._super()}}),e.Components.setDefaultOptions({ojPopup:{modality:e.Components.createDynamicPropertyGetter(function(){return(e.ThemeUtils.parseJSONFromFontFamily("oj-popup-option-defaults")||{}).modality}),animation:e.Components.createDynamicPropertyGetter(function(){return(e.ThemeUtils.parseJSONFromFontFamily("oj-popup-option-defaults")||{}).animation})}}),e.CustomElementBridge.registerMetadata("oj-popup","baseComponent",{properties:{autoDismiss:{type:"string",enumValues:["focusLoss","none"]},chrome:{type:"string",enumValues:["default","none"]},initialFocus:{type:"string",enumValues:["auto","none","firstFocusable","popup"]},modality:{type:"string",enumValues:["modeless","modal"]},position:{type:"object",properties:{my:{type:"object|string",properties:{horizontal:{type:"string",enumValues:["start","end","left","center","right"]},vertical:{type:"string",enumValues:["top","center","bottom"]}}},at:{type:"object|string",properties:{horizontal:{type:"string",enumValues:["start","end","left","center","right"]},vertical:{type:"string",enumValues:["top","center","bottom"]}}},offset:{type:"object",properties:{x:{type:"number"},y:{type:"number"}}},of:{type:"string|object"},collision:{type:"string",enumValues:["flip","fit","flipfit","flipcenter","none"]}}},tail:{type:"string",enumValues:["simple","none"]}},events:{beforeOpen:{},open:{},beforeClose:{},close:{},focus:{},animateStart:{},animateEnd:{}},methods:{close:{},isOpen:{},open:{}},extension:{_WIDGET_NAME:"ojPopup"}}),e.CustomElementBridge.register("oj-popup",{metadata:e.CustomElementBridge.getMetadata("oj-popup")})});
define('ojs/ojlabel',["ojs/ojcore","jquery","hammerjs","ojs/ojjquery-hammer","ojs/ojcomponentcore","ojs/ojpopup"],function(e,t,i){e.__registerWidget("oj.ojLabel",t.oj.baseComponent,{version:"1.0.0",defaultElement:"<label>",widgetEventPrefix:"oj",options:{for:null,help:{definition:null,source:null},labelId:null,showRequired:!1,rootAttributes:null},_BUNDLE_KEY:{_TOOLTIP_HELP:"tooltipHelp",_TOOLTIP_REQUIRED:"tooltipRequired"},widget:function(){return this.uiLabel},refresh:function(){this._super(),this._refreshRequired(),this._refreshHelp(),this._addIdsToDom()},_InitOptions:function(e,t){this._super(e,t),this._isCustomElement=this._IsCustomElement(),this._checkRequiredOption()},_ComponentCreate:function(){this._super(),this._touchEatClickNamespace=this.eventNamespace+"TouchEatClick",this._touchEatContextMenuNamespace=this.eventNamespace+"TouchEatContextMenu",this._helpDefPopupNamespace=this.eventNamespace+"HelpDefPopup",this._bTouchSupported=e.DomUtils.isTouchSupported(),this._drawOnCreate()},_SaveAttributes:function(e){this._IsCustomElement()||(this._savedClasses=e.attr("class"))},_RestoreAttributes:function(){this._IsCustomElement()||(this._savedClasses?this.element.attr("class",this._savedClasses):this.element.removeAttr("class"))},_NotifyDetached:function(){this._superApply(arguments),this._handleCloseHelpDefPopup()},_NotifyHidden:function(){this._superApply(arguments),this._handleCloseHelpDefPopup()},_GetTranslationsSectionName:function(){return this._IsCustomElement(),"oj-ojLabel"},_drawOnCreate:function(){var e,i=null;this.OuterWrapper?(this.uiLabel=t(this.OuterWrapper).append(this.element.wrap(this._createOjLabelGroupDom()).parent()),this.uiLabel.addClass("oj-label oj-component")):this.uiLabel=this.element.wrap(this._createRootDomElement()).closest(".oj-component"),this._addIdsToDom(),e=this.element[0].id,this.helpSpanId=e+"_helpIcon",this.requiredSpanId=e+"_requiredIcon",this._isCustomElement||this._moveLabelStyleClassesToRootDom(),this.options.showRequired&&(this._createRequiredIconSpanDom(),this._isCustomElement&&this._addRequiredDescribedByOnCustomFormElement()),this._isCustomElement&&this._refreshFor(),this._needsHelpIcon()&&(i=this._createIconSpan(this.helpSpanId,!0),this._createHelp(i),this._isCustomElement&&this._addHelpSpanIdOnTarget(this.helpSpanId))},_getCustomLabelFormElement:function(){var e,t=null;return this._isCustomElement?(null==(t=this._getForTargetElement())&&(this.OuterWrapper&&(e=this.OuterWrapper.id),null==(t=this._getTargetElementFromLabelledAttr("labelled-by",e))&&(t=this._getTargetElementFromLabelledAttr("aria-labelledby",this.options.labelId))),t):null},_addRequiredDescribedByOnCustomFormElement:function(){var e,t;this.OuterWrapper&&(e=this.OuterWrapper.id),(t=this._getTargetElementFromLabelledAttr("labelled-by",e))&&this._isElementCustomElementAriaRequiredUnsupported(t)&&this._addElementAttribute(t,this.requiredSpanId,"described-by")},_removeRequiredDescribedByOnCustomFormElement:function(){var e,t;this.OuterWrapper&&(e=this.OuterWrapper.id),(t=this._getTargetElementFromLabelledAttr("labelled-by",e))&&this._isElementCustomElementAriaRequiredUnsupported(t)&&this._removeElementAttribute(t,this.requiredSpanId,"described-by")},_addHelpSpanIdOnTarget:function(e){var t,i=this._getCustomLabelFormElement();i&&(t=this._getAriaAttributeForTarget(i),this._addElementAttribute(i,e,t))},_removeHelpSpanIdOnTarget:function(e){var t,i=this._getCustomLabelFormElement();i&&(t=this._getAriaAttributeForTarget(i),this._removeElementAttribute(i,e,t))},_getAriaAttributeForTarget:function(e){return this._isElementCustomElement(e)?"described-by":"group"===e.getAttribute("role")?"aria-labelledby":"aria-describedby"},_getForTargetElement:function(){return document.getElementById(this.options.for)},_getTargetElementFromLabelledAttr:function(e,t){var i;return t?(i="["+e+"~='"+t+"']",document.querySelector(i)):null},_isElementCustomElement:function(t){return e.Assert.assertDomElement(t),-1!==t.tagName.indexOf("-")},_isElementCustomElementAriaRequiredUnsupported:function(t){var i;e.Assert.assertDomElement(t);var o,n=["oj-radioset","oj-checkboxset"],s=n.length,r=!1;if(t){o=t.tagName.toLowerCase();for(var l=0;l<s&&!r;l++)i=n[l],0===o.indexOf(i)&&(r=!0)}return r},_addElementAttribute:function(e,i,o){var n,s,r=e.getAttribute(o);s=r?r.split(/\s+/):[],-1===t.inArray(i,s)&&s.push(i),n=t.trim(s.join(" ")),e.setAttribute(o,n)},_removeElementAttribute:function(e,i,o){var n,s,r,l=e.getAttribute(o);r=l?l.split(/\s+/):[],-1!==(s=t.inArray(i,r))&&r.splice(s,1),(n=t.trim(r.join(" ")))?e.setAttribute(o,n):e.setAttribute(o,"")},_addForOnLabel:function(e){var t=this.element[0],i=this.options.for;this._isElementCustomElement(e)?t.setAttribute("for",i+"|input"):t.setAttribute("for",i)},_createHelp:function(e){var i=this.options.help.definition,o=this.options.help.source,n=this._createHelpIconAnchorDomElement(i,o);t(e).prepend(n),this._attachHelpDefToIconAnchor(),this._focusable({element:n,applyHighlight:!0})},_createRequiredIconSpanDom:function(){this._createIconSpan(this.requiredSpanId,!1).appendChild(this._createRequiredIconDomElement())},_checkRequiredOption:function(){var e=this.options.showRequired;if(null!==e&&"boolean"!=typeof e)throw new Error("Option 'showRequired' has invalid value set: "+e)},_addIdsToDom:function(){this._isCustomElement&&this._refreshLabelId(),null==this.element.attr("id")&&this.element.uniqueId()},_moveLabelStyleClassesToRootDom:function(){var e,t,i,o=this.element.attr("class");if(o){i=(e=o.split(/\s+/)).length;for(var n=0;n<i;n++)(t=e[n]).indexOf("-label")>0&&(this.uiLabel.addClass(t),this.element.removeClass(t))}},_createIconSpan:function(e,t){var i=document.createElement("span");return i.setAttribute("id",e),t?this.uiLabel.find(".oj-label-group").prepend(i):this.element.before(i),i},_createRootDomElement:function(){var e,t,i=this.options.rootAttributes,o="oj-label oj-component";return i&&(e=i.class),e&&(o=o+" "+e),(t=document.createElement("div")).className=o,t.appendChild(this._createOjLabelGroupDom()),t},_createOjLabelGroupDom:function(){var e;return(e=document.createElement("div")).className="oj-label-group",e},_createRequiredIconDomElement:function(){var e=this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_REQUIRED),t=document.createElement("span");return t.className="oj-label-required-icon oj-component-icon",t.setAttribute("role","img"),t.setAttribute("title",e),t.setAttribute("aria-label",e),t},_createHelpIconAnchorDomElement:function(t,i){var o;if((o=document.createElement("a")).setAttribute("tabindex","0"),o.setAttribute("target","_blank"),o.className="oj-label-help-icon-anchor oj-label-help-icon oj-component-icon oj-clickable-icon-nocontext",i)try{e.DomUtils.validateURL(i),o.setAttribute("href",i)}catch(e){throw new Error(e+". The source option ("+i+") is invalid.")}else o.setAttribute("role","img");return t?o.setAttribute("aria-label",t):o.setAttribute("aria-label",this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_HELP)),o},_attachHelpDefToIconAnchor:function(){var e,t,i,o=this;0!==(t=this.widget().find(".oj-label-help-icon-anchor")).length&&(e=this._createHelpDefPopupDiv(),this._bTouchSupported&&(this._eatClickOnHelpIconListener&&this.widget().off(this._touchEatClickNamespace),this._eatClickOnHelpIconListener=function(e){return!1},this._eatContextMenuOnHelpIconListener=function(e){return!1},t.on("contextmenu"+this._touchEatContextMenuNamespace,this._eatContextMenuOnHelpIconListener)),this._openPopupForHelpDefCallbackListener||(this._openPopupForHelpDefCallbackListener=function(i){o._handleOpenHelpDefPopup(i,e,t)}),this._closePopupForHelpDefCallbackListener||(this._closePopupForHelpDefCallbackListener=function(e){o._handleCloseHelpDefPopup()}),this._addShowHelpDefinitionEventHandlers(t),i={my:"start bottom",at:"end top",collision:"flipcenter",of:t},e.ojPopup({position:i,modality:"modeless",animation:{open:null,close:null}}))},_createHelpDefPopupDiv:function(){var e,i,o,n;return n=this.options.help.definition||this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_HELP),this._helpDefPopupDivId?(o=t(document.getElementById(this._helpDefPopupDivId)))&&o.find(".oj-help-popup-container").first().text(n):((i=document.createElement("div")).className="oj-help-popup",i.style.display="none",(o=t(i)).uniqueId(),this._helpDefPopupDivId=o.prop("id"),(e=document.createElement("div")).className="oj-help-popup-container",i.appendChild(e),t(e).text(n),document.getElementsByTagName("body")[0].appendChild(i)),o},_addShowHelpDefinitionEventHandlers:function(t){var o;t.on("focusin"+this._helpDefPopupNamespace+" mouseenter"+this._helpDefPopupNamespace,this._openPopupForHelpDefCallbackListener),t.on("mouseleave"+this._helpDefPopupNamespace,this._closePopupForHelpDefCallbackListener),this._bTouchSupported&&(this.options.help.source?(o={recognizers:[[i.Press,{time:e.DomUtils.PRESS_HOLD_THRESHOLD}]]},t.ojHammer(o),this._on(t,{press:this._openPopupForHelpDefCallbackListener})):(o={recognizers:[[i.Tap],[i.Press,{time:e.DomUtils.PRESS_HOLD_THRESHOLD}]]},t.ojHammer(o),this._on(t,{press:this._openPopupForHelpDefCallbackListener,tap:this._openPopupForHelpDefCallbackListener})))},_handleOpenHelpDefPopup:function(t,i,o){if(!i.ojPopup("isOpen"))if(this._bTouchSupported){if("press"===t.type){var n=this.widget();n.on("click"+this._touchEatClickNamespace,this._eatClickOnHelpIconListener);var s=this;i.on("ojclose",function(e,t){n.off(s._touchEatClickNamespace)})}else i.off("ojclose");"press"!==t.type&&"tap"!==t.type&&(e.DomUtils.recentTouchStart()||"focusin"!==t.type&&"mouseenter"!==t.type)||i.ojPopup("open",o)}else i.ojPopup("open",o)},_handleCloseHelpDefPopup:function(){null!=this._helpDefPopupDivId&&t(document.getElementById(this._helpDefPopupDivId)).ojPopup("close")},_removeHelpDefIconEventListeners:function(e){this._bTouchSupported&&(this.widget().off(this._touchEatClickNamespace),e.off(this._touchEatContextMenuNamespace),this._eatClickOnHelpIconListener=null,this._eatContextMenuOnHelpIconListener=null,e.ojHammer("destroy")),e.off(this._helpDefPopupNamespace),this._openPopupForHelpDefCallbackListener=null,this._closePopupForHelpDefCallbackListener=null},_removeHelpDefPopup:function(){var e;null!=this._helpDefPopupDivId&&((e=t(document.getElementById(this._helpDefPopupDivId)))&&(e.ojPopup("destroy"),e.remove()),this._helpDefPopupDivId=null)},_needsHelpIcon:function(){var e,t,i=this.options,o=i.help.source;return(t=""!==o&&null!=o)||(t=""!==(e=i.help.definition)&&null!=e),t},_refreshHelp:function(){var e,t,i=this.helpSpanId;1===(t=this.uiLabel.find(".oj-label-help-icon")).length&&(this._removeHelpDefIconEventListeners(t),this._removeHelpDefPopup(),t.remove()),e=document.getElementById(i),this._needsHelpIcon()?(null==e&&(e=this._createIconSpan(i,!0)),this._createHelp(e),this._isCustomElement&&this._addHelpSpanIdOnTarget(i)):null!==e&&(e.parentNode.removeChild(e),this._isCustomElement&&this._removeHelpSpanIdOnTarget(i))},_refreshRequired:function(){var e,t,i=this.requiredSpanId;e=document.getElementById(i),this.options.showRequired?e?(t=this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_REQUIRED),this.uiLabel.find(".oj-label-required-icon").attr("title",t)):(this._createRequiredIconSpanDom(),this._isCustomElement&&this._addRequiredDescribedByOnCustomFormElement()):(null!==(e=document.getElementById(i))&&e.parentNode.removeChild(e),this._isCustomElement&&this._removeRequiredDescribedByOnCustomFormElement())},_refreshFor:function(){var e;this._isCustomElement&&(e=this._getForTargetElement())&&this._addForOnLabel(e)},_refreshLabelId:function(){var e,t;this._isCustomElement&&((e=this.options.labelId)?this.element.attr("id",e):(t=this.uiLabel.attr("id"))&&this.element.attr("id",t+"|label"))},_setOption:function(e,t){switch(this._superApply(arguments),e){case"showRequired":this._refreshRequired();break;case"help":this._refreshHelp();break;case"for":this._isCustomElement&&this._refreshFor();break;case"labelId":this._isCustomElement&&this._refreshLabelId()}},getNodeBySubId:function(e){var t;return(t=this._super(e))||"oj-label-help-icon"===e.subId&&(t=this.widget().find(".oj-label-help-icon")[0]),t||null},getSubIdByNode:function(e){var t=null;return null!=e&&e===this.widget().find(".oj-label-help-icon")[0]&&(t={subId:"oj-label-help-icon"}),t||this._superApply(arguments)},_destroy:function(){var t=this.uiLabel.find(".oj-label-help-icon");return this._removeHelpDefIconEventListeners(t),this._removeHelpDefPopup(),this.helpSpanId=null,this.requiredSpanId=null,this._isCustomElement=null,e.DomUtils.unwrap(this.element,this.uiLabel),this._super()}}),e.CustomElementBridge.registerMetadata("oj-label","baseComponent",{properties:{help:{type:"Object",properties:{definition:{type:"string"},source:{type:"string"}}},showRequired:{type:"boolean"},labelId:{type:"string"},for:{type:"string"},translations:{type:"Object",properties:{tooltipHelp:{type:"string",value:"Help"},tooltipRequired:{type:"string",value:"Required"}}}},extension:{_INNER_ELEM:"label",_WIDGET_NAME:"ojLabel",_GLOBAL_TRANSFER_ATTRS:["accesskey"]}}),e.CustomElementBridge.register("oj-label",{metadata:e.CustomElementBridge.getMetadata("oj-label")})});
define('ojs/ojeditablevalue',["ojs/ojcore","jquery","hammerjs","ojs/ojjquery-hammer","promise","ojs/ojcomponentcore","ojs/ojvalidation-base","ojs/ojpopup","ojs/ojlabel","ojs/ojanimation"],function(e,t,s){e.EditableValueUtils={},e.EditableValueUtils.validationContext={COMPONENT_CREATE:1,CONVERTER_OPTION_CHANGE:2,DISABLED_OPTION_CHANGE:3,READONLY_OPTION_CHANGE:4,REFRESH_METHOD:5,REQUIRED_OPTION_CHANGE:6,RESET_METHOD:7,USER_ACTION:8,VALIDATE_METHOD:9,VALIDATORS_OPTION_CHANGE:10,VALUE_OPTION_CHANGE:11},e.EditableValueUtils.validateMethodOptions={doValueChangeCheck:!1,validationContext:e.EditableValueUtils.validationContext.VALIDATE_METHOD},e.EditableValueUtils.converterOptionOptions={doNotClearMessages:!0,validationContext:e.EditableValueUtils.validationContext.CONVERTER_OPTION_CHANGE},e.EditableValueUtils.disabledOptionOptions={doNotClearMessages:!0,validationContext:e.EditableValueUtils.validationContext.DISABLED_OPTION_CHANGE},e.EditableValueUtils.requiredOptionOptions={doNotClearMessages:!0,validationContext:e.EditableValueUtils.validationContext.REQUIRED_OPTION_CHANGE},e.EditableValueUtils.readOnlyOptionOptions={doNotClearMessages:!0,validationContext:e.EditableValueUtils.validationContext.READONLY_OPTION_CHANGE},e.EditableValueUtils.refreshMethodOptions={doNotClearMessages:!0,validationContext:e.EditableValueUtils.validationContext.REFRESH_METHOD},e.EditableValueUtils.validatorsOptionOptions={doNotClearMessages:!0,validationContext:e.EditableValueUtils.validationContext.VALIDATORS_OPTION_CHANGE},e.EditableValueUtils.CUSTOM_LABEL_ELEMENT_ID="|label",e.EditableValueUtils.VALIDATE_VALUES={VALID:"valid",INVALID:"invalid"},e.EditableValueUtils.getAttributeValue=function(e,t){var s,i,n,o={};if(e&&t)switch(t){case"disabled":s=void 0!==e.attr("disabled")?!!e.prop("disabled"):void 0;break;case"pattern":s=e.prop("pattern")||void 0;break;case"placeholder":s=e.prop("placeholder")||void 0;break;case"readonly":s=void 0!==e.attr("readonly")?!!e.prop("readonly"):void 0;break;case"required":i=e.attr("required"),n=e.prop("required"),s=void 0!==i?void 0!==n?!!n:!!i:void 0;break;case"title":s=void 0!==e.attr("title")?e.prop("title"):void 0;break;case"value":s=e.val()||void 0;break;case"min":case"max":default:s=e.attr(t)||void 0}return void 0!==s?(o.fromDom=!0,o.value=s):o.fromDom=!1,o},e.EditableValueUtils.initializeOptionsFromDom=function(t,s,i,n){for(var o={},a=0;a<t.length;a++){var r,l,p=t[a],u=p.attribute,g=p.option||u,_=p.coerceDomValue,h=p.validateOption,d=i.element,c=i.options[g];void 0===s[g]&&(c=i.options[g],(l=e.EditableValueUtils.getAttributeValue(d,u)).fromDom&&(r=l.value,_&&("boolean"==typeof _?r=e.EditableValueUtils.coerceDomValueForOption(g,r):"function"==typeof _&&(r=_.call(i,r))),o[g]=r));var E=g in o?o[g]:c;h&&"boolean"==typeof h&&e.EditableValueUtils.validateValueForOption(g,E)}null!=n&&n(o),i.option(o,{_context:{writeback:!0,internalSet:!0}})},e.EditableValueUtils.validateValueForOption=function(e,t){var s=!1;switch(e){case"required":null!==t&&"boolean"!=typeof t&&(s=!0);break;case"readOnly":case"disabled":null!==t&&"boolean"!=typeof t&&(s=!0)}if(s)throw"Option '"+e+"' has invalid value set: "+t},e.EditableValueUtils.coerceDomValueForOption=function(e,t){var s=t;switch(e){case"required":s=!!t}return s},e.EditableValueUtils.setPickerAttributes=function(e,t){if(e&&t){var s=t.class;s&&e.addClass(s);var i=t.style;if(i){var n=e.attr("style");n?e.attr("style",n+";"+i):e.attr("style",i)}}},e.EditableValueUtils.getOjLabelId=function(t,s){var i,n,o,a,r,l,p;if(i=t[0].id,o=0===(n=t.siblings("[for='"+i+"']")).length?document.querySelector("oj-label[for='"+i+"']"):n[0]){if(p=o.getAttribute("label-id"))return p;if(a=o.id)return a+e.EditableValueUtils.CUSTOM_LABEL_ELEMENT_ID;if((r=o.querySelector("label"))&&(l=r.id),l)return l;if(s)return o.setAttribute("label-id",s),s}return null},e.EditableValueUtils.validate=function(){return this._IsCustomElement()?Promise.resolve(this._ValidateReturnBoolean()?e.EditableValueUtils.VALIDATE_VALUES.VALID:e.EditableValueUtils.VALIDATE_VALUES.INVALID):this._ValidateReturnBoolean()},e.EditableValueUtils._ValidateReturnBoolean=function(){return this._SetValue(this._GetDisplayValue(),null,this._VALIDATE_METHOD_OPTIONS)},e.EditableValueUtils.setSubIdForCustomLabelFor=function(e,t){e.setAttribute("id",t+"|input")},e.EditableValueUtils._updateLabelledBy=function(t,s,i){var n=e.EditableValueUtils.CUSTOM_LABEL_ELEMENT_ID;this._IsCustomElement()&&(t&&(t+=n),s&&(s+=n),t&&e.EditableValueUtils._removeAriaLabelledBy(i,t),s&&e.EditableValueUtils._addAriaLabelledBy(i,s))},e.EditableValueUtils._refreshRequired=function(e){var t,s,i,n=this._AriaRequiredUnsupported();this._refreshTheming("required",e),n||(s=this._GetContentElement(),(i=e)&&s?s.attr("aria-required",i):s.removeAttr("aria-required")),this._IsCustomElement()||(this.$label||this._createOjLabel(),this.$label&&(this.$label.ojLabel("option","showRequired",e),n&&(t=this._getAriaLabelledById(this.element))&&(e?this._addAriaDescribedBy(t+"_requiredIcon"):this._removeAriaDescribedBy(t+"_requiredIcon"))))},e.EditableValueUtils._AfterSetOptionRequired=function(t){this._refreshRequired(this._IsRequired()),this._runMixedValidationAfterSetOption(e.EditableValueUtils.requiredOptionOptions)},e.EditableValueUtils._AfterSetOptionValidators=function(){var t=!1;this._ResetAllValidators(),this._hasInvalidMessagesShowing()&&(t=!0),t&&(this._clearComponentMessages(),this._updateValue(e.EditableValueUtils.validatorsOptionOptions))},e.EditableValueUtils._AfterSetOptionConverter=function(t){var s=!1;this._ResetConverter(),this._hasInvalidMessagesShowing()&&(s=!0),s?(this._clearComponentMessages(),this._updateValue(e.EditableValueUtils.converterOptionOptions)):this._Refresh(t,this.options[t],!0)},e.EditableValueUtils._ResetConverter=function(){this._converter=null,this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.CONVERTER_HINT))},e.EditableValueUtils._GetNormalizedValidatorsFromOption=function(){var t,s,i,n,o,a,r=!0,l=[];if(i=this.options.validators)for(t=0;t<i.length;t++)"object"==typeof(s=i[t])?(s.validate&&"function"==typeof s.validate||(r=!1),r||(a=s.type)&&"string"==typeof a&&((o=e.Validation.validatorFactory(a))?((n=e.CollectionUtils.copyInto({},s.options)||{}).converter=n.converter||this._GetConverter(),n.label=n.label||this._getLabelText(),s=o.createValidator(n)):e.Logger.error("Unable to locate a validatorFactory for the requested type: "+a)),l.push(s)):e.Logger.error("Unable to parse the validator provided:"+s);return l},e.EditableValueUtils._GetConverter=function(){var t;return this._converter||(t=this.options.converter,this._converter=e.IntlConverterUtils.getConverterInstance(t)),this._converter||null},e.EditableValueUtils._addAriaLabelledBy=function(e,s){e.each(function(){var e,i=t(this).attr("aria-labelledby");e=i?i.split(/\s+/):[],-1===t.inArray(s,e)&&e.push(s),i=t.trim(e.join(" ")),t(this).attr("aria-labelledBy",i)})},e.EditableValueUtils._removeAriaLabelledBy=function(e,s){var i;e.each(function(){var e,n;n=(i=t(this).attr("aria-labelledby"))?i.split(/\s+/):[],-1!==(e=t.inArray(s,n))&&n.splice(e,1),(i=t.trim(n.join(" ")))?t(this).attr("aria-labelledby",i):t(this).removeAttr("aria-labelledby")})},e.EditableValueUtils._SetInputType=function(t){var s="text",i=e.AgentUtils.getAgentInfo();i.os!==e.AgentUtils.OS.ANDROID&&i.os!==e.AgentUtils.OS.IOS&&i.os!==e.AgentUtils.OS.WINDOWSPHONE||t.indexOf(this.options.virtualKeyboard)>=0&&(s=this.options.virtualKeyboard),this.element.attr("type",s)},e.__registerWidget("oj.editableValue",t.oj.baseComponent,{widgetEventPrefix:"oj",options:{describedBy:null,disabled:!1,displayOptions:void 0,help:void 0,helpHints:{definition:"",source:""},labelHint:"",messagesCustom:[],messagesHidden:void 0,messagesShown:void 0,title:"",valid:void 0,value:void 0,animateStart:null,animateEnd:null},getNodeBySubId:function(e){var t;if(!(t=this._super(e))&&!this._IsCustomElement()&&"oj-label-help-icon"===e.subId){var s=this._GetLabelElement();s&&(t=s.parent().find(".oj-label-help-icon"))}return t||null},getSubIdByNode:function(e){var s,i,n,o=null;return null!=e&&null!=(s=t(e).closest("a.oj-label-help-icon"))&&null!=(i=s.closest(".oj-label"))&&(n=i.find("label")[0])&&n==this._GetLabelElement()[0]&&(o={subId:"oj-label-help-icon"}),o},isValid:function(){return void 0===this._valid&&(this._valid=!this._hasInvalidMessages()),this._valid},refresh:function(){this._super(),this._doRefresh(!0)},reset:function(){this._clearAllMessages(),this._runDeferredValidation(this._VALIDATION_CONTEXT.RESET_METHOD),this._refreshComponentDisplayValue(this.options.value,!0)},showMessages:function(){var t,s,i,n=[],o=this.options.messagesHidden,a=o.length>0;for(t=0;t<o.length;t++)(s=o[t])instanceof e.ComponentMessage?(s._forceDisplayToShown(),i=s.clone()):i=new e.Message(s.summary,s.detail,s.severity),n.push(i);a&&(this._clearMessages("messagesHidden"),this._updateMessagesOption("messagesShown",n),this._setValidOption(null))},_VALIDATION_MODE:{FULL:1,VALIDATORS_ONLY:2,REQUIRED_VALIDATOR_ONLY:3},_VALIDATION_CONTEXT:e.EditableValueUtils.validationContext,_VALIDATE_METHOD_OPTIONS:e.EditableValueUtils.validateMethodOptions,_InitOptions:function(e,t){if(this._super(e,t),this._IsCustomElement()){var s=this.options.help;null!=s&&null!=(i=s.instruction)&&(this.options.title=i);var i,n=this.options.displayOptions;null!=n&&null!=(i=n.helpInstruction)&&(n.title=i,this.options.displayOptions=n)}},_ComponentCreate:function(){var e=this.element,s=this._GetSavedAttributes(e);if(this._super(),this.options.messagesCustom=this.options.messagesCustom||[],this.options.messagesHidden=[],this.options.messagesShown=this.options.messagesCustom.length>0?this._cloneMessagesBeforeSet(this.options.messagesCustom):[],this._SetDisabledDom(e),this._HasPlaceholderSet()&&(this._SetPlaceholder(this.options.placeholder),this._customPlaceholderSet=!0),s&&!this._IsCustomElement()){var i=e[0].tagName.toLowerCase();"input"!==i&&"textarea"!==i||t.each(["required","title","pattern"],function(t,i){i in s&&e.removeAttr(i)})}},_AfterCreate:function(){var e;this._super(),this._doRefresh(!1),this._IsCustomElement()?(void 0===this.customOjLabelElement&&(this.customOjLabelElement=this._getCustomOjLabelElement()),this.customOjLabelElement&&t(this.customOjLabelElement).addClass(this._GetDefaultStyleClass()+"-label")):this._createOjLabel(),(e=this.options.describedBy)&&this._addAriaDescribedBy(e),this._initComponentMessaging(),this._runDeferredValidation(this._VALIDATION_CONTEXT.COMPONENT_CREATE),this.options.messagesShown.length>0&&this._setMessagesOption("messagesShown",this.options.messagesShown,null,!0),this.widget().addClass("oj-form-control")},_SaveAttributes:function(e){this._IsCustomElement()||this._SaveAllAttributes(e)},_RestoreAttributes:function(e){this._IsCustomElement()||this._RestoreAllAttributes(e)},_AfterSetOption:function(t,s){switch(t){case"disabled":this._AfterSetOptionDisabledReadOnly(t,e.EditableValueUtils.disabledOptionOptions);break;case"displayOptions":if(this._IsCustomElement()){var i=this.options.displayOptions;if(null!=i){var n=i.helpInstruction;null!=n&&(i.title=n,this.options.displayOptions=i)}}this._initComponentMessaging();break;case"help":this._IsCustomElement()||this._Refresh(t,this.options[t]),this._IsCustomElement()&&(this.options.title=this.options.help.instruction,this._titleOptionChanged());break;case"messagesCustom":this._messagesCustomOptionChanged(s),this._setValidOption(null);break;case"placeholder":this._placeholderOptionChanged(s);break;case"title":this._titleOptionChanged();break;case"translations":this.refresh();break;case"value":this._AfterSetOptionValue(t,s)}},_AfterSetOptionDisabledReadOnly:function(e,t){var s=!this.options[e];this._Refresh(e,this.options[e]),s&&this._runMixedValidationAfterSetOption(t)},_AfterSetOptionValue:function(e,t){var s,i=t?t._context:null,n=!1;i&&(n=!!i.originalEvent,s=i.doNotClearMessages||!1),n||(s||this._clearAllMessages(null),this._runDeferredValidation(this._VALIDATION_CONTEXT.VALUE_OPTION_CHANGE)),this._Refresh(e,this.options[e],!0)},_CanSetValue:function(){return!this.options.disabled},_destroy:function(){var s,i,n=this._super();if(this._clearAllMessages(null,!0),this._getComponentMessaging().deactivate(),this.$label)for(i=this.$label.length,s=0;s<i;s++)this.$label[s]&&null!=e.Components.__GetWidgetConstructor(this.$label[s])&&t(this.$label[s]).ojLabel("destroy");return n},GetFocusElement:function(){return this._GetContentElement()[0]},_setOption:function(t,s,i){var n,o,a,r=!1;if("string"==typeof t&&void 0!==s)switch(t){case"messagesHidden":case"messagesShown":case"rawValue":r=!0;break;case"describedBy":a=s,(o=this.options.describedBy)&&this._removeAriaDescribedBy(o),a&&this._addAriaDescribedBy(a)}return r?(e.Logger.error(t+" option cannot be set"),this):(n=this._superApply(arguments),this._AfterSetOption(t,i),n)},_GetContentElement:function(){return this.element},_GetLabelElement:function(){var e;if(this.$label)return this.$label;var s=this._getAriaLabelledByElement(this.element);if(null!==s&&0!==s.length)return s;var i=this.element.prop("id");return void 0!==i&&0!==(s=t("label[for='"+i+"']")).length?s:0!==(e=this.element.closest("[aria-labelledby]")).length&&null!==(s=this._getAriaLabelledByElement(e))&&0!==s.length?s:null},_GetElementValue:function(){return this.element.val()},_GetMessagingLauncherElement:function(){return this._GetContentElement()},_GetConverter:function(){return null},_GetImplicitValidators:function(){return this._implicitValidators||(this._implicitValidators={}),this._implicitValidators},_GetDisplayValue:function(e){return this._GetContentElement().val()},_GetNormalizedValidatorsFromOption:function(){return[]},_GetAllValidators:function(){var e,t,s,i,n;if(!this._allValidators){e=[],s=this._GetImplicitValidators(),i=[];var o,a=Object.keys(s),r=a.length;if(r>0){for(t=0;t<r;t++)o=a[t],i.push(s[o]);e=e.concat(i)}(n=this._GetNormalizedValidatorsFromOption()).length>0&&(e=e.concat(n)),this._allValidators=e}return this._allValidators||[]},_ResetAllValidators:function(){this._allValidators&&(this._allValidators.length=0),this._allValidators=null,this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDATOR_HINTS))},_IsRequired:function(){return!1},_HandleChangeEvent:function(e){var t=this._GetDisplayValue();this._SetValue(t,e)},_SetRawValue:function(e,t){var s={};s._context={originalEvent:t,writeback:!0,internalSet:!0,readOnly:!0},this._CompareOptionValues("rawValue",this.options.rawValue,e)||this.option("rawValue",e,s)},_Refresh:function(e,t,s){var i,n;switch(e){case"converter":t=this.options.value,this._refreshComponentDisplayValue(t,s);break;case"disabled":this._refreshTheming("disabled",this.options.disabled);break;case"help":this._IsCustomElement()||this.$label&&(i=this.options.help.definition,n=this.options.help.source,this.$label.ojLabel("option","help",{definition:i,source:n}),this._refreshDescribedByForLabel());break;case"value":this._refreshComponentDisplayValue(t,s)}},_NotifyHidden:function(){this._superApply(arguments),this._getComponentMessaging().close()},_NotifyDetached:function(){this._superApply(arguments),this._getComponentMessaging().close()},_ResetComponentState:function(){this.$label&&this.$label.ojLabel("refresh"),this._implicitReqValidator=null,this._converter=null,this._ResetAllValidators()},_SetDisplayValue:function(e){var t=this._GetContentElement();t.val()!==e&&t.val(e)},_SetDisabledDom:function(e){"boolean"==typeof this.options.disabled&&e.prop("disabled",this.options.disabled)},_SetPlaceholder:function(e){this._GetContentElement().attr("placeholder",e)},_SetPlaceholderOption:function(e){this.options.placeholder=e},_HasPlaceholderSet:function(){return this.options.placeholder},_ClearPlaceholder:function(){this._SetPlaceholderOption(""),this._SetPlaceholder("")},_SetValue:function(t,s,i){var n,o,a=!i||"boolean"!=typeof i.doValueChangeCheck||i.doValueChangeCheck;if(void 0===t)return e.Logger.warn("Attempt to set a value of undefined"),!1;if(a&&t===this._getLastDisplayValue())e.Logger.level>e.Logger.LEVEL_WARN&&e.Logger.info((t.toString,t.toString()));else if(n=this._Validate(t,s,i),this._setValidOption(s),void 0!==n&&this.isValid())return i&&i._context&&(o=i._context),this._updateValueOption(n,s,i&&i.validationContext,o),!0;return!1},_Validate:function(t,s,i){var n=i&&i.validationMode?i.validationMode:this._VALIDATION_MODE.FULL,o=i&&i.validationContext?i.validationContext:this._VALIDATION_CONTEXT.USER_ACTION,a=i&&i.doNotClearMessages||!1;if(void 0===t)e.Logger.warn("Attempt to set a value of undefined");else if(this._CanSetValue()){a||this._clearAllMessages(s),this._setLastSubmittedValue(t);try{return this._runNormalValidation(t,n,o,s)}catch(e){}}else e.Logger.level>e.Logger.LEVEL_WARN&&e.Logger.info("Validation skipped and value option not set as component state does not  allow setting value. For example if the component is readonly or disabled.")},_CompareOptionValues:function(t,s,i){return"value"===t||"rawValue"===t?e.Object.compareValues(s,i):0===t.indexOf("messages")?this._messagesEquals(s,i):this._superApply(arguments)},_GetDefaultStyleClass:function(){return e.Assert.failedInAbstractFunction(),""},_MESSAGING_CONTENT_UPDATE_TYPE:{ALL:1,VALIDITY_STATE:2,CONVERTER_HINT:3,VALIDATOR_HINTS:4,TITLE:5},_OPTION_TO_CSS_MAPPING:{disabled:"oj-disabled",required:"oj-required"},_clearAllMessages:function(e,t){(t=!!t)?(this.options.messagesHidden=[],this.options.messagesShown=[],this.options.messagesCustom=[]):(this._clearMessages("messagesHidden",e),this._clearMessages("messagesShown",e),this._clearMessages("messagesCustom",e))},_clearComponentMessages:function(){var t,s=this.options.messagesShown;t=s.length,this._clearMessages("messagesHidden");for(var i=t-1;i>=0;i--)s[i]instanceof e.ComponentMessage&&s.splice(i,1);s.length!==t&&this._setMessagesOption("messagesShown",s,null,!0)},_setMessagesOption:function(e,t,s,i){var n={},o=0===t.length&&0===this.options[e].length;!i&&o||(n._context={originalEvent:s,writeback:!0,internalSet:!0},"messagesCustom"!==e&&(n._context.readOnly=!0),n.changed=i||!o,this._resetValid(),this.option(e,t,n),this._updateMessagingContent())},_setValidOption:function(e){var t={};t._context={originalEvent:e,writeback:!0,internalSet:!0,readOnly:!0},this.option("valid",this._determineValid(),t)},_clearMessages:function(e,t){this._setMessagesOption(e,[],t)},_cloneMessagesBeforeSet:function(t){var s,i,n,o=[];if(t&&t.length>0)for(s=0;s<t.length;s++)n=t[s],i=new e.Message(n.summary,n.detail,n.severity),i=Object.freeze?Object.freeze(i):i,o.push(i);return o},_createOjLabel:function(){var e,t;this._IsCustomElement()||(this.$label=this._GetLabelElement(),this.$label&&(e=this.options.help.definition,t=this.options.help.source,this.$label.ojLabel({rootAttributes:{class:this._GetDefaultStyleClass()+"-label"},help:{definition:e,source:t}}),this._createDescribedByForLabel()))},_createDescribedByForLabel:function(){var e,t=this.options.help.definition;null==this.options.help.source&&null==t||(e=this.$label.attr("id"))&&this._addAriaDescribedBy(e+"_helpIcon")},_refreshDescribedByForLabel:function(){var e=this.options.help.definition,t=this.options.help.source,s=this.$label.attr("id");s&&(null!=t||null!=e?this._addAriaDescribedBy(s+"_helpIcon"):this._removeAriaDescribedBy(s+"_helpIcon"))},_doRefresh:function(t){var s=!1;(t=t||!1)?(this._ResetComponentState(),this._initComponentMessaging(),this._hasInvalidMessagesShowing()&&(s=!0),this._clearComponentMessages(),s?this._updateValue(e.EditableValueUtils.refreshMethodOptions):(this._IsRequired()&&this._runDeferredValidation(e.EditableValueUtils.refreshMethodOptions.validationContext),this._Refresh("value",this.options.value,!0))):this._Refresh("value",this.options.value),this._Refresh("disabled",this.options.disabled)},_getLastModelValue:function(){return this._oj_lastModelValue},_getLastDisplayValue:function(){return void 0===this._oj_lastElementValue&&(this._oj_lastElementValue=""),this._oj_lastElementValue},_getAriaLabelledByElement:function(e){var s=e.attr("aria-labelledby");return void 0!==s?t("label[id='"+s+"']"):null},_getAriaLabelledById:function(e){var t=null,s=this._getAriaLabelledByElement(e);return null!==s&&0!==s.length&&(t=s.attr("id")),t},_addAriaDescribedBy:function(e){this._GetContentElement().each(function(){var s,i=t(this).attr("aria-describedby");s=i?i.split(/\s+/):[],-1===t.inArray(e,s)&&s.push(e),i=t.trim(s.join(" ")),t(this).attr("aria-describedby",i)})},_removeAriaDescribedBy:function(e){this._GetContentElement().each(function(){var s,i,n;n=(s=t(this).attr("aria-describedby"))?s.split(/\s+/):[],-1!==(i=t.inArray(e,n))&&n.splice(i,1),(s=t.trim(n.join(" ")))?t(this).attr("aria-describedby",s):t(this).removeAttr("aria-describedby")})},_getMessages:function(){return this.options.messagesShown.concat(this.options.messagesHidden)},_getCustomOjLabelElement:function(){var e,s,i,n=null,o=this.options.labelledBy;return o&&(n=document.getElementById(o)),null===n&&(i=(s=this.widget())[0].id)&&(0===(e=s.siblings("[for='"+i+"']")).length&&(e=t("[for='"+this.element.id+"']")),e.length>0&&(n=e[0])),n},_getLabelText:function(){return this.$label?this.$label.text():(void 0===this.customOjLabelElement&&(this.customOjLabelElement=this._getCustomOjLabelElement()),this.customOjLabelElement?this.customOjLabelElement.textContent:null)},_getValidityState:function(){return this._validityState?this._validityState:(this._validityState=new e.ComponentValidity(this.isValid(),this._getMessages()),this._validityState)},_hasInvalidMessages:function(){return!e.Message.isValid(this._getMessages())},_hasInvalidMessagesShowing:function(){return!this.isValid()&&this.options.messagesShown.length>0},_hasInvalidComponentMessagesShowing:function(){for(var t,s,i=this.options.messagesShown,n=0;n<i.length;n++)(s=i[n])instanceof e.ComponentMessage&&s._isMessageAddedByComponent()&&(t=t||[]).push(s);return void 0!==t&&!e.Message.isValid(t)},_initComponentMessaging:function(){var e=this._getComponentMessaging(),t=this._GetMessagingLauncherElement(),s=this._GetContentElement(),i=this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.ALL);this._customPlaceholderSet||this._ClearPlaceholder(),e.activate(t,s,i)},_messagesCustomOptionChanged:function(t){var s,i,n=t?t._context:null,o=this.options.messagesCustom,a=this.options.messagesShown,r=[];for(s=0;s<a.length;s++)(i=a[s])instanceof e.ComponentMessage&&i._isMessageAddedByComponent()&&r.push(i);for(s=0;s<o.length;s++)r.push(o[s]);this._setMessagesOption("messagesShown",r,n?n.originalEvent:null,t&&t.changed)},_placeholderOptionChanged:function(e){var t=!(e&&e._context||{}).internalMessagingSet,s=this.options.placeholder;this._SetPlaceholder(s),t?(this._customPlaceholderSet=!0,this._GetConverter()&&this._initComponentMessaging()):this._customPlaceholderSet=!1},_setLastModelValue:function(e){this._oj_lastModelValue=e},_setLastSubmittedValue:function(e){this._oj_lastElementValue=e},_titleOptionChanged:function(){this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.TITLE))},_updateMessagesOption:function(e,t,s){var i,n,o;if("object"==typeof t&&Array.isArray(t))for(o=this.options[e],n=t.length,i=0;i<n;i++)o.push(t[i]);this._setMessagesOption(e,o,s,!0)},_updateMessagingContent:function(){this._getComponentMessaging().update(this._getMessagingContent())},_updateValueOption:function(e,t,s,i){var n=i||{};switch(t&&(n.originalEvent=t),s){case this._VALIDATION_CONTEXT.CONVERTER_OPTION_CHANGE:case this._VALIDATION_CONTEXT.DISABLED_OPTION_CHANGE:case this._VALIDATION_CONTEXT.READONLY_OPTION_CHANGE:case this._VALIDATION_CONTEXT.REFRESH_METHOD:case this._VALIDATION_CONTEXT.REQUIRED_OPTION_CHANGE:case this._VALIDATION_CONTEXT.VALIDATE_METHOD:case this._VALIDATION_CONTEXT.VALIDATORS_OPTION_CHANGE:n.writeback=!0,n.doNotClearMessages=!0}n.internalSet=!0,this.option({value:e},{_context:n}),this._AfterSetOptionValue("value",{_context:n})},_resetValid:function(){this._valid=void 0},_determineValid:function(){var t=this.options.messagesHidden,s=this.options.messagesShown,i="valid";return s&&0!==s.length&&!e.Message.isValid(s)?i="invalidShown":t&&0!==t.length&&!e.Message.isValid(t)&&(i="invalidHidden"),i},_formatValue:function(t){var s=t,i=this._GetConverter();return i&&"object"==typeof i&&(i.format&&"function"==typeof i.format?s=i.format(t):e.Logger.level>e.Logger.LEVEL_WARN&&e.Logger.info("converter does not support the format method.")),s},_getComponentMessaging:function(){return this._componentMessaging||(this._componentMessaging=new e.ComponentMessaging(this)),this._componentMessaging},_getHintsForAllValidators:function(e){var t,s,i=[],n="";for(this._IsRequired()&&(s=this._getImplicitRequiredValidator()).getHint&&"function"==typeof s.getHint&&(n=s.getHint())&&i.push(n),t=0;t<e.length;t++)n="","object"==typeof(s=e[t])&&s.getHint&&"function"==typeof s.getHint&&(n=s.getHint())&&i.push(n);return i},_getImplicitRequiredValidator:function(){var t,s,i={};return null==this._implicitReqValidator&&(s={hint:(i=this.options.translations&&this.options.translations.required||{}).hint||null,label:this._getLabelText(),messageSummary:i.messageSummary||null,messageDetail:i.messageDetail||null},t=e.Validation.validatorFactory(e.ValidatorFactory.VALIDATOR_TYPE_REQUIRED),this._implicitReqValidator=t?t.createValidator(s):null),this._implicitReqValidator},_getMessagingContent:function(e){var t,s,i,n={},o="",a=[];return(e=e||this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDITY_STATE)!==this._MESSAGING_CONTENT_UPDATE_TYPE.ALL&&e!==this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDITY_STATE||(i=this._getMessages(),this._getValidityState().update(this.isValid(),i),n.validityState=this._getValidityState()),e!==this._MESSAGING_CONTENT_UPDATE_TYPE.ALL&&e!==this._MESSAGING_CONTENT_UPDATE_TYPE.CONVERTER_HINT||((s=this._GetConverter())&&"object"==typeof s&&s.getHint&&"function"==typeof s.getHint&&(o=s.getHint()||""),n.converterHint=o),e!==this._MESSAGING_CONTENT_UPDATE_TYPE.ALL&&e!==this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDATOR_HINTS||(t=this._GetAllValidators(),a=this._getHintsForAllValidators(t)||[],n.validatorHint=a),e!==this._MESSAGING_CONTENT_UPDATE_TYPE.ALL&&e!==this._MESSAGING_CONTENT_UPDATE_TYPE.TITLE||(n.title=this.options.title||""),n},_messagesEquals:function(s,i){var n,o=-1,a=!0,r=t.extend([],s),l=t.extend([],i);return r.length===l.length&&(t.each(r,function(s,i){i instanceof e.Message?n=i:(n=new e.Message(i.summary,i.detail,i.severity),n=Object.freeze?Object.freeze(n):n),o=-1,t.each(l,function(t,s){e.Message.getSeverityLevel(n.severity)!==e.Message.getSeverityLevel(s.severity)||n.summary!==s.summary||n.detail!==s.detail||(o=t)}),o>-1?l.splice(o,1):a=!1}),a)},_parseValue:function(t){var s=this._GetConverter(),i=t;return s&&"object"==typeof s&&(s.parse&&"function"==typeof s.parse?i=s.parse(t):e.Logger.level>e.Logger.LEVEL_WARN&&e.Logger.info("converter does not support the parse method.")),i},_addValidationError:function(t,s){var i,n,o,a;t instanceof e.ConverterError||t instanceof e.ValidatorError?(n=(o=t.getMessage()).severity||e.Message.SEVERITY_LEVEL.ERROR,a=o.summary||e.Translations.getTranslatedString("oj-message.error"),i=o.detail||e.Translations.getTranslatedString("oj-converter.detail")):t.summary||t.detail?(n=e.Message.SEVERITY_LEVEL.ERROR,a=t.summary||e.Translations.getTranslatedString("oj-message.error"),i=t.detail||e.Translations.getTranslatedString("oj-converter.detail")):(n=e.Message.SEVERITY_LEVEL.ERROR,a=e.Translations.getTranslatedString("oj-message.error"),i=t.message||e.Translations.getTranslatedString("oj-converter.detail")),s.push({summary:a,detail:i,severity:n})},_processValidationErrors:function(t,s,i){var n,o=[],a=t._messages||[],r={};r.context=s||0,r.display=i||e.ComponentMessage.DISPLAY.SHOWN,0===a.length&&this._addValidationError(t,a);for(var l=0;l<a.length;l++)n=a[l],o.push(this._createComponentMessage(n.summary,n.detail,n.severity,r));return o||null},_createComponentMessage:function(t,s,i,n){var o;return o=new e.ComponentMessage(t,s,i,n),Object.seal?Object.seal(o):o},_refreshComponentDisplayValue:function(e,t){(t||e!==this._getLastModelValue())&&this._updateElementDisplayValue(e)},_refreshTheming:function(e,t){-1!==Object.keys(this._OPTION_TO_CSS_MAPPING).indexOf(e)&&this.widget().toggleClass(this._OPTION_TO_CSS_MAPPING[e],!!t)},_runDeferredValidation:function(t){var s;if(this._CanSetValue())try{this._validateValue(this.options.value,this._VALIDATION_MODE.REQUIRED_VALIDATOR_ONLY)}catch(i){(s=this._processValidationErrors(i,t,e.ComponentMessage.DISPLAY.HIDDEN))&&this._updateMessagesOption("messagesHidden",s)}else e.Logger.level>e.Logger.LEVEL_WARN&&e.Logger.info("Deferred validation skipped as component is readonly or disabled.");this._setValidOption(null)},_runNormalValidation:function(e,t,s,i){var n,o=e;try{t===this._VALIDATION_MODE.FULL&&(o=this._parseValue(e)),this._validateValue(o,t===this._VALIDATION_MODE.REQUIRED_VALIDATOR_ONLY)}catch(e){throw n=this._processValidationErrors(e,s),this._updateMessagesOption("messagesShown",n,i),e}return o},_runMixedValidationAfterSetOption:function(e){var t=!0;this._hasInvalidMessagesShowing()&&(t=!1),this._clearComponentMessages(),t?this._IsRequired()?this._runDeferredValidation(e.validationContext):this._setValidOption(null):this._updateValue(e)},_updateElementDisplayValue:function(e,t){var s,i,n;this._setLastModelValue(e),i=e;try{i=this._formatValue(e)}catch(e){n=this._processValidationErrors(e),this._updateMessagesOption("messagesShown",n,t)}this._SetDisplayValue(i),s=this._GetDisplayValue(),this._setLastSubmittedValue(s),this._SetRawValue(s,null)},_updateValue:function(e){var t;t=this._Validate(this._GetDisplayValue(),null,e),this._setValidOption(null),void 0===t||!this.isValid()&&this._hasInvalidComponentMessagesShowing()||this._updateValueOption(t,null,e.validationContext)},_validateValue:function(t,s){var i,n,o=this._GetAllValidators(),a=[];if(this._IsRequired()){n=this._getImplicitRequiredValidator();try{n.validate(e.StringUtils.trim(t))}catch(e){this._addValidationError(e,a)}}if(!s)for(i=0;i<o.length;i++)if("object"==typeof(n=o[i]))if(n.validate&&"function"==typeof n.validate)try{n.validate(t)}catch(e){this._addValidationError(e,a)}else e.Logger.level>e.Logger.LEVEL_WARN&&e.Logger.info("validator does not support the validate method.");if(a.length>0){var r=new Error;throw r._messages=a,r}}},!0),e.Components.setDefaultOptions({editableValue:{displayOptions:e.Components.createDynamicPropertyGetter(function(e){var t={messages:e.containers.indexOf("ojDataGrid")>=0||e.containers.indexOf("ojTable")>=0?["notewindow"]:["inline"],converterHint:["placeholder","notewindow"],validatorHint:["notewindow"]};return t[e.isCustomElement?"helpInstruction":"title"]=["notewindow"],t}),help:e.Components.createDynamicPropertyGetter(function(e){return e.isCustomElement?{instruction:""}:{definition:null,source:null}})}}),e.InlineMessagingStrategy=function(e){this.Init(e)},e.ComponentMessaging.registerMessagingStrategy(e.ComponentMessaging._DISPLAY_TYPE.INLINE,e.InlineMessagingStrategy),e.Object.createSubclass(e.InlineMessagingStrategy,e.MessagingStrategy,"oj.InlineMessagingStrategy"),e.InlineMessagingStrategy.prototype.reactivate=function(t){e.InlineMessagingStrategy.superclass.reactivate.call(this,t),this._updateInlineMessage()},e.InlineMessagingStrategy.prototype.shouldUpdate=function(e){return!(!e||void 0===e.validityState)},e.InlineMessagingStrategy.prototype.update=function(){e.InlineMessagingStrategy.superclass.update.call(this),this._updateInlineMessage()},e.InlineMessagingStrategy.prototype.deactivate=function(){this._removeMessagingContentRootDom(),e.InlineMessagingStrategy.superclass.deactivate.call(this)},e.InlineMessagingStrategy.prototype._getDefaultAnimation=function(){if(!e.InlineMessagingStrategy._defaultAnimation){var t=(e.ThemeUtils.parseJSONFromFontFamily("oj-messaging-inline-option-defaults")||{}).animation;t=t||{},
e.InlineMessagingStrategy._defaultAnimation=t}return e.InlineMessagingStrategy._defaultAnimation},e.InlineMessagingStrategy.prototype._replaceAnimationOptions=function(t,s){var i,n;for(var o in e.StringUtils.isString(t)?(n=!0,i=t+""):(n=!1,i=JSON.stringify(t)),s)i=i.replace(new RegExp(o,"g"),s[o]);return n?i:JSON.parse(i)},e.InlineMessagingStrategy.prototype._determineAnimation=function(e,t){var s,i,n,o=this._getDefaultAnimation();if(o){var a,r=e[0].innerHTML,l=e.outerHeight();e[0].innerHTML=t,a=e.outerHeight(),e[0].innerHTML=r,(i=o[s=a>l?"open":"close"])&&(n=this._replaceAnimationOptions(i,{"#oldHeight":l+"px","#newHeight":a+"px"}))}return{action:s,effect:n}},e.InlineMessagingStrategy.prototype._setBusyState=function(){if(!this._resolveBusyState){var t=this.GetComponent(),s=t?t.element:null,i=s?s[0]:null,n=e.Context.getContext(i).getBusyContext(),o="The page is waiting for inline message ";i&&i.id&&(o+='for "'+i.id+'" '),o+="to open/close",this._resolveBusyState=n.addBusyState({description:o})}},e.InlineMessagingStrategy.prototype._clearBusyState=function(){this._resolveBusyState&&(this._resolveBusyState(),this._resolveBusyState=null)},e.InlineMessagingStrategy.prototype._queueAction=function(t){var s=this,i=this.$messagingContentRoot;this._setBusyState(),this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=setTimeout(function(){if(s._timeoutId=null,i&&i[0]){var n=s._determineAnimation(i,t),o=n.action,a=n.effect;"open"==o&&(i[0].innerHTML=t),e.AnimationUtils.startAnimation(i[0],"inline-"+o,a,s.GetComponent()).then(function(){"close"==o&&(i[0].innerHTML=t),s._clearBusyState()})}else s._clearBusyState()},0)},e.InlineMessagingStrategy.prototype._updateInlineMessage=function(){var e;(e=this._buildInlineHtml())&&null==this.$messagingContentRoot&&this._createInlineMessage(),this.$messagingContentRoot&&this.$messagingContentRoot[0]&&(this.GetComponent()._IsCustomElement()?this._queueAction(e):e?this.$messagingContentRoot[0].innerHTML=e:this._removeMessagingContentRootDom())},e.InlineMessagingStrategy.prototype._createInlineMessage=function(){this.$messagingContentRoot=t(this._getInlineContentHtml()),this._addAriaDescribedBy(this.$messagingContentRoot),this._addAriaLive(this.$messagingContentRoot),this.GetComponent().widget().append(this.$messagingContentRoot)},e.InlineMessagingStrategy.prototype._getInlineContentHtml=function(){return"<div class='oj-messaging-inline-container'></div>"},e.InlineMessagingStrategy.prototype._removeMessagingContentRootDom=function(){null!=this.$messagingContentRoot&&(this._removeAriaDescribedBy(this.$messagingContentRoot),this.$messagingContentRoot.remove(),this.$messagingContentRoot=null)},e.InlineMessagingStrategy.prototype._addAriaDescribedBy=function(s){var i,n,o,a;n=this.GetLauncher(),e.Assert.assertPrototype(n,t),e.Assert.assertPrototype(s,t),o=s.uniqueId().attr("id"),(a=(i=n.attr("aria-describedby"))?i.split(/\s+/):[]).push(o),i=t.trim(a.join(" ")),n.attr("aria-describedby",i)},e.InlineMessagingStrategy.prototype._addAriaLive=function(s){e.Assert.assertPrototype(s,t),s.attr("aria-live","polite")},e.InlineMessagingStrategy.prototype._removeAriaDescribedBy=function(s){var i,n,o,a,r;o=this.GetLauncher(),e.Assert.assertPrototype(o,t),e.Assert.assertPrototype(s,t),a=s.attr("id"),r=(i=o.attr("aria-describedby"))?i.split(/\s+/):[],-1!==(n=t.inArray(a,r))&&r.splice(n,1),(i=t.trim(r.join(" ")))?o.attr("aria-describedby",i):o.removeAttr("aria-describedby")},e.InlineMessagingStrategy.prototype._buildInlineHtml=function(){var e;return this.ShowMessages()?(e=this.GetComponent().document[0],this._buildMessagesHtml(e)):""},e.InlineMessagingStrategy.prototype._buildMessagesHtml=function(t){var s,i,n="";return this.HasMessages()&&(i=this.GetMessages(),s=this.GetMaxSeverity(),n=e.PopupMessagingStrategyUtils.buildMessagesHtml(t,i,s,!0)),n},e.PopupMessagingStrategy=function(e){this.Init(e)},e.ComponentMessaging.registerMessagingStrategy(e.ComponentMessaging._DISPLAY_TYPE.NOTEWINDOW,e.PopupMessagingStrategy),e.Object.createSubclass(e.PopupMessagingStrategy,e.MessagingStrategy,"oj.PopupMessagingStrategy"),e.PopupMessagingStrategy._DEFAULTS_BY_COMPONENT={ojRadioset:{position:"launcher",events:{open:"focusin mouseenter press",close:"mouseleave"}},ojCheckboxset:{position:"launcher",events:{open:"focusin mouseenter press",close:"mouseleave"}},ojInputText:{position:"launcher",events:{open:"focusin"}},ojTextArea:{position:"launcher",events:{open:"focusin"}},ojInputPassword:{position:"launcher",events:{open:"focusin"}},ojSwitch:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojSlider:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojColorSpectrum:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojColorPalette:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},default:{position:"launcher-wrapper",events:{open:"focusin"}}},e.PopupMessagingStrategy._SELECTOR_FORMCONTROL_HINT="oj-form-control-hint",e.PopupMessagingStrategy._SELECTOR_FORMCONTROL_HINT_CONVERTER="oj-form-control-hint-converter",e.PopupMessagingStrategy._SELECTOR_FORMCONTROL_HINT_VALIDATOR="oj-form-control-hint-validator",e.PopupMessagingStrategy._SELECTOR_FORMCONTROL_HINT_TITLE="oj-form-control-hint-title",e.PopupMessagingStrategy._OPEN_NAMESPACE=".ojPopupMessagingOpen",e.PopupMessagingStrategy._CLOSE_NAMESPACE=".ojPopupMessagingClose",e.PopupMessagingStrategy.prototype.activate=function(t){e.PopupMessagingStrategy.superclass.activate.call(this,t),this._initMessagingPopup()},e.PopupMessagingStrategy.prototype.reactivate=function(t){e.PopupMessagingStrategy.superclass.reactivate.call(this,t),this._updatePopupIfOpen()},e.PopupMessagingStrategy.prototype.update=function(){e.PopupMessagingStrategy.superclass.update.call(this),this._updatePopupIfOpen()},e.PopupMessagingStrategy.prototype.deactivate=function(){this._unregisterLauncherEvents(),this._destroyTooltip(),e.PopupMessagingStrategy.superclass.deactivate.call(this)},e.PopupMessagingStrategy.prototype.close=function(){this._closePopup()},e.PopupMessagingStrategy.prototype._closePopup=function(){this._queueAction(function(e){if(this._isPopupInitialized())return e&&this._setActionResolver(this.$messagingContentRoot,"close",e),void this.$messagingContentRoot.ojPopup("close");e&&e(!0)}.bind(this))},e.PopupMessagingStrategy.prototype._initMessagingPopup=function(){this._openPopupCallback||this._registerLauncherEvents()},e.PopupMessagingStrategy.prototype._addAnimateEventListeners=function(e){var t=function(e,t,s){var i=this.GetComponent();i&&i._trigger&&(t.stopPropagation(),i._trigger(e,null,s)||t.preventDefault())};e.on("ojanimatestart.notewindow",t.bind(this,"animateStart")),e.on("ojanimateend.notewindow",t.bind(this,"animateEnd"))},e.PopupMessagingStrategy.prototype._removeAnimateEventListeners=function(e){e.off("ojanimatestart.notewindow"),e.off("ojanimateend.notewindow")},e.PopupMessagingStrategy.prototype._setBusyState=function(t){var s=this.GetComponent(),i=s?s.element:null,n=i?i[0]:null,o=e.Context.getContext(n).getBusyContext(),a="The page is waiting for note window ";return n&&n.id&&(a+='for "'+n.id+'" '),a+="to "+t,o.addBusyState({description:a})},e.PopupMessagingStrategy.prototype._setActionResolver=function(e,t,s){var i;this._actionCount>1&&(i=e.ojPopup("option","animation"),e.ojPopup("option","animation",null));var n=this._setBusyState(t);e.one("oj"+t,function(){i&&e.ojPopup("option","animation",i),n(),s(!0)})},e.PopupMessagingStrategy.prototype._queueAction=function(e){if(this.GetComponent()._IsCustomElement()){var t=this,s=function(e){var s=new Promise(e);return s.then(function(){--t._actionCount}),s};this._actionCount?(++this._actionCount,this._actionPromise=this._actionPromise.then(function(){return s(e)})):(this._actionCount=1,this._actionPromise=s(e))}else e(null)},e.PopupMessagingStrategy.prototype._openPopup=function(t){this._queueAction(function(s){var i,n,o;if(this._canOpenPopup()&&(n=this._buildPopupHtml(),!e.StringUtils.isEmptyOrUndefined(n))){var a=this._getPopupElement(),r=a.ojPopup("isOpen");if((i=e.PopupMessagingStrategyPoolUtils.getPopupContentNode(a)).innerHTML="",i.innerHTML=n,!r)return o=this.GetLauncher(),"press"===t.type&&this._openPopupOnPressEvent(o),s&&this._setActionResolver(a,"open",s),void a.ojPopup("open",o);r&&a.ojPopup("refresh")}s&&s(!0)}.bind(this))},e.PopupMessagingStrategy.prototype._openPopupOnPressEvent=function(e){this._inPressEvent=!0,e[0].addEventListener("click",this._eatChangeAndClickOnPress,!0),e[0].addEventListener("change",this._eatChangeAndClickOnPress,!0),e.one("touchend",function(e){setTimeout(function(){this._inPressEvent=!1},50)})},e.PopupMessagingStrategy.prototype._eatChangeAndClickOnPress=function(e){this._inPressEvent&&(e.preventDefault(),e.stopPropagation(),"click"===e.type&&(this._inPressEvent=!1))},e.PopupMessagingStrategy.prototype._canOpenPopup=function(){var e=this.GetComponent().options,t=e.disabled||!1,s=e.readOnly||!1;return!(t||s)},e.PopupMessagingStrategy.prototype._updatePopupIfOpen=function(){var t,s,i,n,o=!1;if(this._isPopupInitialized()){if(o=(n=this._getPopupElement()).ojPopup("isOpen"),t=this._buildPopupHtml(),null==this.GetLauncher())return;i=document.activeElement===this.GetLauncher()[0],o?t?((s=e.PopupMessagingStrategyPoolUtils.getPopupContentNode(n)).innerHTML="",s.innerHTML=t,n.ojPopup("refresh")):n.ojPopup("close"):i&&t&&this._openPopup(void 0)}},e.PopupMessagingStrategy.prototype._unregisterLauncherEvents=function(){var t,s=this.GetLauncher();(t=e.PopupMessagingStrategy._DEFAULTS_BY_COMPONENT[this.GetComponent().widgetName])?t.events:e.PopupMessagingStrategy._DEFAULTS_BY_COMPONENT.default.events,s.off(e.PopupMessagingStrategy._OPEN_NAMESPACE),s.off(e.PopupMessagingStrategy._CLOSE_NAMESPACE),s[0].removeEventListener("click",this._eatChangeAndClickOnPress,!0),s[0].removeEventListener("change",this._eatChangeAndClickOnPress,!0),e.DomUtils.isTouchSupported()&&(s.ojHammer().off("press"),s.ojHammer("destroy"),s.off("contextmenu",this._eatContextMenuOnOpenPopupListener),this._eatContextMenuOnOpenPopupListener=null,this._inPressEvent=null),this._openPopupCallback=null,this._closePopupCallback=null},e.PopupMessagingStrategy.prototype._registerLauncherEvents=function(){var t,i,n,o,a,r,l,p,u=this.GetLauncher();(o=(n=e.PopupMessagingStrategy._DEFAULTS_BY_COMPONENT[this.GetComponent().widgetName])?n.events:e.PopupMessagingStrategy._DEFAULTS_BY_COMPONENT.default.events).open&&((l=this._openPopupCallback)||(l=this._openPopupCallback=this._openPopup.bind(this)),p=o.open.indexOf("press"),r=this._getNamespacedEvents(o.open.replace("press",""),e.PopupMessagingStrategy._OPEN_NAMESPACE),u.on(r,l),e.DomUtils.isTouchSupported()&&(this._eatContextMenuOnOpenPopupListener=function(e){return!1},u.on("contextmenu",this._eatContextMenuOnOpenPopupListener),-1!==p&&(a={recognizers:[[s.Press,{time:750}]]},u.ojHammer(a).on("press",l)))),o.close&&((i=this._closePopupCallback)||(i=this._closePopupCallback=this._closePopup.bind(this)),t=this._getNamespacedEvents(o.close,e.PopupMessagingStrategy._CLOSE_NAMESPACE),u.on(t,i))},e.PopupMessagingStrategy.prototype._getNamespacedEvents=function(e,t){var s,i,n;if(""===e||""===t)return e;n=(s=e.split(" ")).length,i=[];for(var o=0;o<n;o++)s[o]&&i.push(s[o]+t);return i.join(" ")},e.PopupMessagingStrategy.prototype._getPopupPosition=function(){var t,s,i;return(t=(s=e.PopupMessagingStrategy._DEFAULTS_BY_COMPONENT[this.GetComponent().widgetName])?s.position:e.PopupMessagingStrategy._DEFAULTS_BY_COMPONENT.default.position)&&("launcher"===t?i=this.GetLauncher():"launcher-wrapper"===t&&(i=this.GetLauncher().parent())),i||(i=this.GetComponent().widget()),{my:"start bottom",at:"end top",collision:"flipcenter",of:i}},e.PopupMessagingStrategy.prototype._getPopupElement=function(){var t,s;if(this.$messagingContentRoot)return this.$messagingContentRoot;if(t=e.PopupMessagingStrategyPoolUtils.getNextFreePopup(),s=this._getPopupPosition(),t.ojPopup("option","position",s),t.ojPopup("option","beforeClose",this._popupBeforeCloseCallback.bind(this)),t.ojPopup("option","close",this._popupCloseCallback.bind(this)),t.ojPopup("option","open",this._popupOpenCallback.bind(this)),this.GetComponent()._IsCustomElement()){var i=(e.ThemeUtils.parseJSONFromFontFamily("oj-messaging-popup-option-defaults")||{}).animation;i.actionPrefix="notewindow",t.ojPopup("option","animation",i),this._addAnimateEventListeners(t)}else t.ojPopup("option","animation",null);return this.$messagingContentRoot=t,this.$messagingContentRoot},e.PopupMessagingStrategy.prototype._popupOpenCallback=function(s){var i=t(s.target),n=this;window.setTimeout(function(){e.Components.isComponentInitialized(i,"ojPopup")?i.ojPopup("option","autoDismiss","focusLoss"):delete n.$messagingContentRoot},10)},e.PopupMessagingStrategy.prototype._popupBeforeCloseCallback=function(e){this._resolveBusyState=this._setBusyState("close")},e.PopupMessagingStrategy.prototype._popupCloseCallback=function(s){var i,n;i=this.GetLauncher(),n=t(s.target),this._removeAnimateEventListeners(n),e.Components.isComponentInitialized(n,"ojPopup")&&(n.ojPopup("option","autoDismiss","none"),n.ojPopup("option","open",null),n.ojPopup("option","close",null),n.ojPopup("option","beforeClose",null)),i&&i[0]&&(i[0].removeEventListener("click",this._eatChangeAndClickOnPress,!0),i[0].removeEventListener("change",this._eatChangeAndClickOnPress,!0)),this.$messagingContentRoot=null,this._inPressEvent=null,t(e.PopupMessagingStrategyPoolUtils.getPopupContentNode(n)).empty(),this._resolveBusyState&&(this._resolveBusyState(),this._resolveBusyState=null)},e.PopupMessagingStrategy.prototype._destroyTooltip=function(){this._closePopup(),e.PopupMessagingStrategyPoolUtils.destroyFreePopup()},e.PopupMessagingStrategy.prototype._buildPopupHtml=function(){var s=!1,i=this.GetComponent().document[0],n=[],o="";return this.ShowMessages()&&n.push(this._buildMessagesHtml(i)),(this.ShowConverterHint()||this.ShowValidatorHint()||this.ShowTitle())&&n.push(this._buildHintsHtml(i)),t.each(n,function(t,n){n&&(s?o=o.concat(e.PopupMessagingStrategyUtils.getSeparatorHtml(i)):s=!0,o=o.concat(n))}),o},e.PopupMessagingStrategy.prototype._buildMessagesHtml=function(t){var s,i="",n=this.GetMaxSeverity();return this.HasMessages()&&(s=this.GetMessages(),i=e.PopupMessagingStrategyUtils.buildMessagesHtml(t,s,n,!1)),i},e.PopupMessagingStrategy.prototype._buildHintsHtml=function(t){var s,i,n=[],o="";if(this.ShowConverterHint()&&(s=(n=this.GetConverterHint()).length?n[0]:"",o+=e.PopupMessagingStrategyUtils.buildHintHtml(t,e.PopupMessagingStrategy._SELECTOR_FORMCONTROL_HINT_CONVERTER,s,!1,e.PopupMessagingStrategy._SELECTOR_FORMCONTROL_HINT)),this.ShowValidatorHint())for(n=this.GetValidatorHints(),i=0;i<n.length;i++)o+=e.PopupMessagingStrategyUtils.buildHintHtml(t,e.PopupMessagingStrategy._SELECTOR_FORMCONTROL_HINT_VALIDATOR,n[i],!1,e.PopupMessagingStrategy._SELECTOR_FORMCONTROL_HINT);return this.ShowTitle()&&(o+=e.PopupMessagingStrategyUtils.buildHintHtml(t,e.PopupMessagingStrategy._SELECTOR_FORMCONTROL_HINT_TITLE,this.GetTitle(),!0,e.PopupMessagingStrategy._SELECTOR_FORMCONTROL_HINT)),o?"<div class='oj-form-control-hints'>"+o+"</div>":""},e.PopupMessagingStrategy.prototype._isPopupInitialized=function(){return!!this.$messagingContentRoot&&e.Components.isComponentInitialized(this.$messagingContentRoot,"ojPopup")},e.PopupMessagingStrategyUtils={},e.PopupMessagingStrategyUtils.buildHintHtml=function(s,i,n,o,a){var r;return n&&(a+=" "+i,(r=t(s.createElement("div"))).addClass(a),r.append(e.PopupMessagingStrategyUtils._getTextDom(s,n,o))),r?r.get(0).outerHTML:""},e.PopupMessagingStrategyUtils.getSeverityTranslatedString=function(t){var s;switch(t){case e.Message.SEVERITY_LEVEL.FATAL:s=e.Translations.getTranslatedString("oj-message.fatal");break;case e.Message.SEVERITY_LEVEL.ERROR:s=e.Translations.getTranslatedString("oj-message.error");break;case e.Message.SEVERITY_LEVEL.WARNING:s=e.Translations.getTranslatedString("oj-message.warning");break;case e.Message.SEVERITY_LEVEL.INFO:s=e.Translations.getTranslatedString("oj-message.info");break;case e.Message.SEVERITY_LEVEL.CONFIRMATION:s=e.Translations.getTranslatedString("oj-message.confirmation")}return s},e.PopupMessagingStrategyUtils.getSeparatorHtml=function(e){var s;return(s=t(e.createElement("hr")))?s.get(0).outerHTML:""},e.PopupMessagingStrategyUtils.buildMessagesHtml=function(t,s,i,n){var o,a,r,l,p,u,g,_,h="",d=[],c={};for(a=0;a<s.length;a++)p=(l=s[a])instanceof e.Message?l:new e.Message(l.summary,l.detail,l.severity),c[u=e.Message.getSeverityLevel(p.severity)]||(c[u]=[]),c[u].push(p);for(a=i;a>=e.Message.SEVERITY_LEVEL.CONFIRMATION;a--)for(d=c[a]||[],r=0;r<d.length;r++)l=d[r],u=e.Message.getSeverityLevel(l.severity),g=e.PopupMessagingStrategyUtils.getSeverityTranslatedString(u),_=l.summary||g,o=l.detail||"",h=h.concat(e.PopupMessagingStrategyUtils.buildMessageHtml(t,_,o,u,n));return h},e.PopupMessagingStrategyUtils.buildMessageHtml=function(s,i,n,o,a){var r,l,p,u,g,_=e.PopupMessagingStrategyUtils.getSeverityTranslatedString(o);if((p=t(s.createElement("div"))).addClass(e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE),a&&p.addClass(e.PopupMessagingStrategyUtils._getSeveritySelector(o)),(u=t(s.createElement("span"))).addClass(e.PopupMessagingStrategyUtils._getSeverityIconSelector(o)).attr("title",_).attr("role","img"),p.append(u),(r=t(s.createElement("span"))).addClass(e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_CONTENT),(g=t(s.createElement("div"))).addClass(e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_SUMMARY).text(i),r.append(g),n){var h=e.PopupMessagingStrategyUtils._getTextDom(s,n,!0);(l=t(s.createElement("div"))).addClass(e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_DETAIL).append(h),r.append(l)}return p.append(r),p?p.get(0).outerHTML:""},e.PopupMessagingStrategyUtils._getSeverityIconSelector=function(t){var s;switch(t){case e.Message.SEVERITY_LEVEL.FATAL:case e.Message.SEVERITY_LEVEL.ERROR:s=e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_ERROR_ICON;break;case e.Message.SEVERITY_LEVEL.WARNING:s=e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_WARNING_ICON;break;case e.Message.SEVERITY_LEVEL.INFO:s=e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_INFO_ICON;break;case e.Message.SEVERITY_LEVEL.CONFIRMATION:s=e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_CONFIRMATION_ICON}return e.PopupMessagingStrategyUtils._DEFAULT_STATUS_ICON_SELECTORS+s},e.PopupMessagingStrategyUtils._getSeveritySelector=function(t){var s;switch(t){case e.Message.SEVERITY_LEVEL.FATAL:case e.Message.SEVERITY_LEVEL.ERROR:s=e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_ERROR;break;case e.Message.SEVERITY_LEVEL.WARNING:s=e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_WARNING;break;case e.Message.SEVERITY_LEVEL.INFO:s=e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_INFO;break;case e.Message.SEVERITY_LEVEL.CONFIRMATION:default:s=e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_CONFIRMATION}return s},e.PopupMessagingStrategyUtils._getTextDom=function(t,s,i){var n=null;return e.StringUtils.isString(s)&&(i&&e.DomUtils.isHTMLContent(s)?n=e.DomUtils.cleanHtml(s.substring(6,s.length-7)):(n=t.createElement("span")).textContent=s),n},e.PopupMessagingStrategyUtils._DEFAULT_STATUS_ICON_SELECTORS="oj-component-icon oj-message-status-icon ",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE="oj-message",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_SUMMARY="oj-message-summary",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_DETAIL="oj-message-detail",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_CONTENT="oj-message-content",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_ERROR_ICON="oj-message-error-icon",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_WARNING_ICON="oj-message-warning-icon",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_INFO_ICON="oj-message-info-icon",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_CONFIRMATION_ICON="oj-message-confirmation-icon",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_ERROR="oj-message-error",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_WARNING="oj-message-warning",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_INFO="oj-message-info",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_CONFIRMATION="oj-message-confirmation",e.PopupMessagingStrategyPoolUtils={},e.PopupMessagingStrategyPoolUtils.getNextFreePopup=function(){var s,i=e.PopupMessagingStrategyPoolUtils._getPool(),n=i.find("."+e.PopupMessagingStrategyPoolUtils._SELECTOR_MESSAGING);return 0===n.length?((s=t(e.PopupMessagingStrategyPoolUtils._getPopupContentHtml()).hide()).appendTo(i),s.ojPopup({initialFocus:"none",tail:"simple",autoDismiss:"none",modality:"modeless",animation:{open:null,close:null}})):s=t(n[0]),s},e.PopupMessagingStrategyPoolUtils.getPopupContentNode=function(t){return t.find("."+e.PopupMessagingStrategyPoolUtils._SELECTOR_MESSAGING_CONTAINER)[0]},e.PopupMessagingStrategyPoolUtils.destroyFreePopup=function(){var t;e.PopupMessagingStrategyPoolUtils._getFreePoolCount()>0&&((t=e.PopupMessagingStrategyPoolUtils.getNextFreePopup()).ojPopup("destroy"),t.remove())},e.PopupMessagingStrategyPoolUtils._getPool=function(){var s=t("#"+e.PopupMessagingStrategyPoolUtils._MESSAGING_POPUP_POOL_ID);return s.length>0?s:((s=t("<div>")).attr("id",e.PopupMessagingStrategyPoolUtils._MESSAGING_POPUP_POOL_ID),s.attr("role","presentation"),s.appendTo(t(document.body)),s)},e.PopupMessagingStrategyPoolUtils._getFreePoolCount=function(){return e.PopupMessagingStrategyPoolUtils._getPool().find("."+e.PopupMessagingStrategyPoolUtils._SELECTOR_MESSAGING).length},e.PopupMessagingStrategyPoolUtils._getPopupContentHtml=function(){return'<div class="'+e.PopupMessagingStrategyPoolUtils._SELECTOR_MESSAGING+'"><div class="'+e.PopupMessagingStrategyPoolUtils._SELECTOR_MESSAGING_CONTAINER+'"></div></div>'},e.PopupMessagingStrategyPoolUtils._SELECTOR_MESSAGING_CONTAINER="oj-messaging-popup-container",e.PopupMessagingStrategyPoolUtils._SELECTOR_MESSAGING="oj-messaging-popup",e.PopupMessagingStrategyPoolUtils._MESSAGING_POPUP_POOL_ID="__oj_messaging_popup_pool",e.CustomElementBridge.registerMetadata("editableValue","baseComponent",{properties:{describedBy:{type:"string"},disabled:{type:"boolean"},displayOptions:{type:"Object",properties:{converterHint:{type:"string"},helpInstruction:{type:"string"},messages:{type:"string"},validatorHint:{type:"string"}}},help:{type:"Object<string, string>",properties:{instruction:{type:"string"}}},helpHints:{type:"Object",properties:{definition:{type:"string"},source:{type:"string"}}},labelHint:{type:"string"},messagesCustom:{type:"Array",writeback:!0},valid:{type:"string",writeback:!0,readOnly:!0,enumValues:["valid","invalidShown","invalidHidden","pending"]},value:{type:"Object",writeback:!0}},methods:{reset:{},showMessages:{}},events:{animateStart:{},animateEnd:{}},extension:{_WIDGET_NAME:"editableValue"}})});
define('ojs/ojvalidation-number',["ojs/ojcore","jquery","ojL10n!ojtranslations/nls/localeElements","ojs/ojvalidation-base"],function(e,r,t){var n;e.NumberConverter=function(){this.Init()},e.Object.createSubclass(e.NumberConverter,e.Converter,"oj.NumberConverter"),e.NumberConverter.prototype.Init=function(r){e.NumberConverter.superclass.Init.call(this,r)},e.NumberConverter.prototype.format=function(r){return e.NumberConverter.superclass.format.call(this,r)},e.NumberConverter.prototype.parse=function(r){return e.NumberConverter.superclass.parse.call(this,r)},e.IntlNumberConverter=function(e){this.Init(e)},e.Object.createSubclass(e.IntlNumberConverter,e.NumberConverter,"oj.IntlNumberConverter"),e.IntlNumberConverter.prototype.Init=function(r){e.IntlNumberConverter.superclass.Init.call(this,r)},e.IntlNumberConverter.prototype._getWrapped=function(){return this._wrapped||(this._wrapped=n.getInstance()),this._wrapped},e.IntlNumberConverter.prototype.format=function(r){var t,n,i;if(null==r||"string"==typeof r&&0===e.StringUtils.trim(""+r).length||"number"==typeof r&&isNaN(r))return e.IntlConverterUtils.__getNullFormattedValue();t=e.Config.getLocale(),n=e.LocaleData.__getBundle(),i=this.resolvedOptions();try{return this._getWrapped().format(r,n,i,t)}catch(e){throw this._processConverterError(e,r)}},e.IntlNumberConverter.prototype.getHint=function(){return null},e.IntlNumberConverter.prototype.getOptions=function(){return e.IntlNumberConverter.superclass.getOptions.call(this)},e.IntlNumberConverter.prototype.parse=function(r){var t,n,i;if(null==r||""===r)return null;t=e.Config.getLocale(),n=e.LocaleData.__getBundle(),i=this.resolvedOptions();try{return this._getWrapped().parse(e.StringUtils.trim(r),n,i,t)}catch(e){throw this._processConverterError(e,r)}},e.IntlNumberConverter.prototype.resolvedOptions=function(){var r,t=e.Config.getLocale();if(t!==this._locale||!this._resolvedOptions){r=e.LocaleData.__getBundle();try{if(!r)return e.Logger.error("locale bundle for the current locale %s is unavailable",t),{};this._resolvedOptions=this._getWrapped().resolvedOptions(r,this.getOptions(),t),this._locale=t}catch(e){throw this._processConverterError(e)}}return this._resolvedOptions},e.IntlNumberConverter.prototype._processConverterError=function(r,t){var n,i,a,o,s,l,u=r.errorInfo;if(u){switch(i=u.errorCode,o=u.parameterMap,e.Assert.assertObject(o),o.propertyName,i){case"optionTypesMismatch":case"optionTypeInvalid":case"optionOutOfRange":case"optionValueInvalid":n=e.IntlConverterUtils.__getConverterOptionError(i,o);break;case"decimalFormatMismatch":s="oj-converter.number.decimalFormatMismatch.summary";break;case"currencyFormatMismatch":s="oj-converter.number.currencyFormatMismatch.summary";break;case"percentFormatMismatch":s="oj-converter.number.percentFormatMismatch.summary";break;case"unsupportedParseFormat":l=e.Translations.getTranslatedString("oj-converter.number.shortLongUnsupportedParse.summary"),a=e.Translations.getTranslatedString("oj-converter.number.shortLongUnsupportedParse.detail"),n=new e.ConverterError(l,a)}s&&(l=e.Translations.getTranslatedString(s,{value:t||o.value,format:o.format}),a=e.Translations.getTranslatedString("oj-converter.hint.detail",{exampleValue:this._getHintValue()}),n=new e.ConverterError(l,a))}return n||(l=r.message,a=r.message,n=new e.ConverterError(l,a)),n},e.IntlNumberConverter.prototype._getHintValue=function(){var r="";try{r=this.format(12345.98765)}catch(t){t instanceof e.ConverterError&&(r="",e.Logger.error("error retrieving hint value in format"))}finally{return r}},e.NumberRangeValidator=function(e){this.Init(e)},e.Object.createSubclass(e.NumberRangeValidator,e.Validator,"oj.NumberRangeValidator"),e.NumberRangeValidator.prototype.Init=function(r){e.NumberRangeValidator.superclass.Init.call(this),r&&(this._min=r.min,this._max=r.max,this._converter=e.IntlConverterUtils.getConverterInstance(r.converter),this._hint=r.hint||{},this._customMessageSummary=r.messageSummary||{},this._customMessageDetail=r.messageDetail||{})},e.NumberRangeValidator.prototype.validate=function(r){var t=r?r.toString():r,n=parseFloat(t),i=this._customMessageSummary,a=this._customMessageDetail,o=a.rangeOverflow,s=a.rangeUnderflow,l=a.exact,u=i.rangeOverflow,m=i.rangeUnderflow,c=void 0!==this._min?parseFloat(this._min):null,g=void 0!==this._max?parseFloat(this._max):null,p=c&&this._converter?this._converter.format(c):c,v=g&&this._converter?this._converter.format(g):g,d="",f="",y=null,h=e.Translations;if(null===r)return r;if(null!==c&&null!==g){if(n>=c&&n<=g||c>g)return t}else if(null!==c){if(n>=c)return t}else if(null===g||n<=g)return t;throw null!==g&&null!==c&&c===g?(y={value:r,num:v},f=l?h.applyParameters(l,y):h.getTranslatedString("oj-validator.range.number.messageDetail.exact",y),n>g?d=u||h.getTranslatedString("oj-validator.range.number.messageSummary.rangeOverflow"):n<c&&(d=u?m:h.getTranslatedString("oj-validator.range.number.messageSummary.rangeUnderflow"))):null!==g&&n>g?(y={value:r,max:v},d=u||h.getTranslatedString("oj-validator.range.number.messageSummary.rangeOverflow"),f=o?h.applyParameters(o,y):h.getTranslatedString("oj-validator.range.number.messageDetail.rangeOverflow",y)):null!==c&&n<c&&(y={value:r,min:p},d=m||h.getTranslatedString("oj-validator.range.number.messageSummary.rangeUnderflow"),f=s?h.applyParameters(s,y):h.getTranslatedString("oj-validator.range.number.messageDetail.rangeUnderflow",y)),new e.ValidatorError(d,f)},e.NumberRangeValidator.prototype.getHint=function(){var r=null,t=this._hint,n=t.inRange,i=t.exact,a=t.min,o=t.max,s=e.Translations,l=void 0!==this._min?parseFloat(this._min):null,u=void 0!==this._max?parseFloat(this._max):null,m=l&&this._converter?this._converter.format(l):l,c=u&&this._converter?this._converter.format(u):u;return null!==l&&null!==u?r=l!==u?n?s.applyParameters(n,{min:m,max:c}):s.getTranslatedString("oj-validator.range.number.hint.inRange",{min:m,max:c}):i?s.applyParameters(i,{num:m}):s.getTranslatedString("oj-validator.range.number.hint.exact",{num:m}):null!==l?r=a?s.applyParameters(a,{min:m}):s.getTranslatedString("oj-validator.range.number.hint.min",{min:m}):null!==u&&(r=o?s.applyParameters(o,{max:c}):s.getTranslatedString("oj-validator.range.number.hint.max",{max:c})),r},e.NumberConverterFactory={createConverter:function(r){return function(r){return new e.IntlNumberConverter(r)}(r)}},e.Validation.__registerDefaultConverterFactory(e.ConverterFactory.CONVERTER_TYPE_NUMBER,e.NumberConverterFactory),e.NumberRangeValidatorFactory={createValidator:function(r){return function(r){return new e.NumberRangeValidator(r)}(r)}},e.Validation.__registerDefaultValidatorFactory(e.ValidatorFactory.VALIDATOR_TYPE_NUMBERRANGE,e.NumberRangeValidatorFactory),n=function(){var r,t,n,i,a,o,s,l,u,m,c,g,p,v,d,f,y,h,b,F,S,I,D,x,N,O,_,C,w,E,U,M,P,j,T,V,L,A,R,$,H,k=/^[+\-]?infinity$/i,W=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,G=/([^+-.0-9]*)([+\-]?\d*\.?\d*(E[+\-]?\d+)?).*$/,K=/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,q=/(^0\.0*)([^0].*$)/,B={trillion:[1e14,1e13,1e12],billion:[1e11,1e10,1e9],million:[1e8,1e7,1e6],thousand:[1e5,1e4,1e3]},z={trillion:1e12,billion:1e9,million:1e6,thousand:1e3},Y={HALF_UP:"ceil",HALF_DOWN:"floor",DEFAULT:"round"};return r=function(e,r,t){var n;for(n=e.length;n<r;n+=1)e=t?"0"+e:e+"0";return e},y=function(e,r,t,n){var i=new RangeError(e+" is out of range.  Enter a value between "+r+" and "+t+" for "+n),a={errorCode:"numberOptionOutOfRange",parameterMap:{value:e,minValue:r,maxValue:t,propertyName:n}};throw i.errorInfo=a,i},S=function(e,r,t,n,i){var a=e[r];return void 0!==a?(a=Number(a),(isNaN(a)||a<t||a>n)&&y(a,t,n,r),Math.floor(a)):i},d=function(e,r){if(void 0===r)return"latn";var t=I(r),n="symbols-numberSystem-"+t;return void 0===e.numbers[n]&&(t="latn"),t},f=function(e){return e.split("-")[0]},I=function(e){var r=(e=e||"en-US").indexOf("-u-nu-"),t="latn";return-1!==r&&(t=e.substr(r+6,4)),t},c=function(r,t,n,i){var a,o=e.OraI18nUtils.getLocaleElementsMainNode(r),l=d(o,i);t.numberingSystemKey=l,t.numberingSystem="symbols-numberSystem-"+l;var u=n.lenientParse;if(t.lenientParse=u||"full",t.style=n.style,void 0!==n.pattern&&n.pattern.length>0)a=n.pattern;else{var m;switch(t.style){case"decimal":m="decimalFormats-numberSystem-";break;case"currency":m="currencyFormats-numberSystem-";break;case"percent":m="percentFormats-numberSystem-";break;default:m="decimalFormats-numberSystem-"}m+=t.numberingSystemKey,a=o.numbers[m].standard;var c=n.decimalFormat;void 0===c&&(c=n.currencyFormat),void 0===c||"decimal"!==t.style&&"currency"!==t.style||(t.shortDecimalFormat=o.numbers["decimalFormats-numberSystem-latn"][c].decimalFormat)}var g=o.numbers[t.numberingSystem].decimal,p=o.numbers[t.numberingSystem].group,v=n.separators;if(void 0!==v){t.separators=v;var y=v.decimal,h=v.group;void 0!==y&&""!==y&&(g=v.decimal),void 0!==h&&(p=v.group)}var b=e.OraI18nUtils.getLocaleElementsMainNodeKey(r),F=f(b);if(t.plurals=r.supplemental.plurals,t.lang=F,t.pat=a,t.minusSign=o.numbers[t.numberingSystem].minusSign,t.decimalSeparator=g,t.exponential=o.numbers[t.numberingSystem].exponential,t.groupingSeparator=p,t.currencyDisplay=n.currencyDisplay,void 0!==n.currency&&(t.currencyCode=n.currency.toUpperCase()),void 0!==n.unit&&(t.unit=n.unit.toLowerCase()),s(n,a,o,t),void 0===n.pattern&&(t.minimumIntegerDigits=S(n,"minimumIntegerDigits",1,21,t.minimumIntegerDigits),void 0!==n.maximumFractionDigits&&(t.maximumFractionDigits=S(n,"maximumFractionDigits",0,20,t.maximumFractionDigits),t.maximumFractionDigits<t.minimumFractionDigits&&(t.minimumFractionDigits=t.maximumFractionDigits)),void 0!==n.minimumFractionDigits&&(t.minimumFractionDigits=S(n,"minimumFractionDigits",0,20,t.minimumFractionDigits)),t.maximumFractionDigits<t.minimumFractionDigits&&(t.maximumFractionDigits=t.minimumFractionDigits,e.Logger.info("maximumFractionDigits is less than minimumFractionDigits, so maximumFractionDigits will be set to minimumFractionDigits")),"currency"===t.style&&void 0===n.minimumFractionDigits)){var I=r.supplemental.currencyData.fractions[n.currency];if(void 0!==I){var D=parseInt(I._digits,10);t.minimumFractionDigits=D,t.maximumFractionDigits=D}}},v=function(e){var r=new TypeError('The property "currency" is required when the property "'+e+'" is "currency". An accepted value is a three-letter ISO 4217 currency code.'),t={errorCode:"optionTypesMismatch",parameterMap:{propertyName:e,propertyValue:"currency",requiredPropertyName:"currency",requiredPropertyValueValid:"a three-letter ISO 4217 currency code"}};throw r.errorInfo=t,r},E=function(e){var r=new TypeError('The property "unit" is required when the property "'+e+'" is "unit". An accepted value is  "byte" or "bit".'),t={errorCode:"optionTypesMismatch",parameterMap:{propertyName:e,propertyValue:"unit",requiredPropertyName:"unit",requiredPropertyValueValid:"byte or bit"}};throw r.errorInfo=t,r},N=function(e){var r,t;throw t={errorCode:"unsupportedParseFormat",parameterMap:{shortFormats:e}},(r=new Error("long and short "+e+" are not supported for parsing")).errorInfo=t,r},g=function(r,t){var n=e.OraI18nUtils.getGetOption(r,t),i=n("style","string",["currency","decimal","percent","unit","perMill"],"decimal");if("decimal"===i||"currency"===i){var a="decimal"===i?"decimalFormat":"currencyFormat";i=n(a,"string",["standard","short","long"]),"OraNumberConverter.parse"===t&&void 0!==i&&"standard"!==i&&N(a)}var o=n("currency","string");"currency"===i&&void 0===o&&v("style"),o=n("unit","string"),"unit"===i&&void 0===o&&E("style"),n("roundingMode","string",["HALF_UP","HALF_DOWN","HALF_EVEN"],"DEFAULT"),n("lenientParse","string",["none","full"],"full")},w=function(r,t,n,i){var a,o;r>=1099511627776?(a="digital-tera",o=r/1099511627776):r>=1073741824?(a="digital-giga",o=r/1073741824):r>=1048576?(a="digital-mega",o=r/1048576):r>=1024?(a="digital-kilo",o=r/1024):(a="digital-",o=r),a+=n.unit;var s=n.lang,l=n.plurals[s](o);l="unitPattern-count-"+l;var u=O(o,t,n),m=i.units.narrow[a][l];return e.OraI18nUtils.formatString(m,[u])},C=function(e,r,t){var n=function(e){var r,t,n;for(r in B)for(n=B[r].length,t=0;t<n;t++)if(B[r][t]<=e)return[r,B[r][t]];return[e,null]}(e),i="";if(null!==n[1]){var a=t.lang,o=t.plurals[a](Math.floor(e/z[n[0]])),s=n[1]+"-count-"+o;void 0===(s=t.shortDecimalFormat[s])&&(o="other",s=n[1]+"-count-"+o,s=t.shortDecimalFormat[s]);var l=function(e){var r=0,t=0,n=0,i="";if("0"!==e[0]){for(;"0"!==e[r]&&r<e.length;)r++;i=e.substr(0,r),n=r}for(r=n;r<e.length&&"0"===e[r];r++)t++;return[i,t]}(s),u=l[1];if(i=l[0],u<s.length){var m=1*Math.pow(10,u);e/=m=n[1]/m*10}}var c="";return void 0!==s&&(c=s.substr(u+l[0].length)),i+O(e,r,t)+c.replace(/'\.'/g,".")},_=function(e,t){var n=e+"",i=0,a=n.split(/e/i),o=a[0];q.lastIndex=0;var s=q.exec(o);null!==s?(i=s[1].length-1,o=s[2]):o=o.replace(".","");var l=a.length>1?parseInt(a[1],10):0,u=parseInt(o,10),m=t.minimumIntegerDigits+t.maximumFractionDigits;if(o.length>m){m-=o.length;var c=Math.pow(10,m);u=Math.round(u*c)}var g=t.minimumIntegerDigits+t.minimumFractionDigits;u=r(u+="",g,!1),-1!==n.indexOf(".")?l-=t.minimumIntegerDigits-n.indexOf(".")+i:l-=g-o.length-t.minimumFractionDigits;var p=Math.abs(l);p=r(p+"",t.minExponentDigits,!0),l<0&&(p=t.minusSign+p);var v=u.slice(0,t.minimumIntegerDigits);return u.slice(t.minimumIntegerDigits).length>0?v+=t.decimalSeparator+u.slice(t.minimumIntegerDigits)+t.exponential+p:v+=t.exponential+p,v},O=function(e,t,n){var i,a=n.groupingSize,o=n.groupingSize0,s=n.decimalSeparator,l=e+"",u=l.split(/e/i),m=u.length>1?parseInt(u[1],10):0,c=(u=(l=u[0]).split(".")).length>1?u[1]:"";if(u.length>1&&c.length>m){i=Math.min(n.maximumFractionDigits,c.length-m);var g=t.roundingMode||"DEFAULT";e=h(e,i,g)}m=(u=(l=e+"").split(/e/i)).length>1?parseInt(u[1],10):0,l=(u=(l=u[0]).split("."))[0],c=u.length>1?u[1]:"",m>0?(l+=(c=r(c,m,!1)).slice(0,m),c=c.substr(m)):m<0&&(c=(l=r(l,1+(m=-m),!0)).slice(-m,l.length)+c,l=l.slice(0,-m)),c=i>0&&c.length>0?s+(c.length>i?c.slice(0,i):r(c,i,!1)):n.minimumFractionDigits>0?s:"";var p=s.length+n.minimumFractionDigits;c=r(c,p,!1);var v=n.groupingSeparator,d="";!1===t.useGrouping&&void 0===t.pattern&&(v="");var f=(l=r(l,n.minimumIntegerDigits,!0)).length-1;for(c=c.length>1?c:"";f>=0;){if(0===a||a>f)return l.slice(0,f+1)+(d.length?v+d+c:c);d=l.slice(f-a+1,f+1)+(d.length?v+d:""),f-=a,o>0&&(a=o)}return l.slice(0,f+1)+v+d+c},D=function(e,r,t){if("HALF_DOWN"===t||"HALF_EVEN"===t){var n=e.substr(r);(n=parseInt(n,10))>5&&(t="HALF_UP")}return t},h=function(e,r,t){var n=e.toString().split(".");if(void 0===n[1])return e;if("5"===n[1][r]&&"DEFAULT"!==t){var i=D(n[1],r,t);return i=F(n,i,r),b(e,-r,i,n)}var a=Math.pow(10,r),o=Math.round(e*a)/a;return isFinite(o)?o:e},F=function(e,r,t){var n=Y[r];if("HALF_EVEN"===r){var i;if(0===t){var a=e[0].length;i=parseInt(e[0][a-1],10)}else i=parseInt(e[1][t-1],10);n=i%2==0?Y.HALF_DOWN:Y.HALF_UP}return n},b=function(e,r,t,n){if(0===r)return"5"===n[1][0]?Math[t](e):Math.round(e);var i=e.toString().split("e"),a=i[0],o=i[1],s=a+"e"+(o?parseInt(o,10)-r:-r),l=parseFloat(s);return s=(a=(i=(e=Math[t](l)).toString().split("e"))[0])+"e"+((o=i[1])?parseInt(o,10)+r:r),parseFloat(s)},t=function(r,t,n,i,a){var o=e.OraI18nUtils.getLocaleElementsMainNode(n);if(!isFinite(r))return r===1/0?o.numbers[i.numberingSystem].infinity:r===-1/0?o.numbers[i.numberingSystem].infinity:o.numbers[i.numberingSystem].nan;var s=Math.abs(r);!0===i.isPercent||"percent"===i.style?s*=100:!0===i.isPerMill&&(s*=1e3);var l=t.decimalFormat;void 0===l&&(l=t.currencyFormat);var u=i.style;s="decimal"!==u&&"currency"!==u||void 0===l||"standard"===l?!0===i.useExponentialNotation?_(s,i):"unit"===u?w(s,t,i,o):O(s,t,i):C(s,t,i);var m="";m+=r<0&&s-0!=0?i.negativePrefix+s+i.negativeSuffix:i.positivePrefix+s+i.positiveSuffix;var c=I(a);if(void 0===e.OraI18nUtils.numeringSystems[c]&&(c="latn"),"latn"!==c){var g,p=[];for(g=0;g<m.length;g++)m[g]>="0"&&m[g]<="9"?p.push(e.OraI18nUtils.numeringSystems[c][m[g]]):p.push(m[g]);return p.join("")}return m},l=function(r,t,n,i){var a,s=e.OraI18nUtils.trimNumber(r),l="",m=!1,c=i.numbers[n.numberingSystem].plusSign,g=new RegExp("^"+c.replace(K,"\\$1"));s=s.replace(g,"");var p=e.OraI18nUtils.trimNumber(n.positivePrefix),v=e.OraI18nUtils.trimNumber(n.positiveSuffix),d=e.OraI18nUtils.trimNumber(n.negativePrefix),f=e.OraI18nUtils.trimNumber(n.negativeSuffix),y=new RegExp("^"+(p||"").replace(K,"\\$1")),h=new RegExp((v||"").replace(K,"\\$1")+"$"),b=new RegExp("^"+(d||"").replace(K,"\\$1")),F=new RegExp((f||"").replace(K,"\\$1")+"$");if(!0===b.test(s)&&!0===F.test(s))s=(s=s.replace(b,"")).replace(F,""),l="-",m=!0;else if(!0===y.test(s)&&!0===h.test(s))s=(s=s.replace(y,"")).replace(h,""),l="+",m=!0;else if("currency"===n.style){var S,I,D,x,N,O=n.currencyCode,_=O;void 0!==i.numbers.currencies[O]&&(_=i.numbers.currencies[O].symbol),void 0===n.currencyDisplay||"symbol"===n.currencyDisplay?N=_:"code"===n.currencyDisplay&&(N=O),void 0!==N&&(S=(p||"").replace(N,""),I=(v||"").replace(N,""),D=(d||"").replace(N,""),x=(f||"").replace(N,""),y=new RegExp(("^"+S).replace(K,"\\$1")),h=new RegExp(I.replace(K,"\\$1")+"$"),b=new RegExp(("^"+D).replace(K,"\\$1")),F=new RegExp(x.replace(K,"\\$1")+"$"),!0===b.test(s)&&!0===F.test(s)?(s=(s=s.replace(b,"")).replace(F,""),l="-",m=!0):!0===y.test(s)&&!0===h.test(s)&&(s=(s=s.replace(y,"")).replace(h,""),l="+",m=!0))}return m?a=[l,s]:"full"===n.lenientParse?(a=u(s,n))[2]=!0:o(n.style,n,r),a},u=function(r,t){var n=t.groupingSeparator,i=t.decimalSeparator,a=t.minusSign,o="",s="",l=e.OraI18nUtils.toUpper(t.exponential),u=n;r=(r=(r=e.OraI18nUtils.toUpper(r)).split(l).join("E")).split(u).join("");var m=u.replace(/\u00A0/g," ");u!==m&&(r=r.split(m).join("")),"."===(r=r.split(i).join(".")).charAt(0)&&(r=r.substr(1),s="."),r=r.replace(a,"-");var c=s+G.exec(r)[2];return e.OraI18nUtils.startsWith(c,"-")?(c=c.substr("-".length),o="-"):e.OraI18nUtils.startsWith(r,"+")&&(c=c.substr("+".length),o="+"),[o,c]},m=function(r,t){var n,i=t.minusSign,a=t.plusSign;return r=e.OraI18nUtils.trimNumber(r),i=e.OraI18nUtils.trimNumber(i),a=e.OraI18nUtils.trimNumber(a),e.OraI18nUtils.startsWith(r,i)?n=["-",r.substr(i.length)]:e.OraI18nUtils.startsWith(r,e.OraI18nUtils.trimNumber(a))&&(n=["+",r.substr(a.length)]),n||["",r]},i=function(r,t){var n,i=I(t);if(void 0===e.OraI18nUtils.numeringSystems[i])return r;var a=[];for(n=0;n<r.length;n++){var o=e.OraI18nUtils.numeringSystems[i].indexOf(r[n]);-1!==o?a.push(o):a.push(r[n])}return a.join("")},a=function(r,t){var n={},i=t.decimalSeparator,a=t.groupingSeparator;r=r.replace(/ /g,"");var o,s,l=t.exponential,u=r.indexOf(l.toLowerCase());u<0&&(u=r.indexOf(e.OraI18nUtils.toUpper(l))),u<0?(s=r,n.exponent=null):(s=r.substr(0,u),n.exponent=r.substr(u+l.length));var m=i,c=s.indexOf(m);c<0?(o=s,n.fraction=null):(o=s.substr(0,c),n.fraction=s.substr(c+m.length)),o=o.split(a).join("");var g=a.replace(/\u00A0/g," ");return a!==g&&(o=o.split(g).join("")),n.integer=o,n},x=function(r,t,n,i){return isNaN(r)&&o(n.style,n,i),!0===n.isPercent||"percent"===n.style?r/=100:!0===n.isPerMill&&(r/=1e3),e.OraI18nUtils.getGetOption(t,"OraNumberConverter.parse")("roundDuringParse","boolean",[!0,!1],!1)&&(r=p(r,n,t)),r},o=function(e,r,t){var n,i,a,o;switch(n="Unparsable number "+t+" The expected number pattern is "+r.pat,e){case"decimal":o="decimalFormatMismatch";break;case"currency":o="currencyFormatMismatch";break;case"percent":o="percentFormatMismatch"}throw i=new Error(n),a={errorCode:o,parameterMap:{value:t,format:r.pat}},i.errorInfo=a,i},n=function(r,t,n,s){var g=e.OraI18nUtils.getLocaleElementsMainNode(t),p={},v=i(r,s);c(t,p,n,s);var d=NaN,f=v.replace(/ /g,"");if(k.test(f))return parseFloat(v);var y=l(v,0,p,g),h=y[0],b=y[1];if(h=h||"+",y[2])return d=parseFloat(h+b),x(d,n,p,r);var F=a(b,p),S=F.integer,I=F.fraction,D=F.exponent,N=h+S;if(null!==I&&(N+="."+I),null!==D){var O=m(D,p);N+="e"+(O[0]||"+")+O[1]}return W.test(N)?d=parseFloat(N):"full"===p.lenientParse?(N=u(v,p),d=parseFloat(N[0]+N[1])):o(p.style,p,r),x(d,n,p,r)},T=function(e){var r,t;throw t={errorCode:"optionValueInvalid",parameterMap:{propertyName:"pattern",propertyValue:e,propertyValueHint:"#,##0.###"}},(r=new SyntaxError('Unexpected character(s) encountered in the pattern "'+e+' An example of a valid pattern is "#,##0.###".')).errorInfo=t,r},M=function(e,r,t){var n=e.substr(r,t.length);return null!==new RegExp(t,"i").exec(n)},j=function(e,r){var t={};null!==A&&(r.positivePrefix=P(A,e,r,t)),null!==R&&(r.positiveSuffix=P(R,e,r,t)),null!==$&&(r.negativePrefix=P($,e,r,t)),null!==H&&(r.negativeSuffix=P(H,e,r,t)),void 0!==t.name&&(r.positiveSuffix=""+t.name,r.positivePrefix="","ar"===r.lang?(r.negativeSuffix=e.numbers[r.numberingSystem].minusSign+""+t.name,r.negativePrefix=""):(r.negativeSuffix=""+t.name,r.negativePrefix=e.numbers[r.numberingSystem].minusSign))},P=function(e,r,t,n){for(var i="",a=0;a<e.length;){var o=e.charAt(a++);if("'"!==o){switch(o){case"":var s=t.currencyCode,l=s,u=s;void 0!==r.numbers.currencies[s]&&(l=r.numbers.currencies[s].displayName,u=r.numbers.currencies[s].symbol),void 0===t.currencyDisplay||"symbol"===t.currencyDisplay?o=u:"code"===t.currencyDisplay?o=s:(o=l,n.name=o);break;case"%":o=r.numbers[t.numberingSystem].percentSign;break;case"":o=r.numbers[t.numberingSystem].perMille;break;case"-":o=r.numbers[t.numberingSystem].minusSign}i=i.concat(o)}}return i},s=function(e,r,t,n){for(var i=!1,a=!1,o=0,s=0,l=!0,u=1;u>=0&&s<r.length;--u){var m,c=!1,g="",p="",d=-1,f=1,y=0,h=0,b=0,F=-1,S=-1,I=0;l=!0;for(var D=s;D<r.length;++D){var x=r.charAt(D);switch(I){case 0:case 2:if(c){if("'"===x){D+1<r.length&&"'"===r.charAt(D+1)?(++D,l?g=g.concat("''"):p=p.concat("''")):c=!1;continue}}else{if("#"===x||"0"===x||","===x||"."===x){I=1,--D;continue}if(""===x){void 0===e.currency&&v("style"),n.style="currency";var N=D+1<r.length&&""===r.charAt(D+1);N&&++D,l?g=g.concat(N?"'":"'"):p=p.concat(N?"'":"'");continue}if("'"===x){if("'"===x){D+1<r.length&&"'"===r.charAt(D+1)?(++D,l?g=g.concat("''"):p=p.concat("''")):c=!0;continue}}else{if(";"===x){0!==I&&0!==u||T(r),s=D+1,D=r.length;continue}if("%"===x){n.style="percent",1!==f&&T(r),n.isPercent=!0,f=100,l?g=g.concat("'%"):p=p.concat("'%");continue}if(""===x){1!==f&&T(r),n.style="perMill",n.isPerMill=!0,f=1e3,l?g=g.concat("'"):p=p.concat("'");continue}if("-"===x){l?g=g.concat("'-"):p=p.concat("'-");continue}}}l?g=g.concat(x):p=p.concat(x);break;case 1:if(1!==u){0==--o&&(I=2,l=!1);continue}if(++o,"#"===x)h>0?++b:++y,F>=0&&d<0&&++F;else if("0"===x)b>0&&T(r),++h,F>=0&&d<0&&++F;else if(","===x)S=F,F=0;else{if("."!==x){if(M(r,D,"E")){for(a&&T(r),a=!0,m=0,D+="E".length;D<r.length&&"0"===r.charAt(D);)++m,++o,++D;(y+h<1||m<1)&&T(r),I=2,l=!1,--D;continue}I=2,l=!1,--D,--o;continue}d>=0&&T(r),d=y+h+b}}}if(0===h&&y>0&&d>=0){var O=d;0===O&&++O,b=y-O,y=O-1,h=1}if((d<0&&b>0||d>=0&&(d<y||d>y+h)||0===F||c)&&T(r),1===u){$=A=g,H=R=p;var _=y+h+b,C=d>=0?d:_;n.minimumIntegerDigits=C-y,n.maximumIntegerDigits=a?y+n.minimumIntegerDigits:2147483647,n.maximumFractionDigits=d>=0?_-d:0,n.minimumFractionDigits=d>=0?y+h-d:0,n.groupingSize=F>0?F:0,n.groupingSize0=S}else $=g,H=p,i=!0}0===r.length&&(A=R="",n.minimumIntegerDigits=0,n.maximumIntegerDigits=2147483647,n.minimumFractionDigits=0,n.maximumFractionDigits=2147483647),n.useExponentialNotation=a,n.minExponentDigits=m,(!i||0===$.localeCompare(A)&&0===H.localeCompare(R))&&("currency"===n.style&&"ar"===n.lang?(H=R+"'-",$=A):(H=R,$="'-"+A)),j(t,n)},p=function(e,r,t){var n=r.maximumFractionDigits,i=e<0,a=t.roundingMode||"DEFAULT",o=h(Math.abs(e),n,a);return i?-o:o},V=function(r,t,n){var i={};return g(t,"OraNumberConverter.resolvedOptions"),c(r,i,t,n),i.numberingSystemKey=I(n),void 0===e.OraI18nUtils.numeringSystems[i.numberingSystemKey]&&(i.numberingSystemKey="latn"),i},L=function(e,r,t){var n={locale:t,style:void 0===e.style?"decimal":e.style,useGrouping:void 0===r.useGrouping||r.useGrouping,numberingSystem:e.numberingSystemKey};n.minimumIntegerDigits=e.minimumIntegerDigits,n.minimumFractionDigits=e.minimumFractionDigits,n.maximumFractionDigits=e.maximumFractionDigits,"decimal"===e.style&&void 0!==r.decimalFormat&&(n.decimalFormat=r.decimalFormat),"currency"===e.style&&void 0!==r.currencyFormat&&(n.currencyFormat=r.currencyFormat),"currency"===e.style&&(n.currency=r.currency,n.currencyDisplay=void 0===r.currencyDisplay?"symbol":r.currencyDisplay),void 0!==r.unit&&(n.unit=r.unit),void 0!==r.pattern&&(n.pattern=r.pattern);var i=r.roundingMode,a=r.roundDuringParse;void 0!==i&&(n.roundingMode=i),void 0!==a&&(n.roundDuringParse=a);var o=e.lenientParse;void 0!==o&&(n.lenientParse=o);var s=e.separators;return void 0!==s&&(n.separators=s),n},{getInstance:function(){return U||(U={format:function(e,r,n,i){(arguments.length<=2||void 0===n)&&(n={useGrouping:!0,style:"decimal"}),g(n,"OraNumberConverter.format");var a={};return c(r,a,n,i),t(e,n,r,a,i)},parse:function(e,r,t,i){return"number"==typeof e?e:"[object Number]"===Object.prototype.toString.call(e)?Number(e):((arguments.length<=2||void 0===t)&&(t={useGrouping:!0,style:"decimal"}),g(t,"OraNumberConverter.parse"),n(e,r,t,i))},resolvedOptions:function(r,t,n){(arguments.length<3||void 0===n)&&(n=e.OraI18nUtils.getLocaleElementsMainNodeKey(r)),(arguments.length<2||void 0===t)&&(t={useGrouping:!0,style:"decimal"});var i=V(r,t,n);return L(i,t,n)}}),U}}}()});
define('ojs/ojinputnumber',["ojs/ojcore","jquery","ojs/ojeditablevalue","ojs/ojvalidation-number","ojs/ojbutton"],function(t,e){t.__registerWidget("oj.ojInputNumber",e.oj.editableValue,{version:"1.0.0",defaultElement:"<input>",widgetEventPrefix:"oj",_ALLOWED_TYPES:["number","text"],options:{autocomplete:void 0,autofocus:!1,converter:t.Validation.converterFactory(t.ConverterFactory.CONVERTER_TYPE_NUMBER).createConverter(),max:null,min:null,name:"",placeholder:"",rawValue:void 0,readOnly:!1,required:!1,step:1,validators:void 0,value:null,virtualKeyboard:"auto"},getNodeBySubId:function(t){var e,n=this._superApply(arguments);return n||("oj-inputnumber-up"===(e=t.subId)&&(n=this.widget().find(".oj-inputnumber-up")[0]),"oj-inputnumber-down"===e&&(n=this.widget().find(".oj-inputnumber-down")[0]),"oj-inputnumber-input"===e&&(n=this.widget().find(".oj-inputnumber-input")[0])),n||null},getSubIdByNode:function(t){var e=null;return null!=t&&(t===this.widget().find(".oj-inputnumber-up")[0]?e={subId:"oj-inputnumber-up"}:t===this.widget().find(".oj-inputnumber-down")[0]?e={subId:"oj-inputnumber-down"}:t===this.widget().find(".oj-inputnumber-input")[0]&&(e={subId:"oj-inputnumber-input"})),e||this._superApply(arguments)},refresh:function(){this._super(),this._setup()},stepDown:function(t){this._step(t,!1)},stepUp:function(t){this._step(t,!0)},widget:function(){return this.uiInputNumber},_InitOptions:function(e,n){var i=this.options,r=this;if(this._superApply(arguments),this._IsCustomElement()||t.EditableValueUtils.initializeOptionsFromDom([{attribute:"disabled",validateOption:!0},{attribute:"placeholder"},{attribute:"value"},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"},{attribute:"min"},{attribute:"max"},{attribute:"step"}],n,this,function(t){for(var e=["value","step","min","max"],n=0;n<e.length;n++){var a=e[n],s=a in t?t[a]:i[a];null!=s&&(t[a]="step"===a?r._parseStep(s):r._parse(a,s))}}),this._IsCustomElement()){var a=i.step;null!=a&&r._parseStep(a)}if(void 0===i.value)throw new Error("ojInputNumber has no value");if(this.initialValue=i.value,null!=i.min&&null!=i.max&&i.max<i.min)throw new Error("ojInputNumber's max must not be less than min")},_ComponentCreate:function(){this._super(),this._draw(),this._inputNumberDefaultValidators={},this._setup(),this._on(this._events),this._focusable(this.uiInputNumber)},_AfterSetOption:function(e,n,i){switch(this._superApply(arguments),e){case"min":case"max":this._Refresh(e,this.options[e]);break;case"readOnly":this._AfterSetOptionDisabledReadOnly(e,t.EditableValueUtils.readOnlyOptionOptions);break;case"required":this._AfterSetOptionRequired(e);break;case"validators":this._AfterSetOptionValidators(e);break;case"converter":this._AfterSetOptionConverter(e);break;case"virtualKeyboard":this._SetInputType(this._ALLOWED_TYPES)}},_CanSetValue:function(){return!!this._super()&&!this.options.readOnly},_AfterSetOptionValue:function(t,e){this._superApply(arguments);var n,i,r=e?e._context:null;r&&(n=!!r.originalEvent,i=r.doNotClearMessages||!1),n||i||(this.initialValue=this.options.value)},_IsRequired:function(){return this.options.required},_AfterSetOptionRequired:t.EditableValueUtils._AfterSetOptionRequired,_AfterSetOptionValidators:t.EditableValueUtils._AfterSetOptionValidators,_AfterSetOptionConverter:t.EditableValueUtils._AfterSetOptionConverter,_ResetConverter:t.EditableValueUtils._ResetConverter,_GetConverter:function(){return this.options.converter?this._getConverter():e.oj.ojInputNumber.prototype.options.converter},_GetNormalizedValidatorsFromOption:t.EditableValueUtils._GetNormalizedValidatorsFromOption,_AriaRequiredUnsupported:function(){return!1},_setOption:function(t,e,n){var i;i=this._IsCustomElement()||"value"!==t&&"max"!==t&&"min"!==t?"step"===t?this._parseStep(e):e:this._parse(t,e),this._super(t,i,n),"max"!==t&&"min"!==t||(this._createRangeValidator(),this._AfterSetOptionValidators()),"disabled"===t&&this.element.prop("disabled",!!e),"readOnly"===t&&(this.element.prop("readonly",!!e),this._refreshStateTheming("readOnly",this.options.readOnly),this._refreshRoleSpinbutton("readOnly",this.options.readOnly))},_destroy:function(){var e=this._super();return this.buttonSet.ojButtonset("destroy"),this.buttonSet.remove(),this.upButton=null,this.downButton=null,this.buttonSet=null,this.initialValue=null,t.DomUtils.unwrap(this.element,this.uiInputNumber),clearTimeout(this.timer),e},validate:t.EditableValueUtils.validate,_Refresh:function(t,e,n){var i;switch(this._superApply(arguments),t){case"disabled":case"max":case"min":case"value":i=this._getConvertedDisplayValue(),this._updateButtons(i);case"max":case"min":case"value":this._refreshAriaMinMaxValue(i);break;case"converter":i=this._getConvertedDisplayValue(),this._refreshAriaText(i);break;case"required":this._refreshRequired(e)}},_refreshRequired:t.EditableValueUtils._refreshRequired,_GetImplicitValidators:function(){var t=this._superApply(arguments);return null==this.options.min&&null==this.options.max||this._createRangeValidator(),e.extend(this._inputNumberDefaultValidators,t)},_GetDefaultStyleClass:function(){return"oj-inputnumber"},_events:{input:function(t){this._SetRawValue(this.element.val(),t)},keydown:function(t){var n=e.ui.keyCode;t.keyCode===n.ENTER?(this._blurEnterSetValue(t),t.preventDefault()):this._start()&&this._keydown(t)&&t.preventDefault()},keyup:function(t){this._stop(t)},blur:function(t){this._blurEnterSetValue(t)},"touchstart .oj-inputnumber-button.oj-enabled":function(t){this._start(),this._repeat(null,e(t.currentTarget).hasClass("oj-inputnumber-up")?1:-1,t)},"touchend .oj-inputnumber-button":function(t){this._stop(t)},"touchcancel .oj-inputnumber-button":function(t){this._stop(t)},"mousedown .oj-inputnumber-button.oj-enabled":function(t){this._isRealMouseEvent(t)&&(this._start(),this._repeat(null,e(t.currentTarget).hasClass("oj-inputnumber-up")?1:-1,t))},"mouseup .oj-inputnumber-button":function(t){this._isRealMouseEvent(t)&&this._stop(t)},"mouseenter .oj-inputnumber-button.oj-enabled":function(t){e(t.currentTarget).hasClass("oj-active")&&this._isRealMouseEvent(t)&&(this._start(),this._repeat(null,e(t.currentTarget).hasClass("oj-inputnumber-up")?1:-1,t))},"mouseleave .oj-inputnumber-button":function(t){this._isRealMouseEvent(t)&&this._stop(t)}},_BUNDLE_KEY:{_TOOLTIP_DECREMENT:"tooltipDecrement",_TOOLTIP_INCREMENT:"tooltipIncrement"},_OPTION_TO_CSS_MAPPING:{readOnly:"oj-read-only"},_setup:function(){var t=this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_INCREMENT),e=this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_DECREMENT),n=this._getConvertedDisplayValue();this.upButton.ojButton({label:t}),this.downButton.ojButton({label:e}),this._refreshAriaMinMaxValue(n),this._updateButtons(n),"boolean"==typeof this.options.readOnly&&this.element.prop("readonly",this.options.readOnly),this._refreshStateTheming("readOnly",this.options.readOnly),this._refreshRoleSpinbutton("readOnly",this.options.readOnly),this._refreshRequired(this.options.required)},_markInternalComponents:function(){this.upButton.attr("data-oj-internal",""),this.downButton.attr("data-oj-internal",""),this.buttonSet.attr("data-oj-internal","")},_createOjButtonset:function(){var t=this.uiInputNumber.find(".oj-inputnumber-up"),n=this.uiInputNumber.find(".oj-inputnumber-down"),i=t[0].parentNode;this.upButton=t.ojButton({display:"icons",icons:{start:"oj-component-icon oj-inputnumber-up-icon"}}),this.downButton=n.ojButton({display:"icons",icons:{start:"oj-component-icon oj-inputnumber-down-icon"}}),this.buttonSet=e(i).ojButtonset({focusManagement:"none"}),this._markInternalComponents()},_draw:function(){var n,i=this.element;this.uiInputNumber=i.addClass("oj-inputnumber-input").wrap(this._uiInputNumberHtml()).parent().append(this._buttonHtml()),this.OuterWrapper?(this.uiInputNumber=e(this.OuterWrapper).append(this.uiInputNumber),this.uiInputNumber.addClass("oj-inputnumber oj-component")):this.uiInputNumber=this.uiInputNumber.wrap("<div class='oj-inputnumber oj-component'></div>").parent(),this._IsCustomElement()&&(n=this.widget().attr("id"))&&t.EditableValueUtils.setSubIdForCustomLabelFor(this._GetContentElement()[0],n),this.saveType=i.prop("type"),this._SetInputType(this._ALLOWED_TYPES),this.uiInputNumber.find(".oj-inputnumber-button").attr("tabIndex","-1"),this._createOjButtonset()},_keydown:function(t){var n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0}return!1},_uiInputNumberHtml:function(){return"<span class='oj-inputnumber-wrapper'></span>"},_buttonHtml:function(){return"<div class='oj-buttonset-width-auto'><button type='button' class='oj-inputnumber-button oj-inputnumber-down'></button><button type='button' class='oj-inputnumber-button oj-inputnumber-up'></button></div>"},_start:function(){return this.spinning=!0,!0},_repeat:function(t,e,n){var i=!1;e>0?this.upButton.hasClass("oj-disabled")&&(i=!0):this.downButton.hasClass("oj-disabled")&&(i=!0),t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){i||this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this._getConvertedDisplayValue(),i=this.options,r=i.min,a=i.max,s=i.step,u=this.initialValue,o=this._precision(r,s,u);n=this._adjustValue(n,t,r,a,s,o,u),this._CanSetValue()&&(this.element.val(n),this._refreshAriaMinMaxValue(n),this._updateButtons(n),this._SetRawValue(this.element.val(),e)),this._SetValue(n,e,{validationMode:this._VALIDATION_MODE.VALIDATORS_ONLY})},_precision:function(t,e,n){var i=this._precisionOf(e);return null!=t&&(i=Math.max(i,this._precisionOf(t))),null!=n&&(i=Math.max(i,this._precisionOf(n))),i},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(e,n,i,r,a,s,u){var o,l,p;if(s>0)return this._adjustValueForFractions(e,n,i,r,a,s,u);null==(l=null!=i?i:u)&&(l=0);try{e=parseFloat(e.toFixed(s))}catch(n){n instanceof TypeError&&(t.Logger.warn("inputNumber's value after conversion is not a number. \n                      The converter must convert the value to a Number. coercing using +"),e=+e)}p=e-l;var h=Math.round(p/a)*a;if(o=(h=parseFloat(h.toFixed(s)))===p?e+n:l+(p=n<0?Math.ceil(p/a)*a:Math.floor(p/a)*a)+n,o=parseFloat(o.toFixed(s)),null!=i&&o<i)return i;if(null!=r&&o>r){var d=Math.floor((r-l)/a)*a+l;return parseFloat(d.toFixed(s))}return o},_adjustValueForFractions:function(e,n,i,r,a,s,u){t.Assert.assert(s>0);var o=Math.pow(10,s),l=null!=i?Math.round(i*o):i,p=null!=r?Math.round(r*o):r,h=null!=a?Math.round(a*o):a;return this._adjustValue(Math.round(e*o),Math.round(n*o),l,p,h,0,Math.round(u*o))/o},_stop:function(t){this.spinning&&(clearTimeout(this.timer),this.spinning=!1)},_isRealMouseEvent:function(e){return!t.DomUtils.recentTouchEnd()},_updateButtons:function(t){var e,n,i=this.options,r=i.max,a=i.min,s=this.downButton,u=this.upButton,o=null!=r,l=null!=a;this.uiInputNumber&&(s||u)&&(e=s.hasClass("oj-disabled"),n=u.hasClass("oj-disabled"),i.disabled||void 0===t||o&&l&&r===a&&t===r?(e||s.ojButton("disable"),n||u.ojButton("disable")):o&&t>=r?(e&&s.ojButton("enable"),n||u.ojButton("disable")):l&&t<=a?(e||s.ojButton("disable"),n&&u.ojButton("enable")):(e&&s.ojButton("enable"),n&&u.ojButton("enable")))},_getConverter:t.EditableValueUtils._GetConverter,_getConvertedDisplayValue:function(){var t,e;try{e=this._GetDisplayValue()||0,t=this._parseValue(e)}catch(e){t=void 0}return t},_blurEnterSetValue:function(t){var e,n=this.element.val();this._stop(),e=this._getConvertedDisplayValue(),this._refreshAriaMinMaxValue(e),this._updateButtons(e),this._SetValue(n,t)},_createRangeValidator:function(){var e,n,i,r,a,s,u,o,l,p,h=this.options,d=h.min,_=h.max,m=null!=d?d:void 0,b=null!=_?_:void 0,c=h.translations,f=c&&c.numberRange||{},v=f.hint||{},y=f.messageDetail||{},j=f.messageSummary||{};null!==v&&(e=v.min||null,n=v.max||null,i=v.inRange||null,r=v.exact||null),null!==y&&(a=y.rangeOverflow||null,s=y.rangeUnderflow||null,u=y.exact||null),null!==j&&(o=j.rangeOverflow||null,l=j.rangeUnderflow||null),p={min:m,max:b,hint:{min:e||null,max:n||null,inRange:i||null,exact:r||null},messageDetail:{rangeOverflow:a||null,rangeUnderflow:s||null,exact:u||null},messageSummary:{rangeOverflow:o||null,rangeUnderflow:l||null},converter:this._GetConverter()},this._inputNumberDefaultValidators[t.ValidatorFactory.VALIDATOR_TYPE_NUMBERRANGE]=t.Validation.validatorFactory(t.ValidatorFactory.VALIDATOR_TYPE_NUMBERRANGE).createValidator(p)},_parse:function(t,e){var n;if(n=null!==e?+e:e,isNaN(n))throw new Error("ojInputNumber's "+t+" option is not a number");return n},_parseStep:function(t){var e;if(null===t)return 1;if((e=this._parse("step",t))<=0)throw new Error("Invalid step for ojInputNumber; step must be > 0");return(null===e||e<=0)&&(e=1),e},_refreshStateTheming:function(t,e){-1!=Object.keys(this._OPTION_TO_CSS_MAPPING).indexOf(t)&&this.widget().toggleClass(this._OPTION_TO_CSS_MAPPING[t],!!e)},_refreshRoleSpinbutton:function(t,e){(e=!!e)?this.element.removeAttr("role"):this.element.attr("role","spinbutton")},_refreshAriaMinMaxValue:function(t){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":t}),this._refreshAriaText(t)},_refreshAriaText:function(t){var e=this.element,n=e.val();this._CompareOptionValues("value",""+t,n)||e.attr({"aria-valuetext":n})},_step:function(t,e){this._start(),e?this._spin((t||1)*this.options.step):this._spin((t||1)*-this.options.step),this._stop()},_SetInputType:t.EditableValueUtils._SetInputType,_ValidateReturnBoolean:t.EditableValueUtils._ValidateReturnBoolean}),t.CustomElementBridge.registerMetadata("oj-input-number","editableValue",{properties:{autocomplete:{type:"string",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",extension:{_COPY_TO_INNER_ELEM:!0}},converter:{type:"Object"},max:{type:"number"},min:{type:"number"},name:{type:"string",extension:{_COPY_TO_INNER_ELEM:!0}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean"},required:{type:"boolean"},step:{type:"number"},translations:{type:"Object",properties:{numberRange:{type:"Object",properties:{hint:{type:"Object",properties:{exact:{type:"string"},inRange:{type:"string"},max:{type:"string"},min:{type:"string"}}},messageDetail:{type:"Object",properties:{exact:{type:"string"},rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}},messageSummary:{type:"Object",properties:{rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}}}},required:{type:"Object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},tooltipDecrement:{type:"string",value:"Decrement"},tooltipIncrement:{type:"string",value:"Increment"}}},validators:{type:"Array"},value:{type:"number",writeback:!0},virtualKeyboard:{type:"string",enumValues:["auto","number","text"]}},methods:{stepDown:{},stepUp:{},validate:{}},extension:{_ALIASED_PROPS:{readonly:"readOnly"},_INNER_ELEM:"input",_WIDGET_NAME:"ojInputNumber",_GLOBAL_TRANSFER_ATTRS:["accesskey","aria-label","tabindex"]}}),t.CustomElementBridge.register("oj-input-number",{metadata:t.CustomElementBridge.getMetadata("oj-input-number")})});
define('ojs/ojlistdataproviderview',["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojeventtarget","ojs/ojdataprovider"],function(t,e){var i=function(){function e(t,e){this.dataProvider=t,this.options=e,this._KEY="key",this._KEYS="keys",this._DATA="data",this._STARTINDEX="startIndex",this._SORT="sort",this._SORTCRITERIA="sortCriteria",this._FILTERCRITERION="filterCriterion",this._METADATA="metadata",this._FROM="from",this._OFFSET="offset",this._REFRESH="refresh",this._MUTATE="mutate",this._SIZE="size",this._FETCHPARAMETERS="fetchParameters",this._VALUE="value",this._DONE="done",this._DATAMAPPING="dataMapping",this._MAPFIELDS="mapFields",this._MAPSORTCRITERIA="mapSortCriteria",this._MAPFILTERCRITERION="mapFilterCriterion",this._UNMAPSORTCRITERIA="mapSortCriteria",this._RESULTS="results",this._CONTAINSPARAMETERS="containsParameters",this._DEFAULT_SIZE=25,this._CONTAINSKEYS="containsKeys",this._FETCHBYKEYS="fetchByKeys",this._FETCHBYOFFSET="fetchByOffset",this._FETCHFIRST="fetchFirst",this._ADDEVENTLISTENER="addEventListener",this.AsyncIterable=function(t,e){this._parent=t,this._asyncIterator=e,this[Symbol.asyncIterator]=function(){return this._asyncIterator}},this.AsyncIterator=function(){function t(t,e,i){this._parent=t,this._nextFunc=e,this._params=i}return t.prototype.next=function(){var t=this._nextFunc(this._params);return Promise.resolve(t)},t}(),this.AsyncIteratorResult=function(t,e,i){this._parent=t,this.value=e,this.done=i,this[t._VALUE]=e,this[t._DONE]=i},this.FetchListResult=function(t,e,i,s){this._parent=t,this.fetchParameters=e,this.data=i,this.metadata=s,this[t._FETCHPARAMETERS]=e,this[t._DATA]=i,this[t._METADATA]=s},this.Item=function(t,e,i){this._parent=t,this.metadata=e,this.data=i,this[t._METADATA]=e,this[t._DATA]=i},this.ItemMetadata=function(t,e){this._parent=t,this.key=e,this[t._KEY]=e},this.FetchListParameters=function(t,e,i,s){this._parent=t,this.size=e,this.sortCriteria=i,this.filterCriterion=s,this[t._SIZE]=e,this[t._SORTCRITERIA]=i,this[t._FILTERCRITERION]=s},this.FetchByOffsetParameters=function(t,e,i,s,n){this._parent=t,this.offset=e,this.size=i,this.sortCriteria=s,this.filterCriterion=n,this[t._SIZE]=i,this[t._SORTCRITERIA]=s,this[t._OFFSET]=e,this[t._FILTERCRITERION]=n},this.FetchByKeysResults=function(t,e,i){this._parent=t,this.fetchParameters=e,this.results=i,this[t._FETCHPARAMETERS]=e,this[t._RESULTS]=i},this.ContainsKeysResults=function(t,e,i){this._parent=t,this.containsParameters=e,this.results=i,this[t._CONTAINSPARAMETERS]=e,this[t._RESULTS]=i},this[this._FROM]=null==this.options?null:this.options[this._FROM],this[this._OFFSET]=null==this.options?0:this.options[this._OFFSET]>0?this.options[this._OFFSET]:0,this[this._SORTCRITERIA]=null==this.options?null:this.options[this._SORTCRITERIA],this[this._DATAMAPPING]=null==this.options?null:this.options[this._DATAMAPPING],this._addEventListeners(t)}return e.prototype.containsKeys=function(t){var e=this;return this.dataProvider[e._CONTAINSKEYS]?this.dataProvider[e._CONTAINSKEYS](t):this.fetchByKeys(t).then(function(i){var s=new Set;return t[e._KEYS].forEach(function(t){null!=i[e._RESULTS].get(t)&&s.add(t)}),Promise.resolve(new e.ContainsKeysResults(e,t,s))})},e.prototype.fetchByKeys=function(t){var e=this;if(this.dataProvider[e._FETCHBYKEYS])return this.dataProvider[e._FETCHBYKEYS](t).then(function(i){var s=i[e._RESULTS],n=new Map;return s.forEach(function(t,i){var s=e._getMappedItems([t]);n.set(i,s[0])}),new e.FetchByKeysResults(e,t,n)});var i={};i[this._SIZE]=this._DEFAULT_SIZE;var s=new Map,n=this.dataProvider[e._FETCHFIRST](i)[Symbol.asyncIterator]();return this._fetchNextSet(t,n,s).then(function(i){var s=new Map;return i.forEach(function(t,i){var n=e._getMappedItems([t]);s.set(i,n[0])}),new e.FetchByKeysResults(e,t,s)})},e.prototype.fetchFirst=function(e){var i={};i[this._DATA]=[],i[this._KEYS]=[],i[this._DONE]=!1,i[this._STARTINDEX]=0;var s=null!=e?e[this._SIZE]:null,n=null!=e?e[this._SORTCRITERIA]:null;null==n&&(n=this[this._SORTCRITERIA]);var r=this._getMappedSortCriteria(n),h=null!=e?e[this._FILTERCRITERION]:null,a=this._getMappedFilterCriterion(h),_=this;if(null==_[this._FROM]&&_[this._OFFSET]>0&&t.DataProviderFeatureChecker.isFetchByOffset(_.dataProvider)){var o=_[this._OFFSET];return new this.AsyncIterable(this,new this.AsyncIterator(this,function(t){return function(){var e=new _.FetchByOffsetParameters(_,o,s,r,a);return _.dataProvider[_._FETCHBYOFFSET](e).then(function(e){var i=e.results,n=i.map(function(t){return t[_._DATA]}),r=(i.map(function(t){return t[_._METADATA]}),i.map(function(t){return t[_._METADATA][_._KEY]}));o+=r.length;var h=_._getMappedDataAndKeys(r,n);_._cacheResult(t,h[_._DATA],h[_._KEYS]),t[_._DONE]=e[_._DONE];var a=e[_._FETCHPARAMETERS],A=null!=a?a[_._SORTCRITERIA]:null,E=_._getUnmappedSortCriteria(A),u=new _.FetchByOffsetParameters(_,_[_._OFFSET],s,E);return Promise.resolve(new _.AsyncIteratorResult(_,new _.FetchListResult(_,u,h[_._DATA],h[_._METADATA]),t[_._DONE]))})}}(i),e))}var A=new this.FetchListParameters(this,s,r,a),E=this.dataProvider[_._FETCHFIRST](A)[Symbol.asyncIterator]();return new this.AsyncIterable(this,new this.AsyncIterator(this,function(t,i){return function(){return i.next().then(function(s){var n=s[_._VALUE][_._DATA],r=s[_._VALUE][_._METADATA],h=r.map(function(t){return t[_._KEY]}),a=(n.map(function(t,e){return new _.Item(_,r[e],n[e])}),_._getMappedDataAndKeys(h,n));_._cacheResult(t,a[_._DATA],a[_._KEYS]),t[_._DONE]=s[_._DONE];var o=null!=e?e[_._SIZE]:null,A=(null!=e&&e[_._OFFSET],s[_._VALUE][_._FETCHPARAMETERS]),E=null!=A?A[_._SORTCRITERIA]:null,u=_._getUnmappedSortCriteria(E),T=new _.FetchListParameters(_,o,u);return _._fetchUntilKey(T,_[_._FROM],t,i).then(function(){return _._fetchUntilOffset(T,_[_._OFFSET]+t[_._STARTINDEX],n.length,t,i)})})}}(i,E),e))},e.prototype.getCapability=function(t){return this.dataProvider.getCapability(t)},e.prototype.getTotalSize=function(){return this.dataProvider.getTotalSize()},e.prototype.isEmpty=function(){return this.dataProvider.isEmpty()},e.prototype._fetchNextSet=function(e,i,s){var n=this;return i.next().then(function(r){var h=r[n._VALUE],a=h[n._DATA],_=h[n._METADATA],o=_.map(function(t){return t[n._KEY]}),A=!0;return e[n._KEYS].forEach(function(e){s.has(e)||o.map(function(i,r){t.Object.compareValues(i,e)&&s.set(e,new n.Item(n,_[r],a[r]))}),s.has(e)||(A=!1)}),A||r[n._DONE]?s:n._fetchNextSet(e,i,s)})},e.prototype._fetchUntilKey=function(t,e,i,s){var n=this;if(null!=e){var r=i[this._KEYS].filter(function(t){if(e==t)return!0});if(r.length>0){var h=i[this._KEYS].indexOf(r[0]);i[this._KEYS]=i[this._KEYS].slice(h,i[this._KEYS].length),i[this._DATA]=i[this._DATA].slice(h,i[this._DATA].length)}else{if(!i[n._DONE])return s.next().then(function(t){var e=t[n._VALUE][n._DATA],r=t[n._VALUE][n._METADATA].map(function(t){return t[n._KEY]}),h=n._getMappedDataAndKeys(r,e);return n._cacheResult(i,h[n._DATA],h[n._KEYS]),i[n._DONE]=t[n._DONE],n._fetchUntilKey(t[n._FETCHPARAMETERS],h[n._KEYS],i,s)});i[this._DATA]=[],i[this._KEYS]=[]}}return Promise.resolve(null)},e.prototype._fetchUntilOffset=function(t,e,i,s,n){var r=this,h=null!=t&&t[this._SIZE]>0?t[this._SIZE]:i;e=e>0?e:0;var a=s[this._KEYS].slice(e,e+h),_=s[this._DATA].slice(e,e+h),o=a.map(function(t){return new r.ItemMetadata(r,t)});return _.length<h?s[r._DONE]?(s[this._STARTINDEX]=s[this._STARTINDEX]+_.length,Promise.resolve(new r.AsyncIteratorResult(r,new r.FetchListResult(r,t,_,o),!0))):n.next().then(function(t){var i=t[r._VALUE][r._DATA],h=t[r._VALUE][r._METADATA].map(function(t){return t[r._KEY]}),a=r._getMappedDataAndKeys(h,i);return r._cacheResult(s,a[r._DATA],a[r._KEYS]),s[r._DONE]=t[r._DONE],r._fetchUntilOffset(t[r._VALUE][r._FETCHPARAMETERS],e,i.length,s,n)}):(s[this._STARTINDEX]=s[this._STARTINDEX]+_.length,Promise.resolve(new r.AsyncIteratorResult(r,new r.FetchListResult(r,t,_,o),s[r._DONE])))},e.prototype._cacheResult=function(t,e,i){var s=this;e.map(function(e){t[s._DATA].push(e)}),i.map(function(e){t[s._KEYS].push(e)})},e.prototype._getMappedItems=function(t){var e=this;if(null!=this[this._DATAMAPPING]){var i=this[this._DATAMAPPING][this._MAPFIELDS];if(null!=i&&null!=t&&t.length>0)return new Array,t.map(function(t){return i.bind(e)(t)})}return t},e.prototype._getMappedDataAndKeys=function(t,e){var i=this,s=e.map(function(s,n){return new i.Item(i,new i.ItemMetadata(i,t[n]),e[n])}),n=this._getMappedItems(s),r=n.map(function(t){return t[i._DATA]}),h=n.map(function(t){return t[i._METADATA][i._KEY]}),a=n.map(function(t){return t[i._METADATA]}),_={};return _[this._DATA]=r,_[this._KEYS]=h,_[this._METADATA]=a,_},e.prototype._getMappedFilterCriterion=function(t){if(null!=this[this._DATAMAPPING]){var e=this[this._DATAMAPPING][this._MAPFILTERCRITERION];if(null!=e&&null!=t)return e(t)}return t},e.prototype._getMappedSortCriteria=function(t){if(null!=this[this._DATAMAPPING]){var e=this[this._DATAMAPPING][this._MAPSORTCRITERIA];if(null!=e&&null!=t&&t.length>0)return e(t)}return t},e.prototype._getUnmappedSortCriteria=function(t){if(null!=this[this._DATAMAPPING]){var e=this[this._DATAMAPPING][this._UNMAPSORTCRITERIA];if(null!=e&&null!=t&&t.length>0)return e(t)}return t},e.prototype._addEventListeners=function(t){var e=this;t[e._ADDEVENTLISTENER](this._REFRESH,function(t){e.dispatchEvent(t)}),t[e._ADDEVENTLISTENER](this._MUTATE,function(t){e.dispatchEvent(t)})},e}();t.ListDataProviderView=i,t.ListDataProviderView=i,t.EventTargetMixin.applyMixin(i),t.FetchByOffsetMixin.applyMixin(i)});
define('ojs/ojtable',["ojs/ojcore","jquery","ojs/ojcomponentcore","promise","ojdnd","ojs/ojdomscroller","ojs/ojeditablevalue","ojs/ojinputnumber","ojs/ojmenu","ojs/ojpopup","ojs/ojbutton","ojs/ojdatasource-common","ojs/ojdataprovideradapter","ojs/ojlistdataproviderview"],function(e,t,l){e.__registerWidget("oj.ojTable",t.oj.baseComponent,{version:"1.0.0",defaultElement:"<table>",widgetEventPrefix:"oj",options:{accessibility:null,animateStart:null,animateEnd:null,as:"",currentRow:null,data:null,display:"list",dnd:{drag:null,drop:null,reorder:{columns:"disabled"}},editMode:"none",emptyText:null,horizontalGridVisible:"auto",rowRenderer:null,scrollPolicy:"auto",scrollPolicyOptions:{fetchSize:25,maxCount:500},firstSelectedRow:{key:null,data:null},selection:[],selectionMode:null,selectionRequired:!1,verticalGridVisible:"auto",columns:[{renderer:null,className:null,field:null,footerClassName:null,footerRenderer:null,footerStyle:null,footerTemplate:null,headerClassName:null,headerRenderer:null,headerStyle:null,headerTemplate:null,headerText:null,id:null,resizable:"disabled",sortable:"auto",sortProperty:null,style:null,template:null,width:null}],columnsDefault:{renderer:null,className:null,field:null,footerClassName:null,footerRenderer:null,footerStyle:null,footerTemplate:null,headerClassName:null,headerRenderer:null,headerStyle:null,headerTemplate:null,headerText:null,resizable:"disabled",sortable:"auto",sortProperty:null,style:null,template:null,width:null},beforeCurrentRow:null,beforeRowEdit:null,beforeRowEditEnd:null,ready:null,sort:null},_BUNDLE_KEY:{_MSG_FETCHING_DATA:"msgFetchingData",_MSG_NO_DATA:"msgNoData",_MSG_INITIALIZING:"msgInitializing",_MSG_STATUS_SORT_ASC:"msgStatusSortAscending",_MSG_STATUS_SORT_DSC:"msgStatusSortDescending",_LABEL_SELECT_COLUMN:"labelSelectColumn",_LABEL_SELECT_ROW:"labelSelectRow",_LABEL_EDIT_ROW:"labelEditRow",_LABEL_SELECT_AND_EDIT_ROW:"labelSelectAndEditRow"},_LOGGER_MSG:{_ERR_PRECURRENTROW_ERROR_SUMMARY:"Did not change current row due to error.",_ERR_PRECURRENTROW_ERROR_DETAIL:"Error detail: {error}.",_ERR_CURRENTROW_UNAVAILABLE_INDEX_SUMMARY:"Did not change current row due to unavailable row index.",_ERR_CURRENTROW_UNAVAILABLE_INDEX_DETAIL:"Unavailable row index: {rowIdx}.",_ERR_REFRESHROW_INVALID_INDEX_SUMMARY:"Invalid row index value.",_ERR_REFRESHROW_INVALID_INDEX_DETAIL:"Row index: {rowIdx}.",_ERR_DATA_INVALID_TYPE_SUMMARY:"Invalid data type.",_ERR_DATA_INVALID_TYPE_DETAIL:"Please specify the appropriate data type.",_ERR_ELEMENT_INVALID_TYPE_SUMMARY:"Invalid element type.",_ERR_ELEMENT_INVALID_TYPE_DETAIL:"Only a <table> element can be specified for ojTable."},_FIELD_ID:"id",_CONST_ATTRIBUTE:"attribute",_CONST_DATA:"data",_CONST_METADATA:"metadata",_CONST_INDEXES:"indexes",_CONST_INDEX:"index",_CONST_KEY:"key",_CONST_KEYS:"keys",_CONST_AFTERKEYS:"afterKeys",_CONST_STARTINDEX:"startIndex",_CONST_ENDINDEX:"endIndex",_CONST_PAGESIZE:"size",_CONST_OFFSET:"offset",_CONST_COLUMN:"column",_CONST_ROW:"row",_CONST_VALUE:"value",_CONST_SORTCRITERIA:"sortCriteria",_COLUMN_HEADER_ID:"_headerColumn",_COLUMN_HEADER_TEXT_ID:"_headerColumnText",_COLUMN_HEADER_ASC_ID:"_headerColumnAsc",_COLUMN_HEADER_DSC_ID:"_headerColumnDsc",_COLUMN_HEADER_ID_PREFIX:"_hdrCol",_FOCUS_CALLED:"_focusedCalled",_ROW_TEMPLATE:"rowTemplate",_CELL_TEMPLATE:"template",_HEADER_TEMPLATE:"headerTemplate",_FOOTER_TEMPLATE:"footerTemplate",_OPTION_AUTO:"auto",_OPTION_ENABLED:"enabled",_OPTION_DISABLED:"disabled",_OPTION_EDIT_MODE:{_NONE:"none",_ROW_EDIT:"rowEdit"},_OPTION_SELECTION_MODES:{_SINGLE:"single",_MULTIPLE:"multiple"},_OPTION_SCROLL_POLICY:{_AUTO:"auto",_LOADMORE_ON_SCROLL:"loadMoreOnScroll"},_COLUMN_SORT_ORDER:{_ASCENDING:"ascending",_DESCENDING:"descending"},_DND_REORDER_TABLE_ID_DATA_KEY:"oj-table-dnd-reorder-table-id",_KEYBOARD_CODES:{_KEYBOARD_CODE_SPACEBAR:32,_KEYBOARD_CODE_ENTER:13,_KEYBOARD_CODE_UP:38,_KEYBOARD_CODE_DOWN:40,_KEYBOARD_CODE_LEFT:37,_KEYBOARD_CODE_RIGHT:39,_KEYBOARD_CODE_HOME:36,_KEYBOARD_CODE_END:35,_KEYBOARD_CODE_TAB:9,_KEYBOARD_CODE_ESC:27,_KEYBOARD_CODE_F2:113,_KEYBOARD_MODIFIER_SHIFT:"shiftKey"},getContextByNode:function(e){var t=this.getSubIdByNode(e,!0);if(t&&"oj-table-cell"==t.subId){var l=t.rowIndex,o=this._getRowKeyForRowIdx(l);t.key=o}return t},getDataForVisibleRow:function(e){var l=this._getTableDomUtils().getTableBodyRow(e);return null!=l?{key:t(l).data("rowKey"),data:t(l).data("rowData"),index:e}:null},getNodeBySubId:function(t){if(null==t)return this.element?this.element[0]:null;var l=t.subId;if("oj-table-cell"===l){var o=parseInt(t.rowIndex,10),i=parseInt(t.columnIndex,10);return this._getTableDomUtils().getTableBodyLogicalCells(o)[i]}if("oj-table-header"===l||"oj-table-sort-ascending"===l||"oj-table-sort-descending"===l){i=t.index;var s=this._getTableDomUtils().getTableHeaderLogicalColumns()[i];if(null!=s){if("oj-table-header"===l)return s;if("oj-table-sort-ascending"===l){var a=s.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_ASC_LINK_CLASS);if(a.length>0)return a[0]}else{var n=s.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DSC_LINK_CLASS);if(n.length>0)return n[0]}}}else if("oj-table-footer"===l){i=t.index;var r=this._getTableDomUtils().getTableFooterLogicalCells()[i];if(null!=r)return r}return null},getSubIdByNode:function(l,o){var i=t(l).closest("."+e.TableDomUtils.CSS_CLASSES._TABLE_DATA_CELL_CLASS);if(i.length>0)return{subId:"oj-table-cell",rowIndex:this._getTableDomUtils().getElementRowIdx(i[0]),columnIndex:this._getTableDomUtils().getElementColumnIdx(i[0])};var s=t(l).closest("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_ASC_LINK_CLASS);if(s.length>0)return{subId:o?"oj-table-header":"oj-table-sort-ascending",index:this._getTableDomUtils().getElementColumnIdx(s[0])};var a=t(l).closest("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DSC_LINK_CLASS);if(a.length>0)return{subId:o?"oj-table-header":"oj-table-sort-descending",index:this._getTableDomUtils().getElementColumnIdx(a[0])};var n=t(l).closest("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_CELL_CLASS);if(n.length>0)return{subId:"oj-table-header",index:this._getTableDomUtils().getElementColumnIdx(n[0])};var r=t(l).closest("."+e.TableDomUtils.CSS_CLASSES._TABLE_FOOTER_CELL_CLASS);return r.length>0?{subId:"oj-table-footer",index:this._getTableDomUtils().getElementColumnIdx(r[0])}:null},refresh:function(){this._super(),this._refresh()},refreshRow:function(e){return this._refreshRow(e,!0)},_refreshRow:function(l,o){var i=this._getData();if(!i)return Promise.resolve(!1);var s=this._getTableDomUtils().getTableBodyRows();if(isNaN(l)||l<0||null!=s&&l>=s.length||null==s||0==s.length){var a=this._LOGGER_MSG._ERR_REFRESHROW_INVALID_INDEX_SUMMARY,n=e.Translations.applyParameters(this._LOGGER_MSG._ERR_REFRESHROW_INVALID_INDEX_DETAIL,{rowIdx:l.toString()});throw new RangeError(a+"\n"+n)}var r=this._getRowKeyForRowIdx(l),_=this;return _._queueTask(function(){return i.fetchByKeys({keys:[r]}).then(function(e){if(null==e||null==e.results||0==e.results.size)return Promise.resolve(!1);var i=_._getTableDomUtils().getTableBodyRow(l);o=o&&t.contains(i,document.activeElement),_._refreshTableBodyRow(l,{data:e.results.get(r).data,index:l,key:r}),o&&_._getTableDomUtils().getTable().focus(),i=_._getTableDomUtils().getTableBodyRow(l);var s=_._getAllBusyContextsForElement(i);if(null!=s){var a,n=[];for(a=0;a<s.length;a++)n.push(s[a].whenReady());return Promise.all(n)}return Promise.resolve()})})},widget:function(){var e=this._getTableDomUtils().getTableContainer();return null!=e?t(e):this.element},_ComponentCreate:function(){if(this._super(),this._initTemplateEngine(),this._draw(),this._registerCustomEvents(),this._on(this._events),this._isTouchDevice()){var e=this._getTableDomUtils().getTableContainer();this._on(t(e),this._eventsContainer)}this._registerDomEventListeners(),this._cachedOptions=t.extend(!0,{},this.options),this._setEditableRowIdx(null)},_AfterCreate:function(){this._super(),this._getTableDomUtils().createContextMenu(this._handleContextMenuSelect.bind(this)),this._isInitFetch=!0},_SetupResources:function(){this._super(),this._registerResizeListener(),this._registerDataSourceEventListeners(),this._isInitFetch?(this._initFetch(),this._isInitFetch=!1):this._invokeDataFetchRows(null,!1)},_ReleaseResources:function(){this._super(),this._unregisterDataSourceEventListeners(),this._unregisterResizeListener()},_NotifyAttached:function(){this._super(),this._getTableDomUtils().refreshTableDimensions()},_NotifyShown:function(){this._super(),this._getTableDomUtils().refreshTableDimensions()},_VerifyConnectedForSetup:function(){return!0},_GetDefaultContextMenu:function(){return this._defaultContextMenu},_NotifyContextMenuGesture:function(e,t,l){var o={};if(this._contextMenuEvent=t.originalEvent,!(this._isNodeEditable(this._contextMenuEvent.target)||this._isNodeClickable(this._contextMenuEvent.target)||"touch"==l&&this._isNodeDraggable(this._contextMenuEvent.target))){var i=this._getTableDomUtils().getFirstAncestor(this._contextMenuEvent.target,"oj-table-column-header-cell");i=null==i?this._getTableDomUtils().getTableHeaderColumn(this._activeColumnIndex):i,this._contextMenuEventHeaderColumn=i;var s=this._getTableDomUtils().getFirstAncestor(this._contextMenuEvent.target,"oj-table-data-cell");if(null!=s){var a=this._getTableDomUtils().getElementColumnIdx(s);i=this._getTableDomUtils().getTableHeaderColumn(a)}if("keydown"===this._contextMenuEvent.type){var n=this._tableDomUtils.getTable();if(this._contextMenuEvent.target==n)if(null!=i)o.position={my:"start top",at:"start bottom",of:i};else{var r=this._getFocusedRowIdx();if(r>=0){var _=this._getTableDomUtils().getTableBodyRow(r);o.position={my:"start top",at:"start bottom",of:_}}else o.position={my:"start top",at:"start bottom",of:this._contextMenuEvent.target}}else o.position={my:"start top",at:"start bottom",of:this._contextMenuEvent.target}}var S,T,d,h=e.element?e.element[0]:e;i&&i.getAttribute("data-oj-sortable")==this._OPTION_ENABLED?((S=h.querySelectorAll("[data-oj-command=oj-table-sortAsc]")).length>0&&(S=S[0]).classList.remove("oj-disabled"),(T=h.querySelectorAll("[data-oj-command=oj-table-sortDsc]")).length>0&&(T=T[0]).classList.remove("oj-disabled")):((S=h.querySelectorAll("[data-oj-command=oj-table-sortAsc]")).length>0&&(S=S[0]).classList.add("oj-disabled"),(T=h.querySelectorAll("[data-oj-command=oj-table-sortDsc]")).length>0&&(T=T[0]).classList.remove("oj-disabled")),i&&i.getAttribute("data-oj-resizable")==this._OPTION_ENABLED?(d=h.querySelectorAll("[data-oj-command=oj-table-resize]")).length>0&&(d=d[0]).classList.remove("oj-disabled"):(d=h.querySelectorAll("[data-oj-command=oj-table-resize]")).length>0&&(d=d[0]).classList.add("oj-disabled"),this._OpenContextMenu(t,l,o)}},_destroy:function(){t(this._getTableDomUtils().getTableBody()).removeAttr(e.Components._OJ_CONTAINER_ATTR),this.element.children().remove("."+e.TableDomUtils.CSS_CLASSES._TABLE_HEADER_CLASS),this.element.children().remove("."+e.TableDomUtils.CSS_CLASSES._TABLE_BODY_CLASS),this.element.children().remove("."+e.TableDomUtils.CSS_CLASSES._TABLE_FOOTER_CLASS),this.element.children().remove("."+e.TableDomUtils.CSS_CLASSES._TABLE_STATUS_MESSAGE_CLASS),this.element.children().remove("."+e.TableDomUtils.CSS_CLASSES._TABLE_BODY_MESSAGE_ROW_CLASS),e.DomUtils.unwrap(this.element,t(this._getTableDomUtils().getTableContainer())),this.element[0].classList.remove(e.TableDomUtils.CSS_CLASSES._TABLE_CLASS),this._readyResolveFunc&&(this._readyResolveFunc(),this._readyResolveFunc=null),this._dataResolveFunc&&(this._dataResolveFunc(),this._dataResolveFunc=null),this._data instanceof e.TableDataSourceAdapter&&this._data.destroy(),(this._hasHeaderTemplate||this._hasCellTemplate||this._hasFooterTemplate)&&this._cleanTemplateNodes(this.element[0]),this._componentDestroyed=!0},_draw:function(){if(this.options,this._setFinalTask(function(){if(this._getTableDomUtils().refreshTableDimensions(),this._setSelection(this.options.selection),this._setSelectionDefault(),this._hasEditableRow()){var t=this._getEditableRowIdx(),l=this._getTableDomUtils().getTableBodyRow(t);null!=l&&l.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_EDIT_CLASS)}this._isLoadMoreOnScroll()&&!this._dataFetching&&this._domScroller&&this._domScroller.checkViewport().then(this._domScrollerSuccessFunc,null)}),!this.element.is("table")){var t=this._LOGGER_MSG._ERR_ELEMENT_INVALID_TYPE_SUMMARY,l=this._LOGGER_MSG._ERR_ELEMENT_INVALID_TYPE_DETAIL;throw new RangeError(t+"\n"+l)}this.element[0].classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_ELEMENT_CLASS),this._getTableDomUtils().createInitialTable(this._isTableHeaderless(),this._isTableFooterless()),this._getTableDomUtils().styleInitialTable();var o=this;this._queueTask(function(){o._refreshTableHeader(),o._refreshTableFooter(),o._refreshTableBody(),o._processSlottedChildren(),o._getTableDomUtils().refreshTableDimensions()}),this.options.disabled&&this.disable()},_events:{focusout:function(l){var o=this._getTableDomUtils().getTable(),i=null;if(null!=l.relatedTarget?i=l.relatedTarget:null==l.originalEvent||null==l.originalEvent.explicitOriginalTarget&&null==l.originalEvent.target?this._getTableDomUtils()._isIE()&&null!=document.activeElement&&(i=document.activeElement):i=l.originalEvent.explicitOriginalTarget||l.originalEvent.target,null==i||!(i==o||t(o).has(i).length>0)){for(var s=e.ZOrderUtils.findOpenPopups(),a=0;a<s.length;a++){var n=e.DomUtils.getLogicalParent(t(s[a]).children());if(t(o).has(n.get(0)).length>0)return}this._focusOutHandler(t(o)),this._focusOutHandler(t(this._getTableDomUtils().getTableContainer())),this._clearKeyboardKeys(),this._clearFocusedHeaderColumn(),this._clearFocusedRow(!1),this._getTableResizeUtils().clearTableHeaderColumnsResize(),this._setTableEditable(!1,!1,0,!0,l),this._setTableActionableMode(!1)}},"blur .oj-table-data-cell":function(t){var l=this._getEventTargetElement(t);l.classList.contains(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_CELL_EDIT_CLASS)&&l.classList.remove(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_CELL_EDIT_CLASS)},focus:function(e){this._checkRowOrHeaderColumnFocus(e)},focusin:function(e){this._focusInHandler(t(this._getTableDomUtils().getTable())),this._focusInHandler(t(this._getTableDomUtils().getTableContainer()));var l=this._getTableDomUtils().getTableBody();if(t(l).has(e.target).length>0){var o=this._getFocusedRowIdx(),i=this._getFocusedHeaderColumnIdx();if(!(this._isNodeEditable(e.target)||this._isNodeClickable(e.target)||this._isTableActionableMode()||this._hasEditableRow()||this._temporaryTableChildElementFocus||null!=o||null!=i)){var s=this;setTimeout(function(){s._getTableDomUtils().getTable().focus()},0)}}},"focus .oj-table-column-header-acc-asc-link":function(e){var t=this;setTimeout(function(){t._checkRowOrHeaderColumnFocus(e),t=null},0)},"focus .oj-table-data-cell":function(t){var l=this._getEventTargetElement(t);this._getTableDomUtils().getElementRowIdx(l)==this._getEditableRowIdx()&&l.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_CELL_EDIT_CLASS)},"click .oj-table-checkbox-acc-select-column":function(e){var l=this._getEventTargetElement(e),o=this._getTableDomUtils().getElementColumnIdx(l),i=t(l).is(":checked");i&&this._setHeaderColumnFocus(o,!0,!0,null,null),this._setHeaderColumnSelection(o,i,l,e,!0),e.stopPropagation()},"click .oj-table-checkbox-acc-select-row":function(e){var l=this._getEventTargetElement(e),o=this._getTableDomUtils().getElementRowIdx(l),i=t(l).is(":checked"),s=!1;i?s=this._setRowFocus(o,!0,!0,null,e,!0):this._setTableEditable(!1,!1,0,!0,e),s&&(this._setRowSelection(o,i,l,e,!0),this._setTableEditable(!0,!1,0,!0,e)),e.stopPropagation()},keydown:function(e){this._addKeyboardKey(e.keyCode);var l=this._getKeyboardKeys()[0];l!=this._KEYBOARD_CODES._KEYBOARD_CODE_ESC&&l!=this._KEYBOARD_CODES._KEYBOARD_CODE_ENTER&&l!=this._KEYBOARD_CODES._KEYBOARD_CODE_F2&&l!=this._KEYBOARD_CODES._KEYBOARD_CODE_TAB&&(this._isNodeEditable(e.target)||null!=this._getTableDomUtils().getTableFooter()&&t(this._getTableDomUtils().getTableFooter()).has(e.target).length>0)||(1==this._getKeyboardKeys().length||2==this._getKeyboardKeys().length&&e[this._KEYBOARD_CODES._KEYBOARD_MODIFIER_SHIFT])&&((this._isKeyboardKeyPressed(this._KEYBOARD_CODES._KEYBOARD_CODE_UP)||this._isKeyboardKeyPressed(this._KEYBOARD_CODES._KEYBOARD_CODE_DOWN)||this._isKeyboardKeyPressed(this._KEYBOARD_CODES._KEYBOARD_CODE_SPACEBAR)||this._isKeyboardKeyPressed(this._KEYBOARD_CODES._KEYBOARD_CODE_HOME)||this._isKeyboardKeyPressed(this._KEYBOARD_CODES._KEYBOARD_CODE_END))&&(e.preventDefault(),e.stopPropagation()),this._isKeyboardKeyPressed(this._KEYBOARD_CODES._KEYBOARD_CODE_UP)||this._isKeyboardKeyPressed(this._KEYBOARD_CODES._KEYBOARD_CODE_DOWN)?this._handleKeydownUpDown(e):this._isKeyboardKeyPressed(this._KEYBOARD_CODES._KEYBOARD_CODE_LEFT)||this._isKeyboardKeyPressed(this._KEYBOARD_CODES._KEYBOARD_CODE_RIGHT)?this._handleKeydownLeftRight(e):this._isKeyboardKeyPressed(this._KEYBOARD_CODES._KEYBOARD_CODE_TAB)?this._handleKeydownTab(e):l==this._KEYBOARD_CODES._KEYBOARD_CODE_F2?this._handleKeydownF2(e):l==this._KEYBOARD_CODES._KEYBOARD_CODE_SPACEBAR?this._handleKeydownSpacebar(e):l==this._KEYBOARD_CODES._KEYBOARD_CODE_ENTER?this._handleKeydownEnter(e):l==this._KEYBOARD_CODES._KEYBOARD_CODE_HOME?this._handleKeydownHome(e):l==this._KEYBOARD_CODES._KEYBOARD_CODE_END?this._handleKeydownEnd(e):l==this._KEYBOARD_CODES._KEYBOARD_CODE_ESC&&this._handleKeydownEsc(e))},keyup:function(e){if(1==this._getKeyboardKeys().length){var l=this._getKeyboardKeys()[0];if(this._isNodeEditable(e.target)||null!=this._getTableDomUtils().getTableFooter()&&t(this._getTableDomUtils().getTableFooter()).has(e.target).length>0)return void this._removeKeyboardKey(l);this._removeKeyboardKey(l)}this._removeKeyboardKey(e.keyCode)},"mousedown .oj-table-body":function(t){if(this._mouseDownRowIdx=this._getTableDomUtils().getElementRowIdx(t.target),null!=this._mouseDownRowIdx){var l=this._getTableDomUtils().getTableBodyRow(this._mouseDownRowIdx);if(null!=l&&l.draggable)this._mouseDownRowIdx=null;else if(null!=this._mouseDownRowIdx&&!t[this._KEYBOARD_CODES._KEYBOARD_MODIFIER_SHIFT]&&!e.DomUtils.isMetaKeyPressed(t)&&1===t.which){if(this._getRowSelection(this._mouseDownRowIdx)&&1==this._getSelectedRowIdxs().length)return;this._nonContiguousSelection||this._clearSelectedRows(!0)}}},"mouseup .oj-table-body":function(e){this._mouseDownRowIdx=null},"mouseenter .oj-table-body-row":function(t){var l=this._getEventTargetElement(t);l.classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._HOVER);var o=this._getTableDomUtils().getElementRowIdx(l);this._updateRowStateCellsClass(o,{hover:!0}),this._handleMouseEnterSelection(t.target)},"mouseleave .oj-table-body-row":function(t){var l=this._getEventTargetElement(t);l.classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._HOVER);var o=this._getTableDomUtils().getElementRowIdx(l);this._updateRowStateCellsClass(o,{hover:!1})},"mousedown .oj-table-column-header-cell":function(e){if(1===e.which&&!this._getTableResizeUtils().handleHeaderColumnResizeStart(e)){var l=this._getTableDomUtils().getElementColumnIdx(this._getEventTargetElement(e));this._setHeaderColumnFocus(l,!0,!0,e,null),t(e.target).data(this._FOCUS_CALLED,!0)}},"mouseenter .oj-table-column-header-cell":function(t){if(!this._getTableResizeUtils().setResizeCursor(t)){var l=this._getEventTargetElement(t);l.classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._HOVER);var o=this._getTableDomUtils().getElementColumnIdx(l);this._showTableHeaderColumnSortLink(o)}},"mousemove .oj-table-header":function(e){this._getTableResizeUtils().setResizeCursor(e)},"mousemove .oj-table-column-header-cell":function(t){var l=this._getEventTargetElement(t);this._getTableResizeUtils().setResizeCursor(t)?l.classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._HOVER):l.classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._HOVER)},"mouseleave .oj-table-column-header-cell":function(t){var l=this._getEventTargetElement(t);l.classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._HOVER);var o=this._getTableDomUtils().getElementColumnIdx(l);this._hideTableHeaderColumnSortLink(o,!0),this._hideTableHeaderColumnSortLink(o,!1)},"mouseup .oj-table-column-header-cell":function(e){this._getTableResizeUtils().handleHeaderColumnResizeEnd(e)},"mousedown .oj-table-data-cell":function(e){var l=this._getEventTargetElement(e),o=this._getTableDomUtils().getElementRowIdx(l);this._setRowFocus(o,!0,!0,l,e),t(e.target).data(this._FOCUS_CALLED,!0)},"mouseup .oj-table-data-cell":function(e){this._getTableResizeUtils().handleHeaderColumnResizeEnd(e)},"click .oj-table-column-header-asc-link":function(e){var l=this._getTableDomUtils().getElementColumnIdx(e.target),o=this._getTableDomUtils().getTableHeaderColumn(l);o&&(t(o).data("sorted")==this._COLUMN_SORT_ORDER._ASCENDING?this._handleSortTableHeaderColumn(l,!1,e):this._handleSortTableHeaderColumn(l,!0,e),e.preventDefault(),e.stopPropagation())},"click .oj-table-column-header-acc-asc-link":function(e){if(this._getKeyboardKeys().length>0&&this._getKeyboardKeys()[0]==this._KEYBOARD_CODES._KEYBOARD_CODE_ENTER)return e.preventDefault(),void e.stopPropagation();var l=this._getTableDomUtils().getElementColumnIdx(e.target),o=this._getTableDomUtils().getTableHeaderColumn(l);o&&(t(o).data("sorted")==this._COLUMN_SORT_ORDER._DESCENDING?this._handleSortTableHeaderColumn(l,!0,e):this._handleSortTableHeaderColumn(l,!1,e),e.preventDefault(),e.stopPropagation())},"click .oj-table-column-header-dsc-link":function(e){var l=this._getTableDomUtils().getElementColumnIdx(e.target),o=this._getTableDomUtils().getTableHeaderColumn(l);o&&(t(o).data("sorted")==this._COLUMN_SORT_ORDER._DESCENDING?this._handleSortTableHeaderColumn(l,!0,e):this._handleSortTableHeaderColumn(l,!1,e),e.preventDefault(),e.stopPropagation())},"click .oj-table-column-header-acc-dsc-link":function(e){if(this._getKeyboardKeys().length>0&&this._getKeyboardKeys()[0]==this._KEYBOARD_CODES._KEYBOARD_CODE_ENTER)return e.preventDefault(),void e.stopPropagation();var l=this._getTableDomUtils().getElementColumnIdx(e.target),o=this._getTableDomUtils().getTableHeaderColumn(l);o&&(t(o).data("sorted")==this._COLUMN_SORT_ORDER._DESCENDING?this._handleSortTableHeaderColumn(l,!0,e):this._handleSortTableHeaderColumn(l,!1,e),e.preventDefault(),e.stopPropagation())},"click .oj-table-data-cell":function(l){var o=this._getEventTargetElement(l),i=this._getTableDomUtils().getElementRowIdx(o);if(!t(l.target).data(this._FOCUS_CALLED)){var s=this._setRowFocus(i,!0,!0,o,l);if(t(l.target).data(this._FOCUS_CALLED,!1),!s)return}if(l[this._KEYBOARD_CODES._KEYBOARD_MODIFIER_SHIFT]){var a,n=this._getLastRowSelection();if(null!=n)if(window.getSelection().removeAllRanges(),i<n)for(a=i;a<=n;a++)this._setRowSelection(a,!0,o,l,!0);else for(a=n;a<=i;a++)this._setRowSelection(a,!0,o,l,!0)}else if(e.DomUtils.isMetaKeyPressed(l))this._setRowSelection(i,!this._getRowSelection(i),o,l,!0);else if(0==this._getKeyboardKeys().length){var r=this._getRowSelection(i);this._setRowSelection(i,!r,o,l,!0),this._isTouchDevice()&&this._getRowSelectionMode()==this._OPTION_SELECTION_MODES._MULTIPLE&&!r&&this._getTableDomUtils().createTableBodyRowTouchSelectionAffordance(i)}},"dblclick .oj-table-data-cell":function(e){var t=this._getTableDomUtils().getElementColumnIdx(e.target);this._setTableEditable(!0,!1,t,!0,e)},"contextmenu .oj-table-data-cell":function(e){var t=this._getTableDomUtils().getElementRowIdx(this._getEventTargetElement(e)),l=this._getRowKeyForRowIdx(t);this._setCurrentRow({rowKey:l},e,!1)},"click .oj-table-column-header-cell":function(l){var o=this._getEventTargetElement(l),i=this._getTableDomUtils().getElementColumnIdx(o);if(t(l.target).data(this._FOCUS_CALLED)||(this._setHeaderColumnFocus(i,!0,!0,l,null),t(l.target).data(this._FOCUS_CALLED,!1)),l[this._KEYBOARD_CODES._KEYBOARD_MODIFIER_SHIFT]){var s,a=this._getLastHeaderColumnSelection();if(null!=a)if(i<a)for(s=i;s<=a;s++)this._setHeaderColumnSelection(s,!0,o,l,!0);else for(s=a;s<=i;s++)this._setHeaderColumnSelection(s,!0,o,l,!0)}else if(e.DomUtils.isMetaKeyPressed(l))this._setHeaderColumnSelection(i,!this._getHeaderColumnSelection(i),o,l,!0);else if(0==this._getKeyboardKeys().length){var n=this._getSelectedHeaderColumnIdxs();null!=n&&n.length>0&&(-1==n.indexOf(i)||n.length>1)&&this._clearSelectedHeaderColumns(),this._setHeaderColumnSelection(i,!this._getHeaderColumnSelection(i),o,l,!0),this._getTableDndContext().setTableHeaderColumnDraggable(i,!0)}},"dragstart .oj-table-column-header-cell":function(e){return this._getTableDndContext().handleColumnDragStart(e)},"dragenter .oj-table-column-header-cell":function(e){return this._getTableDndContext().handleColumnDragEnter(e)},"dragover .oj-table-column-header-cell":function(e){return this._getTableDndContext().handleColumnDragOver(e)},"dragleave .oj-table-column-header-cell":function(e){return this._getTableDndContext().handleColumnDragLeave(e)},"drop .oj-table-column-header-cell":function(e){return this._getTableDndContext().handleColumnDrop(e)},"dragend .oj-table-column-header-cell":function(e){return this._getTableDndContext().handleColumnDragEnd(e)},"dragstart .oj-table-body-row":function(e){return this._getTableDndContext().handleRowDragStart(e)},"drag .oj-table-body-row":function(e){return this._getTableDndContext().handleRowDrag(e)},"dragend .oj-table-body-row":function(e){return this._getTableDndContext().handleRowDragEnd(e)},"dragenter .oj-table-body":function(e){return this._getTableDndContext().handleRowDragEnter(e)},"dragover .oj-table-body":function(e){return this._getTableDndContext().handleRowDragOver(e)},"dragleave .oj-table-body":function(e){return this._getTableDndContext().handleRowDragLeave(e)},"drop .oj-table-body":function(e){return this._getTableDndContext().handleRowDrop(e)}},_eventsContainer:{"touchstart .oj-table-body-row-touch-selection-affordance-touch-area":function(l){1==l.originalEvent.touches.length&&this._getRowSelectionMode()==this._OPTION_SELECTION_MODES._MULTIPLE&&(l.target.classList.contains(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTIOM_AFFORDANCE_TOP_CLASS)||l.target.classList.contains(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTIOM_AFFORDANCE_TOP_ICON_CLASS)?(l.preventDefault(),this._mouseDownRowIdx=t(this._getTableDomUtils().getTableBodyRowTouchSelectionAffordanceBottom()).data("rowIdx")):(l.target.classList.contains(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTIOM_AFFORDANCE_BOTTOM_CLASS)||l.target.classList.contains(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTIOM_AFFORDANCE_BOTTOM_ICON_CLASS))&&(l.preventDefault(),this._mouseDownRowIdx=t(this._getTableDomUtils().getTableBodyRowTouchSelectionAffordanceTop()).data("rowIdx")))},"touchstart .oj-table-column-header-cell":function(e){1==e.originalEvent.touches.length&&this._isTableColumnsResizable()&&this._getTableResizeUtils().handleHeaderColumnResizeStart(e)&&e.preventDefault()},"touchmove .oj-table-header":function(e){this._isTableColumnsResizable()&&this._getTableResizeUtils().setResizeCursor(e)},"touchmove .oj-table-body-row-touch-selection-affordance-touch-area":function(e){if(null!=this._mouseDownRowIdx){e.preventDefault();var t=this._getEventTargetElement(e);this._handleMouseEnterSelection(t)}},touchend:function(e){if(null!=this._mouseDownRowIdx){var t=this._getEventTargetElement(e);this._handleMouseEnterSelection(t)}this._mouseDownRowIdx=null,this._getTableResizeUtils().handleHeaderColumnResizeEnd(e)&&e.preventDefault()},"touchend .oj-table-body":function(e){var t=this;this._touchEventDoubleTapFunction(e,function(e){return function(){var l=t._getEventTargetElement(e),o=t._getTableDomUtils().getElementColumnIdx(l);t._setTableEditable(!0,!1,o,!0,e),e.preventDefault()}}(e))},touchcancel:function(e){this._mouseDownRowIdx=null,this._getTableResizeUtils().clearTableHeaderColumnsResize()}},_refresh:function(){var e=!1;this._dataOption!=this.options[this._CONST_DATA]&&(this._clearCachedDataMetadata(),null==this._data&&(e=!0));var t=this._GetContextMenu();if(null!=t&&t!=this._getTableDomUtils().getContextMenu()&&this._getTableDomUtils().createContextMenu(this._handleContextMenuSelect.bind(this)),this._getTableDomUtils().clearCachedDom(),this._getTableDomUtils().refreshContextMenu(),this._refreshTableStatusMessage(),e)return this._initFetch();var l=this;return this._queueTask(function(){var e=l._invokeDataFetchRows(null,!1);return l=null,e})},_setOption:function(e,t){"selection"==e?(this._clearSelectedRows(),this._clearSelectedHeaderColumns(),this._setSelection(t),this._setSelectionDefault(),this._superApply(arguments)):"currentRow"==e?this._setCurrentRow(t,null,!0)&&this._superApply(arguments):(this._superApply(arguments),this._isTableRefreshNeeded(e,t)&&("columns"==e&&(this._clearCachedMetadata(),this._refreshTableHeader()),this._refresh()))},_addKeyboardKey:function(e){var t=!1;for(var l in this._KEYBOARD_CODES)this._KEYBOARD_CODES.hasOwnProperty(l)&&this._KEYBOARD_CODES[l]==e&&(t=!0);if(t){var o,i=this._getKeyboardKeys(),s=!1,a=i.length;for(o=0;o<a;o++)if(i[o]==e){s=!0;break}s||i.push(e)}},_addComponentBusyState:function(t){var l=e.Context.getContext(this.element[0]).getBusyContext(),o={description:"The component identified by '"+this._getTableDomUtils().getTableId()+"' "+t};return l.addBusyState(o)},_addSingleTableBodyRow:function(t,l,o,i){var s=this._getTableDomUtils().createTableBodyRow(t,l[this._CONST_KEY]);return this._getTableDomUtils().styleTableBodyRow(s,!0),this._getTableDomUtils().insertTableBodyRow(t,s,l,o),s=this._refreshTableBodyRow(t,l,s,o,i,!0),o||e.Components.subtreeAttached(s),s},_animateVisibleRows:function(e,t,l){if(l=null==this._animationActionOverride?l:this._animationActionOverride,this._hasPendingTasks())return this._animationActionOverride="update",Promise.resolve();this._animationActionOverride=null;var o,i=this._getVisibleRowIdxs(),s=[];for(o=0;o<t.length;o++)-1==i.indexOf(t[o])&&s.push(t[o]);for(s.sort(function(e,t){return e-t}),o=s.length-1;o>=0;o--)e.splice(s[o],1);this._unregisterResizeListener();var a=this;return this._getTableAnimationUtils().animateTableBodyRows(e,l).then(function(){a._registerResizeListener()})},_checkRowOrHeaderColumnFocus:function(e){var t=this._getFocusedRowIdx(),l=this._getFocusedHeaderColumnIdx();if(null==t&&null==l){var o=null,i=this._getCurrentRow(),s=null!=i?i.rowKey:null;null!=s&&(o=this._getRowIdxForRowKey(s)),null==o?this._isTableHeaderless()?this._setRowFocus(0,!0,!0,null,e):this._setHeaderColumnFocus(0,!0,!1,e,!0):this._setRowFocus(o,!0,!0,null,e)}},_cleanTemplateNodes:function(e){var t=this._getTemplateEngine();null!=t&&t.clean(e)},_clearCachedMetadata:function(){this._columnDefArray=null,this._setTableActionableMode(!1)},_clearCachedDataMetadata:function(){null!=this._data&&this._unregisterDataSourceEventListeners(),this._data=null},_clearDataWaitingState:function(){this._hideInlineMessage(),this._hideStatusMessage(),this._dataFetching=!1,this._dataResolveFunc&&(this._dataResolveFunc(),this._dataResolveFunc=null)},_clearKeyboardKeys:function(){this._keyboardKeys=[]},_clearFocusedHeaderColumn:function(){var e=this._getFocusedHeaderColumnIdx();null!=e&&this._setHeaderColumnFocus(e,!1,!1,null,null),this._activeColumnIndex=-1},_clearFocusedRow:function(e){null!=this._getFocusedRowIdx()&&this._setRowFocus(-1,!0,e,null,null)},_clearSelectedHeaderColumns:function(){var e,t=this._getSelectedHeaderColumnIdxs(),l=t.length;for(e=0;e<l;e++)this._setHeaderColumnSelection(t[e],!1,null,null,!1,!0)},_clearSelectedRows:function(){var e,t=this._getSelectedRowIdxs(),l=t.length;for(e=0;e<l;e++)this._setRowSelection(t[e],!1,null,null,!1,!0);this._isTouchDevice()&&this._getRowSelectionMode()==this._OPTION_SELECTION_MODES._MULTIPLE&&this._getTableDomUtils().removeTableBodyRowTouchSelectionAffordance()},_clearSortedHeaderColumn:function(l){var o=this._getSortedTableHeaderColumnIdx();if(null!=o){var i=this._getTableDomUtils().getTableHeaderColumn(o),s=t(i).data("sorted");if(t(i).data("sorted",null),
null==l||o!==l)this._hideTableHeaderColumnSortLink(o,s==this._COLUMN_SORT_ORDER._ASCENDING);else{var a=i.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_ASC_LINK_CLASS);a.length>0&&(a=a[0]).classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._SELECTED);var n=i.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DSC_LINK_CLASS);n.length>0&&(n=n[0]).classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._SELECTED)}}},_executeTableBodyRowsAdd:function(t){var l=this;this._queueTask(function(){var o=!1,i=[],s=[];if(t.length>1){var a,n=t.length,r=!0;for(a=0;a<n;a++)0!=a&&t[a-1].rowIdx!=t[a].rowIdx-1&&(r=!1),s.push(t[a].rowIdx);if(r){var _=l._getTableDomUtils().getTableBody(),S=document.createDocumentFragment();for(n=t.length,a=0;a<n;a++)i.push(l._addSingleTableBodyRow(t[a].rowIdx,t[a].row,S,t[0].rowIdx));if(0==t[0].rowIdx)_.insertBefore(S,_.firstChild);else{var T=l._getTableDomUtils().getTableBodyRow(t[0].rowIdx);null!=T?_.insertBefore(S,T):_.appendChild(S,null)}l._getTableDomUtils().clearCachedDomRowData(),e.Components.subtreeAttached(_),o=!0}}if(!o)for(n=t.length,a=0;a<n;a++)i.push(l._addSingleTableBodyRow(t[a].rowIdx,t[a].row));return l._getTableDomUtils().clearCachedDomRowData(),l._refreshTableFooter(),l._IsCustomElement()?l._animateVisibleRows(i,s,"add"):Promise.resolve()})},_executeTableBodyRowsChange:function(e,t){var l,o,i=this,s=e.length,a=[],n=[];this._queueTask(function(){for(l=0;l<s;l++)o=i._refreshTableBodyRow(e[l].rowIdx,e[l].row),a.push(o),n.push(e[l].rowIdx);return i._refreshTableFooter(),i._IsCustomElement()?i._animateVisibleRows(a,n,"update"):Promise.resolve()})},_executeTableBodyRowsRemove:function(e){e.sort(function(e,t){return t.rowIdx-e.rowIdx});var l=this,o=this._getCurrentRow(),i=null!=o?o.rowIndex:0,s=null!=o?o.rowKey:null;this._queueTask(function(){var o,a,n,r,_=[],S=[],T=[],d=e.length,h=!1,u=l._getTableDomUtils().getTableBodyRows();if(null!=u&&u.length>0){for(o=0;o<u.length;o++)_.push(o);for(o=0;o<d;o++)for(n=e[o].rowIdx,S.push(n),a=0;a<_.length;a++)if(_[a]==n){r=this._getTableDomUtils().getTableBodyRow(n),T.push(r),_.splice(a,1);break}0==_.length&&(h=!0)}var c=this._getTableDomUtils().getTableBody(),m=t.contains(c,document.activeElement),C=!1;if(h)m&&(C=!0),l._setSelection(null),l.option("selection",null,{_context:{writeback:!0,internalSet:!0}});else for(o=0;o<d;o++)if(n=e[o].rowIdx,r=this._getTableDomUtils().getTableBodyRow(n),m&&null!=r&&t.contains(r,document.activeElement)){C=!0,m=!1;break}var E=function(){for(o=0;o<d;o++)n=e[o].rowIdx,l._getTableDomUtils().removeTableBodyRow(n)},D=function(){l._refreshTableFooter(),null!=(u=l._getTableDomUtils().getTableBodyRows())&&0!=u.length||l._showNoDataMessage(),null!=s&&(null==u||h||i>=u.length?l._setCurrentRow(null,null,!1):l._setCurrentRow({rowIndex:i,rowKey:null},null,!1)),C&&l._getTableDomUtils().getTable().focus()};if(!h)return new Promise(function(e,t){l._IsCustomElement()?l._animateVisibleRows(T,S,"remove").then(function(){E(),D(),e(!0)}):(E(),D(),e(!0))});l._getTableDomUtils().removeAllTableBodyRows(),D()})},_getAllBusyContextsForElement:function(t){if(!t)return null;var l=t.querySelectorAll("[data-oj-context]");if(l.length>0){var o,i=[];for(o=0;o<l.length;o++)i.push(e.Context.getContext(l[o]).getBusyContext());return i}return null},_getColumnDefs:function(){return this._columnDefArray||(this._columnDefArray=this._getColumnMetadata()),this._columnDefArray},_getColumnMetadata:function(){var e=this.options.columns,l=this.options.columnsDefault;if((0==e.length||1==e.length&&null==e[0].id&&null==e[0].headerText&&null==e[0].field)&&null==l.headerText&&null==l.field)return[];var o,i=[],s=e.length;for(o=0;o<s;o++)i[o]=t.extend({},l,e[o]);var a=[],n=i.length;for(o=0;o<n;o++)a.push(i[o]);var r=this._getData(),_=!1;for(null!=r&&null!=r.getCapability("sort")&&(_=!0),o=0;o<n;o++)null==a[o][this._FIELD_ID]&&(a[o][this._FIELD_ID]=this._COLUMN_HEADER_ID_PREFIX+o),null!=a[o].sortable&&a[o].sortable!=this._OPTION_AUTO||!_||(a[o].sortable=this._OPTION_ENABLED);return a},_getColumnIdxForColumnKey:function(t){var l=this._getColumnDefs();if(null!=l){var o,i,s=l.length;for(o=0;o<s;o++)if(i=l[o],e.Object.compareValues(i.id,t))return o}return null},_getColumnIdxsForElementsWithStyleClass:function(e){var t=this._getTableDomUtils().getTable().querySelectorAll(e),l=[];if(t&&t.length>0){var o,i,s,a,n,r=t.length;for(o=0;o<r;o++){for(a=this._getTableDomUtils().getElementColumnIdx(t[o]),s=!1,n=l.length,i=0;i<n;i++)l[i]==a&&(s=!0);s||l.push(a)}}return l},_getColumnKeyForColumnIdx:function(e){var t=this._getColumnDefs();return null!=t&&e<t.length?t[e][this._FIELD_ID]:null},_getColumnRenderer:function(e,t){var l=this._getColumnDefs()[e],o=null;return"cell"==t?o=l.renderer:"footer"==t?o=l.footerRenderer:"header"==t&&(o=l.headerRenderer),this._WrapCustomElementRenderer(o)},_getCurrentRow:function(){return this._getData()?this._currentRow:null},_getData:function(){if(!this._data&&null!=this.options.data){var t=this.options.data;if(e.TableDataSource&&t instanceof e.TableDataSource||e.PagingTableDataSource&&t instanceof e.PagingTableDataSource)this._data=new e.TableDataSourceAdapter(t);else{if(!e.DataProviderFeatureChecker.isIteratingDataProvider(t)){var l=this._LOGGER_MSG._ERR_DATA_INVALID_TYPE_SUMMARY,o=this._LOGGER_MSG._ERR_DATA_INVALID_TYPE_DETAIL;throw new Error(l+"\n"+o)}t instanceof e.ListDataProviderView?this._data=t:this._data=new e.ListDataProviderView(t)}this._dataOption=this.options.data,this._registerDataSourceEventListeners()}return this._data},_getFocusedHeaderColumnIdx:function(){return this._getColumnIdxsForElementsWithStyleClass("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_CELL_CLASS+"."+e.TableDomUtils.MARKER_STYLE_CLASSES._FOCUS_HIGHLIGHT+",."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_CELL_CLASS+"."+e.TableDomUtils.MARKER_STYLE_CLASSES._FOCUS)[0]},_getFocusedRowIdx:function(){return this._getRowIdxsForElementsWithStyleClass("."+e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_CLASS+"."+e.TableDomUtils.MARKER_STYLE_CLASSES._FOCUS_HIGHLIGHT+",."+e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_CLASS+"."+e.TableDomUtils.MARKER_STYLE_CLASSES._FOCUS)[0]},_getHeaderColumnSelection:function(t){return this._getTableDomUtils().getTableHeaderColumn(t).classList.contains(e.TableDomUtils.MARKER_STYLE_CLASSES._SELECTED)},_getColumnSelectionMode:function(){return null==this.options.selectionMode?null:this.options.selectionMode[this._CONST_COLUMN]},_getKeyboardKeys:function(){return this._keyboardKeys||(this._keyboardKeys=[]),this._keyboardKeys.reverse()},_getLastHeaderColumnSelection:function(){return null!=this._lastSelectedColumnIdxArray&&this._lastSelectedColumnIdxArray.length>0?this._lastSelectedColumnIdxArray[0]:null},_getLastRowSelection:function(){return null!=this._lastSelectedRowIdxArray&&this._lastSelectedRowIdxArray.length>0?this._lastSelectedRowIdxArray[0]:null},_getRowIdxRowArray:function(e,t){var l=[];if(null!=e){var o,i=e[this._CONST_INDEXES].length;for(o=0;o<i;o++)l.push({row:{data:e[this._CONST_DATA][o],metadata:e[this._CONST_METADATA]?e[this._CONST_METADATA][o]:null,key:e[this._CONST_KEYS][o],index:e[this._CONST_INDEXES][o]},rowIdx:t+o})}return l},_getRowIdxForRowKey:function(l){var o=this._getTableDomUtils().getTableBodyRows();if(null!=o&&o.length>0){var i,s=o.length;for(i=0;i<s;i++)if(e.Object.compareValues(t(o[i]).data("rowKey"),l))return i}return null},_getDataSourceRowIndexForRowKey:function(l){var o=this._getTableDomUtils().getTableBodyRows();if(null!=o&&o.length>0){var i,s=o.length;for(i=0;i<s;i++)if(e.Object.compareValues(t(o[i]).data("rowKey"),l)){var a=this._getData(),n=0;return this._isPagingModelDataProvider()&&(n=a.getStartItemIndex()),i+n}}return null},_getEditableRowIdx:function(){var e=null;return null!=this._getEditableRowKey()&&null!==(e=this._getRowIdxForRowKey(this._getEditableRowKey()))?e:this._editableRowIdx},_getEditableRowKey:function(){return this._editableRowKey},_getEventTargetElement:function(e){return 0==e.type.indexOf("touch")?this._getTouchEventTargetElement(e):e.currentTarget},_getRowIdxsForElementsWithStyleClass:function(e){var t=this._getTableDomUtils().getTable().querySelectorAll(e),l=[];if(t&&t.length>0){var o,i,s,a,n,r=t.length;for(o=0;o<r;o++){for(s=this._getTableDomUtils().getElementRowIdx(t[o]),n=!1,a=l.length,i=0;i<a;i++)l[i]==s&&(n=!0);n||l.push(s)}}return l},_getRowKeyForDataSourceRowIndex:function(e){var l=this._getTableDomUtils().getTableBodyRows();if(null!=l&&l.length>0){var o=this._getData(),i=0;this._isPagingModelDataProvider()&&(i=o.getStartItemIndex());var s,a=l.length;for(s=0;s<a;s++)if(i+s==e)return t(l[s]).data("rowKey")}return null},_getRowKeyForRowIdx:function(e){var l=this._getTableDomUtils().getTableBodyRow(e);return null!=l?t(l).data("rowKey"):null},_getRowRenderer:function(){return this._WrapCustomElementRenderer(this.options.rowRenderer)},_getRowSelection:function(t){return this._getTableDomUtils().getTableBodyRow(t).classList.contains(e.TableDomUtils.MARKER_STYLE_CLASSES._SELECTED)},_getRowSelectionMode:function(){return null==this.options.selectionMode?null:this.options.selectionMode[this._CONST_ROW]},_getSelectedHeaderColumnIdxs:function(){return this._getColumnIdxsForElementsWithStyleClass("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_CELL_CLASS+"."+e.TableDomUtils.MARKER_STYLE_CLASSES._SELECTED)},_getSelectedRowIdxs:function(){return this._getRowIdxsForElementsWithStyleClass("."+e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_CLASS+"."+e.TableDomUtils.MARKER_STYLE_CLASSES._SELECTED)},_getSelection:function(){var e=this._getSelectedRowIdxs(),t=this._getSelectedHeaderColumnIdxs(),l=null,o=!0;if(null!=e&&e.length>0)l=e;else{if(!(null!=t&&t.length>0))return[];l=t,o=!1}var i,s,a,n,r,_=[],S=0,T=null,d=l.length;for(r=0;r<d;r++)a=l[r],0==r?((i={})[this._CONST_STARTINDEX]={},i[this._CONST_ENDINDEX]={},i.startKey={},i.endKey={},o?(n=this._getRowKeyForRowIdx(a),s=this._getDataSourceRowIndexForRowKey(n),i.startKey[this._CONST_ROW]=n,i.endKey[this._CONST_ROW]=n,i[this._CONST_STARTINDEX][this._CONST_ROW]=s,i[this._CONST_ENDINDEX][this._CONST_ROW]=s):(i[this._CONST_STARTINDEX][this._CONST_COLUMN]=a,i[this._CONST_ENDINDEX][this._CONST_COLUMN]=a,n=this._getColumnKeyForColumnIdx(a),i.startKey[this._CONST_COLUMN]=n,i.endKey[this._CONST_COLUMN]=n),_[0]=i):(i=_[S],o?(n=this._getRowKeyForRowIdx(a),s=this._getDataSourceRowIndexForRowKey(n),i.endKey[this._CONST_ROW]=n,i[this._CONST_ENDINDEX][this._CONST_ROW]=s):(i[this._CONST_ENDINDEX][this._CONST_COLUMN]=a,n=this._getColumnKeyForColumnIdx(a),i.endKey[this._CONST_COLUMN]=n),a!=T+1&&(o?(n=this._getRowKeyForRowIdx(T),s=this._getDataSourceRowIndexForRowKey(n),i.endKey[this._CONST_ROW]=n,i[this._CONST_ENDINDEX][this._CONST_ROW]=s,(i={})[this._CONST_STARTINDEX]={},i[this._CONST_ENDINDEX]={},i.startKey={},i.endKey={},n=this._getRowKeyForRowIdx(a),s=this._getDataSourceRowIndexForRowKey(n),i.startKey[this._CONST_ROW]=n,i.endKey[this._CONST_ROW]=n,i[this._CONST_STARTINDEX][this._CONST_ROW]=s,i[this._CONST_ENDINDEX][this._CONST_ROW]=s):(i[this._CONST_ENDINDEX][this._CONST_COLUMN]=T,n=this._getColumnKeyForColumnIdx(T),i.endKey[this._CONST_COLUMN]=n,(i={})[this._CONST_STARTINDEX]={},i[this._CONST_ENDINDEX]={},i.startKey={},i.endKey={},i[this._CONST_STARTINDEX][this._CONST_COLUMN]=a,i[this._CONST_ENDINDEX][this._CONST_COLUMN]=a,n=this._getColumnKeyForColumnIdx(a),i.startKey[this._CONST_COLUMN]=n,i.endKey[this._CONST_COLUMN]=n),_[++S]=i)),T=a;return _},_getSlotTemplate:function(t){var l;return this._IsCustomElement()&&t&&(l=e.BaseCustomElementBridge.getSlotMap(this._getRootElement())[t])&&l.length>0&&"template"===l[0].tagName.toLowerCase()?l[0]:null},_getSortedTableHeaderColumnIdx:function(){var e,l=this._getTableDomUtils().getTableHeaderColumns(),o=l?l.length:0;for(e=0;e<o;e++)if(null!=t(l[e]).data("sorted"))return e;return null},_getTabbableElements:function(e,l){var o=null;return null!=(o=l?t(e).find(":tabbable"):t(e).find(":tabbable").not(".oj-helper-hidden-accessible"))&&o.length>0?o.toArray():null},_getTableAnimationUtils:function(){return this._tableAnimationUtils||(this._tableAnimationUtils=new e.TableAnimationUtils(this)),this._tableAnimationUtils},_getTableDndContext:function(){return this._tableDndContext||(this._tableDndContext=new e.TableDndContext(this)),this._tableDndContext},_getTableDomUtils:function(){return this._tableDomUtils||(this._tableDomUtils=new e.TableDomUtils(this)),this._tableDomUtils},_getTableResizeUtils:function(){return this._tableResizeUtils||(this._tableResizeUtils=new e.TableResizeUtils(this)),this._tableResizeUtils},_getTemplateEngine:function(){return this._templateEngine},_getTouchEventTargetElement:function(e){var t=e.originalEvent.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)},_getVisibleRowIdxs:function(){var e=[],l=this._getTableDomUtils().getTableBodyRows();if(null!=l&&l.length>0){var o,i=t(window).height(),s=this.element[0].getBoundingClientRect();if(s.top>=0&&s.bottom<=i)for(o=0;o<l.length;o++)e.push(o);else{if(s.top>i)return e;var a,n,r=s.left>=0?s.left+1:s.right-1,_=document.elementFromPoint(r,0),S=null;for(null!=_&&(S=this._getTableDomUtils().getElementRowIdx(_)),a=null!=S?S:0,s.bottom>i?(S=null,null!=(_=document.elementFromPoint(r,i-1))&&(S=this._getTableDomUtils().getElementRowIdx(_)),n=null!=S?S:l.length-1):n=l.length-1,o=a;o<=n;o++)e.push(o)}}return e},_handleContextMenuSelect:function(e,l){var o,i=(o=l?l.item:t(e.target)).attr("data-oj-command"),s=this._getTableDomUtils().getFirstAncestor(this._contextMenuEvent.target,"oj-table-column-header-cell");s=null==s?this._contextMenuEventHeaderColumn:s;var a=this._getTableDomUtils().getFirstAncestor(this._contextMenuEvent.target,"oj-table-data-cell"),n=null;if(null!=s&&(n=this._getTableDomUtils().getElementColumnIdx(s)),null!=a&&(n=this._getTableDomUtils().getElementColumnIdx(a)),null!==n)if("oj-table-sortAsc"==i)this._handleSortTableHeaderColumn(n,!0,e);else if("oj-table-sortDsc"==i)this._handleSortTableHeaderColumn(n,!1,e);else if("oj-table-enableNonContiguousSelection"==i)this._nonContiguousSelection=!0,o.attr("data-oj-command","oj-table-disableNonContiguousSelection"),o.children().first().text(this.getTranslatedString("labelDisableNonContiguousSelection"));else if("oj-table-disableNonContiguousSelection"==i)this._nonContiguousSelection=!1,o.attr("data-oj-command","oj-table-enableNonContiguousSelection"),o.children().first().text(this.getTranslatedString("labelEnableNonContiguousSelection"));else if("oj-table-resize"==i){var r=this._getTableDomUtils().getContextMenuResizePopup();r.setAttribute("data-oj-columnIdx",n);var _=null!=s?s.getBoundingClientRect():a.getBoundingClientRect(),S=document.getElementById(this._getTableDomUtils().getTableId()+"_resize_popup_spinner");t(S).ojInputNumber("option","value",Math.round(_.width));var T=null!=s?s:null!=a?a:this.getTable();t(r).ojPopup("open",T)}},_handleContextMenuResizePopup:function(e){var l=document.getElementById(this._getTableDomUtils().getTableId()+"_resize_popup_spinner"),o=t(l).ojInputNumber("option","value"),i=this._getTableDomUtils().getContextMenuResizePopup(),s=parseInt(i.getAttribute("data-oj-columnIdx"),10);t(i).ojPopup("close");var a,n=[],r=this.options.columns.length;for(a=0;a<r;a++)n[a]=t.extend({},{},this.options.columns[a]);n[s].width=o,this.option("columns",n,{_context:{writeback:!0,internalSet:!0}}),this._clearCachedMetadata();var _=this;this._refresh().then(function(){_._getTableDomUtils().getTable().focus()})},_handleDataAppend:function(t){try{var l=this;this._queueTask(function(){var e,o=[],i=t[l._CONST_DATA].length;for(e=0;e<i;e++)o[e]=e+t[l._CONST_STARTINDEX];l._refreshAll({data:t[l._CONST_DATA],keys:t[l._CONST_KEYS],indexes:o},t[l._CONST_STARTINDEX]),l=null})}catch(t){e.Logger.error(t)}finally{this._clearDataWaitingState()}},_handleDataError:function(t){this._clearDataWaitingState(),e.Logger.error(t)},_handleDataFetchStart:function(e){this._setDataWaitingState()},_handleDataRefresh:function(t){try{if(this._dataFetching)return;var l=this;this._queueTask(function(){var e=l._invokeDataFetchRows({});return l=null,e})}catch(t){e.Logger.error(t)}finally{this._clearDataWaitingState()}},_handleDataRowMutate:function(e){this._dataFetching||(null!=e.detail.remove&&this._handleDataRowRemove(e.detail.remove),null!=e.detail.add&&this._handleDataRowAdd(e.detail.add),null!=e.detail.update&&this._handleDataRowChange(e.detail.update))},_handleDataRowAdd:function(t){try{var l=this._getData(),o=t[this._CONST_DATA],i=t[this._CONST_INDEXES],s=[];t[this._CONST_KEYS].forEach(function(e){s.push(e)});var a=[];null!=t[this._CONST_AFTERKEYS]&&t[this._CONST_AFTERKEYS].forEach(function(e){a.push(e)}),o instanceof Array||(o=[o]);var n=0;this._isPagingModelDataProvider()&&(n=l.getStartItemIndex());var r=null;l instanceof e.TableDataSourceAdapter&&(e.FlattenedTreeTableDataSource&&l.tableDataSource instanceof e.FlattenedTreeTableDataSource?r=l.tableDataSource:e.PagingTableDataSource&&l.tableDataSource instanceof e.PagingTableDataSource&&e.FlattenedTreeTableDataSource&&l.tableDataSource.dataSource instanceof e.FlattenedTreeTableDataSource&&(r=l.tableDataSource.dataSource));var _,S,T,d,h=[],u=null,c=this._getTableDomUtils().getTableBodyRows(),m=null!=c?c.length:0,C=o.length;for(d=0;d<C;d++)T=null!=a?a[d]:"",S=null!=(_=this._getRowIdxForRowKey(T))&&_>=0?_+n:i[d]>=0?i[d]:0==d?m:i[d-1]+1,i[d]=S;for(d=0;d<C;d++)if(void 0!==(_=i[d]-n)){r&&(u=r._getMetadata(_));var E={data:o[d],metadata:u,key:s[d],index:i[d]};h.push({row:E,rowIdx:_})}h.length>0&&this._executeTableBodyRowsAdd(h)}catch(t){e.Logger.error(t)}finally{this._clearDataWaitingState()}},_handleDataRowChange:function(t){try{var l=t[this._CONST_DATA],o=[];t[this._CONST_KEYS].forEach(function(e){o.push(e)}),l instanceof Array||(l=[l]);var i,s=[],a=l.length;for(i=0;i<a;i++){var n=this._getRowIdxForRowKey(o[i]);if(void 0!==n){var r={data:l[i],key:o[i],index:n};s.push({row:r,rowIdx:n})}}s.length>0&&this._executeTableBodyRowsChange(s)}catch(t){e.Logger.error(t)}finally{this._clearDataWaitingState()}},_handleDataRowRemove:function(t){try{var l=t[this._CONST_DATA],o=[];t[this._CONST_KEYS].forEach(function(e){o.push(e)}),l instanceof Array||(l=[l]);var i,s=[],a=l.length;for(i=0;i<a;i++){var n=this._getRowIdxForRowKey(o[i]);if(void 0!==n){var r={data:l[i],key:o[i],index:n};s.push({row:r,rowIdx:n})}}s.length>0&&this._executeTableBodyRowsRemove(s)}catch(t){e.Logger.error(t)}finally{this._clearDataWaitingState()}},_handleKeydownEnd:function(e){if(!this._isTableActionableMode()){var t=this._getFocusedHeaderColumnIdx();if(null!=t&&t!=this._getColumnDefs().length-1)this._setHeaderColumnFocus(this._getColumnDefs().length-1,!0,!1,null,!1);else if(!this._hasEditableRow()){var l=this._getFocusedRowIdx(),o=this._getTableDomUtils().getTableBodyRows(),i=null!=o?o.length:0;null!=l&&l!=i-1&&i>0&&this._setRowFocus(i-1,!0,!0,null,e)}}},_handleKeydownEnter:function(e){if(!this._isTableActionableMode()){var l=this._getFocusedHeaderColumnIdx();if(null!=l&&this._getColumnDefs()[l].sortable==this._OPTION_ENABLED){var o=this._getTableDomUtils().getTableHeaderColumn(l),i=t(o).data("sorted");null==i||i==this._COLUMN_SORT_ORDER._DESCENDING?this._handleSortTableHeaderColumn(l,!0,e):this._handleSortTableHeaderColumn(l,!1,e)}else{var s=this._getCurrentRow();if((s=s||{}).rowIndex>=0)if(this._isTableEditMode()){if(!this._hasEditableRow())return void this._setTableEditable(!0,!1,0,!0,e);var a=this._getTableDomUtils().getElementColumnIdx(e.target);e[this._KEYBOARD_CODES._KEYBOARD_MODIFIER_SHIFT]?this._setPreviousRowEditable(a,e):this._setNextRowEditable(a,e)}else this._setTableActionableMode(!0)}}},_handleKeydownEsc:function(e){e.preventDefault(),e.stopPropagation(),this._setTableEditable(!1,!0,0,!0,e),this._getTableDomUtils().getTable().focus(),this._setTableActionableMode(!1),this._getTableResizeUtils().clearTableHeaderColumnsResize()},_handleKeydownF2:function(e){e.preventDefault(),e.stopPropagation(),this._isTableEditMode()?this._hasEditableRow()?this._setTableEditable(!1,!1,0,!0,e):this._setTableEditable(!0,!1,0,!0,e):this._isTableActionableMode()?this._setTableActionableMode(!1):this._setTableActionableMode(!0)},_handleKeydownHome:function(e){if(!this._isTableActionableMode()){var t=this._getFocusedHeaderColumnIdx();if(null!=t&&0!=t)this._setHeaderColumnFocus(0,!0,!1,null,!0);else if(!this._hasEditableRow()){var l=this._getFocusedRowIdx();null!=l&&0!=l&&this._setRowFocus(0,!0,!0,null,e)}}},_handleKeydownLeftRight:function(e){if(!this._isTableActionableMode()){var t=this._getFocusedHeaderColumnIdx(),l=this._getColumnDefs();if(null!=t){var o=t;if(this._isKeyboardKeyPressed(this._KEYBOARD_CODES._KEYBOARD_CODE_LEFT)?o=t>0?t-1:t:this._isKeyboardKeyPressed(this._KEYBOARD_CODES._KEYBOARD_CODE_RIGHT)&&(o=t<l.length-1?t+1:t),o!=t&&(this._setHeaderColumnFocus(o,!0,!1,null,this._isKeyboardKeyPressed(this._KEYBOARD_CODES._KEYBOARD_CODE_RIGHT)),e[this._KEYBOARD_CODES._KEYBOARD_MODIFIER_SHIFT])){var i=this._getHeaderColumnSelection(o);this._setHeaderColumnSelection(o,!i,null,e,!0),i&&this._getHeaderColumnSelection(t)&&this._setHeaderColumnSelection(t,!1,null,e,!0)}}}},_handleKeydownSpacebar:function(e){if(!this._isTableActionableMode()){var t=this._getFocusedRowIdx();if(null!=t)this._setRowSelection(t,!this._getRowSelection(t),null,e,!0);else if(!this._hasEditableRow()){var l=this._getFocusedHeaderColumnIdx();null!=l&&(this._clearSelectedRows(),this._setHeaderColumnSelection(l,!this._getHeaderColumnSelection(l),null,e,!0))}}},_handleKeydownTab:function(l){var o=!1,i=this._getFocusedRowIdx(),s=this._getFocusedHeaderColumnIdx();if((null!=i||null!=s)&&(this._isTableActionableMode()||this._hasEditableRow())){var a=document.activeElement,n=this._getTableDomUtils().getTableBody(),r=this._getTableDomUtils().getTableHeader();if(this._getEditableRowIdx()===i){var _=this._getTableDomUtils().getTableBodyRow(i),S=this._getTabbableElements(_),T=null!=S?S.length:0,d=t(S).index(a);if(d==T-1&&!l[this._KEYBOARD_CODES._KEYBOARD_MODIFIER_SHIFT])return this._setNextRowEditable(0,l),l.preventDefault(),void l.stopPropagation();if(0!=d||!l[this._KEYBOARD_CODES._KEYBOARD_MODIFIER_SHIFT])return;var h=this._getTableDomUtils().getTableHeaderColumns();if(h){var u=h.length;return this._setPreviousRowEditable(u-1,l),l.preventDefault(),void l.stopPropagation()}}else if(t.contains(n,a)||t.contains(r,a)){var c=null;if(t.contains(n,a)?c=this._getTableDomUtils().getTableBodyRow(i):t.contains(r,a)&&(c=this._getTableDomUtils().getTableHeader()),(C=this._getTabbableElements(c)).length>0){var m;if(C.length>1){if(l[this._KEYBOARD_CODES._KEYBOARD_MODIFIER_SHIFT]){if(a==C[0])t(C[C.length-1]).focus(),l.preventDefault(),l.stopPropagation();else for(m=0;m<C.length;m++)if(a==C[m]){C[m-1].focus(),l.preventDefault(),l.stopPropagation();break}}else if(a==C[C.length-1])t(C[0]).focus(),l.preventDefault(),l.stopPropagation();else for(m=0;m<C.length;m++)if(a==C[m]){C[m+1].focus(),l.preventDefault(),l.stopPropagation();break}}else l.preventDefault(),l.stopPropagation();return}}if((null!=i&&!this._hasEditableRow()||null!=s)&&!l[this._KEYBOARD_CODES._KEYBOARD_MODIFIER_SHIFT]){var C;if(o=!0,c=null,null!=i?c=this._getTableDomUtils().getTableBodyRow(i):null!=s&&(c=this._getTableDomUtils().getTableHeaderColumn(s)),null!=(C=this._getTabbableElements(c)))t(C[0]).focus();else if(null!=i){var E=this._getTabbableElements(n);t(E[0]).focus()}else if(null!=s){var D=this._getTabbableElements(r);t(D[0]).focus()}l.preventDefault(),l.stopPropagation()}}if(o)this._removeKeyboardKey(l.keyCode);else{this._clearKeyboardKeys(),this._clearFocusedHeaderColumn(),this._clearFocusedRow(!1),this._setTableActionableMode(!1);var b=this._getTableDomUtils().getTable(),g=this._getTabbableElements(b,!0),A=null!=g?g.length:0,R=b;if(!l[this._KEYBOARD_CODES._KEYBOARD_MODIFIER_SHIFT]&&A>0)if(this._getTableDomUtils()._isFF()){var L=this._getTableDomUtils().getTableContainer();(R=document.createElement(e.TableDomUtils.DOM_ELEMENT._A)).setAttribute(e.TableDomUtils.DOM_ATTR._TABINDEX,"0"),R.setAttribute(e.TableDomUtils.DOM_ATTR._HREF,"#"),R.classList.add(e.TableDomUtils.CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS),L.appendChild(R),this._temporaryFocusForFF=R}else R=g[A-1];this._temporaryTableChildElementFocus=!0,R.focus();var O=this;setTimeout(function(){O._temporaryTableChildElementFocus=!1,O._temporaryFocusForFF&&(t(O._temporaryFocusForFF).remove(),O._temporaryFocusForFF=null)},0)}},_handleKeydownUpDown:function(e){if(!this._isTableActionableMode()){var t=this._getFocusedRowIdx(),l=this._getFocusedHeaderColumnIdx();if(null==t||this._hasEditableRow())null!=l&&this._isKeyboardKeyPressed(this._KEYBOARD_CODES._KEYBOARD_CODE_DOWN)&&this._setRowFocus(0,!0,!0,null,e);else{var o=this._getTableDomUtils().getTableBodyRows(),i=null!=o?o.length:0,s=t;if(this._isKeyboardKeyPressed(this._KEYBOARD_CODES._KEYBOARD_CODE_UP)?t>0?s=t-1:this._hasEditableRow()||(s=t):this._isKeyboardKeyPressed(this._KEYBOARD_CODES._KEYBOARD_CODE_DOWN)&&(s=t<i-1?t+1:t),s!=t){if(!this._setRowFocus(s,!0,!0,null,e))return;if(this._getTableDomUtils().getTable().focus(),e[this._KEYBOARD_CODES._KEYBOARD_MODIFIER_SHIFT]){var a=this._getRowSelection(s);this._setRowSelection(s,!a,null,e,!0),a&&this._getRowSelection(t)&&this._setRowSelection(t,!1,null,e,!0)}}else s==t&&0==t&&this._isKeyboardKeyPressed(this._KEYBOARD_CODES._KEYBOARD_CODE_UP)&&this._setHeaderColumnFocus(0,!0,!1,null,!0)}}},_handleMouseEnterSelection:function(e){var t=this._getTableDomUtils().getElementRowIdx(e);if(null!=t&&null!=this._mouseDownRowIdx&&this._mouseDownRowIdx!=t){var l=this._mouseDownRowIdx,o=this._getSelectedRowIdxs();if(t<l){for(i=0;i<o.length;i++)(o[i]<t||o[i]>l)&&this._setRowSelection(o[i],!1,e,null,!0);for(i=l;i>=t;i--)this._setRowSelection(i,!0,e,null,!0),this._getTableDomUtils().moveTableBodyRowTouchSelectionAffordanceTop(i)}else{var i;for(i=0;i<o.length;i++)(o[i]>t||o[i]<l)&&this._setRowSelection(o[i],!1,e,null,!0);for(i=l;i<=t;i++)this._setRowSelection(i,!0,e,null,!0),this._getTableDomUtils().moveTableBodyRowTouchSelectionAffordanceBottom(i)}}},_handleScrollerMaxRowCount:function(){var t=this.getTranslatedString("msgScrollPolicyMaxCountSummary"),l=this.getTranslatedString("msgScrollPolicyMaxCountDetail");this._showInlineMessage(t,l,e.Message.SEVERITY_LEVEL.WARNING)},_handleScrollerScrollLeft:function(t){this._scrollLeft=t;var l=this._getTableDomUtils().getTableHeaderRow();l&&("rtl"===this._GetReadingDirection()?l.style[e.TableDomUtils.CSS_PROP._RIGHT]="-"+t+e.TableDomUtils.CSS_VAL._PX:l.style[e.TableDomUtils.CSS_PROP._LEFT]="-"+t+e.TableDomUtils.CSS_VAL._PX);var o=this._getTableDomUtils().getTableFooterRow();o&&("rtl"===this._GetReadingDirection()?o.style[e.TableDomUtils.CSS_PROP._RIGHT]="-"+t+e.TableDomUtils.CSS_VAL._PX:o.style[e.TableDomUtils.CSS_PROP._LEFT]="-"+t+e.TableDomUtils.CSS_VAL._PX)},_handleScrollerScrollTop:function(e){this._scrollTop=e},_handleSortTableHeaderColumn:function(e,t,l){this._clearSortedHeaderColumn(e);var o=this._getColumnDefs()[e],i=null==o.sortProperty?o.field:o.sortProperty;this._invokeDataSort(i,t,l),this._sortColumn=o,this._refreshSortTableHeaderColumn(i,t)},_hasEditableRow:function(){return!!this._isTableEditMode()&&null!==this._getEditableRowIdx()},_hasRowOrCellRendererOrTemplate:function(e){if(null!=this._getRowRenderer())return!0;var t=null,l=null,o=this._getColumnDefs();if(null!=e)t=this._getColumnRenderer(e,"cell"),l=this._getSlotTemplate(o[e][this._CELL_TEMPLATE]);else{var i,s=o.length;for(i=0;i<s&&null==(t=this._getColumnRenderer(i,"cell"))&&null==(l=this._getSlotTemplate(o[i][this._CELL_TEMPLATE]));i++);}return null!=t||null!=l},_hideInlineMessage:function(){if(this._inlineMessageShown){var t=this._getTableDomUtils().getTableInlineMessage();this._getTableDomUtils().getTableContainer().classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._WARNING),t.classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._WARNING),t.style[e.TableDomUtils.CSS_PROP._BOTTOM]="",t.style[e.TableDomUtils.CSS_PROP._DISPLAY]=e.TableDomUtils.CSS_VAL._NONE,this._inlineMessageShown=!1}},_hideNoDataMessage:function(){if(this._noDataMessageShown){var e=this._getTableDomUtils().getTableBodyMessageRow();null!=e&&t(e).remove(),this._noDataMessageShown=!1}},_hideStatusMessage:function(){this._showStatusTimeout&&(clearTimeout(this._showStatusTimeout),this._showStatusTimeout=null),this._statusMessageShown&&(this._getTableDomUtils().getTableStatusMessage().style[e.TableDomUtils.CSS_PROP._DISPLAY]=e.TableDomUtils.CSS_VAL._NONE,this._statusMessageShown=!1)},_hideTableHeaderColumnSortLink:function(l,o){if(this._getColumnDefs()[l].sortable==this._OPTION_ENABLED){var i=this._getTableDomUtils().getTableHeaderColumn(l),s=t(i).data("sorted");if(!o||null!=s&&s!=this._COLUMN_SORT_ORDER._DESCENDING){if(!o&&(null==s||s==this._COLUMN_SORT_ORDER._ASCENDING)){var a=i.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DSC_LINK_CLASS);a.length>0&&((a=a[0]).classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._DISABLED),a.classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._ENABLED),a.classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._SELECTED))}}else{var n=i.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_ASC_LINK_CLASS);n.length>0&&((n=n[0]).classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._DISABLED),n.classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._ENABLED),n.classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._SELECTED))}}},_initFetch:function(t,l){t=t||{};var o=this,i=this._getData();return null==i||!e.DataProviderFeatureChecker.isIteratingDataProvider(i)||this._isPagingModelDataProvider()&&!l?null==i?this._queueTask(function(){return Promise.resolve()}):void 0:this._queueTask(function(){return o._getTableDomUtils().getScroller().scrollTop=0,i instanceof e.TableDataSourceAdapter&&(t.fetchType="init",o._isLoadMoreOnScroll()&&(t[o._CONST_OFFSET]=0)),o._invokeDataFetchRows(t,!0)})},_initTemplateEngine:function(){var t=this;this._queueTask(function(){try{var l=e.Config.__getTemplateEngine().then(function(e){t._templateEngine=e},function(t){e.Logger.warn(t)})}catch(t){e.Logger.warn(t),l=Promise.resolve(null)}return l})},_invokeDataFetchRows:function(t,l){!(t=t||{})[this._CONST_PAGESIZE]&&this._isLoadMoreOnScroll()?t[this._CONST_PAGESIZE]=this.options.scrollPolicyOptions.fetchSize:t[this._CONST_PAGESIZE]=-1;var o=this._getData();if(null!=o){var i=this;return new Promise(function(s,a){i._setDataWaitingState(),i._dataProviderAsyncIterator=o.fetchFirst(t)[Symbol.asyncIterator](),i._dataProviderAsyncIterator.next().then(function(t){var a=t[i._CONST_VALUE],n=a[i._CONST_DATA],r=a.metadata.map(function(e){return e[i._CONST_KEY]}),_=0;o instanceof e.TableDataSourceAdapter&&(_=o[i._CONST_OFFSET]);var S=0;i._isPagingModelDataProvider()&&(S=o.getStartItemIndex());var T,d=[],h=n.length;for(T=0;T<h;T++)d[T]=_+S+T;i._refreshAll({data:n,metadata:[],keys:r,indexes:d},_,l,l),i._clearDataWaitingState(),i._processFetchSort(a),i._isLoadMoreOnScroll()&&i._registerDomScroller(),i=null,s(t)},function(e){i._clearDataWaitingState();var t=i._getTableDomUtils().getTableBodyRows();null!=t&&0!=t.length||i._showNoDataMessage(),s(null)})})}return Promise.resolve(null)},_invokeDataSort:function(e,t,l){if(!this._getData())return null;this._showStatusMessage();var o=[],i={};i[this._CONST_ATTRIBUTE]=e,i.direction=t?this._COLUMN_SORT_ORDER._ASCENDING:this._COLUMN_SORT_ORDER._DESCENDING,o.push(i),this._trigger("sort",l,{header:o[0][this._CONST_ATTRIBUTE],direction:o[0].direction}),this._initFetch({sortCriteria:o},!0)},_isColumnMetadataUpdated:function(){if(null!=this._columnDefArray){var e=this._getColumnMetadata();if(this._columnDefArray.length!=e.length)return!0;var t,l,o=e.length;for(t=0;t<o;t++)for(l in e[t])if(e[t].hasOwnProperty(l)&&e[t][l]!=this._columnDefArray[t][l]&&("id"!=l||null==e[t][l]||0!=e[t][l].indexOf(this._COLUMN_HEADER_ID_PREFIX)||null==this._columnDefArray[t][l]||0!=this._columnDefArray[t][l].indexOf(this._COLUMN_HEADER_ID_PREFIX)))return!0;return!1}return!0},_isKeyboardKeyPressed:function(e){
var t,l=this._getKeyboardKeys(),o=l.length;for(t=0;t<o;t++)if(l[t]==e)return!0;return!1},_isLoadMoreOnScroll:function(){return this.options.scrollPolicy==this._OPTION_SCROLL_POLICY._LOADMORE_ON_SCROLL},_isNodeEditable:function(e){return this._isNodeType(e,/^INPUT|TEXTAREA/)},_isNodeClickable:function(e){return this._isNodeType(e,/SELECT|OPTION|BUTTON|^A\b/)},_isNodeDraggable:function(e){return t(e).closest("[draggable='true']").length>0},_isNodeType:function(t,l){for(var o,i=this._getTableDomUtils().getTable();null!=t&&t!=i&&(o=t.nodeName)!=e.TableDomUtils.DOM_ELEMENT._TD&&o!=e.TableDomUtils.DOM_ELEMENT._TH;)if(3!=t.nodeType){var s=t.getAttribute(e.TableDomUtils.DOM_ATTR._TABINDEX);if(o.match(l)&&-1!=s)return!0;t=t.parentNode}else t=t.parentNode;return!1},_isPagingModelDataProvider:function(){var e=this._getData();return null!=e.getStartItemIndex&&null!==e.getStartItemIndex()&&e.getStartItemIndex()>=0},_isStatusMessageShown:function(){return this._statusMessageShown},_isTableActionableMode:function(){return this._tableActionableMode},_isTableEditMode:function(){return this.options.editMode==this._OPTION_EDIT_MODE._ROW_EDIT},_isTableFooterless:function(){var e,t,l,o=this._getColumnDefs(),i=o.length;for(e=0;e<i;e++){if(t=this._getColumnRenderer(e,"footer"),l=this._getSlotTemplate(o[e][this._FOOTER_TEMPLATE]),null!=t)return!1;if(null!=l)return!1}return!0},_isTableHeaderless:function(){var e,t,l=this._getColumnDefs(),o=l.length;for(e=0;e<o;e++)if(t=this._getSlotTemplate(l[e][this._HEADER_TEMPLATE]),null!=l[e].headerText||null!=l[e].headerStyle||null!=l[e].sortable&&l[e].sortable!=this._OPTION_DISABLED||null!=l[e].sortProperty||null!=l[e].headerRenderer||null!=t)return!1;return!0},_isTableHeaderColumnsRendered:function(){return 1==this._renderedTableHeaderColumns},_isTableRefreshNeeded:function(l,o){var i=this._cachedOptions,s=!1;return"contextMenu"==l&&o=="#"+this._getTableDomUtils().getTableId()+"_contextmenu"?s=!1:"columns"!=l||this._isColumnMetadataUpdated()?"selection"==l||"currentRow"==l||e.Object.compareValues(o,i[l])||(s=!0):s=!1,this._cachedOptions=t.extend(!0,{},this.options),s},_isTableSortable:function(){var e,t=this._getColumnDefs(),l=t.length;for(e=0;e<l;e++)if(t[e].sortable==this._OPTION_ENABLED)return!0;return!1},_isTableColumnsResizable:function(){var e,t=this._getColumnDefs(),l=t.length;for(e=0;e<l;e++)if(t[e].resizable==this._OPTION_ENABLED)return!0;return!1},_isTableColumnsWidthSet:function(){var e,t=this._getColumnDefs(),l=t.length;for(e=0;e<l;e++)if(null!==t[e].width)return!0;return!1},_isTouchDevice:function(){if(null==this._isTouch){var e=navigator.userAgent.toLowerCase();-1!=e.indexOf("mobile")||-1!=e.indexOf("android")?this._isTouch=!0:this._isTouch=!1}return this._isTouch},_processFetchSort:function(t){try{var l=this,o=t.fetchParameters,i=this._getColumnDefs(),s=o[this._CONST_SORTCRITERIA];if(null!=s&&s.length>0){var a=s[0];this._refreshSortTableHeaderColumn(a.attribute,a.direction==this._COLUMN_SORT_ORDER._ASCENDING);var n=this.options.selection;if(null!=n){var r=!1;if(n.length>1)r=!0;else if(null!=n[0]){var _=n[0][this._CONST_STARTINDEX],S=n[0][this._CONST_ENDINDEX];e.Object.compareValues(_,S)||null==S||(r=!0)}r&&(this._setSelection(null),this.option("selection",[],{_context:{writeback:!0,internalSet:!0}}))}this._setCurrentRow(this.options.currentRow,null,!1);var T,d,h,u=null,c=i.length;for(T=0;T<c;T++)if(h=null==(d=i[T]).sortProperty?d.field:d.sortProperty,a.attribute==h){u=T;break}null!=u&&setTimeout(function(){l._scrollColumnIntoViewport(u),l=null,u=null},0)}else this._clearSortedHeaderColumn()}catch(t){e.Logger.error(t)}},_processSlottedChildren:function(){var l=this._getTableDomUtils().getTableBottomSlot();null!=l&&t(l).remove();var o=e.BaseCustomElementBridge.getSlotMap(this._getRootElement());for(var i in o)if(o.hasOwnProperty(i)&&i.length>0&&"bottom"===i){var s,a=o[i];if(null!=a)for(l=this._getTableDomUtils().createTableBottomSlot(),s=0;s<a.length;s++)l.appendChild(a[s])}},_refreshAll:function(t,l,o,i){if((this._isColumnMetadataUpdated()||!this._isTableHeaderColumnsRendered()&&!this._isTableHeaderless())&&(this._clearCachedMetadata(),this._refreshTableHeader(),null!=this._sortColumn)){var s,a,n=!1,r=this._getColumnDefs();if(null!=r){var _=r.length;for(s=0;s<_;s++)if(a=r[s],e.Object.compareValues(a,this._sortColumn)){n=!0;break}n||this._initFetch(null,!0)}}this._refreshTableFooter(),this._refreshTableBody(t,l,o,i)},_refreshSortTableHeaderColumn:function(l,o){var i,s,a=this._getColumnDefs(),n=null,r=a.length;for(i=0;i<r;i++)if(l==(null==(s=a[i]).sortProperty?s.field:s.sortProperty)){n=i;break}if(null!=n){this._clearSortedHeaderColumn(n);var _=this._getTableDomUtils().getTableHeaderColumn(n);if(null!=_){var S=t(_).data("sorted");if(o&&S!=this._COLUMN_SORT_ORDER._ASCENDING){t(_).data("sorted",this._COLUMN_SORT_ORDER._ASCENDING);var T=_.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_ASC_LINK_CLASS);T.length>0&&((T=T[0]).classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._ENABLED),T.classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._DISABLED)),(h=_.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_ASC_CLASS)).length>0&&(h=h[0]).classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._DISABLED),(d=_.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DSC_CLASS)).length>0&&(d=d[0]).classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._DISABLED),this._hideTableHeaderColumnSortLink(n,!o)}else if(!o&&S!=this._COLUMN_SORT_ORDER._DESCENDING){t(_).data("sorted",this._COLUMN_SORT_ORDER._DESCENDING);var d,h,u=_.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DSC_LINK_CLASS);u.length>0&&((u=u[0]).classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._ENABLED),u.classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._DISABLED)),(d=_.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DSC_CLASS)).length>0&&(d=d[0]).classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._DISABLED),(h=_.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_ASC_CLASS)).length>0&&(h=h[0]).classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._DISABLED)}}}},_refreshTableBody:function(l,o,i,s){var a=this._getTableDomUtils().getTableBody();if(null!=a){var n,r,_=this._getRowIdxRowArray(l,o),S=t.contains(a,document.activeElement),T=!1;if(0==o)S&&(T=!0),this._getTableDomUtils().removeAllTableBodyRows();else if(null!=(n=this._getTableDomUtils().getTableBodyRows())&&n.length>0)for(d=n.length-1;d>=o;d--)S&&null!=(r=this._getTableDomUtils().getTableBodyRow(d))&&t.contains(r,document.activeElement)&&(T=!0,S=!1),this._getTableDomUtils().removeTableBodyRow(d);if(T&&this._getTableDomUtils().getTable().focus(),this._getTableDomUtils().clearCachedDomRowData(),this._hideNoDataMessage(),n=a.children,0!=_.length||null!=n&&0!=n.length){var d,h,u,c=document.createDocumentFragment(),m=_.length;for(d=0;d<m;d++)h=_[d].row,u=_[d].rowIdx,null!=h&&(r=this._getTableDomUtils().createTableBodyRow(u,h[this._CONST_KEY]),this._getTableDomUtils().styleTableBodyRow(r,!0),this._getTableDomUtils().insertTableBodyRow(u,r,h,c),this._refreshTableBodyRow(u,h,r,c,o,!0));a.appendChild(c),this._getTableDomUtils().clearCachedDomRowData(),this._hasRowOrCellRendererOrTemplate()&&(this._getTableDomUtils().refreshTableDimensions(null,null,i,s),e.Components.subtreeAttached(a))}else this._showNoDataMessage()}},_refreshTableBodyRow:function(l,o,i,s,a,n){this.options;var r=this._getRowRenderer(),_=(this._getColumnDefs(),this._getTableDomUtils().getTableBody());(isNaN(l)||l<0)&&e.Logger.error("Error: Invalid rowIdx value: "+l);var S=this._getTableDomUtils().hashCode(o[this._CONST_KEY]);if(null==i){if(!(i=this._getTableDomUtils().getTableBodyRow(l)))return null;t(i).empty(),this._getTableDomUtils().createTableBodyCellAccSelect(l,o[this._CONST_KEY],S,i,!0)}this._hideNoDataMessage();var T=this._getCurrentRow();T=T||{};var d=e.TableRendererUtils.getRendererContextObject(this,i,{row:o,isCurrentRow:T.rowIndex==l}),h={rowContext:d,row:o[this._CONST_DATA],componentElement:d.componentElement,parentElement:d.parentElement,data:o[this._CONST_DATA]};if(null!=r){var u=r(h);null!=u?i.appendChild(u):(null==s?i=_.children[l]:(a=null==a?0:a,i=s.children?s.children[l-a]:t(s).children()[l-a]),this._getTableDomUtils().clearCachedDomRowData(),this._getTableDomUtils().setTableBodyRowAttributes(o,i),this._getTableDomUtils().styleTableBodyRow(i,!1)),this._getTableDomUtils().createTableBodyCellAccSelect(l,o[this._CONST_KEY],S,i,!1);var c,m,C,E,D=i.getElementsByTagName(e.TableDomUtils.DOM_ELEMENT._TD),b=D.length;for(c=1;c<b;c++)m=D[c],this._getTableDomUtils().setTableBodyCellAttributes(l,o[this._CONST_KEY],S,c-1,m),this._getTableDomUtils().styleTableBodyCell(c-1,m,!1);if(null!=this._columnsDestMap)for(c=0;c<this._columnsDestMap.length-1;c++)this._columnsDestMap[c]>c&&(C=D[this._columnsDestMap[c]+1],E=D[c+1],C.parentNode.insertBefore(C,E),D=i.getElementsByTagName(e.TableDomUtils.DOM_ELEMENT._TD))}else e.TableRendererUtils.tableBodyRowDefaultRenderer(this,l,o,h);return i},_refreshTableFooter:function(){var l=this._getColumnDefs(),o=this._getTableDomUtils().getTableFooter();if(!o){if(this._isTableFooterless())return;o=this._getTableDomUtils().createTableFooter(),this._getTableDomUtils().styleTableFooter(o)}var i=this._getTableDomUtils().getTableFooterRow();if(this._hasFooterTemplate&&(this._cleanTemplateNodes(i),this._hasFooterTemplate=!1),t(i).empty(),l&&l.length>0){this._getTableDomUtils().createTableFooterAccSelect(i);var s,a,n,r,_,S=l.length;for(s=0;s<S;s++)if(a=l[s],n=this._getColumnRenderer(s,"footer"),r=this._getTableDomUtils().createTableFooterCell(s,this._getColumnSelectionMode()),this._getTableDomUtils().styleTableFooterCell(s,r),this._getTableDomUtils().insertTableFooterCell(s,r),n){var T=e.TableRendererUtils.getRendererContextObject(this,r,{});null!=(_=n({footerContext:T,columnIndex:s,componentElement:T.componentElement,parentElement:T.parentElement}))?(r.empty(),r.appendChild(_)):(r=t(i).children(":not(."+e.TableDomUtils.CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS+")")[s],this._getTableDomUtils().styleTableFooterCell(s,r,this._getColumnSelectionMode()))}else{var d=this._getSlotTemplate(a[this._FOOTER_TEMPLATE]);if(d){var h=this._getRootElement(),u=this._getTemplateEngine();if(null!=u){var c=e.TableRendererUtils.getSlotTemplateContextObject(this),m=u.execute(h,d,c,this.options.as);m instanceof Array||(m=[m]),m.map(function(e){r.appendChild(e)}),this._hasFooterTemplate=!0}}}}},_refreshTableHeader:function(){var l=this,o=this._getColumnDefs(),i=this._getTableDomUtils().getTableHeader();if(!i){if(this._isTableHeaderless())return;i=this._getTableDomUtils().createTableHeader(),this._getTableDomUtils().styleTableHeader(i)}var s=this._getTableDomUtils().getTableHeaderRow();if(this._unregisterChildStateListeners(s),this._hasHeaderTemplate&&(this._cleanTemplateNodes(s),this._hasHeaderTemplate=!1),t(s).empty(),o&&o.length>0){var a=this._getTableDomUtils().createTableHeaderAccSelectRowColumn();s.appendChild(a);var n,r,_,S,T,d,h,u=o.length;for(n=0;n<u;n++){if(r=o[n],_=this._getColumnRenderer(n,"header"),S=this._getTableDomUtils().createTableHeaderColumn(n,this._getColumnSelectionMode()),_)h={headerContext:d=e.TableRendererUtils.getRendererContextObject(this,S,{}),columnIndex:n,data:r.headerText,componentElement:d.componentElement,parentElement:d.parentElement},r.sortable==e.TableDomUtils._OPTION_ENABLED?h.columnHeaderSortableIconRenderer=function(t,o){e.TableRendererUtils.columnHeaderSortableIconRenderer(l,this,t,o)}:h.columnHeaderDefaultRenderer=function(t,o){e.TableRendererUtils.columnHeaderDefaultRenderer(l,this,t,o)},null!=(T=_(h))?(t(S).empty(),t(S).append(T)):(S=t(s).children(":not(."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_ACC_SELECT_ROW_CLASS+")")[n],this._getTableDomUtils().setTableHeaderColumnAttributes(n,S),this._getTableDomUtils().styleTableHeaderColumn(n,S,this._getColumnSelectionMode(),!1));else{var c=this._getSlotTemplate(r[this._HEADER_TEMPLATE]);if(c){var m=this._getRootElement(),C=this._getTemplateEngine();if(null!=C){S&&t(S).empty();var E=e.TableRendererUtils.getHeaderSlotTemplateContextObject(this,r.headerText,n),D=C.execute(m,c,E,this.options.as);D instanceof Array||(D=[D]),D.map(function(e){S.appendChild(e)}),this._hasHeaderTemplate=!0}}}this._getTableDomUtils().createTableHeaderColumnAccSelect(n,this._getColumnSelectionMode())}this._renderedTableHeaderColumns=!0}},_refreshTableStatusMessage:function(){var e=this._getTableDomUtils().getTableStatusMessage();null!=e&&t(e).remove(),this._getTableDomUtils().createTableStatusMessage()},_registerCustomEvents:function(){var e=t.event.special;e.ojtablebeforecurrentrow={handle:function(e){return e.handleObj.handler.apply(this,[e,arguments[1]])}},e.ojtablesort={handle:function(e){return e.handleObj.handler.apply(this,[e,arguments[1]])}}},_registerDataSourceEventListeners:function(){var e=this._getData();if(null!=e){var t;this._unregisterDataSourceEventListeners(),this._dataProviderEventHandlers=[],this._dataProviderEventHandlers.push({eventType:"mutate",eventHandler:this._handleDataRowMutate.bind(this)}),this._dataProviderEventHandlers.push({eventType:"refresh",eventHandler:this._handleDataRefresh.bind(this)});var l,o=this._dataProviderEventHandlers.length;for(t=0;t<o;t++)(l=e.addEventListener(this._dataProviderEventHandlers[t].eventType,this._dataProviderEventHandlers[t].eventHandler))&&(this._dataProviderEventHandlers[t].eventHandler=l)}},_registerDomEventListeners:function(){null!=this._getTableDomUtils().getScroller()&&t(this._getTableDomUtils().getScroller()).scroll(function(e){this._handleScrollerScrollLeft(this._getTableDomUtils().getScrollLeft(e.target)),this._handleScrollerScrollTop(e.target.scrollTop)}.bind(this))},_registerDomScroller:function(){var t=this;null!=this._domScroller&&this._domScroller.destroy(),this._domScrollerSuccessFunc=function(e){if(t._clearDataWaitingState(),null!=e)if(e.maxCountLimit)t._handleScrollerMaxRowCount();else{var l=e[t._CONST_VALUE],o=l[t._CONST_DATA],i=l.metadata.map(function(e){return e[t._CONST_KEY]});i=i.filter(function(e,l){return null===t._getRowIdxForRowKey(e)||(o.splice(l,1),!1)}),t._queueTask(function(){var e,l=this._getTableDomUtils().getTableBodyRows(),s=null!=l?l.length:0,a=[];for(e=0;e<o.length;e++)a[e]=s+e;t._refreshAll({data:o,keys:i,indexes:a},s)})}};var l=this._getTableDomUtils().getTableBodyRows(),o=null!=l?l.length:0;this._domScroller=new e.DomScroller(this._getTableDomUtils().getScroller(),this._getData(),{asyncIterator:this._dataProviderAsyncIterator,fetchSize:this.options.scrollPolicyOptions.fetchSize,maxCount:this.options.scrollPolicyOptions.maxCount,initialRowCount:o,success:this._domScrollerSuccessFunc.bind(this),request:this._handleDataFetchStart.bind(this),fetchTrigger:1})},_registerResizeListener:function(){var l=this._getTableDomUtils().getTableContainer();if(!this._resizeListener){var o=this;this._resizeListener=function(l,i){if(e.Context.getContext(o.element[0]).getBusyContext().isReady()){var s=t(o._getTableDomUtils().getTableContainer()).outerHeight(),a=t(o._getTableDomUtils().getTableContainer()).outerWidth();o._getTableDomUtils().refreshTableDimensions(a,s)}}}this._isResizeListenerAdded||(e.DomUtils.addResizeListener(l,this._resizeListener,50),this._isResizeListenerAdded=!0)},_removeKeyboardKey:function(e){var t,l=this._getKeyboardKeys(),o=l.length;for(t=0;t<o;t++)l[t]==e&&l.splice(t,1)},_scrollColumnIntoViewport:function(e){var l="rtl"===this._GetReadingDirection(),o=this._getTableDomUtils().getTableBody(),i=this._getTableDomUtils().getTableHeaderColumn(e);if(i){var s=this._getTableDomUtils().getScrollbarWidth(),a=i.getBoundingClientRect(),n=o.getBoundingClientRect(),r=!1;if(l){if(a.left<n.left+s){var _=n.left-a.left+s;this._getTableDomUtils()._isIE()||(_*=-1),t(o).scrollLeft(t(o).scrollLeft()+_),r=!0}a.right>n.right&&!r&&(_=a.right-n.right,this._getTableDomUtils()._isIE()||(_*=-1),t(o).scrollLeft(t(o).scrollLeft()-_))}else a.left<n.left&&(_=n.left-a.left,t(o).scrollLeft(t(o).scrollLeft()-_),r=!0),a.right>n.right-s&&!r&&(_=a.right-n.right+s,t(o).scrollLeft(t(o).scrollLeft()+_))}},_scrollRowIntoViewport:function(e){var l=this._getTableDomUtils().getTableBodyRow(e),o=this._getTableDomUtils().getScrollbarHeight(),i=l.getBoundingClientRect(),s=this._getTableDomUtils().getScroller(),a=s.getBoundingClientRect(),n=!1;if(i.bottom>a.bottom-o){var r=i.bottom-a.bottom+o;t(s).scrollTop(t(s).scrollTop()+r),n=!0}i.top<a.top&&!n&&(r=a.top-i.top,t(s).scrollTop(t(s).scrollTop()-r))},_setCurrentRow:function(t,l,o){var i,s,a,n,r=this._currentRow,_=!0;if(null==t){if(null!=r){try{_=this._trigger("beforeCurrentRow",l,{currentRow:null,previousCurrentRow:this._currentRow})}catch(t){var S=this._LOGGER_MSG._ERR_PRECURRENTROW_ERROR_SUMMARY,T=e.Translations.applyParameters(this._LOGGER_MSG._ERR_PRECURRENTROW_ERROR_DETAIL,{error:t.toString()});return e.Logger.info(S+"\n"+T),!1}if(!_)return!1;if(s=r.rowIndex,a=this._getRowKeyForDataSourceRowIndex(s),n=this._getRowIdxForRowKey(a),!1===this._setTableEditable(!1,!1,0,!0,l)){this._currentRow=r;var d=document.activeElement,h=this._getTableDomUtils().getElementColumnIdx(d),u=this;return this._queueTask(function(){var e=n,t=h;null!=e&&null!=t?setTimeout(function(){u._setCellFocus(e,t)},0):null!=e&&setTimeout(function(){u._setRowFocus(e,!0,!1,null,null)},0)}),!1}this._currentRow=null,this.option("currentRow",null,{_context:{writeback:!0,originalEvent:l,internalSet:!0}}),null==l&&this._setRowFocus(-1,!0,!1,null,l),null!=(i=this._getTableDomUtils().getTableBodyRow(n))&&i.classList.remove(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_CURRENT_ROW_CLASS)}return!0}var c,m=this._getData(),C=t.rowIndex,E=t.rowKey;if(null==E&&(E=this._getRowKeyForDataSourceRowIndex(C)),t={rowIndex:C=this._getDataSourceRowIndexForRowKey(E),rowKey:E},-1!=(c=this._getRowIdxForRowKey(E))&&(!m||c<-1||null===c||null===E)){if(S=this._LOGGER_MSG._ERR_CURRENTROW_UNAVAILABLE_INDEX_SUMMARY,T=e.Translations.applyParameters(this._LOGGER_MSG._ERR_CURRENTROW_UNAVAILABLE_INDEX_DETAIL,{rowIdx:c}),o)throw new Error(S+"\n"+T);return e.Logger.info(S+"\n"+T),!1}var D=this._getFocusedRowIdx(),b=!e.Object.compareValues(this._currentRow,t);if(b){try{_=this._trigger("beforeCurrentRow",l,{currentRow:{rowIndex:C,rowKey:E},previousCurrentRow:this._currentRow})}catch(t){return S=this._LOGGER_MSG._ERR_PRECURRENTROW_ERROR_SUMMARY,T=e.Translations.applyParameters(this._LOGGER_MSG._ERR_PRECURRENTROW_ERROR_DETAIL,{error:t.toString()}),e.Logger.info(S+"\n"+T),!1}if(!_)return!1;if(this._currentRow={rowIndex:C,rowKey:E},null!=r&&(s=r.rowIndex,a=this._getRowKeyForDataSourceRowIndex(s),n=this._getRowIdxForRowKey(a)),!1===this._setTableEditable(!1,!1,0,!0,l))return this._currentRow=r,d=document.activeElement,h=this._getTableDomUtils().getElementColumnIdx(d),u=this,this._queueTask(function(){var e=n,t=h;null!=e&&null!=t?setTimeout(function(){u._setCellFocus(e,t)},0):null!=e&&setTimeout(function(){u._setRowFocus(e,!0,!1,null,null)},0)}),!1;this.option("currentRow",this._currentRow,{_context:{writeback:!0,originalEvent:l,internalSet:!0}}),null!=(i=this._getTableDomUtils().getTableBodyRow(c))&&i.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_CURRENT_ROW_CLASS),null!=r&&null!=(i=this._getTableDomUtils().getTableBodyRow(n))&&i.classList.remove(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_CURRENT_ROW_CLASS)}return(b||D!=t.rowIndex)&&null==l&&this._setRowFocus(c,!0,!1,null,l),!0},_setDataWaitingState:function(){this._showStatusMessage(),this._hideNoDataMessage(),this._dataFetching=!0,this._dataResolveFunc||(this._dataResolveFunc=this._addComponentBusyState("is waiting for data."))},_setCellFocus:function(e,l){var o=this._getTableDomUtils().getTableBodyCell(e,l);if(!o)return!1;var i,s=!1,a=o.querySelectorAll("*");for(i=0;i<a.length;i++)s||t(a[i]).is(":focusable")&&(t(a[i]).focus(),s=t(a[i]).is(":focus")||a[i]==document.activeElement);return s},_setCellInRowFocus:function(e,t,l){if(!this._setCellFocus(e,t)){var o=this._getTableDomUtils().getTableBodyCells(e);if(o){var i,s,a=o.length;for(i=0;i<a;i++)if(s=i,l||(s=a-i-1),this._setCellFocus(e,s))return}}},_setComponentNotReady:function(){this._readyResolveFunc||(this._readyResolveFunc=this._addComponentBusyState("is being loaded."))},_setComponentReady:function(){this._readyResolveFunc&&(this._readyResolveFunc(),this._readyResolveFunc=null)},_setEditableRowIdx:function(e){this._editableRowKey=this._getRowKeyForRowIdx(e),this._editableRowIdx=e},_setFocusInHandler:function(e){this._focusInHandler=e},_setFocusOutHandler:function(e){this._focusOutHandler=e},_setHeaderColumnFocus:function(e,t,l,o,i){var s=null;if(null!=o&&(s=this._getEventTargetElement(o)),t){this._clearFocusedRow(!0),l&&this._clearSelectedRows();var a=this._getFocusedHeaderColumnIdx(),n=this._getColumnDefs();if(null!==i)if(i){for(;e<=n.length-1&&!((r=this._getTableDomUtils().getTableHeaderColumn(e))&&r.clientWidth>0);)e++;e>n.length-1&&(e=null!==a?a:n.length-1)}else{for(;e>=0;){var r;if((r=this._getTableDomUtils().getTableHeaderColumn(e))&&r.clientWidth>0)break;e--}e<0&&(e=null!==a?a:0)}null!==a&&a!=e&&this._setHeaderColumnFocus(a,!1,!1,o,null),this._scrollColumnIntoViewport(e),this._activeColumnIndex=e}this._setHeaderColumnState(e,{focused:t},s)},_setHeaderColumnSelection:function(t,l,o,i,s,a){if(this._getColumnSelectionMode()==this._OPTION_SELECTION_MODES._SINGLE||this._getColumnSelectionMode()==this._OPTION_SELECTION_MODES._MULTIPLE){if((isNaN(t)||t<0)&&e.Logger.error("Error: Invalid column selection value: "+t),!a&&"true"==new String(this.options.selectionRequired).toLowerCase()&&!l){var n=this._getSelectedHeaderColumnIdxs();if(null!=n&&1==n.length)return}this._getColumnSelectionMode()==this._OPTION_SELECTION_MODES._SINGLE&&l&&this._clearSelectedHeaderColumns(),this._setHeaderColumnState(t,{selected:l},o,i),this._setLastHeaderColumnSelection(t,l),this._getTableDomUtils().getTableHeaderColumnAccSelect(t).getElementsByClassName(e.TableDomUtils.CSS_CLASSES._CHECKBOX_ACC_SELECT_COLUMN_CLASS)[0].checked=l}if(s){var r=this._getSelection();this.option("selection",r,{_context:{writeback:!0,internalSet:!0}}),l&&this.option("firstSelectedRow",{key:null,data:null},{_context:{writeback:!0,internalSet:!0}})}},_setHeaderColumnState:function(l,o,i,s){var a=this._getTableDomUtils().getTableHeaderColumn(l);if(a){var n=o.focused,r=o.selected;null!=r&&a.classList.contains(e.TableDomUtils.MARKER_STYLE_CLASSES._SELECTED)!=r&&(r?a.classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._SELECTED):a.classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._SELECTED)),null!=n&&(n?(this._focusInHandler(t(a)),this._showTableHeaderColumnSortLink(l)):(this._focusOutHandler(t(a)),this._hideTableHeaderColumnSortLink(l,!0),this._hideTableHeaderColumnSortLink(l,!1))),this._updateHeaderColumnStateCellsClass(l)}},_setLastHeaderColumnSelection:function(e,t){this._lastSelectedColumnIdxArray||(this._lastSelectedColumnIdxArray=[]);var l,o=this._lastSelectedColumnIdxArray.length;for(l=0;l<o;l++)if(this._lastSelectedColumnIdxArray[l]==e){this._lastSelectedColumnIdxArray.splice(l,1);break}t&&this._lastSelectedColumnIdxArray.push(e)},_setLastRowSelection:function(e,t){this._lastSelectedRowIdxArray||(this._lastSelectedRowIdxArray=[]);var l,o=this._lastSelectedRowIdxArray.length;for(l=0;l<o;l++)if(this._lastSelectedRowIdxArray[l]==e){this._lastSelectedRowIdxArray.splice(l,1);break}t&&this._lastSelectedRowIdxArray.push(e)},_setNextRowEditable:function(e,t){var l=this._getTableDomUtils().getTableBodyRows(),o=null!=l?l.length:0,i=this._getEditableRowIdx();i>=0&&i<o-1?(this._setTableEditable(!1,!1,e,!0,t),this._setCurrentRow({rowIndex:i+1},t,!1),this._setTableEditable(!0,!1,e,!0,t)):i===o-1&&(this._setTableEditable(!1,!1,e,!0,t),this._getTableDomUtils().getTable().focus())},_setPreviousRowEditable:function(e,t){var l=this._getEditableRowIdx();l>=1?(this._setTableEditable(!1,!1,e,!1,t),this._setCurrentRow({rowIndex:l-1},t,!1),this._setTableEditable(!0,!1,e,!1,t)):0===l&&(this._setTableEditable(!1,!1,e,!1,t),this._getTableDomUtils().getTable().focus())},_setRowFocus:function(e,l,o,i,s){if(-1==e)return null!=(n=this._getFocusedRowIdx())&&this._setRowFocus(n,!1,o,null,null),!(o&&!this._setCurrentRow(null,s,!1));var a=this._getTableDomUtils().getTableBodyRow(e);if(!a)return!1;if(l){var n;if(null!=(n=this._getFocusedRowIdx())&&n!=e&&this._setRowFocus(n,!1,o,i,null),o){var r=this._getRowKeyForRowIdx(e);if(!this._setCurrentRow({rowKey:r},s,!1))return!1}this._focusInHandler(t(a)),this._scrollRowIntoViewport(e),this._updateRowStateCellsClass(e,{focused:!0,hover:!1}),this._clearFocusedHeaderColumn(),this._clearSelectedHeaderColumns(),this._setTableActionableMode(!1)}else this._focusOutHandler(t(a)),this._updateRowStateCellsClass(e,{focused:!1});return!0},_setRowSelection:function(t,l,o,i,s,a){if(this._getRowSelectionMode()==this._OPTION_SELECTION_MODES._SINGLE||this._getRowSelectionMode()==this._OPTION_SELECTION_MODES._MULTIPLE){if((isNaN(t)||t<0)&&e.Logger.error("Error: Invalid row selection value: "+t),!a&&"true"==new String(this.options.selectionRequired).toLowerCase()&&!l){var n=this._getSelectedRowIdxs();if(null!=n&&1==n.length)return}this._getRowSelectionMode()==this._OPTION_SELECTION_MODES._SINGLE&&l&&this._clearSelectedRows();var r=this._getTableDomUtils().getTableBodyRow(t);if(null!=r){var _=!1;if(r.classList.contains(e.TableDomUtils.MARKER_STYLE_CLASSES._SELECTED)!=l){l?r.classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._SELECTED):r.classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._SELECTED),_=!0;var S=this.options.dnd.drag;S&&("rows"===S||S.rows)&&(r.draggable=l)}if(_&&(l?this._updateRowStateCellsClass(t,{hover:!1,focused:!1,selected:!0}):this._updateRowStateCellsClass(t,{selected:!1})),this._setLastRowSelection(t,l),this._getTableDomUtils().getTableBodyCellAccSelect(r).getElementsByClassName(e.TableDomUtils.CSS_CLASSES._CHECKBOX_ACC_SELECT_ROW_CLASS)[0].checked=l,s){var T=this._getSelection();if(this.option("selection",T,{_context:{writeback:!0,internalSet:!0}}),null!=T&&T.length>0){var d=T[0].startKey;if(null!=d&&null!=d[this._CONST_ROW]){var h=this.getDataForVisibleRow(this._getRowIdxForRowKey(d[this._CONST_ROW]));if(h)return void this.option("firstSelectedRow",{key:h[this._CONST_KEY],data:h[this._CONST_DATA]},{_context:{writeback:!0,internalSet:!0}})}}this.option("firstSelectedRow",{key:null,data:null},{_context:{writeback:!0,internalSet:!0}})}}}},_setSelection:function(t){if(null==t)return this._clearSelectedRows(),void this._clearSelectedHeaderColumns();var l,o,i,s,a,n,r,_,S,T,d,h,u=t.length;for(l=0;l<u;l++){if(null==(i=t[l]).startKey&&null==i[this._CONST_STARTINDEX]||null==i.endKey&&null==i[this._CONST_ENDINDEX])return e.Logger.error("Error: Invalid range object in selection. Both start and end objects must be specified"),null;if(s=null,a=null,n=null,r=null,_=null,S=null,T=null,d=null,h=!1,null!=i.startKey&&null!=i.startKey[this._CONST_ROW]&&(n=this._getDataSourceRowIndexForRowKey(i.startKey[this._CONST_ROW]),null!=i[this._CONST_STARTINDEX]&&null!=i[this._CONST_STARTINDEX][this._CONST_ROW]&&n!=i[this._CONST_STARTINDEX][this._CONST_ROW]&&(h=!0)),null!=i.endKey&&null!=i.endKey[this._CONST_ROW]&&(r=this._getDataSourceRowIndexForRowKey(i.endKey[this._CONST_ROW]),null!=i[this._CONST_ENDINDEX]&&null!=i[this._CONST_ENDINDEX][this._CONST_ROW]&&r!=i[this._CONST_ENDINDEX][this._CONST_ROW]&&(h=!0)),null!=i.startKey&&null!=i.startKey[this._CONST_COLUMN]&&(T=this._getColumnIdxForColumnKey(i.startKey[this._CONST_COLUMN]),null!=i[this._CONST_STARTINDEX]&&null!=i[this._CONST_STARTINDEX][this._CONST_COLUMN]&&T!=i[this._CONST_STARTINDEX][this._CONST_COLUMN]&&(h=!0)),null!=i.endKey&&null!=i.endKey[this._CONST_COLUMN]&&(d=this._getColumnIdxForColumnKey(i.endKey[this._CONST_COLUMN]),null!=i[this._CONST_ENDINDEX]&&null!=i[this._CONST_ENDINDEX][this._CONST_COLUMN]&&d!=i[this._CONST_ENDINDEX][this._CONST_COLUMN]&&(h=!0)),null==n&&null!=i[this._CONST_STARTINDEX]&&(n=i[this._CONST_STARTINDEX][this._CONST_ROW]),null==r&&null!=i[this._CONST_ENDINDEX]&&(r=i[this._CONST_ENDINDEX][this._CONST_ROW]),null==T&&null!=i[this._CONST_STARTINDEX]&&(T=i[this._CONST_STARTINDEX][this._CONST_COLUMN]),null==d&&null!=i[this._CONST_ENDINDEX]&&(d=i[this._CONST_ENDINDEX][this._CONST_COLUMN]),null!=n&&null!=r&&null!=T&&null!=d)return e.Logger.error("Error: Invalid range object in selection - Can only support row or column selection. Not both"),null;if(null!=n&&n>=0&&null!=r&&r>=0)for(s=this._getRowKeyForDataSourceRowIndex(n),a=this._getRowKeyForDataSourceRowIndex(r),_=this._getRowIdxForRowKey(s),S=this._getRowIdxForRowKey(a),o=_;o<=S;o++)try{this._setRowSelection(o,!0,null,null,h)}catch(t){e.Logger.error("Error: "+t)}else{if(null==T||null==d)return e.Logger.error("Error: Invalid range object in selection - \n start row: "+n+"\nend row: "+r+"\nstart column: "+T+"\nend column: "+d),null;for(o=T;o<=d;o++)try{this._setHeaderColumnSelection(o,!0,null,null,h)}catch(t){e.Logger.error("Error: "+t)}}}},_setSelectionDefault:function(){if("true"==new String(this.options.selectionRequired).toLowerCase())if(this._getRowSelectionMode()==this._OPTION_SELECTION_MODES._MULTIPLE||this._getRowSelectionMode()==this._OPTION_SELECTION_MODES._SINGLE){var e=this._getSelectedRowIdxs();null!=e&&0!=e.length||this._setRowSelection(0,!0,null,null,!0)}else if(this._getColumnSelectionMode()==this._OPTION_SELECTION_MODES._MULTIPLE||this._getColumnSelectionMode()==this._OPTION_SELECTION_MODES._SINGLE){var t=this._getSelectedHeaderColumnIdxs();null!=t&&0!=t.length||this._setHeaderColumnSelection(0,!0,null,null,!0)}},_setTableActionableMode:function(e){if(this._isTableEditMode())this._tableActionableMode=!1;else if(!(null!=this._tableActionableMode&&this._tableActionableMode===e||null==this._tableActionableMode&&!1===e))if(e){var l=this._getFocusedRowIdx(),o=this._getFocusedHeaderColumnIdx();if(null!=l||null!=o){var i;if(null!=(i=null!=l?this._getTableDomUtils().getTableBodyRow(l):this._getTableDomUtils().getTableHeaderColumn(o))){var s=this._getTabbableElements(i);null!=s&&s.length>0&&(this._tableActionableMode=e,s[0].focus())}}}else{this._tableActionableMode=e;var a=this._getTableDomUtils().getTableBody();t.contains(a,document.activeElement)&&this._getTableDomUtils().getTable().focus()}},_setTableEditable:function(t,l,o,i,s){if(this._isTableEditMode()){var a=this._getCurrentRow();if(null!=a){var n,r=a.rowKey,_=this._getRowIdxForRowKey(r);try{if(t&&!this._hasEditableRow()){var S=this._getTableDomUtils().getTableBodyRow(_),T=e.TableRendererUtils.getRendererContextObject(this,S,{row:{key:r,index:a.rowIndex},isCurrentRow:!0});n=this._trigger("beforeRowEdit",s,{rowContext:T})}else{if(t||!this._hasEditableRow())return;S=this._getTableDomUtils().getTableBodyRow(this._getEditableRowIdx()),r=this._getRowKeyForRowIdx(this._getEditableRowIdx()),T=e.TableRendererUtils.getRendererContextObject(this,S,{row:{key:r,index:this._getDataSourceRowIndexForRowKey(r)},isCurrentRow:!0}),n=this._trigger("beforeRowEditEnd",s,{rowContext:T,cancelEdit:l})}}catch(e){return!1}if(!n)return!1;var d=this._getEditableRowIdx(),h=this;t?(this._setEditableRowIdx(_),this._refreshRow(_,!1).then(function(){h._queueTask(function(){var e=_,t=o,l=i;h._setCellInRowFocus(e,t,l)})})):(this._setEditableRowIdx(null),this._getTableDomUtils().getTable().focus()),null!=d&&null!=this._getTableDomUtils().getTableBodyRow(d)&&this._refreshRow(d,!1).then(function(){h._queueTask(function(){var t=d,l=this._getTableDomUtils().getTableBodyRow(t);null!=l&&l.classList.remove(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_EDIT_CLASS)})})}}},_showInlineMessage:function(t,l,o){if(!this._inlineMessageShown){this._getTableDomUtils().setTableInlineMessage(t,l,o);var i=this._getTableDomUtils().getTableInlineMessage(),s=this._getTableDomUtils().getTableContainer();o==e.Message.SEVERITY_LEVEL.WARNING&&(s.classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._WARNING),i.classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._WARNING)),i.style[e.TableDomUtils.CSS_PROP._DISPLAY]=e.TableDomUtils.CSS_VAL._BLOCK,
i.style[e.TableDomUtils.CSS_PROP._WIDTH]="100%",i.style[e.TableDomUtils.CSS_PROP._BOX_SIZING]=e.TableDomUtils.CSS_VAL._BORDER_BOX,this._inlineMessageShown=!0}},_showNoDataMessage:function(){if(!this._noDataMessageShown){var e,t=this._getTableDomUtils().getTableBodyMessageRow(),l=this._getData();e=null!=this.options.emptyText?this.options.emptyText:this.getTranslatedString(this._BUNDLE_KEY._MSG_NO_DATA);var o=null!=l?e:this.getTranslatedString(this._BUNDLE_KEY._MSG_INITIALIZING);null==t?this._getTableDomUtils().createTableBodyMessageRow(this._getColumnDefs().length,o):this._getTableDomUtils().setTableBodyMessage(o),this._noDataMessageShown=!0}},_showStatusMessage:function(){if(!this._showStatusTimeout&&!this._statusMessageShown){var t=this._getTableDomUtils().getTableStatusMessage(),l=this;this._showStatusTimeout=setTimeout(function(){t.style[e.TableDomUtils.CSS_PROP._DISPLAY]=e.TableDomUtils.CSS_VAL._INLINE,l._statusMessageShown=!0,l._getTableDomUtils().refreshTableStatusPosition()},this._getShowStatusDelay())}},_getShowStatusDelay:function(){var t;return null==this._defaultOptions&&(this._defaultOptions=e.ThemeUtils.parseJSONFromFontFamily("oj-table-option-defaults")),t=parseInt(this._defaultOptions.showIndicatorDelay,10),isNaN(t)?0:t},_showTableHeaderColumnSortLink:function(l){if(this._getColumnDefs()[l].sortable==this._OPTION_ENABLED){var o=this._getTableDomUtils().getTableHeaderColumn(l);if(!o)return;if(null==t(o).data("sorted")){var i=o.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_ASC_LINK_CLASS);i.length>0&&((i=i[0]).classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._ENABLED),i.classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._DISABLED));var s=o.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_ASC_CLASS);s.length>0&&(s=s[0]).classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._DISABLED);var a=o.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DSC_CLASS);a.length>0&&(a=a[0]).classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._DISABLED)}}},_touchEventDoubleTapFunction:function(e,l){var o=t(e.target);null!=this._lastTapTime&&(new Date).getTime()-this._lastTapTime<250&&this._lastTapTarget[0]==o[0]?(this._lastTapTime=null,this._lastTapTarget=null,l()):(this._lastTapTarget=o,this._lastTapTime=(new Date).getTime())},_unregisterChildStateListeners:function(e){var t,l=this,o=e.querySelectorAll("*");for(t=0;t<o.length;t++)l._UnregisterChildNode(o[t]);l=null},_unregisterDataSourceEventListeners:function(){var e=this._getData();if(null!=this._dataProviderEventHandlers&&null!=e){var t,l=this._dataProviderEventHandlers.length;for(t=0;t<l;t++)e.removeEventListener(this._dataProviderEventHandlers[t].eventType,this._dataProviderEventHandlers[t].eventHandler)}},_unregisterResizeListener:function(){var t=this._getTableDomUtils().getTableContainer();e.DomUtils.removeResizeListener(t,this._resizeListener),this._isResizeListenerAdded=!1},_updateHeaderColumnStateCellsClass:function(t,l){var o=this._getHeaderColumnSelection(t),i=this._getSelectedRowIdxs(),s=this._getTableDomUtils().getTableBodyRows();if(null!=s&&s.length>0){var a,n,r,_,S,T=s.length;for(a=0;a<T;a++)if(r=this._getTableDomUtils().getTableBodyCell(a,t),o)r.classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._SELECTED);else{for(_=!1,S=i.length,n=0;n<S;n++)if(a==i[n]){_=!0;break}_||r.classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._SELECTED)}}},_updateRowStateCellsClass:function(l,o,i){var s=this._getTableDomUtils().getTableBodyCells(l),a=o.focused,n=o.selected,r=o.hover;if(s){if(null!=r){var _=s.length;for(S=0;S<_;S++)r?s[S].classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._HOVER):s[S].classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._HOVER)}if(null!=a)for(_=s.length,S=0;S<_;S++)a?this._focusInHandler(t(s[S])):this._focusOutHandler(t(s[S]));var S;if(null!=n)for(_=s.length,S=0;S<_;S++)n?s[S].classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._SELECTED):s[S].classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._SELECTED)}},_setFinalTask:function(e){this._finalTask=e?e.bind(this):void 0},_hasPendingTasks:function(){return this._taskCount>1},_queueTask:function(t){var l=this;return this._pendingTasks||(this._taskCount=0,this._pendingTasks=Promise.resolve(),this._setComponentNotReady()),this._taskCount++,this._pendingTasks=this._pendingTasks.then(function(){if(!l._componentDestroyed)return t.bind(l)()}).then(function(t){if(l._taskCount--,0==l._taskCount){l._pendingTasks=void 0;try{l._componentDestroyed||(l._finalTask&&l._finalTask(),l._trigger("ready"))}catch(t){e.Logger.error(t)}l._setComponentReady(),l=null}return t},function(t){return l._taskCount--,0==l._taskCount&&(l._pendingTasks=void 0,e.Logger.error(t),l._setComponentReady(),l=null),Promise.reject(t)}),this._pendingTasks},_CompareOptionValues:function(t,l,o){switch(t){case"columns":case"currentRow":case"selection":return e.Object.compareValues(l,o);default:return this._super(t,l,o)}}}),e.Components.setDefaultOptions({ojTable:{display:e.Components.createDynamicPropertyGetter(function(){return(e.ThemeUtils.parseJSONFromFontFamily("oj-table-option-defaults")||{}).display})}}),e.TableAnimationUtils=function(e){this.component=e,this.options=e.options,this.Init()},e.Object.createSubclass(e.TableAnimationUtils,e.Object,"oj.TableAnimationUtils"),e.TableAnimationUtils.prototype.Init=function(){e.TableAnimationUtils.superclass.Init.call(this)},e.TableAnimationUtils.prototype.animateTableBodyRow=function(e,t){if(this._isAnimationDisabled(t))return Promise.resolve(!1);var l=this;return new Promise(function(o,i){l._startAnimation(e,t).then(function(){o(!0)})})},e.TableAnimationUtils.prototype.animateTableBodyRows=function(e,t){if(this._isAnimationDisabled(t))return Promise.resolve(!1);var l,o,i=this,s=[];for(l=0;l<e.length;l++)o=e[l],s.push(function(e){return i.animateTableBodyRow(e,t)}(o));return s.length>0?Promise.all(s):Promise.resolve(!1)},e.TableAnimationUtils.prototype._getAnimationEffect=function(t){var l;return null==this.defaultAnimations&&(l=e.ThemeUtils.parseJSONFromFontFamily("oj-table-option-defaults"),this.defaultAnimations=l.animation||{}),this.defaultAnimations[t]},e.TableAnimationUtils.prototype._isAnimationDisabled=function(e){var t=this._getAnimationEffect(e);return null==t||0==t.length},e.TableAnimationUtils.prototype._startAnimation=function(t,l,o){return null==o&&(o=this._getAnimationEffect(l)),e.AnimationUtils.startAnimation(t,l,o,this.component)},e.TableDndContext=function(e){this.component=e,this.options=e.options,this.Init()},e.Object.createSubclass(e.TableDndContext,e.Object,"oj.TableDndContext"),e.TableDndContext.prototype.Init=function(){e.TableDndContext.superclass.Init.call(this)},e.TableDndContext.prototype._addDragMarkerClass=function(t){this._getTableDomUtils().getTableHeaderColumn(t).classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._DRAG),this._getTableDomUtils().setTableColumnCellsClass(t,!0,e.TableDomUtils.MARKER_STYLE_CLASSES._DRAG)},e.TableDndContext.prototype._removeDragMarkerClass=function(){var t=this._getTableDomUtils().getTableHeader().querySelectorAll("."+e.TableDomUtils.MARKER_STYLE_CLASSES._DRAG);if(null!=t&&t.length>0){var l,o=t.length;for(l=0;l<o;l++)t[l].classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._DRAG)}this._getTableDomUtils().setTableColumnCellsClass(null,!1,e.TableDomUtils.MARKER_STYLE_CLASSES._DRAG)},e.TableDndContext.prototype._cloneTableContainer=function(l){var o,i=l.querySelectorAll(e.TableDomUtils.DOM_ELEMENT._TBODY)[0],s=t(i).scrollLeft(),a=t(i).scrollTop(),n=(o=l.cloneNode(!0)).querySelectorAll(e.TableDomUtils.DOM_ELEMENT._TBODY)[0];return n.style[e.TableDomUtils.CSS_PROP._OVERFLOW]=e.TableDomUtils.CSS_VAL._HIDDEN,n.style[e.TableDomUtils.CSS_PROP._OVERFLOW_X]=e.TableDomUtils.CSS_VAL._HIDDEN,n.style[e.TableDomUtils.CSS_PROP._OVERFLOW_Y]=e.TableDomUtils.CSS_VAL._HIDDEN,n.style[e.TableDomUtils.CSS_PROP._BACKGROUND_COLOR]=e.TableDomUtils.CSS_VAL._TRANSPARENT,n.style[e.TableDomUtils.CSS_PROP._WIDTH]=t(i).width()+e.TableDomUtils.CSS_VAL._PX,n.style[e.TableDomUtils.CSS_PROP._HEIGHT]=t(i).height()+e.TableDomUtils.CSS_VAL._PX,o.style[e.TableDomUtils.CSS_PROP._POSITION]=e.TableDomUtils.CSS_VAL._ABSOLUTE,o.style[e.TableDomUtils.CSS_PROP._TOP]=-1e4+e.TableDomUtils.CSS_VAL._PX,t(n).scrollLeft(1*s),t(n).scrollTop(1*a),document.body.appendChild(o),o},e.TableDndContext.prototype._destroyDragImage=function(){this._dragImage&&(t(this._dragImage).remove(),this._dragImage=null)},e.TableDndContext.prototype._getEventColumnIndex=function(e){return this._getTableDomUtils().getElementColumnIdx(e.currentTarget)},e.TableDndContext.prototype._getOverRowIndex=function(l){var o,i=t(l.target).closest(e.TableDomUtils.DOM_ELEMENT._TR),s=this.component.getContextByNode(l.target);if(s&&"oj-table-cell"==s.subId)o=s.rowIndex;else if(i&&i.hasClass(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_DRAG_INDICATOR_BEFORE_CLASS))o=this._dropRowIndex;else{var a=this._getTableDomUtils().getTableBodyRows();o=a?a.length:0}return o},e.TableDndContext.prototype._getTableDomUtils=function(){return this.component._getTableDomUtils()},e.TableDndContext.prototype.handleColumnDragStart=function(e){if(this._isColumnReorderEnabled()){var t=this._getEventColumnIndex(e);return this._dragStartColumnIdx=t,this._setReorderColumnsDataTransfer(e,t),this.component._setSelection(null),this.component.option("selection",null,{_context:{writeback:!0,internalSet:!0}}),setTimeout(function(){window.getSelection().removeAllRanges()},0),this._addDragMarkerClass(t),!0}},e.TableDndContext.prototype.handleColumnDragEnd=function(e){this._isColumnReorderEnabled()&&(this.setTableHeaderColumnDraggable(null,!1),this._dragStartColumnIdx=null,this._getTableDomUtils().removeDragOverIndicatorColumn(),this._getTableDomUtils().removeTableHeaderColumnDragImage(),this._removeDragMarkerClass())},e.TableDndContext.prototype.handleColumnDragEnter=function(e){if(!this._isColumnReordering()){var t=this._getEventColumnIndex(e);return this._invokeDropCallback("columns","dragEnter",e,{columnIndex:t})}},e.TableDndContext.prototype.handleColumnReorderDragOver=function(e){var t=this._getEventColumnIndex(e),l=this._dragStartColumnIdx;null!=l&&l!=t&&(this._currentDropColumnBefore=this._isDragOverBeforeColumn(e),this._currentDropColumnBefore&&l==t-1||!this._currentDropColumnBefore&&l==t+1||this._getTableDomUtils().displayDragOverIndicatorColumn(t,this._currentDropColumnBefore),e.preventDefault())},e.TableDndContext.prototype.handleColumnDragOver=function(e){if(this._isColumnReordering())return this.handleColumnReorderDragOver(e);var t=this._getEventColumnIndex(e);this._currentDropColumnBefore=this._isDragOverBeforeColumn(e);var l=this._invokeDropCallback("columns","dragOver",e,{columnIndex:t});return(!1===l||e.isDefaultPrevented())&&this._getTableDomUtils().displayDragOverIndicatorColumn(t,this._isDragOverBeforeColumn(e)),l},e.TableDndContext.prototype.handleColumnDragLeave=function(e){if(!this._isColumnReordering()){this._getTableDomUtils().removeDragOverIndicatorColumn();var t=this._getEventColumnIndex(e);return this._invokeDndCallback("drop","columns","dragLeave",e,{columnIndex:t})}},e.TableDndContext.prototype.handleColumnReorderDrop=function(e){var t=this._getEventColumnIndex(e);this._currentDropColumnBefore||t++,this.component._columnsDestMap=this._getTableDomUtils().moveTableHeaderColumn(this._dragStartColumnIdx,t,e),e.preventDefault()},e.TableDndContext.prototype.handleColumnDrop=function(e){if(this._isColumnReordering())return this.handleColumnReorderDrop(e);this._getTableDomUtils().removeDragOverIndicatorColumn();var t=this._getEventColumnIndex(e);return this._currentDropColumnBefore||t++,this._invokeDropCallback("columns","drop",e,{columnIndex:t})},e.TableDndContext.prototype.handleRowDragStart=function(e){var t=this.options.dnd.drag;if(t&&t.rows){var l=this._setDragRowsDataTransfer(e,t.rows.dataTypes,this.component._getSelectedRowIdxs());return!!l&&this._invokeDndCallback("drag","rows","dragStart",e,l)}},e.TableDndContext.prototype.handleRowDrag=function(e){return this._invokeDndCallback("drag","rows","drag",e)},e.TableDndContext.prototype.handleRowDragEnd=function(e){return this._destroyDragImage(),this._invokeDndCallback("drag","rows","dragEnd",e)},e.TableDndContext.prototype.handleRowDragEnter=function(e){var t=this._getOverRowIndex(e),l=this._invokeDropCallback("rows","dragEnter",e,{rowIndex:t});return(!1===l||e.isDefaultPrevented())&&this._updateDragRowsState(e,t),l},e.TableDndContext.prototype.handleRowDragOver=function(e){return this._invokeDropCallback("rows","dragOver",e,{rowIndex:this._dropRowIndex})},e.TableDndContext.prototype.handleRowDragLeave=function(e){var t=this._invokeDndCallback("drop","rows","dragLeave",e,{rowIndex:this._dropRowIndex});return this._isDndEventInElement(e,e.currentTarget)||(this._getTableDomUtils().removeDragOverIndicatorRow(),this._dropRowIndex=null),t},e.TableDndContext.prototype.handleRowDrop=function(e){var t=this._dropRowIndex;return this._getTableDomUtils().removeDragOverIndicatorRow(),this._dropRowIndex=null,this._invokeDropCallback("rows","drop",e,{rowIndex:t})},e.TableDndContext.prototype._hideUnselectedRows=function(t,l){for(var o,i=null,s=(o=t.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_CLASS)).length-1;s>=0;s--)-1==l.indexOf(s)?o[s].style[e.TableDomUtils.CSS_PROP._VISIBILITY]=e.TableDomUtils.CSS_VAL._HIDDEN:i=s;var a=t.querySelectorAll(e.TableDomUtils.DOM_ELEMENT._THEAD);null!=a&&a.length>0&&(a[0].style[e.TableDomUtils.CSS_PROP._VISIBILITY]=e.TableDomUtils.CSS_VAL._HIDDEN);var n=t.querySelectorAll(e.TableDomUtils.DOM_ELEMENT._TFOOT);return null!=n&&n.length>0&&(n[0].style[e.TableDomUtils.CSS_PROP._VISIBILITY]=e.TableDomUtils.CSS_VAL._HIDDEN),i},e.TableDndContext.prototype._invokeDndCallback=function(t,l,o,i,s){var a,n=this.options.dnd[t];if(n&&n[l]){var r=n[l][o];if(r&&"function"==typeof r)try{this.component._IsCustomElement()?r(i.originalEvent,s):(i.dataTransfer=i.originalEvent.dataTransfer,a=r(i,s))}catch(t){e.Logger.error("Error: "+t)}}return a},e.TableDndContext.prototype._invokeDropCallback=function(e,t,l,o){var i=this._invokeDndCallback("drop",e,t,l,o);return void 0===i&&this._matchDragDataType(l,e)&&l.preventDefault(),i},e.TableDndContext.prototype._isColumnReorderEnabled=function(){var e=this.options.dnd;return!(!e||!e.reorder||e.reorder.columns!=this.component._OPTION_ENABLED)},e.TableDndContext.prototype._isColumnReordering=function(){return null!=this._dragStartColumnIdx},e.TableDndContext.prototype._isDndEventInElement=function(e,t){var l=t.getBoundingClientRect(),o=e.originalEvent;return o.clientX>=Math.ceil(l.left)&&o.clientX<Math.floor(l.right)&&o.clientY>=Math.ceil(l.top)&&o.clientY<Math.floor(l.bottom)},e.TableDndContext.prototype._isDragOverBeforeColumn=function(t){var l=t.currentTarget.getBoundingClientRect();if(null!=t.originalEvent.clientX){var o=l.right-t.originalEvent.clientX<(l.right-l.left)/2;return"rtl"===e.DomUtils.getReadingDirection()?o:!o}return!1},e.TableDndContext.prototype._matchDragDataType=function(e,t){var l=e.originalEvent.dataTransfer.types,o=this.options.dnd.drop;if(o&&o[t]&&o[t].dataTypes)for(var i=o[t].dataTypes,s="string"==typeof i?[i]:i,a=0;a<l.length;a++)if(s.indexOf(l[a])>=0)return!0;return!1},e.TableDndContext.prototype._setHeaderColumnDraggable=function(t,l){t.draggable=l,l&&(t.style[e.TableDomUtils.CSS_PROP._CURSOR]=e.TableDomUtils.CSS_VAL._MOVE,t.classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._DRAGGABLE))},e.TableDndContext.prototype._clearHeaderColumnDraggable=function(t){t.draggable="",t.style[e.TableDomUtils.CSS_PROP._CURSOR]=e.TableDomUtils.CSS_VAL._AUTO,t.classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._DRAGGABLE)},e.TableDndContext.prototype._setDragRowsData=function(e,t,l){if(t){var o=e.dataTransfer,i=JSON.stringify(l);if("string"==typeof t)o.setData(t,i);else for(var s=0;s<t.length;s++)o.setData(t[s],i)}},e.TableDndContext.prototype._setDragRowsDataTransfer=function(l,o,i){for(var s=[],a=0;a<i.length;a++){var n=this.component.getDataForVisibleRow(i[a]);n&&s.push(n)}return s.length?(this._setDragRowsData(l.originalEvent,o,s),this._dragImage=this._setDragRowsImage(l.originalEvent,t(l.currentTarget).closest(e.TableDomUtils.DOM_ELEMENT._TABLE).parent()[0],i),{rows:s}):null},e.TableDndContext.prototype._setDragRowsImage=function(l,o,i){var s=this._cloneTableContainer(o);this._hideUnselectedRows(s,i);var a=o.getBoundingClientRect(),n=o.querySelectorAll(e.TableDomUtils.DOM_ELEMENT._TBODY)[0],r=t(n).scrollLeft(),_=t(n).scrollTop(),S=l.clientX-a.left+r,T=l.clientY-a.top+_;return l.dataTransfer.setDragImage(s,S,T),s},e.TableDndContext.prototype._setReorderColumnsDataTransfer=function(e,t){var l=e.originalEvent.dataTransfer,o=this._getTableDomUtils().hashCode(this._getTableDomUtils().getTableUID());l.setData("Text",this.component._DND_REORDER_TABLE_ID_DATA_KEY+":"+o+":"+t);var i=this._getTableDomUtils().createTableHeaderColumnDragImage(t);try{l.setDragImage(i,0,0)}catch(e){}},e.TableDndContext.prototype.setTableHeaderColumnDraggable=function(e,t){if(this._isColumnReorderEnabled()){var l,o=this._getTableDomUtils().getTableHeaderColumns();if(null!=o&&o.length>0)for(l=0;l<o.length;l++){var i=o[l];null!=e&&l==e?this._setHeaderColumnDraggable(i,t):this._clearHeaderColumnDraggable(i)}}},e.TableDndContext.prototype._updateDragRowsState=function(l,o){if(this._dropRowIndex!=o){var i=t(l.target).closest(e.TableDomUtils.DOM_ELEMENT._TR)[0];this._dropRowIndex=o,this._getTableDomUtils().displayDragOverIndicatorRow(this._dropRowIndex,!0,i)}},e.TableDomUtils=function(e){this.component=e,this.options=e.options,this.element=e.element[0],this.OuterWrapper=e.OuterWrapper,this.Init()},e.Object.createSubclass(e.TableDomUtils,e.Object,"oj.TableDomUtils"),e.TableDomUtils.prototype.Init=function(){e.TableDomUtils.superclass.Init.call(this)},e.TableDomUtils.prototype.clearCachedDom=function(){this.clearCachedDomRowData(),this._clearCachedDom(null),this._tableDimensions=null},e.TableDomUtils.prototype.clearCachedDomRowData=function(){this._cachedDomTableBodyRows=null},e.TableDomUtils.prototype.createAccLabelSpan=function(t,l){var o=document.createElement("span");return null!=l&&o.classList.add(l),o.classList.add(e.TableDomUtils.CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS),o.appendChild(document.createTextNode(t)),o},e.TableDomUtils.prototype.createContextMenu=function(l){var o=this.component._GetContextMenu(),i=!!this.component._isTouchDevice()&&this.component._getRowSelectionMode()==this.component._OPTION_SELECTION_MODES._MULTIPLE;if(o){var s=o.querySelectorAll("[data-oj-command]");if(null!=s&&s.length>0){var a,n,r;for(n=0;n<s.length;n++)"OJ-OPTION"!==s[n].tagName&&0!==s[n].getElementsByTagName(e.TableDomUtils.DOM_ELEMENT._A).length||(a=s[n].getAttribute("data-oj-command").split("-"),r=this.createContextMenuItem(a[a.length-1],this.component._IsCustomElement()),"OJ-OPTION"===s[n].tagName?s[n].innerHTML=r.innerHTML:t(s[n]).replaceWith(r));this._menuContainer=o,t(o).data("oj-ojMenu")&&(this.component._IsCustomElement()?o.refresh():t(o).ojMenu("refresh")),this.component._IsCustomElement()?o.addEventListener("ojAction",l):t(o).on("ojselect",l)}}else if(this.component._isTableSortable()||i||this.component._isTableColumnsResizable()){if((o=document.createElement(e.TableDomUtils.DOM_ELEMENT._UL)).style[e.TableDomUtils.CSS_PROP._DISPLAY]=e.TableDomUtils.CSS_VAL._NONE,o.setAttribute(e.TableDomUtils.DOM_ATTR._ID,this.getTableId()+"_contextmenu"),this.getTableContainer().appendChild(o),this.component._isTableSortable()){var _=this.createContextMenuItem("sort");o.appendChild(_)}if(i){var S=this.createContextMenuItem("enableNonContiguousSelection");o.appendChild(S)}if(this.component._isTableColumnsResizable()){var T=this.createContextMenuItem("resize");o.appendChild(T)}t(o).ojMenu(),this._menuContainer=o,t(o).on("ojselect",l),this.options.contextMenu,this.component.option("contextMenu","#"+o.getAttribute(e.TableDomUtils.DOM_ATTR._ID),{_context:{internalSet:!0}}),this.component._defaultContextMenu=o}return o},e.TableDomUtils.prototype.createContextMenuItem=function(t,l){if("sort"===t){var o=this.createContextMenuListItem(t,l),i=document.createElement(e.TableDomUtils.DOM_ELEMENT._UL);return o.appendChild(i),i.appendChild(this.createContextMenuListItem("sortAsc",l)),i.appendChild(this.createContextMenuListItem("sortDsc",l)),o}return"sortAsc"===t?this.createContextMenuListItem(t,l):"sortDsc"===t?this.createContextMenuListItem(t,l):"enableNonContiguousSelection"==t?this.createContextMenuListItem(t,l):"disableNonContiguousSelection"==t?this.createContextMenuListItem(t,l):"resize"===t?(this.createContextMenuResizePopup(0),this.createContextMenuListItem(t)):null},e.TableDomUtils.prototype.createContextMenuListItem=function(e,t){var l=document.createElement(t?"oj-option":"li");return l.setAttribute("data-oj-command","oj-table-"+e),l.appendChild(this.createContextMenuLabel(e,t)),l},e.TableDomUtils.prototype.createContextMenuLabel=function(t,l){var o=null;"sort"==t?o=this.component.getTranslatedString("labelSort"):"sortAsc"==t?o=this.component.getTranslatedString("labelSortAsc"):"sortDsc"==t?o=this.component.getTranslatedString("labelSortDsc"):"enableNonContiguousSelection"==t?o=this.component.getTranslatedString("labelEnableNonContiguousSelection"):"disableNonContiguousSelection"==t?o=this.component.getTranslatedString("labelDisableNonContiguousSelection"):"resize"==t&&(o=this.component.getTranslatedString("labelResize"));var i=document.createTextNode(o);if(l)return i;var s=document.createElement(e.TableDomUtils.DOM_ELEMENT._A);return s.setAttribute(e.TableDomUtils.DOM_ATTR._HREF,"#"),s.appendChild(i),s},e.TableDomUtils.prototype.createContextMenuResizePopup=function(l){l=Math.round(l);var o=this.getContextMenuResizePopup();if(null==o){var i=this.getTableContainer();(o=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV)).setAttribute("id",this.getTableId()+"_resize_popup"),o.setAttribute("data-oj-context",""),i.appendChild(o);var s=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV),a=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV);o.appendChild(s),o.appendChild(a),(_=document.createElement(e.TableDomUtils.DOM_ELEMENT._INPUT)).setAttribute("id",this.getTableId()+"_resize_popup_spinner");var n=document.createElement(e.TableDomUtils.DOM_ELEMENT._LABEL);n.setAttribute("for",this.getTableId()+"_resize_popup_spinner"),n.textContent=this.component.getTranslatedString("labelResizePopupSpinner");var r=document.createElement(e.TableDomUtils.DOM_ELEMENT._BUTTON);r.setAttribute("id",this.getTableId()+"_resize_popup_popupsubmit"),s.appendChild(n),s.appendChild(_),a.appendChild(r),t(r).ojButton({component:"ojButton",label:this.component.getTranslatedString("labelResizePopupSubmit")}),t(r).on("click",this.component._handleContextMenuResizePopup.bind(this.component)),t(_).ojInputNumber({component:"ojInputNumber",max:1e4,min:10,step:1,value:l,validators:[{type:"regExp",options:{pattern:"^[1-9][0-9]*$",messageDetail:this.component.getTranslatedString("msgColumnResizeWidthValidation")}}]}),t(o).ojPopup({modality:"modal",position:{my:"start top",at:"start bottom",collision:"flipfit"}}),this._cacheDomElement(this.getTableId()+"_resize_popup",o)}else{var _=document.getElementById(this.getTableId()+"_resize_popup_spinner");t(_).ojInputNumber("option","value",l)}return o},e.TableDomUtils.prototype.createInitialTable=function(e,t){var l=this.getTable();return this.createTableContainer(),e||this.createTableHeader(),t||this.createTableFooter(),this.createTableBody(),this.createTableStatusMessage(),this.createTableInlineMessage(),this.createTableStatusAccNotification(),l},e.TableDomUtils.prototype.createTableBody=function(){var t=this.getTable(),l=document.createElement(e.TableDomUtils.DOM_ELEMENT._TBODY);return t.appendChild(l),this._cacheDomElement(e.TableDomUtils.CSS_CLASSES._TABLE_BODY_CLASS,l),l},e.TableDomUtils.prototype.createTableBodyCell=function(t,l){return document.createElement(e.TableDomUtils.DOM_ELEMENT._TD)},e.TableDomUtils.prototype.createTableBodyCellAccSelect=function(t,l,o,i,s){var a=null;if(s||(a=this.getTableBodyCellAccSelect(i)),null!=a)return a;var n=null!=l?l.toString():t.toString(),r=null==o?this.hashCode(n):o;if((a=document.createElement(e.TableDomUtils.DOM_ELEMENT._TD)).classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_CELL_ACC_SELECT_CLASS),a.style.padding="0",a.style.border="0",!this.component._isTableHeaderless()){var _,S=this.options.accessibility;_=null!=S&&null!=S.rowHeader?S.rowHeader:this.component._getColumnDefs()[0].id;var T=this.getTableId()+":"+_+"_"+r;a.setAttribute(e.TableDomUtils.DOM_ATTR._HEADERS,this.getTableId()+":"+e.TableDomUtils._COLUMN_HEADER_ROW_SELECT_ID+" "+T)}var d=document.createElement(e.TableDomUtils.DOM_ELEMENT._INPUT);d.setAttribute(e.TableDomUtils.DOM_ATTR._ID,this.getTableId()+":acc_sel_row_"+r),d.setAttribute(e.TableDomUtils.DOM_ATTR._TYPE,"checkbox"),d.setAttribute(e.TableDomUtils.DOM_ATTR._TABINDEX,"-1");var h,u=this.options.editMode,c=null!=this.component._getRowSelectionMode();return h=u==this.component._OPTION_EDIT_MODE._ROW_EDIT?c?this.component.getTranslatedString(this.component._BUNDLE_KEY._LABEL_SELECT_AND_EDIT_ROW):this.component.getTranslatedString(this.component._BUNDLE_KEY._LABEL_EDIT_ROW):this.component.getTranslatedString(this.component._BUNDLE_KEY._LABEL_SELECT_ROW),d.setAttribute(e.TableDomUtils.DOM_ATTR._TITLE,h),d.classList.add(e.TableDomUtils.CSS_CLASSES._CHECKBOX_ACC_SELECT_ROW_CLASS),d.classList.add(e.TableDomUtils.CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS),this.component._getEditableRowIdx()==t?d.checked=!0:d.checked=!1,a.appendChild(d),i.insertBefore(a,i.firstChild),a},e.TableDomUtils.prototype.createTableBodyMessageCell=function(t,l,o){var i=document.createElement(e.TableDomUtils.DOM_ELEMENT._TD);return i.setAttribute(e.TableDomUtils.DOM_ATTR._COLSPAN,l+1),i.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_BODY_MESSAGE_CLASS),i.appendChild(document.createTextNode(o)),t.appendChild(i),i},e.TableDomUtils.prototype.createTableBodyMessageRow=function(t,l){var o=this.getTableBody(),i=document.createElement(e.TableDomUtils.DOM_ELEMENT._TR);return i.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_BODY_MESSAGE_ROW_CLASS),this.createTableBodyMessageCell(i,t,l),o.appendChild(i),i},e.TableDomUtils.prototype.createTableBodyRow=function(t,l){var o=document.createElement(e.TableDomUtils.DOM_ELEMENT._TR);return this.createTableBodyCellAccSelect(t,l,null,o,!0),o},e.TableDomUtils.prototype.createTableBodyRowTouchSelectionAffordance=function(l){var o=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV);o.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTIOM_AFFORDANCE_TOP_CLASS),o.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTIOM_AFFORDANCE_TOUCH_AREA_CLASS),t(o).data("rowIdx",l);var i=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV);i.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTIOM_AFFORDANCE_TOP_ICON_CLASS),i.setAttribute(e.TableDomUtils.DOM_ATTR._ROLE,"button"),i.setAttribute(e.TableDomUtils.DOM_ATTR._ARIA_LABEL,this.component.getTranslatedString("labelAccSelectionAffordanceTop")),t(i).data("rowIdx",l),o.appendChild(i);var s=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV);s.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTIOM_AFFORDANCE_BOTTOM_CLASS),s.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTIOM_AFFORDANCE_TOUCH_AREA_CLASS),t(s).data("rowIdx",l);var a=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV);a.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTIOM_AFFORDANCE_BOTTOM_ICON_CLASS),a.setAttribute(e.TableDomUtils.DOM_ATTR._ROLE,"button"),a.setAttribute(e.TableDomUtils.DOM_ATTR._ARIA_LABEL,this.component.getTranslatedString("labelAccSelectionAffordanceBottom")),t(a).data("rowIdx",l),s.appendChild(a);var n=this.getTableContainer();n.appendChild(o),n.appendChild(s),this.moveTableBodyRowTouchSelectionAffordanceTop(l),this.moveTableBodyRowTouchSelectionAffordanceBottom(l)},e.TableDomUtils.prototype.createTableBottomSlot=function(){var t=this.getTableContainer(),l=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV);return l.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_BOTTOM_SLOT_CLASS),t.appendChild(l),this._cacheDomElement(e.TableDomUtils.CSS_CLASSES._TABLE_BOTTOM_SLOT_CLASS,l),l},e.TableDomUtils.prototype.createTableContainer=function(){var t;return this.options,this.OuterWrapper?t=this.OuterWrapper:(t=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV),this.element.parentNode.replaceChild(t,this.element),t.insertBefore(this.element,t.firstChild)),this._cacheDomElement(e.TableDomUtils.CSS_CLASSES._TABLE_CONTAINER_CLASS,t),t},e.TableDomUtils.prototype.createTableFooter=function(){var t=this.getTable(),l=document.createElement(e.TableDomUtils.DOM_ELEMENT._TFOOT),o=document.createElement(e.TableDomUtils.DOM_ELEMENT._TR);this.createTableFooterAccSelect(o),l.appendChild(o);var i=this.getTableHeader();if(null!=i)i.parentNode.insertBefore(l,i.nextSibling);else{var s=this.getTableBody();null!=s?s.parentNode.insertBefore(l,s):t.appendChild(l)}return this._cacheDomElement(e.TableDomUtils.CSS_CLASSES._TABLE_FOOTER_CLASS,l),l},e.TableDomUtils.prototype.createTableFooterAccSelect=function(t){var l=t.getElementsByClassName(e.TableDomUtils.CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS);return null!=l&&l.length>0?l[0]:((l=document.createElement(e.TableDomUtils.DOM_ELEMENT._TD)).classList.add(e.TableDomUtils.CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS),l.setAttribute(e.TableDomUtils.DOM_ATTR._TABINDEX,"-1"),t.insertBefore(l,t.firstChild),l)},e.TableDomUtils.prototype.createTableFooterCell=function(t){return document.createElement(e.TableDomUtils.DOM_ELEMENT._TD)},e.TableDomUtils.prototype.createTableHeader=function(){var t=this.getTable(),l=document.createElement(e.TableDomUtils.DOM_ELEMENT._THEAD),o=document.createElement(e.TableDomUtils.DOM_ELEMENT._TR);l.appendChild(o);var i=this.getTableFooter();if(null!=i)i.parentNode.insertBefore(l,i);else{var s=this.getTableBody();null!=s?s.parentNode.insertBefore(l,s):t.appendChild(l)}return this._cacheDomElement(e.TableDomUtils.CSS_CLASSES._TABLE_HEADER_ROW_CLASS,o),this._cacheDomElement(e.TableDomUtils.CSS_CLASSES._TABLE_HEADER_CLASS,l),l},e.TableDomUtils.prototype.createTableHeaderAccSelectRowColumn=function(){var t,l=document.createElement(e.TableDomUtils.DOM_ELEMENT._TH);l.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_ACC_SELECT_ROW_CLASS),l.setAttribute(e.TableDomUtils.DOM_ATTR._ID,this.getTableId()+":"+e.TableDomUtils._COLUMN_HEADER_ROW_SELECT_ID);var o=this.options.editMode,i=null!=this.component._getRowSelectionMode();t=o==this.component._OPTION_EDIT_MODE._ROW_EDIT?i?this.component.getTranslatedString(this.component._BUNDLE_KEY._LABEL_SELECT_AND_EDIT_ROW):this.component.getTranslatedString(this.component._BUNDLE_KEY._LABEL_EDIT_ROW):this.component.getTranslatedString(this.component._BUNDLE_KEY._LABEL_SELECT_ROW),l.setAttribute(e.TableDomUtils.DOM_ATTR._TITLE,t),l.style.padding="0",l.style.border="0";var s=document.createElement(e.TableDomUtils.DOM_ELEMENT._SPAN);return s.appendChild(document.createTextNode(t)),s.classList.add(e.TableDomUtils.CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS),l.appendChild(s),l},e.TableDomUtils.prototype.createTableHeaderColumn=function(t,l){var o=this.component._getColumnDefs()[t],i=document.createElement(e.TableDomUtils.DOM_ELEMENT._TH);this.styleTableHeaderColumn(t,i,l,!0),i.setAttribute("abbr",o.headerText),i.setAttribute(e.TableDomUtils.DOM_ATTR._TITLE,o.headerText),this.insertTableHeaderColumn(t,i);var s={columnIndex:t,headerContext:{component:this.component,parentElement:i}};return o.resizable==e.TableDomUtils._OPTION_ENABLED&&i.setAttribute("data-oj-resizable",e.TableDomUtils._OPTION_ENABLED),o.sortable==e.TableDomUtils._OPTION_ENABLED?(i.setAttribute("data-oj-sortable",e.TableDomUtils._OPTION_ENABLED),
e.TableRendererUtils.columnHeaderSortableIconRenderer(this.component,s,null,null)):e.TableRendererUtils.columnHeaderDefaultRenderer(this.component,s,null,null),i},e.TableDomUtils.prototype.createTableHeaderColumnDragImage=function(t){var l=this.getTableHeaderColumn(t).cloneNode(!0);return l.classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._DRAG),l.classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._FOCUS),l.classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._FOCUS_HIGHLIGHT),l.classList.remove(e.TableDomUtils.MARKER_STYLE_CLASSES._HOVER),l.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DRAG_IMAGE),l.style[e.TableDomUtils.CSS_PROP._POSITION]=e.TableDomUtils.CSS_VAL._ABSOLUTE,l.style[e.TableDomUtils.CSS_PROP._TOP]="0",l.style[e.TableDomUtils.CSS_PROP._LEFT]="-999em",l.style[e.TableDomUtils.CSS_PROP._ZINDEX]="-999",document.body.appendChild(l),l},e.TableDomUtils.prototype.createTableHeaderColumnAccSelect=function(t,l){if(l!=e.TableDomUtils._OPTION_SELECTION_MODES._SINGLE&&l!=e.TableDomUtils._OPTION_SELECTION_MODES._MULTIPLE)return null;var o=this.getTableHeaderColumn(t),i=this.getTableHeaderColumnAccSelect(t);if(null!=i)return i;(i=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV)).classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_ACC_SELECT_COLUMN_CLASS),i.classList.add(e.TableDomUtils.CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS);var s=document.createElement(e.TableDomUtils.DOM_ELEMENT._INPUT);s.setAttribute(e.TableDomUtils.DOM_ATTR._ID,this.getTableId()+":acc_sel_col"+t),s.setAttribute(e.TableDomUtils.DOM_ATTR._TYPE,"checkbox"),s.setAttribute(e.TableDomUtils.DOM_ATTR._TABINDEX,"-1");var a=this.component.getTranslatedString(this.component._BUNDLE_KEY._LABEL_SELECT_COLUMN);return s.setAttribute(e.TableDomUtils.DOM_ATTR._TITLE,a),s.classList.add(e.TableDomUtils.CSS_CLASSES._CHECKBOX_ACC_SELECT_COLUMN_CLASS),i.appendChild(s),o.insertBefore(i,o.firstChild),i},e.TableDomUtils.prototype.createTableHeaderColumnResizeIndicator=function(){var t=this.getTableHeaderColumnResizeIndicator();if(!t){var l=this.getTableContainer();t=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV),l.appendChild(t),t.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_RESIZE_INDICATOR_CLASS),this._cacheDomElement(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_RESIZE_INDICATOR_CLASS,t)}return t},e.TableDomUtils.prototype.createTableInlineMessage=function(){var t=this.getTableContainer(),l=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV);return l.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_INLINE_MESSAGE_CLASS),l.style[e.TableDomUtils.CSS_PROP._DISPLAY]=e.TableDomUtils.CSS_VAL._NONE,t.appendChild(l),this._cacheDomElement(e.TableDomUtils.CSS_CLASSES._TABLE_INLINE_MESSAGE_CLASS,l),l},e.TableDomUtils.prototype.createTableStatusAccNotification=function(){var t=this.getTableContainer(),l=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV);return l.setAttribute(e.TableDomUtils.DOM_ATTR._ROLE,"status"),l.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_STATUS_ACC_NOTIFICATION_CLASS),l.classList.add(e.TableDomUtils.CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS),t.appendChild(l),this._cacheDomElement(e.TableDomUtils.CSS_CLASSES._TABLE_STATUS_ACC_NOTIFICATION_CLASS,l),l},e.TableDomUtils.prototype.createTableStatusMessage=function(){var t=this.getTableContainer(),l=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV);l.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_STATUS_MESSAGE_CLASS),l.style[e.TableDomUtils.CSS_PROP._DISPLAY]=e.TableDomUtils.CSS_VAL._NONE;var o=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV);return o.classList.add(e.TableDomUtils.CSS_CLASSES._ICON_CLASS),o.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_LOADING_ICON_CLASS),o.setAttribute("aria-label",this.component.getTranslatedString(this.component._BUNDLE_KEY._MSG_FETCHING_DATA)),l.appendChild(o),t.appendChild(l),this._cacheDomElement(e.TableDomUtils.CSS_CLASSES._TABLE_STATUS_MESSAGE_CLASS,l),l},e.TableDomUtils.prototype.displayDragOverIndicatorColumn=function(t,l){this.removeDragOverIndicatorColumn();var o=this.getTableHeaderRow(),i=this.getTableHeaderColumn(t);if(null!=i)l?i.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DRAG_INDICATOR_BEFORE_CLASS):i.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DRAG_INDICATOR_AFTER_CLASS);else{var s=this.component._getColumnDefs();null!=s&&0!=s.length||(l?o.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DRAG_INDICATOR_BEFORE_CLASS):o.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DRAG_INDICATOR_AFTER_CLASS))}},e.TableDomUtils.prototype.displayDragOverIndicatorRow=function(l,o,i){this.removeDragOverIndicatorRow();var s=document.createElement(e.TableDomUtils.DOM_ELEMENT._TR);o?s.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_DRAG_INDICATOR_BEFORE_CLASS):s.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_DRAG_INDICATOR_AFTER_CLASS),i&&t(s).height(parseInt(t(i).height(),10));var a=document.createElement(e.TableDomUtils.DOM_ELEMENT._TD),n=this.component._getColumnDefs();a.setAttribute(e.TableDomUtils.DOM_ATTR._COLSPAN,n.length+1),s.appendChild(a);var r=this.getTableBodyRow(l);if(null!=r)o?r.parentNode.insertBefore(s,r):r.parentNode.insertBefore(s,r.nextSibling);else{var _=this.getTableBodyRows();null!=_&&0!=_.length||this.component._hideNoDataMessage(),this.getTableBody().appendChild(s)}},e.TableDomUtils.prototype.getContextMenu=function(){return this._menuContainer},e.TableDomUtils.prototype.getContextMenuResizePopup=function(){var e=this.getTableId()+"_resize_popup";if(!this._isCachedDomElement(e)){var t=document.getElementById(e);this._cacheDomElement(e,t)}return this._getCachedDomElement(e)},e.TableDomUtils.prototype.getElementColumnIdx=function(l){var o=this.getFirstAncestor(l,e.TableDomUtils.CSS_CLASSES._TABLE_DATA_CELL_CLASS);if(null!=o)return t(o.parentNode).children("."+e.TableDomUtils.CSS_CLASSES._TABLE_DATA_CELL_CLASS).index(o);var i=this.getFirstAncestor(l,e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_CELL_CLASS);if(null!=i)return t(i.parentNode).children("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_CELL_CLASS).index(i);var s=this.getFirstAncestor(l,e.TableDomUtils.CSS_CLASSES._TABLE_FOOTER_CELL_CLASS);return null!=s?t(s.parentNode).children("."+e.TableDomUtils.CSS_CLASSES._TABLE_FOOTER_CELL_CLASS).index(s):null},e.TableDomUtils.prototype.getElementRowIdx=function(l){var o=this.getFirstAncestor(l,e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_CLASS);if(null!=o){var i=this.getTableBodyRows();return t(i).index(o)}return null},e.TableDomUtils.prototype.getFirstAncestor=function(e,l){var o;return null==e?null:e.classList.contains(l)?e:0!=(o=t(e).parents("."+l)).length?o[0]:null},e.TableDomUtils.prototype.getScrollbarHeight=function(){var e=this.getScroller();return e.clientHeight>0?e.offsetHeight-e.clientHeight:0},e.TableDomUtils.prototype.getScrollbarWidth=function(){var e=this.getScroller();return e.clientWidth>0?e.offsetWidth-e.clientWidth:0},e.TableDomUtils.prototype.getScroller=function(){return this.getTableBody()},e.TableDomUtils.prototype.getScrollLeft=function(e){var t=e.scrollLeft;return"rtl"===this.component._GetReadingDirection()&&(t=Math.abs(t),this._isWebkit()&&(t=e.scrollWidth-e.clientWidth-t)),t},e.TableDomUtils.prototype.getTable=function(){return this.element},e.TableDomUtils.prototype.getTableBody=function(){return this._getTableElementByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_BODY_CLASS,!0)},e.TableDomUtils.prototype.getTableBodyCell=function(e,t,l){var o=this.getTableBodyCells(e,l);return o&&o.length>t?o[t]:null},e.TableDomUtils.prototype.getTableBodyCellAccSelect=function(t){if(null!=t){var l=t.getElementsByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_CELL_ACC_SELECT_CLASS);if(null!=l&&l.length>0)return l[0]}return null},e.TableDomUtils.prototype.getTableBodyLogicalCells=function(e,t){var l=this.getTableBodyCells(e,t);return l?this._getColspanLogicalElements(l):null},e.TableDomUtils.prototype.getTableBodyCells=function(t,l){if(l||(l=this.getTableBodyRow(t)),!l)return null;var o=l.getElementsByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_CELL_CLASS);return null!=o&&o.length>0?o:null},e.TableDomUtils.prototype.getTableBodyMessageCell=function(){var t=this.getTableBody();if(t){var l=t.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._TABLE_BODY_MESSAGE_CLASS);if(l&&l.length>0)return l[0]}return null},e.TableDomUtils.prototype.getTableBodyMessageRow=function(){var t=this.getTableBody();if(t){var l=t.getElementsByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_BODY_MESSAGE_ROW_CLASS);if(l&&l.length>0)return l[0]}return null},e.TableDomUtils.prototype.getTableBodyRow=function(e){var t=this.getTableBodyRows();return t?null==e?null:t.length>e?t[e]:null:null},e.TableDomUtils.prototype.getTableBodyRows=function(){if(!this._cachedDomTableBodyRows){var t=this.getTableBody();if(null!=t){var l=t.getElementsByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_CLASS);null!=l&&l.length>0&&(this._cachedDomTableBodyRows=l)}}return this._cachedDomTableBodyRows},e.TableDomUtils.prototype.getTableBodyRowTouchSelectionAffordanceTop=function(){var t=this.getTableContainer().getElementsByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTIOM_AFFORDANCE_TOP_CLASS);return null!=t&&t.length>0?t=t[0]:null},e.TableDomUtils.prototype.getTableBodyRowTouchSelectionAffordanceBottom=function(){var t=this.getTableContainer().getElementsByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTIOM_AFFORDANCE_BOTTOM_CLASS);return null!=t&&t.length>0?t=t[0]:null},e.TableDomUtils.prototype.getTableBottomSlot=function(){return this._getTableElementByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_BOTTOM_SLOT_CLASS,!0)},e.TableDomUtils.prototype.getTableContainer=function(){return this._isCachedDomElement(e.TableDomUtils.CSS_CLASSES._TABLE_CONTAINER_CLASS)||this._cacheDomElement(e.TableDomUtils.CSS_CLASSES._TABLE_CONTAINER_CLASS,this.element.parentNode),this._getCachedDomElement(e.TableDomUtils.CSS_CLASSES._TABLE_CONTAINER_CLASS)},e.TableDomUtils.prototype.getTableFooter=function(){return this._getTableElementByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_FOOTER_CLASS,!0)},e.TableDomUtils.prototype.getTableFooterCell=function(e){var t=this.getTableFooterCells();return null!=t&&t.length>e?t[e]:null},e.TableDomUtils.prototype.getTableFooterCells=function(){var t=this.getTableFooterRow(),l=null!=t?t.getElementsByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_FOOTER_CELL_CLASS):null;return null!=l&&l.length>0?l:null},e.TableDomUtils.prototype.getTableFooterLogicalCells=function(){var e=this.getTableFooterCells();return e?this._getColspanLogicalElements(e):null},e.TableDomUtils.prototype.getTableFooterRow=function(){return this._getTableElementByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_FOOTER_ROW_CLASS)},e.TableDomUtils.prototype.getTableHeader=function(){return this._getTableElementByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_HEADER_CLASS,!0)},e.TableDomUtils.prototype.getTableHeaderColumn=function(e){var t=this.getTableHeaderColumns();return t&&t.length>e&&e>=0?t[e]:null},e.TableDomUtils.prototype.getTableHeaderColumnAccSelect=function(t){var l=this.getTableHeaderColumn(t);if(null!=l){var o=l.getElementsByClassName(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_ACC_SELECT_COLUMN_CLASS);if(null!=o&&o.length>0)return o[0]}return null},e.TableDomUtils.prototype.getTableHeaderColumnResizeIndicator=function(){return this._getTableElementByClassName(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_RESIZE_INDICATOR_CLASS,!0)},e.TableDomUtils.prototype.getTableHeaderColumns=function(){var t=this.getTableHeaderRow();if(null!=t){var l=t.getElementsByClassName(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_CELL_CLASS);if(null!=l&&l.length>0)return l}return null},e.TableDomUtils.prototype.getTableHeaderLogicalColumns=function(){var e=this.getTableHeaderColumns();return e?this._getColspanLogicalElements(e):null},e.TableDomUtils.prototype.getTableHeaderRow=function(){return this._getTableElementByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_HEADER_ROW_CLASS)},e.TableDomUtils.prototype.getTableId=function(){if(!this._tableId){var t=this.component._IsCustomElement()?this.getTableContainer():this.getTable();this._tableId=t.getAttribute(e.TableDomUtils.DOM_ATTR._ID)}return this._tableId},e.TableDomUtils.prototype.getTableInlineMessage=function(){return this._getTableElementByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_INLINE_MESSAGE_CLASS,!0)},e.TableDomUtils.prototype.getTableStatusAccNotification=function(){return this._getTableElementByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_STATUS_ACC_NOTIFICATION_CLASS,!0)},e.TableDomUtils.prototype.getTableStatusMessage=function(){return this._getTableElementByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_STATUS_MESSAGE_CLASS,!0)},e.TableDomUtils.prototype.getTableUID=function(){if(!this._tableUID){var e=this.getTableId();null==e&&(e=(1e32*Math.random()).toString(36)),this._tableUID=e}return this._tableUID},e.TableDomUtils.prototype.hashCode=function(e){"string"!=t.type(e)&&(e=e.toString());var l=0;if(0==e.length)return l;var o,i=e.length;for(o=0;o<i;o++)l=(l<<5)-l+e.charCodeAt(o),l&=l;return l},e.TableDomUtils.prototype.insertTableBodyCell=function(t,l,o,i,s,a,n){if(this.setTableBodyCellAttributes(t,l,o,i,s),n)return a.appendChild(s),s;if(0==i){var r=a.getElementsByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_CELL_ACC_SELECT_CLASS);null!=r&&r.length>0?(r=r[0]).parentNode.insertBefore(s,r.nextSibling):a.insertBefore(s,a.firstChild)}else{var _=a.getElementsByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_CELL_CLASS);if(_.length>=i){var S=_[i-1];S.parentNode.insertBefore(s,S.nextSibling)}else a.appendChild(s)}return s},e.TableDomUtils.prototype.insertTableBodyRow=function(t,l,o,i){if(this.setTableBodyRowAttributes(o,l),null==i){var s=this.getTableBody(),a=s.getElementsByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_CLASS);if(0==t)s.insertBefore(l,s.firstChild);else if(a.length>=t){var n=a[t-1];n.parentNode.insertBefore(l,n.nextSibling)}else s.appendChild(l)}else i.appendChild(l);this.clearCachedDomRowData()},e.TableDomUtils.prototype.insertTableFooterCell=function(t,l){var o=this.getTableFooterRow(),i=o.getElementsByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_FOOTER_CELL_CLASS);if(0==t){var s=o.getElementsByClassName(e.TableDomUtils.CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS);null!=s&&s.length>0?(s=s[0]).parentNode.insertBefore(l,s.nextSibling):o.insertBefore(l,o.firstChild)}else if(o.length>=t){var a=i[t-1];a.parentNode.insertBefore(l,a.nextSibling)}else o.appendChild(l);return l},e.TableDomUtils.prototype.insertTableHeaderColumn=function(l,o){var i=this.getTableHeaderRow(),s=this.getTableHeaderColumns();this.setTableHeaderColumnAttributes(l,o);var a=this.getTableHeaderColumn(l);if(a)t(a).replaceWith(t(o));else if(0==l){var n=i.getElementsByClassName(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_ACC_SELECT_ROW_CLASS);null!=n&&n.length>0?(n=n[0]).parentNode.insertBefore(o,n.nextSibling):i.insertBefore(o,i.firstChild)}else if(s&&s.length>=l){var r=s[l-1];r.parentNode.insertBefore(o,r.nextSibling)}else i.appendChild(o)},e.TableDomUtils.prototype.isTableContainerScrollable=function(){var e=this.getTableContainer(),t=this.getTable(),l=this.component._isStatusMessageShown();l&&this.component._hideStatusMessage();var o=[];return e.clientHeight>0?t.clientHeight>e.clientHeight?o[0]=1:e.clientHeight-t.clientHeight>1?o[0]=-1:o[0]=0:o[0]=0,e.clientWidth>0?t.clientWidth>e.clientWidth?o[1]=1:e.clientWidth-t.clientWidth>1?o[1]=-1:o[1]=0:o[1]=0,l&&this.component._showStatusMessage(),o},e.TableDomUtils.prototype.moveTableBodyRowTouchSelectionAffordanceTop=function(l){var o=this.getTableBodyRowTouchSelectionAffordanceTop();if(null!=o){t(o).data("rowIdx",l),t(o.children[0]).data("rowIdx",l);var i=this.getTableBody(),s=this.getTableBodyRow(l).getBoundingClientRect(),a=this.getTableContainer().getBoundingClientRect();o.style[e.TableDomUtils.CSS_PROP._TOP]=s.top-a.top-o.clientHeight/2+e.TableDomUtils.CSS_VAL._PX,o.style[e.TableDomUtils.CSS_PROP._LEFT]=i.clientWidth/2+e.TableDomUtils.CSS_VAL._PX}},e.TableDomUtils.prototype.moveTableBodyRowTouchSelectionAffordanceBottom=function(l){var o=this.getTableBodyRowTouchSelectionAffordanceBottom();if(null!=o){t(o).data("rowIdx",l),t(o.children[0]).data("rowIdx",l);var i=this.getTableBody(),s=this.getTableBodyRow(l).getBoundingClientRect(),a=this.getTableContainer().getBoundingClientRect();o.style[e.TableDomUtils.CSS_PROP._TOP]=s.top-a.top+s.height-o.clientHeight/2+e.TableDomUtils.CSS_VAL._PX,o.style[e.TableDomUtils.CSS_PROP._LEFT]=i.clientWidth/2+e.TableDomUtils.CSS_VAL._PX}},e.TableDomUtils.prototype.moveTableHeaderColumn=function(l,o,i){var s=this.component._getColumnDefs(),a=this.getTableHeaderColumn(l),n=this.getTableFooterCell(l),r=null,_=null,S=null,T=null,d=null,h=!1;o==s.length&&(o-=1,h=!0),null!=a&&(d=a.getAttribute(e.TableDomUtils.DOM_ATTR._COLSPAN),null==(_=this.getTableHeaderColumn(o))||null!=d&&1!=d||(h?_.parentNode.insertBefore(a,_.nextSibling):_.parentNode.insertBefore(a,_))),null!=n&&(d=n.getAttribute(e.TableDomUtils.DOM_ATTR._COLSPAN),null==(S=this.getTableFooterCell(o))||null!=d&&1!=d||(h?S.parentNode.insertBefore(n,S.nextSibling):S.parentNode.insertBefore(n,S)));var u,c=this.getTableBodyRows();if(null!=c)for(u=0;u<c.length;u++)null!=(r=this.getTableBodyCell(u,l,null))&&(T=this.getTableBodyCell(u,o,null),d=r.getAttribute(e.TableDomUtils.DOM_ATTR._COLSPAN),null==T||null!=d&&1!=d||(h?T.parentNode.insertBefore(r,T.nextSibling):T.parentNode.insertBefore(r,T)));var m=[],C=this.options.columns.length;for(u=0;u<C;u++)m[u]=t.extend({},{},this.options.columns[u]);var E=l<o&&!h?o-1:o,D=m.splice(l,1);m.splice(E,0,D[0]);var b=this.component._columnDefArray.splice(l,1);if(this.component._columnDefArray.splice(E,0,b[0]),!this._columnsDestMap)for(this._columnsDestMap=[],u=0;u<m.length;u++)this._columnsDestMap[u]=u;var g=this._columnsDestMap.splice(l,1);return this._columnsDestMap.splice(E,0,g[0]),this.component.option("columns",m,{_context:{writeback:!0,originalEvent:i,internalSet:!0}}),this.component._queueTask(function(){}),this._columnsDestMap},e.TableDomUtils.prototype.refreshContextMenu=function(){var l=this._menuContainer;if(l){var o,i=l.querySelectorAll("[data-oj-command]");for(o=0;o<i.length;o++){var s=t(i[o]).children(e.TableDomUtils.DOM_ELEMENT._A);if(s.length>0){var a,n=i[o].getAttribute("data-oj-command").split("-");"sort"==(n=n[n.length-1])?a=this.component.getTranslatedString("labelSort"):"sortAsc"==n?a=this.component.getTranslatedString("labelSortAsc"):"sortDsc"==n?a=this.component.getTranslatedString("labelSortDsc"):"resize"==n&&(a=this.component.getTranslatedString("labelResize")),s.contents().filter(function(){return 3===this.nodeType})[0].nodeValue=a}}}},e.TableDomUtils.prototype.refreshTableDimensions=function(e,t,l,o){this._refreshTableDimensions(e,t,l,o),this.component._setCurrentRow(this.options.currentRow,null)},e.TableDomUtils.prototype.removeDragOverIndicatorColumn=function(){var t=this.getTable().querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DRAG_INDICATOR_BEFORE_CLASS+",."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DRAG_INDICATOR_AFTER_CLASS),l=0;if(t&&t.length>0){var o=t.length;for(l=0;l<o;l++)t[l].classList.remove(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DRAG_INDICATOR_BEFORE_CLASS),t[l].classList.remove(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DRAG_INDICATOR_AFTER_CLASS)}},e.TableDomUtils.prototype.removeDragOverIndicatorRow=function(){var l=this.getTableBody(),o=l.getElementsByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_DRAG_INDICATOR_BEFORE_CLASS),i=l.getElementsByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_DRAG_INDICATOR_AFTER_CLASS),s=0;if(o&&o.length>0){var a=o.length;for(s=0;s<a;s++)t(o[s]).remove()}if(i&&i.length>0){var n=i.length;for(s=0;s<n;s++)t(i[s]).remove()}var r=this.getTableBodyRows();null!=r&&0!=r.length||this.component._showNoDataMessage()},e.TableDomUtils.prototype.removeTableBodyRow=function(l){var o=this.getTableBodyRow(l);null!=o&&(e.Components.subtreeDetached(o),this.component._hasCellTemplate&&this.component._cleanTemplateNodes(o),t(o).remove(),this.clearCachedDomRowData())},e.TableDomUtils.prototype.removeAllTableBodyRows=function(){var l=this.getTableBodyRows();if(null!=l&&l.length>0){var o=this.getTableBody();null!=o&&(e.Components.subtreeDetached(o),this.component._hasCellTemplate&&(this.component._cleanTemplateNodes(o),this.component._hasCellTemplate=!1),t(o).empty()),this.clearCachedDomRowData()}},e.TableDomUtils.prototype.removeTableBodyRowTouchSelectionAffordance=function(){var l,o=this.getTableContainer().getElementsByClassName(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTIOM_AFFORDANCE_TOUCH_AREA_CLASS);if(null!=o&&o.length>0)for(l=0;l<o.length;l++)t(o[l]).remove()},e.TableDomUtils.prototype.removeTableHeaderColumnDragImage=function(){var l=this.getTableContainer().querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DRAG_IMAGE);if(l&&l.length>0){var o,i=l.length;for(o=0;o<i;o++)t(l[o]).remove()}},e.TableDomUtils.prototype.removeTableHeaderColumnResizeIndicator=function(){var l=this.getTableHeaderColumnResizeIndicator();l&&(t(l).remove(),this._clearCachedDom(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_RESIZE_INDICATOR_CLASS))},e.TableDomUtils.prototype.setScrollLeft=function(e,t){"rtl"===this.component._GetReadingDirection()&&(t=Math.abs(t),this._isWebkit()?t=e.scrollWidth-e.clientWidth-t:this._isFF()&&(t*=-1)),e.scrollLeft!=t&&(e.scrollLeft=t)},e.TableDomUtils.prototype.setTableBodyCellAttributes=function(t,l,o,i,s){var a=s.getAttribute(e.TableDomUtils.DOM_ATTR._ID);if(!(null!=a&&a.length>0)){var n=this.options.accessibility,r=this.component._getColumnDefs()[i];if(null!=r){var _,S=this.component._isTableHeaderless();_=null!=n&&null!=n.rowHeader?n.rowHeader:this.component._getColumnDefs()[0].id;var T=null!=l?l.toString():t.toString(),d=null==o?this.hashCode(T):o,h=this.getTableId()+":"+_+"_"+d,u=this.getTableId()+":"+r.id;_==r.id?(a=h,S&&(u="")):(a=h+"_"+i,u=S?h:u+" "+h),s.setAttribute(e.TableDomUtils.DOM_ATTR._ID,a),s.getAttribute(e.TableDomUtils.DOM_ATTR._HEADERS)||s.setAttribute(e.TableDomUtils.DOM_ATTR._HEADERS,u)}}},e.TableDomUtils.prototype.setTableBodyRowAttributes=function(e,l){t(l).data("rowKey",e.key),t(l).data("rowData",e.data)},e.TableDomUtils.prototype.setTableHeaderColumnAttributes=function(t,l){var o=this.component._getColumnDefs()[t];l.getAttribute(e.TableDomUtils.DOM_ATTR._ID)||l.setAttribute(e.TableDomUtils.DOM_ATTR._ID,this.getTableId()+":"+o.id)},e.TableDomUtils.prototype.setTableColumnCellsClass=function(e,t,l){var o=this.getTableBodyRows();if(null!=o&&o.length>0)if(null===e){var i=null;if(null!=(i=t?this.getTableBody().querySelectorAll("[td]"):this.getTableBody().querySelectorAll("."+l))&&i.length>0){var s=i.length;for(a=0;a<s;a++)t?i[a].classList.add(l):i[a].classList.remove(l)}}else{var a,n,r=o.length;for(a=0;a<r;a++)n=this.getTableBodyCell(a,e,null),t?n.classList.add(l):n.classList.remove(l)}},e.TableDomUtils.prototype.setTableBodyMessage=function(e){var l=this.getTableBodyMessageCell();t(l).empty(),l.appendChild(document.createTextNode(e))},e.TableDomUtils.prototype.setTableInlineMessage=function(l,o,i){var s=this.getTableInlineMessage();t(s).empty(),t(s).append(e.PopupMessagingStrategyUtils.buildMessageHtml(document,l,o,i,null))},e.TableDomUtils.prototype.setTableStatusAccNotification=function(e){var l=this.getTableStatusAccNotification();t(l).empty(),l.appendChild(document.createTextNode(e))},e.TableDomUtils.prototype.styleInitialTable=function(){var t=this.getTable(),l=(this.getTableContainer(),t.getElementsByTagName(e.TableDomUtils.DOM_ELEMENT._THEAD));l=l.length>0?l[0]:null;var o=t.getElementsByTagName(e.TableDomUtils.DOM_ELEMENT._TFOOT);o=o.length>0?o[0]:null;var i=t.getElementsByTagName(e.TableDomUtils.DOM_ELEMENT._TBODY);i=i.length>0?i[0]:null,t.setAttribute(e.TableDomUtils.DOM_ATTR._TABINDEX,"0"),this.component._focusable({element:t,applyHighlight:!0,setupHandlers:this._focusSetupHandlers.bind(this)}),this.styleTableHeader(l),this.styleTableFooter(o),this.styleTableBody(i)},e.TableDomUtils.prototype.styleTableBody=function(t){t.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_BODY_CLASS),t.setAttribute(e.Components._OJ_CONTAINER_ATTR,this.component.widgetName)},e.TableDomUtils.prototype.styleTableBodyCell=function(l,o,i){this.options;var s=this.component._getColumnDefs()[l];!i&&o.classList.contains(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_CELL_CLASS)||(o.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_CELL_CLASS),o.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_DATE_CELL_FORM_CONTROL_CLASS),null==s||null==s.style||!i&&o.getAttribute(e.TableDomUtils.DOM_ATTR._STYLE)==s.style||o.setAttribute(e.TableDomUtils.DOM_ATTR._STYLE,s.style),null==s||null==s.className||!i&&t(o).hasClass(s.className)||t(o).addClass(s.className)),this._isVerticalGridEnabled()&&(!i&&o.classList.contains(e.TableDomUtils.CSS_CLASSES._TABLE_VGRID_LINES_CLASS)||o.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_VGRID_LINES_CLASS))},e.TableDomUtils.prototype.styleTableBodyRow=function(t,l){!l&&t.classList.contains(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_CLASS)||t.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_DATA_ROW_CLASS),this._isHorizontalGridEnabled()&&(!l&&t.classList.contains(e.TableDomUtils.CSS_CLASSES._TABLE_HGRID_LINES_CLASS)||t.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_HGRID_LINES_CLASS))},e.TableDomUtils.prototype.styleTableContainer=function(t){t.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_CLASS),t.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_CONTAINER_CLASS),t.classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._WIDGET),this.options.display==e.TableDomUtils._OPTION_DISPLAY._GRID?t.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_COMPACT_CLASS):t.classList.remove(e.TableDomUtils.CSS_CLASSES._TABLE_COMPACT_CLASS);var l=this.options.editMode;null!=l&&l!=this.component._OPTION_EDIT_MODE._NONE?t.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_EDIT_CLASS):t.classList.remove(e.TableDomUtils.CSS_CLASSES._TABLE_EDIT_CLASS)},e.TableDomUtils.prototype.styleTableFooter=function(t){t&&(t.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_FOOTER_CLASS),t.getElementsByTagName(e.TableDomUtils.DOM_ELEMENT._TR)[0].classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_FOOTER_ROW_CLASS))},e.TableDomUtils.prototype.styleTableFooterCell=function(l,o){this.options,this.component._getColumnDefs().length;var i=this.component._getColumnDefs()[l];null!=i.footerStyle&&o.setAttribute(e.TableDomUtils.DOM_ATTR._STYLE,i.footerStyle),o.classList.contains(e.TableDomUtils.CSS_CLASSES._TABLE_FOOTER_CELL_CLASS)||o.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_FOOTER_CELL_CLASS),this._isVerticalGridEnabled()&&!o.classList.contains(e.TableDomUtils.CSS_CLASSES._TABLE_VGRID_LINES_CLASS)&&o.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_VGRID_LINES_CLASS),i.footerClassName&&t(o).addClass(i.footerClassName)},e.TableDomUtils.prototype.styleTableHeader=function(t){if(t){t.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_HEADER_CLASS),t.style[e.TableDomUtils.CSS_PROP._DISPLAY]="table-header-group";var l=t.getElementsByTagName(e.TableDomUtils.DOM_ELEMENT._TR)[0];l.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_HEADER_ROW_CLASS),l.style[e.TableDomUtils.CSS_PROP._POSITION]=e.TableDomUtils.CSS_VAL._RELATIVE}},e.TableDomUtils.prototype.styleTableHeaderColumn=function(l,o,i,s){var a=this.component._getColumnDefs()[l];!s&&o.classList.contains(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_CELL_CLASS)||(o.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_CELL_CLASS),this._isVerticalGridEnabled()&&(!s&&o.classList.contains(e.TableDomUtils.CSS_CLASSES._TABLE_VGRID_LINES_CLASS)||o.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_VGRID_LINES_CLASS)),null==a.headerStyle||!s&&o.getAttribute(e.TableDomUtils.DOM_ATTR._STYLE)==a.headerStyle||o.setAttribute(e.TableDomUtils.DOM_ATTR._STYLE,a.headerStyle),null==a.headerClassName||!s&&t(o).hasClass(a.headerClassName)||t(o).addClass(a.headerClassName))},e.TableDomUtils.prototype._getColspanLogicalElements=function(t){var l,o,i=0,s=[],a=t.length;for(l=0;l<a;l++){var n=t[l].getAttribute(e.TableDomUtils.DOM_ATTR._COLSPAN);if(null!=n){for(n=parseInt(n,10),o=0;o<n;o++)s[i+o]=t[l];i+=n}else s[i++]=t[l]}return s},e.TableDomUtils.prototype._isHorizontalGridEnabled=function(){return this.options.horizontalGridVisible==e.TableDomUtils._OPTION_ENABLED||this.options.horizontalGridVisible==e.TableDomUtils._OPTION_AUTO},e.TableDomUtils.prototype._isVerticalGridEnabled=function(){return this.options.verticalGridVisible==e.TableDomUtils._OPTION_ENABLED||this.options.verticalGridVisible==e.TableDomUtils._OPTION_AUTO&&this.options.display==e.TableDomUtils._OPTION_DISPLAY._GRID},e.TableDomUtils.prototype._isFF=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},e.TableDomUtils.prototype._isIE=function(){if(void 0===this._browserIsIE){var e=navigator.userAgent;if("Microsoft Internet Explorer"==navigator.appName){var t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e);null!=t&&(this._browserIsIE=parseFloat(t[1]))}else e.indexOf("Trident")>=0?this._browserIsIE=11:this._browserIsIE=null}return this._browserIsIE},e.TableDomUtils.prototype._isWebkit=function(){if(void 0===this._browserIsWebkit){var e=navigator.userAgent.toLowerCase();this._browserIsWebkit=/webkit/.test(e)&&!/edge/.test(e)}return this._browserIsWebkit},e.TableDomUtils.prototype._refreshTableDimensions=function(l,o,i,s){this.options;var a=this.getTable(),n=this.getTableContainer(),r=this.getTableBody(),_=null,S=null;null!=this.component._scrollTop&&this.component._scrollTop>0&&(_=this.component._scrollTop),null!=this.component._scrollLeft&&this.component._scrollLeft>0&&(S=this.component._scrollLeft),this._removeTableDimensionsStyling(),this.styleTableContainer(n);var T=this.isTableContainerScrollable();if(1===T[0]?this._tableHeightConstrained=!0:this._tableHeightConstrained=!1,1===T[1]?this._tableWidthConstrained=!0:this._tableWidthConstrained=!1,null!=r){if(this._tableHeightConstrained||this._tableWidthConstrained){var d=this.getTableHeader(),h=this.getTableFooter(),u=this.getTableBottomSlot();n.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_SCROLL_CLASS),this._tableDimensions||(this._tableDimensions={}),l>0||o>0?(l>0&&this._tableWidthConstrained&&(this._tableDimensions[e.TableDomUtils.CSS_PROP._WIDTH]=l),o>0&&this._tableHeightConstrained&&(this._tableDimensions[e.TableDomUtils.CSS_PROP._HEIGHT]=o)):(this._tableHeightConstrained?this._tableDimensions[e.TableDomUtils.CSS_PROP._HEIGHT]=n.offsetHeight:this._tableDimensions[e.TableDomUtils.CSS_PROP._HEIGHT]=0,this._tableWidthConstrained?this._tableDimensions[e.TableDomUtils.CSS_PROP._WIDTH]=n.offsetWidth:this._tableDimensions[e.TableDomUtils.CSS_PROP._WIDTH]=0),null==this._tableBorderWidth&&(this._tableBorderWidth=t(n).outerWidth()-t(n).innerWidth()),null==this._tableBorderHeight&&(this._tableBorderHeight=t(n).outerHeight()-t(n).innerHeight());var c=0;this._tableHeightConstrained&&!this._tableWidthConstrained&&(n.style[e.TableDomUtils.CSS_PROP._OVERFLOW]=e.TableDomUtils.CSS_VAL._AUTO,c=n.offsetWidth-n.clientWidth,this._tableDimensions[e.TableDomUtils.CSS_PROP._WIDTH]>0?a.style[e.TableDomUtils.CSS_PROP._WIDTH]=n.clientWidth+e.TableDomUtils.CSS_VAL._PX:(a.style[e.TableDomUtils.CSS_PROP._WIDTH]=n.scrollWidth+c+e.TableDomUtils.CSS_VAL._PX,1===(T=this.isTableContainerScrollable())[1]&&(a.style[e.TableDomUtils.CSS_PROP._WIDTH]=n.clientWidth+e.TableDomUtils.CSS_VAL._PX)),n.style[e.TableDomUtils.CSS_PROP._OVERFLOW]=""),this._setColumnWidths(),this._tableHeightConstrained&&n.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_SCROLL_VERTICAL_CLASS),this._tableWidthConstrained&&n.classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_SCROLL_HORIZONTAL_CLASS);var m=a.clientWidth;c>0&&(a.style[e.TableDomUtils.CSS_PROP._WIDTH]=n.offsetWidth+e.TableDomUtils.CSS_VAL._PX)
;var C=0,E=a.getElementsByTagName("caption");if(null!=E&&E.length>0&&(E=E[0],C=t(E).outerHeight(),E.style[e.TableDomUtils.CSS_PROP._DISPLAY]=e.TableDomUtils.CSS_VAL._INLINE,null!=d)){var D=window.getComputedStyle(n);d.style[e.TableDomUtils.CSS_PROP._BORDER_TOP]=D[e.TableDomUtils.CSS_PROP._BORDER_TOP]}var b=0;null!=d&&(b=t(d).outerHeight());var g,A=0,R=0;this._tableWidthConstrained?r.style[e.TableDomUtils.CSS_PROP._WIDTH]=this._tableDimensions[e.TableDomUtils.CSS_PROP._WIDTH]-this._tableBorderWidth+e.TableDomUtils.CSS_VAL._PX:c>0&&(r.style[e.TableDomUtils.CSS_PROP._WIDTH]=m-this._tableBorderWidth+c+e.TableDomUtils.CSS_VAL._PX),null!=h&&(A=t(h).outerHeight(),r.style[e.TableDomUtils.CSS_PROP._TOP]=-1*A+e.TableDomUtils.CSS_VAL._PX);var L=0,O=this.getTableInlineMessage();null!=O&&O.style[e.TableDomUtils.CSS_PROP._DISPLAY]!=e.TableDomUtils.CSS_VAL._NONE&&O.clientHeight>0&&(L=t(O).outerHeight());var f=0;if(null!=u&&u.style[e.TableDomUtils.CSS_PROP._DISPLAY]!=e.TableDomUtils.CSS_VAL._NONE&&u.clientHeight>0&&(f=t(u).outerHeight()),this._tableHeightConstrained?(R=this._tableDimensions[e.TableDomUtils.CSS_PROP._HEIGHT]-b-A-C-L-f-this._tableBorderHeight)>0&&(r.style[e.TableDomUtils.CSS_PROP._HEIGHT]=R+e.TableDomUtils.CSS_VAL._PX,r.style[e.TableDomUtils.CSS_PROP._MIN_HEIGHT]=R+e.TableDomUtils.CSS_VAL._PX):R=t(r).outerHeight(),g=this.getScrollbarWidth(),this._tableWidthConstrained){var p=this.getTableBodyRows();if(null!=p&&p.length>0){if(r.style[e.TableDomUtils.CSS_PROP._OVERFLOW_X]=e.TableDomUtils.CSS_VAL._AUTO,n.style[e.TableDomUtils.CSS_PROP._OVERFLOW_X]=e.TableDomUtils.CSS_VAL._HIDDEN,n.style[e.TableDomUtils.CSS_PROP._OVERFLOW_Y]=e.TableDomUtils.CSS_VAL._HIDDEN,null!=d){var U=this._tableDimensions[e.TableDomUtils.CSS_PROP._WIDTH]-this._tableBorderWidth;U>0&&(d.style[e.TableDomUtils.CSS_PROP._WIDTH]=g>0?U-g+e.TableDomUtils.CSS_VAL._PX:U+e.TableDomUtils.CSS_VAL._PX)}}else r.style[e.TableDomUtils.CSS_PROP._OVERFLOW_X]=e.TableDomUtils.CSS_VAL._HIDDEN,n.style[e.TableDomUtils.CSS_PROP._OVERFLOW_X]=e.TableDomUtils.CSS_VAL._AUTO,n.style[e.TableDomUtils.CSS_PROP._OVERFLOW_Y]=e.TableDomUtils.CSS_VAL._HIDDEN}null!=h&&(h.style[e.TableDomUtils.CSS_PROP._TOP]=R+e.TableDomUtils.CSS_VAL._PX),this._setHeaderColumnLastWidth()}else this.component._isTableColumnsWidthSet()&&this._setColumnWidths();if(this._setHeaderColumnOverflowWidths(),this._removeTableBodyRowBottomBorder(T[0]<0),this.refreshTableStatusPosition(),null==_||i)i&&(this.getScroller().scrollTop=0,t(this.getScroller()).scroll());else{var I=this.getScroller().scrollHeight-this.getScroller().clientHeight;_=_>I?I:_,this.component._isLoadMoreOnScroll()&&I==_&&_--,this.getScroller().scrollTop=_,t(this.getScroller()).scroll()}null==S||s?s&&(this.setScrollLeft(this.getScroller(),0),t(this.getScroller()).scroll()):(this.setScrollLeft(this.getScroller(),S),t(this.getScroller()).scroll())}},e.TableDomUtils.prototype.refreshTableStatusPosition=function(){if(this.component._isStatusMessageShown()){var l=this.getTableContainer(),o=this.getTableBody(),i=this.getTableStatusMessage(),s=l;o.clientHeight>0&&(s=o),i.style[e.TableDomUtils.CSS_PROP._HEIGHT]=o.clientHeight+e.TableDomUtils.CSS_VAL._PX,i.style[e.TableDomUtils.CSS_PROP._WIDTH]=o.clientWidth+e.TableDomUtils.CSS_VAL._PX;var a=i.children[0],n="rtl"===this.component._GetReadingDirection(),r={my:"center",at:"center",collision:"none",of:s};r=e.PositionUtils.normalizeHorizontalAlignment(r,n),t(i).position(r);var _={my:"center",at:"center",collision:"none",of:i};_=e.PositionUtils.normalizeHorizontalAlignment(_,n),t(a).position(_)}},e.TableDomUtils.prototype._cacheDomElement=function(e,t){this._domCache||(this._domCache={}),this._domCache[e]=t},e.TableDomUtils.prototype._clearCachedDom=function(e){e&&this._domCache?delete this._domCache[e]:this._domCache={}},e.TableDomUtils.prototype._getCachedDomElement=function(e){return this._domCache?this._domCache[e]:null},e.TableDomUtils.prototype._isCachedDomElement=function(e){return this._domCache||(this._domCache={}),-1!==Object.keys(this._domCache).indexOf(e)},e.TableDomUtils.prototype._getTableElementByClassName=function(e,t){if(!this._isCachedDomElement(e)){var l=this.getTableContainer();if(l)if(this._cacheDomElement(e,null),t){if(this._cacheDomElement(e,this._getChildElementByClassName(l,e)),null==this._getCachedDomElement(e)){var o=this.getTable();this._cacheDomElement(e,this._getChildElementByClassName(o,e))}}else{var i=l.getElementsByClassName(e);i&&i.length>0&&this._cacheDomElement(e,i[0])}}return this._getCachedDomElement(e)},e.TableDomUtils.prototype._getChildElementByClassName=function(e,t){var l;if(null!=e.childNodes&&e.childNodes.length>0)for(l=0;l<e.childNodes.length;l++)if(null!=e.childNodes[l].classList&&e.childNodes[l].classList.contains(t))return e.childNodes[l];return null},e.TableDomUtils.prototype._focusSetupHandlers=function(e,t){this.component._setFocusInHandler(e),this.component._setFocusOutHandler(t)},e.TableDomUtils.prototype._removeHeaderColumnAndCellColumnWidths=function(){var t,l,o,i=this.component._getColumnDefs().length;for(t=0;t<i;t++)null!=(l=this.getTableHeaderColumn(t))&&(l.style[e.TableDomUtils.CSS_PROP._MIN_WIDTH]="");var s,a,n=this.getTableBodyRows();if(null!=n&&n.length>0)for(t=0;t<i;t++)if(null!=(s=this.getTableBodyCell(0,t,null))&&(s.style[e.TableDomUtils.CSS_PROP._MIN_WIDTH]="",null!=this._forcedWidthColumns&&this._forcedWidthColumns[t]))for(a=0;a<n.length;a++)(s=this.getTableBodyCell(a,t,null)).style[e.TableDomUtils.CSS_PROP._MIN_WIDTH]="",s.style[e.TableDomUtils.CSS_PROP._WIDTH]="",s.style[e.TableDomUtils.CSS_PROP._MAX_WIDTH]="";for(t=0;t<i;t++)null!=(o=this.getTableFooterCell(t))&&(o.style[e.TableDomUtils.CSS_PROP._MIN_WIDTH]="")},e.TableDomUtils.prototype._removeTableBodyRowBottomBorder=function(t){if(this._isHorizontalGridEnabled()){var l=this.getTableBodyRows();if(null!=l&&l.length>0){var o,i=l.length;for(o=0;o<i;o++)l[o].classList.contains(e.TableDomUtils.CSS_CLASSES._TABLE_HGRID_LINES_CLASS)||l[o].classList.add(e.TableDomUtils.CSS_CLASSES._TABLE_HGRID_LINES_CLASS);var s=l[l.length-1];t||s.classList.remove(e.TableDomUtils.CSS_CLASSES._TABLE_HGRID_LINES_CLASS)}}},e.TableDomUtils.prototype._removeTableDimensionsStyling=function(){var t=this.getTable(),l=this.getTableContainer(),o=this.getTableHeader(),i=this.getTableHeaderRow(),s=this.getTableFooter(),a=this.getTableFooterRow(),n=this.getTableBody();if(l.classList.remove(e.TableDomUtils.CSS_CLASSES._TABLE_SCROLL_CLASS),l.classList.remove(e.TableDomUtils.CSS_CLASSES._TABLE_SCROLL_VERTICAL_CLASS),l.classList.remove(e.TableDomUtils.CSS_CLASSES._TABLE_SCROLL_HORIZONTAL_CLASS),l.style[e.TableDomUtils.CSS_PROP._OVERFLOW]=e.TableDomUtils.CSS_VAL._VISIBLE,null!=o){o.setAttribute(e.TableDomUtils.DOM_ATTR._STYLE,""),i.setAttribute(e.TableDomUtils.DOM_ATTR._STYLE,"");var r,_=i.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_TEXT_CLASS);if(_&&_.length>0){var S=_.length;for(r=0;r<S;r++)_[r].style[e.TableDomUtils.CSS_PROP._WIDTH]=""}}null!=s&&(s.setAttribute(e.TableDomUtils.DOM_ATTR._STYLE,""),a.setAttribute(e.TableDomUtils.DOM_ATTR._STYLE,"")),t.style[e.TableDomUtils.CSS_PROP._DISPLAY]="",t.style[e.TableDomUtils.CSS_PROP._WIDTH]="",null!=n&&n.setAttribute(e.TableDomUtils.DOM_ATTR._STYLE,""),this._removeHeaderColumnAndCellColumnWidths()},e.TableDomUtils.prototype._setColumnWidths=function(){var t,l,o,i=this.component._getColumnDefs(),s=[],a=[],n=[],r=[],_=[];this._forcedWidthColumns=[];var S,T,d,h,u,c,m,C,E,D,b=i.length;for(S=0;S<b;S++)null!=(d=this.getTableHeaderColumn(S))&&(h=window.getComputedStyle(d),i[S].width>0?(this._forcedWidthColumns[S]=!0,E=i[S].width):(this._forcedWidthColumns[S]=!1,E=parseInt(h[e.TableDomUtils.CSS_PROP._WIDTH],10)||0),s[S]=E,o=this.component._getColumnRenderer(S,"header"),t||null!=o?a[S]=null!=o?(parseFloat(h[e.TableDomUtils.CSS_PROP._PADDING_RIGHT])||0)+(parseFloat(h[e.TableDomUtils.CSS_PROP._PADDING_LEFT])||0):t:(t=(parseFloat(h[e.TableDomUtils.CSS_PROP._PADDING_RIGHT])||0)+(parseFloat(h[e.TableDomUtils.CSS_PROP._PADDING_LEFT])||0),a[S]=t),(c=d.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_TEXT_CLASS))&&c.length>0&&(n[S]=c[0].clientHeight+e.TableDomUtils.CSS_VAL._PX));var g,A,R,L,O=[],f=this.getTableBodyRows();if(null!=f&&f.length>0)for(S=0;S<b;S++)null!=(g=this.getTableBodyCell(0,S,null))&&(this.component._getColumnRenderer(S,"cell"),this.component._hasRowOrCellRendererOrTemplate(S)?(A=window.getComputedStyle(g),R=(parseFloat(A[e.TableDomUtils.CSS_PROP._PADDING_RIGHT])||0)+(parseFloat(A[e.TableDomUtils.CSS_PROP._PADDING_LEFT])||0)):(l||(A=window.getComputedStyle(g),l=(parseFloat(A[e.TableDomUtils.CSS_PROP._PADDING_RIGHT])||0)+(parseFloat(A[e.TableDomUtils.CSS_PROP._PADDING_LEFT])||0)),R=l),r[S]=R,L=null,L=R>a[S]?s[S]-R+a[S]:s[S]+a[S]-R,O[S]=L);for(S=0;S<b;S++)null!=(m=this.getTableFooterCell(S))&&(C=window.getComputedStyle(m),_[S]=(parseFloat(C[e.TableDomUtils.CSS_PROP._PADDING_RIGHT])||0)+(parseFloat(C[e.TableDomUtils.CSS_PROP._PADDING_LEFT])||0));for(S=0;S<b;S++){if(null!=(d=this.getTableHeaderColumn(S))&&(n[S]&&(u=d.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_CLASS))&&u.length>0&&(u[0].style[e.TableDomUtils.CSS_PROP._MIN_HEIGHT]=n[S]),this._forcedWidthColumns[S]?(D=s[S]-a[S]+e.TableDomUtils.CSS_VAL._PX,d.style[e.TableDomUtils.CSS_PROP._MIN_WIDTH]=D,d.style[e.TableDomUtils.CSS_PROP._WIDTH]=D,d.style[e.TableDomUtils.CSS_PROP._MAX_WIDTH]=D):d.style[e.TableDomUtils.CSS_PROP._MIN_WIDTH]=s[S]+e.TableDomUtils.CSS_VAL._PX),null!=(g=this.getTableBodyCell(0,S,null)))if(this._forcedWidthColumns[S])for(D=s[S]-r[S]+e.TableDomUtils.CSS_VAL._PX,T=0;T<f.length;T++)(g=this.getTableBodyCell(T,S,null)).style[e.TableDomUtils.CSS_PROP._MIN_WIDTH]=D,g.style[e.TableDomUtils.CSS_PROP._WIDTH]=D,g.style[e.TableDomUtils.CSS_PROP._MAX_WIDTH]=D;else g.style[e.TableDomUtils.CSS_PROP._MIN_WIDTH]=O[S]+e.TableDomUtils.CSS_VAL._PX;null!=(m=this.getTableFooterCell(S))&&(this._forcedWidthColumns[S]?(D=s[S]-_[S]+e.TableDomUtils.CSS_VAL._PX,m.style[e.TableDomUtils.CSS_PROP._MIN_WIDTH]=D,m.style[e.TableDomUtils.CSS_PROP._WIDTH]=D,m.style[e.TableDomUtils.CSS_PROP._MAX_WIDTH]=D):(L=_[S]>a[S]?s[S]-_[S]+a[S]:s[S]+a[S]-_[S],m.style[e.TableDomUtils.CSS_PROP._MIN_WIDTH]=L+e.TableDomUtils.CSS_VAL._PX))}},e.TableDomUtils.prototype._setHeaderColumnLastWidth=function(){var t=this.getScrollbarWidth();if(t>0&&this.getScrollbarHeight()<=1){var l=this.component._getColumnDefs(),o=l.length,i=this.getTableHeaderColumn(o-1),s=0;if(null!=i){var a,n,r;for(a=0;a<o;a++)l[a],n=this.getTableHeaderColumn(a),r=window.getComputedStyle(n),s+=parseInt(r[e.TableDomUtils.CSS_PROP._WIDTH],10)||0;var _=this.getTableHeader(),S=window.getComputedStyle(_);if((parseInt(S[e.TableDomUtils.CSS_PROP._WIDTH],10)||0)>s){var T=window.getComputedStyle(i),d=parseInt(T[e.TableDomUtils.CSS_PROP._WIDTH],10)||0;i.style[e.TableDomUtils.CSS_PROP._MIN_WIDTH]=d+t+e.TableDomUtils.CSS_VAL._PX}}}},e.TableDomUtils.prototype._setHeaderColumnOverflowWidths=function(){var t,l,o,i,s,a,n,r=this.component._getColumnDefs(),_=r.length;for(t=0;t<_;t++)l=r[t],null!=(o=this.getTableHeaderColumn(t))&&(i=o.getElementsByClassName(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_CLASS)).length>0&&(i=i[0],(s=o.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_TEXT_CLASS))&&s.length>0&&(n=0,l.sortable==e.TableDomUtils._OPTION_ENABLED&&(n=o.querySelectorAll("."+e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_SORT_PACEHOLDER_CLASS)[0].clientWidth),i.clientWidth>0&&s[0].clientWidth+n>i.clientWidth&&(s[0].style[e.TableDomUtils.CSS_PROP._WIDTH]="",s[0].clientWidth>1+(a=o.clientWidth-n)&&(s[0].style[e.TableDomUtils.CSS_PROP._WIDTH]=a+e.TableDomUtils.CSS_VAL._PX))))},e.TableDomUtils.CSS_CLASSES={_CHECKBOX_ACC_SELECT_COLUMN_CLASS:"oj-table-checkbox-acc-select-column",_CHECKBOX_ACC_SELECT_ROW_CLASS:"oj-table-checkbox-acc-select-row",_TABLE_CONTAINER_CLASS:"oj-table-container",_TABLE_SCROLLER_CLASS:"oj-table-scroller",_TABLE_CLASS:"oj-table",_TABLE_COMPACT_CLASS:"oj-table-grid-display",_TABLE_EDIT_CLASS:"oj-table-editable",_TABLE_SCROLL_CLASS:"oj-table-scroll",_TABLE_SCROLL_VERTICAL_CLASS:"oj-table-scroll-vertical",_TABLE_SCROLL_HORIZONTAL_CLASS:"oj-table-scroll-horizontal",_TABLE_ELEMENT_CLASS:"oj-table-element",_TABLE_FOOTER_CLASS:"oj-table-footer",_TABLE_FOOTER_ROW_CLASS:"oj-table-footer-row",_TABLE_HEADER_CLASS:"oj-table-header",_TABLE_HEADER_ROW_CLASS:"oj-table-header-row",_TABLE_BOTTOM_SLOT_CLASS:"oj-table-slot-bottom",_COLUMN_HEADER_CELL_CLASS:"oj-table-column-header-cell",_COLUMN_HEADER_DROP_EMPTY_CELL_CLASS:"oj-table-column-header-drop-empty-cell",_COLUMN_HEADER_ACC_SELECT_COLUMN_CLASS:"oj-table-column-header-acc-select-column",_COLUMN_HEADER_ACC_SELECT_ROW_CLASS:"oj-table-column-header-acc-select-row",_COLUMN_HEADER_ACC_SELECT_ROW_TEXT_CLASS:"oj-table-column-header-acc-select-row-text",_COLUMN_HEADER_CLASS:"oj-table-column-header",_COLUMN_HEADER_TEXT_CLASS:"oj-table-column-header-text",_COLUMN_HEADER_ASC_CLASS:"oj-table-column-header-asc",_COLUMN_HEADER_DSC_CLASS:"oj-table-column-header-dsc",_COLUMN_HEADER_SORT_PACEHOLDER_CLASS:"oj-table-column-header-sort-placeholder",_COLUMN_HEADER_ACC_ASC_LINK_CLASS:"oj-table-column-header-acc-asc-link",_COLUMN_HEADER_ACC_DSC_LINK_CLASS:"oj-table-column-header-acc-dsc-link",_COLUMN_HEADER_ASC_LINK_CLASS:"oj-table-column-header-asc-link",_COLUMN_HEADER_DSC_LINK_CLASS:"oj-table-column-header-dsc-link",_COLUMN_HEADER_ASC_ICON_CLASS:"oj-table-column-header-asc-icon",_COLUMN_HEADER_DSC_ICON_CLASS:"oj-table-column-header-dsc-icon",_COLUMN_HEADER_DRAG_INDICATOR_BEFORE_CLASS:"oj-table-column-header-drag-indicator-before",_COLUMN_HEADER_DRAG_INDICATOR_AFTER_CLASS:"oj-table-column-header-drag-indicator-after",_COLUMN_HEADER_DRAG_IMAGE:"oj-table-column-header-cell-drag-image",_COLUMN_HEADER_RESIZE_INDICATOR_CLASS:"oj-table-column-header-resize-indicator",_TABLE_BODY_CLASS:"oj-table-body",_TABLE_DATA_ROW_CLASS:"oj-table-body-row",_TABLE_DATA_ROW_DRAG_INDICATOR_BEFORE_CLASS:"oj-table-body-row-drag-indicator-before",_TABLE_DATA_ROW_DRAG_INDICATOR_AFTER_CLASS:"oj-table-body-row-drag-indicator-after",_TABLE_DATA_ROW_TOUCH_SELECTIOM_AFFORDANCE_TOP_CLASS:"oj-table-body-row-touch-selection-affordance-top",_TABLE_DATA_ROW_TOUCH_SELECTIOM_AFFORDANCE_BOTTOM_CLASS:"oj-table-body-row-touch-selection-affordance-bottom",_TABLE_DATA_ROW_TOUCH_SELECTIOM_AFFORDANCE_TOP_ICON_CLASS:"oj-table-body-row-touch-selection-affordance-top-icon",_TABLE_DATA_ROW_TOUCH_SELECTIOM_AFFORDANCE_BOTTOM_ICON_CLASS:"oj-table-body-row-touch-selection-affordance-bottom-icon",_TABLE_DATA_ROW_TOUCH_SELECTIOM_AFFORDANCE_TOUCH_AREA_CLASS:"oj-table-body-row-touch-selection-affordance-touch-area",_TABLE_DATA_ROW_EDIT_CLASS:"oj-table-body-row-edit",_TABLE_DATA_CURRENT_ROW_CLASS:"oj-table-body-current-row",_TABLE_DATA_CELL_CLASS:"oj-table-data-cell",_TABLE_DATA_CELL_ACC_SELECT_CLASS:"oj-table-data-cell-acc-select",_TABLE_DATA_CELL_EDIT_CLASS:"oj-table-data-cell-edit",_TABLE_DATE_CELL_FORM_CONTROL_CLASS:"oj-form-control-inherit",_TABLE_VGRID_LINES_CLASS:"oj-table-vgrid-lines",_TABLE_HGRID_LINES_CLASS:"oj-table-hgrid-lines",_TABLE_FOOTER_CELL_CLASS:"oj-table-footer-cell",_TABLE_FOOTER_DROP_EMPTY_CELL_CLASS:"oj-table-footer-drop-empty-cell",_TABLE_INLINE_MESSAGE_CLASS:"oj-table-inline-message",_TABLE_STATUS_ACC_NOTIFICATION_CLASS:"oj-table-status-acc-notification",_TABLE_STATUS_MESSAGE_CLASS:"oj-table-status-message",_TABLE_STATUS_MESSAGE_TEXT_CLASS:"oj-table-status-message-text",_TABLE_LOADING_ICON_CLASS:"oj-table-loading-icon",_TABLE_BODY_MESSAGE_CLASS:"oj-table-body-message",_TABLE_BODY_MESSAGE_ROW_CLASS:"oj-table-body-message-row",_ICON_CLASS:"oj-icon",_WIDGET_ICON_CLASS:"oj-component-icon",_HIDDEN_CONTENT_ACC_CLASS:"oj-helper-hidden-accessible"},e.TableDomUtils.CSS_PROP={_DISPLAY:"display",_VISIBILITY:"visibility",_POSITION:"position",_HEIGHT:"height",_WIDTH:"width",_TOP:"top",_BOTTOM:"bottom",_LEFT:"left",_RIGHT:"right",_PADDING_TOP:"padding-top",_PADDING_LEFT:"padding-left",_PADDING_RIGHT:"padding-right",_OVERFLOW:"overflow",_OVERFLOW_X:"overflow-x",_OVERFLOW_Y:"overflow-y",_MIN_WIDTH:"min-width",_MAX_WIDTH:"max-width",_MIN_HEIGHT:"min-height",_FLOAT:"float",_BORDER_TOP:"border-top",_BORDER_BOTTOM_WIDTH:"border-bottom-width",_BORDER_LEFT_WIDTH:"border-left-width",_MARGIN_BOTTOM:"margin-bottom",_VERTICAL_ALIGN:"vertical-align",_CURSOR:"cursor",_ZINDEX:"z-index",_BACKGROUND_COLOR:"background-color",_BOX_SIZING:"box-sizing"},e.TableDomUtils.CSS_VAL={_NONE:"none",_BLOCK:"block",_INLINE_BLOCK:"inline-block",_RELATIVE:"relative",_ABSOLUTE:"absolute",_INLINE:"inline",_AUTO:"auto",_HIDDEN:"hidden",_VISIBLE:"visible",_LEFT:"left",_PX:"px",_MIDDLE:"middle",_MOVE:"move",_FIXED:"fixed",_TRANSPARENT:"transparent",_BORDER_BOX:"border-box"},e.TableDomUtils.DOM_ATTR={_STYLE:"style",_TABINDEX:"tabindex",_TYPE:"type",_ID:"id",_TITLE:"title",_HREF:"href",_HEADERS:"headers",_COLSPAN:"colspan",_ROLE:"role",_ARIA_LABEL:"aria-label",_ARIA_HIDDEN:"aria-hidden"},e.TableDomUtils.DOM_ELEMENT={_DIV:"div",_A:"a",_TR:"tr",_TD:"td",_TH:"th",_TABLE:"table",_TBODY:"tbody",_THEAD:"thead",_TFOOT:"tfoot",_INPUT:"input",_UL:"ul",_SPAN:"span",_BUTTON:"button",_LABEL:"label"},e.TableDomUtils.MARKER_STYLE_CLASSES={_WIDGET:"oj-component",_ACTIVE:"oj-active",_CLICKABLE_ICON:"oj-clickable-icon-nocontext",_DISABLED:"oj-disabled",_ENABLED:"oj-enabled",_FOCUS:"oj-focus",_FOCUS_HIGHLIGHT:"oj-focus-highlight",_HOVER:"oj-hover",_SELECTED:"oj-selected",_WARNING:"oj-warning",_DRAGGABLE:"oj-draggable",_DRAG:"oj-drag"},e.TableDomUtils._COLUMN_HEADER_ROW_SELECT_ID="_hdrColRowSel",e.TableDomUtils._OPTION_AUTO="auto",e.TableDomUtils._OPTION_ENABLED="enabled",e.TableDomUtils._OPTION_DISABLED="disabled",e.TableDomUtils._OPTION_SELECTION_MODES={_SINGLE:"single",_MULTIPLE:"multiple"},e.TableDomUtils._OPTION_DISPLAY={_LIST:"list",_GRID:"grid"},e.TableRendererUtils={},e.TableRendererUtils.columnHeaderDefaultRenderer=function(l,o,i,s){var a=o.headerContext.parentElement,n=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV);n.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_CLASS),t(a).empty(),a.appendChild(n);var r=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV);r.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_TEXT_CLASS),n.insertBefore(r,n.firstChild),null!=s?s(t(r)):this.columnHeaderDefaultTextRenderer(l,r,o)},e.TableRendererUtils.columnHeaderSortableIconRenderer=function(l,o,i,s){var a=o.columnIndex,n=l._getColumnDefs()[a],r=o.headerContext.parentElement,_=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV);_.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_CLASS),t(r).empty(),r.appendChild(_),"rtl"===l._GetReadingDirection()?_.style[e.TableDomUtils.CSS_PROP._PADDING_LEFT]="0px":_.style[e.TableDomUtils.CSS_PROP._PADDING_RIGHT]="0px";var S=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV);S.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_ASC_CLASS),_.appendChild(S);var T,d,h=document.createElement(e.TableDomUtils.DOM_ELEMENT._A);h.setAttribute(e.TableDomUtils.DOM_ATTR._ARIA_HIDDEN,"true"),h.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_ASC_LINK_CLASS),h.classList.add(e.TableDomUtils.CSS_CLASSES._WIDGET_ICON_CLASS),h.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_ASC_ICON_CLASS),h.classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._DISABLED),h.classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._CLICKABLE_ICON),l._AddHoverable(t(h)),S.appendChild(h),void 0!==e.TableRendererUtils._headerColumnAscWidth?(T=e.TableRendererUtils._headerColumnAscWidth,d=e.TableRendererUtils._headerColumnAscHeight):(T=t(S).width(),d=t(S).height(),T>0&&d>0&&(e.TableRendererUtils._headerColumnAscWidth=T,e.TableRendererUtils._headerColumnAscHeight=d));var u=document.createElement(e.TableDomUtils.DOM_ELEMENT._A);u.setAttribute(e.TableDomUtils.DOM_ATTR._TABINDEX,"0"),u.setAttribute(e.TableDomUtils.DOM_ATTR._HREF,"#"),u.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_ACC_ASC_LINK_CLASS),u.classList.add(e.TableDomUtils.CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS),u.setAttribute(e.TableDomUtils.DOM_ATTR._ARIA_LABEL,l.getTranslatedString("labelSortAsc")+" "+n.headerText),S.appendChild(u);var c=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV);c.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_SORT_PACEHOLDER_CLASS),c.style[e.TableDomUtils.CSS_PROP._DISPLAY]=e.TableDomUtils.CSS_VAL._INLINE_BLOCK,c.style[e.TableDomUtils.CSS_PROP._VERTICAL_ALIGN]=e.TableDomUtils.CSS_VAL._MIDDLE,c.style[e.TableDomUtils.CSS_PROP._WIDTH]=T+e.TableDomUtils.CSS_VAL._PX,c.style[e.TableDomUtils.CSS_PROP._HEIGHT]=d+e.TableDomUtils.CSS_VAL._PX,_.appendChild(c);var m=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV);m.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DSC_CLASS),m.classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._DISABLED),_.appendChild(m);var C=document.createElement(e.TableDomUtils.DOM_ELEMENT._A);C.setAttribute(e.TableDomUtils.DOM_ATTR._ARIA_HIDDEN,"true"),C.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DSC_LINK_CLASS),C.classList.add(e.TableDomUtils.CSS_CLASSES._WIDGET_ICON_CLASS),C.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_DSC_ICON_CLASS),C.classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._DISABLED),C.classList.add(e.TableDomUtils.MARKER_STYLE_CLASSES._CLICKABLE_ICON),l._AddHoverable(t(C)),m.appendChild(C);var E=document.createElement(e.TableDomUtils.DOM_ELEMENT._A);E.setAttribute(e.TableDomUtils.DOM_ATTR._TABINDEX,"0"),E.setAttribute(e.TableDomUtils.DOM_ATTR._HREF,"#"),E.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_ACC_DSC_LINK_CLASS),E.classList.add(e.TableDomUtils.CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS),E.setAttribute(e.TableDomUtils.DOM_ATTR._ARIA_LABEL,l.getTranslatedString("labelSortDsc")+" "+n.headerText),m.appendChild(E);var D=document.createElement(e.TableDomUtils.DOM_ELEMENT._DIV);D.classList.add(e.TableDomUtils.CSS_CLASSES._COLUMN_HEADER_TEXT_CLASS),_.insertBefore(D,_.firstChild),null!=s?s(t(D)):this.columnHeaderDefaultTextRenderer(l,D,o)},e.TableRendererUtils.columnHeaderDefaultTextRenderer=function(e,t,l){var o=l.columnIndex,i=e._getColumnDefs()[o],s=null==i.headerText?"":i.headerText;t.appendChild(document.createTextNode(s))},e.TableRendererUtils.tableBodyRowDefaultRenderer=function(e,t,l,o){var i=o.rowContext.parentElement,s=e._getTableDomUtils().hashCode(l.key),a=e._getColumnDefs();e._getTableDomUtils().setTableBodyRowAttributes(l,i);var n,r=a.length;for(n=0;n<r;n++)this.tableBodyCellDefaultRenderer(e,t,n,l,s,o)},e.TableRendererUtils.tableBodyCellDefaultRenderer=function(l,o,i,s,a,n){var r=n.rowContext.parentElement,_=l._getColumnDefs()[i],S=l._getTableDomUtils().createTableBodyCell(o,i);l._getTableDomUtils().styleTableBodyCell(i,S,!0),l._getTableDomUtils().insertTableBodyCell(o,s.key,a,i,S,r,!0);var T=null;null!=_.field&&(T=e.TableRendererUtils._getObjectPath(s.data,_.field));var d=l._getColumnRenderer(i,"cell"),h=this.getRendererContextObject(l,S,{row:s}),u={cellContext:h,columnIndex:i,data:T,row:t.extend({},s.data),componentElement:h.componentElement,parentElement:h.parentElement};if(d){var c=d(u);null!=c?t(S).append(c):(S=t(r).children(":not(."+e.TableDomUtils.CSS_CLASSES._TABLE_DATA_CELL_ACC_SELECT_CLASS+")")[i],l._getTableDomUtils().setTableBodyCellAttributes(o,s.key,a,i,S),l._getTableDomUtils().styleTableBodyCell(i,S,!1))}else{var m=l._getSlotTemplate(_.template);if(m){var C=l._getRootElement(),E=l._getTemplateEngine();if(null!=E){var D=e.TableRendererUtils.getCellSlotTemplateContextObject(l,u),b=E.execute(C,m,D,l.options.as);b instanceof Array||(b=[b]),b.map(function(e){S.appendChild(e)}),l._hasCellTemplate=!0}}else{var g=null==(T=e.TableRendererUtils._getVal(T))?"":T;S.appendChild(document.createTextNode(g))}}},e.TableRendererUtils.getRendererContextObject=function(t,l,o){var i={};i.component=e.Components.__GetWidgetConstructor(t.element,"ojTable");var s=t.options.data;if(e.PagingTableDataSource&&s instanceof e.PagingTableDataSource&&(s=s.getWrappedDataSource()),i.datasource=s,i.parentElement=l,null!=o.row){var a=o.row,n=a.key;if(i.status=this.getRendererStatusObject(t,a),t._hasEditableRow()){var r=t._getEditableRowKey();e.Object.compareValues(n,r)?i.mode="edit":i.mode="navigation"}else i.mode="navigation";this._copyMetadata(i,a,s)}return t._FixRendererContext(i)},e.TableRendererUtils.getRendererStatusObject=function(e,l){return{rowIndex:l.index,rowKey:l.key,currentRow:t.extend({},e._getCurrentRow())}},e.TableRendererUtils.getCellSlotTemplateContextObject=function(e,t){var l=this.getSlotTemplateContextObject(e),o=t.cellContext.status.rowIndex,i=t.cellContext.status.rowKey,s=t.columnIndex;return l[e._CONST_DATA]=t.data,l.row=t.row,l[e._CONST_INDEX]=o,l.columnIndex=s,l.mode=t.cellContext.mode,l[e._CONST_KEY]=i,l},e.TableRendererUtils.getHeaderSlotTemplateContextObject=function(e,t,l){var o=this.getSlotTemplateContextObject(e);return o[e._CONST_DATA]=t,o.columnIndex=l,o},e.TableRendererUtils.getSlotTemplateContextObject=function(e){return{componentElement:e._getRootElement()}},e.TableRendererUtils._copyMetadata=function(t,l,o){if(e.FlattenedTreeTableDataSource&&o instanceof e.FlattenedTreeTableDataSource){var i,s=l.metadata;for(i in null==s&&(s=o._getMetadata(l.index)),s)s.hasOwnProperty(i)&&(t[i]=s[i])}},e.TableRendererUtils._getObjectPath=function(e,t){if(null!=e&&("string"==typeof t||t instanceof String)&&(-1!=t.indexOf(".")||-1!=t.indexOf("[")&&-1!=t.indexOf("]"))){var l=e,o=!1;if(t.split(".").map(function(e){if(null!=l&&-1!=e.indexOf("[")&&-1!=e.indexOf("]")){var t=e.substr(0,e.indexOf("[")),i=parseInt(e.substr(e.indexOf("[")+1,e.indexOf("]")-e.indexOf("[")-1),10);l=l[t][i],o=!0}else null!=l&&void 0!==l[e]&&(l=l[e],o=!0)}),o)return l}else if(null==e)return null;return e[t]},e.TableRendererUtils._getVal=function(e){return"function"==typeof e?e():e},e.TableResizeUtils=function(e){this.component=e,this.options=e.options,this.Init()},e.Object.createSubclass(e.TableResizeUtils,e.Object,"oj.TableResizeUtils"),e.TableResizeUtils.prototype.Init=function(){e.TableResizeUtils.superclass.Init.call(this)},e.TableResizeUtils.prototype.setResizeCursor=function(e){var t=this.component._getEventTargetElement(e),l=this.component._getTableDomUtils().getElementColumnIdx(t);if(null==l)return!1;if(this.component._getColumnDefs()[l].resizable==this.component._OPTION_DISABLED&&this._resizeStartColumnIdx!==l-1&&this._resizeStartColumnIdx!==l+1)return!1;if(null==this._resizeStartColumnIdx)return null!==this._isHeaderColumnResizeStart(e)?(t.style.cursor="col-resize",!0):(t.style.cursor="",!1);var o=this.component._getTableDomUtils().getTableHeaderColumns();if(!o)return!1;var i=o.length;if(l==this._resizeStartColumnIdx||this._resizeColumnStart&&l==this._resizeStartColumnIdx-1||!this._resizeColumnStart&&l==this._resizeStartColumnIdx+1){if(0==this._resizeStartColumnIdx&&this._resizeColumnStart)return!1;if(this._resizeStartColumnIdx==i-1&&!this._resizeColumnStart)return!1;var s=this.component._getTableDomUtils().getTableHeaderColumnResizeIndicator();if(null!=s){if("rtl"===this.component._GetReadingDirection()){var a=e.target.getBoundingClientRect();this._resizeColumnStart?s.style.left=this._getPageX(e)-a.left+a.width+"px":s.style.left=this._getPageX(e)-a.left+"px"}else s.style.left=this._getPageX(e)+"px";return!0}}return!1},e.TableResizeUtils.prototype.handleHeaderColumnResizeStart=function(e){var t=this.component._getEventTargetElement(e),l=this.component._getTableDomUtils().getElementColumnIdx(t);if(null!=l){var o=this.component._getColumnDefs()[l];if(this._resizeColumnStart=this._isHeaderColumnResizeStart(e),o.resizable==this.component._OPTION_ENABLED&&null!==this._resizeColumnStart)return this._resizeStartColumnIdx=l,this._resizeStartPageX=this._getPageX(e),this._setTableHeaderColumnsResizeStyling(),this._setTableHeaderColumnResizeIndicator(l),!0}return this._resizeStartColumnIdx=null,this._resizeStartPageX=null,!1},e.TableResizeUtils.prototype.handleHeaderColumnResizeEnd=function(e){var l=this.component._getEventTargetElement(e),o=this.component._getTableDomUtils().getElementColumnIdx(l);if(null!==o&&o===this._resizeStartColumnIdx||this._resizeColumnStart&&o===this._resizeStartColumnIdx-1||!this._resizeColumnStart&&o===this._resizeStartColumnIdx+1){var i=this.component._getTableDomUtils().getTableHeaderColumn(this._resizeStartColumnIdx);if(null!=i){var s,a,n=i.getBoundingClientRect().width;if(a=this._resizeColumnStart?this._resizeStartPageX-this._getPageX(e):this._getPageX(e)-this._resizeStartPageX,Math.abs(a)>2){s=n+a;var r,_,S,T=[],d=this.options.columns.length;for(r=0;r<d;r++)T[r]=t.extend({},{},this.options.columns[r]);if(T[this._resizeStartColumnIdx].width=s,this._resizeColumnStart&&(S=this._resizeStartColumnIdx-1,_=this.component._getTableDomUtils().getTableHeaderColumn(S))){var h=_.getBoundingClientRect().width;T[S].width=h-a}return this.component.option("columns",T,{_context:{writeback:!0,internalSet:!0}}),this.component._clearCachedMetadata(),this.component._refresh(),this.clearTableHeaderColumnsResize(),!0}}}return this.clearTableHeaderColumnsResize(),!1},e.TableResizeUtils.prototype.clearTableHeaderColumnsResize=function(){this._resizeStartColumnIdx=null,this._resizeColumnStart=null,this._resizeStartPageX=null,this._clearTableHeaderColumnsResizeStyling(),this.component._getTableDomUtils().removeTableHeaderColumnResizeIndicator()},e.TableResizeUtils.prototype._getPageX=function(e){return void 0!==e.pageX?e.pageX:void 0!==e.changedTouches?e.changedTouches[0].pageX:0},e.TableResizeUtils.prototype._isHeaderColumnResizeStart=function(t){var l=null,o=t.target.getBoundingClientRect(),i=Math.abs(this._getPageX(t)-o.left),s=Math.abs(this._getPageX(t)-o.right);return i<=e.TableResizeUtils.RESIZE_OFFSET?l="rtl"!==this.component._GetReadingDirection():s<=e.TableResizeUtils.RESIZE_OFFSET&&(l="rtl"===this.component._GetReadingDirection()),l},e.TableResizeUtils.prototype._setTableHeaderColumnResizeIndicator=function(e){var t=this.component._getTableDomUtils().getTableHeaderColumnResizeIndicator();null==t&&(t=this.component._getTableDomUtils().createTableHeaderColumnResizeIndicator());var l=this.component._getTableDomUtils().getTable().getBoundingClientRect(),o=this.component._getTableDomUtils().getTableHeaderColumn(e).getBoundingClientRect(),i=t.getBoundingClientRect();t.style.height=l.height+"px",this._resizeColumnStart?("rtl"===this.component._GetReadingDirection()?t.style.left=o.left-i.left+o.width+"px":t.style.left=-1*i.left+o.left+"px",t.style.borderLeftWidth="2px",t.style.borderRightWidth="0"):("rtl"===this.component._GetReadingDirection()?t.style.left=o.left-i.left+"px":t.style.left=-1*i.left+o.left+o.width+"px",t.style.borderRightWidth="2px",t.style.borderLeftWidth="0")},e.TableResizeUtils.prototype._setTableHeaderColumnsResizeStyling=function(){this.component._getTableDomUtils().getTable().classList.add(e.TableResizeUtils.CSS_CLASSES._COLUMN_HEADER_RESIZING_CLASS)},e.TableResizeUtils.prototype._clearTableHeaderColumnsResizeStyling=function(){var t,l=this.component._getTableDomUtils().getTableHeaderColumns();if(l)for(t=0;t<l.length;t++)l[t].style.cursor="";this.component._getTableDomUtils().getTable().classList.remove(e.TableResizeUtils.CSS_CLASSES._COLUMN_HEADER_RESIZING_CLASS)},e.TableResizeUtils.RESIZE_OFFSET=10,e.TableResizeUtils.CSS_CLASSES={_COLUMN_HEADER_RESIZING_CLASS:"oj-table-column-header-resizing"},e.CustomElementBridge.registerMetadata("oj-table","baseComponent",{properties:{accessibility:{type:"Object",properties:{rowHeader:{type:"string"}}},as:{type:"string"},columns:{type:"Array<Object>",writeback:!0},columnsDefault:{type:"Object",properties:{className:{type:"string"},field:{type:"string"},footerClassName:{type:"string"},footerRenderer:{},footerStyle:{type:"string"},footerTemplate:{type:"string"},headerClassName:{type:"string"},headerRenderer:{},headerStyle:{type:"string"},headerTemplate:{type:"string"},headerText:{type:"string"},renderer:{},resizable:{type:"string"},sortable:{type:"string",enumValues:["auto","enabled","disabled","none"]},sortProperty:{
type:"string"},style:{type:"string"},template:{type:"string"},width:{type:"number"}}},currentRow:{type:"Object",writeback:!0},data:{},display:{type:"string",enumValues:["list","grid"]},dnd:{type:"Object",properties:{drag:{type:"Object",properties:{rows:{type:"Object",properties:{dataTypes:{type:"string|Array<string>"},dragStart:{},drag:{},dragEnd:{}}}}},drop:{type:"Object",properties:{columns:{type:"Object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{},dragOver:{},dragLeave:{},drop:{}}},rows:{type:"Object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{},dragOver:{},dragLeave:{},drop:{}}}}},reorder:{type:"Object",properties:{columns:{type:"string",enumValues:["disabled","enabled"]}}}}},editMode:{type:"string",enumValues:["none","rowEdit"]},firstSelectedRow:{type:"Object",writeback:!0},horizontalGridVisible:{type:"string",enumValues:["auto","enabled","disabled"]},rowRenderer:{},scrollPolicy:{type:"string",enumValues:["auto","loadMoreOnScroll"]},scrollPolicyOptions:{type:"Object",properties:{fetchSize:{type:"number"},maxCount:{type:"number"}}},selection:{type:"Array<Object>",writeback:!0},selectionMode:{type:"Object",properties:{row:{type:"string",enumValues:["single","multiple"]},column:{type:"string",enumValues:["single","multiple"]}}},selectionRequired:{type:"boolean"},translations:{type:"Object",properties:{labelAccSelectionAffordanceBottom:{type:"string"},labelAccSelectionAffordanceTop:{type:"string"},labelDisableNonContiguousSelection:{type:"string"},labelEditRow:{type:"string",value:"Edit Row"},labelEnableNonContiguousSelection:{type:"string"},labelResize:{type:"string"},labelResizePopupSpinner:{type:"string"},labelResizePopupSubmit:{type:"string"},labelSelectAndEditRow:{type:"string",value:"Select And Edit Row"},labelSelectColum:{type:"string",value:"Select Column"},labelSelectRow:{type:"string",value:"Select Row"},labelSort:{type:"string",value:"Sort"},labelSortAsc:{type:"string",value:"Sort Ascending"},labelSortDsc:{type:"string",value:"Sort Descending"},msgColumnResizeWidthValidation:{type:"string",value:"Width value must be an integer."},msgFetchingData:{type:"string",value:"Fetching Data..."},msgInitializing:{type:"string",value:"Initializing..."},msgNoData:{type:"string",value:"No data to display."},msgScrollPolicyMaxCountDetail:{type:"string",value:"Please reload with smaller data set."},msgScrollPolicyMaxCountSummary:{type:"string",value:"Exceeded maximum rows for table scrolling."},msgStatusSortAscending:{type:"string",value:"{0} sorted in ascending order."},msgStatusSortDescending:{type:"string",value:"{0} sorted in descending order."}}},verticalGridVisible:{type:"string",enumValues:["auto","enabled","disabled"]}},methods:{getContextByNode:{},getDataForVisibleRow:{},refreshRow:{}},events:{animateEnd:{},animateStart:{},beforeCurrentRow:{},beforeRowEdit:{},beforeRowEditEnd:{},sort:{}},extension:{_INNER_ELEM:"table",_WIDGET_NAME:"ojTable"}}),e.CustomElementBridge.register("oj-table",{metadata:e.CustomElementBridge.getMetadata("oj-table")})});
define('ojs/ojknockout-validation',["ojs/ojcore","jquery","knockout","ojs/ojknockout","ojs/ojmessaging"],function(n,e,i){n.InvalidComponentTracker=function(){this.Init()},n.Object.createSubclass(n.InvalidComponentTracker,n.Object,"oj.InvalidComponentTracker"),n.InvalidComponentTracker._OPTION_MESSAGES_SHOWN="messagesShown",n.InvalidComponentTracker._OPTION_MESSAGES_HIDDEN="messagesHidden",n.InvalidComponentTracker._OPTION_DISABLED="disabled",n.InvalidComponentTracker._OPTION_READONLY="readOnly",n.InvalidComponentTracker.prototype.Init=function(){n.InvalidComponentTracker.superclass.Init.call(this),this._tracked=[],this._invalid=[],this._invalidHidden=[],this.invalidShown=!1,this.invalidHidden=!1},n.InvalidComponentTracker.prototype.focusOnFirstInvalid=function(){var e,i,a=null,t=this,o=this._updateCounter;return e=n.Context.getPageContext().getBusyContext(),i=e.addBusyState({description:"Setting Focus to first invalid component."}),this.invalidShown&&(a=this._getFirstInvalidComponent()),setTimeout(function(){(a=o===t._updateCounter&&a||t._getFirstInvalidComponent())&&a("instance").GetFocusElement().focus(),i()},1),!!a},n.InvalidComponentTracker.prototype.showMessages=function(){var n,e,i;if(this.invalidHidden)for(e=this._invalidHidden.length,n=0;n<e;n++)this._invalidHidden[n]&&(i=this._tracked[n].component.call(i,"showMessages"))},n.InvalidComponentTracker.prototype._getFirstInvalidComponent=function(){var n=0,e=[],i=this._invalid.length;for(n=0;n<i;n++)this._invalid[n]&&e.push(this._tracked[n]);return 0===e.length?null:(e.sort(function(n,e){var i=n.element,a=e.element;return i.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}),e[0].component)},n.InvalidComponentTracker.prototype._remove=function(n){var i=-1,a=!1;return e.each(this._tracked,function(e,a){i<0&&a.component===n&&(i=e)}),i>=0&&(this._tracked.splice(i,1),this._invalid.splice(i,1),this._invalidHidden.splice(i,1),this._updateInvalidProperties(),a=!0),a},n.InvalidComponentTracker.prototype._update=function(i,a,t,o){var r,d,l,_=i.call(i,"isValid"),s=!0,u=-1;switch(e.each(this._tracked,function(n,e){u<0&&e.component===i&&(u=n)}),t){case n.InvalidComponentTracker._OPTION_MESSAGES_SHOWN:case n.InvalidComponentTracker._OPTION_MESSAGES_HIDDEN:l=!1,o&&(u<0&&(u=this._tracked.push({component:i,element:a})-1,this._initializeInvalidTrackers(u,l)),_||n.InvalidComponentTracker._hasInvalidMessages(o)&&(l=!0,t===n.InvalidComponentTracker._OPTION_MESSAGES_SHOWN&&(r=i.call(i,"option",n.InvalidComponentTracker._OPTION_DISABLED),d=i.call(i,"option",n.InvalidComponentTracker._OPTION_READONLY),l=!r&&!d)),s=this._updateInvalidTracker(t,u||0,l),this._updateInvalidProperties(),s&&(void 0===this._updateCounter&&(this._updateCounter=0),this._updateCounter++));break;case n.InvalidComponentTracker._OPTION_DISABLED:case n.InvalidComponentTracker._OPTION_READONLY:s=!1,o&&(s=this._updateInvalidTracker(n.InvalidComponentTracker._OPTION_MESSAGES_SHOWN,u||0,!1),s=this._updateInvalidTracker(n.InvalidComponentTracker._OPTION_MESSAGES_HIDDEN,u||0,!1)||s,this._updateInvalidProperties())}return s},n.InvalidComponentTracker.prototype._initializeInvalidTrackers=function(e,i){void 0===this._invalid[e]&&this._updateInvalidTracker(n.InvalidComponentTracker._OPTION_MESSAGES_SHOWN,e,i),void 0===this._invalidHidden[e]&&this._updateInvalidTracker(n.InvalidComponentTracker._OPTION_MESSAGES_HIDDEN,e,i)},n.InvalidComponentTracker.prototype._updateInvalidProperties=function(){this.invalidShown=this._invalid.indexOf(!0)>=0,this.invalidHidden=this._invalidHidden.indexOf(!0)>=0},n.InvalidComponentTracker.prototype._updateInvalidTracker=function(e,i,a){var t,o=!1;return t=e===n.InvalidComponentTracker._OPTION_MESSAGES_SHOWN?this._invalid:e===n.InvalidComponentTracker._OPTION_MESSAGES_HIDDEN?this._invalidHidden:[],i>=0&&void 0!==t[i]?(o=t[i]!==a)&&(t[i]=a):(t.push(a),o=!0),o},n.InvalidComponentTracker._hasInvalidMessages=function(e){return!n.Message.isValid(e)},n.ValueBinding=function(){},n.ValueBinding._ATTRIBUTE_INVALID_COMPONENT_TRACKER="invalidComponentTracker",n.ValueBinding._EVENT_OPTIONCHANGE="ojoptionchange",n.ValueBinding._OPTION_MESSAGES_SHOWN="messagesShown",n.ValueBinding._OPTION_MESSAGES_HIDDEN="messagesHidden",n.ValueBinding._OPTION_DISABLED="disabled",n.ValueBinding._OPTION_READONLY="readOnly",n.ValueBinding._update=function(e,a,t,o,r){var d,l={},_=r.call()[n.ValueBinding._ATTRIBUTE_INVALID_COMPONENT_TRACKER];if(e===n.ValueBinding._OPTION_DISABLED||e===n.ValueBinding._OPTION_READONLY)return null!==(d=_&&_.peek()||null)&&i.isWriteableObservable(_)&&d._update.call(d,o,t,e,a)&&_.valueHasMutated(),l[e]=a,l},n.ValueBinding._init=function(n,e){var i={};return i[n]=e,i},n.ValueBinding._afterCreate=function(e,i,a,t){var o=t.call();return e===n.ValueBinding._ATTRIBUTE_INVALID_COMPONENT_TRACKER&&!!o[e]&&n.ValueBinding._registerInvalidComponentTrackerWriteback(e,o,i,a),{}},n.ValueBinding._beforeDestroy=function(a,t,o,r){var d,l=e(t),_=r.call()[a];a===n.ValueBinding._ATTRIBUTE_INVALID_COMPONENT_TRACKER&&l&&(l.off(n.ValueBinding._EVENT_OPTIONCHANGE,n.ValueBinding._updateInvalidComponentTracker),_&&i.isWriteableObservable(_)&&(d=_.peek())._remove.call(d,o)&&_.valueHasMutated())},n.ValueBinding._updateInvalidComponentTracker=function(e){var a,t=e.data.tracker,o=e.data.component,r=e.data.element,d=arguments[1],l=d.option,_=d.value;l!==n.ValueBinding._OPTION_MESSAGES_SHOWN&&l!==n.ValueBinding._OPTION_MESSAGES_HIDDEN||t&&i.isWriteableObservable(t)&&(a=t.peek())&&a._update.call(a,o,r,l,_)&&t.valueHasMutated()},n.ValueBinding._registerInvalidComponentTrackerWriteback=function(a,t,o,r){var d,l,_,s,u=t[a],c=e(o);if(!i.isObservable(u))throw new Error("Binding attribute "+n.ValueBinding._ATTRIBUTE_INVALID_COMPONENT_TRACKER+" should be bound to a ko observable.");null==(s=u.peek())&&u(s=new n.InvalidComponentTracker),null!==s&&(i.isWriteableObservable(u)&&(d=r.call(r,"option",n.ValueBinding._OPTION_MESSAGES_SHOWN),l=r.call(r,"option",n.ValueBinding._OPTION_MESSAGES_HIDDEN),s._update.call(s,r,o,n.ValueBinding._OPTION_MESSAGES_SHOWN,d),s._update.call(s,r,o,n.ValueBinding._OPTION_MESSAGES_HIDDEN,l),u.valueHasMutated()),_={tracker:u,component:r,element:o},c.on(n.ValueBinding._EVENT_OPTIONCHANGE,_,n.ValueBinding._updateInvalidComponentTracker))},n.ComponentBinding.getDefaultInstance().setupManagedAttributes({for:"editableValue",attributes:[n.ValueBinding._ATTRIBUTE_INVALID_COMPONENT_TRACKER,n.ValueBinding._OPTION_DISABLED,n.ValueBinding._OPTION_READONLY],init:n.ValueBinding._init,update:n.ValueBinding._update,afterCreate:n.ValueBinding._afterCreate,beforeDestroy:n.ValueBinding._beforeDestroy})});
function disableLasTbl(e,t){$("#"+e+" .dropBtnBar button").removeAttr("disabled"),t&&$("#"+e+" .dropBtnBar button").attr("disabled","disbaled")}function printContent(e){var t=e.split(",");for($("div").addClass("printHide"),i=0;i<t.length;i++)$("."+t[i]).parents().addClass("printVis"),$("."+t[i]).parents().removeClass("printHide"),$("."+t[i]).find("*").removeClass("printHide"),$("."+t[i]).removeClass("printHide"),$("."+t[i]).addClass("printVis");window.print()}define('serviceUtils',["knockout","ojs/ojcore","jquery","common/constants","common/userInfo","common/messageService","common/commonUtils","common/restService","ojs/ojknockout","promise","ojs/ojlistview","ojs/ojmodel","ojs/ojtable","ojs/ojknockout-validation"],function(e,t,n,r,o,s,a,l){var u=this;u.applicationMessages=e.observableArray([]),u.createMessage=function(e,n,i){return{severity:e,summary:n,detail:i,closeAffordance:"defaults",autoTimeout:r.notificationTimeout,sound:"none",timestamp:t.IntlConverterUtils.dateToLocalIso(new Date)}},u.closeMessageHandler=function(e){u.applicationMessages.remove(e.detail.message)},u.messagePosition=e.computed(function(){return r.messagePositions["top-page"]}),u.showErrorMessage=function(e,t){u.applicationMessages.push(u.createMessage("error",e,t))},u.showWarningMessage=function(e,t){u.applicationMessages.push(u.createMessage("warning",e,t))},u.showInfoMessage=function(e,t){u.applicationMessages.push(u.createMessage("info",e,t))},u.showConfirmationMessage=function(e,t){u.applicationMessages.push(u.createMessage("confirmation",e,t))},u.createMessage2=function(e,n,i){return{severity:e,summary:n,detail:i,closeAffordance:"defaults",sound:"none",timestamp:t.IntlConverterUtils.dateToLocalIso(new Date)}},u.showErrorMessage2=function(e,t){u.applicationMessages.push(u.createMessage2("error",e,t))},u.b64toBlob=function(e,t,n){t=t||"",n=n||512;for(var i=u.decode64(e),r=[],o=0;o<i.length;o+=n){for(var s=i.slice(o,o+n),a=new Array(s.length),l=0;l<s.length;l++)a[l]=s.charCodeAt(l);var c=new Uint8Array(a);r.push(c)}return new Blob(r,{type:t})},u.decode64=function(e){var t,n,i,o,s="",a="",l="",u=0,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.error(r.base64decodeErrorTxt),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=c.indexOf(e.charAt(u++))<<2|(i=c.indexOf(e.charAt(u++)))>>4,n=(15&i)<<4|(o=c.indexOf(e.charAt(u++)))>>2,a=(3&o)<<6|(l=c.indexOf(e.charAt(u++))),s+=String.fromCharCode(t),64!==o&&(s+=String.fromCharCode(n)),64!==l&&(s+=String.fromCharCode(a)),t=n=a="",i=o=l=""}while(u<e.length);return unescape(s)},u.tracker=e.observable(),u._showComponentValidationErrors=function(t){return t||(t=e.utils.unwrapObservable(u.tracker)),t.showMessages(),!t.focusOnFirstInvalid()},u.getCurrentDate=function(){return(new Date).toISOString().substring(0,10)},u.refreshJsonData=function(e,t){u.getRestData(e,[],[],t)},u.getUrlFromParams=function(e,t){var n="";if(!e||!t)return n;for(i=0;i<t.length;i++)(null===t[i]||t[i]?0!==t[i].toString().trim().length:t[i])||e.splice(i+e.length-t.length,1);for(i=0;i<t.length;i++)(null===t[i]||t[i]?0!==t[i].toString().trim().length:t[i])||(t.splice(i,1),i--);for(i=0;i<e.length;i++)n=n+e[i]+"="+t[i]+"&";return e.length>0&&(n="?"+n.substring(0,n.length-1)),n},u.getJsonFromArray=function(e){for(var t in e)FirstKey||(FirstKey=t);var n="[";for(var i in e[FirstKey]){for(var t in n+="{",e)n=n+t+":"+e[t][i]+",";n="{"===n?"{},":n.substring(0,n.length-1)+"},"}return n.length>3&&(n=n.substring(0,n.length-1)),n+="]",JSON.stringify(n)},u.getJsonFromParams=function(e,t){if(!t)return JSON.stringify(e);var n="[{";for(i=0;i<e.length;i++)n=n+'"'+e[i]+'": "'+t[i]+'",';return e.length>0&&(n=n.substring(0,n.length-1)),n+="}]",JSON.stringify(n)},u.getRestData=function(e,t,n,i,r){doRestCall(e,t,n,"get",i,r)},u.postRestData=function(e,t,n,i,r){doRestCall(e,t,n,"post",i,r)},u.putRestData=function(e,t,n,i,r){doRestCall(e,t,n,"put",i,r)},u.deleteRestData=function(e,t,n,i,r){doRestCall(e,t,n,"delete",i,r)},u.doRestCall=function(e,t,i,l,c,g){var f;console.log("Start doRestCall "+l),"get"===l?e+=getUrlFromParams(t,i):f=JSON.stringify(t),n.ajax({url:e,data:f,type:l,contentType:"application/json",dataType:"json",beforeSend:function(e){e.setRequestHeader("AppId",r.appId),o.userToken()&&e.setRequestHeader("Authorization","Bearer "+o.userToken())},success:function(e,t,n){c&&c(e)},error:function(t,n,i){a.restErrorHandler(t.status,t.responseText),u.showErrorMessage(s.httpStatusToMessage(t.status),r.businessErrors[r.backendErrorFlag][l].message+"\n"+e),c&&c(r.backendErrorFlag)},timeout:g||r.serviceTimeout})},u.doFilterSearch=function(t,n,r,o,s){for(i=0;i<n.length;i++)null!==n[i]&&0!==n[i].toString().trim().length||t.splice(i+t.length-n.length,1);for(i=0;i<n.length;i++)null!==n[i]&&0!==n[i].toString().trim().length||(n.splice(i,1),i--);return e.utils.arrayFilter(r,function(e){var r=!0,a="";for(s&&(r=!1),i=0;i<n.length;i++)a=null,filterVal=n[i].toString().trim().toLowerCase(),t[i].indexOf(".")>0?(jsonRecVal=null,e[t[i].split(".")[0]]&&(jsonRecVal=e[t[i].split(".")[0]][t[i].split(".")[1]]),null!==jsonRecVal&&(a=jsonRecVal.toString().toLowerCase())):null!==t[i]&&e[t[i]]&&null!==e[t[i]]&&(a=e[t[i]].toString().toLowerCase()),r=s?!!(!0===r||n[i].toString().trim().length>0&&null!==a&&(o&&a===filterVal||!o&&a.indexOf(filterVal)>-1)):!!(!0===r&&n[i].toString().trim().length>0&&null!==a&&(o&&a===filterVal||!o&&a.indexOf(filterVal)>-1));return r})},u.downloadFile=function(e,t,n,i){(!e||null===e||""===e||e.length<1)&&(e=l.fileUtilityService()),getRestData(e,t,n,function(e){i&&(e=e[i]);var t=(e=e[0]).Document,n=e.FileName,r=u.b64toBlob(t,"");saveAs(r,n)})},u.quickFileView=function(e){Keys=["DocId","Role"];Vals=[e,"OPE"],u.downloadFile(l.fileUtilUrl(),Keys,Vals,"FileResp")},u.downloadDoc=function(e,t,n,i){(!e||null===e||""===e||e.length<1)&&(e=l.docGenUrl()),getRestData(e,t,n,function(t){"ERROR"!==t&&u.showConfirmationMessage(r.docGenSuccessTxt,e);var n=(t=i?t[i]:t[0]).DocumentFile,o=t.DocumentFilepath;o=o.substring(o.lastIndexOf("/")+1,o.length);var s=u.b64toBlob(n,"");saveAs(s,o)})}});
define('common/xhrUtils',["jquery","ojs/ojcore","knockout"],function(e,r,o){return new function(){var r=0;function o(){r<=0&&e("body").removeClass("loading")}e(document).ajaxStart(function(){0===r&&e("body").addClass("loading");var t=this;window.setInterval(function(){4===t.readyState&&4===t.readyState&&(r--,o())},1),r++}),e(document).ajaxStop(function(){r--,o()}),window.onerror=function(e,t,n,a,i){var s=e.toLowerCase();if(s.indexOf("script error")>-1)alert("Script Error: See Browser Console for Detail"),r=0,o();else if(s.indexOf("converter error")>-1)alert("Error occured, please contact your Administrator.\nMessage : "+e),window.history.back();else{var c=["Please report this message to your Administrator.\nMessage: "+e,"URL: "+t].join("\n");console.log(c),r=0,o()}return!1}}});
define('appController',["ojs/ojcore","knockout","common/commonUtils","common/restService","common/userInfo","common/constants","common/configService","ojs/ojmodule-element-utils","ojs/ojmodule-element","ojs/ojrouter","ojs/ojknockout","ojs/ojarraytabledatasource","ojs/ojnavigationlist","ojs/ojjsontreedatasource","ojs/ojoffcanvas","serviceUtils","common/xhrUtils"],function(e,o,n,t,r,a,c,i){return new function(){var l=this;l.userInfo=r,l.hideAdminDashboardMenu=o.observable();var s=e.ResponsiveUtils.getFrameworkQuery(e.ResponsiveUtils.FRAMEWORK_QUERY_KEY.SM_ONLY);l.smScreen=e.ResponsiveKnockoutUtils.createMediaQueryObservable(s);var u,d=e.ResponsiveUtils.getFrameworkQuery(e.ResponsiveUtils.FRAMEWORK_QUERY_KEY.MD_UP);function m(){return!!(l.userInfo&&l.userInfo.userAccess()&&l.userInfo.userAccess().length>0)}function h(e){var o;if((o=e||n.getParameterByName("root"))||(o=l.router.defaultStateId),"401-unauthorized"!==o)return!!l.userInfo.hasAccess(o)||(n.restErrorHandler("401"),!1)}function f(e){return new Promise(function(e,o){getRestData(t.userInfo,null,null,function(n,t){"ERROR"!==n?(l.userInfo.setUserInfo(n),l.userLogin(l.userInfo.userLogin()),e()):o(t)})}).then(function(o){!0===m()&&h(e),l.hideAdminDashboardMenu(r.isRoleReadOnly()),!0===l.hideAdminDashboardMenu()&&document.getElementById("adminDashboard").setAttribute("style","display:none")}).catch(function(e){n.restErrorHandler(e)})}l.mdScreen=e.ResponsiveKnockoutUtils.createMediaQueryObservable(d),l.checkToken=new Promise(async function(e,o){!0===n.isTokenExist()?!0===m()?h()?e():o("401"):f().then(function(){e()}):o("403")}).catch(function(e){n.restErrorHandler(e)}),l.router=e.Router.rootInstance,l.router.configure({dashboard:{label:"Dashboard Scheduler",value:"dashboardscheduler",isDefault:!0,canEnter:l.checkToken},tasks:{label:"Tasks",canEnter:l.checkToken},orders:{label:"Orders",canEnter:l.checkToken},fallout:{label:"Fallout",canEnter:l.checkToken},collectionmonitoring:{label:"Collection Monitoring",canEnter:l.checkToken},viewpayload:{label:"View Payload",canEnter:l.checkToken},massorder:{label:"Mass Order Action",canEnter:l.checkToken},falloutdetails:{label:"Fallout Details",canEnter:l.checkToken},servicemonitoring:{label:"Service Monitoring",canEnter:l.checkToken},"401-unauthorized":{label:"401 Unauthorized",value:(u="401-unauthorized","errorPages/"+u.substr(u.lastIndexOf("/")+1))},navigation:{label:"Navigation"},collectiondetail:{label:"Collection Detail",canEnter:l.checkToken},servicedetail:{label:"Service Detail",canEnter:l.checkToken},cachemonitoring:{label:"Cache Monitoring",canEnter:l.checkToken},openrestriction:{label:"Open Restriction",canEnter:l.checkToken},collectiondashboard:{label:"Collection Dashboard",canEnter:l.checkToken}}),e.Router.defaults.urlAdapter=new e.Router.urlParamAdapter,l.moduleConfig=o.observable({view:[],viewModel:null}),l.loadModule=function(){o.computed(function(){var e=l.router.moduleConfig.name(),o="views/"+e+".html",n="viewModels/"+e;Promise.all([i.createView({viewPath:o}),i.createViewModel({viewModelPath:n})]).then(function(e){l.moduleConfig({view:e[0],viewModel:e[1]})},function(e){})})},this.itemOnly=function(e){return e.leaf},l.redirect=function(o,t){null!==o&&""!==o&&new Promise(function(e,o){!0===n.isTokenExist()?e(!0):o("403")}).then(function(e){!0===m()?h(o):f(o)}).catch(function(e){n.restErrorHandler(e)})&&(e.Router.rootInstance.store(t),e.Router.rootInstance.go(o))},l.mdScreen.subscribe(function(){e.OffcanvasUtils.close(l.drawerParams)}),l.drawerParams={displayMode:"push",selector:"#navDrawer",content:"#pageContent"},l.toggleDrawer=function(){return e.OffcanvasUtils.toggle(l.drawerParams)},l.appName=o.observable(a.appName),l.userLogin=o.observable(),l.encodes=function(){localStorage.getItem("xauth")&&localStorage.removeItem("xauth"),l.auth=btoa(l.name+":"+l.cred),localStorage.setItem("xauth",l.auth),document.cookie="xinit=true; path=/;"},l.getAuth=function(){return localStorage.getItem("xauth")},l.sanitizeUrl=function(e){return e=(e=(e=(e=e.replace("<","&lt;").replace(">","&gt;")).replace("eval\\((.*)\\)","")).replace("[\\\"\\'][\\s]*((?i)javascript):(.*)[\\\"\\']",'""')).replace("((?i)script)","")},l.menuItemAction=function(e){if("out"!==e.target.value)"adminDashboard"!==e.target.value||(window.location.href=c.portalAdmServiceUrl+"/index.html");else{localStorage.clear();const e=encodeURIComponent(l.sanitizeUrl(window.location.origin+window.location.pathname));window.location.href=c.portalAdmServiceUrl+"/login.html?url="+e+"&appId="+encodeURIComponent(a.appId)}}}});
define('ojs/ojtoolbar',["ojs/ojcore","jquery","ojs/ojcomponentcore"],function(t,e){!function(){t.__registerWidget("oj.ojToolbar",e.oj.baseComponent,{widgetEventPrefix:"oj",options:{chroming:"half"},_InitOptions:function(e,n){this._super(e,n),"disabled"in n&&t.Logger.warn("Caller attempted to set the 'disabled' option on Toolbar, but Toolbar does not support the 'disabled' option.  See API doc.")},_ComponentCreate:function(){this._super(),this.element.attr(t.Components._OJ_CONTAINER_ATTR,this.widgetName).addClass("oj-toolbar oj-component").attr("role","toolbar"),this._setup()},_NotifyContextMenuGesture:function(t,e,n){var o=this.element.find(":oj-button[tabindex=0]");this._OpenContextMenu(e,n,{launcher:o,position:{of:"keyboard"===n?o.ojButton("widget"):e}})},_setOption:function(e,n){"disabled"!==e?(this._superApply(arguments),"chroming"===e&&this._refreshChildren()):t.Logger.warn("Caller attempted to set the 'disabled' option on Toolbar, but Toolbar does not support the 'disabled' option.  See API doc.  Ignoring the call.")},refresh:function(){this._super(),this._setup()},_setup:function(){var t=this;this.isRtl="rtl"===this._GetReadingDirection(),this.$enabledButtons=e(),this._IsCustomElement()?(this._focusinListener=function(e){t._handleInitialFocus()},this.element[0].addEventListener("focusin",this._focusinListener,!0),this.$topLevelChildren=this.element.find("oj-button").add(this.element.find("oj-menu-button")).add(this.element.find("oj-buttonset-one")).add(this.element.find("oj-buttonset-many")),this._refreshChildren()):(this.$buttons=this.element.find(":oj-button").unbind("keydown"+this.eventNamespace).bind("keydown"+this.eventNamespace,function(n){t._handleKeyDown(n,e(this))}).unbind("click"+this.eventNamespace).bind("click"+this.eventNamespace,function(n){e(this).ojButton("option","disabled")||t._setTabStop(e(this))}).unbind("focus"+this.eventNamespace).bind("focus"+this.eventNamespace,function(n){t._handleFocus(e(this))}),this.$buttonsets=this.element.find(":oj-buttonset").ojButtonset("refresh"),this.$topLevelButtons=this.$buttons.not(this.$buttonsets.find(":oj-button")).ojButton("refresh"))},_handleFocus:function(t){this._IsCustomElement()||0!=this.$enabledButtons.length?this._setTabStop(t):(this.$enabledButtons=this.$buttons.filter(function(t){return!e(this).ojButton("option","disabled")}),this._initTabindexes(null==this._lastTabStop),this.$enabledButtons[0].focus())},_handleInitialFocus:function(){var t=this;this.element[0].removeEventListener("focusin",this._focusinListener,!0);var n=this.element.find("oj-button").add(this.element.find("oj-menu-button")),o=this.element.find("oj-buttonset-one").add(this.element.find("oj-buttonset-many"));this.$topLevelChildren=n.add(o),this.$buttons=n.add(o.find(".oj-button")).unbind("keydown"+this.eventNamespace).bind("keydown"+this.eventNamespace,function(n){var o=e(this);t._handleKeyDown(n,o)}).unbind("click"+this.eventNamespace).bind("click"+this.eventNamespace,function(n){var o=e(this);o.hasClass("oj-disabled")||t._setTabStop(o)}).unbind("focusin"+this.eventNamespace).bind("focusin"+this.eventNamespace,function(n){var o=e(this);t._handleFocus(o)}),this.$enabledButtons=this.$buttons.filter(function(t){return!e(this).hasClass("oj-disabled")}),this._initTabindexes(null==this._lastTabStop),this._getButtonFocusElem(this.$enabledButtons[0]).focus()},_getButtonFocusElem:function(t){if(this._IsCustomElement()){var n=e(t);return n.hasClass("oj-button-toggle")?n.children("input")[0]:n.children("button")[0]}return t},_initTabindexes:function(t){var n,o=e(this._lastTabStop);if(this._lastTabStop=void 0,this._IsCustomElement())for(var s=0;s<this.$buttons.length;s++)this._getButtonFocusElem(this.$buttons[s]).setAttribute("tabindex","-1");else this.$buttons.attr("tabindex","-1");n=t||!o.is(this.$enabledButtons)?this.$enabledButtons.first():o,this._setTabStop(n)},_mapToTabbable:function(t){for(var o=[],s=0;s<this.$enabledButtons.length;s++)o.push(this._getButtonFocusElem(this.$enabledButtons[s]));var i=e(o);return t.map(function(t,e){if("radio"!=e.type||e.checked||""==e.name)return e;var o=n(e,i).filter(":checked");return o.length?o[0]:e})},_setTabStop:function(t){var n=(t=this._IsCustomElement()?this._mapToTabbable(e(this._getButtonFocusElem(t[0]))):this._mapToTabbable(t))[0],o=this._lastTabStop;n!==o&&(e(o).attr("tabindex","-1"),t.attr("tabindex","0"),this._lastTabStop=n)},_handleKeyDown:function(t,n){switch(t.which){case e.ui.keyCode.UP:case e.ui.keyCode.DOWN:if("radio"!=n.attr("type"))break;case e.ui.keyCode.LEFT:case e.ui.keyCode.RIGHT:t.preventDefault();var o=this.$enabledButtons,s=o.length;if(s<2)break;var i=(o.index(n)+(t.which==e.ui.keyCode.DOWN||t.which==e.ui.keyCode.RIGHT^this.isRtl?1:-1)+s)%s;this._getButtonFocusElem(o.eq(i)[0]).focus()}},_destroy:function(){this.element.removeClass("oj-toolbar oj-component").removeAttr(t.Components._OJ_CONTAINER_ATTR).removeAttr("role"),this.$buttons.attr("tabindex","0"),this._refreshChildren()},_refreshChildren:function(){if(this._IsCustomElement())for(var e=0;e<this.$topLevelChildren.length;e++){var n=this.$topLevelChildren[e];"OJ-BUTTON"==n.tagName||"OJ-MENU-BUTTON"==n.tagName?t.Components.__GetWidgetConstructor(this._getButtonFocusElem(n),"ojButton")&&n.refresh():"OJ-BUTTONSET-ONE"!=n.tagName&&"OJ-BUTTONSET-MANY"!=n.tagName||t.Components.__GetWidgetConstructor(n,"ojButtonset")&&n.refresh()}else this.$buttonsets.ojButtonset("refresh"),this.$topLevelButtons.ojButton("refresh")}});var n=function(t,e){var n,o=t.name;if(o){var s=":radio[name='"+(o=o.replace(/'/g,"\\'"))+"']:oj-button";n=e.filter(s)}else n=e.filter(t).filter(":oj-button");return n}}(),t.Components.setDefaultOptions({ojToolbar:{chroming:t.Components.createDynamicPropertyGetter(function(e){return(t.ThemeUtils.parseJSONFromFontFamily("oj-toolbar-option-defaults")||{}).chroming})}}),t.CustomElementBridge.registerMetadata("oj-toolbar","baseComponent",{properties:{chroming:{type:"string",enumValues:["half","full","outlined"]}},extension:{_WIDGET_NAME:"ojToolbar"}}),t.CustomElementBridge.register("oj-toolbar",{metadata:t.CustomElementBridge.getMetadata("oj-toolbar")})});
define('ojs/ojinputtext',["ojs/ojcore","jquery","ojs/ojeditablevalue"],function(e,t){e.__registerWidget("oj.inputBase",t.oj.editableValue,{version:"1.0.0",widgetEventPrefix:"oj",_ATTR_CHECK:[],_CLASS_NAMES:"",_WIDGET_CLASS_NAMES:"",_ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES:"",_GET_INIT_OPTIONS_PROPS_FOR_WIDGET:[{attribute:"disabled",validateOption:!0},{attribute:"pattern"},{attribute:"placeholder"},{attribute:"value"},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"}],_INPUT_HELPER_KEY:"",_BLUR_HANDLER_KEY:"blur",_KEYDOWN_HANDLER_KEY:"keydown",_KEYUP_HANDLER_KEY:"keyup",_INPUT_HANDLER_KEY:"input",_DROP_HANDLER_KEY:"drop",options:{autocomplete:void 0,autofocus:!1,name:"",placeholder:"",rawValue:"",readOnly:!1,required:!1,validators:void 0},_SaveAttributes:function(e){var t=this._superApply(arguments);return this._processAttrCheck(),t},_InitOptions:function(t,i){this._super(t,i),this._IsCustomElement()||e.EditableValueUtils.initializeOptionsFromDom(this._GET_INIT_OPTIONS_PROPS_FOR_WIDGET,i,this)},_ComponentCreate:function(){var e=this.element,t=this._superApply(arguments),i=(this._GetSavedAttributes(e),this.options.readOnly);return this._rtl="rtl"===this._GetReadingDirection(),"boolean"==typeof i&&this.element.prop("readonly",i),this._DoWrapElement()?(this._wrapElementInRootDomElement(),this._DoWrapElementAndTriggers()&&this._WrapElement(),this._focusable({element:this._wrapper,applyHighlight:!0})):this._focusable({element:this.element,applyHighlight:!0}),this._defaultRegExpValidator={},this._eventHandlers=null,t},_AfterCreate:function(){var i,n=this._superApply(arguments),r=this;return this._refreshRequired(this.options.required),this._CLASS_NAMES&&this.element.addClass(this._CLASS_NAMES),this._attachDetachEventHandlers(),this._AppendInputHelper(),t.each(["disabled","readOnly"],function(e,t){r.options[t]&&r._processDisabledReadOnly(t,r.options[t])}),this._IsCustomElement()&&(i=this.widget().attr("id"))&&e.EditableValueUtils.setSubIdForCustomLabelFor(this._GetContentElement()[0],i),n},_IsRequired:function(){return this.options.required},_AfterSetOptionRequired:e.EditableValueUtils._AfterSetOptionRequired,_AfterSetOptionValidators:e.EditableValueUtils._AfterSetOptionValidators,_AfterSetOptionConverter:e.EditableValueUtils._AfterSetOptionConverter,_ResetConverter:e.EditableValueUtils._ResetConverter,_GetConverter:e.EditableValueUtils._GetConverter,_GetNormalizedValidatorsFromOption:e.EditableValueUtils._GetNormalizedValidatorsFromOption,_processDisabledReadOnly:function(e,t){"disabled"===e&&this.element.prop("disabled",t),"readOnly"===e&&(this.element.prop("readonly",t),this._refreshStateTheming("readOnly",t)),"disabled"!==e&&"readOnly"!==e||this._attachDetachEventHandlers()},_setOption:function(t,i,n){var r=this._superApply(arguments);return"disabled"!==t&&"readOnly"!==t||this._processDisabledReadOnly(t,i),"pattern"===t&&(this._defaultRegExpValidator[e.ValidatorFactory.VALIDATOR_TYPE_REGEXP]=this._getImplicitRegExpValidator(),this._AfterSetOptionValidators()),r},_AfterSetOption:function(t,i,n){switch(this._superApply(arguments),t){case"readOnly":this._AfterSetOptionDisabledReadOnly(t,e.EditableValueUtils.readOnlyOptionOptions);break;case"required":this._AfterSetOptionRequired(t);break;case"validators":this._AfterSetOptionValidators(t);break;case"converter":this._AfterSetOptionConverter(t)}},_destroy:function(){var t=this._superApply(arguments);return this.element.off("blur drop keydown keyup input"),this._inputHelper&&this._inputHelper.remove(),this._DoWrapElement()&&!this._IsCustomElement()&&(this._DoWrapElementAndTriggers()?e.DomUtils.unwrap(this.element,this._wrapper):e.DomUtils.unwrap(this.element)),t},_attachDetachEventHandlers:function(){if(this.options.readOnly||this.options.disabled){if(this._eventHandlers)for(var e=[this._BLUR_HANDLER_KEY,this._KEYDOWN_HANDLER_KEY,this._KEYUP_HANDLER_KEY,this._INPUT_HANDLER_KEY,this._DROP_HANDLER_KEY],i=0,n=e.length;i<n;i++)this._eventHandlers[e[i]]&&(this.element.off(e[i],this._eventHandlers[e[i]]),delete this._eventHandlers[e[i]])}else{this._eventHandlers={};var r=t.proxy(this._onBlurHandler,this),s=t.proxy(this._onKeyDownHandler,this),a=t.proxy(this._onKeyUpHandler,this),o=t.proxy(this._onInputHandler,this),l=function(){this.focus()};this.element.on(this._BLUR_HANDLER_KEY,r),this.element.on(this._KEYDOWN_HANDLER_KEY,s),this.element.on(this._KEYUP_HANDLER_KEY,a),this.element.on(this._INPUT_HANDLER_KEY,o),this.element.on(this._DROP_HANDLER_KEY,l),this._eventHandlers[this._BLUR_HANDLER_KEY]=r,this._eventHandlers[this._KEYDOWN_HANDLER_KEY]=s,this._eventHandlers[this._KEYUP_HANDLER_KEY]=a,this._eventHandlers[this._INPUT_HANDLER_KEY]=o,this._eventHandlers[this._DROP_HANDLER_KEY]=l}},_OPTION_TO_CSS_MAPPING:{readOnly:"oj-read-only"},_processAttrCheck:function(){for(var e=this._ATTR_CHECK,t=0,i=e.length;t<i;t++){var n=e[t].attr;"setMandatory"in e[t]&&this.element.attr(n,e[t].setMandatory)}},_onBlurHandler:function(e){this._SetValue(this._GetDisplayValue(),e)},_onKeyDownHandler:function(e){},_onKeyUpHandler:function(e){e.keyCode===t.ui.keyCode.ENTER&&this._SetValue(this._GetDisplayValue(),e)},_onInputHandler:function(e){this._SetRawValue(this._GetContentElement().val(),e)},_DoWrapElement:function(){return this._WIDGET_CLASS_NAMES},_DoWrapElementAndTriggers:function(){return this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES},_wrapElementInRootDomElement:function(){this.OuterWrapper?(this._wrapper=t(this.OuterWrapper).addClass(this._WIDGET_CLASS_NAMES),this._wrapper.append(this.element)):(t(this.element).wrap(t("<div>").addClass(this._WIDGET_CLASS_NAMES)),this._wrapper=this.element.parent())},_WrapElement:function(){return t(this.element).wrap(t("<div>").addClass(this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES)).parent()},_AppendInputHelper:function(){if(this._INPUT_HELPER_KEY&&this._DoWrapElement()){var e=this.element.attr("aria-describedby")||"",i=this._GetSubId(this._INPUT_HELPER_KEY);e+=" "+i,this.element.attr("aria-describedby",e),this._inputHelper=t("<div class='oj-helper-hidden-accessible' aria-hidden='true' id='"+i+"'>"+this._EscapeXSS(this.getTranslatedString(this._INPUT_HELPER_KEY))+"</div>"),this._AppendInputHelperParent().append(this._inputHelper)}},_EscapeXSS:function(e){return t("<span>"+e+"</span>").text()},_AppendInputHelperParent:function(){return this.widget()},_GetImplicitValidators:function(){var i=this._superApply(arguments);return this.options.pattern&&(this._defaultRegExpValidator[e.ValidatorFactory.VALIDATOR_TYPE_REGEXP]=this._getImplicitRegExpValidator()),t.extend(this._defaultRegExpValidator,i)},_CanSetValue:function(){return!!this._super()&&!this.options.readOnly},_refreshStateTheming:function(e,t){-1!=Object.keys(this._OPTION_TO_CSS_MAPPING).indexOf(e)&&this.widget().toggleClass(this._OPTION_TO_CSS_MAPPING[e],!!t)},_getImplicitRegExpValidator:function(){if(!this.options.pattern)return null;var i={pattern:this.options.pattern,label:this._getLabelText()};return t.extend(i,this.options.translations.regexp||{}),e.Validation.validatorFactory(e.ValidatorFactory.VALIDATOR_TYPE_REGEXP).createValidator(i)},_GetSubId:function(e){return this.uuid+"_"+e},_IsRTL:function(){return this._rtl},refresh:function(){var e=this._superApply(arguments);return this._rtl="rtl"===this._GetReadingDirection(),this._refreshRequired(this.options.required),e},_refreshRequired:e.EditableValueUtils._refreshRequired,_ValidateReturnBoolean:e.EditableValueUtils._ValidateReturnBoolean,getNodeBySubId:function(e){return this._super(e)},validate:e.EditableValueUtils.validate,_AriaRequiredUnsupported:function(){return!1},widget:function(){return this._DoWrapElement()?this._wrapper:this.element}},!0),e.__registerWidget("oj.ojInputPassword",t.oj.inputBase,{version:"1.0.0",defaultElement:"<input>",widgetEventPrefix:"oj",_ATTR_CHECK:[{attr:"type",setMandatory:"password"}],_CLASS_NAMES:"oj-inputpassword-input",_WIDGET_CLASS_NAMES:"oj-inputpassword oj-form-control oj-component",options:{converter:void 0,pattern:""},getNodeBySubId:function(e){var t=this._superApply(arguments);return t||"oj-inputpassword-input"===e.subId&&(t=this.element?this.element[0]:null),t||null},_GetDefaultStyleClass:function(){return"oj-inputpassword"}}),e.__registerWidget("oj.ojInputText",t.oj.inputBase,{version:"1.0.0",defaultElement:"<input>",widgetEventPrefix:"oj",_ATTR_CHECK:[{attr:"type",setMandatory:"text"}],_CLASS_NAMES:"oj-inputtext-input",_WIDGET_CLASS_NAMES:"oj-inputtext oj-form-control oj-component",_ALLOWED_TYPES:["email","number","search","tel","text","url"],_CLICK_HANDLER_KEY:"click",options:{clearIcon:"never",converter:void 0,list:"",pattern:"",spellcheck:!1,virtualKeyboard:"auto"},_ComponentCreate:function(){var e=this._super(),t=this.options.clearIcon;return this._processClearIconAttr(t),this._AddHoverable(this._wrapper),this._SetInputType(this._ALLOWED_TYPES),e},_processClearIconAttr:function(e){var t,i=this._wrapper[0],n=i.querySelector("a.oj-inputtext-clear-icon-btn");"never"===e||this.options.disabled||this.options.readOnly?(n&&i.removeChild(n),i.classList.remove("oj-inputtext-clearicon-visible"),i.classList.remove("oj-inputtext-clearicon-conditional")):(null===n&&((n=document.createElement("a")).className="oj-inputtext-clear-icon-btn oj-component-icon oj-clickable-icon-nocontext",n.setAttribute("tabindex","-1"),n.setAttribute("target","_blank"),(t=document.createElement("span")).className="oj-inputtext-clear-icon",n.appendChild(t),i.appendChild(n),n.addEventListener(this._CLICK_HANDLER_KEY,this._onClearIconClickHandler.bind(this))),"always"===e?i.classList.add("oj-inputtext-clearicon-visible"):(i.classList.remove("oj-inputtext-clearicon-visible"),"conditional"===e?(i.classList.add("oj-inputtext-clearicon-conditional"),""!==(i.classList.contains("oj-complete")?this.element[0].value:this.options.value)?i.classList.remove("oj-form-control-empty-clearicon"):i.classList.add("oj-form-control-empty-clearicon")):(i.classList.remove("oj-inputtext-clearicon-conditional"),i.classList.remove("oj-form-control-empty-clearicon"))))},_AfterSetOption:function(e,t){switch(this._super(e,t),e){case"clearIcon":case"value":case"disabled":case"readOnly":this._processClearIconAttr(this.options.clearIcon);break;case"virtualKeyboard":this._SetInputType(this._ALLOWED_TYPES)}},_onInputHandler:function(e){this._super(e);var t=e.target,i=this._wrapper[0];"conditional"===this.options.clearIcon&&(""!==t.value?i.classList.remove("oj-form-control-empty-clearicon"):i.classList.add("oj-form-control-empty-clearicon"))},_onClearIconClickHandler:function(e){var t=this.element[0];t.value="",this._SetRawValue(t.value,e),t.focus(),this._wrapper[0].classList.add("oj-form-control-empty-clearicon")},_onBlurHandler:function(t){var i=this._wrapper[0],n=t.relatedTarget;n&&n.classList.contains("oj-inputtext-clear-icon-btn")&&n.parentElement&&e.DomUtils.isAncestorOrSelf(i,n.parentElement)?i.classList.add("oj-focus"):this._super(t)},getNodeBySubId:function(e){var t=this._superApply(arguments);return t||"oj-inputtext-input"===e.subId&&(t=this.element?this.element[0]:null),t||null},_GetDefaultStyleClass:function(){return"oj-inputtext"},_GetTranslationsSectionName:function(){return"oj-inputBase"},_SetInputType:e.EditableValueUtils._SetInputType}),e.__registerWidget("oj.ojTextArea",t.oj.inputBase,{version:"1.0.0",defaultElement:"<textarea>",widgetEventPrefix:"oj",_ATTR_CHECK:[],_CLASS_NAMES:"oj-textarea-input",_WIDGET_CLASS_NAMES:"oj-textarea oj-form-control oj-component",options:{converter:void 0,pattern:"",rows:void 0,spellcheck:!1},getNodeBySubId:function(e){var t=this._superApply(arguments);return t||"oj-textarea-input"===e.subId&&(t=this.element?this.element[0]:null),t||null},_GetDefaultStyleClass:function(){return"oj-textarea"},_GetTranslationsSectionName:function(){return"oj-inputBase"}}),e.CustomElementBridge.registerMetadata("inputBase","editableValue",{properties:{autocomplete:{type:"string",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",extension:{_COPY_TO_INNER_ELEM:!0}},name:{type:"string",extension:{_COPY_TO_INNER_ELEM:!0}},placeholder:{type:"string"},rawValue:{type:"string",readOnly:!0,writeback:!0},readonly:{type:"boolean"},required:{type:"boolean"},translations:{type:"Object",properties:{regexp:{type:"Object",properties:{messageDetail:{type:"string"},messageSummary:{type:"string"}}},required:{type:"Object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},validators:{type:"Array"}},methods:{validate:{}},extension:{_INNER_ELEM:"input",_WIDGET_NAME:"inputBase",_GLOBAL_TRANSFER_ATTRS:["accesskey","aria-label","tabindex"],_ALIASED_PROPS:{readonly:"readOnly"}}}),e.CustomElementBridge.registerMetadata("oj-input-password","inputBase",{properties:{value:{type:"string",writeback:!0}},methods:{},extension:{_WIDGET_NAME:"ojInputPassword"}}),e.CustomElementBridge.register("oj-input-password",{metadata:e.CustomElementBridge.getMetadata("oj-input-password")}),e.CustomElementBridge.registerMetadata("oj-input-text","inputBase",{properties:{clearIcon:{type:"string",enumValues:["always","conditional","never"]},converter:{type:"Object"},list:{type:"string",extension:{_COPY_TO_INNER_ELEM:!0}},spellcheck:{type:"boolean",extension:{_ATTRIBUTE_ONLY:!0,_COPY_TO_INNER_ELEM:!0}},value:{type:"any",writeback:!0},virtualKeyboard:{type:"string",enumValues:["auto","email","number","search","tel","text","url"]}},methods:{},extension:{_WIDGET_NAME:"ojInputText"}}),e.CustomElementBridge.register("oj-input-text",{metadata:e.CustomElementBridge.getMetadata("oj-input-text")}),e.CustomElementBridge.registerMetadata("oj-text-area","inputBase",{properties:{converter:{type:"Object"},rows:{type:"number",extension:{_COPY_TO_INNER_ELEM:!0}},spellcheck:{type:"boolean",extension:{_ATTRIBUTE_ONLY:!0,_COPY_TO_INNER_ELEM:!0}},value:{type:"any",writeback:!0}},methods:{},extension:{_INNER_ELEM:"textarea",_WIDGET_NAME:"ojTextArea"}}),e.CustomElementBridge.register("oj-text-area",{metadata:e.CustomElementBridge.getMetadata("oj-text-area")})});
define('ojs/ojarraydataprovider',["ojs/ojcore","jquery","knockout","ojs/ojeventtarget","ojs/ojdataprovider"],function(t,e,i){var s=function(){function e(t,e){this.data=t,this.options=e,this._KEY="key",this._KEYS="keys",this._AFTERKEYS="afterKeys",this._DIRECTION="direction",this._ATTRIBUTE="attribute",this._SORT="sort",this._SORTCRITERIA="sortCriteria",this._DATA="data",this._METADATA="metadata",this._INDEXES="indexes",this._OFFSET="offset",this._SIZE="size",this._IDATTRIBUTE="idAttribute",this._IMPLICITSORT="implicitSort",this._KEYATTRIBUTES="keyAttributes",this._SORTCOMPARATORS="sortComparators",this._COMPARATORS="comparators",this._COMPARATOR="comparator",this._RESULTS="results",this._CONTAINS="contains",this._FETCHPARAMETERS="fetchParameters",this._CONTAINSPARAMETERS="containsParameters",this._VALUE="value",this._DONE="done",this._ADD="add",this._REMOVE="remove",this._UPDATE="update",this.Item=function(t,e,i){this._parent=t,this.metadata=e,this.data=i,this[t._METADATA]=e,this[t._DATA]=i},this.ItemMetadata=function(t,e){this._parent=t,this.key=e,this[t._KEY]=e},this.FetchByKeysResults=function(t,e,i){this._parent=t,this.fetchParameters=e,this.results=i,this[t._FETCHPARAMETERS]=e,this[t._RESULTS]=i},this.ContainsKeysResults=function(t,e,i){this._parent=t,this.containsParameters=e,this.results=i,this[t._CONTAINSPARAMETERS]=e,this[t._RESULTS]=i},this.FetchByOffsetResults=function(t,e,i,s){this._parent=t,this.fetchParameters=e,this.results=i,this.done=s,this[t._FETCHPARAMETERS]=e,this[t._RESULTS]=i,this[t._DONE]=s},this.FetchListParameters=function(t,e,i){this._parent=t,this.size=e,this.sortCriteria=i,this[t._SIZE]=e,this[t._SORTCRITERIA]=i},this.FetchListResult=function(t,e,i,s){this._parent=t,this.fetchParameters=e,this.data=i,this.metadata=s,this[t._FETCHPARAMETERS]=e,this[t._DATA]=i,this[t._METADATA]=s},this.AsyncIterable=function(t,e){this._parent=t,this._asyncIterator=e,this[Symbol.asyncIterator]=function(){return this._asyncIterator}},this.AsyncIterator=function(){function t(t,e,i,s){this._parent=t,this._nextFunc=e,this._params=i,this._offset=s,this._cachedOffset=s}return t.prototype.next=function(){var t=this._nextFunc(this._params,this._cachedOffset);return this._cachedOffset=this._cachedOffset+t.value[this._parent._DATA].length,Promise.resolve(t)},t}(),this.AsyncIteratorResult=function(t,e,i){this._parent=t,this.value=e,this.done=i,this[t._VALUE]=e,this[t._DONE]=i},this.DataProviderMutationEventDetail=function(t,e,i,s){this._parent=t,this.add=e,this.remove=i,this.update=s,this[t._ADD]=e,this[t._REMOVE]=i,this[t._UPDATE]=s},this.DataProviderOperationEventDetail=function(t,e,i,s,n){this._parent=t,this.keys=e,this.metadata=i,this.data=s,this.indexes=n,this[t._KEYS]=e,this[t._METADATA]=i,this[t._DATA]=s,this[t._INDEXES]=n},this.DataProviderAddOperationEventDetail=function(t,e,i,s,n,r){this._parent=t,this.keys=e,this.afterKeys=i,this.metadata=s,this.data=n,this.indexes=r,this[t._KEYS]=e,this[t._AFTERKEYS]=i,this[t._METADATA]=s,this[t._DATA]=n,this[t._INDEXES]=r},this._cachedIndexMap=[],this._sequenceNum=0,this._subscribeObservableArray(t),null!=e&&null!=e[this._KEYS]&&(this._keysSpecified=!0,this._keys=e[this._KEYS])}return e.prototype.containsKeys=function(t){var e=this;return this.fetchByKeys(t).then(function(i){var s=new Set;return t[e._KEYS].forEach(function(t){null!=i[e._RESULTS].get(t)&&s.add(t)}),Promise.resolve(new e.ContainsKeysResults(e,t,s))})},e.prototype.fetchByKeys=function(e){var i=this;this._generateKeysIfNeeded();var s,n=new Map,r=this._getKeys(),a=0;return e[this._KEYS].forEach(function(e){for(s=null,a=0;a<r.length;a++)if(t.Object.compareValues(r[a],e)){s=a;break}null!=s&&s>=0&&n.set(e,new i.Item(i,new i.ItemMetadata(i,e),i._getRowData()[s]))}),Promise.resolve(new this.FetchByKeysResults(this,e,n))},e.prototype.fetchByOffset=function(t){var e=this,i=null!=t?t[this._SIZE]:-1,s=null!=t?t[this._SORTCRITERIA]:null,n=null!=t&&t[this._OFFSET]>0?t[this._OFFSET]:0;this._generateKeysIfNeeded();var r=new this.FetchListParameters(this,i,s),a=this._fetchFrom(r,n),h=a[this._VALUE],o=a[this._DONE],u=h[this._DATA],l=h[this._METADATA].map(function(t){return t[e._KEY]}),_=u.map(function(t,i){return new e.Item(e,new e.ItemMetadata(e,l[i]),t)});return Promise.resolve(new this.FetchByOffsetResults(this,t,_,o))},e.prototype.fetchFirst=function(t){return new this.AsyncIterable(this,new this.AsyncIterator(this,this._fetchFrom.bind(this),t,0))},e.prototype.getCapability=function(t){return e.getCapability(t)},e.getCapability=function(t){return"sort"==t?{attributes:"multiple"}:"fetchByKeys"==t?{implementation:"lookup"}:"fetchByOffset"==t?{implementation:"randomAccess"}:null},e.prototype.getTotalSize=function(){return Promise.resolve(this._getRowData().length)},e.prototype.isEmpty=function(){return this._getRowData().length>0?"no":"yes"},e.prototype._getRowData=function(){return this[this._DATA]instanceof Array?this[this._DATA]:this[this._DATA]()},e.prototype._getKeys=function(){return null==this._keys||this._keys instanceof Array?this._keys:this._keys()},e.prototype._subscribeObservableArray=function(e){if(!(e instanceof Array)){if(!this._isObservableArray(e))throw new Error("Invalid data type. ArrayDataProvider only supports Array or observableArray.");var i=this;e.subscribe(function(e){var s,n,r,a,h,o=[],u=[],l=[],_=[],c=[],f=[],p=null,d=null,y=null,A=[];for(s=0;s<e.length;s++)for(a=e[s].index,h=e[s].status,n=0;n<e.length;n++)n!=s&&a===e[n].index&&h!==e[n].status&&f.indexOf(s)<0&&A.indexOf(s)<0&&("deleted"===h?(A.push(s),f.push(n)):(A.push(n),f.push(s)));for(s=0;s<e.length;s++)if(f.indexOf(s)>=0){var E=i._getKeys()[e[s].index],T=i._getId(e[s].value);null==T||t.Object.compareValues(T,E)||(E=T,i._getKeys()[e[s].index]=E),u.push(E),o.push(e[s].value),l.push(e[s].index)}if(u.length>0){_=u.map(function(t){return new i.ItemMetadata(i,t)});var v=new Set;u.map(function(t){v.add(t)}),p=new i.DataProviderOperationEventDetail(i,v,_,o,l)}for(o=[],u=[],l=[],s=0;s<e.length;s++)"deleted"===e[s].status&&f.indexOf(s)<0&&A.indexOf(s)<0&&(u.push(i._getKeys()[e[s].index]),o.push(e[s].value),l.push(e[s].index));if(u.length>0&&u.map(function(t){var e=i._getKeys().indexOf(t);i._keys.splice(e,1)}),u.length>0){_=u.map(function(t){return new i.ItemMetadata(i,t)});var R=new Set;u.map(function(t){R.add(t)}),y=new i.DataProviderOperationEventDetail(i,R,_,o,l)}for(o=[],u=[],l=[],s=0;s<e.length;s++)if("added"===e[s].status&&f.indexOf(s)<0&&A.indexOf(s)<0){i._generateKeysIfNeeded(),null==(r=i._getId(e[s].value))&&(r=i._getKeys()[e[s].index]),null==r&&(r=i._sequenceNum++,i._keys.splice(e[s].index,0,r)),-1==i._getKeys().indexOf(r)&&i._keys.splice(e[s].index,0,r),u.push(r);var m=i._getKeys()[e[s].index+1];m=null==m?"":m,c.push(m),o.push(e[s].value),l.push(e[s].index)}if(u.length>0){_=u.map(function(t){return new i.ItemMetadata(i,t)});var g=new Set;u.map(function(t){g.add(t)});var I=new Set;c.map(function(t){I.add(t)}),d=new i.DataProviderAddOperationEventDetail(i,g,I,_,o,l)}var S=new i.DataProviderMutationEventDetail(i,d,y,p);i._mutationEvent=new t.DataProviderMutationEvent(S)},null,"arrayChange"),e.subscribe(function(e){i._mutationEvent?i.dispatchEvent(i._mutationEvent):i.dispatchEvent(new t.DataProviderRefreshEvent),i._mutationEvent=null},null,"change")}},e.prototype._isObservableArray=function(t){return i.isObservable(t)&&!(void 0===t.destroyAll)},e.prototype._generateKeysIfNeeded=function(){if(null==this._keys){var t=null!=this.options?this.options[this._KEYATTRIBUTES]||this.options[this._IDATTRIBUTE]:null;this._keys=[];var e=this._getRowData(),i=void 0,s=0;for(s=0;s<e.length;s++)null!=(i=this._getId(e[s]))&&"@index"!=t||(i=this._sequenceNum++),this._keys[s]=i;return!0}return!1},e.prototype._getId=function(t){var e,i=null!=this.options?this.options[this._KEYATTRIBUTES]||this.options[this._IDATTRIBUTE]:null;if(null!=i){var s;if(Array.isArray(i))for(e=[],s=0;s<i.length;s++)e[s]=this._getVal(t,i[s]);else e="@value"==i?this._getAllVals(t):this._getVal(t,i);return e}return null},e.prototype._getVal=function(t,e){return"function"==typeof t[e]?t[e]():t[e]},e.prototype._getAllVals=function(t){var e=this;return Object.keys(t).map(function(i){return e._getVal(t,i)})},e.prototype._fetchFrom=function(t,e){var i=this;this._generateKeysIfNeeded();var s=null!=t?t[this._SORTCRITERIA]:null,n=this._getCachedIndexMap(s),r=n.map(function(t){return i._getRowData()[t]}),a=n.map(function(t){return i._getKeys()[t]}),h=null!=t?t[this._SIZE]>0?t[this._SIZE]:t[this._SIZE]<0?i._getKeys().length:25:25,o=r.slice(e,e+h),u=a.slice(e,e+h).map(function(t){return new i.ItemMetadata(i,t)}),l=e+h<r.length,_=this._mergeSortCriteria(s);null!=_&&((t=t||{})[this._SORTCRITERIA]=_);var c=new this.FetchListResult(this,t,o,u);return new this.AsyncIteratorResult(this,c,!l)},e.prototype._getCachedIndexMap=function(t){var e=this._getRowData().map(function(t,e){return e});return this._sortData(e,t)},e.prototype._sortData=function(t,e){var i=this,s=t.map(function(t){return{index:t,value:i._getRowData()[t]}});return null!=e&&s.sort(this._getSortComparator(e)),s.map(function(t){return t.index})},e.prototype._getSortComparator=function(t){var e=this;return function(i,s){var n,r,a,h,o,u,l=null!=e.options?e.options[e._SORTCOMPARATORS]:null;for(n=0;n<t.length;n++)if(r=t[n][e._DIRECTION],a=t[n][e._ATTRIBUTE],h=null,null!=l&&(h=l[e._COMPARATORS].get(a)),o=e._getVal(i.value,a),u=e._getVal(s.value,a),null!=h){var _="descending"==r?-1:1,c=h(o,u)*_;if(0!=c)return c}else{var f,p="string"==typeof o?o:new String(o).toString(),d="string"==typeof u?u:new String(u).toString();if(0!=(f="ascending"==r?p.localeCompare(d,void 0,{numeric:!0,sensitivity:"base"}):d.localeCompare(p,void 0,{numeric:!0,sensitivity:"base"})))return f}return 0}},e.prototype._mergeSortCriteria=function(t){var e=null!=this.options?this.options[this._IMPLICITSORT]:null;if(null!=e){if(null==t)return e;var i=t.slice(0),s=void 0,n=void 0,r=void 0;for(s=0;s<e.length;s++){for(r=!1,n=0;n<i.length;n++)i[n][this._ATTRIBUTE]==e[s][this._ATTRIBUTE]&&(r=!0);r||i.push(e[s])}return i}return t},e}();t.ArrayDataProvider=s,t.EventTargetMixin.applyMixin(s)});
define('ojs/internal-deps/dvt/DvtToolkit',["jquery"],function(t){return function(){var e={exportProperty:function(t,e,i){t[e]=i},Obj:function(){}};e.Obj._GET_FUNCTION_NAME_REGEXP=/function\s+([\S^]+)\s*\(/,e.Obj.createSubclass=function(t,i,n){if(null!=t&&(void 0===i&&(i=Object),t!=i)){var o=e.Obj._tempSubclassConstructor;o.prototype=i.prototype,t.prototype=new o,t.prototype.constructor=t,t.superclass=i.prototype,n&&(t._typeName=n)}},e.Obj._tempSubclassConstructor=function(){},e.Obj.getTypeName=function(t){var i=t._typeName;if(null==i){var n=t.toString(),o=e.Obj._GET_FUNCTION_NAME_REGEXP.exec(n);o&&(i=o[1],t._typeName=i)}return i},e.Obj.prototype.getTypeName=function(){return e.Obj.getTypeName(this.constructor)},e.Obj.prototype.clone=function(){return null},e.Obj.prototype.mergeProps=function(t){},e.Obj.createCallback=function(t,e){return function(){return e.apply(t,arguments)}},e.Obj.defineConstant=function(t){return t},e.ArrayUtils=new Object,e.Obj.createSubclass(e.ArrayUtils,e.Obj),e.ArrayUtils.NONE=0,e.ArrayUtils.ADD=1,e.ArrayUtils.SUB=2,e.ArrayUtils.DIV=3,e.ArrayUtils.MULT=4,e.ArrayUtils.MOD=5,e.ArrayUtils.argsToArray=function(t){if(t){var e=new Array(t.length);if(t.length>0)for(var i=0;i<t.length;i++)e[i]=t[i];return e}return t},e.ArrayUtils.isArray=function(t){return void 0!==t&&"[object Array]"===Object.prototype.toString.apply(t)},e.ArrayUtils.toFloat=function(t,i,n){if(!e.ArrayUtils.isArray(t))return t;i||(n=e.ArrayUtils.NONE),(n=null===n||isNaN(n)?e.ArrayUtils.NONE:n)!==e.ArrayUtils.NONE&&("number"!=typeof i&&(i=parseFloat(i)),isNaN(i)&&(n=e.ArrayUtils.NONE));var o,r=t.length;if(n===e.ArrayUtils.NONE)for(o=0;o<r;o++)t[o]=parseFloat(t[o]);else for(o=0;o<r;o++){var s=parseFloat(t[o]);switch(n){case e.ArrayUtils.MULT:s*=i;break;case e.ArrayUtils.ADD:s+=i;break;case e.ArrayUtils.SUB:s-=i;break;case e.ArrayUtils.DIV:s/=i;break;case e.ArrayUtils.MOD:s%=i}t[o]=s}return t},e.ArrayUtils.copy=function(t){var e;if(t){e=[];for(var i=t.length,n=0;n<i;n++)e.push(t[n])}return e},e.ArrayUtils.getIndex=function(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i}return-1},e.ArrayUtils.getLastIndex=function(t,e){if(t.lastIndexOf)return t.lastIndexOf(e);for(var i=t.length-1;i>=0;i--)if(t[i]===e)return i;return-1},e.ArrayUtils.removeItem=function(t,i){var n=e.ArrayUtils.getIndex(t,i);n>-1&&t.splice(n,1)},e.ArrayUtils.insert=function(t,i,n){if(!e.ArrayUtils.isArray(t))return null;if(!e.ArrayUtils.isArray(i))return t;var o;if(0===n)o=i.concat(t);else if(n>0&&n<t.length){var r=t.splice(0,n);o=(r=r.concat(i)).concat(t)}else o=t.concat(i);return o},e.ArrayUtils.equals=function(t,e){if(!t&&e)return!1;if(t&&!e)return!1;if(t||e){if(t.length!=e.length)return!1;for(var i=0;i<=t.length;i++)if(t[i]!==e[i])return!1;return!0}return!0},e.ArrayUtils.hasAnyMapItem=function(t,e){if(!t||!e)return!1;for(var i=0;i<e.length;i++)if(t[e[i]])return!0;return!1},e.ArrayUtils.hasAllMapItems=function(t,e){if(!t||!e)return!1;for(var i=0;i<e.length;i++)if(!t[e[i]])return!1;return!0},e.ArrayUtils.hasAnyItem=function(t,i){return e.ArrayUtils.hasAnyMapItem(e.ArrayUtils.createBooleanMap(t),i)},e.ArrayUtils.hasAllItems=function(t,i){return e.ArrayUtils.hasAllMapItems(e.ArrayUtils.createBooleanMap(t),i)},e.ArrayUtils.createBooleanMap=function(t){if(!t)return null;for(var e={},i=0;i<t.length;i++)e[t[i]]=!0;return e},e.ArrayUtils.reduce=function(t,e){if(t.reduce)return t.reduce(e);for(var i=t.length,n=t[0],o=1;o<i;o++)n=e(n,t[o],o,t);return n},e.ArrayUtils.map=function(t,e){if(t.map)return t.map(e);for(var i=t.length,n=[],o=0;o<i;o++)n[o]=e(t[o],o,t);return n},e.ArrayUtils.forEach=function(t,e){if(t.map)t.forEach(e);else for(var i=t.length,n=0;n<i;n++)e(t[n],n,t)},e.StringUtils={},e.Obj.createSubclass(e.StringUtils,e.Obj),e.StringUtils._hasTrim=null!="hello".trim,e.StringUtils._hasEndsWith=null!="hello".endsWith,e.StringUtils.trim=function(t){return e.StringUtils._hasTrim?t.trim():t.replace(/^\s+|\s+$/g,"")},e.StringUtils.endsWith=function(t,i){return e.StringUtils._hasEndsWith?t.endsWith(i):t.match(i+"$")==i},e.StringUtils.processAriaLabel=function(t){var e=t;return(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/(<|&#60;)/g,"&lt;")).replace(/(>|&#62;)/g,"&gt;")).replace(/&lt;b&gt;/g,"")).replace(/&lt;\/b&gt;/g,"")).replace(/&lt;i&gt;/g,"")).replace(/&lt;\/i&gt;/g,"")).replace(/\n/g,"; ")).replace(/&#92;n/g,"; ")).replace(/&lt;br&gt;/g,"; ")).replace(/&lt;br\/&gt;/g,"; ")},e.Context=function(t,i,n){var o=i?i+"_svg":null;this._root=e.ToolkitUtils.createSvgDocument(o),t.appendChild(this._root),this._parentDiv=t,this._referenceDiv=n,this._implFactory=new Y(this),this._defs=this._implFactory.newDefs(),e.ToolkitUtils.appendChildElem(this._root,this._defs),this._keyboardFocusArray=[],this._keyboardFocusIndex=0,this._dndEventManagers=[],this.Init(this._implFactory,this._root,i),e.ToolkitUtils.appendChildElem(this._root,this._stage.getElem()),this.oj=null},e.Obj.createSubclass(e.Context,e.Obj),e.Context._DATATIP_POPUP_STYLE_CLASS="OraDVTDatatipPopup",e.Context._TOOLTIP_POPUP_STYLE_CLASS="OraDVTTooltipPopup",e.Context._DEFAULT_FONT_FAMILY="-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif",e.Context._DEFAULT_FONT_SIZE="12px",e.Context._DEFAULT_FONT_WEIGHT="400",e.Context._id=0,e.Context.prototype.Init=function(t,i,n){this._implFactory=t;var o=(n||"_dvt"+e.Context._id)+"_stage";this._stage=new v(this,i,o),e.Context._id++,this._normalizedFontFamilyCache={},this.setDefaultFontFamily(e.Context._DEFAULT_FONT_FAMILY),this.setDefaultFontSize(e.Context._DEFAULT_FONT_SIZE),this.setDefaultFontWeight(e.Context._DEFAULT_FONT_WEIGHT),this._tooltipManagers=new Object,this._customTooltipManagers=new Object,this._scheduler=null,this._globalDefsMap={}},e.Context.prototype.getDefaultFontFamily=function(){return this._defaultFontFamily},e.Context.prototype.setDefaultFontFamily=function(t){t&&(this._defaultFontFamily=this._normalizeFontFamily(t),e.ToolkitUtils.setAttrNullNS(this._stage.getElem(),"font-family",this.getDefaultFontFamily()))},e.Context.prototype.isDefaultFontFamily=function(t){return!!t&&this._defaultFontFamily===this._normalizeFontFamily(t)},e.Context.prototype.getDefaultFontSize=function(){return this._defaultFontSize},e.Context.prototype.setDefaultFontSize=function(t){t&&(this._defaultFontSize=t,e.ToolkitUtils.setAttrNullNS(this._stage.getElem(),"font-size",this.getDefaultFontSize()))},e.Context.prototype.getDefaultFontWeight=function(){return this._defaultFontWeight},e.Context.prototype.setDefaultFontWeight=function(t){t&&(this._defaultFontWeight=t,e.ToolkitUtils.setAttrNullNS(this._stage.getElem(),"font-weight",this.getDefaultFontWeight()))},e.Context.prototype._normalizeFontFamily=function(t){var e=this._normalizedFontFamilyCache[t];return e||(e=t.replace(/, /g,",").replace(/"/g,"'"),this._normalizedFontFamilyCache[t]=e),e},e.Context.prototype.getImplFactory=function(){return this._implFactory},e.Context.prototype.getStage=function(){return this._stage},e.Context.prototype.isReadyToRender=function(){if(this._destroyed)return!1;if(null!=this._parentDiv.offsetParent)return!0;var t=window.getComputedStyle(this._parentDiv);return!(!t||"fixed"!=t.position)&&"none"!=t.display},e.Context.prototype.getSvgDocument=function(){return this._root},e.Context.prototype.setReadingDirection=function(t){this._readingDirection=t},e.Context.prototype.getReadingDirection=function(){return this._readingDirection},e.Context.prototype.existsGlobalDefReference=function(t){return this._globalDefsMap[t]>0},e.Context.prototype.increaseGlobalDefReference=function(t){null!=t&&(this._globalDefsMap[t]?this._globalDefsMap[t]++:this._globalDefsMap[t]=1)},e.Context.prototype.decreaseGlobalDefReference=function(t){if(null!=t){var e=this._globalDefsMap[t];e&&(1==e?delete this._globalDefsMap[t]:this._globalDefsMap[t]=e-1),this._globalDefsMap[t]||this.removeDefsById(t)}},e.Context.prototype.getTooltipManager=function(t){return t||(t="_dvtTooltip"),t+=this.getStage().getId(),this._tooltipManagers[t]||(this._tooltipManagers[t]=this._implFactory.newTooltipManager(t)),this._tooltipManagers[t]},e.Context.prototype.hideTooltips=function(){for(var t in this._tooltipManagers)this._tooltipManagers[t].hideTooltip()},e.Context.prototype.getScheduler=function(){return this._scheduler||(this._scheduler=new o(this)),this._scheduler},e.Context.prototype.getDocumentUtils=function(){return this._implFactory.getDocumentUtils()},e.Context.prototype.pageToStageCoords=function(t,i){var n=this.getStageAbsolutePosition(),o=t-n.x,r=i-n.y;return new e.Point(o,r)},e.Context.prototype.stageToPageCoords=function(t,i){var n=this.getStageAbsolutePosition(),o=t+n.x,r=i+n.y;return new e.Point(o,r)},e.Context.prototype.getStageAbsolutePosition=function(){var t=this._referenceDiv;if(!t){var i=this.getStage().getImpl().getSVGRoot();t=i.parentNode?i.parentNode:i}var n=e.Agent.getElementPosition(t);return new e.Point(parseInt(n.x),parseInt(n.y))},e.Context.prototype.isOffscreen=function(){if(null!=this._bOffscreen)return this._bOffscreen;var t=this.getStage().getSVGRoot();try{var e=t.getBoundingClientRect();this._bOffscreen=e.bottom<0||e.right<0||e.top>(window.innerHeight||document.documentElement.clientHeight)||e.left>(window.innerWidth||document.documentElement.clientWidth)}catch(t){this._bOffscreen=!0}return this._bOffscreen},e.Context.prototype.resetIsOffscreen=function(){this._bOffscreen=null},e.Context.prototype.getCustomTooltipManager=function(t){return t||(t="_dvtCustomTooltip"),t+=this.getStage().getId(),this._customTooltipManagers[t]||(this._customTooltipManagers[t]=new U(this,t)),this._customTooltipManagers[t]},e.Context.prototype.appendDefs=function(t){e.ToolkitUtils.appendChildElem(this._defs,t)},e.Context.prototype.getDefs=function(){return this._defs},e.Context.prototype.getImplFactory=function(){return this._implFactory},e.Context.prototype.removeDefs=function(t){t._obj&&t._obj.destroy(),this._defs.removeChild(t)},e.Context.prototype.removeDefsById=function(t){for(var e=this._defs.childNodes,i=e.length,n=0;n<i;n++){var o=e[n];if(o.id===t)return void this.removeDefs(o)}},e.Context.prototype.getRootAttribute=function(t){return e.ToolkitUtils.getAttrNullNS(this._root,t)},e.Context.resetUniqueSeeds=function(){e.Agent.isEnvironmentBrowser()||(void 0!==e.AfComponent&&(e.AfComponent._uniqueSeed=0),j._counter=0,e.ClipPath._uniqueSeed=0,e.SvgShapeUtils._uniqueSeed=0,e.Mask._uniqueSeed=0,e.Agent._bInitialized=!1)},e.Context.resetCaches=function(){e.Agent.isEnvironmentBrowser()||(void 0!==e.AfComponent&&e.AfStyleUtils.resetStyles(),e.TextUtils.clearCaches(),e.LedGaugeRenderer&&(e.LedGaugeRenderer._cache=null))},e.Context.prototype.setActiveElement=function(t){if(e.Agent.isEnvironmentBrowser()){this._activeElement&&(e.ToolkitUtils.removeAttrNullNS(this._activeElement.getElem(),"id"),this._activeElement=null);var i=t.getElem(),n=e.ToolkitUtils.getAttrNullNS(i,"id");n||((n=t.getActiveElementId())?e.ToolkitUtils.setAttrNullNS(i,"id",n):(n=e.EventManager._getActiveElementId(),e.ToolkitUtils.setAttrNullNS(i,"id",n),this._activeElement=t)),t.applyAriaProperties(),"application"==this._role&&this._parentDiv.setAttribute("aria-activedescendant",n)}},e.Context.prototype.setAriaLabel=function(t){this._parentDiv.getAttribute("aria-label")||(t?this._parentDiv.setAttribute("aria-label",e.StringUtils.processAriaLabel(t)):this._parentDiv.removeAttribute("aria-label"))},e.Context.prototype.setAriaRole=function(t){t?this._parentDiv.setAttribute("role",t):this._parentDiv.removeAttribute("role"),this._role=t},e.Context.prototype.setTooltipAttachedCallback=function(t){this._tooltipAttachedCallback=t},e.Context.prototype.getTooltipAttachedCallback=function(){return this._tooltipAttachedCallback},e.Context.prototype.setTooltipStyleClass=function(t){this._tooltipStyleClass=t},e.Context.prototype.getTooltipStyleClass=function(){return this._tooltipStyleClass?this._tooltipStyleClass:e.Context._TOOLTIP_POPUP_STYLE_CLASS},e.Context.prototype.setDatatipStyleClass=function(t){this._datatipStyleClass=t},e.Context.prototype.getDatatipStyleClass=function(){return this._datatipStyleClass?this._datatipStyleClass:e.Context._DATATIP_POPUP_STYLE_CLASS},e.Context.prototype.resetCurrentKeyboardFocus=function(t){this._keyboardFocusArray&&0!==this._keyboardFocusArray.length&&(t.keyCode==e.KeyboardEvent.TAB&&t.shiftKey?this.setCurrentKeyboardFocus(this._keyboardFocusArray[this._keyboardFocusArray.length-1]):t.keyCode==e.KeyboardEvent.TAB&&this.setCurrentKeyboardFocus(this._keyboardFocusArray[0]))},e.Context.prototype.setKeyboardFocusArray=function(t){this._keyboardFocusArray=t,this._keyboardFocusIndex=0,t.length>0&&(this._root.parentNode._currentObj=this._keyboardFocusArray[this._keyboardFocusIndex])},e.Context.prototype.getCurrentKeyboardFocus=function(){return this._keyboardFocusArray.length<=this._keyboardFocusIndex?null:this._keyboardFocusArray[this._keyboardFocusIndex]},e.Context.prototype.setCurrentKeyboardFocus=function(t){var i=e.ArrayUtils.getIndex(this._keyboardFocusArray,t);if(-1==i)return!1;var n=this._keyboardFocusArray[i];return this._keyboardFocusIndex=i,this._root.parentNode._currentObj=n,!0},e.Context.prototype.nextKeyboardFocus=function(){var t=this._keyboardFocusArray[this._keyboardFocusIndex+1];return t?(this._keyboardFocusIndex++,this._root.parentNode._currentObj=t,t):null},e.Context.prototype.previousKeyboardFocus=function(){var t=this._keyboardFocusArray[this._keyboardFocusIndex-1];return t?(this._keyboardFocusIndex--,this._root.parentNode._currentObj=t,t):null},e.Context.prototype.getNumberConverter=function(t){var e=this.getLocaleHelpers();return e.numberConverterFactory?e.numberConverterFactory.createConverter(t):null},e.Context.prototype.getLocaleHelpers=function(){return this._localeHelpers?this._localeHelpers:{}},e.Context.prototype.setLocaleHelpers=function(t){this._localeHelpers=t},e.Context.requestAnimationFrame=function(t){return e.Agent.isTouchDevice()&&e.Agent.isBrowserChrome()?window.setTimeout(t,1e3/60):window.requestAnimationFrame(t)},e.Context.cancelAnimationFrame=function(t){e.Agent.isTouchDevice()&&e.Agent.isBrowserChrome()?clearTimeout(t):window.cancelAnimationFrame(t)},e.Context.prototype.getContainer=function(){return this._parentDiv},e.Context.prototype.createOverlayDiv=function(){var t=document.createElement("div");return t.style.top="-100%",t.style.position="relative",t},e.Context.prototype.setOverlayAttachedCallback=function(t){this._overlayAttachedCallback=t},e.Context.prototype.getOverlayAttachedCallback=function(){return this._overlayAttachedCallback},e.Context.prototype.addDndEventManager=function(t){this._dndEventManagers.push(t)},e.Context.prototype.removeDndEventManager=function(t){var e=this._dndEventManagers.indexOf(t);this._dndEventManagers.splice(e,1)},e.Context.prototype.isLastDndEventManager=function(t){return this._dndEventManagers[this._dndEventManagers.length-1]===t},e.Context.prototype.setFixContextCallback=function(t){this._fixContextCallback=t},e.Context.prototype.fixRendererContext=function(t){return this._fixContextCallback?this._fixContextCallback(t):t},e.Context.prototype.setCustomElement=function(t){this._customElement=t},e.Context.prototype.isCustomElement=function(){return this._customElement},e.Context.prototype.destroy=function(){this._destroyed=!0};var i=function(){this._Init()};e.Obj.createSubclass(i,e.Obj),i.prototype._Init=function(){this._bLocked=!1},i.prototype.isLocked=function(){return this._bLocked},i.prototype.__lock=function(){this._bLocked=!0};var n=function(t,e,i,n,o){this.Init(t,e,i,n,o)};e.Obj.createSubclass(n,e.Obj),n._STATE_INITIALIZE=0,n._STATE_BEGIN=1,n._STATE_RUN=2,n.CalcProgress=function(t,e,i){var n=i-e;if(0==n)return.5;var o=(t-e)/n;return o>1&&(o=1),o},n.prototype.Init=function(t,e,i,o,r){this._context=t,this._scheduler=e,this.setDuration(i),this.setDelay(o),this.setEasing(r),this._bRunning=!1,this._startTime=null,this._progress=0,this._state=n._STATE_INITIALIZE,this._onInit=null,this._onInitObj=null,this._onEnd=null,this._onEndObj=null},n.prototype.getDuration=function(){return this._duration},n.prototype.setDuration=function(t){this._duration=t||.5},n.prototype.getDelay=function(){return this._delay},n.prototype.setDelay=function(t){this._delay=t||0},n.prototype.getEasing=function(){return this._easing},n.prototype.setEasing=function(t){this._easing=t||e.Easing.cubicInOut},n.prototype.setOnInit=function(t,e){this._onInit=t,this._onInitObj=e||null},n.prototype.getOnInit=function(){return[this._onInit,this._onInitObj]},n.prototype.setOnEnd=function(t,e){this._onEnd=t,this._onEndObj=e||null},n.prototype.getOnEnd=function(){return[this._onEnd,this._onEndObj]},n.prototype.isRunning=function(){return this._bRunning},n.prototype.play=function(t){t?this._play():this._animationRequestId=e.Context.requestAnimationFrame(e.Obj.createCallback(this,this._play))},n.prototype._play=function(){this._bRunning||(this._bRunning=!0,this.ProcessPlay(),this._scheduler.addScheduled(this)),this._context.isOffscreen()&&this.stop(!0),this._animationRequestId=null},n.prototype.stop=function(t){this._animationRequestId&&(e.Context.cancelAnimationFrame(this._animationRequestId),this._animationRequestId=null),this._scheduler.removeScheduled(this),t&&this.ProcessStep(1),this.ProcessEnd()},n.prototype.processTime=function(t){if(this._bRunning){var e=t-this._startTime;if(e<0)return!1;var i=1e3*this.GetTotalDuration(),n=1;0!=i&&(n=e/i),n>1&&(n=1),this.ProcessStep(n);var o=n>=1;return o&&this.ProcessEnd(),o}},n.prototype.GetTotalDuration=function(){return this._delay+this._duration},n.prototype.ProcessPlay=function(){if(this._state==n._STATE_INITIALIZE&&this.ProcessInitialize(),this._state==n._STATE_BEGIN)this._startTime=(new Date).getTime(),this.ProcessStart();else{var t=1e3*this._progress*this.GetTotalDuration();this._startTime=(new Date).getTime()-t}this._state=n._STATE_RUN},n.prototype.ProcessInitialize=function(){this._onInit&&this._onInit.call(this._onInitObj),this.Initialize(),this._state=n._STATE_BEGIN},n.prototype.ProcessStart=function(){this._bRunning=!0,this._progress=0},n.prototype.ProcessStep=function(t){this._progress=t;var e=t;this._delay>0&&(e=n.CalcProgress(t,this._delay/this.GetTotalDuration(),1)),e>=0&&(this._easing&&(e=this._easing(e)),this.Step(e))},n.prototype.ProcessEnd=function(){this._bRunning&&(this._bRunning=!1,this._progress=1,this._state=n._STATE_BEGIN),this._onEnd&&this._onEnd.call(this._onEndObj)},n.prototype.Initialize=function(){},n.prototype.Step=function(t){};var o=function(t){this.Init(t)};e.Obj.createSubclass(o,e.Obj),o.prototype.Init=function(t){this._scheduledItems=new Array,this._bRunning=!1},o.prototype.HandleTimer=function(){for(var t=(new Date).getTime(),i=0;i<this._scheduledItems.length;i++){var n=this._scheduledItems[i];n.processTime(t)&&this.removeScheduled(n)}this._scheduledItems.length<1?(this._bRunning&&(this._bRunning=!1,this._animationRequestId&&e.Context.cancelAnimationFrame(this._animationRequestId)),this._animationRequestId=null):this._animationRequestId=e.Context.requestAnimationFrame(e.Obj.createCallback(this,this.HandleTimer)),o._frameCount++},o.prototype.addScheduled=function(t){e.ArrayUtils.getIndex(this._scheduledItems,t)<0&&this._scheduledItems.push(t),this.play()},o.prototype.removeScheduled=function(t){var i=e.ArrayUtils.getIndex(this._scheduledItems,t);i>=0&&this._scheduledItems.splice(i,1)},o.prototype.play=function(){if(!this._bRunning){for(var t=0;t<this._scheduledItems.length;t++){var i=this._scheduledItems[t];i.isRunning()||i.play()}this._bRunning=!0,this._animationRequestId=e.Context.requestAnimationFrame(e.Obj.createCallback(this,this.HandleTimer))}},e.Animator=function(t,e,i,n){this.Init(t,e,i,n)},e.Obj.createSubclass(e.Animator,n),e.Animator.TYPE_NUMBER="typeNumber",e.Animator.TYPE_MATRIX="typeMatrix",e.Animator.TYPE_NUMBER_ARRAY="typeNumberArray",e.Animator.TYPE_COLOR="typeColor",e.Animator.TYPE_COLOR_ARRAY="typeColorArray",e.Animator.TYPE_GROW_POLYLINE="typeGrowPolyline",e.Animator.TYPE_RECTANGLE="typeRectangle",e.Animator.TYPE_POINT="typePoint",e.Animator.TYPE_PATH="typePath",e.Animator.TYPE_GROW_PATH="typeGrowPath",e.Animator.TYPE_FILL="typeFill",e.Animator.TYPE_STROKE="typeStroke",e.Animator.TYPE_POLYLINE="typePolyline",e.Animator._KEY_PREFIX="dvtAnimPropMap_",e.Animator.prototype.Init=function(t,i,n,o){e.Animator.superclass.Init.call(this,t,t.getScheduler(),i,n,o),this._context=t,this._props={}},e.Animator.prototype.addProp=function(t,i,n,o,s){if(a=this.GetPropItem(i,n))a.destVal=s;else{var a=new r(t,i,n,o,s),l=e.Animator.GetKey(i);this._props[l]||(this._props[l]={}),this._props[l][e.Animator.GetKey(n)]=a}},e.Animator.prototype.removeProp=function(t,i){var n=this.GetPropItem(t,i);if(n){var o=n.destVal;return delete this._props[e.Animator.GetKey(t)][e.Animator.GetKey(i)],o}return null},e.Animator.prototype.getDestVal=function(t,e,i){var n=this.GetPropItem(t,e);return n?n.destVal:i?e.call(t):null},e.Animator.prototype.GetPropItem=function(t,i){var n=e.Animator.GetKey(t);return this._props[n]?this._props[n][e.Animator.GetKey(i)]:null},e.Animator.GetKey=function(t){return t._dvtAnimPropMapKey||(t._dvtAnimPropMapKey=e.Animator._KEY_PREFIX+Math.random()),t._dvtAnimPropMapKey},e.Animator.prototype.Initialize=function(){for(var t in this._props)for(var e in this._props[t]){var i=this._props[t][e];i.startVal=i.getter.call(i.obj)}},e.Animator.prototype.Step=function(t){for(var e in this._props)for(var i in this._props[e]){var n=this._props[e][i],o=n.type,r=n.obj,a=n.setter,l=n.destVal,h=n.startVal,u=s.interpolate(this._context,o,h,l,t);a.call(r,u)}};var r=function(t,e,i,n,o){this.type=t,this.obj=e,this.getter=i,this.setter=n,this.destVal=o,this.startVal=null};e.Obj.createSubclass(r,e.Obj),e.Playable=function(t){this.Init(t)},e.Obj.createSubclass(e.Playable,e.Obj),e.Playable.appendOnEnd=function(t,e,i){if(t&&e){var n=t.getOnEnd();n&&n[0]?t.setOnEnd(function(){n[0].call(n[1]),e.call(i)}):t.setOnEnd(e,i)}},e.Playable.prependOnEnd=function(t,e,i){if(t&&e){var n=t.getOnEnd();n&&n[0]?t.setOnEnd(function(){e.call(i),n[0].call(n[1])}):t.setOnEnd(e,i)}},e.Playable.appendOnInit=function(t,e,i){if(t&&e&&t.getOnInit&&t.setOnInit){var n=t.getOnInit();n&&n[0]?t.setOnInit(function(){n[0].call(n[1]),e.call(i)}):t.setOnInit(e,i)}},e.Playable.prependOnInit=function(t,e,i){if(t&&e&&t.getOnInit&&t.setOnInit){var n=t.getOnInit();n&&n[0]?t.setOnInit(function(){e.call(i),n[0].call(n[1])}):t.setOnInit(e,i)}},e.Playable.prototype.Init=function(t){this.Context=t,this._onEnd=null,this._onEndObj=null},e.Playable.prototype.setOnEnd=function(t,e){this._onEnd=t,this._onEndObj=e||null,this.OnEndUpdated()},e.Playable.prototype.getOnEnd=function(){return[this._onEnd,this._onEndObj]},e.Playable.prototype.OnEndUpdated=function(){},e.Playable.prototype.getDuration=function(){return 0},e.Playable.prototype.initialize=function(){},e.Playable.prototype.play=function(t){},e.Playable.prototype.stop=function(t){},e.ParallelPlayable=function(t){var i;arguments&&arguments.length>1&&arguments[1]instanceof Array?i=arguments[1]:(i=e.ArrayUtils.argsToArray(arguments)).splice(0,1),this.Init(t,i)},e.Obj.createSubclass(e.ParallelPlayable,e.Playable),e.ParallelPlayable.prototype.Init=function(t,i){e.ParallelPlayable.superclass.Init.call(this,t),this._runningCounter=0,this._arPlayables=i||[],this._bStarted=!1},e.ParallelPlayable.prototype.getPlayables=function(){return this._arPlayables},e.ParallelPlayable.prototype.getDuration=function(){for(var t=0,i=0;i<this._arPlayables.length;i++){var n=this._arPlayables[i];n instanceof e.Playable&&(t=Math.max(t,n.getDuration()))}return t},e.ParallelPlayable.prototype.initialize=function(){for(var t=0;t<this._arPlayables.length;t++)this._arPlayables[t]instanceof e.Playable&&this._arPlayables[t].initialize()},e.ParallelPlayable.prototype.play=function(t){this._arPlayables.length>0?t?this._play():(this.initialize(),this._animationRequestId=e.Context.requestAnimationFrame(e.Obj.createCallback(this,this._play))):this._animationRequestId=e.Context.requestAnimationFrame(e.Obj.createCallback(this,this.DoEnd))},e.ParallelPlayable.prototype._play=function(){var t;if(!this._bStarted)for(var i=0;i<this._arPlayables.length;i++)(t=this._arPlayables[i])instanceof e.Playable&&(this._runningCounter++,e.Playable.appendOnEnd(t,this.OnPlayableEnd,this));for(i=0;i<this._arPlayables.length;i++)(t=this._arPlayables[i])instanceof e.Playable&&t.play(!0);this._bStarted=!0,this._animationRequestId=null},e.ParallelPlayable.prototype.stop=function(t){if(this._animationRequestId)return e.Context.cancelAnimationFrame(this._animationRequestId),void this.DoEnd();for(var i,n=0;n<this._arPlayables.length;n++)(i=this._arPlayables[n])instanceof e.Playable&&i.stop(t)},e.ParallelPlayable.prototype.OnPlayableEnd=function(){this._runningCounter--,this._runningCounter<1&&this.DoEnd()},e.ParallelPlayable.prototype.DoEnd=function(){this._onEnd&&this._onEnd.call(this._onEndObj),this._animationRequestId=null},e.SequentialPlayable=function(t){var i;arguments&&arguments.length>1&&arguments[1]instanceof Array?i=arguments[1]:(i=e.ArrayUtils.argsToArray(arguments)).splice(0,1),this.Init(t,i)},e.Obj.createSubclass(e.SequentialPlayable,e.Playable),e.SequentialPlayable.prototype.Init=function(t,i){e.SequentialPlayable.superclass.Init.call(this,t),this._arPlayables=i||[],this._currIndex=-1,this._bStarted=!1},e.SequentialPlayable.prototype.getPlayables=function(){return this._arPlayables},e.SequentialPlayable.prototype.getDuration=function(){for(var t=0,i=0;i<this._arPlayables.length;i++){var n=this._arPlayables[i];n instanceof e.Playable&&(t+=n.getDuration())}return t},e.SequentialPlayable.prototype.initialize=function(){this._arPlayables.length>0&&this._arPlayables[0]instanceof e.Playable&&this._arPlayables[0].initialize()},e.SequentialPlayable.prototype.play=function(t){this._arPlayables&&this._arPlayables.length>0?t?this._play():(this.initialize(),this._animationRequestId=e.Context.requestAnimationFrame(e.Obj.createCallback(this,this._play))):this._animationRequestId=e.Context.requestAnimationFrame(e.Obj.createCallback(this,this.DoEnd))},e.SequentialPlayable.prototype._play=function(){if(this._bStarted){var t=this._arPlayables[this._currIndex];t instanceof e.Playable&&t.play(!0)}else{var i,n,o;this._arPlayables[0]instanceof e.Playable&&(i=this._arPlayables[0]),this._arPlayables[this._arPlayables.length-1]instanceof e.Playable&&(n=this._arPlayables[this._arPlayables.length-1]);for(var r=0;r<this._arPlayables.length-1;r++)(o=this._arPlayables[r])instanceof e.Playable&&e.Playable.appendOnEnd(o,this.DoSequenceStep,this);n&&e.Playable.appendOnEnd(n,this.DoEnd,this),this._bStarted=!0,this._currIndex=0,i&&i.play(!0),this._animationRequestId=null}},e.SequentialPlayable.prototype.DoSequenceStep=function(){var t=this._arPlayables[++this._currIndex];t instanceof e.Playable?t.play(!0):this.DoSequenceStep()},e.SequentialPlayable.prototype.stop=function(t){if(this._animationRequestId)return e.Context.cancelAnimationFrame(this._animationRequestId),void this.DoEnd();if(this._arPlayables)for(var i,n=this._currIndex;n<this._arPlayables.length;n++)(i=this._arPlayables[n])&&i instanceof e.Playable&&i.stop(t)},e.SequentialPlayable.prototype.DoEnd=function(){this._onEnd&&this._onEnd.call(this._onEndObj),this._animationRequestId=null},e.BlackBoxAnimationHandler=function(){},e.Obj.createSubclass(e.BlackBoxAnimationHandler,e.Obj),e.BlackBoxAnimationHandler.ALPHA_FADE="alphaFade",e.BlackBoxAnimationHandler.CONVEYOR_FROM_RIGHT="conveyorFromRight",e.BlackBoxAnimationHandler.CONVEYOR_FROM_LEFT="conveyorFromLeft",e.BlackBoxAnimationHandler.CUBE_TO_RIGHT="cubeToRight",e.BlackBoxAnimationHandler.CUBE_TO_LEFT="cubeToLeft",e.BlackBoxAnimationHandler.FLIP_RIGHT="flipRight",e.BlackBoxAnimationHandler.FLIP_LEFT="flipLeft",e.BlackBoxAnimationHandler.TRANSITION_TO_RIGHT="transitionToRight",e.BlackBoxAnimationHandler.TRANSITION_TO_LEFT="transitionToLeft",e.BlackBoxAnimationHandler.SLIDE_TO_RIGHT="slideToRight",e.BlackBoxAnimationHandler.SLIDE_TO_LEFT="slideToLeft",e.BlackBoxAnimationHandler.ZOOM="zoom",e.BlackBoxAnimationHandler.isSupported=function(t){return t==e.BlackBoxAnimationHandler.ALPHA_FADE||t==e.BlackBoxAnimationHandler.CONVEYOR_FROM_RIGHT||t==e.BlackBoxAnimationHandler.CONVEYOR_FROM_LEFT||t==e.BlackBoxAnimationHandler.CUBE_TO_RIGHT||t==e.BlackBoxAnimationHandler.CUBE_TO_LEFT||t==e.BlackBoxAnimationHandler.FLIP_RIGHT||t==e.BlackBoxAnimationHandler.FLIP_LEFT||t==e.BlackBoxAnimationHandler.TRANSITION_TO_RIGHT||t==e.BlackBoxAnimationHandler.TRANSITION_TO_LEFT||t==e.BlackBoxAnimationHandler.SLIDE_TO_RIGHT||t==e.BlackBoxAnimationHandler.SLIDE_TO_LEFT||t==e.BlackBoxAnimationHandler.ZOOM},e.BlackBoxAnimationHandler.getInAnimation=function(t,i,n,o,r){return i==e.BlackBoxAnimationHandler.ALPHA_FADE?new e.AnimFadeIn(t,n,r):i==e.BlackBoxAnimationHandler.CONVEYOR_FROM_RIGHT?new a(t,n,e.BaseAnimation.DIR_E,r):i==e.BlackBoxAnimationHandler.CONVEYOR_FROM_LEFT?new a(t,n,e.BaseAnimation.DIR_W,r):i==e.BlackBoxAnimationHandler.CUBE_TO_RIGHT?new c(t,n,e.BaseAnimation.AXIS_Y,e.BaseAnimation.ROT_DIR_CLOCKWISE,r):i==e.BlackBoxAnimationHandler.CUBE_TO_LEFT?new c(t,n,e.BaseAnimation.AXIS_Y,e.BaseAnimation.ROT_DIR_COUNTERCLOCKWISE,r):i==e.BlackBoxAnimationHandler.FLIP_RIGHT?new h(t,n,e.BaseAnimation.AXIS_Y,e.BaseAnimation.ROT_DIR_CLOCKWISE,r):i==e.BlackBoxAnimationHandler.FLIP_LEFT?new h(t,n,e.BaseAnimation.AXIS_Y,e.BaseAnimation.ROT_DIR_COUNTERCLOCKWISE,r):i==e.BlackBoxAnimationHandler.TRANSITION_TO_RIGHT?new e.AnimScaleFadeIn(t,n,o,e.BaseAnimation.DIR_NW,.5,r):i==e.BlackBoxAnimationHandler.TRANSITION_TO_LEFT?new e.AnimScaleFadeIn(t,n,o,e.BaseAnimation.DIR_NE,.5,r):i==e.BlackBoxAnimationHandler.SLIDE_TO_RIGHT?(e.BlackBoxAnimationHandler._offsetObjects(n,-o.w,0),new e.AnimMoveBy(t,n,new e.Point(o.w,0),r)):i==e.BlackBoxAnimationHandler.SLIDE_TO_LEFT?(e.BlackBoxAnimationHandler._offsetObjects(n,o.w,0),new e.AnimMoveBy(t,n,new e.Point(-o.w,0),r)):i==e.BlackBoxAnimationHandler.ZOOM?new e.AnimScaleFadeIn(t,n,o,e.BaseAnimation.DIR_C,.5,r):null},e.BlackBoxAnimationHandler.getCombinedAnimation=function(t,i,n,o,r,s){return i==e.BlackBoxAnimationHandler.ALPHA_FADE?new g(t,n,o,s):i==e.BlackBoxAnimationHandler.CONVEYOR_FROM_RIGHT?new _(t,n,o,e.BaseAnimation.DIR_W,e.BaseAnimation.DIR_E,s):i==e.BlackBoxAnimationHandler.CONVEYOR_FROM_LEFT?new _(t,n,o,e.BaseAnimation.DIR_E,e.BaseAnimation.DIR_W,s):i==e.BlackBoxAnimationHandler.CUBE_TO_RIGHT?new e.CombinedAnimCube(t,n,o,e.BaseAnimation.AXIS_Y,e.BaseAnimation.ROT_DIR_CLOCKWISE,s):i==e.BlackBoxAnimationHandler.CUBE_TO_LEFT?new e.CombinedAnimCube(t,n,o,e.BaseAnimation.AXIS_Y,e.BaseAnimation.ROT_DIR_COUNTERCLOCKWISE,s):i==e.BlackBoxAnimationHandler.FLIP_RIGHT?new e.CombinedAnimFlip(t,n,o,e.BaseAnimation.AXIS_Y,e.BaseAnimation.ROT_DIR_CLOCKWISE,s):i==e.BlackBoxAnimationHandler.FLIP_LEFT?new e.CombinedAnimFlip(t,n,o,e.BaseAnimation.AXIS_Y,e.BaseAnimation.ROT_DIR_COUNTERCLOCKWISE,s):i==e.BlackBoxAnimationHandler.TRANSITION_TO_RIGHT?new d(t,n,o,r,e.BaseAnimation.DIR_SE,e.BaseAnimation.DIR_NW,.5,s):i==e.BlackBoxAnimationHandler.TRANSITION_TO_LEFT?new d(t,n,o,r,e.BaseAnimation.DIR_SW,e.BaseAnimation.DIR_NE,.5,s):i==e.BlackBoxAnimationHandler.SLIDE_TO_RIGHT?(e.BlackBoxAnimationHandler._offsetObjects(o,-r.w,0),new e.CombinedAnimMoveBy(t,n,o,new e.Point(r.w,0),new e.Point(r.w,0),s)):i==e.BlackBoxAnimationHandler.SLIDE_TO_LEFT?(e.BlackBoxAnimationHandler._offsetObjects(o,r.w,0),new e.CombinedAnimMoveBy(t,n,o,new e.Point(-r.w,0),new e.Point(-r.w,0),s)):i==e.BlackBoxAnimationHandler.ZOOM?new d(t,n,o,r,e.BaseAnimation.DIR_C,e.BaseAnimation.DIR_C,.5,s):null},e.BlackBoxAnimationHandler._offsetObjects=function(t,i,n){if(t.length)for(var o=0;o<t.length;o++)e.BlackBoxAnimationHandler._offsetObjects(t[o],i,n);else t&&t.setTranslate(t.getTranslateX()+i,t.getTranslateY()+n)},e.DataAnimationHandler=function(t,e){this.Init(t,e)},e.Obj.createSubclass(e.DataAnimationHandler,e.Obj),e.DataAnimationHandler._OVERLAP_RATIO=.4,e.DataAnimationHandler.prototype.Init=function(t,e){this._context=t,
this._deleteContainer=e,this._playables=[]},e.DataAnimationHandler.prototype.getCtx=function(){return this._context},e.DataAnimationHandler.prototype.constructAnimation=function(t,e){if(e&&!this._context.isOffscreen()){if(e=e.slice(0),t)for(var i=0;i<t.length;i++){var n=t[i];if(n){for(var o=n.getId(),r=!1,s=0;s<e.length;s++){var a=e[s];if(a){var l=a.getId();if(o===l||o&&o.equals&&o.equals(l)){a.animateUpdate(this,n),e.splice(s,1),r=!0;break}}}r||n.animateDelete(this,this._deleteContainer)}}for(var h=0;h<e.length;h++)e[h]&&e[h].animateInsert(this)}},e.DataAnimationHandler.prototype.add=function(t,e){if(t){for(e||(e=0);this._playables.length<=e;)this._playables.push(new Array);this._playables[e].push(t)}},e.DataAnimationHandler.prototype.getAnimation=function(t){for(var i=[],n=0;n<this._playables.length;n++)if(this._playables[n].length>0){var o=new e.ParallelPlayable(this._context,this._playables[n]);i.push(o)}if(t){for(var r=[],s=0,a=0;a<i.length;a++){if(s>0){var l=new e.CustomAnimation(this._context,null,s);r.push(new e.SequentialPlayable(this._context,[l,i[a]]))}else r.push(i[a]);s+=(1-e.DataAnimationHandler._OVERLAP_RATIO)*i[a].getDuration()}return new e.ParallelPlayable(this._context,r)}return new e.SequentialPlayable(this._context,i)},e.DataAnimationHandler.prototype.getNumPlayables=function(){return this._playables.length},e.Easing=function(){this.Init()},e.Obj.createSubclass(e.Easing,e.Obj),e.Easing.linear=function(t){return t},e.Easing.quadraticIn=function(t){return e.Easing.PolyIn(t,2)},e.Easing.quadraticOut=function(t){return e.Easing.PolyOut(t,2)},e.Easing.quadraticInOut=function(t){return e.Easing.PolyInOut(t,2)},e.Easing.cubicIn=function(t){return e.Easing.PolyIn(t,3)},e.Easing.cubicOut=function(t){return e.Easing.PolyOut(t,3)},e.Easing.cubicInOut=function(t){return e.Easing.PolyInOut(t,3)},e.Easing.backOut=function(t,e){return e||(e=1.70158),1-(t=1-t)*t*((e+1)*t-e)},e.Easing.backIn=function(t,e){return e||(e=1.70158),t*t*((e+1)*t-e)},e.Easing.elasticIn=function(t,e,i){return t<=0||t>=1?t:(i||(i=.45),!e||e<1?(e=1,n=i/4):n=i/(2*Math.PI)*Math.asin(1/e),-e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i));var n},e.Easing.elasticOut=function(t,i,n){return 1-e.Easing.elasticIn(1-t,i,n)},e.Easing.PolyIn=function(t,e){return t<0?0:t>1?1:Math.pow(t,e)},e.Easing.PolyOut=function(t,e){return t<0?0:t>1?1:1-Math.pow(1-t,e)},e.Easing.PolyInOut=function(t,e){return t<0?0:t>1?1:t<.5?.5*Math.pow(2*t,e):.5*(2-Math.pow(2*(1-t),e))},e.Easing.prototype.Init=function(){};var s=function(){this.Init()};e.Obj.createSubclass(s,e.Obj),s.addInterpolator=function(t,e){s._map[t]=e},s.removeInterpolator=function(t){delete s._map[t]},s.interpolate=function(t,e,i,n,o){var r=s._getInterpolator(e);return r?r(t,i,n,o):n},s._getInterpolator=function(t){return s._map[t]},s.InterpolateNumber=function(t,i,n,o){return e.Math.interpolateNumber(i,n,o)},s.InterpolateNumberArray=function(t,e,i,n){for(var o=e.length,r=i.length,a=[],l=0;l<Math.max(o,r);l++){var h,u;h=l<o?e[l]:e[o-1],u=l<r?i[l]:i[r-1],a.push(s.InterpolateNumber(t,h,u,n))}return a},s.InterpolateMatrix=function(t,i,n,o){var r=s.InterpolateNumber(t,i.getA(),n.getA(),o),a=s.InterpolateNumber(t,i.getB(),n.getB(),o),l=s.InterpolateNumber(t,i.getC(),n.getC(),o),h=s.InterpolateNumber(t,i.getD(),n.getD(),o),u=s.InterpolateNumber(t,i.getTx(),n.getTx(),o),c=s.InterpolateNumber(t,i.getTy(),n.getTy(),o);return new e.Matrix(r,a,l,h,u,c)},s.InterpolateColor=function(t,i,n,o){return e.ColorUtils.interpolateColor(i,n,o)},s.InterpolateColorArray=function(t,e,i,n){for(var o=e.length,r=i.length,a=[],l=0;l<Math.max(o,r);l++){var h,u;h=l<o?e[l]:e[o-1],u=l<r?i[l]:i[r-1],a.push(s.InterpolateColor(t,h,u,n))}return a},s.InterpolateGrowPolyline=function(t,e,i,n){if(0===n)return[i[0],i[1]];if(1===n)return i;for(var o,r=i.length,a=[i[0],i[1]],l=n*s.CalcPolylineLength(i),h=0,u=2;u<r-1;u+=2){var c=i[u-2],p=i[u-1],_=i[u],g=i[u+1];if(h+(o=s.CalcPolylineLength([c,p,_,g]))>l){var d=(l-h)/o,S=_-c,f=g-p;a.push(c+d*S),a.push(p+d*f);break}h+=o,a.push(_),a.push(g)}return a},s.InterpolateGrowPath=function(t,e,i,n){if(0===n)return[i[0],i[1]];if(1===n)return i;for(var o,r,a,l,h,u,c,p,_,g=i.length,d=[],S=n*s.CalcPathLength(i),f=0,y=0;y<g;y++){var E,T=i[y];switch(T){case"M":E=[p=r=i[++y],_=a=i[++y],p,_];break;case"L":E=[p,_,r=i[++y],a=i[++y]];break;case"Q":l=i[++y],h=i[++y],E=[p,_,r=i[++y],a=i[++y]];break;case"C":l=i[++y],h=i[++y],u=i[++y],c=i[++y],E=[p,_,r=i[++y],a=i[++y]]}if(f+(o=s.CalcPolylineLength(E))>S){var v=(S-f)/o;switch(d.push(T),T){case"Q":d.push(p+v*(l-p),_+v*(h-_));break;case"C":d.push(p+v*(l-p),_+v*(h-_),p+v*(u-p),_+v*(c-_))}d.push(p+v*(r-p),_+v*(a-_));break}switch(f+=o,d.push(T),T){case"Q":d.push(l,h);break;case"C":d.push(l,h,u,c)}d.push(r),d.push(a),p=r,_=a}return d},s.CalcPolylineLength=function(t){for(var e,i,n,o,r=0,s=0;s<t.length;s+=2){if(n=t[s],o=t[s+1],s>0)if(n===e)r+=Math.abs(o-i);else if(o===i)r+=Math.abs(n-e);else{var a=Math.abs(n-e),l=Math.abs(o-i);r+=Math.sqrt(a*a+l*l)}e=n,i=o}return r},s.CalcPathLength=function(t){for(var e,i,n,o,r=0,s=0;s<t.length;){switch(t[s]){case"M":e=n=t[s+1],i=o=t[s+2],s+=3;continue;case"L":n=t[s+1],o=t[s+2],s+=3;break;case"Q":n=t[s+3],o=t[s+4],s+=5;break;case"C":n=t[s+5],o=t[s+6],s+=7}if(s>0)if(n===e)r+=Math.abs(o-i);else if(o===i)r+=Math.abs(n-e);else{var a=Math.abs(n-e),l=Math.abs(o-i);r+=Math.sqrt(a*a+l*l)}e=n,i=o}return r},s.InterpolateRectangle=function(t,i,n,o){var r=s.InterpolateNumber(t,i.x,n.x,o),a=s.InterpolateNumber(t,i.y,n.y,o),l=s.InterpolateNumber(t,i.w,n.w,o),h=s.InterpolateNumber(t,i.h,n.h,o);return new e.Rectangle(r,a,l,h)},s.InterpolatePoint=function(t,i,n,o){var r=s.InterpolateNumber(t,i.x,n.x,o),a=s.InterpolateNumber(t,i.y,n.y,o);return new e.Point(r,a)},s.InterpolatePath=function(t,e,i,n){var o=e.length,r=i.length;if(o!=r)return i;for(var a=[],l=0,h=0;l<o&&h<r;){var u=e[l],c=i[h],p=!isNaN(u),_=!isNaN(c);p||_?p&&_&&a.push(s.InterpolateNumber(t,u,c,n)):u===c&&a.push(u),l++,h++}return a},s.InterpolateFill=function(t,i,n,o){if(i instanceof e.SolidFill&&n instanceof e.SolidFill){var r=s.InterpolateColor(t,i.getColor(),n.getColor(),o),a=s.InterpolateNumber(t,i.getAlpha(),n.getAlpha(),o);return new e.SolidFill(r,a)}return n},s.InterpolateStroke=function(t,i,n,o){if(i instanceof e.SolidStroke&&n instanceof e.SolidStroke){var r=s.InterpolateColor(t,i.getColor(),n.getColor(),o),a=s.InterpolateNumber(t,i.getAlpha(),n.getAlpha(),o),l=s.InterpolateNumber(t,i.getWidth(),n.getWidth(),o),h=n.clone();return h.setColor(r),h.setAlpha(a),h.setWidth(l),h}return n},s.InterpolatePolyline=function(t,e,i,n){for(var o=e.length,r=i.length,a=[],l=0;l<Math.max(o,r);l++){var h,u,c=2;l%2==1&&(c=1),h=l<o?e[l]:e[o-c],u=l<r?i[l]:i[r-c],a.push(s.InterpolateNumber(t,h,u,n))}if(r<o){var p=a.length,_=a[p-2],g=a[p-1];for(l=p-4;l>=0;l-=2){var d=a[l],S=a[l+1];if(d!=_||S!=g)break;a.splice(l,2)}}return a},s.prototype.Init=function(){},s._map={},s._map[e.Animator.TYPE_NUMBER]=s.InterpolateNumber,s._map[e.Animator.TYPE_MATRIX]=s.InterpolateMatrix,s._map[e.Animator.TYPE_NUMBER_ARRAY]=s.InterpolateNumberArray,s._map[e.Animator.TYPE_COLOR]=s.InterpolateColor,s._map[e.Animator.TYPE_COLOR_ARRAY]=s.InterpolateColorArray,s._map[e.Animator.TYPE_GROW_POLYLINE]=s.InterpolateGrowPolyline,s._map[e.Animator.TYPE_RECTANGLE]=s.InterpolateRectangle,s._map[e.Animator.TYPE_POINT]=s.InterpolatePoint,s._map[e.Animator.TYPE_PATH]=s.InterpolatePath,s._map[e.Animator.TYPE_GROW_PATH]=s.InterpolateGrowPath,s._map[e.Animator.TYPE_FILL]=s.InterpolateFill,s._map[e.Animator.TYPE_STROKE]=s.InterpolateStroke,s._map[e.Animator.TYPE_POLYLINE]=s.InterpolatePolyline,e.Timer=function(t,e,i,n,o){this.Init(t,e,i,n,o)},e.Obj.createSubclass(e.Timer,e.Obj),e.Timer.prototype.Init=function(t,e,i,n,o){this._interval=e,this._callback=i,this._callbackObj=n,this._repeatCount=o,this._bRunning=!1,this._numIterations=0},e.Timer.prototype.start=function(){this._bRunning||(this._bRunning=!0,this.StartTimer())},e.Timer.prototype.stop=function(){this._bRunning&&(this._bRunning=!1,this.StopTimer())},e.Timer.prototype.reset=function(){this._bRunning&&this.stop(),this._numIterations=0},e.Timer.prototype.isRunning=function(){return this._bRunning},e.Timer.prototype.HandleTimer=function(){this._callback&&(this._callback.call(this._callbackObj),this._repeatCount&&(this._numIterations++,this._numIterations>=this._repeatCount&&this.stop()))},e.Timer.prototype.setInterval=function(t){var e=t;e<0&&(e=0);var i=this._bRunning;i&&this.stop(),this._interval=e,i&&this.start()},e.Timer.prototype.getInterval=function(){return this._interval},e.Timer.prototype.StartTimer=function(){var t=this,e=this.HandleTimer;this._timerId=window.setInterval(function(){e.call(t)},this.getInterval())},e.Timer.prototype.StopTimer=function(){this._timerId&&(window.clearInterval(this._timerId),this._timerId=null)},e.BaseAnimation=function(t,e,i,n){this.Init(t,e,i,n)},e.Obj.createSubclass(e.BaseAnimation,e.Playable),e.BaseAnimation.EASING_LINEAR=1,e.BaseAnimation.EASING_CUBIC_IN_OUT=2,e.BaseAnimation.EASING_CUBIC_IN=3,e.BaseAnimation.EASING_CUBIC_OUT=4,e.BaseAnimation.EASING_QUADRATIC_IN_OUT=5,e.BaseAnimation.EASING_QUADRATIC_IN=6,e.BaseAnimation.EASING_QUADRATIC_OUT=7,e.BaseAnimation.EASING_BOUNCE_IN=8,e.BaseAnimation.EASING_BOUNCE_OUT=9,e.BaseAnimation.EASING_ELASTIC_IN=10,e.BaseAnimation.EASING_ELASTIC_OUT=11,e.BaseAnimation.DIR_C=1,e.BaseAnimation.DIR_N=2,e.BaseAnimation.DIR_NE=3,e.BaseAnimation.DIR_E=4,e.BaseAnimation.DIR_SE=5,e.BaseAnimation.DIR_S=6,e.BaseAnimation.DIR_SW=7,e.BaseAnimation.DIR_W=8,e.BaseAnimation.DIR_NW=9,e.BaseAnimation.AXIS_X=1,e.BaseAnimation.AXIS_Y=2,e.BaseAnimation.ROT_DIR_CLOCKWISE=1,e.BaseAnimation.ROT_DIR_COUNTERCLOCKWISE=2,e.BaseAnimation.GetEasingFunction=function(t){switch(t){case e.BaseAnimation.EASING_LINEAR:return e.Easing.linear;case e.BaseAnimation.EASING_CUBIC_IN:return e.Easing.cubicIn;case e.BaseAnimation.EASING_CUBIC_OUT:return e.Easing.cubicOut;case e.BaseAnimation.EASING_QUADRATIC_IN_OUT:return e.Easing.quadraticInOut;case e.BaseAnimation.EASING_QUADRATIC_IN:return e.Easing.quadraticIn;case e.BaseAnimation.EASING_QUADRATIC_OUT:return e.Easing.quadraticOut;case e.BaseAnimation.EASING_BOUNCE_IN:return e.Easing.backIn;case e.BaseAnimation.EASING_BOUNCE_OUT:return e.Easing.backOut;case e.BaseAnimation.EASING_ELASTIC_IN:return e.Easing.elasticIn;case e.BaseAnimation.EASING_ELASTIC_OUT:return e.Easing.elasticOut;case e.BaseAnimation.EASING_CUBIC_IN_OUT:default:return e.Easing.cubicInOut}},e.BaseAnimation.GetCompassPoint=function(t,i){switch(i){case e.BaseAnimation.DIR_N:return new e.Point(t.x+.5*t.w,t.y);case e.BaseAnimation.DIR_NE:return new e.Point(t.x+t.w,t.y);case e.BaseAnimation.DIR_E:return new e.Point(t.x+t.w,t.y+.5*t.h);case e.BaseAnimation.DIR_SE:return new e.Point(t.x+t.w,t.y+t.h);case e.BaseAnimation.DIR_S:return new e.Point(t.x+.5*t.w,t.y+t.h);case e.BaseAnimation.DIR_SW:return new e.Point(t.x,t.y+t.h);case e.BaseAnimation.DIR_W:return new e.Point(t.x,t.y+.5*t.h);case e.BaseAnimation.DIR_NW:return new e.Point(t.x,t.y);case e.BaseAnimation.DIR_C:default:return new e.Point(t.x+.5*t.w,t.y+.5*t.h)}},e.BaseAnimation.GetAlignCompassPoint=function(t,i,n){var o=e.BaseAnimation.GetCompassPoint(i,n);switch(n){case e.BaseAnimation.DIR_N:return new e.Point(o.x-.5*t.w,o.y);case e.BaseAnimation.DIR_NE:return new e.Point(o.x-t.w,o.y);case e.BaseAnimation.DIR_E:return new e.Point(o.x-t.w,o.y-.5*t.h);case e.BaseAnimation.DIR_SE:return new e.Point(o.x-t.w,o.y-t.h);case e.BaseAnimation.DIR_S:return new e.Point(o.x-.5*t.w,o.y-t.h);case e.BaseAnimation.DIR_SW:return new e.Point(o.x,o.y-t.h);case e.BaseAnimation.DIR_W:return new e.Point(o.x,o.y-.5*t.h);case e.BaseAnimation.DIR_NW:return new e.Point(o.x,o.y);case e.BaseAnimation.DIR_C:default:return new e.Point(o.x-.5*t.w,o.y-.5*t.h)}},e.BaseAnimation.prototype.Init=function(t,i,n,o){e.BaseAnimation.superclass.Init.call(this,t),this._context=t,i instanceof Array?this._arObjects=i:this._arObjects=[i],this._duration=n||.5,this._delay=o||0,this._easing=e.BaseAnimation.EASING_CUBIC_IN_OUT,this._bInitialized=!1,this._bSaveAndRestoreOriginalMatrices=!1,this._origMatrixArray=null,this._bHideObjectsOnEnd=!1,this.CreateAnimator(t)},e.BaseAnimation.prototype.GetContext=function(){return this._context},e.BaseAnimation.prototype.isRunning=function(){return!!this._animator&&this._animator.isRunning()},e.BaseAnimation.prototype.initialize=function(){this._bInitialized||(this._initializeEndStates(this._arObjects),this._initializeStartStates(this._arObjects),this.InitializePlay(),this._bInitialized=!0)},e.BaseAnimation.prototype.play=function(t){this.initialize(),this._animator&&this._animator.play(t)},e.BaseAnimation.prototype.stop=function(t){this._animator&&this._animator.stop(t)},e.BaseAnimation.prototype.getDuration=function(){return this._duration},e.BaseAnimation.prototype.setDuration=function(t){this._duration=t||0,this._animator&&this._animator.setDuration(this._duration)},e.BaseAnimation.prototype.getDelay=function(){return this._delay},e.BaseAnimation.prototype.setDelay=function(t){this._delay=t||0,this._animator&&this._animator.setDelay(this._delay)},e.BaseAnimation.prototype.getEasing=function(){return this._easing},e.BaseAnimation.prototype.setEasing=function(t){this._easing=t,this._animator&&this._animator.setEasing(e.BaseAnimation.GetEasingFunction(this._easing))},e.BaseAnimation.prototype.CreateAnimator=function(t){this._animator=new e.Animator(t,this._duration,this._delay,e.BaseAnimation.GetEasingFunction(this._easing)),this._animator.setOnEnd(this.OnAnimEnd,this)},e.BaseAnimation.prototype.OnAnimEnd=function(){this._bHideObjectsOnEnd&&this.HideObjects(),this._bSaveAndRestoreOriginalMatrices&&this.RestoreOriginalMatrices(),this._onEnd&&this._onEnd.call(this._onEndObj)},e.BaseAnimation.prototype.InitializePlay=function(){},e.BaseAnimation.prototype._initializeStartStates=function(t){if(t)for(var e,i=0;i<t.length;i++)(e=t[i])&&(this._bSaveAndRestoreOriginalMatrices&&(this._origMatrixArray||(this._origMatrixArray=[]),this._origMatrixArray.push(e.getMatrix())),this.InitStartState(e))},e.BaseAnimation.prototype._initializeEndStates=function(t){if(t)for(var e,i=0;i<t.length;i++)(e=t[i])&&this.InitEndState(e)},e.BaseAnimation.prototype.InitStartState=function(t){},e.BaseAnimation.prototype.InitEndState=function(t){},e.BaseAnimation.prototype.ShowObjects=function(){this.SetObjectsVisible(!0)},e.BaseAnimation.prototype.HideObjects=function(){this.SetObjectsVisible(!1)},e.BaseAnimation.prototype.SetObjectsVisible=function(t){if(this._arObjects)for(var e,i=this._arObjects.length-1;i>=0;i--)(e=this._arObjects[i])&&e.setVisible(t)},e.BaseAnimation.prototype.RestoreOriginalMatrices=function(){if(this._arObjects)for(var t,e=this._arObjects.length-1;e>=0;e--)(t=this._arObjects[e])&&this._origMatrixArray&&t.setMatrix(this._origMatrixArray.pop())},e.CustomAnimation=function(t,e,i,n){this.Init(t,e,i,n)},e.Obj.createSubclass(e.CustomAnimation,e.BaseAnimation),e.CustomAnimation.prototype.getAnimator=function(){return this._animator};var a=function(t,e,i,n,o){this.Init(t,e,i,n,o)};e.Obj.createSubclass(a,e.BaseAnimation),a.prototype.Init=function(t,e,i,n,o){a.superclass.Init.call(this,t,e,n,o),this._direction=i,this._SCALE=.2,this._SKEW_ANGLE=Math.PI/12,this._bSaveAndRestoreOriginalMatrices=!0},a.prototype.CreateAnimator=function(t){a.superclass.CreateAnimator.call(this,t),this.setEasing(e.BaseAnimation.EASING_CUBIC_IN),this._animator.setDuration(this.getDuration()/2),this._animator.setOnEnd(this.PlayEndAnim,this),this._endAnim=new e.Animator(t,this.getDuration()/2,0,e.BaseAnimation.GetEasingFunction(e.BaseAnimation.EASING_CUBIC_OUT)),this._endAnim.setOnEnd(this.OnAnimEnd,this)},a.prototype.InitializePlay=function(){a.superclass.InitializePlay.call(this),this.ShowObjects()},a.prototype.InitStartState=function(t){a.superclass.InitStartState.call(this,t),t.setVisible(!1);this._SCALE;var i=t.getDimensions(),n=(i.w,i.h,this.GetConcatenatedRotationMatrix(t,i)),o=new e.Matrix;this._direction===e.BaseAnimation.DIR_W||this._direction===e.BaseAnimation.DIR_E?this._direction===e.BaseAnimation.DIR_W?o.translate(i.w,0):o.translate(-i.w,0):this._direction===e.BaseAnimation.DIR_N?o.translate(0,i.h):o.translate(0,-i.h),o.concat(n),t.setMatrix(o),t.setAlpha(0)},a.prototype.InitEndState=function(t){a.superclass.InitEndState.call(this,t);var i=t.getDimensions(),n=this.GetConcatenatedRotationMatrix(t,i);this._animator.addProp(e.Animator.TYPE_MATRIX,t,t.getMatrix,t.setMatrix,n),this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getAlpha,t.setAlpha,1);var o=t.getMatrix();this._endAnim.addProp(e.Animator.TYPE_MATRIX,t,t.getMatrix,t.setMatrix,o)},a.prototype.PlayEndAnim=function(){this._endAnim.play(!0)},a.prototype.GetConcatenatedRotationMatrix=function(t,i){var n=this._SCALE,o=1-n,r=i.w*o,s=i.h*o,a=this._SKEW_ANGLE;this._direction!==e.BaseAnimation.DIR_W&&this._direction!==e.BaseAnimation.DIR_S||(a=-a);var l=Math.tan(a),h=t.getMatrix(),u=new e.Matrix;return this._direction===e.BaseAnimation.DIR_W||this._direction===e.BaseAnimation.DIR_E?(u.skew(0,a),u.scale(n,1),this._direction===e.BaseAnimation.DIR_W?u.translate(0,0):u.translate(r,-i.w*l)):(u.skew(a,0),u.scale(1,n),this._direction===e.BaseAnimation.DIR_N?u.translate(0,0):u.translate(-i.h*l,s)),u.concat(h),u};var l=function(t,e,i,n,o){this.Init(t,e,i,n,o)};e.Obj.createSubclass(l,e.BaseAnimation),l.prototype.Init=function(t,e,i,n,o){l.superclass.Init.call(this,t,e,n,o),this._direction=i,this._bSaveAndRestoreOriginalMatrices=!0,this._bHideObjectsOnEnd=!0},l.prototype.CreateAnimator=function(t){l.superclass.CreateAnimator.call(this,t),this.setEasing(e.BaseAnimation.EASING_CUBIC_IN),this._animator.setDuration(this.getDuration()/2),this._animator.setOnEnd(this.PlayEndAnim,this),this._endAnim=new e.Animator(t,this.getDuration()/2,0,e.BaseAnimation.GetEasingFunction(e.BaseAnimation.EASING_CUBIC_OUT)),this._endAnim.setOnEnd(this.OnAnimEnd,this)},l.prototype.InitEndState=function(t){l.superclass.InitEndState.call(this,t);var i=t.getDimensions(),n=.8*i.w,o=.8*i.h,r=Math.PI/12;this._direction!==e.BaseAnimation.DIR_W&&this._direction!==e.BaseAnimation.DIR_S||(r=-r);var s=Math.tan(r),a=t.getMatrix(),h=new e.Matrix;this._direction===e.BaseAnimation.DIR_W||this._direction===e.BaseAnimation.DIR_E?(h.skew(0,r),h.scale(.2,1),this._direction===e.BaseAnimation.DIR_W?h.translate(0,0):h.translate(n,-i.w*s)):(h.skew(r,0),h.scale(1,.2),this._direction===e.BaseAnimation.DIR_N?h.translate(0,0):h.translate(-i.h*s,o)),h.concat(a),this._animator.addProp(e.Animator.TYPE_MATRIX,t,t.getMatrix,t.setMatrix,h);var u=new e.Matrix;this._direction===e.BaseAnimation.DIR_W||this._direction===e.BaseAnimation.DIR_E?this._direction===e.BaseAnimation.DIR_W?u.translate(i.w,0):u.translate(-i.w,0):this._direction===e.BaseAnimation.DIR_N?u.translate(0,i.h):u.translate(0,-i.h),u.concat(h),this._endAnim.addProp(e.Animator.TYPE_MATRIX,t,t.getMatrix,t.setMatrix,u),this._endAnim.addProp(e.Animator.TYPE_NUMBER,t,t.getAlpha,t.setAlpha,0)},l.prototype.PlayEndAnim=function(){this._endAnim.play(!0)};var h=function(t,e,i,n,o,r){this.Init(t,e,i,n,o,r)};e.Obj.createSubclass(h,e.BaseAnimation),h.prototype.Init=function(t,e,i,n,o,r){h.superclass.Init.call(this,t,e,o,r),this._axis=i,this._rotationDir=n,this._bSaveAndRestoreOriginalMatrices=!0,this._cubeEffect=!1},h.prototype.InitStartState=function(t){h.superclass.InitStartState.call(this,t),t.setVisible(!1);var i=t.getDimensions(),n=i.w/2,o=i.h/2,r=Math.PI/6;this._rotationDir===e.BaseAnimation.ROT_DIR_COUNTERCLOCKWISE&&(r=-r);var s=Math.tan(r),a=t.getMatrix(),l=new e.Matrix;this._axis===e.BaseAnimation.AXIS_Y?(l.skew(0,r),l.scale(0,1),this._cubeEffect?this._rotationDir===e.BaseAnimation.ROT_DIR_COUNTERCLOCKWISE?l.translate(i.w,0):l.translate(0,-i.w*s):l.translate(n,-n*s)):(l.skew(r,0),l.scale(1,0),this._cubeEffect?this._rotationDir===e.BaseAnimation.ROT_DIR_COUNTERCLOCKWISE?l.translate(-i.h*s,0):l.translate(0,i.h):l.translate(-o*s,o)),l.concat(a),t.setMatrix(l),this._cubeEffect&&t.setAlpha(0)},h.prototype.InitEndState=function(t){h.superclass.InitEndState.call(this,t);var i=t.getMatrix();this._animator.addProp(e.Animator.TYPE_MATRIX,t,t.getMatrix,t.setMatrix,i),this._cubeEffect&&this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getAlpha,t.setAlpha,1)},h.prototype.InitializePlay=function(){h.superclass.InitializePlay.call(this),this.ShowObjects()};var u=function(t,e,i,n,o,r){this.Init(t,e,i,n,o,r)};e.Obj.createSubclass(u,e.BaseAnimation),u.prototype.Init=function(t,e,i,n,o,r){u.superclass.Init.call(this,t,e,o,r),this._axis=i,this._rotationDir=n,this._bSaveAndRestoreOriginalMatrices=!0,this._bHideObjectsOnEnd=!0,this._cubeEffect=!1},u.prototype.InitEndState=function(t){u.superclass.InitEndState.call(this,t);var i=t.getDimensions(),n=i.w/2,o=i.h/2,r=Math.PI/6;this._rotationDir===e.BaseAnimation.ROT_DIR_CLOCKWISE&&(r=-r);var s=Math.tan(r),a=t.getMatrix(),l=new e.Matrix;this._axis===e.BaseAnimation.AXIS_Y?(l.skew(0,r),l.scale(0,1),this._cubeEffect?this._rotationDir===e.BaseAnimation.ROT_DIR_CLOCKWISE?l.translate(i.w,0):l.translate(0,-i.w*s):l.translate(n,-n*s)):(l.skew(r,0),l.scale(1,0),this._cubeEffect?this._rotationDir===e.BaseAnimation.ROT_DIR_CLOCKWISE?l.translate(-i.h*s,0):l.translate(0,i.h):l.translate(-o*s,o)),l.concat(a),this._animator.addProp(e.Animator.TYPE_MATRIX,t,t.getMatrix,t.setMatrix,l),this._cubeEffect&&this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getAlpha,t.setAlpha,0)};var c=function(t,e,i,n,o,r){this.Init(t,e,i,n,o,r)};e.Obj.createSubclass(c,h),c.prototype.Init=function(t,e,i,n,o,r){c.superclass.Init.call(this,t,e,i,n,o,r),this._cubeEffect=!0};var p=function(t,e,i,n,o,r){this.Init(t,e,i,n,o,r)};e.Obj.createSubclass(p,u),p.prototype.Init=function(t,e,i,n,o,r){p.superclass.Init.call(this,t,e,i,n,o,r),this._cubeEffect=!0},e.AnimFadeIn=function(t,e,i,n){this.Init(t,e,i,n)},e.Obj.createSubclass(e.AnimFadeIn,e.BaseAnimation),e.AnimFadeIn.prototype.Init=function(t,i,n,o){e.AnimFadeIn.superclass.Init.call(this,t,i,n,o)},e.AnimFadeIn.prototype.InitStartState=function(t){t.setAlpha(0)},e.AnimFadeIn.prototype.InitEndState=function(t){this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getAlpha,t.setAlpha,1)},e.AnimFadeOut=function(t,e,i,n){this.Init(t,e,i,n)},e.Obj.createSubclass(e.AnimFadeOut,e.BaseAnimation),e.AnimFadeOut.prototype.Init=function(t,i,n,o){e.AnimFadeOut.superclass.Init.call(this,t,i,n,o)},e.AnimFadeOut.prototype.InitEndState=function(t){this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getAlpha,t.setAlpha,0)},e.AnimMoveBy=function(t,e,i,n,o){this.Init(t,e,i,n,o)},e.Obj.createSubclass(e.AnimMoveBy,e.BaseAnimation),e.AnimMoveBy.prototype.Init=function(t,i,n,o,r){n instanceof Array?this._arOffsets=n:n instanceof e.Point?this._arOffsets=[n]:this._arOffsets=[new e.Point(0,0)],this._currIndex=0,e.AnimMoveBy.superclass.Init.call(this,t,i,o,r)},e.AnimMoveBy.prototype.InitEndState=function(t){var i;i=this._currIndex<this._arOffsets.length?this._arOffsets[this._currIndex]:this._arOffsets[this._arOffsets.length-1],this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getTranslateX,t.setTranslateX,t.getTranslateX()+i.x),this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getTranslateY,t.setTranslateY,t.getTranslateY()+i.y),this._currIndex++},e.AnimMoveTo=function(t,e,i,n,o){this.Init(t,e,i,n,o)},e.Obj.createSubclass(e.AnimMoveTo,e.BaseAnimation),e.AnimMoveTo.prototype.Init=function(t,i,n,o,r){n instanceof Array?this._arPoints=n:n instanceof e.Point?this._arPoints=[n]:this._arPoints=[new e.Point(0,0)],this._currIndex=0,e.AnimMoveTo.superclass.Init.call(this,t,i,o,r)},e.AnimMoveTo.prototype.InitEndState=function(t){var i;i=this._currIndex<this._arPoints.length?this._arPoints[this._currIndex]:this._arPoints[this._arPoints.length-1],this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getTranslateX,t.setTranslateX,i.x),this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getTranslateY,t.setTranslateY,i.y),this._currIndex++},e.AnimScaleBy=function(t,e,i,n,o){this.Init(t,e,i,n,o)},e.Obj.createSubclass(e.AnimScaleBy,e.BaseAnimation),e.AnimScaleBy.prototype.Init=function(t,i,n,o,r){n instanceof Array?this._arScales=n:n instanceof e.Point?this._arScales=[n]:this._arScales=[new e.Point(1,1)],this._currIndex=0,e.AnimScaleBy.superclass.Init.call(this,t,i,o,r)},e.AnimScaleBy.prototype.InitEndState=function(t){var i;i=this._currIndex<this._arScales.length?this._arScales[this._currIndex]:this._arScales[this._arScales.length-1],this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getScaleX,t.setScaleX,t.getScaleX()*i.x),this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getScaleY,t.setScaleY,t.getScaleY()*i.y),this._currIndex++},e.AnimScaleFadeIn=function(t,e,i,n,o,r,s){this.Init(t,e,i,n,o,r,s)},e.Obj.createSubclass(e.AnimScaleFadeIn,e.AnimFadeIn),e.AnimScaleFadeIn.prototype.Init=function(t,i,n,o,r,s,a){this._boundsRect=n,this._direction=o||e.BaseAnimation.DIR_NW,this._minScale=r||.5,e.AnimScaleFadeIn.superclass.Init.call(this,t,i,s,a),this._bSaveAndRestoreOriginalMatrices=!0},e.AnimScaleFadeIn.prototype.InitStartState=function(t){e.AnimScaleFadeIn.superclass.InitStartState.call(this,t);var i=this._minScale*t.getScaleX(),n=this._minScale*t.getScaleY(),o=t.getDimensions(),r=new e.Rectangle(0,0,i*o.w,n*o.h),s=e.BaseAnimation.GetAlignCompassPoint(r,this._boundsRect,this._direction);t.setTranslate(s.x,s.y),t.setScale(i,n)},e.AnimScaleFadeIn.prototype.InitEndState=function(t){e.AnimScaleFadeIn.superclass.InitEndState.call(this,t);var i=t.getMatrix();this._animator.addProp(e.Animator.TYPE_MATRIX,t,t.getMatrix,t.setMatrix,i)},e.AnimScaleFadeOut=function(t,e,i,n,o,r,s){this.Init(t,e,i,n,o,r,s)},e.Obj.createSubclass(e.AnimScaleFadeOut,e.AnimFadeOut),e.AnimScaleFadeOut.prototype.Init=function(t,i,n,o,r,s,a){this._boundsRect=n,this._direction=o||e.BaseAnimation.DIR_NE,this._minScale=r||.5,e.AnimScaleFadeOut.superclass.Init.call(this,t,i,s,a),this._bSaveAndRestoreOriginalMatrices=!0},e.AnimScaleFadeOut.prototype.InitEndState=function(t){e.AnimScaleFadeOut.superclass.InitEndState.call(this,t);var i=this._minScale*t.getScaleX(),n=this._minScale*t.getScaleY(),o=t.getDimensions(),r=new e.Rectangle(0,0,i*o.w,n*o.h),s=e.BaseAnimation.GetAlignCompassPoint(r,this._boundsRect,this._direction);this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getScaleX,t.setScaleX,i),this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getScaleY,t.setScaleY,n),this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getTranslateX,t.setTranslateX,s.x),this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getTranslateY,t.setTranslateY,s.y)},e.AnimScaleTo=function(t,e,i,n,o){this.Init(t,e,i,n,o)},e.Obj.createSubclass(e.AnimScaleTo,e.BaseAnimation),e.AnimScaleTo.prototype.Init=function(t,i,n,o,r){n instanceof Array?this._arScales=n:n instanceof e.Point?this._arScales=[n]:this._arScales=[new e.Point(1,1)],this._currIndex=0,e.AnimScaleTo.superclass.Init.call(this,t,i,o,r)},e.AnimScaleTo.prototype.InitEndState=function(t){var i;i=this._currIndex<this._arScales.length?this._arScales[this._currIndex]:this._arScales[this._arScales.length-1],this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getScaleX,t.setScaleX,i.x),this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getScaleY,t.setScaleY,i.y),this._currIndex++},e.AnimPopIn=function(t,e,i,n,o){this.Init(t,e,i,n,o)},e.Obj.createSubclass(e.AnimPopIn,e.BaseAnimation),e.AnimPopIn.BackOut=function(t){return e.Easing.backOut(t,2.5)},e.AnimPopIn.prototype.Init=function(t,i,n,o,r){this._bCenter=n,this._bCenter&&(this._tempContainers=[],this._currIndex=0),e.AnimPopIn.superclass.Init.call(this,t,i,o,r)},e.AnimPopIn.prototype.setEasing=function(t){},e.AnimPopIn.prototype.CreateAnimator=function(t){e.AnimPopIn.superclass.CreateAnimator.call(this,t),this._animator.setEasing(e.AnimPopIn.BackOut),this._bCenter&&e.Playable.appendOnEnd(this._animator,this.RemoveTempContainers,this)},e.AnimPopIn.prototype.InitStartState=function(t){if(this._bCenter){var e=this._tempContainers[this._currIndex],i=t.getDimensions();e._dvtAnimPopInOrigTx=t.getTranslateX(),e._dvtAnimPopInOrigTy=t.getTranslateY();var n=i.x+.5*i.w,o=i.y+.5*i.h;e.setTranslate(e._dvtAnimPopInOrigTx+n,e._dvtAnimPopInOrigTy+o),t.setTranslate(-n,-o);var r=t.getParent().getChildIndex(t);e._dvtAnimPopInChildIndex=r,t.getParent().addChildAt(e,r),e.addChild(t),e.setScale(.01,.01),this._currIndex++}else t.setScale(.01,.01);t.setVisible(!0)},e.AnimPopIn.prototype.InitEndState=function(t){if(this._bCenter){var i=new e.Container(this._context);this._tempContainers.push(i),this._animator.addProp(e.Animator.TYPE_NUMBER,i,i.getScaleX,i.setScaleX,1),this._animator.addProp(e.Animator.TYPE_NUMBER,i,i.getScaleY,i.setScaleY,1)}else this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getScaleX,t.setScaleX,1),this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getScaleY,t.setScaleY,1)},e.AnimPopIn.prototype.RemoveTempContainers=function(){if(this._tempContainers){for(var t=0;t<this._tempContainers.length;t++){var e=this._tempContainers[t];if(this._tempContainers[t]=null,e.getNumChildren()>0){var i=e.getChildAt(0);i&&(i.setTranslate(e._dvtAnimPopInOrigTx,e._dvtAnimPopInOrigTy),e.getParent().addChildAt(i,e._dvtAnimPopInChildIndex))}e.getParent().removeChild(e)}this._tempContainers=null}},e.AnimPopOut=function(t,e,i,n,o){this.Init(t,e,i,n,o)},e.Obj.createSubclass(e.AnimPopOut,e.BaseAnimation),e.AnimPopOut.BackIn=function(t){return e.Easing.backIn(t,2.5)},e.AnimPopOut.prototype.Init=function(t,i,n,o,r){this._bCenter=n,this._bCenter&&(this._tempContainers=[],this._currIndex=0),e.AnimPopOut.superclass.Init.call(this,t,i,o,r),this._bSaveAndRestoreOriginalMatrices=!this._bCenter,this._bHideObjectsOnEnd=!0},e.AnimPopOut.prototype.setEasing=function(t){},e.AnimPopOut.prototype.CreateAnimator=function(t){e.AnimPopOut.superclass.CreateAnimator.call(this,t),this._animator.setEasing(e.AnimPopOut.BackIn),this._bCenter&&e.Playable.appendOnEnd(this._animator,this.RemoveTempContainers,this)},e.AnimPopOut.prototype.InitStartState=function(t){if(this._bCenter){var e=this._tempContainers[this._currIndex],i=t.getDimensions();e._dvtAnimPopInOrigTx=t.getTranslateX(),e._dvtAnimPopInOrigTy=t.getTranslateY();var n=i.x+.5*i.w,o=i.y+.5*i.h;e.setTranslate(e._dvtAnimPopInOrigTx+n,e._dvtAnimPopInOrigTy+o),t.setTranslate(-n,-o);var r=t.getParent().getChildIndex(t);e._dvtAnimPopInChildIndex=r,t.getParent().addChildAt(e,r),e.addChild(t),this._currIndex++}},e.AnimPopOut.prototype.InitEndState=function(t){if(this._bCenter){var i=new e.Container(this._context);this._tempContainers.push(i),this._animator.addProp(e.Animator.TYPE_NUMBER,i,i.getScaleX,i.setScaleX,.01),this._animator.addProp(e.Animator.TYPE_NUMBER,i,i.getScaleY,i.setScaleY,.01)}else this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getScaleX,t.setScaleX,.01),this._animator.addProp(e.Animator.TYPE_NUMBER,t,t.getScaleY,t.setScaleY,.01)},e.AnimPopOut.prototype.RemoveTempContainers=function(){if(this._tempContainers){for(var t=0;t<this._tempContainers.length;t++){var e=this._tempContainers[t];if(this._tempContainers[t]=null,e.getNumChildren()>0){var i=e.getChildAt(0);i&&(i.setTranslate(e._dvtAnimPopInOrigTx,e._dvtAnimPopInOrigTy),e.getParent().addChildAt(i,e._dvtAnimPopInChildIndex))}e.getParent().removeChild(e)}this._tempContainers=null}};var _=function(t,e,i,n,o,r,s){this.Init(t,e,i,n,o,r,s)};e.Obj.createSubclass(_,e.ParallelPlayable),_.prototype.Init=function(t,e,i,n,o,r,s){r||(r=.5),s||(s=0);var h=new l(t,e,n,r,s),u=new a(t,i,o,r,r/3+s);_.superclass.Init.call(this,t,[h,u])},e.CombinedAnimCube=function(t,e,i,n,o,r,s){this.Init(t,e,i,n,o,r,s)},e.Obj.createSubclass(e.CombinedAnimCube,e.ParallelPlayable),e.CombinedAnimCube.prototype.Init=function(t,i,n,o,r,s,a){s||(s=.5),a||(a=0);var l=new p(t,i,o,r,s,a),h=new c(t,n,o,r,s,a);e.CombinedAnimCube.superclass.Init.call(this,t,[l,h])};var g=function(t,e,i,n,o){this.Init(t,e,i,n,o)};e.Obj.createSubclass(g,e.ParallelPlayable),g.prototype.Init=function(t,i,n,o,r){o||(o=.5),r||(r=0);var s=new e.AnimFadeOut(t,i,o,r),a=new e.AnimFadeIn(t,n,o,.5*s.getDuration()+r);g.superclass.Init.call(this,t,[s,a])},
e.CombinedAnimFlip=function(t,e,i,n,o,r,s){this.Init(t,e,i,n,o,r,s)},e.Obj.createSubclass(e.CombinedAnimFlip,e.SequentialPlayable),e.CombinedAnimFlip.prototype.Init=function(t,i,n,o,r,s,a){s||(s=.5),a||(a=0);var l=new u(t,i,o,r,s,a);l.setEasing(e.BaseAnimation.EASING_CUBIC_IN);var c=new h(t,n,o,r,s,a);c.setEasing(e.BaseAnimation.EASING_CUBIC_OUT),c.HideObjects(),e.CombinedAnimFlip.superclass.Init.call(this,t,[l,c])},e.CombinedAnimMoveBy=function(t,e,i,n,o,r,s){this.Init(t,e,i,n,o,r,s)},e.Obj.createSubclass(e.CombinedAnimMoveBy,e.ParallelPlayable),e.CombinedAnimMoveBy.prototype.Init=function(t,i,n,o,r,s,a){s||(s=.5),a||(a=0);var l=new e.AnimMoveBy(t,i,o,s,a),h=new e.AnimMoveBy(t,n,r,s,a);e.CombinedAnimMoveBy.superclass.Init.call(this,t,[l,h])};var d=function(t,e,i,n,o,r,s,a,l){this.Init(t,e,i,n,o,r,s,a,l)};e.Obj.createSubclass(d,e.ParallelPlayable),d.prototype.Init=function(t,i,n,o,r,s,a,l,h){r||(r=e.BaseAnimation.DIR_NE),s||(s=e.BaseAnimation.DIR_NW),a||(a=.5),l||(l=.5),h||(h=0);var u=new e.AnimScaleFadeOut(t,i,o,r,a,l,h),c=new e.AnimScaleFadeIn(t,n,o,s,a,l,.3*u.getDuration()+h);d.superclass.Init.call(this,t,[u,c])},e.CombinedAnimPopIn=function(t,e,i,n,o,r){this.Init(t,e,i,n,o,r)},e.Obj.createSubclass(e.CombinedAnimPopIn,e.ParallelPlayable),e.CombinedAnimPopIn.prototype.Init=function(t,i,n,o,r,s){var a,l=[];a=i instanceof Array?i:[i],s=null===s||isNaN(s)?0:s;for(var h=0;h<a.length;h++){var u=a[h],c=s+Math.random()*(r-o),p=new e.AnimPopIn(t,u,n,o,c);l.push(p)}e.CombinedAnimPopIn.superclass.Init.call(this,t,l)};var S=function(t,e,i,n,o,r){this.Init(t,e,i,n,o,r)};e.Obj.createSubclass(S,e.ParallelPlayable),S.prototype.Init=function(t,i,n,o,r,s){var a,l=[];a=i instanceof Array?i:[i],s=null===s||isNaN(s)?0:s;for(var h=0;h<a.length;h++){var u=a[h],c=s+Math.random()*(r-o),p=new e.AnimPopOut(t,u,n,o,c);l.push(p)}S.superclass.Init.call(this,t,l)};var f=function(){this._Init()};e.Obj.createSubclass(f,i),f.prototype._Init=function(){f.superclass._Init.call(this)},f.prototype.getId=function(){return this._id},f.prototype.setId=function(t){this._id=t},f.prototype.mergeProps=function(t){t.setId(this._id)},e.ColorUtils={},e.Obj.createSubclass(e.ColorUtils,e.Obj),e.ColorUtils._RED=0,e.ColorUtils._GREEN=1,e.ColorUtils._BLUE=2,e.ColorUtils._ALPHA=3,e.ColorUtils._RGBA="rgba(",e.ColorUtils._RGB="rgb(",e.ColorUtils._POUND="#",e.ColorUtils._FACTOR=.15,e.ColorUtils._names,e.ColorUtils._CONTRASTING_TEXT_COLOR_CACHE={},e.ColorUtils.getColorFromName=function(t){if(!e.ColorUtils._names){var i=[];i.aliceblue="#f0f8ff",i.antiquewhite="#faEbd7",i.aqua="#00ffff",i.aquamarine="#7fffd4",i.azure="#f0ffff",i.beige="#f5f5dc",i.bisque="#ffE4c4",i.black="#000000",i.blanchedalmond="#ffEbcd",i.blue="#0000ff",i.blueviolet="#8a2bE2",i.brown="#a52a2a",i.burlywood="#dEb887",i.cadetblue="#5f9Ea0",i.chartreuse="#7fff00",i.chocolate="#d2691E",i.coral="#ff7f50",i.cornflowerblue="#6495Ed",i.cornsilk="#fff8dc",i.crimson="#dc143c",i.cyan="#00ffff",i.darkblue="#00008b",i.darkcyan="#008b8b",i.darkgoldenrod="#b8860b",i.darkgray="#a9a9a9",i.darkgreen="#006400",i.darkkhaki="#bdb76b",i.darkmagenta="#8b008b",i.darkolivegreen="#556b2f",i.darkorange="#ff8c00",i.darkorchid="#9932cc",i.darkred="#8b0000",i.darksalmon="#E9967a",i.darkseagreen="#8fbc8f",i.darkslateblue="#483d8b",i.darkslategray="#2f4f4f",i.darkturquoise="#00cEd1",i.darkviolet="#9400d3",i.deeppink="#ff1493",i.deepskyblue="#00bfff",i.dimgray="#696969",i.dodgerblue="#1E90ff",i.firebrick="#b22222",i.floralwhite="#fffaf0",i.forestgreen="#228b22",i.fuchsia="#ff00ff",i.gainsboro="#dcdcdc",i.ghostwhite="#f8f8ff",i.gold="#ffd700",i.goldenrod="#daa520",i.gray="#808080",i.green="#008000",i.greenyellow="#adff2f",i.honeydew="#f0fff0",i.hotpink="#ff69b4",i["indianred "]="#cd5c5c",i["indigo "]="#4b0082",i.ivory="#fffff0",i.khaki="#f0E68c",i.lavender="#E6E6fa",i.lavenderblush="#fff0f5",i.lawngreen="#7cfc00",i.lemonchiffon="#fffacd",i.lightblue="#add8E6",i.lightcoral="#f08080",i.lightcyan="#E0ffff",i.lightgoldenrodyellow="#fafad2",i.lightgray="#d3d3d3",i.lightgreen="#90EE90",i.lightpink="#ffb6c1",i.lightsalmon="#ffa07a",i.lightseagreen="#20b2aa",i.lightskyblue="#87cEfa",i.lightslategray="#778899",i.lightsteelblue="#b0c4dE",i.lightyellow="#ffffE0",i.lime="#00ff00",i.limegreen="#32cd32",i.linen="#faf0E6",i.magenta="#ff00ff",i.maroon="#800000",i.mediumaquamarine="#66cdaa",i.mediumblue="#0000cd",i.mediumorchid="#ba55d3",i.mediumpurple="#9370db",i.mediumseagreen="#3cb371",i.mediumslateblue="#7b68EE",i.mediumspringgreen="#00fa9a",i.mediumturquoise="#48d1cc",i.mediumvioletred="#c71585",i.midnightblue="#191970",i.mintcream="#f5fffa",i.mistyrose="#ffE4E1",i.moccasin="#ffE4b5",i.navajowhite="#ffdEad",i.navy="#000080",i.oldlace="#fdf5E6",i.olive="#808000",i.olivedrab="#6b8E23",i.orange="#ffa500",i.orangered="#ff4500",i.orchid="#da70d6",i.palegoldenrod="#EEE8aa",i.palegreen="#98fb98",i.paleturquoise="#afEEEE",i.palevioletred="#db7093",i.papayawhip="#ffEfd5",i.peachpuff="#ffdab9",i.peru="#cd853f",i.pink="#ffc0cb",i.plum="#dda0dd",i.powderblue="#b0E0E6",i.purple="#800080",i.rebeccapurple="#663399",i.red="#ff0000",i.rosybrown="#bc8f8f",i.royalblue="#4169E1",i.saddlebrown="#8b4513",i.salmon="#fa8072",i.sandybrown="#f4a460",i.seagreen="#2E8b57",i.seashell="#fff5EE",i.sienna="#a0522d",i.silver="#c0c0c0",i.skyblue="#87cEEb",i.slateblue="#6a5acd",i.slategray="#708090",i.snow="#fffafa",i.springgreen="#00ff7f",i.steelblue="#4682b4",i.tan="#d2b48c",i.teal="#008080",i.thistle="#d8bfd8",i.tomato="#ff6347",i.turquoise="#40E0d0",i.violet="#EE82EE",i.wheat="#f5dEb3",i.white="#ffffff",i.whitesmoke="#f5f5f5",i.yellow="#ffff00",i.yellowgreen="#9acd32",i.transparent="rgba(255,255,255,0)",e.ColorUtils._names=i}return e.ColorUtils._names[t.toLowerCase()]},e.ColorUtils.isColor=function(t,i){if(!i)return t.charAt(0)===e.ColorUtils._POUND||0===t.indexOf(e.ColorUtils._RGBA)||0===t.indexOf(e.ColorUtils._RGB);var n=!1;if((t=(t=e.StringUtils.trim(t)).toLowerCase()).charAt(0)===e.ColorUtils._POUND)7===t.length&&(n=new RegExp(/^#[0-9a-f]{6}$/i).test(t));else{var o,r=0===t.indexOf(e.ColorUtils._RGBA);if(r||(o=0===t.indexOf(e.ColorUtils._RGB)),r||o){var s=t.indexOf(")");if(s>=0){for(var a=t.substring(r?5:4,s).split(","),l=a.length,h=!0,u=0;u<l;u++){var c=a[u];if(c<0||c>255||u>3&&(c<0||c>1)){h=!1;break}}h&&(n=r?4===l:3===l)}}}return n},e.ColorUtils.getAlpha=function(t){return e.ColorUtils._getChannel(t,e.ColorUtils._ALPHA)},e.ColorUtils.setAlpha=function(t,i){return e.ColorUtils._setChannel(t,e.ColorUtils._ALPHA,i)},e.ColorUtils.getRed=function(t){return e.ColorUtils._getChannel(t,e.ColorUtils._RED)},e.ColorUtils.setRed=function(t,i){return e.ColorUtils._setChannel(t,e.ColorUtils._RED,i)},e.ColorUtils.getBlue=function(t){return e.ColorUtils._getChannel(t,e.ColorUtils._BLUE)},e.ColorUtils.setBlue=function(t,i){return e.ColorUtils._setChannel(t,e.ColorUtils._BLUE,i)},e.ColorUtils.getGreen=function(t){return e.ColorUtils._getChannel(t,e.ColorUtils._GREEN)},e.ColorUtils.setGreen=function(t,i){return e.ColorUtils._setChannel(t,e.ColorUtils._GREEN,i)},e.ColorUtils._getChannel=function(t,i){var n=t,o=null,r=e.ColorUtils.getColorFromName(n);if(r&&(n=r),i===e.ColorUtils._ALPHA){if("#"===n.charAt(0))return n.length>7?parseInt(n.substring(1,3),16)/255:1;if("none"===n)return 0}var s=n.indexOf("(");if(s<0)a=[],n.length>7?(a[0]=parseInt(n.substr(3,2),16),a[1]=parseInt(n.substr(5,2),16),a[2]=parseInt(n.substr(7,2),16),a[3]=parseInt(n.substr(1,2),16)/255):(a[0]=parseInt(n.substr(1,2),16),a[1]=parseInt(n.substr(3,2),16),a[2]=parseInt(n.substr(5,2),16),a[3]=1),o=a[i];else{var a=n.substring(s+1).match(/[^,|)]+/gm);o=3===a.length&&i===e.ColorUtils._ALPHA?1:parseFloat(a[i])}return o},e.ColorUtils.getDarker=function(t,i){var n=e.ColorUtils._getChannel(t,e.ColorUtils._RED),o=e.ColorUtils._getChannel(t,e.ColorUtils._GREEN),r=e.ColorUtils._getChannel(t,e.ColorUtils._BLUE),s=e.ColorUtils._getChannel(t,e.ColorUtils._ALPHA);return i||(i=e.ColorUtils._FACTOR),n=Math.max(parseInt(n*(1-i)),0),o=Math.max(parseInt(o*(1-i)),0),r=Math.max(parseInt(r*(1-i)),0),e.ColorUtils.makeRGBA(n,o,r,s)},e.ColorUtils.getBrighter=function(t,i){var n=e.ColorUtils._getChannel(t,e.ColorUtils._ALPHA),o=e.ColorUtils._getChannel(t,e.ColorUtils._RED),r=e.ColorUtils._getChannel(t,e.ColorUtils._GREEN),s=e.ColorUtils._getChannel(t,e.ColorUtils._BLUE);i||(i=e.ColorUtils._FACTOR);var a=Math.min(o+parseInt((255-o)*i),255),l=Math.min(r+parseInt((255-r)*i),255),h=Math.min(s+parseInt((255-s)*i),255);return e.ColorUtils.makeRGBA(a,l,h,n)},e.ColorUtils.getGrey=function(t){var i=e.ColorUtils._getChannel(t,e.ColorUtils._RED),n=e.ColorUtils._getChannel(t,e.ColorUtils._BLUE),o=e.ColorUtils._getChannel(t,e.ColorUtils._GREEN),r=Math.round(.3*i+.59*n+.11*o);return this.setRGB(t,r,r,r)},e.ColorUtils.invert=function(t){var i=255-e.ColorUtils._getChannel(t,e.ColorUtils._RED),n=255-e.ColorUtils._getChannel(t,e.ColorUtils._BLUE),o=255-e.ColorUtils._getChannel(t,e.ColorUtils._GREEN);return"#"===t.charAt(0)?e.ColorUtils.makePound(i,n,o):t.substr(0,4)===e.ColorUtils._RGB?e.ColorUtils.makeRGB(i,n,o):e.ColorUtils.makeRGBA(i,n,o,e.ColorUtils._getChannel(t,e.ColorUtils._ALPHA))},e.ColorUtils.isRGBA=function(t){return t.substr(0,5)===e.ColorUtils._RGBA},e.ColorUtils.makeRGB=function(t,i,n){return n=null===n||isNaN(n)?0:n,i=null===i||isNaN(i)?0:i,t=null===t||isNaN(t)?0:t,e.ColorUtils._RGB+t+","+i+","+n+")"},e.ColorUtils.makeRGBA=function(t,i,n,o){return n=null===n||isNaN(n)?0:Math.round(n),i=null===i||isNaN(i)?0:Math.round(i),t=null===t||isNaN(t)?0:Math.round(t),o=null===o||isNaN(o)?1:o,e.ColorUtils._RGBA+t+","+i+","+n+","+o+")"},e.ColorUtils.makePound=function(t,e,i){var n=Math.round(t),o=Math.round(e),r=Math.round(i),s=n.toString(16),a=o.toString(16),l=r.toString(16);return"#"+(1===s.length?"0":"")+s+(1===a.length?"0":"")+a+(1===l.length?"0":"")+l},e.ColorUtils.getPound=function(t){var i;if("#"===t.charAt(0)){if(t.length<=7)return t;i=e.ColorUtils._POUND,i+=t.substring(3,5)+t.substring(5,7)+t.substring(7,9)}else{var n=e.ColorUtils.getRed(t),o=e.ColorUtils.getGreen(t),r=e.ColorUtils.getBlue(t);i=e.ColorUtils.makePound(n,o,r)}return i},e.ColorUtils.getRGB=function(t){var i,n=e.ColorUtils.getColorFromName(t);if(n&&(t=n),"#"===t.charAt(0)){i=e.ColorUtils._RGB;var o=t.length;if(o>7)i+=parseInt(t.substring(3,5),16)+","+parseInt(t.substring(5,7),16)+","+parseInt(t.substring(7,9),16);else if(7===o)i+=parseInt(t.substring(1,3),16)+","+parseInt(t.substring(3,5),16)+","+parseInt(t.substr(5),16);else if(4===o){var r=t.substring(1,2);r+=r;var s=t.substring(2,3);s+=s;var a=t.substring(3);a+=a,i+=parseInt(r,16)+","+parseInt(s,16)+","+parseInt(a,16)}else 5===o?i+=parseInt(t.substring(1,3),16)+","+parseInt(t.substring(3,5),16)+",0,1":3===o&&(i+=parseInt(t.substring(1,3),16)+",0,0,1");i+=")"}else if(t.substr(0,5)===e.ColorUtils._RGBA){var l=t.lastIndexOf(",");i=e.ColorUtils._RGB,i+=t.substring(5,l),i+=")"}else i=t;return i},e.ColorUtils.getRGBA=function(t){var i,n=e.ColorUtils.getColorFromName(t);if(n&&(t=n),"#"===t.charAt(0)){i=e.ColorUtils._RGBA;var o=t.length;if(o>7)i+=parseInt(t.substring(3,5),16)+","+parseInt(t.substring(5,7),16)+","+parseInt(t.substring(7,9),16)+","+parseInt(t.substring(1,3),16)/255;else if(7===o)i+=parseInt(t.substring(1,3),16)+","+parseInt(t.substring(3,5),16)+","+parseInt(t.substr(5),16)+",1";else if(5===o)i+=parseInt(t.substring(1,3),16)+","+parseInt(t.substring(3,5),16)+",0,1";else if(4===o){var r=t.substring(1,2);r+=r;var s=t.substring(2,3);s+=s;var a=t.substring(3);a+=a,i+=parseInt(r,16)+","+parseInt(s,16)+","+parseInt(a,16)+",1"}else 3===o&&(i+=parseInt(t.substring(1,3),16)+",0,0,1");i+=")"}else t.substr(0,4)===e.ColorUtils._RGB?(i=e.ColorUtils._RGBA,i+=t.substring(4,t.length-1)+",1)"):i=t;return i},e.ColorUtils._setChannel=function(t,i,n){if(void 0===i||void 0===n||i<e.ColorUtils._RED||i>e.ColorUtils._ALPHA)return t;var o=e.ColorUtils.getColorFromName(t);o&&(t=o);var r="#"===t.charAt(0);if(r)(h=[]).push(parseInt(t.substr(1,2),16)),h.push(parseInt(t.substr(3,2),16)),h.push(parseInt(t.substr(5,2),16)),i===e.ColorUtils._ALPHA&&(h.push(n),r=!1,s=!0);else{var s=t.substr(0,5)===e.ColorUtils._RGBA,a=t.indexOf("("),l=t.indexOf(")"),h=t.substring(a+1,l).split(",");s||i!==e.ColorUtils._ALPHA||(h.push(n),s=!0)}return h[i]=n,r?e.ColorUtils.makePound(h[0],h[1],h[2]):s?e.ColorUtils.makeRGBA(h[0],h[1],h[2],h[3]):e.ColorUtils.makeRGB(h[0],h[1],h[2])},e.ColorUtils.setRGB=function(t,i,n,o){if(o=null===o||isNaN(o)?0:o,n=null===n||isNaN(n)?0:n,i=null===i||isNaN(i)?0:i,"#"===t.charAt(0))return e.ColorUtils.makePound(i,n,o);var r=t.substr(0,5)===e.ColorUtils._RGBA,s=(r?e.ColorUtils._RGBA:e.ColorUtils._RGB)+i+","+n+","+o;if(r){var a=t.lastIndexOf(5,","),l=t.indexOf(")");s+=","+t.substring(a+1,l)}return s+")"},e.ColorUtils.rgb2hsl=function(t,e,i){t/=255,e/=255,i/=255;var n,o,r=Math.max(t,e,i),s=Math.min(t,e,i),a=r+s,l=a/2;if(r==s)n=0,o=0;else{var h=r-s;o=l>.5?h/(2-a):h/a,r==t?n=(e-i)/h+(e<i?6:0):r==e?n=(i-t)/h+2:r==i&&(n=(t-e)/h+4),n/=6}return{h:360*n,s:o,l:l}},e.ColorUtils.hsl2rgb=function(t,i,n){var o,r,s;if(t/=360,0==i)o=r=s=n;else{var a=n<.5?n*(1+i):n+i-n*i,l=2*n-a;o=e.ColorUtils._hue2rgb(l,a,t+1/3),r=e.ColorUtils._hue2rgb(l,a,t),s=e.ColorUtils._hue2rgb(l,a,t-1/3)}return{r:255*o,g:255*r,b:255*s}},e.ColorUtils._hue2rgb=function(t,e,i){return i<0?i+=1:i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},e.ColorUtils.hsv2rgb=function(t,e,i){var n,o,r,s,a,l,h,u;return t%=360,0==i?{r:0,g:0,v:0}:(l=(i/=100)*(1-(e/=100)),h=i*(1-e*(a=(t/=60)-(s=Math.floor(t)))),u=i*(1-e*(1-a)),0==s?(n=i,o=u,r=l):1==s?(n=h,o=i,r=l):2==s?(n=l,o=i,r=u):3==s?(n=l,o=h,r=i):4==s?(n=u,o=l,r=i):5==s&&(n=i,o=l,r=h),{r:n=Math.floor(255*n),g:o=Math.floor(255*o),b:r=Math.floor(255*r)})},e.ColorUtils.rgb2hsv=function(t,e,i){var n,o,r,s;return t/=255,e/=255,i/=255,(n=Math.min(t,e,i))==(o=Math.max(t,e,i))?{h:void 0,s:0,v:100*o}:(r=t==n?e-i:e==n?i-t:t-e,s=t==n?3:e==n?5:1,{h:Math.floor(60*(s-r/(o-n)))%360,s:Math.floor((o-n)/o*100),v:o=Math.floor(100*o)})},e.ColorUtils.adjustHSL=function(t,i,n,o){e.ColorUtils._hslCache||(e.ColorUtils._hslCache=new e.Cache(100));var r=t+":"+i+":"+n+":"+o,s=e.ColorUtils._hslCache.get(r);if(null!=s)return s;var a=e.ColorUtils._getChannel(t,e.ColorUtils._RED),l=e.ColorUtils._getChannel(t,e.ColorUtils._GREEN),h=e.ColorUtils._getChannel(t,e.ColorUtils._BLUE),u=e.ColorUtils._getChannel(t,e.ColorUtils._ALPHA),c=e.ColorUtils.rgb2hsl(a,l,h),p=Math.min(Math.max(0,c.h+i),360),_=Math.min(Math.max(0,c.s+n),1),g=Math.min(Math.max(0,c.l+o),1),d=e.ColorUtils.hsl2rgb(p,_,g);return s=1==u?e.ColorUtils.makePound(d.r,d.g,d.b):e.ColorUtils.makeRGBA(d.r,d.g,d.b,u),e.ColorUtils._hslCache.put(r,s),s},e.ColorUtils.interpolateColor=function(t,i,n){var o=e.ColorUtils.getRed(t),r=e.ColorUtils.getGreen(t),s=e.ColorUtils.getBlue(t),a=e.ColorUtils.getAlpha(t),l=e.ColorUtils.getRed(i),h=e.ColorUtils.getGreen(i),u=e.ColorUtils.getBlue(i),c=e.ColorUtils.getAlpha(i),p=Math.round(e.Math.interpolateNumber(o,l,n)),_=Math.round(e.Math.interpolateNumber(r,h,n)),g=Math.round(e.Math.interpolateNumber(s,u,n)),d=e.Math.interpolateNumber(a,c,n);return e.ColorUtils.makeRGBA(p,_,g,d)},e.ColorUtils.inferColor=function(t,i,n){if(t==i)return n;if(n==t)return i;var o,r,s,a=e.ColorUtils.getRed(t),l=e.ColorUtils.getRed(i);return a==l?o=e.ColorUtils.getRed(n):(0==a&&(a=1),o=l/a*e.ColorUtils.getRed(n)),(a=e.ColorUtils.getGreen(t))==(l=e.ColorUtils.getGreen(i))?r=e.ColorUtils.getGreen(n):(0==a&&(a=1),r=l/a*e.ColorUtils.getGreen(n)),(a=e.ColorUtils.getBlue(t))==(l=e.ColorUtils.getBlue(i))?s=e.ColorUtils.getBlue(n):(0==a&&(a=1),s=l/a*e.ColorUtils.getBlue(n)),e.ColorUtils.makePound(o,r,s)},e.ColorUtils.getLuminance=function(t){var i=function(t){var e=t/255;return e<.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)},n=e.ColorUtils.getRed(t),o=e.ColorUtils.getGreen(t),r=e.ColorUtils.getBlue(t);return.2126*i(n)+.7152*i(o)+.0722*i(r)},e.ColorUtils.getContrastRatio=function(t,i){return e.ColorUtils.getContrastRatioByLuminance(e.ColorUtils.getLuminance(t),e.ColorUtils.getLuminance(i))},e.ColorUtils.getContrastRatioByLuminance=function(t,e){var i=t+.05,n=e+.05;return i>n?i/n:n/i},e.ColorUtils.getContrastingTextColor=function(t){if(!e.ColorUtils._CONTRASTING_TEXT_COLOR_CACHE[t]){var i=e.ColorUtils.getLuminance(t),n=e.ColorUtils.getContrastRatioByLuminance(i,1)>e.ColorUtils.getContrastRatioByLuminance(i,0)?"#FFFFFF":"#000000";e.ColorUtils._CONTRASTING_TEXT_COLOR_CACHE[t]=n}return e.ColorUtils._CONTRASTING_TEXT_COLOR_CACHE[t]},e.ColorUtils.fixColorForPlatform=function(t,i){if(!t)return null;"#"==t.charAt(0)&&t.length>8&&(t=e.ColorUtils.getRGBA(t));var n={};return e.Agent.isEnvironmentBatik()&&-1!==t.indexOf("rgba")?(n.color=e.ColorUtils.getRGB(t),n.alpha=null!=i?e.ColorUtils.getAlpha(t)*i:e.ColorUtils.getAlpha(t)):(n.color=t,null!=i&&(n.alpha=i)),n},e.ClipPath=function(t){this._id=(t?t+"$":"")+"cp"+e.ClipPath._uniqueSeed++,this._regions=[]},e.Obj.createSubclass(e.ClipPath,e.Obj),e.ClipPath._uniqueSeed=0,e.ClipPath.NONE=0,e.ClipPath.RECT=1,e.ClipPath.PATH=2,e.ClipPath.POLYGON=3,e.ClipPath.ELLIPSE=4,e.ClipPath.CIRCLE=5,e.ClipPath.prototype._addRegion=function(t){t&&this._regions.push(t)},e.ClipPath.prototype.getId=function(){return this._id},e.ClipPath.prototype.getRegions=function(t){return this._regions},e.ClipPath.prototype.addRect=function(t,i,n,o,r,s){var a={};a.type=e.ClipPath.RECT,a.x=t,a.y=i,a.w=n,a.h=o,a.rx=r,a.ry=s,this._addRegion(a)},e.ClipPath.prototype.addCircle=function(t,i,n){var o={};o.type=e.ClipPath.CIRCLE,o.cx=t,o.cy=i,o.r=n,this._addRegion(o)},e.ClipPath.prototype.addEllipse=function(t,i,n,o){var r={};r.type=e.ClipPath.ELLIPSE,r.cx=t,r.cy=i,r.rx=n,r.ry=o,this._addRegion(r)},e.ClipPath.prototype.addPolygon=function(t){var i={};i.type=e.ClipPath.POLYGON,i.points=t,this._addRegion(i)},e.ClipPath.prototype.addPath=function(t){var i={};i.type=e.ClipPath.PATH,i.d=t,this._addRegion(i)},e.Mask=function(t,i){this._id="mask"+e.Mask._uniqueSeed++,this._gradient=t,this._bounds=i},e.Obj.createSubclass(e.Mask,e.Obj),e.Mask._uniqueSeed=0,e.Mask.prototype.getId=function(){return this._id},e.Mask.prototype.getGradient=function(){return this._gradient},e.Mask.prototype.getBounds=function(){return this._bounds},e.Fill=function(){this._Init()},e.Obj.createSubclass(e.Fill,i),e.Fill.NONE=0,e.Fill.COLOR=1,e.Fill.GRADIENT=2,e.Fill.PATTERN=3,e.Fill.IMAGE=4,e.Fill.prototype._Init=function(){e.Fill.superclass._Init.call(this)},e.Fill.prototype.getId=function(){return this._id},e.Fill.prototype.setId=function(t){this._id=t},e.Fill.prototype.equals=function(t){return!0},e.SolidFill=function(t,e){this._Init(t,e)},e.Obj.createSubclass(e.SolidFill,e.Fill),e.SolidFill.prototype.clone=function(){var t=new e.SolidFill;return this.mergeProps(t),t},e.SolidFill.prototype._Init=function(t,i){e.SolidFill.superclass._Init.call(this),this._fc=t,this._fa=null!=i?i:1},e.SolidFill.prototype.getColor=function(){return this._fc},e.SolidFill.prototype.setColor=function(t){this.isLocked()||(this._fc=t)},e.SolidFill.prototype.getAlpha=function(){return this._fa},e.SolidFill.prototype.setAlpha=function(t){this.isLocked()||(this._fa=t)},e.SolidFill.prototype.mergeProps=function(t){e.SolidFill.superclass.mergeProps.call(this,t),t._fc=this._fc,t._fa=this._fa},e.SolidFill.invisibleFill=function(){return e.SolidFill._INVISIBLE_FILL||(e.SolidFill._INVISIBLE_FILL=new e.SolidFill("rgba(0,0,0,0)")),e.SolidFill._INVISIBLE_FILL},e.SolidFill.prototype.equals=function(t){return t instanceof e.SolidFill&&t._fc==this._fc&&t._fa==this._fa&&e.SolidFill.superclass.equals.call(this,t)},e.Stroke=function(t,e){this._Init(t,e)},e.Obj.createSubclass(e.Stroke,i),e.Stroke.SOLID=0,e.Stroke.DASHED=1,e.Stroke.DOTTED=2,e.Stroke.DASHED_DOTTED=3,e.Stroke.SQUARE="square",e.Stroke.ROUND="round",e.Stroke.BEVEL="bevel",e.Stroke.MITER="miter",e.Stroke.BUTT="butt",e.Stroke.OUTER="outer",e.Stroke.INNER="inner",e.Stroke.CENTER="center",e.Stroke.convertTypeString=function(t){return"solid"==t?e.Stroke.SOLID:"dashed"==t?e.Stroke.DASHED:"dotted"==t?e.Stroke.DOTTED:e.Stroke.SOLID},e.Stroke.prototype._Init=function(t){this._sw=null===t||isNaN(t)?1:t,e.Stroke.superclass._Init.call(this),this._bFixedWidth=!1},e.Stroke.prototype.getId=function(){return this._id},e.Stroke.prototype.setId=function(t){this._id=t},e.Stroke.prototype.mergeProps=function(t){t._sw=this._sw,t._st=this._st,t._sd=this._sd,t._sdo=this._sdo,t._sj=this._sj,t._se=this._se,t._sm=this._sm,t._bFixedWidth=this._bFixedWidth,e.Stroke.superclass.mergeProps.call(this,t)},e.Stroke.prototype.setStyle=function(t,i,n,o,r){this.isLocked()||(t&&!i&&(i=e.Stroke.getDefaultDash(t,this._sw)),this._st=t,this._sd=i,n&&(this._sj=n),o&&(this._se=o),r&&(this._sm=r))},e.Stroke.prototype.getDash=function(){return this._sd},e.Stroke.prototype.getDashOffset=function(){return this._sdo},e.Stroke.prototype.getLineJoin=function(){return this._sj},e.Stroke.prototype.setLineJoin=function(t){this.isLocked()||(this._sj=t)},e.Stroke.prototype.getLineEnd=function(){return this._se},e.Stroke.prototype.setLineEnd=function(t){this.isLocked()||(this._se=t)},e.Stroke.prototype.getMiterLimit=function(){return this._sm},e.Stroke.prototype.setMiterLimit=function(t){this.isLocked()||(this._sm=t)},e.Stroke.prototype.getType=function(){return this._st},e.Stroke.prototype.setType=function(t,i,n){this.isLocked()||(t===e.Stroke.SOLID?(i=null,n=null):i||(i=e.Stroke.getDefaultDash(t,this._sw)),this._st=t,this._sd=i,this._sdo=n)},e.Stroke.prototype.getWidth=function(){return this._sw},e.Stroke.prototype.setWidth=function(t){this.isLocked()||(this._sw=t)},e.Stroke.prototype.setFixedWidth=function(t){this._bFixedWidth=t},e.Stroke.prototype.isFixedWidth=function(){return this._bFixedWidth},e.Stroke.getDefaultDash=function(t,i){i=Math.ceil(i);var n=Math.max(6,2*i),o=Math.max(2,i),r=Math.floor((n+o)/2);return t==e.Stroke.DASHED?""+n:t==e.Stroke.DOTTED?""+o:t==e.Stroke.DASHED_DOTTED?n+","+r+","+o+","+r:null},e.GradientStroke=function(t,e,i,n,o,r){this._Init(t,e,i,n,o,r)},e.Obj.createSubclass(e.GradientStroke,e.Stroke),e.GradientStroke.prototype.getAlpha=function(){return 1},e.GradientStroke.prototype.getAlphas=function(){return this._arAlphas},e.GradientStroke.prototype.getBounds=function(){return this._arBounds},e.GradientStroke.prototype.getColors=function(){return this._arColors},e.GradientStroke.prototype.getStops=function(){return this._arStops},e.GradientStroke.prototype._Init=function(t,i,n,o,r,s){e.GradientStroke.superclass._Init.call(this,r,s),this._arColors=t,this._arBounds=o;var a=0;t&&(a=t.length-1),i||(i=e.GradientStroke.createDefaultAlphas(a)),this._arAlphas=i,n||(n=e.GradientStroke.createDefaultStops(a)),this._arStops=n},e.GradientStroke.createDefaultAlphas=function(t){if(t<0)return null;for(var e=[],i=0;i<t;i++)e.push(1);return e},e.GradientStroke.createDefaultStops=function(t){var e=[],i=1/t,n=0;do{e.push(n),n+=i}while(--t>0);return e.push(1),e},e.GradientStroke.prototype.mergeProps=function(t){t._arColors=this._arColors,t._arStops=this._arStops,t._arAlphas=this._arAlphas,t._arBounds=this._arBounds,e.GradientStroke.superclass.mergeProps.call(this,t)},e.LinearGradientStroke=function(t,e,i,n,o,r,s){this._Init(t,e,i,n,o,r,s)},e.Obj.createSubclass(e.LinearGradientStroke,e.GradientStroke),e.LinearGradientStroke.prototype.clone=function(){var t=new e.LinearGradientStroke;return this.mergeProps(t),t},e.LinearGradientStroke.prototype._Init=function(t,i,n,o,r,s,a){e.LinearGradientStroke.superclass._Init.call(this,i,n,o,r,s,a),this._angle=null===t||isNaN(t)?0:t},e.LinearGradientStroke.prototype.getAngle=function(){return this._angle},e.LinearGradientStroke.prototype.mergeProps=function(t){e.LinearGradientStroke.superclass.mergeProps.call(this,t),t._angle=this._angle},e.LinearGradientStroke.prototype.setAngle=function(t){this.isLocked()||0!==t&&(Math.abs(t)>360&&(t%=360),this._angle=t)},e.SolidStroke=function(t,e,i){this._Init(t,e,i)},e.Obj.createSubclass(e.SolidStroke,e.Stroke),e.SolidStroke.prototype.clone=function(){var t=new e.SolidStroke;return this.mergeProps(t),t},e.SolidStroke.prototype._Init=function(t,i,n){this._sc=t,this._sa=null!=i?i:1,this._st=e.Stroke.SOLID,e.SolidStroke.superclass._Init.call(this,n)},e.SolidStroke.prototype.getAlpha=function(){return this._sa},e.SolidStroke.prototype.setAlpha=function(t){this.bLocked||(this._sa=t)},e.SolidStroke.prototype.getColor=function(){return this._sc},e.SolidStroke.prototype.setColor=function(t){this.bLocked||(this._sc=t)},e.SolidStroke.prototype.mergeProps=function(t){e.SolidStroke.superclass.mergeProps.call(this,t),t._sc=this._sc,t._sa=this._sa},e.Shadow=function(t,e,i,n,o,r,s,a,l,h){this._Init(t,e,i,n,o,r,s,a,l,h)},e.Obj.createSubclass(e.Shadow,f),e.Shadow._uniqueId=1,e.Shadow.prototype._Init=function(t,i,n,o,r,s,a,l,h,u){e.Shadow.superclass._Init.call(this),this.__type="shadow",this._rgba=t||"rgba(48,48,48,0.35)",this._distance=null===i||isNaN(i)?4:i,this._strength=null===s||isNaN(s)?1:s,this._blurX=null===n||isNaN(n)?4:n,this._blurY=null===o||isNaN(o)?4:o,this._angle=null===r||isNaN(r)?45:r,this._quality=null===a||isNaN(a)?1:a,this._bInner=!!l,this._bKnockout=!1,this._bHide=!1,this._Id="ds"+e.Shadow._uniqueId++},e.Shadow.prototype.clone=function(){var t=new e.Shadow;return this.mergeProps(t),t},e.Shadow.prototype.mergeProps=function(t){e.Shadow.superclass.mergeProps.call(this,t),t._rgba=this._rgba,t._distance=this._distance,t._strength=this._strength,t._blurX=this._blurX,t._blurY=this._blurY,t._angle=this._angle,t._quality=this._quality,t._bInner=this._bInner,t._bKnockout=this._bKnockout,t._bHide=this._bHide,t._Id=this._Id},e.GradientFill=function(t,e,i,n){this._Init(t,e,i,n)},e.Obj.createSubclass(e.GradientFill,e.Fill),e.GradientFill.prototype.getAlphas=function(){return this._arAlphas},e.GradientFill.prototype.getBounds=function(){return this._arBounds},e.GradientFill.prototype.getColors=function(){return this._arColors},e.GradientFill.prototype.getStops=function(){return this._arStops},e.GradientFill.prototype._Init=function(t,i,n,o){if(e.GradientFill.superclass._Init.call(this),this._arColors=t,this._arBounds=o,!i&&(i=[],t))for(var r=0;r<t.length;r++)i.push(1);this._arAlphas=i;var s=t?t.length-1:0;if(!n){n=[];var a=s>0?1/s:0,l=0;do{n.push(l),l+=a}while(--s>0);n.push(1)}this._arStops=n},e.GradientFill.prototype.mergeProps=function(t){t._arColors=this._arColors,t._arStops=this._arStops,t._arAlphas=this._arAlphas,t._arBounds=this._arBounds,e.GradientFill.superclass.mergeProps.call(this,t)},e.GradientFill.prototype.equals=function(t){return!!(t instanceof e.GradientFill&&e.ArrayUtils.equals(this._arColors,t._arColors)&&e.ArrayUtils.equals(this._arStops,t._arStops)&&e.ArrayUtils.equals(this._arAlphas,t._arAlphas)&&e.ArrayUtils.equals(this._arBounds,t._arBounds))&&e.GradientFill.superclass.equals.call(this,t)},e.LinearGradientFill=function(t,e,i,n,o){this._Init(t,e,i,n,o)},e.Obj.createSubclass(e.LinearGradientFill,e.GradientFill),e.LinearGradientFill.prototype.clone=function(){var t=new e.LinearGradientFill;return this.mergeProps(t),t},e.LinearGradientFill.prototype._Init=function(t,i,n,o,r){e.LinearGradientFill.superclass._Init.call(this,i,n,o,r),this._angle=null===t||isNaN(t)?0:t},e.LinearGradientFill.prototype.getAngle=function(){return this._angle},e.LinearGradientFill.prototype.clone=function(){var t=new e.LinearGradientFill;return this.mergeProps(t),t},e.LinearGradientFill.prototype.mergeProps=function(t){e.LinearGradientFill.superclass.mergeProps.call(this,t),t._angle=this._angle},e.LinearGradientFill.prototype.setAngle=function(t){this.isLocked()||0!==t&&(Math.abs(t)>360&&(t%=360),this._angle=t)},e.LinearGradientFill.prototype.equals=function(t){return t instanceof e.LinearGradientFill&&t._angle==this._angle&&e.LinearGradientFill.superclass.equals.call(this,t)},e.ImageFill=function(t,e,i){this._Init(t,e,i)},e.Obj.createSubclass(e.ImageFill,e.Fill),e.ImageFill.prototype.getBound=function(){return this._bound},e.ImageFill.prototype.getSrc=function(){return this._src},e.ImageFill.prototype.getRepeat=function(){return this._repeat},e.ImageFill.prototype._Init=function(t,i,n){e.ImageFill.superclass._Init.call(this),this._src=t,this._bound=i,this._repeat=n},e.ImageFill.prototype.clone=function(){var t=new e.ImageFill;return this.mergeProps(t),t},e.ImageFill.prototype.mergeProps=function(t){t._src=this._src,t._bound=this._bound,t._repeat=this._repeat,e.ImageFill.superclass.mergeProps.call(this)},e.ImageFill.prototype.equals=function(t){if(t instanceof e.ImageFill&&t._src==this._src&&t._repeat==this._repeat){if(this._bound&&t._bound&&this._bound.x==t.bound.x&&this._bound.y==t.bound.y&&this._bound.w==t.bound.w&&this._bound.h==t.bound.h)return e.ImageFill.superclass.equals.call(this,t);if(!this._bound&&!t._bound)return e.ImageFill.superclass.equals.call(this,t)}return!1},e.PatternFill=function(t,e,i){this.Init(t,e,i)},e.Obj.createSubclass(e.PatternFill,e.Fill),e.PatternFill.SM_DIAG_UP_LT="sDUL",e.PatternFill.LG_DIAG_UP_LT="lDUL",e.PatternFill.SM_DIAG_UP_RT="sDUR",e.PatternFill.LG_DIAG_UP_RT="lDUR",e.PatternFill.SM_CROSSHATCH="sC",e.PatternFill.LG_CROSSHATCH="lC",e.PatternFill.SM_CHECK="sCh",e.PatternFill.LG_CHECK="lCh",e.PatternFill.SM_TRIANGLE_CHECK="sTCh",e.PatternFill.LG_TRIANGLE_CHECK="lTCh",e.PatternFill.SM_DIAMOND_CHECK="sDCh",e.PatternFill.LG_DIAMOND_CHECK="lDCh",e.PatternFill.prototype.Init=function(t,i,n){e.PatternFill.superclass._Init.call(this),this._pattern=t?e.PatternFill._convertPatternValue(t):e.PatternFill.SM_DIAG_UP_LT,this._fillColor=i||"#000000",this._backgroundColor=n||"#ffffff"},e.PatternFill.prototype.getPattern=function(){return this._pattern},e.PatternFill.prototype.getColor=function(){return this._fillColor},e.PatternFill.prototype.getBackgroundColor=function(){return this._backgroundColor},e.PatternFill.prototype.clone=function(){var t=new e.PatternFill;return this.mergeProps(t),t},e.PatternFill.prototype.mergeProps=function(t){t._pattern=this._pattern,t._fillColor=this._fillColor,t._backgroundColor=this._backgroundColor,e.PatternFill.superclass.mergeProps.call(this)},e.PatternFill.prototype.equals=function(t){return t instanceof e.PatternFill&&t._pattern==this._pattern&&t._fillColor==this._fillColor&&t._backgroundColor==this._backgroundColor&&e.PatternFill.superclass.equals.call(this,t)},e.PatternFill.prototype.getMatrix=function(){return this._matrix?this._matrix:new e.Matrix},e.PatternFill.prototype.setMatrix=function(t){this._matrix=t,this._matrix&&!this._matrix.isLocked()&&this._matrix.__lock()},e.PatternFill._convertPatternValue=function(t){return"smallDiagonalLeft"==t?e.PatternFill.SM_DIAG_UP_LT:"largeDiagonalLeft"==t?e.PatternFill.LG_DIAG_UP_LT:"smallDiagonalRight"==t?e.PatternFill.SM_DIAG_UP_RT:"largeDiagonalRight"==t?e.PatternFill.LG_DIAG_UP_RT:"smallCrosshatch"==t?e.PatternFill.SM_CROSSHATCH:"largeCrosshatch"==t?e.PatternFill.LG_CROSSHATCH:"smallChecker"==t?e.PatternFill.SM_CHECK:"largeChecker"==t?e.PatternFill.LG_CHECK:"smallTriangle"==t?e.PatternFill.SM_TRIANGLE_CHECK:"largeTriangle"==t?e.PatternFill.LG_TRIANGLE_CHECK:"smallDiamond"==t?e.PatternFill.SM_DIAMOND_CHECK:"largeDiamond"==t?e.PatternFill.LG_DIAMOND_CHECK:t},e.RadialGradientFill=function(t,e,i,n,o,r,s){this._Init(t,e,i,n,o,r,s)},e.Obj.createSubclass(e.RadialGradientFill,e.GradientFill),e.RadialGradientFill.prototype.clone=function(){var t=new e.RadialGradientFill;return this.mergeProps(t),t},e.RadialGradientFill.prototype.getRadius=function(){return this._r},e.RadialGradientFill.prototype.getCx=function(){return this._cx},e.RadialGradientFill.prototype.getCy=function(){return this._cy},e.RadialGradientFill.prototype._Init=function(t,i,n,o,r,s,a){e.RadialGradientFill.superclass._Init.call(this,t,i,n,a),this._cx=o,this._cy=r,this._r=s},e.RadialGradientFill.prototype.clone=function(){var t=new e.RadialGradientFill;return this.mergeProps(t),t},e.RadialGradientFill.prototype.mergeProps=function(t){e.RadialGradientFill.superclass.mergeProps.call(this,t),t._cx=this._cx,t._cy=this._cy,t._r=this._r},e.RadialGradientFill.prototype.equals=function(t){
return t instanceof e.RadialGradientFill&&t._cx==this._cx&&t._cy==this._cy&&t._r==this._r&&e.RadialGradientFill.superclass.equals.call(this,t)},e.SelectionEffectUtils={},e.Obj.createSubclass(e.SelectionEffectUtils,e.Obj),e.SelectionEffectUtils.getHoverBorderColor=function(t){return e.ColorUtils.adjustHSL(t,0,0,.15)},e.SelectionEffectUtils.applyDrawEffect=function(t,e){if(0==t.getNumDrawEffects())t.addDrawEffect(e);else{var i=t.getDrawEffectIndex(e);i>-1?(t.removeDrawEffectAt(i),t.addDrawEffectAt(e,i)):t.addDrawEffect(e)}},e.SelectionEffectUtils.createSelectingStroke=function(t){var i=new e.SolidStroke(e.SelectionEffectUtils.getHoverBorderColor(t),1,2);return i.setMiterLimit(1),i},e.SelectionEffectUtils.getSelectingCursor=function(){return"pointer"},e.KeyboardFocusEffect=function(t,e,i,n,o,r){this.Init(t,e,i,n,o,r)},e.Obj.createSubclass(e.KeyboardFocusEffect,e.Obj),e.KeyboardFocusEffect.FOCUS_BORDER_RADIUS=1,e.KeyboardFocusEffect.FOCUS_STROKE_WIDTH=1,e.KeyboardFocusEffect.FOCUS_STROKE_ALPHA=1,e.KeyboardFocusEffect.FOCUS_STROKE_TYPE=e.Stroke.DOTTED,e.KeyboardFocusEffect.prototype.Init=function(t,i,n,o,r,s){this._container=i,this._focusEffect=new e.Rect(t,n.x,n.y,n.w,n.h,r);var a=this.CreateStroke();this._focusEffect.setStroke(a),this._focusEffect.setRx(e.KeyboardFocusEffect.FOCUS_BORDER_RADIUS),this._focusEffect.setRy(e.KeyboardFocusEffect.FOCUS_BORDER_RADIUS),o&&this._focusEffect.setMatrix(o),this._focusEffect.setFill(null),this._appendLast=s},e.KeyboardFocusEffect.prototype.CreateStroke=function(){var t=e.Agent.getFocusColor(),i=e.KeyboardFocusEffect.FOCUS_STROKE_WIDTH,n=e.KeyboardFocusEffect.FOCUS_STROKE_ALPHA,o=e.KeyboardFocusEffect.FOCUS_STROKE_TYPE;e.Agent.isPlatformWebkit()&&(i=2,o=e.Stroke.SOLID);var r=new e.SolidStroke(t,n,i);return r.setType(o,i,i),r},e.KeyboardFocusEffect.prototype.getEffect=function(){return this._focusEffect},e.KeyboardFocusEffect.prototype.setEffect=function(t){this._focusEffect=t},e.KeyboardFocusEffect.prototype.show=function(){this._focusEffect instanceof e.Shape&&(this._appendLast?this._container.addChild(this._focusEffect):this._container.addChildAt(this._focusEffect,0))},e.KeyboardFocusEffect.prototype.hide=function(){this._focusEffect instanceof e.Shape&&this._container.removeChild(this._focusEffect)},e.Dimension=function(t,e){this.Init(t,e)},e.Obj.createSubclass(e.Dimension,e.Obj),e.Dimension.prototype.Init=function(t,e){this.w=null===t||isNaN(t)?0:t,this.h=null===e||isNaN(e)?0:e},e.Dimension.prototype.getWidth=function(){return this.w},e.Dimension.prototype.getHeight=function(){return this.h},e.Matrix=function(t,e,i,n,o,r){this.Init(t,e,i,n,o,r)},e.Obj.createSubclass(e.Matrix,i),e.Matrix._DECOMP_TX=0,e.Matrix._DECOMP_TY=1,e.Matrix._DECOMP_R=2,e.Matrix._DECOMP_SKEWX=3,e.Matrix._DECOMP_SX=4,e.Matrix._DECOMP_SY=5,e.Matrix.prototype.Init=function(t,i,n,o,r,s){this._a=null==t?1:t,this._b=null==i?0:i,this._c=null==n?0:n,this._d=null==o?1:o,this._tx=null==r?0:r,this._ty=null==s?0:s,this._u=0,this._v=0,this._w=1,e.Matrix.superclass._Init.call(this)},e.Matrix.prototype.Identity=function(){this._a=1,this._b=0,this._c=0,this._d=1,this._tx=0,this._ty=0},e.Matrix.prototype.getA=function(){return this._a},e.Matrix.prototype.getB=function(){return this._b},e.Matrix.prototype.getC=function(){return this._c},e.Matrix.prototype.getD=function(){return this._d},e.Matrix.prototype.getTx=function(){return this._tx},e.Matrix.prototype.getTy=function(){return this._ty},e.Matrix.prototype.clone=function(){return new e.Matrix(this._a,this._b,this._c,this._d,this._tx,this._ty)},e.Matrix.prototype.concat=function(t){if(!this.isLocked()){var e=this._a*t._a+this._c*t._b+this._u*t._tx,i=this._b*t._a+this._d*t._b+this._v*t._tx,n=this._tx*t._a+this._ty*t._b+this._w*t._tx,o=this._a*t._c+this._c*t._d+this._u*t._ty,r=this._b*t._c+this._d*t._d+this._v*t._ty,s=this._tx*t._c+this._ty*t._d+this._w*t._ty;this._a=e,this._b=i,this._c=o,this._d=r,this._tx=n,this._ty=s}},e.Matrix.prototype.translate=function(t,i){if(!this.isLocked()){var n=new e.Matrix;n._tx=t,n._ty=i,this.concat(n)}},e.Matrix.prototype.scale=function(t,i,n,o){if(!this.isLocked()){(n||o)&&this.translate(-n,-o);var r=new e.Matrix;r._a=t,r._d=i,this.concat(r),(n||o)&&this.translate(n,o)}},e.Matrix.prototype.rotate=function(t){if(!this.isLocked()){var i=new e.Matrix;i._a=Math.cos(t),i._d=i._a,i._c=Math.sin(t),i._b=-i._c,this.concat(i)}},e.Matrix.prototype.skew=function(t,i){if(!this.isLocked()){var n=new e.Matrix;n._b=Math.tan(t),n._c=Math.tan(i),this.concat(n)}},e.Matrix.prototype.Determinant=function(){return this._a*(this._d*this._w-this._ty*this._v)-this._b*(this._c*this._w-this._ty*this._u)+this._tx*(this._c*this._v-this._d*this._u)},e.Matrix.prototype.invert=function(){if(!this.isLocked()){var t=this.Determinant(),e=this._d*this._w-this._ty*this._v,i=this._tx*this._v-this._b*this._w,n=this._b*this._ty-this._tx*this._d,o=this._ty*this._u-this._c*this._w,r=this._a*this._w-this._tx*this._u,s=this._tx*this._c-this._a*this._ty;this._a=e/t,this._b=i/t,this._tx=n/t,this._c=o/t,this._d=r/t,this._ty=s/t}},e.Matrix.prototype._decompose=function(){var t=this._a,e=this._b,i=this._c,n=this._d,o=this._tx,r=this._ty;if(t*n-e*i==0)return null;var s=Math.sqrt(t*t+i*i),a=(t/=s)*e+(i/=s)*n;e-=t*a,n-=i*a;var l=Math.sqrt(e*e+n*n);return a/=l,-1==t*(n/=l)-(e/=l)*i&&(a=-a,l=-l),[o,r,Math.atan2(i,t),Math.atan(a),s,l]},e.Matrix.prototype._recompose=function(t){if(!this.isLocked()){this.Identity();var e=t[0],i=t[1],n=t[2],o=t[3],r=t[4],s=t[5];this.scale(r,s),this.skew(o,0),this.rotate(n),this.translate(e,i)}},e.Matrix.prototype.equals=function(t){return!(!this&&t||this&&!t||(this||t)&&(this._a!=t._a||this._b!=t._b||this._c!=t._c||this._d!=t._d||this._tx!=t._tx||this._ty!=t._ty))},e.Matrix.prototype.transformPoint=function(t){var i=this._a*t.x+this._b*t.y+1*this._tx,n=this._c*t.x+this._d*t.y+1*this._ty;return new e.Point(i,n)},e.Matrix.prototype.isIdentity=function(){return 1==this._a&&0==this._b&&0==this._c&&1==this._d&&0==this._tx&&0==this._ty},e.Point=function(t,e){this.Init(t,e)},e.Obj.createSubclass(e.Point,e.Obj),e.Point.prototype.Init=function(t,e){this.x=null===t||isNaN(t)?0:t,this.y=null===e||isNaN(e)?0:e},e.Point.prototype.equals=function(t){return t instanceof e.Point&&this.x===t.x&&this.y===t.y},e.Rectangle=function(t,e,i,n){this.x=null===t||isNaN(t)?0:t,this.y=null===e||isNaN(e)?0:e,this.w=null===i||isNaN(i)?0:i,this.h=null===n||isNaN(n)?0:n},e.Obj.createSubclass(e.Rectangle,e.Obj),e.Rectangle.create=function(t){return new e.Rectangle(t[0],t[1],t[2],t[3])},e.Rectangle.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.w&&e>=this.y&&e<=this.y+this.h},e.Rectangle.prototype.getCenter=function(){return new e.Point(this.x+this.w/2,this.y+this.h/2)},e.Rectangle.prototype.getUnion=function(t){var i=new e.Rectangle;if(t&&0!==t.w&&0!==t.h)if(0!==this.w&&0!==this.h){var n=this.x+this.w,o=this.y+this.h,r=t.x+t.w,s=t.y+t.h,a=Math.min(this.x,t.x),l=Math.min(this.y,t.y);i.w=n<r?r-a:n-a,i.h=o>s?o-l:s-l,i.x=a,i.y=l}else i.x=t.x,i.y=t.y,i.w=t.w,i.h=t.h;else i.x=this.x,i.y=this.y,i.w=this.w,i.h=this.h;return i},e.Rectangle.prototype.getIntersection=function(t){var i=new e.Rectangle;if(!t||0===t.w||0===t.h)return null;if(0===this.w||0===this.h)return null;var n=this.x+this.w,o=this.y+this.h,r=t.x+t.w,s=t.y+t.h,a=Math.max(this.x,t.x),l=Math.max(this.y,t.y);return a>=n||a>=r||l>=o||l>=s?null:(i.w=n<r?n-a:r-a,i.h=o>s?s-l:o-l,i.x=a,i.y=l,i)},e.Rectangle.prototype.grow=function(t,e){var i=this.x,n=this.y,o=this.x+this.w,r=this.y+this.h;t<i&&(i=t),t>o&&(o=t),e<n&&(n=e),e>r&&(r=e),this.x=i,this.y=n,this.w=o-i,this.h=r-n},e.Rectangle.prototype.intersects=function(t){if(t&&0!==t.w&&0!==t.h&&0!==this.w&&0!==this.h){var e=this.x+this.w,i=this.y+this.h,n=t.x+t.w,o=t.y+t.h;return!(t.x>e||n<this.x||t.y>i||o<this.y)}return!1},e.Rectangle.prototype.clone=function(){return new e.Rectangle(this.x,this.y,this.w,this.h)},e.Rectangle.prototype.equals=function(t){return t instanceof e.Rectangle&&this.x==t.x&&this.y==t.y&&this.w==t.w&&this.h==t.h},e.Rectangle.prototype.toString=function(){return this.x+", "+this.y+", "+this.w+", "+this.h},e.VectorUtils={},e.Obj.createSubclass(e.VectorUtils,e.Obj),e.VectorUtils.createVector=function(t,e){var i={};return i.x=t,i.y=e,i},e.VectorUtils.addVectors=function(t,i){return e.VectorUtils.createVector(t.x+i.x,t.y+i.y)},e.VectorUtils.subtractVectors=function(t,i){return e.VectorUtils.createVector(t.x-i.x,t.y-i.y)},e.VectorUtils.scaleVector=function(t,i){return e.VectorUtils.createVector(t.x*i,t.y*i)},e.VectorUtils.getMagnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.Array2D=function(){this.Init()},e.Obj.createSubclass(e.Array2D,e.Obj),e.Array2D.prototype.Init=function(){this._data=[]},e.Array2D.prototype.get=function(t,e){return this._getInner(t)[e]},e.Array2D.prototype.put=function(t,e,i){var n=this._getInner(t),o=n[e];return n[e]=i,o},e.Array2D.prototype._getInner=function(t){var e=this._data[t];return e||(e=[],this._data[t]=e),e},e.Cache=function(t){this.Init(t)},e.Obj.createSubclass(e.Cache,e.Obj),e.Cache._TARGET_SIZE=1e3,e.Cache._BUFFER_SIZE=.5,e.Cache.prototype.Init=function(t){this._targetSize=null!=t?t:e.Cache._TARGET_SIZE,this._maxSize=Math.ceil(this._targetSize*(1+e.Cache._BUFFER_SIZE)),this._cache={},this._lruArray=[],this._hits=0,this._misses=0},e.Cache.prototype.get=function(t){var e=this._cache[t];return null!=e?(this._hits++,e):(this._misses++,null)},e.Cache.prototype.put=function(t,i){var n=null!=this._cache[t];if(this._cache[t]=i,n){var o=e.ArrayUtils.getIndex(this._lruArray,t);this._lruArray.splice(o,1),this._lruArray.push(t)}else if(this._lruArray.push(t),this._lruArray.length>this._maxSize)for(var r=this._lruArray.splice(0,this._maxSize-this._targetSize),s=0;s<r.length;s++)delete this._cache[r[s]]},e.Cache.prototype.toString=function(){var t="Cache Size: "+this._lruArray.length;return t+="\nHits: "+this._hits,(t+="\nMisses: "+this._misses)+"\nHit %: "+Math.round(1e4*this._hits/(this._hits+this._misses))/100},e.DragAndDropUtils={},e.Obj.createSubclass(e.DragAndDropUtils,e.Obj),e.DragAndDropUtils.getDragFeedbackBounds=function(t,e){if(!t)return null;var i=null;if(t instanceof Array){if(t.length>0){i=t[0].getDimensions(e||t[0].getParent());for(var n=1;n<t.length;n++){var o=t[n],r=o.getDimensions(e||o.getParent());r.x<i.x&&(i.w+=i.x-r.x,i.x=r.x),r.y<i.y&&(i.h+=i.y-r.y,i.y=r.y),r.x+r.w>i.x+i.w&&(i.w=r.x+r.w-i.x),r.y+r.h>i.y+i.h&&(i.h=r.y+r.h-i.y)}}}else i=t.getDimensions(e||t.getParent());return i},e.LayoutUtils={},e.Obj.createSubclass(e.LayoutUtils,e.Obj),e.LayoutUtils.position=function(t,i,n,o,r,s){n&&(s=o*r>0?s:0,"start"==i?i=e.Agent.isRightToLeft(n.getCtx())?"right":"left":"end"==i&&(i=e.Agent.isRightToLeft(n.getCtx())?"left":"right"),"top"==i?(n.setTranslate(t.x+t.w/2-o/2,t.y),t.y+=r+s,t.h-=r+s):"bottom"==i?(n.setTranslate(t.x+t.w/2-o/2,t.y+t.h-r),t.h-=r+s):"left"==i?(n.setTranslate(t.x,t.y+t.h/2-r/2),t.x+=o+s,t.w-=o+s):"right"==i&&(n.setTranslate(t.x+t.w-o,t.y+t.h/2-r/2),t.w-=o+s))},e.LayoutUtils.align=function(t,i,n,o){if(n){var r=i;"start"==r?r=e.Agent.isRightToLeft(n.getCtx())?"right":"left":"end"==r&&(r=e.Agent.isRightToLeft(n.getCtx())?"left":"right"),"left"==r?n.setX(t.x):"center"==r?n.setX(t.x+t.w/2-o/2):"right"==r&&n.setX(t.x+t.w-o)}},e.LayoutUtils.getBubbleSize=function(t,e,i,n,o){if(t<=0)return 0;var r=n*n,s=o*o;if(i/e<s/r){var a=Math.sqrt(r*s),l=Math.sqrt(e*i);if(t==l)return Math.sqrt(a);s=i/l*a,r=e/l*a}var h=r+(t-e)/(i-e)*(s-r);return Math.sqrt(h)},e.Math=new Object,e.Obj.createSubclass(e.Math,e.Obj),e.Math.RADS_PER_DEGREE=Math.PI/180,e.Math.DEGREES_PER_RAD=180/Math.PI,e.Math.TWO_PI=2*Math.PI,e.Math.HALF_PI=Math.PI/2,e.Math.QUARTER_PI=Math.PI/4,e.Math.TOLERANCE=.1,e.Math.cantorPairing=function(t,e){return t<0||e<0?-1:(t+e)*(t+e+1)/2+t},e.Math.degreesToRads=function(t){return t*e.Math.RADS_PER_DEGREE},e.Math.radsToDegrees=function(t){return t*e.Math.DEGREES_PER_RAD},e.Math.interpolateNumber=function(t,e,i){return t+i*(e-t)},e.Math.log10=function(t){return Math.log(t)/Math.LN10},e.Math.calculateAngleBetweenTwoVectors=function(t,i,n,o){var r=Math.atan2(o,n)-Math.atan2(i,t);return r<0?r+e.Math.TWO_PI:r},e.Map2D=function(){this.Init()},e.Obj.createSubclass(e.Map2D,e.Obj),e.Map2D.prototype.Init=function(){this._map={}},e.Map2D.prototype.get=function(t,e){return this._getInnerMap(t)[e]},e.Map2D.prototype.put=function(t,e,i){var n=this._getInnerMap(t),o=n[e];return n[e]=i,o},e.Map2D.prototype._getInnerMap=function(t){var e=this._map[t];return e||(e={},this._map[t]=e),e},e.PixelMap=function(t,e){this.Init(t,e)},e.Obj.createSubclass(e.PixelMap,e.Array2D),e.PixelMap._INITIAL_SIZE=1500,e.PixelMap.prototype.Init=function(t,i){e.PixelMap.superclass.Init.call(this),this._innerMap=i,this._innerMap&&(this._innerMap._outerMap=this,this._innerMap._bOuterMap=!0),this._scale=t||1,this._capacity=this._scale*this._scale,this._bInnerMap=null!=this._innerMap,this._bOuterMap=!1;for(var n=e.PixelMap._INITIAL_SIZE/this._scale,o=0;o<n;o++)for(var r=0;r<n;r++)this.put(o,r,0)},e.PixelMap.prototype.isObscured=function(t,e,i,n){for(var o=this._adjustForScale(t),r=this._adjustForScale(e),s=this._adjustForScale(i),a=this._adjustForScale(n),l=o;l<=s;l++)for(var h=r;h<=a;h++)if(!0!==this.get(l,h)){if(!this._bInnerMap)return!1;var u=Math.max(t,l*this._scale),c=Math.max(e,h*this._scale),p=Math.min(i,(l+1)*this._scale-1),_=Math.min(n,(h+1)*this._scale-1);if(!this._innerMap.isObscured(u,c,p,_))return!1}return!0},e.PixelMap.prototype.obscure=function(t,e,i,n,o){for(var r=this._adjustForScale(t),s=this._adjustForScale(e),a=this._adjustForScale(i),l=this._adjustForScale(n),h=r;h<=a;h++)for(var u=s;u<=l;u++)if(!0!==this.get(h,u))if(this._bInnerMap){var c=Math.max(t,h*this._scale),p=Math.max(e,u*this._scale),_=Math.min(i,(h+1)*this._scale-1),g=Math.min(n,(u+1)*this._scale-1);this._innerMap.obscure(c,p,_,g,o)}else this._increment(h,u,o)},e.PixelMap.prototype._increment=function(t,e,i){var n=this._adjustForScale(t),o=this._adjustForScale(e),r=this.get(n,o);(r=null!=r?r+i:i)>=this._capacity&&(r=!0),this.put(n,o,r),!0===r&&this._bOuterMap&&this._outerMap._increment(t,e,this._capacity)},e.PixelMap.prototype._adjustForScale=function(t){return Math.floor(t/this._scale)},e.PropMap=function(){this.Init()},e.PropMap.REGEXP=new RegExp("#\\{([^\\}]*)\\}","g"),e.Obj.createSubclass(e.PropMap,e.Obj),e.PropMap.prototype.Init=function(){this._props={}},e.PropMap.prototype.getProperty=function(t){return this._props[t]},e.PropMap.prototype.setProperty=function(t,e){this._props[t]=e},e.PropMap.prototype.getStringProp=function(t,e){return this._props[t]||e},e.PropMap.prototype.getBooleanProp=function(t,e){var i=this._props[t],n=e;return"boolean"==typeof i?n=i:0===i?n=!1:1===i?n=!0:"string"==typeof i&&(n="true"===i.toLowerCase()||"yes"===i.toLowerCase()||"on"===i.toLowerCase()),n},e.PropMap.prototype.getIntegerProp=function(t,e){var i,n=this._props[t];return n&&(i=parseInt(n)),i||e},e.PropMap.prototype.getFloatProp=function(t,e){var i,n=this._props[t];return n&&(i=parseFloat(n)),i||e},e.PropMap.prototype.getId=function(){return this.getProperty("id")},e.PropMap.prototype.setId=function(t){this.setProperty("id",t)},e.PropMap.prototype.setProperties=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.name&&void 0!==i.value&&this.setProperty(i.name,i.value)}},e.PropMap.prototype.stamp=function(t){var i=new this.constructor,n={};for(var o in this._props)this._props[o]&&this._props[o].replace?n[o]=this._props[o].replace(e.PropMap.REGEXP,function(e,i){return t&&void 0!==t[i]?t[i]:e}):n[o]=this._props[o];return i._props=n,i},e.PropMap.toELContext=function(t){for(var e,i=t.getAttributes(),n={},o=0;o<i.length;o++)n[(e=i[o]).name]=e.value;return n},e.ImageLoader={},e.Obj.createSubclass(e.ImageLoader,e.Obj),e.ImageLoader.loadImage=function(t,e,i){return t.getImplFactory().getImageLoader().loadImage(e,i)},e.JsonUtils=new Object,e.Obj.createSubclass(e.JsonUtils,e.Obj),e.JsonUtils.clone=function(t,i,n){if(null==t)return null;var o=null;if(t instanceof Array){o=[];for(var r=0;r<t.length;r++)e.JsonUtils._isDeepClonable(t[r])?o[r]=e.JsonUtils.clone(t[r],i,n):o[r]=t[r]}else if(t instanceof e.CSSStyle)o=t.clone();else if(t instanceof Date)o=t.getTime();else if(e.JsonUtils._isClonableObject(t))for(var s in o={},t)if(!i||i(s)){var a=t[s];if(n&&1==n[s]||!e.JsonUtils._isDeepClonable(a)||"_widgetConstructor"==s)o[s]=a;else{var l=n?n[s]:null;o[s]=e.JsonUtils.clone(a,i,l)}}return o},e.JsonUtils.merge=function(t,i,n){var o=e.JsonUtils.clone(t,null,n),r=e.JsonUtils.clone(i,null,n);return null==o?r:null==r?o:(e.JsonUtils._copy(o,r),r)},e.JsonUtils._copy=function(t,i){for(var n in t){var o=t[n];void 0!==o&&(o&&o instanceof Array||"_widgetConstructor"==n?i[n]=o:i[n]&&i[n]instanceof e.CSSStyle?o instanceof e.CSSStyle?i[n].merge(o):i[n].merge(new e.CSSStyle(o)):e.JsonUtils._isDeepClonable(o)&&i[n]?e.JsonUtils._copy(o,i[n]):i[n]=o)}},e.JsonUtils._isDeepClonable=function(t){return t instanceof Object&&!t.has&&!(t instanceof Boolean||t instanceof String||t instanceof Number||t instanceof Function||t.then)},e.JsonUtils._isClonableObject=function(t){return!(!(t instanceof Object)||t.then||t.jquery||t.has||"undefined"!=typeof NodeList&&t instanceof NodeList||"undefined"!=typeof Node&&t instanceof Node)},e.BaseEvent=function(){},e.Obj.createSubclass(e.BaseEvent,e.Obj),e.BaseEvent.prototype.Init=function(t){this.type=t.type,this.type=this.type,this.target=e.BaseEvent.FindDisplayable(t.target),this._isPropagationStopped=!1,this._event=t},e.BaseEvent.prototype.getNativeEvent=function(){return this._event},e.BaseEvent.prototype.preventDefault=function(){this._event.cancelable&&this._event.preventDefault()},e.BaseEvent.prototype.stopPropagation=function(){this._event.stopPropagation&&this._event.stopPropagation(),this._event.cancelBubble=!0,this._event.cancel=!0,this._event.returnValue=!1,this._isPropagationStopped=!0},e.BaseEvent.prototype.isPropagationStopped=function(){return this._isPropagationStopped},e.BaseEvent.prototype.getType=function(){return this.type},e.BaseEvent.FindDisplayable=function(t){for(;t;){if(t._obj&&t._obj.getObj&&t._obj.getObj())return t._obj.getObj();t=t.parentNode}return null},e.BaseComponentEvent=function(){},e.Obj.createSubclass(e.BaseComponentEvent,e.Obj),e.BaseComponentEvent.CLIENT_ROW_KEY="clientRowKey",e.BaseComponentEvent.prototype.Init=function(t){this._type=t,this.type=t},e.BaseComponentEvent.prototype.getType=function(){return this._type},e.BaseComponentEvent.prototype.addParam=function(t,e){this._paramKeys||(this._paramKeys=[],this._paramValues=[]),this._paramKeys.push(t),this._paramValues.push(e),this[t]=e},e.BaseComponentEvent.prototype.getParamValue=function(t){if(!t||!this._paramKeys||!this._paramValues)return null;for(var e=-1,i=0;i<this._paramKeys.length;i++)if(this._paramKeys[i]==t){e=i;break}return-1!=e?this._paramValues[e]:this[t]};var y=function(t){this.Init(t)};e.Obj.createSubclass(y,e.BaseEvent),y.FOCUS=e.Obj.defineConstant("focus"),y.FOCUSIN=e.Obj.defineConstant("focusin"),y.FOCUSOUT=e.Obj.defineConstant("focusout"),y.BLUR=e.Obj.defineConstant("blur"),y.prototype.Init=function(t){y.superclass.Init.call(this,t),this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.view=t.view,null!=t.relatedTarget&&(this.relatedTarget=e.BaseEvent.FindDisplayable(t.relatedTarget))},e.KeyboardEvent=function(t){this.Init(t)},e.Obj.createSubclass(e.KeyboardEvent,e.BaseEvent),e.KeyboardEvent.KEYDOWN=e.Obj.defineConstant("keydown"),e.KeyboardEvent.KEYUP=e.Obj.defineConstant("keyup"),e.KeyboardEvent.KEYPRESS=e.Obj.defineConstant("keypress"),e.KeyboardEvent.TAB=9,e.KeyboardEvent.ENTER=13,e.KeyboardEvent.SHIFT=16,e.KeyboardEvent.CONTROL=17,e.KeyboardEvent.HOME=36,e.KeyboardEvent.END=35,e.KeyboardEvent.ESCAPE=27,e.KeyboardEvent.SPACE=32,e.KeyboardEvent.PAGE_UP=33,e.KeyboardEvent.PAGE_DOWN=34,e.KeyboardEvent.UP_ARROW=38,e.KeyboardEvent.DOWN_ARROW=40,e.KeyboardEvent.DELETE=46,e.KeyboardEvent.LEFT_ARROW=37,e.KeyboardEvent.RIGHT_ARROW=39,e.KeyboardEvent.OPEN_BRACKET=219,e.KeyboardEvent.CLOSE_BRACKET=221,e.KeyboardEvent.BACK_SLASH=220,e.KeyboardEvent.FORWARD_SLASH=191,e.KeyboardEvent.ZERO=48,e.KeyboardEvent.NUMPAD_ZERO=96,e.KeyboardEvent.ONE=49,e.KeyboardEvent.NUMPAD_ONE=97,e.KeyboardEvent.TWO=50,e.KeyboardEvent.NUMPAD_TWO=98,e.KeyboardEvent.THREE=51,e.KeyboardEvent.NUMPAD_THREE=99,e.KeyboardEvent.FOUR=52,e.KeyboardEvent.NUMPAD_FOUR=100,e.KeyboardEvent.FIVE=53,e.KeyboardEvent.NUMPAD_FIVE=101,e.KeyboardEvent.SIX=54,e.KeyboardEvent.NUMPAD_PLUS=107,e.KeyboardEvent.NUMPAD_MINUS=109,e.KeyboardEvent.WEBKIT_PLUS=187,e.KeyboardEvent.WEBKIT_MINUS=189,e.KeyboardEvent.GECKO_PLUS=61,e.KeyboardEvent.GECKO_MINUS=173,e.KeyboardEvent.WEBKIT_SEMICOLON=186,e.KeyboardEvent.GECKO_SEMICOLON=59,e.KeyboardEvent.A=65,e.KeyboardEvent.F=70,e.KeyboardEvent.L=76,e.KeyboardEvent.M=77,e.KeyboardEvent.N=78,e.KeyboardEvent.PERIOD=190,e.KeyboardEvent.NUMPAD_PERIOD=110,e.KeyboardEvent.SINGLE_QUOTE=222,e.KeyboardEvent.STAR=56,e.KeyboardEvent.NUMPAD_STAR=144,e.KeyboardEvent.OPEN_ANGLED_BRACKET=188,e.KeyboardEvent.CLOSE_ANGLED_BRACKET=190,e.KeyboardEvent.GRAVE_ACCENT=192,e.KeyboardEvent.prototype.Init=function(t){e.KeyboardEvent.superclass.Init.call(this,t),this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.view=t.view,this.charCode=t.charCode,this.keyCode=t.keyCode,this.location=t.location,this.ctrlKey=t.ctrlKey||t.metaKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.repeat=t.repeat,this.locale=t.locale},e.KeyboardEvent.isPlus=function(t){var i=t.keyCode;return!(i!=e.KeyboardEvent.NUMPAD_PLUS&&(e.Agent.isPlatformGecko()?i!=e.KeyboardEvent.GECKO_PLUS||!t.shiftKey:i!=e.KeyboardEvent.WEBKIT_PLUS||!t.shiftKey))},e.KeyboardEvent.isEquals=function(t){var i=t.keyCode;return e.Agent.isPlatformGecko()?i==e.KeyboardEvent.GECKO_PLUS&&!t.shiftKey:i==e.KeyboardEvent.WEBKIT_PLUS&&!t.shiftKey},e.KeyboardEvent.isMinus=function(t){var i=t.keyCode;return i==e.KeyboardEvent.NUMPAD_MINUS||(e.Agent.isPlatformGecko()?i==e.KeyboardEvent.GECKO_MINUS&&!t.shiftKey:i==e.KeyboardEvent.WEBKIT_MINUS&&!t.shiftKey)},e.KeyboardEvent.isUnderscore=function(t){var i=t.keyCode;return e.Agent.isPlatformGecko()?!(i!=e.KeyboardEvent.GECKO_MINUS||!t.shiftKey):!(i!=e.KeyboardEvent.WEBKIT_MINUS||!t.shiftKey)},e.KeyboardEvent.isSemicolon=function(t){var i=t.keyCode;return e.Agent.isPlatformGecko()?i==e.KeyboardEvent.GECKO_SEMICOLON:i==e.KeyboardEvent.WEBKIT_SEMICOLON},e.MouseEvent=function(t){this.Init(t)},e.Obj.createSubclass(e.MouseEvent,e.BaseEvent),e.MouseEvent.CLICK=e.Obj.defineConstant("click"),e.MouseEvent.DBLCLICK=e.Obj.defineConstant("dblclick"),e.MouseEvent.MOUSEOVER=e.Obj.defineConstant("mouseover"),e.MouseEvent.MOUSEOUT=e.Obj.defineConstant("mouseout"),e.MouseEvent.MOUSEDOWN=e.Obj.defineConstant("mousedown"),e.MouseEvent.MOUSEUP=e.Obj.defineConstant("mouseup"),e.MouseEvent.MOUSEMOVE=e.Obj.defineConstant("mousemove"),e.MouseEvent.MOUSEWHEEL=e.Obj.defineConstant("wheel"),e.MouseEvent.RIGHT_CLICK_BUTTON=2,e.MouseEvent.prototype.Init=function(t){e.MouseEvent.superclass.Init.call(this,t),null!=t.relatedTarget&&(this.relatedTarget=e.BaseEvent.FindDisplayable(t.relatedTarget)),this.button=t.button,this.ctrlKey=t.ctrlKey||t.metaKey,this.shiftKey=t.shiftKey,this.pageX=t.pageX,this.pageY=t.pageY,this._isEventModifiedForIE=!1,null!=t.wheelDeltaY?this.wheelDelta=t.wheelDeltaY/40:null!=t.deltaY?(this.deltaMode=t.deltaMode,this.deltaY=t.deltaY,t.deltaMode==t.DOM_DELTA_LINE?this.wheelDelta=-t.deltaY:t.deltaMode==t.DOM_DELTA_PIXEL&&(this.wheelDelta=-t.deltaY/15)):null!=t.wheelDelta?this.wheelDelta=t.wheelDelta/40:this.wheelDelta=t.detail},e.MouseEvent.prototype.modifyEventForIE=function(t,i){this._isEventModifiedForIE||(this.type=t,this.relatedTarget=this.target,this.target=e.BaseEvent.FindDisplayable(i),this._isEventModifiedForIE=!0)},e.TouchEvent=function(t){this.Init(t)},e.Obj.createSubclass(e.TouchEvent,e.BaseEvent),e.TouchEvent.TOUCHSTART=e.Obj.defineConstant("touchstart"),e.TouchEvent.TOUCHMOVE=e.Obj.defineConstant("touchmove"),e.TouchEvent.TOUCHEND=e.Obj.defineConstant("touchend"),e.TouchEvent.TOUCHCANCEL=e.Obj.defineConstant("touchcancel"),e.TouchEvent.prototype.Init=function(t){e.TouchEvent.superclass.Init.call(this,t),t.type==e.TouchEvent.TOUCHCANCEL&&(this.type=e.TouchEvent.TOUCHEND),this.touches=e.TouchEvent.createTouchArray(t.touches),this.targetTouches=e.TouchEvent.createTouchArray(t.targetTouches),this.changedTouches=e.TouchEvent.createTouchArray(t.changedTouches),this._touchManager=null},e.TouchEvent.prototype.blockTouchHold=function(){this.getNativeEvent()._touchHoldBlocked=!0},e.TouchEvent.prototype.isInitialTouch=function(){return this.touches.length-this.changedTouches.length==0},e.TouchEvent.prototype.isTouchHoldBlocked=function(){return!!this.getNativeEvent()._touchHoldBlocked},e.TouchEvent.createTouchArray=function(t){for(var i=new Array,n=0;n<t.length;n++){var o=t[n],r=new e.Touch(o);i.push(r)}return i},e.TouchEvent.prototype.stopPropagation=function(){e.TouchEvent.superclass.stopPropagation.call(this),this._touchManager&&this._touchManager.postEventBubble(this)},e.TouchEvent.prototype.setTouchManager=function(t){this._touchManager=t},e.Touch=function(t){this.Init(t)},e.Obj.createSubclass(e.Touch,e.Obj),e.Touch.prototype.Init=function(t){this.clientX=t.clientX,this.clientY=t.clientY,this.screenX=t.screenX,this.screenY=t.screenY,this.pageX=t.pageX,this.pageY=t.pageY,this.target=t.target,this.identifier=null==t.identifier||isNaN(t.identifier)?1:t.identifier},e.TouchManager=function(t,e,i){this.Init(t,e,i)},e.Obj.createSubclass(e.TouchManager,e.Obj),e.TouchManager.TOUCH_MODE="mode",e.TouchManager.TOUCH_MODE_DEFAULT="defaultMode",e.TouchManager.TOUCH_MODE_LONG_PRESS="longPressMode",e.TouchManager.PREV_HOVER_OBJ="prevHoverObj",e.TouchManager.HOVER_TOUCH_KEY="hoverTouch",e.TouchManager.prototype.Init=function(t,i,n){this._context=i,this._id=t,this._eventManager=n,this._touchCount=0,this._touchHoldTimer=new e.Timer(this._context,200,this._handleTouchHoldStartTimer,this),this._blockTouchHold=!1,this._touchMap=new Object,this._savedTouchInfo=new Array,this._addTouchHoldMoveEventListener(this._onTouchHoldHover,this),this._doubleTapTimer=new e.Timer(this._context,600,this._handleDoubleTapTimer,this,1),this._dvtTouchEvent=null},e.TouchManager.prototype.blockTouchHold=function(){this._stopTouchHoldTimer(),this._blockTouchHold=!0},e.TouchManager.prototype.unblockTouchHold=function(){this._blockTouchHold=!1},e.TouchManager.prototype._addTouchHoldMoveEventListener=function(t,i){this.addTouchEventListener(e.ComponentTouchEvent.TOUCH_HOLD_START_TYPE,t,i),this.addTouchEventListener(e.ComponentTouchEvent.TOUCH_HOLD_MOVE_TYPE,t,i),this.addTouchEventListener(e.ComponentTouchEvent.TOUCH_HOLD_END_TYPE,t,i)},e.TouchManager.prototype._onTouchHoldHover=function(t){var i=t.getType(),n=t.touch,o=t.getNativeEvent(),r=this._touchMap[n.identifier],s=t.target;if(i==e.ComponentTouchEvent.TOUCH_HOLD_END_TYPE){var a=new e.ComponentTouchEvent(e.ComponentTouchEvent.TOUCH_HOVER_END_TYPE,n,s,null,o);a._isCancelEvent=this._isCancelEvent,null!=s&&this.FireListener(new e.ComponentTouchEvent(e.ComponentTouchEvent.TOUCH_HOVER_OUT_TYPE,n,s,null,o)),r[e.TouchManager.PREV_HOVER_OBJ]=null,this.FireListener(a)}else i==e.ComponentTouchEvent.TOUCH_HOLD_START_TYPE?(r[e.TouchManager.PREV_HOVER_OBJ]=null,null!=s&&this.FireListener(new e.ComponentTouchEvent(e.ComponentTouchEvent.TOUCH_HOVER_OVER_TYPE,n,s,null,o)),r[e.TouchManager.PREV_HOVER_OBJ]=s,this.FireListener(new e.ComponentTouchEvent(e.ComponentTouchEvent.TOUCH_HOVER_START_TYPE,n,s,null,o))):i==e.ComponentTouchEvent.TOUCH_HOLD_MOVE_TYPE&&(this._fireHoverOverOutEvents(s,r[e.TouchManager.PREV_HOVER_OBJ],n,o),r[e.TouchManager.PREV_HOVER_OBJ]=s,this.FireListener(new e.ComponentTouchEvent(e.ComponentTouchEvent.TOUCH_HOVER_MOVE_TYPE,n,s,null,o)))},e.TouchManager.prototype._getObjFromTouch=function(t){var e=null;if(t){var i=this._context.getDocumentUtils();i&&(e=i.elementFromTouch(t))}return e},e.TouchManager.prototype._fireHoverOverOutEvents=function(t,i,n,o){i!=t&&(null!=i&&this.FireListener(new e.ComponentTouchEvent(e.ComponentTouchEvent.TOUCH_HOVER_OUT_TYPE,n,i,t,o)),null!=t&&this.FireListener(new e.ComponentTouchEvent(e.ComponentTouchEvent.TOUCH_HOVER_OVER_TYPE,n,t,i,o)))},e.TouchManager.prototype.addTouchEventListener=function(t,e,i){var n=this._getListeners(t,!0);n.push(e),n.push(i)},e.TouchManager.prototype.removeTouchEventListener=function(t,e,i){var n=this._getListeners(t,!1);if(n)for(var o=0;o<n.length;o+=2)if(n[o]===e&&n[o+1]===i){n.splice(o,2);break}},e.TouchManager.prototype._getListeners=function(t,e){if(!this._listenerObj){if(!e)return null;this._listenerObj={}}var i=t,n=this._listenerObj[i];return!n&&e&&(n=[],this._listenerObj[i]=n),n},e.TouchManager.prototype.FireListener=function(t){var e=this._getListeners(t.getType(),!1);if(e)for(var i=0;i<e.length;i+=2){var n=e[i+1];e[i].call(n,t)}},e.TouchManager.prototype.startTouchHold=function(t){var i=this._startSingleFingerTouchId;if(null!=i&&!isNaN(i)){var n=this._touchMap[i];if(n){for(var o=n.startTarget,r=n.startTouch,s=t.getNativeEvent(),a=this._findMatches("touchId",i),l=0;l<a.length;l++){var h=a[l],u=h.touchObj,c=h.touchId;if(u!=e.TouchManager.HOVER_TOUCH_KEY){var p=this.getTouchInfo(c).startTouch;this.performAssociatedTouchEnd(p,u,null)}}n[e.TouchManager.TOUCH_MODE]=e.TouchManager.TOUCH_MODE_LONG_PRESS,this.saveProcessedTouch(i,e.TouchManager.HOVER_TOUCH_KEY,null,e.TouchManager.HOVER_TOUCH_KEY,e.TouchManager.HOVER_TOUCH_KEY,this.HoverMoveInternal,this.HoverEndInternal,this);var _=new e.ComponentTouchEvent(e.ComponentTouchEvent.TOUCH_HOLD_START_TYPE,r,o,null,s);this.FireListener(_)}}},e.TouchManager.prototype.fireLogicalEvents=function(t){var i=t.type,n=t.getNativeEvent();if(i==e.TouchEvent.TOUCHSTART?(t.isTouchHoldBlocked()||this.processAssociatedTouchAttempt(t,e.TouchManager.HOVER_TOUCH_KEY,this.HoverStartInternal,this),this._doubleTapAttemptStarted&&t.preventDefault()):i==e.TouchEvent.TOUCHMOVE?this.processAssociatedTouchMove(t,e.TouchManager.HOVER_TOUCH_KEY):i==e.TouchEvent.TOUCHEND&&this.processAssociatedTouchEnd(t,e.TouchManager.HOVER_TOUCH_KEY),i==e.TouchEvent.TOUCHEND)for(var o=this._getStoredTouches(t.changedTouches),r=0;r<o.length;r++){var s=o[r],a=s.identifier,l=this.getTouchInfo(a),h=l.currentObj;if(l[e.TouchManager.TOUCH_MODE]!=e.TouchManager.TOUCH_MODE_LONG_PRESS&&l.fireClick){var u=new e.ComponentTouchEvent(e.ComponentTouchEvent.TOUCH_CLICK_TYPE,s,h,null,n);if(u.touchEvent=t,this._doubleTapAttemptStarted){var c=this._doubleTapAttemptObj;if(this.resetDoubleTap(),h==c||c.contains(h)){var p=new e.ComponentTouchEvent(e.ComponentTouchEvent.TOUCH_DOUBLE_CLICK_TYPE,s,h,null,n);p.touchEvent=t,this.FireListener(p)}else this.FireListener(u)}else this.FireListener(u),this.resetDoubleTap(),this._doubleTapTimer.start(),this._doubleTapAttemptStarted=!0,this._doubleTapAttemptObj=h}}},e.TouchManager.prototype.getTouchInfo=function(t){return this._touchMap[t]},e.TouchManager.prototype.HoverStartInternal=function(t,e){if(!this._blockTouchHold){var i=e.identifier;this._startSingleFingerTouchId=i,this._stopTouchHoldTimer(),this._startTouchHoldTimer(t)}},e.TouchManager.prototype.HoverMoveInternal=function(t,i){var n=i.identifier,o=this.getTouchInfo(n).currentObj,r=new e.ComponentTouchEvent(e.ComponentTouchEvent.TOUCH_HOLD_MOVE_TYPE,i,o,null,t.getNativeEvent());this.FireListener(r),t.preventDefault()},e.TouchManager.prototype.HoverEndInternal=function(t,i){var n=i.identifier,o=this.getTouchInfo(n).currentObj,r=new e.ComponentTouchEvent(e.ComponentTouchEvent.TOUCH_HOLD_END_TYPE,i,o,null,t.getNativeEvent());this.FireListener(r),t&&t.preventDefault()},e.TouchManager.prototype.resetTouchHold=function(){this._startSingleFingerTouchId=null,this._stopTouchHoldTimer()},e.TouchManager.prototype.preEventBubble=function(t){t.setTouchManager&&t.setTouchManager(this);var i=t.type;i==e.TouchEvent.TOUCHSTART?this.processTouchStart(t):i==e.TouchEvent.TOUCHMOVE?this.processTouchMove(t):i==e.TouchEvent.TOUCHEND&&this.processTouchEnd(t)},
e.TouchManager.prototype.postEventBubble=function(t){var i=t.type;if(i==e.TouchEvent.TOUCHSTART);else if(i==e.TouchEvent.TOUCHMOVE);else if(i==e.TouchEvent.TOUCHEND)for(var n=this._getStoredTouches(t.changedTouches),o=0;o<n.length;o++){var r=n[o].identifier;delete this._touchMap[r],this._startSingleFingerTouchId==r&&(this._startSingleFingerTouchId=null);for(var s=this._findMatches("touchId",r),a=0;a<s.length;a++){var l=s[a];this.removeTooltipInfo(l.touchId,l.touchObj)}}},e.TouchManager.prototype.saveProcessedTouch=function(t,i,n,o,r,s,a,l){if(null!=t&&!isNaN(t)){var h=e.TouchManager.createSavedTouchInfo(t,i,n,o,r,s,a,l);return this._savedTouchInfo.push(h),!0}return!1},e.TouchManager.prototype.saveProcessedTouchDefault=function(t,e,i,n,o,r){var s=null;r.immediateTouchMoved&&(s=r.immediateTouchMoved);var a=null;r.immediateTouchEnded&&(a=r.immediateTouchEnded),this.saveProcessedTouch(t,e,i,n,o,s,a,r)},e.TouchManager.prototype.processAssociatedTouch=function(t,i,n,o){var r=t.type;r==e.TouchEvent.TOUCHSTART?this.processAssociatedTouchAttempt(t,i,n,o):r==e.TouchEvent.TOUCHMOVE?this.processAssociatedTouchMove(t,i):r==e.TouchEvent.TOUCHEND&&this.processAssociatedTouchEnd(t,i)},e.TouchManager.prototype.processAssociatedTouchDefault=function(t,e){this.processAssociatedTouch(t,e,e.immediateTouchAttempted,e)},e.TouchManager.prototype.cancelTouchHold=function(){for(var t=e.TouchManager.HOVER_TOUCH_KEY,i=this.getTouchIdsForObj(t),n=0;n<i.length;n++){var o=i[n],r=this.getTouchInfo(o).startTouch;r&&(this._isCancelEvent=!0,this.performAssociatedTouchEnd(r,t,null),this._isCancelEvent=!1,delete this._touchMap[o])}},e.TouchManager.prototype.performAssociatedTouchEnd=function(t,e,i){for(var n=t.identifier,o=this._getSavedTouchInfo(n,e),r=0;r<o.length;r++){var s=o[r],a=s.listenerObj,l=s.endListener;this.removeTooltipInfo(n,e),l&&l.call(a,i,t,s)}},e.TouchManager.prototype.processAssociatedTouchAttempt=function(t,e,i,n){for(var o=t.changedTouches,r=0;r<o.length;r++){var s=o[r];s&&i&&i.call(n,t,s)}},e.TouchManager.prototype.processAssociatedTouchMove=function(t,i){for(var n=this.getTouchIdsForObj(i),o=0;o<n.length;o++){var r=n[o];if(null!=r&&!isNaN(r)){var s=e.TouchManager.getTouchById(r,this._getStoredTouches(t.changedTouches));if(s){var a=this._getSavedTouchInfo(s.identifier,i);for(o=0;o<a.length;o++){var l=a[o],h=l.listenerObj,u=l.moveListener;u&&u.call(h,t,s)}}}}},e.TouchManager.prototype.processAssociatedTouchEnd=function(t,i){for(var n=this.getTouchIdsForObj(i),o=0;o<n.length;o++){var r=n[o],s=e.TouchManager.getTouchById(r,this._getStoredTouches(t.changedTouches));s&&this.performAssociatedTouchEnd(s,i,t)}},e.TouchManager.prototype._findMatch=function(t,e){for(var i=-1,n=0;n<this._savedTouchInfo.length;n++)this._savedTouchInfo[n][t]==e&&(i=n);return i},e.TouchManager.prototype._findMatches=function(t,e){for(var i=new Array,n=0;n<this._savedTouchInfo.length;n++){var o=this._savedTouchInfo[n];o[t]==e&&i.push(o)}return i},e.TouchManager.prototype._getSavedTouchInfo=function(t,e){for(var i=this._findMatches("touchId",t),n=[],o=0;o<i.length;o++){var r=i[o];r.touchObj==e&&n.push(r)}return n},e.TouchManager.prototype.containsTouchId=function(t){return this._findMatches("touchId",t).length>0},e.TouchManager.prototype.getTouchIdsForObj=function(t){for(var e=new Array,i=this._findMatches("touchObj",t),n=0;n<i.length;n++){var o=i[n].touchId;e.push(o)}return e},e.TouchManager.prototype.removeTooltipInfo=function(t,e){for(var i=this._findMatches("touchId",t),n=new Array,o=0;o<i.length;o++)(l=i[o]).touchObj==e&&n.push(l);for(o=0;o<n.length;o++){for(var r=n[o],s=-1,a=0;a<this._savedTouchInfo.length;a++){var l;(l=this._savedTouchInfo[a])==r&&(s=a)}-1!=s&&(this._savedTouchInfo.splice(s,1),0==this._savedTouchInfo.length&&this._context.getTooltipManager().hideTooltip())}},e.TouchManager.prototype.setTooltipEnabled=function(t,e){for(var i=this._savedTouchInfo,n=0;n<i.length;n++){var o=i[n];o.touchId==t&&(o.allowTooltips=e)}},e.TouchManager.prototype.getTooltipInfo=function(){for(var t=new Object,e=new Array,i=null,n=null,o=!1,r=this._findMatches("allowTooltips",!0),s=0;s<r.length;s++){var a,l=r[s],h=l.touchId;n?l.grouping!=n&&(o=!0):n=l.grouping;var u=this._touchMap[h];u&&(a=u.currentObj),l.tooltipObjOverride&&(a=l.tooltipObjOverride),e.push(h),i=a}return o&&(e=new Array),t.touchIds=e,t.tooltipTarget=i,t},e.TouchManager.prototype.containsGrouping=function(t){return this._findMatches("grouping",t).length>0},e.TouchManager.prototype.processTouchStart=function(t){var i=t.changedTouches,n=t.touches;this._touchCount=n.length;for(var o=0;o<i.length;o++){var r=i[o],s=r.screenX,a=r.screenY,l=r.identifier,h=this._getObjFromTouch(r),u={x:s,y:a,prevX:s,prevY:a,pageX:r.pageX,pageY:r.pageY,prevPageX:r.pageX,prevPageY:r.pageY,dx:0,dy:0,fireClick:!0,startTarget:h,currentObj:h,touchMoved:!1,touchtype:null,startTouch:r};u[e.TouchManager.TOUCH_MODE]=e.TouchManager.TOUCH_MODE_DEFAULT,u.origx=s,u.origy=a,this._touchMap[l]=u}return!this._isHovering()&&this._isTouchHoldAllowed()||t.blockTouchHold(),!0},e.TouchManager.prototype._isTouchHoldAllowed=function(){var t=!1,e=0;for(var i in this._touchMap)this.getTouchInfo(i).touchMoved&&(t=!0),e++;return!(e>1&&!t&&(this.resetTouchHold(),1))},e.TouchManager.prototype._isHovering=function(){for(var t in this._touchMap)if(this.getTouchInfo(t)[e.TouchManager.TOUCH_MODE]==e.TouchManager.TOUCH_MODE_LONG_PRESS)return!0;return!1},e.TouchManager.prototype._getStoredTouches=function(t){for(var e=new Array,i=0;i<t.length;i++){var n=t[i],o=n.identifier;this.getTouchInfo(o)&&e.push(n)}return e},e.TouchManager.prototype.processTouchMove=function(t){for(var i=this._getStoredTouches(t.changedTouches),n=this._getStoredTouches(t.touches),o=0;o<i.length;o++){var r=i[o],s=this._getObjFromTouch(r),a=r.identifier;if((c=this.getTouchInfo(a)).currentObj=s,c.touchMoved=!0,c[e.TouchManager.TOUCH_MODE]!=e.TouchManager.TOUCH_MODE_LONG_PRESS){var l=Math.abs(c.pageX-r.pageX),h=Math.abs(c.pageY-r.pageY);this._startSingleFingerTouchId==a&&(l>0||h>0)&&this.resetTouchHold(),c.touchMoved=l>3||h>3}(c.touchMoved||c.fireClick&&c[e.TouchManager.TOUCH_MODE]!=e.TouchManager.TOUCH_MODE_LONG_PRESS&&c.currentObj!=c.startTarget&&c.currentObj!=this._eventManager.getMarqueeGlassPane())&&(c.fireClick=!1)}for(o=0;o<n.length;o++){var u=(r=n[o]).identifier,c=this.getTouchInfo(u),p=r.screenX,_=r.screenY,g=p-c.x,d=_-c.y;c.prevX=c.x,c.prevY=c.y,c.dx=g,c.dy=d,c.x=p,c.y=_,c.prevPageX=c.pageX,c.prevPageY=c.pageY,c.pageX=r.pageX,c.pageY=r.pageY}return!0},e.TouchManager.prototype.processTouchEnd=function(t){var i=t.changedTouches;this._touchCount=t.touches.length;for(var n=0;n<i.length;n++){var o=i[n],r=this._getObjFromTouch(o),s=o.identifier,a=this.getTouchInfo(s);if(a&&a.fireClick)if(a[e.TouchManager.TOUCH_MODE]==e.TouchManager.TOUCH_MODE_LONG_PRESS)this._startSingleFingerTouchId=null;else{var l=r==a.startTarget,h=a.touchMoved,u=l&&!h;a.fireClick=u}}return!0},e.TouchManager.getTouchById=function(t,e){if(null!=t&&!isNaN(t))for(var i=0;i<e.length;i++){var n=e[i];if(n.identifier==t)return n}return null},e.TouchManager.createSavedTouchInfo=function(t,e,i,n,o,r,s,a){var l={touchId:t,tooltipObjOverride:i,grouping:n,type:o,touchObj:e,allowTooltips:!0};return l.moveListener=r,l.endListener=s,l.listenerObj=a,l},e.TouchManager.prototype._handleTouchHoldStartTimer=function(){var t=this._dvtTouchEvent;this._stopTouchHoldTimer(),this.startTouchHold(t)},e.TouchManager.prototype._startTouchHoldTimer=function(t){this._dvtTouchEvent=t,this._touchHoldTimer&&this._touchHoldTimer.start()},e.TouchManager.prototype._stopTouchHoldTimer=function(){this._dvtTouchEvent=null,this._touchHoldTimer&&this._touchHoldTimer.stop()},e.TouchManager.prototype._handleDoubleTapTimer=function(){this.resetDoubleTap()},e.TouchManager.prototype.resetDoubleTap=function(){this._doubleTapAttemptStarted=!1,this._doubleTapAttemptObj=null,this._doubleTapTimer.stop()},e.TouchManager.prototype.getMultiTouchData=function(t){if(2==t.length){var e=this._touchMap[t[0]],i=this._touchMap[t[1]];if(null==e||null==i)return null;if(0==e.dx&&0==i.dy)return null;var n=e.pageX-i.pageX,o=e.pageY-i.pageY,r=Math.sqrt(n*n+o*o),s=e.prevPageX-i.prevPageX,a=e.prevPageY-i.prevPageY,l=r-Math.sqrt(s*s+a*a),h=(e.pageX+i.pageX)/2,u=(e.pageY+i.pageY)/2;return{dz:l,cx:h,cy:u,dcx:h-(e.prevPageX+i.prevPageX)/2,dcy:u-(e.prevPageY+i.prevPageY)/2,dist:r}}return null},e.TouchManager.prototype.getMultiTouchDelta=function(t){if(t){var e,i;if(2==t.length){var n=this._touchMap[t[0]],o=this._touchMap[t[1]];if(null==n||null==o)return;if(null==n.touchtype){var r=this._determineTouchDirection(n);if(null!=r){var s=this._determineTouchDirection(o);null!=s&&(i=this._isSameDirection(r,s)?"scroll":"pinch",n.touchtype=i)}}if(null==(i=n.touchtype))return;if("pinch"==i)return null}for(var a=0,l=0,h=0;h<t.length;h++)a+=(e=this._touchMap[t[h]]).dx,l+=e.dy;return{deltaX:1*(a/=t.length),deltaY:1*(l/=t.length)}}return null},e.TouchManager.prototype._isSameDirection=function(t,e){return t==e||(2==t.length&&1==e.length?t.charAt(0)==e||t.charAt(1)==e:1==t.length&&2==e.length&&(t==e.charAt(0)||e==t.charAt(1)))},e.TouchManager.prototype._determineTouchDirection=function(t){var e=t.origx,i=t.origy;if(null==e||null==i)return null;var n=t.x-e,o=t.y-i;if(Math.sqrt(Math.pow(n,2)+Math.pow(o,2))<.01*window.innerWidth)return null;var r=null;Math.abs(n/o)>=.25&&(r=n<0?"l":"r");var s=null;return Math.abs(o/n)>=.25&&(s=o<0?"u":"d"),null!=r&&null!=s?s+r:null==r?s:null==s?r:null},e.TouchManager.prototype.calcAveragePosition=function(t){for(var i=0,n=0,o=t.length,r=0;r<o;r++){var s=t[r],a=this.getTouchInfo(s);i+=a.pageX,n+=a.pageY}return i/=o,n/=o,new e.Point(i,n)},e.TouchManager.prototype.getStartTargetsByIds=function(t){for(var e=new Array,i=0;i<t.length;i++){var n=this.getTouchInfo(t[i]);e.push(n.startTarget)}return e},e.TouchManager.prototype.reset=function(){this._touchMap=new Object,this._savedTouchInfo=new Array,this.resetTouchHold(),this.resetDoubleTap()},e.ViewportChangeEvent=function(t,i,n){this.Init(e.ViewportChangeEvent.TYPE),this._oldDim=t,this._newDim=i,this._evt=n},e.ViewportChangeEvent.TYPE="viewportChange",e.Obj.createSubclass(e.ViewportChangeEvent,e.BaseComponentEvent),e.ViewportChangeEvent.prototype.getNativeEvent=function(){return this._evt},e.ViewportChangeEvent.prototype.getOldDimensions=function(){return this._oldDim},e.ViewportChangeEvent.prototype.getNewDimensions=function(){return this._newDim};var E=function(t,e){this.Init(t),this.target=e};E.TOOLTIP_CLOSED_TYPE="actiontooltipclosed",E.TOOLTIP_STARTED_TYPE="actiontooltipstarted",e.Obj.createSubclass(E,e.BaseComponentEvent),E.prototype.Init=function(t){E.superclass.Init.call(this,t)},e.ComponentTouchEvent=function(t,e,i,n,o){this.Init(t,e,i,n,o)},e.ComponentTouchEvent.TOUCH_HOLD_START_TYPE="touchholdstart",e.ComponentTouchEvent.TOUCH_HOLD_MOVE_TYPE="touchholdmove",e.ComponentTouchEvent.TOUCH_HOLD_END_TYPE="touchholdend",e.ComponentTouchEvent.TOUCH_HOVER_START_TYPE="touchhoverstart",e.ComponentTouchEvent.TOUCH_HOVER_MOVE_TYPE="touchhovermove",e.ComponentTouchEvent.TOUCH_HOVER_END_TYPE="touchhoverend",e.ComponentTouchEvent.TOUCH_HOVER_OVER_TYPE="touchhoverover",e.ComponentTouchEvent.TOUCH_HOVER_OUT_TYPE="touchhoverout",e.ComponentTouchEvent.TOUCH_CLICK_TYPE="touchclick",e.ComponentTouchEvent.TOUCH_DOUBLE_CLICK_TYPE="touchdblclick",e.Obj.createSubclass(e.ComponentTouchEvent,e.BaseComponentEvent),e.ComponentTouchEvent.prototype.Init=function(t,i,n,o,r){e.ComponentTouchEvent.superclass.Init.call(this,t),this.target=n,this.touch=i,this.relatedTarget=o,this._isPropagationStopped=!1,this._nativeEvent=r},e.ComponentTouchEvent.prototype.preventDefault=function(){},e.ComponentTouchEvent.prototype.stopPropagation=function(){this._isPropagationStopped=!0},e.ComponentTouchEvent.prototype.isPropagationStopped=function(){return this._isPropagationStopped},e.ComponentTouchEvent.prototype.getNativeEvent=function(){return this._nativeEvent},e.ResizeEvent=function(t,e,i,n){this.Init(t,e,i,n)},e.Obj.createSubclass(e.ResizeEvent,e.Obj),e.ResizeEvent.RESIZE_EVENT="dvtResizeEvent",e.ResizeEvent.prototype.Init=function(t,i,n,o){this.type=e.ResizeEvent.RESIZE_EVENT,this._ww=t,this._hh=i,this._xx=n,this._yy=o},e.ResizeEvent.prototype.getWidth=function(){return this._ww},e.ResizeEvent.prototype.getHeight=function(){return this._hh},e.ResizeEvent.prototype.getX=function(){return this._xx},e.ResizeEvent.prototype.getY=function(){return this._yy},e.ResizeEvent.prototype.getType=function(){return this.type},e.ScrollEvent=function(t,e){this.Init(t,e)},e.Obj.createSubclass(e.ScrollEvent,e.Obj),e.ScrollEvent.SCROLL_EVENT="dvtScrollEvent",e.ScrollEvent.prototype.Init=function(t,i){this.type=e.ScrollEvent.SCROLL_EVENT,this._x=t,this._y=i},e.ScrollEvent.prototype.getX=function(){return this._x},e.ScrollEvent.prototype.getY=function(){return this._y},e.ScrollEvent.prototype.getType=function(){return this.type},e.MarqueeEvent=function(t,i,n,o,r,s){this.Init(e.MarqueeEvent.TYPE),this.subtype=t,this.x=i,this.y=n,this.w=o,this.h=r,this.ctrlKey=s},e.Obj.createSubclass(e.MarqueeEvent,e.BaseComponentEvent),e.MarqueeEvent.TYPE="dvtMarquee",e.MarqueeEvent.SUBTYPE_START="dvtMarqueeStartEvent",e.MarqueeEvent.SUBTYPE_MOVE="dvtMarqueeMoveEvent",e.MarqueeEvent.SUBTYPE_END="dvtMarqueeEndEvent",e.MarqueeEvent.prototype.getSubtype=function(){return this.subtype},e.PanZoomEvent=function(t,i,n,o,r,s,a,l,h){this.Init(e.PanZoomEvent.TYPE),this.subtype=t,this.dxMin=i,this.dxMax=n,this.dyMin=o,this.dyMax=r,this.dxMinTotal=s,this.dxMaxTotal=a,this.dyMinTotal=l,this.dyMaxTotal=h},e.Obj.createSubclass(e.PanZoomEvent,e.BaseComponentEvent),e.PanZoomEvent.TYPE="dvtPanZoom",e.PanZoomEvent.SUBTYPE_PAN_START="dvtPanStartEvent",e.PanZoomEvent.SUBTYPE_PAN_MOVE="dvtPanMoveEvent",e.PanZoomEvent.SUBTYPE_PAN_END="dvtPanEndEvent",e.PanZoomEvent.SUBTYPE_ZOOM="dvtZoomEvent",e.PanZoomEvent.SUBTYPE_PINCH_START="dvtPinchStartEvent",e.PanZoomEvent.SUBTYPE_PINCH_MOVE="dvtPinchMoveEvent",e.PanZoomEvent.SUBTYPE_PINCH_END="dvtPinchEndEvent",e.PanZoomEvent.prototype.getSubtype=function(){return this.subtype},e.SimpleScrollbarEvent=function(t,i,n){this.Init(e.SimpleScrollbarEvent.TYPE),this._subtype=t,this._newMin=i,this._newMax=n},e.Obj.createSubclass(e.SimpleScrollbarEvent,e.BaseComponentEvent),e.SimpleScrollbarEvent.TYPE="dvtSimpleScrollbar",e.SimpleScrollbarEvent.SUBTYPE_MOVE="dvtMoveEvent",e.SimpleScrollbarEvent.SUBTYPE_END="dvtEndEvent",e.SimpleScrollbarEvent.prototype.getSubtype=function(){return this._subtype},e.SimpleScrollbarEvent.prototype.getNewMin=function(){return this._newMin},e.SimpleScrollbarEvent.prototype.getNewMax=function(){return this._newMax},e.DomEventFactory=new Object,e.Obj.createSubclass(e.DomEventFactory,e.Obj),e.DomEventFactory.newEvent=function(t,i){var n=t.type;return n==e.TouchEvent.TOUCHSTART||n==e.TouchEvent.TOUCHMOVE||n==e.TouchEvent.TOUCHEND||n==e.TouchEvent.TOUCHCANCEL?new e.TouchEvent(t):n==e.KeyboardEvent.KEYDOWN||n==e.KeyboardEvent.KEYUP||n==e.KeyboardEvent.KEYPRESS?new e.KeyboardEvent(t):(i._nativeEvent!=t&&(i._nativeEvent=t,i._logicalEvent=n==y.FOCUS||n==y.FOCUSIN||n==y.FOCUSOUT||n==y.BLUR?new y(t):new e.MouseEvent(t)),i._logicalEvent)},e.DomEventFactory.generateMouseEventFromKeyboardEvent=function(t,i,n,o,r,s){var a=null;if(document.createEvent){a=document.createEvent("MouseEvents");var l=i.stageToPageCoords(r,s);a.initMouseEvent(n,!0,!0,window,1,l.x,l.y,l.x,l.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null)}if(a){var h=e.DomEventFactory.newEvent(a,i);return h.target=t.target,h}return null},e.PanEvent=function(t,i,n,o,r,s){this.Init(e.PanEvent.TYPE),this.type=this.getType(),this._subtype=t,this._newX=i,this._newY=n,this._oldX=o,this._oldY=r,this._animator=s},e.Obj.createSubclass(e.PanEvent,e.BaseComponentEvent),e.PanEvent.TYPE="dvtPan",e.PanEvent.SUBTYPE_DRAG_PAN_BEGIN="dragPanBegin",e.PanEvent.SUBTYPE_DRAG_PAN_END="dragPanEnd",e.PanEvent.SUBTYPE_PANNED="panned",e.PanEvent.SUBTYPE_PANNING="panning",e.PanEvent.SUBTYPE_ELASTIC_ANIM_BEGIN="elasticAnimBegin",e.PanEvent.SUBTYPE_ELASTIC_ANIM_END="elasticAnimEnd",e.PanEvent.prototype.getSubType=function(){return this._subtype},e.PanEvent.prototype.getNewX=function(){return this._newX},e.PanEvent.prototype.getNewY=function(){return this._newY},e.PanEvent.prototype.getOldX=function(){return this._oldX},e.PanEvent.prototype.getOldY=function(){return this._oldY},e.PanEvent.prototype.getAnimator=function(){return this._animator},e.ZoomEvent=function(t,i,n,o,r,s,a,l){this.Init(e.ZoomEvent.TYPE),this.type=this.getType(),this._subtype=t,this._newZoom=i,this._oldZoom=n,this._animator=o,this._zoomToFitBounds=r,this._centerPoint=s,this._tx=a,this._ty=l},e.Obj.createSubclass(e.ZoomEvent,e.BaseComponentEvent),e.ZoomEvent.TYPE="dvtZoom",e.ZoomEvent.SUBTYPE_ZOOMED="zoomed",e.ZoomEvent.SUBTYPE_ZOOMING="zooming",e.ZoomEvent.SUBTYPE_ZOOM_END="zoomEnd",e.ZoomEvent.SUBTYPE_DRAG_ZOOM_BEGIN="dragZoomBegin",e.ZoomEvent.SUBTYPE_DRAG_ZOOM_END="dragZoomEnd",e.ZoomEvent.SUBTYPE_ZOOM_AND_CENTER="zoomAndCenter",e.ZoomEvent.SUBTYPE_ZOOM_TO_FIT_CALC_BOUNDS="zoomToFitCalcBounds",e.ZoomEvent.SUBTYPE_ZOOM_TO_FIT_BEGIN="zoomToFitBegin",e.ZoomEvent.SUBTYPE_ZOOM_TO_FIT_END="zoomToFitEnd",e.ZoomEvent.SUBTYPE_ELASTIC_ANIM_BEGIN="elasticAnimBegin",e.ZoomEvent.SUBTYPE_ELASTIC_ANIM_END="elasticAnimEnd",e.ZoomEvent.SUBTYPE_ADJUST_PAN_CONSTRAINTS="adjustPanConstraints",e.ZoomEvent.prototype.getSubType=function(){return this._subtype},e.ZoomEvent.prototype.getNewZoom=function(){return this._newZoom},e.ZoomEvent.prototype.getOldZoom=function(){return this._oldZoom},e.ZoomEvent.prototype.getAnimator=function(){return this._animator},e.ZoomEvent.prototype.setZoomToFitBounds=function(t){this._zoomToFitBounds=t},e.ZoomEvent.prototype.getZoomToFitBounds=function(){return this._zoomToFitBounds},e.ZoomEvent.prototype.getCenterPoint=function(){return this._centerPoint},e.ZoomEvent.prototype.getTx=function(){return this._tx},e.ZoomEvent.prototype.getTy=function(){return this._ty};var T={};e.Obj.createSubclass(T,e.Obj),T.lineLinear=function(t){return t.join("L")},T.lineCardinalClosed=function(t,e){return t.length<3?T.lineLinear(t):t[0]+T.lineHermite((t.push(t[0]),t),T.lineCardinalTangents([t[t.length-2]].concat(t,[t[1]]),e))},T.lineCardinal=function(t,e){return t.length<3?T.lineLinear(t):t[0]+T.lineHermite(t,T.lineCardinalTangents(t,e))},T.lineHermite=function(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return T.lineLinear(t);var i=t.length!=e.length,n="",o=t[0],r=t[1],s=e[0],a=s,l=1;if(i&&(n+="Q"+Math.round(r[0]-2*s[0]/3)+","+Math.round(r[1]-2*s[1]/3)+","+Math.round(r[0])+","+Math.round(r[1]),o=t[1],l=2),e.length>1){a=e[1],r=t[l],l++,n+="C"+Math.round(o[0]+s[0])+","+Math.round(o[1]+s[1])+","+Math.round(r[0]-a[0])+","+Math.round(r[1]-a[1])+","+Math.round(r[0])+","+Math.round(r[1]);for(var h=2;h<e.length;h++,l++)r=t[l],a=e[h],n+="S"+Math.round(r[0]-a[0])+","+Math.round(r[1]-a[1])+","+Math.round(r[0])+","+Math.round(r[1])}if(i){var u=t[l];n+="Q"+Math.round(r[0]+2*a[0]/3)+","+Math.round(r[1]+2*a[1]/3)+","+Math.round(u[0])+","+Math.round(u[1])}return n},T.lineCardinalTangents=function(t,e){for(var i,n=[],o=(1-e)/2,r=t[0],s=t[1],a=1,l=t.length;++a<l;)i=r,r=s,s=t[a],n.push([o*(s[0]-i[0]),o*(s[1]-i[1])]);return n},T.lineSlope=function(t,e){return(e[1]-t[1])/(e[0]-t[0])},T.lineFiniteDifferences=function(t){for(var e=0,i=t.length-1,n=[],o=t[0],r=t[1],s=n[0]=T.lineSlope(o,r);++e<i;)n[e]=(s+(s=T.lineSlope(o=r,r=t[e+1])))/2;return n[e]=s,n},T.lineMonotoneTangents=function(t,e){e&&(t=T._rotatePoints(t));for(var i,n,o,r,s=[],a=T.lineFiniteDifferences(t),l=-1,h=t.length-1;++l<h;)i=T.lineSlope(t[l],t[l+1]),Math.abs(i)<1e-6?a[l]=a[l+1]=0:(r=(n=a[l]/i)*n+(o=a[l+1]/i)*o)>9&&(r=3*i/Math.sqrt(r),a[l]=r*n,a[l+1]=r*o);for(l=-1;++l<=h;)r=(t[Math.min(h,l+1)][0]-t[Math.max(0,l-1)][0])/(6*(1+a[l]*a[l])),s.push([r||0,a[l]*r||0]);return e&&(s=T._rotatePoints(s)),s},T.lineMonotone=function(t,e){return t.length<3?T.lineLinear(t):t[0]+T.lineHermite(t,T.lineMonotoneTangents(t,e))},T._rotatePoints=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i][1],t[i][0]]);return e},e.DisplayableUtils=function(){},e.Obj.createSubclass(e.DisplayableUtils,e.Obj),e.DisplayableUtils.getDimensionsForced=function(t,e){var i,n=e.getParent();n&&(i=n.getChildIndex(e));var o=t.getStage();o.addChild(e);var r=e.getDimensions();return o.removeChild(e),n&&n.addChildAt(e,i),r},e.DisplayableUtils.getDimForced=function(t,i){if(i._dim||!t)return i._dim;var n=e.DisplayableUtils.getDimensionsForced(t,i);return e.DisplayableUtils._setDimForced(i,n),n},e.DisplayableUtils._setDimForced=function(t,e){t._dim=e},e.DisplayableUtils.isAncestor=function(t,i){for(var n=i;n;){if(n==t)return!0;n instanceof e.Container&&(n=n.getParent())}return!1},e.PathUtils={},e.Obj.createSubclass(e.PathUtils,e.Obj),e.PathUtils.SPLINE_TYPE_MONOTONE_VERTICAL="mv",e.PathUtils.SPLINE_TYPE_MONOTONE_HORIZONTAL="mh",e.PathUtils.SPLINE_TYPE_CARDINAL_CLOSED="cc",e.PathUtils.SPLINE_TYPE_CARDINAL="c",e.PathUtils.moveTo=function(t,i){return"M"+e.ToolkitUtils.roundDecimal(t)+","+e.ToolkitUtils.roundDecimal(i)},e.PathUtils.lineTo=function(t,i){return"L"+e.ToolkitUtils.roundDecimal(t)+","+e.ToolkitUtils.roundDecimal(i)},e.PathUtils.quadTo=function(t,i,n,o){return"Q"+e.ToolkitUtils.roundDecimal(t)+","+e.ToolkitUtils.roundDecimal(i)+","+e.ToolkitUtils.roundDecimal(n)+","+e.ToolkitUtils.roundDecimal(o)},e.PathUtils.horizontalLineTo=function(t){return"H"+e.ToolkitUtils.roundDecimal(t)},e.PathUtils.verticalLineTo=function(t){return"V"+e.ToolkitUtils.roundDecimal(t)},e.PathUtils.cubicTo=function(t,i,n,o,r,s){return"C"+e.ToolkitUtils.roundDecimal(t)+","+e.ToolkitUtils.roundDecimal(i)+","+e.ToolkitUtils.roundDecimal(n)+","+e.ToolkitUtils.roundDecimal(o)+","+e.ToolkitUtils.roundDecimal(r)+","+e.ToolkitUtils.roundDecimal(s)},e.PathUtils.arcTo=function(t,i,n,o,r,s){var a="A"+e.ToolkitUtils.roundDecimal(t)+","+e.ToolkitUtils.roundDecimal(i)+",0,";return n>Math.PI?a+="1,":a+="0,",a+(o+",")+e.ToolkitUtils.roundDecimal(r)+","+e.ToolkitUtils.roundDecimal(s)},e.PathUtils.closePath=function(){return"Z"},e.PathUtils.roundedRectangle=function(t,i,n,o,r,s,a,l){return e.PathUtils._roundedRectangle(t,i,n,o,r,r,s,s,a,a,l,l)},e.PathUtils.rectangleWithBorderRadius=function(t,i,n,o,r,s,a){var l=a,h=a,u=a,c=a,p=a,_=a,g=a,d=a;if(r)if(-1!=r.indexOf("/")){var S=r.split("/"),f=e.StringUtils.trim(S[0]).split(/\s+/),y=e.StringUtils.trim(S[1]).split(/\s+/);1==f.length?l=u=p=g=f[0]:2==f.length?(l=p=f[0],u=g=f[1]):3==f.length?(l=f[0],u=g=f[1],p=f[2]):4==f.length&&(l=f[0],u=f[1],p=f[2],g=f[3]),1==y.length?h=c=_=d=y[0]:2==y.length?(h=_=y[0],c=d=y[1]):3==y.length?(h=y[0],c=d=y[1],_=y[2]):4==y.length&&(h=y[0],c=y[1],_=y[2],d=y[3])}else if("auto"!=r){var E=e.StringUtils.trim(r).split(/\s+/);1==E.length?l=u=p=g=h=c=_=d=E[0]:2==E.length?(l=p=h=_=E[0],u=g=c=d=E[1]):3==E.length?(l=h=E[0],u=g=c=d=E[1],p=_=E[2]):4==E.length&&(l=h=E[0],u=c=E[1],p=_=E[2],g=d=E[3])}return r&&"0"!=r?e.PathUtils._roundedRectangle(t,i,n,o,e.PathUtils._parseBorderRadiusItem(l,s),e.PathUtils._parseBorderRadiusItem(h,s),e.PathUtils._parseBorderRadiusItem(u,s),e.PathUtils._parseBorderRadiusItem(c,s),e.PathUtils._parseBorderRadiusItem(p,s),e.PathUtils._parseBorderRadiusItem(_,s),e.PathUtils._parseBorderRadiusItem(g,s),e.PathUtils._parseBorderRadiusItem(d,s)):e.PathUtils._rectangle(t,i,n,o)},e.PathUtils._parseBorderRadiusItem=function(t,e){var i=Math.min(parseFloat(t),e/2);return-1!=t.indexOf("%")&&(i=.01*Math.min(50,parseFloat(t))*e),i},e.PathUtils._roundedRectangle=function(t,i,n,o,r,s,a,l,h,u,c,p){return s=Math.min(s,.5*o),l=Math.min(l,.5*o),u=Math.min(u,.5*o),p=Math.min(p,.5*o),r=Math.min(r,.5*n),a=Math.min(a,.5*n),h=Math.min(h,.5*n),c=Math.min(c,.5*n),e.PathUtils.moveTo(t+r,i)+e.PathUtils.lineTo(t+n-a,i)+e.PathUtils.arcTo(a,l,Math.PI/2,1,t+n,i+l)+e.PathUtils.lineTo(t+n,i+o-u)+e.PathUtils.arcTo(h,u,Math.PI/2,1,t+n-h,i+o)+e.PathUtils.lineTo(t+c,i+o)+e.PathUtils.arcTo(c,p,Math.PI/2,1,t,i+o-p)+e.PathUtils.lineTo(t,i+s)+e.PathUtils.arcTo(r,s,Math.PI/2,1,t+r,i)+e.PathUtils.closePath()},e.PathUtils.polyline=function(t,i){if(t.length<2)return"";for(var n=i?e.PathUtils.lineTo(t[0],t[1]):e.PathUtils.moveTo(t[0],t[1]),o=2;o<t.length;o+=2)n+=e.PathUtils.lineTo(t[o],t[o+1]);return n},e.PathUtils.curveThroughPoints=function(t,i,n){if(0==t.length)return"";for(var o=[],r=0;r<t.length;r+=2)o.push([t[r],t[r+1]]);var s=i?"L":"M";return n==e.PathUtils.SPLINE_TYPE_MONOTONE_VERTICAL?s+T.lineMonotone(o,!1):n==e.PathUtils.SPLINE_TYPE_MONOTONE_HORIZONTAL?s+T.lineMonotone(o,!0):n==e.PathUtils.SPLINE_TYPE_CARDINAL_CLOSED?s+T.lineCardinalClosed(o,.7):s+T.lineCardinal(o,.7)},e.PathUtils.createPathArray=function(t){if(!t)return null;var e,i=(t=t.replace(/([0-9])([\-])/g,"$1 $2")).replace(/([mlqhvzcast])/gi,",$1,").split(/[ ,]/g),n=i.length;for(e=0;e<n;e++){var o=i[e];o?isNaN(o)||(i[e]=parseFloat(o)):(i.splice(e,1),e--,n--)}return i},e.PathUtils.getDimensions=function(t){if(!t||!t.length)return new e.Rectangle;var i,n,o,r,s,a,l,h,u,c,p,_,g=t.length,d=!0,S=Number.MAX_VALUE,f=Number.MIN_VALUE,y=Number.MAX_VALUE,E=Number.MIN_VALUE,T=[];for(c=0;c<g;c++){o=!1;var v=0;switch(p=0,t[c]){case"m":o=!0;case"M":do{r=t[c+1],s=t[c+2],d?d=!1:o&&(r+=i,s+=n),i=r,n=s,T[p++]=r,T[p++]=s,v++,c+=2}while(!isNaN(t[c+1]));break;case"c":o=!0;case"C":do{r=t[c+1],s=t[c+2],a=t[c+3],l=t[c+4],h=t[c+5],u=t[c+6],o&&(r+=i,s+=n,a+=i,l+=n,h+=i,u+=n),i=h,n=u,T[p++]=h,T[p++]=u,v++,c+=6}while(!isNaN(t[c+1]));break;case"q":o=!0;case"Q":do{r=t[c+1],s=t[c+2],a=t[c+3],l=t[c+4],o&&(r+=i,s+=n,a+=i,l+=n),i=a,n=l,T[p++]=a,T[p++]=l,v++,c+=4}while(!isNaN(t[c+1]));break;case"l":o=!0;case"L":do{r=t[c+1],s=t[c+2],o&&(r+=i,s+=n),i=r,n=s,T[p++]=r,T[p++]=s,v++,c+=2}while(!isNaN(t[c+1]));break;case"h":o=!0;case"H":do{r=t[c+1],o&&(r+=i),i=r,T[p++]=r,T[p++]=n,v++,c+=1}while(!isNaN(t[c+1]));break;case"v":o=!0;case"V":do{s=t[c+1],o&&(s+=n),n=s,T[p++]=i,T[p++]=s,v++,c+=1}while(!isNaN(t[c+1]))}for(p=0,_=0;_<v;_++)r=T[p++],s=T[p++],S=Math.min(S,r),f=Math.max(f,r),y=Math.min(y,s),E=Math.max(E,s)}return new e.Rectangle(S,y,Math.abs(f-S),Math.abs(E-y))},e.PathUtils.getPathString=function(t){for(var e="",i=t.length,n=0;n<i;n++)null!=t[n]&&(e+=(n>0?" ":"")+t[n]);return e},e.PathUtils.transformPath=function(t,i,n,o,r){if(t){for(var s,a="",l="",h=0;h<t.length;h++){"string"==typeof t[h]&&(s=(l=t[h])===l.toUpperCase(),a+=l+" ");for(var u=[];h<t.length-1&&"number"==typeof t[h+1];)h++,u.push(t[h]);if("A"===l.toUpperCase())for(var c=0;c<u.length;c+=7)a+=e.ToolkitUtils.roundDecimal(parseFloat(u[c])*o)+" ",a+=e.ToolkitUtils.roundDecimal(parseFloat(u[c+1])*r)+" ",a+=e.ToolkitUtils.roundDecimal(u[c+2])+" ",a+=e.ToolkitUtils.roundDecimal(u[c+3])+" ",a+=e.ToolkitUtils.roundDecimal(u[c+4])+" ",a+=e.ToolkitUtils.roundDecimal(parseFloat(u[c+5])*o+(s?i:0))+" ",a+=e.ToolkitUtils.roundDecimal(parseFloat(u[c+6])*r+(s?n:0))+" ";else{var p=[],_=[];for("H"===l.toUpperCase()?(p.push(o),_.push(s?i:0)):"V"===l.toUpperCase()?(p.push(r),_.push(s?n:0)):(p.push(o),p.push(r),_.push(s?i:0),_.push(s?n:0)),c=0;c<u.length;c++){var g=p[c%p.length],d=_[c%_.length];a+=e.ToolkitUtils.roundDecimal(parseFloat(u[c])*g+d)+" "}}}return a}},e.PathUtils._fitsInScale=function(t,e,i){return Math.abs(t)>i||Math.abs(e)>i},e.PathUtils.simplifyPath=function(t,i){for(var n,o,r="",s="",a=0,l=0,h=0,u=0,c=0,p=0;p<t.length;p++)if(isNaN(t[p]))"Z"!=(n=t[p])&&"z"!=n||(o=n,s+=n,c>0&&(r+=s,h=0,u=0),s="",c=0,a=0,l=0);else switch(n){case"M":h=0,u=0;case"m":s=s+n+(h+=t[p])+" "+(u+=t[p+1]),o=n,p++;break;case"l":a+=t[p],l+=t[p+1],e.PathUtils._fitsInScale(a,l,i)&&(o!=n?(o=n,s+=n):s+=" ",s=s+a+" "+l,a=0,l=0,c++),p++;break;case"h":case"v":"h"==n?a+=t[p]:l+=t[p],e.PathUtils._fitsInScale(a,l,i)&&(0!=a&&0!=l?("l"!=o?(o="l",s+="l"):s+=" ",s=s+a+" "+l):(o=n,s=s+n+("h"==n?a:l)),a=0,l=0,c++)}return r},e.PathUtils._rectangle=function(t,i,n,o){return e.PathUtils.moveTo(t,i)+e.PathUtils.horizontalLineTo(t+n)+e.PathUtils.verticalLineTo(i+o)+e.PathUtils.horizontalLineTo(t)+e.PathUtils.closePath()},e.MarkerGradient=function(){},e.Obj.createSubclass(e.MarkerGradient,e.Obj),e.MarkerGradient.createMarkerGradient=function(t,i,n){var o=[],r=[],s=[n,n,n,n],a=null,l=i.getType(),h=e.DisplayableUtils.getDimForced(i.getCtx(),i),u=h.getCenter(),c=Math.min(h.w,h.h);if(l!=e.SimpleMarker.HUMAN){r=[0,.5,.75,1];var p=e.ColorUtils.getBrighter(t,.2),_=e.ColorUtils.getBrighter(t,.1),g=e.ColorUtils.getDarker(t,.2),d=c/2,S=u.x,f=u.y,y=(o=[e.ColorUtils.getPound(p),e.ColorUtils.getPound(_),t,e.ColorUtils.getPound(g)],[(E=new e.Rectangle(-d,-d,2*d,2*d)).x,E.y,E.w,E.h]);a=new e.RadialGradientFill(o,s,r,S,f,d,y)}else{var E;r=[0,.3,.7,1],p=e.ColorUtils.getBrighter(t,.2),_=e.ColorUtils.getDarker(t,.1),g=e.ColorUtils.getDarker(t,.2),o=[e.ColorUtils.getPound(p),e.ColorUtils.getPound(_),t,e.ColorUtils.getPound(g)],y=[(E=new e.Rectangle(-c/2,-c/2,c,c)).x,E.y,E.w,E.h],a=new e.LinearGradientFill(135,o,s,r,y)}return a},e.PolygonUtils={},e.Obj.createSubclass(e.PolygonUtils,e.Obj),e.PolygonUtils.getDimensions=function(t){if(!t||0===t.length)return new e.Rectangle;for(var i,n,o=Number.MAX_VALUE,r=Number.MIN_VALUE,s=Number.MAX_VALUE,a=Number.MIN_VALUE,l=t.length,h=0;h<l;h++)i=t[h++],n=t[h],o=Math.min(o,i),r=Math.max(r,i),s=Math.min(s,n),a=Math.max(a,n);return new e.Rectangle(o,s,Math.abs(r-o),Math.abs(a-s))},e.PolygonUtils.getRegularPolygonPoints=function(t,e,i,n,o,r){for(var s,a=[],l=0;l<i;l++)s=o+l/i*2*Math.PI*(0==r?-1:1),a.push(t+n*Math.sin(s),e-n*Math.cos(s));return a},e.PolygonUtils.scale=function(t,e,i){for(var n=[],o=0;o<t.length-1;o+=2)n.push(t[o]*e),n.push(t[o+1]*i);return n},e.PolygonUtils.translate=function(t,e,i){for(var n=[],o=0;o<t.length-1;o+=2)n.push(t[o]+e),n.push(t[o+1]+i);return n},e.TextUtils={},e.Obj.createSubclass(e.TextUtils,e.Obj),e.TextUtils._cachedTextWidth={},e.TextUtils._cachedRepTextDimensions={},e.TextUtils._canvasCtx=document.createElement("CANVAS").getContext("2d"),e.TextUtils.EMPTY_TEXT_BUFFER=2,e.TextUtils.getMaxTextDimensions=function(t){for(var i=0,n=0,o=0;o<t.length;o++)if(null!=t[o]){var r=t[o].getDimensions();i=Math.max(i,r.w),n=Math.max(n,r.h)}return new e.Dimension(i,n)},e.TextUtils.getMaxTextStringWidth=function(t,i,n){for(var o=0,r=e.ArrayUtils.isArray(n),s=0;s<i.length;s++)if(null!=i[s]&&0!=i[s].length){var a=n?r?n[s]:n:null,l=e.TextUtils.getTextStringWidth(t,i[s],a);l>o&&(o=l)}return o},e.TextUtils.getTextStringDimensions=function(t,i,n){var o=e.TextUtils._getRepresentativeDimensions(t,n);return new e.Rectangle(0,o.y,e.TextUtils.getTextStringWidth(t,i,n),o.h)},e.TextUtils.getTextStringWidth=function(t,i,n){if(null==i||0==i.length)return 0;var o=i+(null!=n?n.hashCodeForTextMeasurement():""),r=e.TextUtils._cachedTextWidth[o];if(null!=r)return r;var s=e.TextUtils._getCanvasTextWidth(t,i,n);return e.TextUtils._cachedTextWidth[o]=s,s},e.TextUtils.getTextStringHeight=function(t,i){return e.TextUtils._getRepresentativeDimensions(t,i).h},e.TextUtils.fitText=function(t,i,n,o,r,s){var a=t.getTextString();if(t instanceof e.OutputText){var l=e.TextUtils.getTextStringDimensions(t.getCtx(),a,t.getCSSStyle());if(l.h>n)return s||t.removeFromParent(),!1;if(l.w<=i)return o.addChild(t),!0}return o.addChild(t),r="number"!=typeof r||null==r?1:r,t instanceof e.MultilineText||t instanceof e.BackgroundMultilineText?t.__fitText(i,n,r):(t instanceof e.OutputText||t instanceof e.BackgroundOutputText?e.TextUtils._truncateOutputText(t,i,r):t.setMaxWidth(i,r),""==t.getTextString()?(s||o.removeChild(t),t.setTextString(a),!1):(t.getTextString()!=a&&t.setUntruncatedTextString(a),!0))},e.TextUtils.renderEmptyText=function(t,i,n,o,r){var s=new e.MultilineText(t.getCtx(),i,n.x+n.w/2,n.y+n.h/2);r&&s.setCSSStyle(r),s.alignCenter(),s.alignMiddle();var a=n.w-2*e.TextUtils.EMPTY_TEXT_BUFFER;return e.TextUtils.fitText(s,a,1/0,t,0)&&(s.isTruncated()&&o.associate(s,new e.SimpleObjPeer(s.getUntruncatedTextString())),s.setAriaProperty("hidden",null)),s},e.TextUtils.centerTextVertically=function(t,i){e.Agent.isPlatformIE()?(t.setY(i),t.alignMiddle()):t.setY(i-t.getDimensions().h/2)},
e.TextUtils._truncateOutputText=function(t,i,n){if(i<=0)t.setTextString("");else{var o=t.getDimensions();if(!(o.w<=i)){var r=t.getTextString(),s=r.length,a=o.w/e.TextUtils._getTextLength(r),l=Math.max(Math.floor(i/a)-2,n),h=r.substring(0,l)+e.OutputText.ELLIPSIS;t.setTextString(h);for(var u=h,c=o=t.getDimensions();o.w<i&&!(l>=r.length);){var p=i-o.w,_=Math.min(s-l,Math.max(Math.floor(p/a),1));if(l+=_,h=r.substring(0,l)+e.OutputText.ELLIPSIS,t.setTextString(h),o=t.getDimensions(),1==_&&o.w>i){t.setTextString(u),o=c;break}u=h,c=o}for(;o.w>i;){if(l<=n){t.setTextString("");break}l-=1,h=r.substring(0,l)+e.OutputText.ELLIPSIS,t.setTextString(h),o=t.getDimensions()}}}},e.TextUtils._getTextLength=function(t){return(t=t.replace(/[\u200A\u200B\u200C\u200D\u200E\u200F\uFEFF]/g,"")).length},e.TextUtils._getRepresentativeDimensions=function(t,i){var n=null!=i?i.hashCodeForTextMeasurement():"",o=e.TextUtils._cachedRepTextDimensions[n];if(null==o){var r=new e.OutputText(t,e.OutputText.REPRESENTATIVE_TEXT);r.alignAuto(),r.setCSSStyle(i);var s=r.getCtx().getStage();s.addChild(r);var a=r.GetSvgDimensions();s.removeChild(r),o={x:a.x,y:a.y,w:.5*a.w,h:a.h},e.TextUtils._cachedRepTextDimensions[n]=o}return o},e.TextUtils.getBaselineTranslation=function(t){var i=t.getVertAlignment();if(i!=e.OutputText.V_ALIGN_AUTO){var n=e.TextUtils._getRepresentativeDimensions(t.getCtx(),t.getCSSStyle());if(i==e.OutputText.V_ALIGN_TOP)return-n.y;if(i==e.OutputText.V_ALIGN_MIDDLE)return-n.y-n.h/2;if(i==e.OutputText.V_ALIGN_BOTTOM)return-n.y-n.h}return 0},e.TextUtils._getCanvasTextWidth=function(t,i,n){var o=(n?n.getStyle("font-style"):null)||"normal",r=(n?n.getStyle("font-variant"):null)||"normal",s=(n?n.getStyle("font-weight"):null)||"normal",a=(n?n.getStyle("font-family"):null)||t.getDefaultFontFamily()||"",l=(n?n.getFontSize():null)||t.getDefaultFontSize()||"12px";return isNaN(l)||(l+="px"),e.Agent.isPlatformIE()&&(a=a.replace(/-apple-system(-\w+)*,?/g,"")),e.TextUtils._canvasCtx.font=o+" "+r+" "+s+" "+l+" "+a,e.TextUtils._canvasCtx.measureText(i).width},e.TextUtils.clearCaches=function(){e.TextUtils._cachedTextWidth={},e.TextUtils._cachedRepTextDimensions={}},e.TextUtils.getOptimalFontSize=function(t,i,n,o){n=n?n.clone():new e.CSSStyle;for(var r=Math.max(Math.min(o.w/i.length,o.h/2),9);r<51;r+=1){n.setFontSize("font-size",r+"px");var s=e.TextUtils.getTextStringDimensions(t,i,n);if(s.w>o.w||s.h>o.h)return Math.min(r-1,50)+"px"}return"50px"},e.SvgShapeUtils=function(){},e.Obj.createSubclass(e.SvgShapeUtils,e.Obj),e.SvgShapeUtils._uniqueSeed=0,e.SvgShapeUtils.addClipPath=function(t,i){var n=t.getId();if(!n)return!1;var o=i.getDefs();if(!o)return!1;for(var r=o.childNodes,s=r.length,a=0;a<s;a++)if(r[a].id===n)return!0;var l=e.SvgShapeUtils.createElement("clipPath",n);i.appendDefs(l);var h=t.getRegions();for(a=0;a<h.length;a++){var u=h[a];if(u){var c=null;u.type===e.ClipPath.RECT?(c=e.SvgShapeUtils.createElement("rect"),e.ToolkitUtils.setAttrNullNS(c,"x",u.x),e.ToolkitUtils.setAttrNullNS(c,"y",u.y),e.ToolkitUtils.setAttrNullNS(c,"width",u.w),e.ToolkitUtils.setAttrNullNS(c,"height",u.h),u.rx&&e.ToolkitUtils.setAttrNullNS(c,"rx",u.rx),u.ry&&e.ToolkitUtils.setAttrNullNS(c,"ry",u.ry)):u.type===e.ClipPath.PATH?(c=e.SvgShapeUtils.createElement("path"),e.ToolkitUtils.setAttrNullNS(c,"d",u.d)):u.type===e.ClipPath.POLYGON?(c=e.SvgShapeUtils.createElement("polygon"),e.ToolkitUtils.setAttrNullNS(c,"points",u.points)):u.type===e.ClipPath.ELLIPSE?(c=e.SvgShapeUtils.createElement("ellipse"),e.ToolkitUtils.setAttrNullNS(c,"cx",u.cx),e.ToolkitUtils.setAttrNullNS(c,"cy",u.cy),e.ToolkitUtils.setAttrNullNS(c,"rx",u.rx),e.ToolkitUtils.setAttrNullNS(c,"ry",u.ry)):u.type===e.ClipPath.CIRCLE&&(c=e.SvgShapeUtils.createElement("circle"),e.ToolkitUtils.setAttrNullNS(c,"cx",u.cx),e.ToolkitUtils.setAttrNullNS(c,"cy",u.cy),e.ToolkitUtils.setAttrNullNS(c,"r",u.r)),c&&e.ToolkitUtils.appendChildElem(l,c)}}return!0},e.SvgShapeUtils.addMask=function(t,i){var n=t.getId();if(!n)return!1;var o=i.getDefs();if(!o)return!1;for(var r=o.childNodes,s=r.length,a=0;a<s;a++)if(r[a].id===n)return!0;var l=e.SvgShapeUtils.createElement("mask",n);i.appendDefs(l);var h=t.getGradient();e.SvgShapeUtils.addSpecialFill(h,i);var u=t.getBounds(),c=e.SvgShapeUtils.createElement("rect");return e.ToolkitUtils.setAttrNullNS(c,"x",u.x),e.ToolkitUtils.setAttrNullNS(c,"y",u.y),e.ToolkitUtils.setAttrNullNS(c,"width",u.w),e.ToolkitUtils.setAttrNullNS(c,"height",u.h),e.ToolkitUtils.setAttrNullNS(c,"fill",e.ToolkitUtils.getUrlById(h.getId())),e.ToolkitUtils.appendChildElem(l,c),!0},e.SvgShapeUtils.addSpecialFill=function(t,i){var n;if(t.isLocked()?n=t.getId():(n=t.getId())||(n=t instanceof e.PatternFill?e.SvgShapeUtils.getUniqueId("pat"):e.SvgShapeUtils.getUniqueId("Gr"),t.setId(n)),!t._defPresent){var o=t._defElem;o||(t instanceof e.GradientFill?o=W.createElem(t,n):t instanceof e.ImageFill?o=V.createElem(t,n):t instanceof e.PatternFill&&(o=X.createElem(t,n))),t._defElem=o,i.appendDefs(o),t._defPresent=!0}},e.SvgShapeUtils.addSpecialStroke=function(t,i){var n;if(t.isLocked()?n=t.getId():(n=t.getId())||(n=e.SvgShapeUtils.getUniqueId("Gr"),t.setId(n)),!t._defPresent){var o=t._defElem;o||(o=W.createElem(t,n)),t._defElem=o,i.appendDefs(o),t._defPresent=!0}},e.SvgShapeUtils.createElement=function(t,i){var n=document.createElementNS(e.ToolkitUtils.SVG_NS,t);return i&&e.ToolkitUtils.setAttrNullNS(n,"id",i),n},e.SvgShapeUtils.getUniqueId=function(t){return(t||"$")+e.SvgShapeUtils._uniqueSeed++},e.SvgShapeUtils.convertPointsArray=function(t){for(var i=t.length,n="",o=0;o<i;o++)o>0&&(n+=" "),n+=e.ToolkitUtils.roundDecimal(t[o]);return n},e.Displayable=function(){},e.Obj.createSubclass(e.Displayable,e.Obj),e.Displayable._ATTRS_TRANSFERABLE_TO_OUTER=["clip-path"],e.Displayable._CREATE_EVENT_TYPE_MAP={click:e.MouseEvent.CLICK,mouseover:e.MouseEvent.MOUSEOVER,mouseout:e.MouseEvent.MOUSEOUT,mousemove:e.MouseEvent.MOUSEMOVE,keydown:e.KeyboardEvent.KEYDOWN,keyup:e.KeyboardEvent.KEYUP,keypress:e.KeyboardEvent.KEYPRESS},e.Displayable.SET_ID_ON_DOM=!1,e.Displayable.prototype.Init=function(t,i,n){this._context=t,this._elem=e.SvgShapeUtils.createElement(i),this._elem._obj=this,this.setId(n),this._bVisible=!0,this._pixelHinting=!1,this._cursor=null,this._bMouseEnabled=!0,this._alpha=1,this._matrix=null,this._ariaProperties={},this._properties={}},e.Displayable.prototype.getCtx=function(){return this._context},e.Displayable.prototype.getImpl=function(){return this},e.Displayable.prototype.getObj=function(){return this},e.Displayable.prototype.getElem=function(){return this._elem},e.Displayable.prototype.getOuterElem=function(){return this._outerElem?this._outerElem:this.getElem()},e.Displayable.prototype.getId=function(){return this._id},e.Displayable.prototype.setId=function(t,i){this._id!==t&&(t&&0===t.length&&(t=null),this._id=t,(e.Displayable.SET_ID_ON_DOM||i)&&(t?e.ToolkitUtils.setAttrNullNS(this.getOuterElem(),"id",t):e.ToolkitUtils.removeAttrNullNS(this.getOuterElem(),"id")))},e.Displayable.prototype.getParent=function(){return this._parent},e.Displayable.prototype.setParent=function(t){this._parent=t},e.Displayable.prototype.isDescendantOf=function(t){return!(!t||!this.getParent())&&(this.getParent()==t||this.getParent().isDescendantOf(t))},e.Displayable.prototype.getPixelHinting=function(){return this._pixelHinting},e.Displayable.prototype.setPixelHinting=function(t){this._pixelHinting=t,t?e.ToolkitUtils.setAttrNullNS(this._elem,"shape-rendering","crispEdges"):e.ToolkitUtils.removeAttrNullNS(this._elem,"shape-rendering")},e.Displayable.prototype.getVisible=function(){return this._bVisible},e.Displayable.prototype.setVisible=function(t){if(this._bVisible!==t){this._bVisible=t;var i=this.getElem();t?e.ToolkitUtils.removeAttrNullNS(i,"visibility"):e.ToolkitUtils.setAttrNullNS(i,"visibility","hidden")}},e.Displayable.prototype.setClipPath=function(t){if(t){if(this.ClipPathId==t.getId())return;this.ClipPathId&&this._context.decreaseGlobalDefReference(this.ClipPathId),this.ClipPathId=t.getId(),this._context.increaseGlobalDefReference(this.ClipPathId),!this._outerElem&&this._matrix&&this._createOuterGroupElem();var i=t.getId();if(i){var n=this.getCtx();e.SvgShapeUtils.addClipPath(t,n)&&e.ToolkitUtils.setAttrNullNS(this.getOuterElem(),"clip-path",e.ToolkitUtils.getUrlById(i))}}else if(!t&&this.ClipPathId)return this._context.decreaseGlobalDefReference(this.ClipPathId),this.ClipPathId=null,void e.ToolkitUtils.removeAttrNullNS(this.getOuterElem(),"clip-path")},e.Displayable.prototype.setMask=function(t){if(t){if(this.MaskId==t.getId())return;this.MaskId&&this._context.decreaseGlobalDefReference(this.MaskId),this.MaskId=t.getId(),this._context.increaseGlobalDefReference(this.MaskId),!this._outerElem&&this._matrix&&this._createOuterGroupElem();var i=t.getId();if(i){var n=this.getCtx();e.SvgShapeUtils.addMask(t,n)&&e.ToolkitUtils.setAttrNullNS(this.getOuterElem(),"mask",e.ToolkitUtils.getUrlById(i))}}else if(!t&&this.MaskId)return this._context.decreaseGlobalDefReference(this.MaskId),this.MaskId=null,void e.ToolkitUtils.removeAttrNullNS(this.getOuterElem(),"mask")},e.Displayable.prototype.ConvertCoordSpaceRect=function(t,i){if(!i||i===this)return t;var n=this.localToStage(new e.Point(t.x,t.y)),o=this.localToStage(new e.Point(t.x+t.w,t.y+t.h)),r=i.stageToLocal(n),s=i.stageToLocal(o);return new e.Rectangle(Math.min(r.x,s.x),Math.min(r.y,s.y),Math.abs(s.x-r.x),Math.abs(s.y-r.y))},e.Displayable.prototype.GetSvgDimensions=function(){try{var t=this.getElem().getBBox()}catch(t){return e.Agent.isEnvironmentTest()&&print("Error in dvt.Displayable.prototype.GetSvgDimensions: "+t),null}return new e.Rectangle(t.x,t.y,t.width,t.height)},e.Displayable.prototype.getDimensions=function(t){var e=this.GetSvgDimensions();return this.ConvertCoordSpaceRect(e,t)},e.Displayable.prototype.getDimensionsWithStroke=function(t){var e=this.GetDimensionsWithStroke();return this.ConvertCoordSpaceRect(e,t)},e.Displayable.prototype.GetDimensionsWithStroke=function(t){var e=this.GetElemDimensionsWithStroke();return t&&t!==this?this.ConvertCoordSpaceRect(e,t):e},e.Displayable.prototype.GetElemDimensionsWithStroke=function(){return this.GetSvgDimensions()},e.Displayable.HasAttributes=function(t,i){if(i)for(var n=i.length,o=0;o<n;o++)if(e.ToolkitUtils.getAttrNullNS(t,i[o]))return!0;return!1},e.Displayable.TransferAttributes=function(t,i,n){if(n)for(var o,r,s=n.length,a=0;a<s;a++)o=n[a],(r=e.ToolkitUtils.getAttrNullNS(t,o))&&(e.ToolkitUtils.removeAttrNullNS(t,o),e.ToolkitUtils.setAttrNullNS(i,o,r),e.Agent.isPlatformIE()&&e.ToolkitUtils.setAttrNullNS(t,o,null))},e.Displayable.prototype._createOuterGroupElem=function(){if(!this._outerElem){var t=this._id?this._id+"_outer":null;this._outerElem=e.SvgShapeUtils.createElement("g",t);var i=this.getParent();i&&i.getElem().replaceChild(this._outerElem,this.getElem()),e.ToolkitUtils.appendChildElem(this._outerElem,this.getElem()),e.Displayable.TransferAttributes(this.getElem(),this._outerElem,e.Displayable._ATTRS_TRANSFERABLE_TO_OUTER)}},e.Displayable.prototype.getCSSStyle=function(){return this._cssStyle},e.Displayable.prototype.setCSSStyle=function(t){this._cssStyle=t},e.Displayable.prototype.setCursor=function(t){this._cursor=t,e.Agent.isEnvironmentBatik()||(t?e.ToolkitUtils.setAttrNullNS(this.getElem(),"cursor",t):e.ToolkitUtils.removeAttrNullNS(this.getElem(),"cursor"))},e.Displayable.prototype.getCursor=function(){return this._cursor},e.Displayable.prototype.setMouseEnabled=function(t){this._bMouseEnabled=t;var i=t?"visiblePainted":"none";e.ToolkitUtils.setAttrNullNS(this.getElem(),"pointer-events",i)},e.Displayable.prototype.isMouseEnabled=function(){return this._bMouseEnabled},e.Displayable.prototype.getAlpha=function(){return this._alpha},e.Displayable.prototype.setAlpha=function(t){t<1e-5&&(t=0),t!==this._alpha&&(this._alpha=t,e.ToolkitUtils.setAttrNullNS(this.getElem(),"opacity",this._alpha,1))},e.Displayable.prototype.applyAriaProperties=function(){if(e.Agent.deferAriaCreation())for(var t in this._ariaRole&&this._setAriaRole(this._ariaRole),this._ariaProperties)this._setAriaProperty(t,this._ariaProperties[t])},e.Displayable.prototype.setAriaRole=function(t){e.Agent.deferAriaCreation()||this._setAriaRole(t),this._ariaRole=t},e.Displayable.prototype._setAriaRole=function(t){var i=this.GetAriaElem();t?e.ToolkitUtils.setAttrNullNS(i,"role",t):e.ToolkitUtils.removeAttrNullNS(i,"role")},e.Displayable.prototype.getActiveElementId=function(){return this.getId()},e.Displayable.prototype.getAriaRole=function(){return this._ariaRole},e.Displayable.prototype.GetAriaElem=function(){return this.getElem()},e.Displayable.prototype.setAriaProperty=function(t,i){t&&(e.Agent.deferAriaCreation()||this._setAriaProperty(t,i),this._ariaProperties[t]=i)},e.Displayable.prototype._setAriaProperty=function(t,i){var n=this.GetAriaElem();null!=i&&""!==i?("label"==t&&(i=e.StringUtils.processAriaLabel(i)),e.ToolkitUtils.setAttrNullNS(n,"aria-"+t,i)):e.ToolkitUtils.removeAttrNullNS(n,"aria-"+t)},e.Displayable.prototype.getAriaProperty=function(t){return t?this._ariaProperties[t]:null},e.Displayable.prototype.stageToLocal=function(t){for(var e,i=this.getPathToStage(),n=t,o=i.length-1;o>=0;o--)(e=i[o].getMatrix().clone()).invert(),n=e.transformPoint(n);return n},e.Displayable.prototype.localToStage=function(t){for(var e=this.getPathToStage(),i=t,n=0;n<e.length;n++)i=e[n].getMatrix().transformPoint(i);return i},e.Displayable.prototype.getPathToStage=function(){for(var t=this,e=[];t;)e.push(t),t=t.getParent();return e},e.Displayable.prototype.removeFromParent=function(){this._parent&&this._parent.removeChild(this)},e.Displayable.prototype.destroy=function(){this.removeAllDrawEffects(),this.ClipPathId&&this.setClipPath(null)},e.Displayable.prototype.createCopy=function(){var t=new e.Container(this.getCtx(),"clonedContainer"),i=this.getElem().cloneNode(!0);return e.ToolkitUtils.appendChildElem(t.getElem(),i),this._disableEvents(i),t},e.Displayable.prototype._disableEvents=function(t){for(var i=t.firstChild;null!=i;)i.setAttributeNS&&(e.ToolkitUtils.setAttrNullNS(i,"pointer-events","none"),e.ToolkitUtils.setAttrNullNS(i,"id",null)),this._disableEvents(i),i=i.nextSibling},e.Displayable.prototype.dispatchNativeEvent=function(t){},e.Displayable.prototype.GetProperty=function(t){return this._properties[t]},e.Displayable.prototype.SetProperty=function(t,e){return e!==this._properties[t]&&(this._properties[t]=e),this},e.Displayable.prototype.SetSvgProperty=function(t,i,n){return i!==this._properties[t]&&(this._properties[t]=i,e.ToolkitUtils.setAttrNullNS(this._elem,t,i,n),this.SvgPropertyChanged(t)),this},e.Displayable.prototype.SvgPropertyChanged=function(t){},e.Displayable.generateAriaLabel=function(t,i){var n="",o=i&&i.length>0;if(t){var r=e.Bundle.getTranslatedString(e.Bundle.UTIL_PREFIX,"ARIA_LABEL_DESC_DELIMITER");n=t,o&&(n+=r)}if(o)for(var s=e.Bundle.getTranslatedString(e.Bundle.UTIL_PREFIX,"ARIA_LABEL_STATE_DELIMITER"),a=0;a<i.length;a++)n+=i[a],a!=i.length-1&&(n+=s);return n},e.Displayable.prototype.getNumDrawEffects=function(){return this._drawEffects?this._drawEffects.length:0},e.Displayable.prototype.addDrawEffect=function(t){this._drawEffects||(this._drawEffects=[]),t.__lock(),this._drawEffects.push(t),this._applyDrawEffects(this._drawEffects)},e.Displayable.prototype.addDrawEffectAt=function(t,e){this._drawEffects||(this._drawEffects=[]),t.__lock(),e>=this._drawEffects.length?this._drawEffects.push(t):this._drawEffects.splice(e,0,t),this._applyDrawEffects(this._drawEffects)},e.Displayable.prototype.removeDrawEffect=function(t){var e=this.getDrawEffectIndex(t);e>-1&&(this._drawEffects.splice(e,1),this._applyDrawEffects(this._drawEffects))},e.Displayable.prototype.removeDrawEffectAt=function(t){if(this._drawEffects){var e=this._drawEffects.length;t>=0&&t<e&&(this._drawEffects.splice(t,1),this._applyDrawEffects(this._drawEffects))}},e.Displayable.prototype.removeAllDrawEffects=function(){this._drawEffects&&(this._drawEffects=null,this._applyDrawEffects(this._drawEffects))},e.Displayable.prototype.getDrawEffectIndex=function(t){if(this._drawEffects)for(var e=this._drawEffects.length,i=0;i<e;i++)if(t===this._drawEffects[i])return i;return-1},e.Displayable.prototype._applyDrawEffects=function(){var t=this._drawEffects;if(this._filter&&(e.ToolkitUtils.removeAttrNullNS(this.getOuterElem(),"filter"),this.getCtx().removeDefs(this._filter),this._filter=null),!this._outerElem&&this._matrix&&this._createOuterGroupElem(),t&&t.length>0&&(this._filter=j.createFilter(t,this),this._filter)){this.getCtx().appendDefs(this._filter);var i=e.ToolkitUtils.getAttrNullNS(this._filter,"id");e.ToolkitUtils.setAttrNullNS(this.getOuterElem(),"filter",e.ToolkitUtils.getUrlById(i))}},e.Displayable.prototype.addEvtListener=function(t,e,i,n){var o=this._getListeners(t,i,!0);o.push(e),o.push(n),this._addListener(t,i)},e.Displayable.prototype.removeEvtListener=function(t,e,i,n){var o=this._getListeners(t,i,!1);if(o)for(var r=0;r<o.length;r+=2)if(o[r]===e&&o[r+1]===n){o.splice(r,2);break}o&&o.length<=0&&this._removeListener(t,i)},e.Displayable.prototype.dispatchDisplayableEvent=function(t,i){var n,o=e.Displayable._CREATE_EVENT_TYPE_MAP[t];if(e.MouseEvent.CLICK==o||e.MouseEvent.MOUSEOVER==o||e.MouseEvent.MOUSEOUT==o||e.MouseEvent.MOUSEMOVE==o){if(document.createEvent){n=this.getCtx();var r=this.getDimensions(),s=this.localToStage(new e.Point(r.x,r.y)),a=n.getStageAbsolutePosition(),l=new e.Point(a.x+s.x,a.y+s.y),h=document.createEvent("MouseEvents");h.initMouseEvent(o,!0,!0,window,1,l.x,l.y,l.x,l.y,!1,!1,!1,!1,0,null),this.getElem().dispatchEvent(h)}}else if((e.KeyboardEvent.KEYDOWN==o||e.KeyboardEvent.KEYUP==o||e.KeyboardEvent.KEYPRESS==o)&&document.createEvent){var u,c=document.createEvent("KeyboardEvent");i instanceof e.KeyboardEvent?(u=i.keyCode,this._ctrlKeyPressed=i.ctrlKey,this._shiftKeyPressed=i.shiftKey):(u=parseInt(i),void 0===this._ctrlKeyPressed&&(this._ctrlKeyPressed=!1),void 0===this._shiftKeyPressed&&(this._shiftKeyPressed=!1),u==e.KeyboardEvent.CONTROL?this._ctrlKeyPressed&&o==e.KeyboardEvent.KEYUP?this._ctrlKeyPressed=!1:this._ctrlKeyPressed||o!=e.KeyboardEvent.KEYDOWN||(this._ctrlKeyPressed=!0):u==e.KeyboardEvent.SHIFT&&(this._shiftKeyPressed&&o==e.KeyboardEvent.KEYUP?this._shiftKeyPressed=!1:this._shiftKeyPressed||o!=e.KeyboardEvent.KEYDOWN||(this._shiftKeyPressed=!0))),void 0!==c.initKeyboardEvent?c.initKeyboardEvent(o,!0,!0,window,this._ctrlKeyPressed,!1,this._shiftKeyPressed,!1,u,u):c.initKeyEvent(o,!0,!0,window,this._ctrlKeyPressed,!1,!1,this._shiftKeyPressed,u,u);var p=e.DomEventFactory.newEvent(c);p.keyCode=u,p.ctrlKey=this._ctrlKeyPressed,p.shiftKey=this._shiftKeyPressed;var _=(n=this.getCtx()).getStage().getSVGRoot().parentNode;e.HtmlKeyboardListenerUtils._bubbleListener.call(_,p)}},e.Displayable.prototype.AddElemListener=function(t,i,n){e.ToolkitUtils.addDomEventListener(this.getElem(),t,i,n),t==e.TouchEvent.TOUCHEND&&e.ToolkitUtils.addDomEventListener(this.getElem(),e.TouchEvent.TOUCHCANCEL,i,n)},e.Displayable.prototype.FireListener=function(t,e){var i=t.getType?t.getType():t.type,n=this._getListeners(i,e,!1);if(n)for(var o=0;o<n.length;o+=2){var r=n[o+1];n[o]&&n[o].call(r,t)}},e.Displayable.prototype.fireKeyboardListener=function(t,e){this.FireListener(t,e)},e.Displayable.prototype._getListeners=function(t,e,i){if(!this._listenerObj){if(!i)return null;this._listenerObj={}}var n=t+"_"+!!e,o=this._listenerObj[n];return!o&&i&&(o=[],this._listenerObj[n]=o),o},e.Displayable.prototype._addListener=function(t,i){var n=this._getListener(i);if(t==e.KeyboardEvent.KEYUP||t==e.KeyboardEvent.KEYDOWN||t==e.KeyboardEvent.KEYPRESS||t==y.FOCUS||t==y.FOCUSIN||t==y.FOCUSOUT||t==y.BLUR){var o=this.getCtx().getStage().getSVGRoot().parentNode;if(!o)return;o._obj||(o._obj=[]),-1==e.ArrayUtils.getIndex(o._obj,this)&&o._obj.push(this),n=e.HtmlKeyboardListenerUtils.getListener(i),e.ToolkitUtils.addDomEventListener(o,t,n,i)}else this.AddElemListener(t,n,i)},e.Displayable.prototype._removeListener=function(t,i){var n=this._getListener(i);if(t==e.KeyboardEvent.KEYUP||t==e.KeyboardEvent.KEYDOWN||t==e.KeyboardEvent.KEYPRESS||t==y.FOCUS||t==y.FOCUSIN||t==y.FOCUSOUT||t==y.BLUR){var o=this.getCtx().getStage().getSVGRoot().parentNode;e.ToolkitUtils.removeDomEventListener(o,t,n,i);var r=e.ArrayUtils.getIndex(o._obj,this);-1!==r&&o._obj.splice(r,1)}else e.ToolkitUtils.removeDomEventListener(this.getElem(),t,n,i)},e.Displayable.prototype._getListener=function(t){var e=this;return t?(this._captureClosure||(this._captureClosure=function(t){e._captureListener(t)}),this._captureClosure):(this._bubbleClosure||(this._bubbleClosure=function(t){e._bubbleListener(t)}),this._bubbleClosure)},e.Displayable.prototype._bubbleListener=function(t){if(e.Agent.isPlatformIE())if(t.type==e.MouseEvent.MOUSEOVER){if(this._bubbleHoverItem){if(this._bubbleHoverItem==t.target)return;(i=e.DomEventFactory.newEvent(t,this.getCtx())).modifyEventForIE(e.MouseEvent.MOUSEOUT,this._bubbleHoverItem),this.FireListener(i,!1)}this._bubbleHoverItem=t.target}else t.type==e.MouseEvent.MOUSEOUT&&(this._bubbleHoverItem=null);var i=e.DomEventFactory.newEvent(t,this.getCtx());this.FireListener(i,!1)},e.Displayable.prototype._captureListener=function(t){if(e.Agent.isPlatformIE())if(t.type==e.MouseEvent.MOUSEOVER){if(this._captureHoverItem){if(this._captureHoverItem==t.target)return;(i=e.DomEventFactory.newEvent(t,this.getCtx())).modifyEventForIE(e.MouseEvent.MOUSEOUT,this._captureHoverItem),this.FireListener(i,!0)}this._captureHoverItem=t.target}else t.type==e.MouseEvent.MOUSEOUT&&(this._captureHoverItem=null);var i=e.DomEventFactory.newEvent(t,this.getCtx());this.FireListener(i,!0)},e.Displayable.prototype.getFill=function(){return this.GetProperty("fill")},e.Displayable.prototype.setFill=function(t){if(this._manageDefinitions(this.GetProperty("fill"),t),!t)return e.ToolkitUtils.setAttrNullNS(this._elem,"fill","none"),e.ToolkitUtils.removeAttrNullNS(this._elem,"fill-opacity"),void this.SetProperty("fill",null);if(this.GetProperty("fill")!==t){if(this.SetProperty("fill",t),t instanceof e.GradientFill||t instanceof e.ImageFill||t instanceof e.PatternFill)e.SvgShapeUtils.addSpecialFill(t,this.getCtx()),e.ToolkitUtils.setAttrNullNS(this._elem,"fill",e.ToolkitUtils.getUrlById(t.getId()));else{var i=e.ColorUtils.fixColorForPlatform(t.getColor(),t.getAlpha());i&&i.color&&(e.ToolkitUtils.setAttrNullNS(this._elem,"fill",i.color),null!=i.alpha&&e.ToolkitUtils.setAttrNullNS(this._elem,"fill-opacity",i.alpha,1))}t.__lock(),this.UpdateSelectionEffect()}},e.Displayable.prototype.getClassName=function(){return this._className},e.Displayable.prototype.setClassName=function(t){return this._className&&!t?e.ToolkitUtils.removeAttrNullNS(this._elem,"class"):t&&e.ToolkitUtils.setAttrNullNS(this._elem,"class",t),this._className=t,this},e.Displayable.prototype.getStyle=function(){return this._style},e.Displayable.prototype.setStyle=function(t){return this._style&&!t?e.ToolkitUtils.removeAttrNullNS(this._elem,"style"):t&&e.ToolkitUtils.setAttrNullNS(this._elem,"style",e.CSSStyle.cssObjectToString(t),""),this._style=t,this},e.Displayable.prototype.setSolidFill=function(t,i){this.setFill(new e.SolidFill(t,i))},e.Displayable.prototype.setInvisibleFill=function(){this.setFill(e.SolidFill.invisibleFill())},e.Displayable.prototype.getStroke=function(){return this._stroke},e.Displayable.prototype.setStroke=function(t){if(this._manageDefinitions(this._stroke,t),this._stroke=t,!t)return e.ToolkitUtils.removeAttrNullNS(this._elem,"stroke"),e.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-opacity"),e.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-width"),e.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-dasharray"),e.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-dashoffset"),e.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-linejoin"),e.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-linecap"),void e.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-miterlimit");if(t instanceof e.GradientStroke){e.SvgShapeUtils.addSpecialStroke(t,this.getCtx()),e.ToolkitUtils.setAttrNullNS(this._elem,"stroke",e.ToolkitUtils.getUrlById(t.getId()));var i=t.getAlpha();null!=i&&e.ToolkitUtils.setAttrNullNS(this._elem,"stroke-opacity",i)}else{var n=e.ColorUtils.fixColorForPlatform(t.getColor(),t.getAlpha());n&&n.color?(e.ToolkitUtils.setAttrNullNS(this._elem,"stroke",n.color),null!=n.alpha&&e.ToolkitUtils.setAttrNullNS(this._elem,"stroke-opacity",n.alpha,1)):(e.ToolkitUtils.removeAttrNullNS(this._elem,"stroke"),e.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-opacity"))}e.ToolkitUtils.setAttrNullNS(this._elem,"stroke-width",t.getWidth(),1),t.isFixedWidth()&&e.ToolkitUtils.setAttrNullNS(this._elem,"vector-effect","non-scaling-stroke"),t.getType()!==e.Stroke.SOLID?(t.getDash()&&e.ToolkitUtils.setAttrNullNS(this._elem,"stroke-dasharray",t.getDash()),t.getDashOffset()&&e.ToolkitUtils.setAttrNullNS(this._elem,"stroke-dashoffset",t.getDashOffset())):(e.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-dasharray"),e.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-dashoffset"));var o=t.getLineJoin();o&&e.ToolkitUtils.setAttrNullNS(this._elem,"stroke-linejoin",o),(o=t.getLineEnd())&&e.ToolkitUtils.setAttrNullNS(this._elem,"stroke-linecap",o),(o=t.getMiterLimit())&&e.ToolkitUtils.setAttrNullNS(this._elem,"stroke-miterlimit",o),t.__lock()},e.Displayable.prototype.setSolidStroke=function(t,i,n){this.setStroke(new e.SolidStroke(t,i,n))},e.Displayable.prototype._manageDefinitions=function(t,e){t!=e&&(t&&(t._referenceCount--,0==t._referenceCount&&t._defElem&&(this.getCtx().removeDefs(t._defElem),t._defPresent=!1)),e&&(e._referenceCount||(e._referenceCount=0),e._referenceCount++))},e.Displayable.prototype.setTranslate=function(t,e){this._modifyMatrix(null,null,t,e)},e.Displayable.prototype.getTranslateX=function(){var t=this.getMatrix();return t?t._decompose()[e.Matrix._DECOMP_TX]:0},e.Displayable.prototype.setTranslateX=function(t){this._modifyMatrix(null,null,t)},e.Displayable.prototype.getTranslateY=function(){var t=this.getMatrix();return t?t._decompose()[e.Matrix._DECOMP_TY]:0},e.Displayable.prototype.setTranslateY=function(t){this._modifyMatrix(null,null,null,t)},e.Displayable.prototype.setScale=function(t,e){this._modifyMatrix(t,e)},e.Displayable.prototype.getScaleX=function(){var t=this.getMatrix();return t?t._decompose()[e.Matrix._DECOMP_SX]:1},e.Displayable.prototype.setScaleX=function(t){this._modifyMatrix(t)},e.Displayable.prototype.getScaleY=function(){var t=this.getMatrix();return t?t._decompose()[e.Matrix._DECOMP_SY]:1},e.Displayable.prototype.setScaleY=function(t){this._modifyMatrix(null,t)},e.Displayable.prototype.getRotation=function(){var t=this.getMatrix();return t?t._decompose()[e.Matrix._DECOMP_R]:0},e.Displayable.prototype.setRotation=function(t){this._modifyMatrix(null,null,null,null,t)},e.Displayable.prototype.getMatrix=function(){return this._matrix?this._matrix:new e.Matrix},e.Displayable.prototype.setMatrix=function(t){if(t&&t.isIdentity()&&(t=null),this._matrix!=t)if(this._matrix=t,this._matrix&&!this._matrix.isLocked()&&this._matrix.__lock(),!this._outerElem&&e.Displayable.HasAttributes(this.getElem(),e.Displayable._ATTRS_TRANSFERABLE_TO_OUTER)&&this._createOuterGroupElem(),this._matrix=t,t){var i="matrix("+e.ToolkitUtils.roundDecimal(t.getA())+","+e.ToolkitUtils.roundDecimal(t.getC())+","+e.ToolkitUtils.roundDecimal(t.getB())+","+e.ToolkitUtils.roundDecimal(t.getD())+","+e.ToolkitUtils.roundDecimal(t.getTx())+","+e.ToolkitUtils.roundDecimal(t.getTy())+")";e.ToolkitUtils.setAttrNullNS(this.getElem(),"transform",i,"matrix(1,0,0,1,0,0)")}else e.ToolkitUtils.getAttrNullNS(this.getElem(),"transform")&&(e.ToolkitUtils.removeAttrNullNS(this.getElem(),"transform"),e.Agent.isPlatformIE()&&e.ToolkitUtils.setAttrNullNS(this.getElem(),"transform",null))},e.Displayable.prototype._modifyMatrix=function(t,i,n,o,r){var s=this.getMatrix()._decompose(),a=s[e.Matrix._DECOMP_SX],l=s[e.Matrix._DECOMP_SY],h=s[e.Matrix._DECOMP_TX],u=s[e.Matrix._DECOMP_TY],c=s[e.Matrix._DECOMP_R],p=!1;if(null!=t&&a!=t&&(s[e.Matrix._DECOMP_SX]=t,p=!0),null!=i&&l!=i&&(s[e.Matrix._DECOMP_SY]=i,p=!0),null!=n&&h!=n&&(s[e.Matrix._DECOMP_TX]=n,p=!0),null!=o&&u!=o&&(s[e.Matrix._DECOMP_TY]=o,p=!0),null!=r&&c!=r&&(s[e.Matrix._DECOMP_R]=r,p=!0),p){var _=this.getMatrix().clone();_._recompose(s),this.setMatrix(_)}},e.Container=function(t,e){this.Init(t,"g",e)},e.Obj.createSubclass(e.Container,e.Displayable),e.Container.prototype.Init=function(t,i,n){this._bShapeContainer=this instanceof e.Shape,e.Container.superclass.Init.call(this,t,null!=i?i:"g",n),this._childGroupElem=null},e.Container.AttributesTransferableToGroup=["transform","opacity","visibility","pointer-events","clip-path","cursor"],e.Container.prototype.addChild=function(t){if(t){var i=t.getParent();i&&i.removeChild(t),this._arList||(this._arList=[]),t.setParent(this),this._bShapeContainer&&this.CreateChildGroupElem(!1);var n=this.getContainerElem();e.ToolkitUtils.appendChildElem(n,t.getOuterElem()),this._arList.push(t)}},e.Container.prototype.addChildAt=function(t,e){this.AddChildAt(t,e)},e.Container.prototype.AddChildAt=function(t,e){if(e>=0&&e<=this.getNumChildren()&&t){var i=this._findChild(t);if(i>=0&&i==e)return;var n=t.getParent();n&&n.removeChild(t),t.setParent(this),i>=0&&e==this.getNumChildren()+1&&e--;var o=e;this._bShapeContainer&&(this.CreateChildGroupElem(!1),o++);var r=this.getContainerElem(),s=r.childNodes[o];s||(s=null),r.insertBefore(t.getOuterElem(),s),this._arList||(this._arList=[]),this._arList.splice(e,0,t)}},e.Container.prototype.contains=function(t){return this._findChild(t)>=0},e.Container.prototype._findChild=function(t){var e=-1;if(this._arList)for(var i=this._arList.length,n=0;n<i;n++)if(this._arList[n]===t){e=n;break}return e},e.Container.prototype.getChildAfter=function(t){var e=null,i=this._findChild(t);return i>=0&&++i<this._arList.length&&(e=this._arList[i]),e},e.Container.prototype.getChildBefore=function(t){var e=null,i=this._findChild(t);return i>0&&(e=this._arList[--i]),e},e.Container.prototype.getChildAt=function(t){var e=null;return this._arList&&this._arList.length>t&&t>=0&&(e=this._arList[t]),e},e.Container.prototype.getChildIndex=function(t){return this._findChild(t)},e.Container.prototype.getNumChildren=function(){return this._arList?this._arList.length:0},e.Container.prototype.removeChild=function(t){var e=this._findChild(t);-1!==e&&this._removeObj(t,e)},e.Container.prototype.removeChildImpl=function(t){var i=t.getOuterElem(),n=t.getParent();if(i&&n&&this.getContainerElem().removeChild(i),!this._anchorElem&&this._bShapeContainer&&1===this.getNumChildren()){var o=this._childGroupElem,r=o?o.parentNode:null;r&&(e.Displayable.TransferAttributes(o,this._elem,this.GetAttributesTransferableToGroup()),r.replaceChild(this._elem,o),this._childGroupElem=null)}},e.Container.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e&&this._removeObj(e,t),e},e.Container.prototype.removeChildren=function(){if(this._arList)for(var t=this._arList;this.getNumChildren()>0;)this._removeObj(t[0],0)},e.Container.prototype._removeObj=function(t,e){this.removeChildImpl(t),t.setParent(null),this._arList.splice(e,1),0===this._arList.length&&(this._arList=null)},e.Container.prototype.destroy=function(){e.Container.superclass.destroy.call(this);for(var t=this.getNumChildren(),i=0;i<t;i++)this.getChildAt(i).destroy()},e.Container.prototype.getHyperlink=function(){return this._linkObj},e.Container.prototype.GetAttributesTransferableToGroup=function(){return e.Container.AttributesTransferableToGroup},e.Container.prototype.getElem=function(){return this._childGroupElem?this._childGroupElem:this._elem},e.Container.prototype.CreateChildGroupElem=function(t,i){if(this._childGroupElem||!i&&0!==this.getNumChildren())t&&this.removeChildren();else{var n=e.Displayable.SET_ID_ON_DOM&&this._id?this._id+"_g":null;this._childGroupElem=e.SvgShapeUtils.createElement("g",n);var o=this.getParent()
;o&&o.getElem().replaceChild(this._childGroupElem,this._elem),t||e.ToolkitUtils.appendChildElem(this._childGroupElem,this._elem),e.Displayable.TransferAttributes(this._elem,this._childGroupElem,this.GetAttributesTransferableToGroup()),this._elem._obj&&(this._childGroupElem._obj=this._elem._obj),e.Agent.isEnvironmentTest()&&document.shapeContainerCount++}},e.Container.prototype.getDimensionsWithStroke=function(){for(var t=[],e=this.getNumChildren(),i=0;i<e;i++)t.push(this.getChildAt(i));for(var n=null;t.length>0;){var o=t.shift(),r=o.GetDimensionsWithStroke(this);if(r&&(n=n?n.getUnion(r):r),!o.includeChildSubtree||o.includeChildSubtree())for(e=o.getNumChildren(),i=0;i<e;i++)t.push(o.getChildAt(i))}return n},e.Container.prototype.GetDimensionsWithStroke=function(t){return null},e.Container._reparentChildren=function(t,i){var n=i.childNodes;if(n)for(var o,r,s=n.length-1;s>=0;s--)o=n[s],r?t.insertBefore(o,r):e.ToolkitUtils.appendChildElem(t,o),r=o},e.Container.prototype.getContainerElem=function(){return this._anchorElem?this._anchorElem:this.getElem()},e.Container.prototype.dispatchNativeEvent=function(t){var e=t.getNativeEvent(),i=null;(i=this._bShapeContainer?this._childGroupElem:this._anchorElem?this._anchorElem:this._elem).dispatchEvent&&i.dispatchEvent(e)},e.Container.prototype.UpdateSelectionEffect=function(){},e.Container.prototype.setHollow=function(t,e){for(var i=0;i<this.getNumChildren();i++){var n=this.getChildAt(i),o=n.getFill()?n.getFill().getColor():t;n.setHollow(o,e)}},e.Container.prototype.includeChildSubtree=function(){return!0};var v=function(t,e,i){this.Init(t,"g",i),this._SVGRoot=e,this.disableSelection(this._elem),this.setCursor("default")};e.Obj.createSubclass(v,e.Container),v.prototype.addChild=function(t){v.superclass.addChild.call(this,t)},v.prototype.appendDefs=function(t){e.ToolkitUtils.appendChildElem(this._elemDefs,t)},v.prototype.getDefs=function(){return this._elemDefs},v.prototype.getSVGRoot=function(){return this._SVGRoot},v.prototype.disableSelection=function(t){t.onselectstart=function(){return!1},t.onselect=function(){return!1}},e.Shape=function(){},e.Obj.createSubclass(e.Shape,e.Container),e.Shape.prototype.Init=function(t,i,n){e.Shape.superclass.Init.call(this,t,i,n),this._bSelectable=!1,this.IsSelected=!1,this.InnerShape=null,this.HoverInnerStroke=null,this.HoverOuterStroke=null,this.SelectedInnerStroke=null,this.SelectedOuterStroke=null,this.SelectedHoverInnerStroke=null,this.SelectedHoverOuterStroke=null,this.OriginalStroke=null,this._isOriginalStrokeSet=!1,this.IsShowingHoverEffect=!1},e.Shape.prototype.setHollow=function(t,i){if(this._bHollow)this.setFill(this._origFill),this.setStroke(this._origStroke),this._bHollow=!1;else{this._origFill=this.GetProperty("fill"),this._origStroke=this.getStroke();var n,o=e.SolidFill.invisibleFill();n=t?new e.SolidStroke(e.ColorUtils.getRGB(t),e.ColorUtils.getAlpha(t),i):new e.SolidStroke(this.GetProperty("fill").getColor(),this.GetProperty("fill").getAlpha(),i),this.setFill(o),this.setStroke(n),this._bHollow=!0}},e.Shape.prototype.isHollow=function(){return this._bHollow},e.Shape.prototype.destroy=function(){e.Shape.superclass.destroy.call(this),this.setFill(null),this.setStroke(null)},e.Shape.prototype.getDimensionsWithStroke=function(){var t=this.GetElemDimensionsWithStroke(),i=e.Shape.superclass.getDimensionsWithStroke.call(this);return t&&i?t=t.getUnion(i):i&&(t=i),t},e.Shape.prototype.GetDimensionsWithStroke=function(t){var e=this.GetElemDimensionsWithStroke();return t&&t!==this?this.ConvertCoordSpaceRect(e,t):e},e.Shape.prototype.GetElemDimensionsWithStroke=function(){var t=this.getDimensionsSelf&&this.getNumChildren()-this._getInnerShapeCount()==0?this.getDimensionsSelf():e.Shape.superclass.getDimensions.call(this),i=this.getStroke();if(t&&i){var n=i.getWidth();if(n){var o=.5*n;t.x-=o,t.y-=o,t.w+=n,t.h+=n}}return t},e.Shape.prototype.UpdateSelectionEffect=function(){var t;(this.isSelected()||this.isHoverEffectShown())&&(this.InnerShape&&(t=this.InnerShape.getStroke(),this.removeChild(this.InnerShape)),this.InnerShape=this.copyShape(),this.InnerShape._setOuterShape(this),this.InnerShape.setMouseEnabled(!1),this.InnerShape.setFill(this.getFill()),this.InnerShape.setStyle(this.getStyle()).setClassName(this.getClassName()),t&&this.InnerShape.setStroke(t),this.InnerShape.setMouseEnabled(!1),this.InnerShape.setCursor(e.SelectionEffectUtils.getSelectingCursor()),this.AddChildAt(this.InnerShape,0))},e.Shape.prototype._setOuterShape=function(t){this._outerShape=t},e.Shape.prototype.GetHoverSelectionInnerStroke=function(){var t;return this.InnerShape&&(this.isSelected()?t=this.isHoverEffectShown()?this.SelectedHoverInnerStroke:this.SelectedInnerStroke:this.isHoverEffectShown()&&(t=this.HoverInnerStroke)),t},e.Shape.prototype.GetHoverSelectionOuterStroke=function(){var t;return this._outerShape&&(this._outerShape.isSelected()?t=this._outerShape.isHoverEffectShown()?this._outerShape.SelectedHoverOuterStroke:this._outerShape.SelectedOuterStroke:this._outerShape.isHoverEffectShown()&&(t=this._outerShape.HoverOuterStroke)),t},e.Shape.prototype.setHoverStroke=function(t,e){return this.HoverInnerStroke=t,this.HoverOuterStroke=e,this},e.Shape.prototype.setSelectedStroke=function(t,e){return this.SelectedInnerStroke=t,this.SelectedOuterStroke=e,this},e.Shape.prototype.setSelectedHoverStroke=function(t,e){return this.SelectedHoverInnerStroke=t,this.SelectedHoverOuterStroke=e,this},e.Shape.prototype.setSelectable=function(t){this._bSelectable=t,this._bSelectable?this.setCursor(e.SelectionEffectUtils.getSelectingCursor()):this.setCursor(null)},e.Shape.prototype.isSelectable=function(){return this._bSelectable},e.Shape.prototype.isSelected=function(){return this.IsSelected},e.Shape.prototype.setSelected=function(t){this.IsSelected!=t&&(this._isOriginalStrokeSet||(this._isOriginalStrokeSet=!0,this.OriginalStroke=this.getStroke()),this.IsSelected=t,this.isSelected()?(this.UpdateSelectionEffect(),this.isHoverEffectShown()?(this.CreateSelectedHoverStrokes(),this.InnerShape.setStroke(this.SelectedHoverInnerStroke),this.setStroke(this.SelectedHoverOuterStroke)):(this.InnerShape.setStroke(this.SelectedInnerStroke),this.setStroke(this.SelectedOuterStroke))):(this.removeChild(this.InnerShape),this.setStroke(this.OriginalStroke)))},e.Shape.prototype.showHoverEffect=function(){this.IsShowingHoverEffect||(this.IsShowingHoverEffect=!0,this._isOriginalStrokeSet||(this._isOriginalStrokeSet=!0,this.OriginalStroke=this.getStroke()),this.UpdateSelectionEffect(),this.isSelected()?(this.CreateSelectedHoverStrokes(),this.InnerShape.setStroke(this.SelectedHoverInnerStroke),this.setStroke(this.SelectedHoverOuterStroke)):(this.InnerShape.setStroke(this.HoverInnerStroke),this.setStroke(this.HoverOuterStroke)))},e.Shape.prototype.CreateSelectedHoverStrokes=function(){this.SelectedHoverInnerStroke||(this.SelectedHoverInnerStroke=this.HoverInnerStroke.clone()),this.SelectedHoverOuterStroke||(this.SelectedHoverOuterStroke=this.SelectedOuterStroke.clone(),this.SelectedHoverOuterStroke.setWidth(this.SelectedOuterStroke.getWidth()+(this.HoverInnerStroke.getWidth()-this.SelectedInnerStroke.getWidth())))},e.Shape.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect&&(this.IsShowingHoverEffect=!1,this.isSelected()?(this.InnerShape.setStroke(this.SelectedInnerStroke),this.setStroke(this.SelectedOuterStroke)):(this.removeChild(this.InnerShape),this.setStroke(this.OriginalStroke)))},e.Shape.prototype.isHoverEffectShown=function(){return this.IsShowingHoverEffect},e.Shape.prototype.addChildAt=function(t,i){e.Shape.superclass.addChildAt.call(this,t,i+this._getInnerShapeCount())},e.Shape.prototype.getChildAt=function(t,i){return e.Shape.superclass.getChildAt.call(this,t,i+this._getInnerShapeCount())},e.Shape.prototype.getChildIndex=function(t){return e.Shape.superclass.getChildIndex.call(this,t)-this._getInnerShapeCount()},e.Shape.prototype.removeChildAt=function(t){e.Shape.superclass.removeChildAt.call(this,t+this._getInnerShapeCount())},e.Shape.prototype.getDimensions=function(t){return this.getDimensionsSelf&&this.getNumChildren()-this._getInnerShapeCount()==0?this.getDimensionsSelf(t):e.Shape.superclass.getDimensions.call(this,t)},e.Shape.prototype._getInnerShapeCount=function(){return this.isSelected()||this.isHoverEffectShown()?1:0},e.Shape.prototype.SvgPropertyChanged=function(t){this.UpdateSelectionEffect()},e.Shape.prototype.copyShape=function(){return null};var m=function(){};e.Obj.createSubclass(m,e.Shape),m.prototype.Init=function(t,e,i,n,o){m.superclass.Init.call(this,t,e,o),this.setCx(i).setCy(n)},m.prototype.getCx=function(){return this.GetProperty("cx")},m.prototype.setCx=function(t){return this.SetSvgProperty("cx",t,0)},m.prototype.getCy=function(){return this.GetProperty("cy")},m.prototype.setCy=function(t){return this.SetSvgProperty("cy",t,0)};var C=function(){};e.Obj.createSubclass(C,e.Shape),C.prototype.Init=function(t,e,i,n){C.superclass.Init.call(this,t,e,n),i&&this.setPoints(i)},C.prototype.getPoints=function(){return this.GetProperty("arPoints")},C.prototype.setPoints=function(t){return this.SetProperty("arPoints",t),this.SetSvgProperty("points",e.SvgShapeUtils.convertPointsArray(t))},C.prototype.getDimensionsSelf=function(t){var i=e.PolygonUtils.getDimensions(this.getPoints());return this.ConvertCoordSpaceRect(i,t)},e.Arc=function(t,e,i,n,o,r,s,a,l){this.Init(t,e,i,n,o,r,s,a,l)},e.Obj.createSubclass(e.Arc,e.Shape),e.Arc.OPEN="OPEN",e.Arc.CHORD="CHORD",e.Arc.PIE="PIE",e.Arc.prototype.Init=function(t,i,n,o,r,s,a,l,h){e.Arc.superclass.Init.call(this,t,"path",h),this._sa=0,this._ae=0,r=null===r||isNaN(r)?o:r,this._bInInit=!0,this.setCx(i),this.setCy(n),this.setRx(o),this.setRy(r),this.setAngleStart(s),this.setAngleExtent(a),this.setClosure(l||e.Arc.OPEN),this._bInInit=!1,this._createArc()},e.Arc.prototype._addClosure=function(t){return this._ct===e.Arc.CHORD?t+=" z":this._ct===e.Arc.PIE?t+=" L "+this._cx+","+this._cy+" z":this._ct===e.Arc.OPEN&&this.setFill(null),t},e.Arc.prototype._createArc=function(){if(!this._bInInit){var t=this._sa*e.Math.RADS_PER_DEGREE,i=this._ae*e.Math.RADS_PER_DEGREE,n=this._cx+this._rx*Math.cos(t),o=this._cy-this._ry*Math.sin(t),r=this._cx+this._rx*Math.cos(t+i),s=this._cy-this._ry*Math.sin(t+i),a=Math.abs(this._ae)>180?"1":"0",l=this._ae>0?"0":"1",h="M "+e.ToolkitUtils.roundDecimal(n)+" "+e.ToolkitUtils.roundDecimal(o)+" A "+e.ToolkitUtils.roundDecimal(this._rx)+","+e.ToolkitUtils.roundDecimal(this._ry)+" 0 "+a+","+l+" "+e.ToolkitUtils.roundDecimal(r)+","+e.ToolkitUtils.roundDecimal(s);h=this._addClosure(h),e.ToolkitUtils.setAttrNullNS(this._elem,"d",h),null!==this._stroke&&this.setStroke(this._stroke)}},e.Arc.prototype.getAngleExtent=function(){return this._ae},e.Arc.prototype.setAngleExtent=function(t){t=null===t||isNaN(t)?0:t,this._ae!==t&&(360===t&&(t=359.99),this._ae=t,this._createArc(),this.UpdateSelectionEffect())},e.Arc.prototype.getAngleStart=function(){return this._sa},e.Arc.prototype.setAngleStart=function(t){t=null===t||isNaN(t)?0:t,this._sa!==t&&(this._sa=t,this._createArc(),this.UpdateSelectionEffect())},e.Arc.prototype.getClosure=function(){return this._ct},e.Arc.prototype.setClosure=function(t){t!==this._ct&&(this._ct=t,this._createArc(),this.UpdateSelectionEffect())},e.Arc.prototype.getCx=function(){return this._cx},e.Arc.prototype.setCx=function(t){t!==this._cx&&(this._cx=t,e.ToolkitUtils.setAttrNullNS(this._elem,"cx",t),this.UpdateSelectionEffect())},e.Arc.prototype.getCy=function(){return this._cy},e.Arc.prototype.setCy=function(t){t!==this._cy&&(this._cy=t,e.ToolkitUtils.setAttrNullNS(this._elem,"cy",t),this.UpdateSelectionEffect())},e.Arc.prototype.getRx=function(){return this._rx},e.Arc.prototype.setRx=function(t){t!==this._rx&&(this._rx=t,e.ToolkitUtils.setAttrNullNS(this._elem,"rx",this._rx),this._createArc(),this.UpdateSelectionEffect())},e.Arc.prototype.getRy=function(){return this._ry},e.Arc.prototype.setRy=function(t){t!==this._ry&&(this._ry=t,e.ToolkitUtils.setAttrNullNS(this._elem,"ry",this._ry),this._createArc(),this.UpdateSelectionEffect())},e.Arc.prototype.setArc=function(t,e){this.setAngleStart(t),this.setAngleExtentStart(e)},e.Arc.prototype.setRadius=function(t,e){this.setRx(t),this.setRy(e)},e.Arc.prototype.copyShape=function(){return new e.Arc(this.getCtx(),this.getCx(),this.getCy(),this.getRx(),this.getRy(),this.getAngleStart(),this.getAngleExtent(),this.getClosure())},e.Arc.prototype.GetAriaElem=function(){return e.Agent.isTouchDevice()&&this.CreateChildGroupElem(!1,!0),e.Arc.superclass.GetAriaElem.call(this)},e.Circle=function(t,e,i,n,o){this.Init(t,e,i,n,o)},e.Obj.createSubclass(e.Circle,m),e.Circle.prototype.Init=function(t,i,n,o,r){e.Circle.superclass.Init.call(this,t,"circle",i,n,r),this.setRadius(o)},e.Circle.prototype.getRadius=function(){return this.GetProperty("r")},e.Circle.prototype.setRadius=function(t){return this.SetSvgProperty("r",t)},e.Circle.prototype.copyShape=function(){return new e.Circle(this.getCtx(),this.getCx(),this.getCy(),this.getRadius())},e.Circle.prototype.getDimensionsSelf=function(t){var i=new e.Rectangle(this.getCx()-this.getRadius(),this.getCy()-this.getRadius(),2*this.getRadius(),2*this.getRadius());return this.ConvertCoordSpaceRect(i,t)},e.Image=function(t,e,i,n,o,r,s){this.Init(t,e,i,n,o,r,s)},e.Obj.createSubclass(e.Image,e.Shape),e.Image.prototype.Init=function(t,i,n,o,r,s,a){e.Image.superclass.Init.call(this,t,"image",a),i=e.ToolkitUtils.getImageUrl(t,i),e.Agent.isPlatformIE()&&(e.ToolkitUtils.setAttrNullNS(this._elem,"fill","#FFFFFF"),e.ToolkitUtils.setAttrNullNS(this._elem,"fill-opacity","0")),this.setImage(i,n,o,r,s),this.setAriaProperty("hidden","true")},e.Image.prototype.getX=function(){return this.GetProperty("x")},e.Image.prototype.setX=function(t){return this.SetSvgProperty("x",t)},e.Image.prototype.getY=function(){return this.GetProperty("y")},e.Image.prototype.setY=function(t){return this.SetSvgProperty("y",t)},e.Image.prototype.getWidth=function(){return this.GetProperty("width")},e.Image.prototype.setWidth=function(t){return this.SetSvgProperty("width",t)},e.Image.prototype.getHeight=function(){return this.GetProperty("height")},e.Image.prototype.setHeight=function(t){return this.SetSvgProperty("height",t)},e.Image.prototype.getSrc=function(){return this._src},e.Image.prototype.setSrc=function(t){if(t!==this._src){var i=t;if(this._src=t,e.Agent.isEnvironmentBatik()){var n=e.JavaImageLoader.getImageInfo(t);n&&(i=n.uri)}e.ToolkitUtils.setHref(this._elem,i)}return this},e.Image.prototype.getPos=function(){return new e.Point(this._x,this._y)},e.Image.prototype.setPos=function(t,e){this.setX(t).setY(e)},e.Image.prototype.setImage=function(t,i,n,o,r){i instanceof e.Image?(this.setSrc(t.src),this.setPos(t.x,t.y),this.setWidth(t.w),this.setHeight(t.h)):(this.setSrc(t),this.setPos(i,n),this.setWidth(o),this.setHeight(r)),e.ToolkitUtils.setAttrNullNS(this._elem,"preserveAspectRatio","none")},e.Image.prototype.getDimensions=function(t){if(this.getDimensionsSelf&&this.getNumChildren()-this._getInnerShapeCount()==0)return this.getDimensionsSelf(t);var i=this.getElem().getBBox();return i=i.width&&i.height?new e.Rectangle(i.x,i.y,i.width,i.height):new e.Rectangle(i.x,i.y,this.getWidth(),this.getHeight()),this.ConvertCoordSpaceRect(i,t)},e.Image.prototype.__setDimensions=function(t){this.setWidth(t.width),this.setHeight(t.height)},e.Image.prototype.UpdateSelectionEffect=function(){},e.Image.prototype.copyShape=function(){return new e.Image(this.getCtx(),this.getSrc(),this.getX(),this.getY(),this.getWidth(),this.getHeight())},e.Image.prototype.getDimensionsSelf=function(t){var i=new e.Rectangle(this.getX(),this.getY(),this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(i,t)},e.Image.prototype.setAriaProperty=function(t,i){e.Image.superclass.setAriaProperty.call(this,t,i),"hidden"!=t&&e.Image.superclass.setAriaProperty.call(this,"hidden",null)},e.Line=function(t,e,i,n,o,r){this.Init(t,e,i,n,o,r)},e.Obj.createSubclass(e.Line,e.Shape),e.Line.prototype.Init=function(t,i,n,o,r,s){e.Line.superclass.Init.call(this,t,"line",s),this.setX1(i).setY1(n).setX2(o).setY2(r),this._bHollow=!1},e.Line.prototype.getX1=function(){return this.GetProperty("x1")},e.Line.prototype.setX1=function(t){return this.SetSvgProperty("x1",t,0)},e.Line.prototype.getY1=function(){return this.GetProperty("y1")},e.Line.prototype.setY1=function(t){return this.SetSvgProperty("y1",t,0)},e.Line.prototype.getX2=function(){return this.GetProperty("x2")},e.Line.prototype.setX2=function(t){return this.SetSvgProperty("x2",t,0)},e.Line.prototype.getY2=function(){return this.GetProperty("y2")},e.Line.prototype.setY2=function(t){return this.SetSvgProperty("y2",t,0)},e.Line.prototype.setHollow=function(){var t=this._elem.parentNode;if(this._bHollow)this._origElem&&(t.replaceChild(this._origElem,this._elem),e.ToolkitUtils.setAttrNullNS(this._origElem,"opacity",this._alpha),this._elem=this._origElem,this._origElem=null,this._bHollow=!1);else{var i;this._origElem=this._elem;var n=this.getX2()-this.getX1(),o=n,r=this.getY1()-n/2,s=this.getStroke();i=e.SvgShapeUtils.createElement("rect"),e.ToolkitUtils.setAttrNullNS(i,"x",this.getX1()),e.ToolkitUtils.setAttrNullNS(i,"y",r),e.ToolkitUtils.setAttrNullNS(i,"width",this.getX2()-this.getX1()),e.ToolkitUtils.setAttrNullNS(i,"height",o);var a=s.getColor();if(a){var l=s.getAlpha();e.Agent.isBrowserSafari()&&-1!==a.indexOf("rgba")?(e.ToolkitUtils.setAttrNullNS(i,"stroke",e.ColorUtils.getRGB(a)),null!=l?e.ToolkitUtils.setAttrNullNS(i,"stroke-opacity",e.ColorUtils.getAlpha(a)*l):e.ToolkitUtils.setAttrNullNS(i,"stroke-opacity",e.ColorUtils.getAlpha(a))):(e.ToolkitUtils.setAttrNullNS(i,"stroke",a),null!=l&&e.ToolkitUtils.setAttrNullNS(i,"stroke-opacity",l))}e.ToolkitUtils.setAttrNullNS(i,"fill","#ffffff"),e.ToolkitUtils.setAttrNullNS(i,"fill-opacity","0.001"),e.ToolkitUtils.setAttrNullNS(i,"shape-rendering","crispEdges"),i._obj=this,t.replaceChild(i,this._elem),this._elem=i,e.ToolkitUtils.setAttrNullNS(this._elem,"opacity",this._alpha),this._bHollow=!0}},e.Line.prototype.getDimensions=function(t){var i=e.Line.superclass.getDimensions.call(this,t);if(this._childGroupElem&&this._elem){var n=this._childGroupElem.getBBox();if(0==n.x&&0==n.y&&0==n.width&&0==n.height){var o=this._elem.getBBox();i=new e.Rectangle(o.x,o.y,o.width,o.height)}}return i},e.Line.prototype.copyShape=function(){return new e.Line(this.getCtx(),this.getX1(),this.getY1(),this.getX2(),this.getY2())},e.Line.prototype.getDimensionsSelf=function(t){var i=Math.min(this.getX1(),this.getX2()),n=Math.min(this.getY1(),this.getY2()),o=Math.abs(this.getX1()-this.getX2()),r=Math.abs(this.getY1()-this.getY2()),s=new e.Rectangle(i,n,o,r);return this.ConvertCoordSpaceRect(s,t)},e.Line.prototype._adjustDimensionsForStyle=function(){this.getX1()==this.getX2()?this.setX2(this.getX2()+.001):this.getY1()==this.getY2()&&this.setY2(this.getY2()+.001)},e.Line.prototype.setStyle=function(t,i){return t&&!i&&this._adjustDimensionsForStyle(),e.Line.superclass.setStyle.call(this,t)},e.Line.prototype.setClassName=function(t,i){return t&&!i&&this._adjustDimensionsForStyle(),e.Line.superclass.setClassName.call(this,t)},e.SimpleMarker=function(t,e,i,n,o,r,s,a,l,h,u){this.Init(t,e,i,n,o,r,s,a,l,h,u)},e.Obj.createSubclass(e.SimpleMarker,e.Shape),e.SimpleMarker.CIRCLE="circle",e.SimpleMarker.ELLIPSE="ellipse",e.SimpleMarker.SQUARE="square",e.SimpleMarker.RECTANGLE="rectangle",e.SimpleMarker.DIAMOND="diamond",e.SimpleMarker.TRIANGLE_UP="triangleUp",e.SimpleMarker.TRIANGLE_DOWN="triangleDown",e.SimpleMarker.PLUS="plus",e.SimpleMarker.HUMAN="human",e.SimpleMarker.STAR="star",e.SimpleMarker._CIRCLE_ELEM="circle",e.SimpleMarker._ELLIPSE_ELEM="ellipse",e.SimpleMarker._RECT_ELEM="rect",e.SimpleMarker._PATH_ELEM="path",e.SimpleMarker._POLYGON_ELEM="polygon",e.SimpleMarker._SHAPE_ELEM_MAP={},e.SimpleMarker._SHAPE_ELEM_MAP[e.SimpleMarker.CIRCLE]=e.SimpleMarker._CIRCLE_ELEM,e.SimpleMarker._SHAPE_ELEM_MAP[e.SimpleMarker.ELLIPSE]=e.SimpleMarker._ELLIPSE_ELEM,e.SimpleMarker._SHAPE_ELEM_MAP[e.SimpleMarker.SQUARE]=e.SimpleMarker._PATH_ELEM,e.SimpleMarker._SHAPE_ELEM_MAP[e.SimpleMarker.RECTANGLE]=e.SimpleMarker._PATH_ELEM,e.SimpleMarker._SHAPE_ELEM_MAP[e.SimpleMarker.DIAMOND]=e.SimpleMarker._POLYGON_ELEM,e.SimpleMarker._SHAPE_ELEM_MAP[e.SimpleMarker.TRIANGLE_UP]=e.SimpleMarker._POLYGON_ELEM,e.SimpleMarker._SHAPE_ELEM_MAP[e.SimpleMarker.TRIANGLE_DOWN]=e.SimpleMarker._POLYGON_ELEM,e.SimpleMarker._SHAPE_ELEM_MAP[e.SimpleMarker.PLUS]=e.SimpleMarker._POLYGON_ELEM,e.SimpleMarker._SHAPE_ELEM_MAP[e.SimpleMarker.HUMAN]=e.SimpleMarker._PATH_ELEM,e.SimpleMarker._SHAPE_ELEM_MAP[e.SimpleMarker.STAR]=e.SimpleMarker._POLYGON_ELEM,e.SimpleMarker.DEFAULT_BORDER_RADIUS="6",e.SimpleMarker._HUMAN_CMDS="M 38.07,36.467856 q 13.414,0 13.414,-13.406 l 0,-9.258 q 0,-13.4039999 -13.414,-13.4039999 -13.414,0 -13.414,13.4039999 l 0,9.258 q 0,13.406 13.414,13.406 l 0,0 z m 16.219,7.275 -32.435999,0 q -10.139552,0 -15.9400009,7.443875 Q 0.5,58.133383 0.5,69.156856 l 0,54.396004 12.746001,0 0,-51.609004 q 0,-2.824 0.793,-2.824 0.742,0 0.742,2.709 l 0,124.267994 q 0,2.82401 2.823999,2.82401 l 12.531,0 q 2.824,0 2.824,-2.824 l 0,-66.25 10.219,0 0,66.25 q 0,2.824 2.824,2.824 l 12.528,0 q 2.825,0 2.825,-2.824 l 0,-124.268004 q 0,-2.709 0.839,-2.709 0.792,0 0.792,2.824 l 0,51.609004 12.65,0 0,-54.396004 Q 75.6386,58.132927 70.227626,51.186731 64.428999,43.742856 54.289,43.742856 l 0,0 z",e.SimpleMarker._HUMAN2_CMDS="M 306.40625 386.78125 C 304.19988 386.78125 302.40625 389.07579 302.40625 391.90625 C 302.40625 394.73671 304.19988 397.03125 306.40625 397.03125 C 308.61263 397.03125 310.40625 394.73671 310.40625 391.90625 C 310.40625 389.07579 308.61263 386.78125 306.40625 386.78125 z M 301.78125 396.0625 C 300.43025 397.2945 298.28125 400.28125 298.90625 403.15625 C 302.41725 405.79925 309.20225 406.154 314.03125 403 C 314.21825 399.828 312.68325 397.5635 310.90625 396.0625 C 308.65625 400.7185 304.28125 399.7815 301.78125 396.0625 z ",e.SimpleMarker._SHAPE_STAR_CMDS=[-50,-11.22,-16.69,-17.94,0,-47.55,16.69,-17.94,50,-11.22,26.69,13.8,30.9,47.56,0,33.42,-30.9,47.56,-26.69,13.8],e.SimpleMarker.prototype.Init=function(t,i,n,o,r,s,a,l,h,u,c){u&&(o=Math.round(o),r=Math.round(r),s=Math.round(s),a=(a=Math.round(a))%2==1?a+1:a,s=s%2==1?s+1:s),this._bMaintainAspectRatio=!0,!1===h&&(this._bMaintainAspectRatio=!1,i==e.SimpleMarker.CIRCLE&&(i=e.SimpleMarker.ELLIPSE)),l&&"0"!=l&&(this._borderRadius=l),this._skin=n,this._shape=i||e.SimpleMarker.RECTANGLE,this._dataColor="#000000";var p=i?e.SimpleMarker._SHAPE_ELEM_MAP[i]:e.SimpleMarker._PATH_ELEM;null==p&&(this._isCustomShape=!0,this._path=new e.Path(t,i),p=e.SimpleMarker._PATH_ELEM),e.SimpleMarker.superclass.Init.call(this,t,p,c),this._shape!=e.SimpleMarker.SQUARE&&this._shape!=e.SimpleMarker.RECTANGLE||(this._path=this._getBorderRadiusPath(t,o,r,s,a,l)),this._shape==e.SimpleMarker.HUMAN&&(this._path=new e.Path(t,e.CSSStyle.afterSkinAlta(this._skin)?e.SimpleMarker._HUMAN2_CMDS:e.SimpleMarker._HUMAN_CMDS)),this._propertyChange={},this.setCenter(o,r,!0).setSize(s,a)},e.SimpleMarker.prototype.setCenterDimensions=function(t){return this.setCenter(t.x,t.y,!0).setSize(t.w,t.h)},e.SimpleMarker.prototype.getCenterDimensions=function(){return new e.Rectangle(this._cx,this._cy,this._width,this._height)},e.SimpleMarker.prototype.setSize=function(t,e,i){return this.setWidth(t,!0).setHeight(e,i)},e.SimpleMarker.prototype.setCenter=function(t,e,i){return this.setCx(t,!0).setCy(e,i)},e.SimpleMarker.prototype._updateSvgProperties=function(){if(this._propertyChange.width||this._propertyChange.height){var t=Math.min(this._width,this._height);this._propertyChange.s=this._s!=t,this._s=t}if(this._shape!=e.SimpleMarker.RECTANGLE&&this._shape!=e.SimpleMarker.SQUARE||this._borderRadius)this._shape==e.SimpleMarker.CIRCLE||this._shape==e.SimpleMarker.ELLIPSE?(this._propertyChange.cx&&e.ToolkitUtils.setAttrNullNS(this._elem,"cx",this._cx,0),this._propertyChange.cy&&e.ToolkitUtils.setAttrNullNS(this._elem,"cy",this._cy,0),this._shape==e.SimpleMarker.CIRCLE?this._propertyChange.s&&e.ToolkitUtils.setAttrNullNS(this._elem,"r",this._s/2,0):(this._propertyChange.width&&e.ToolkitUtils.setAttrNullNS(this._elem,"rx",this._width/2,0),this._propertyChange.height&&e.ToolkitUtils.setAttrNullNS(this._elem,"ry",this._height/2,0))):this._isPolygon()?(this._propertyChange.s||this._propertyChange.cx||this._propertyChange.cy)&&this._setPolygon(this._getPolygonArray()):this._isPath()&&(this._propertyChange.width||this._propertyChange.height||this._propertyChange.cx||this._propertyChange.cy)&&this._setCmds(this._getCmds());else if(this._propertyChange.width||this._propertyChange.height||this._propertyChange.cx||this._propertyChange.cy){var i=e.PathUtils.rectangleWithBorderRadius(this._cx-this._width/2,this._cy-this._height/2,this._width,this._height);this._setCmds(i)}return this.UpdateSelectionEffect(),this._propertyChange={},this},e.SimpleMarker.prototype.getCx=function(){return this._cx},e.SimpleMarker.prototype.setCx=function(t,e){return this._propertyChange.cx=this._cx!=t,this._cx=t,e?this:this._updateSvgProperties()},e.SimpleMarker.prototype.getCy=function(){return this._cy},e.SimpleMarker.prototype.setCy=function(t,e){return this._propertyChange.cy=this._cy!=t,this._cy=t,e?this:this._updateSvgProperties()},e.SimpleMarker.prototype.getSize=function(){return this._s},e.SimpleMarker.prototype.getWidth=function(){return this._width},e.SimpleMarker.prototype.setWidth=function(t,e){return this._propertyChange.width=this._width!=t,this._width=t,e?this:this._updateSvgProperties()},e.SimpleMarker.prototype.getHeight=function(){return this._height},e.SimpleMarker.prototype.setHeight=function(t,e){return this._propertyChange.height=this._height!=t,this._height=t,e?this:this._updateSvgProperties()},e.SimpleMarker.prototype._getPolygonArray=function(){var t=[],i=this._cx,n=this._cy,o=this.getMaintainAspectRatio()?this._s/2:this._width/2,r=this.getMaintainAspectRatio()?this._s/2:this._height/2,s=this.getMaintainAspectRatio()?this._s/6:this._width/6,a=this.getMaintainAspectRatio()?this._s/6:this._height/6;return this._shape==e.SimpleMarker.TRIANGLE_UP?t=[i-o,n+r,i,n-r,i+o,n+r]:this._shape==e.SimpleMarker.TRIANGLE_DOWN?t=[i-o,n-r,i,n+r,i+o,n-r]:this._shape==e.SimpleMarker.DIAMOND?t=[i-o,n,i,n-r,i+o,n,i,n+r]:this._shape==e.SimpleMarker.PLUS?t=[i-o,n-a,i-s,n-a,i-s,n-r,i+s,n-r,i+s,n-a,i+o,n-a,i+o,n+a,i+s,n+a,i+s,n+r,i-s,n+r,i-s,n+a,i-o,n+a]:this._shape==e.SimpleMarker.STAR&&(t=e.SimpleMarker._SHAPE_STAR_CMDS,t=e.PolygonUtils.scale(t,this.getMaintainAspectRatio()?this._s/100:this._width/100,this.getMaintainAspectRatio()?this._s/100:this._height/100),t=e.PolygonUtils.translate(t,i,n)),t},e.SimpleMarker.prototype._setPolygon=function(t){e.ToolkitUtils.setAttrNullNS(this._elem,"points",e.SvgShapeUtils.convertPointsArray(t))},e.SimpleMarker.prototype._getCmds=function(){var t=e.DisplayableUtils.getDimForced(this.getCtx(),this._path),i=Math.max(t.w,t.h),n=this.getMaintainAspectRatio();this._shape==e.SimpleMarker.RECTANGLE&&(n=!1);var o=n?this._s/i:this._width/t.w,r=n?this._s/i:this._height/t.h,s=this._cx-t.x*o-t.w*o/2,a=this._cy-t.y*r-t.h*r/2;return e.PathUtils.transformPath(this._path.getCommandsArray(),s,a,o,r)},e.SimpleMarker.prototype._setCmds=function(t){e.ToolkitUtils.setAttrNullNS(this._elem,"d",t)},e.SimpleMarker.prototype.getType=function(){return this._shape},e.SimpleMarker.prototype._isPolygon=function(){return e.SimpleMarker._SHAPE_ELEM_MAP[this._shape]==e.SimpleMarker._POLYGON_ELEM},e.SimpleMarker.prototype._isPath=function(){return e.SimpleMarker._SHAPE_ELEM_MAP[this._shape]==e.SimpleMarker._PATH_ELEM||this._isCustomShape},e.SimpleMarker.prototype.SetStrokeWidth=function(t){var e=this.getStroke();e&&((e=e.clone()).setWidth(t),this.setStroke(e))},e.SimpleMarker.prototype.GetStrokeWidth=function(){var t=this.getStroke();return t?t.getWidth():0},e.SimpleMarker.prototype._getBorderRadiusPath=function(t,i,n,o,r,s){if(this._shape==e.SimpleMarker.SQUARE||this._shape==e.SimpleMarker.RECTANGLE){var a=Math.min(o,r),l=this._shape==e.SimpleMarker.SQUARE?a:o,h=this._shape==e.SimpleMarker.SQUARE?a:r,u=i-l/2,c=n-h/2,p=e.PathUtils.rectangleWithBorderRadius(u,c,l,h,s,a,"0");return new e.Path(t,p)}return null},e.SimpleMarker.prototype._getBorderRadius=function(){return this._borderRadius},e.SimpleMarker.prototype.setDataColor=function(t,i){if(this._dataColor=t,!i){var n=e.SelectionEffectUtils.getHoverBorderColor(t);this.setHoverStroke(new e.SolidStroke("#FFFFFF",1,1),new e.SolidStroke(n,1,3.5)),this.setSelectedStroke(new e.SolidStroke("#FFFFFF",1,1.5),new e.SolidStroke("#5A5A5A",1,4.5)),this.setSelectedHoverStroke(new e.SolidStroke("#FFFFFF",1,1.5),new e.SolidStroke(n,1,4.5)),this.HoverInnerStroke.setFixedWidth(!0),this.HoverOuterStroke.setFixedWidth(!0),this.SelectedInnerStroke.setFixedWidth(!0),this.SelectedOuterStroke.setFixedWidth(!0),this.SelectedHoverInnerStroke.setFixedWidth(!0),this.SelectedHoverOuterStroke.setFixedWidth(!0)}},e.SimpleMarker.prototype.getDataColor=function(){return this._dataColor},e.SimpleMarker.prototype.setHollow=function(t){var i=this.GetStrokeWidth();i=i||1,e.SimpleMarker.superclass.setHollow.call(this,t,i)},e.SimpleMarker.prototype.setText=function(t){this._markerText=t},e.SimpleMarker.prototype.setAlpha=function(t){e.SimpleMarker.superclass.setAlpha.call(this,t),t!==this.getAlpha()&&(this._markerText&&this._markerText.setAlpha(t),this.UpdateSelectionEffect())},e.SimpleMarker.prototype.copyShape=function(){return new e.SimpleMarker(this.getCtx(),this._shape,this._skin,this.getCx(),this.getCy(),this.getWidth(),this.getHeight(),this._getBorderRadius(),this.getMaintainAspectRatio())},e.SimpleMarker.prototype.getDimensions=function(t){return this.getDimensionsSelf(t)},e.SimpleMarker.prototype.getDimensionsSelf=function(t){var i=this.getCx()-this.getWidth()/2,n=this.getCy()-this.getHeight()/2,o=new e.Rectangle(i,n,this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(o,t)},e.SimpleMarker.prototype.setMaintainAspectRatio=function(t){this._bMaintainAspectRatio=t},e.SimpleMarker.prototype.getMaintainAspectRatio=function(){return this._bMaintainAspectRatio},e.ImageMarker=function(t,e,i,n,o,r,s,a,l,h,u){this.Init(t,e,i,n,o,r,s,a,l,h,u)},e.Obj.createSubclass(e.ImageMarker,e.Shape),e.ImageMarker.prototype.Init=function(t,i,n,o,r,s,a,l,h,u,c){e.ImageMarker.superclass.Init.call(this,t,"image",c),this._setMarkerImageStates(a,l,h,u);var p=this._getImage();this._setSource(p),this._propertyChange={},this.setCenter(i,n,!0).setSize(o,r),this._updateBorder(s),e.Agent.isPlatformIE()&&(e.ToolkitUtils.setAttrNullNS(this._elem,"fill","#FFFFFF"),e.ToolkitUtils.setAttrNullNS(this._elem,"fill-opacity","0"))},e.ImageMarker.prototype.setPreserveAspectRatio=function(t){e.ToolkitUtils.setAttrNullNS(this._elem,"preserveAspectRatio",t,"xMidYMid")},e.ImageMarker.prototype.setCenterDimensions=function(t){return this.setCenter(t.x,t.y,!0).setSize(t.w,t.h)},e.ImageMarker.prototype.getCenterDimensions=function(){return new e.Rectangle(this._cx,this._cy,this._width,this._height)},e.ImageMarker.prototype.setSize=function(t,e,i){return this.setWidth(t,!0).setHeight(e,i)},e.ImageMarker.prototype.getSize=function(){return Math.max(this.getWidth(),this.getHeight())},e.ImageMarker.prototype.setCenter=function(t,e,i){return this.setCx(t,!0).setCy(e,i)},e.ImageMarker.prototype._updateSvgProperties=function(){return(this._propertyChange.cx||this._propertyChange.width)&&e.ToolkitUtils.setAttrNullNS(this._elem,"x",this._cx-this._width/2,0),(this._propertyChange.cy||this._propertyChange.height)&&e.ToolkitUtils.setAttrNullNS(this._elem,"y",this._cy-this._height/2,0),this._propertyChange.width&&e.ToolkitUtils.setAttrNullNS(this._elem,"width",this._width,0),this._propertyChange.height&&e.ToolkitUtils.setAttrNullNS(this._elem,"height",this._height,0),this._updateBorder(this._borderRadius),this.UpdateSelectionEffect(),this._propertyChange={},this},e.ImageMarker.prototype.getCx=function(){
return this._cx},e.ImageMarker.prototype.setCx=function(t,e){return this._propertyChange.cx=this._cx!=t,this._cx=t,e?this:this._updateSvgProperties()},e.ImageMarker.prototype.getCy=function(){return this._cy},e.ImageMarker.prototype.setCy=function(t,e){return this._propertyChange.cy=this._cy!=t,this._cy=t,e?this:this._updateSvgProperties()},e.ImageMarker.prototype.getWidth=function(){return this._width},e.ImageMarker.prototype.setWidth=function(t,e){return this._propertyChange.width=this._width!=t,this._width=t,e?this:this._updateSvgProperties()},e.ImageMarker.prototype.getHeight=function(){return this._height},e.ImageMarker.prototype.setHeight=function(t,e){return this._propertyChange.height=this._height!=t,this._height=t,e?this:this._updateSvgProperties()},e.ImageMarker.prototype._setSource=function(t){if(e.Agent.isEnvironmentBatik()){var i=e.JavaImageLoader.getImageInfo(t);i&&(t=i.uri)}e.ToolkitUtils.setHref(this._elem,t)},e.ImageMarker.prototype._setMarkerImageStates=function(t,e,i,n){var o=t;this._imageStates=[o],this._imageStates.push(e||o),this._imageStates.push(i||o),this._imageStates.push(n||this._imageStates[1])},e.ImageMarker.prototype._getImage=function(){return this._imageStates[0]},e.ImageMarker.prototype._getImageSelected=function(){return this._imageStates[1]},e.ImageMarker.prototype._getImageHover=function(){return this._imageStates[2]},e.ImageMarker.prototype._getImageHoverSelected=function(){return this._imageStates[3]},e.ImageMarker.prototype.showHoverEffect=function(){this.IsShowingHoverEffect=!0,this.isSelected()?this._setSource(this._getImageHoverSelected()):this._setSource(this._getImageHover())},e.ImageMarker.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect=!1,this.isSelected()?this._setSource(this._getImageSelected()):this._setSource(this._getImage())},e.ImageMarker.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,t?this.isHoverEffectShown()?this._setSource(this._getImageHoverSelected()):this._setSource(this._getImageSelected()):this._setSource(this._getImage()))},e.ImageMarker.prototype._updateBorder=function(t){if(t||this._borderPath){if(t&&"0"!=t){var i=e.PathUtils.rectangleWithBorderRadius(this._cx-this._width/2,this._cy-this._height/2,this._width,this._height,t,Math.min(this._width,this._height),"0"),n=new e.ClipPath;n.addPath(i),this.setClipPath(n)}if(this._borderPath){var o=e.PathUtils.rectangleWithBorderRadius(this._cx-this._width/2+this._borderWidth/2,this._cy-this._height/2+this._borderWidth/2,this._width-this._borderWidth,this._height-this._borderWidth,t,Math.min(this._width,this._height),"0");this._borderPath.setCmds(o)}}this._borderRadius=t},e.ImageMarker.prototype._getBorderRadius=function(){return this._borderRadius},e.ImageMarker.prototype.setStroke=function(t){if(!t||t.getWidth()<=0)return this._borderWidth=0,void(this._borderPath&&(this.removeChild(this._borderPath),this._borderPath=null));var i=t.getWidth();if(!this._borderPath||i!=this._borderWidth){var n=e.PathUtils.rectangleWithBorderRadius(this._cx-this._width/2+i/2,this._cy-this._height/2+i/2,this._width-i,this._height-i,this._borderRadius,Math.min(this._width,this._height),"0");this._borderPath?this._borderPath.setCmds(n):(this._borderPath=new e.Path(this.getCtx(),n),this._borderPath.setInvisibleFill(),this.addChild(this._borderPath))}this._borderWidth=i,this._borderPath.setStroke(t)},e.ImageMarker.prototype.setHollow=function(t,i){e.ImageMarker.superclass.setHollow.call(this,t,i);var n=this.isHollow();n?(this._imageContainer=this._elem.parentNode,this._imageContainer.removeChild(this._elem)):!n&&this._imageContainer&&this._imageContainer.appendChild(this._elem)},e.ImageMarker.prototype.copyShape=function(){return new e.ImageMarker(this.getCtx(),this.getCx(),this.getCy(),this.getWidth(),this.getHeight(),this._getBorderRadius(),this._getImage(),this._getImageSelected(),this._getImageHover(),this._getImageHoverSelected(),null)},e.ImageMarker.prototype.getDimensionsSelf=function(t){var i=this.getCx()-this.getWidth()/2,n=this.getCy()-this.getHeight()/2,o=new e.Rectangle(i,n,this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(o,t)},e.Oval=function(t,e,i,n,o,r){this.Init(t,e,i,n,o,r)},e.Obj.createSubclass(e.Oval,m),e.Oval.prototype.Init=function(t,i,n,o,r,s){e.Oval.superclass.Init.call(this,t,"ellipse",i,n,s),this.setRx(o).setRy(r)},e.Oval.prototype.getRx=function(){return this.GetProperty("rx")},e.Oval.prototype.setRx=function(t){return this.SetSvgProperty("rx",t)},e.Oval.prototype.getRy=function(){return this.GetProperty("ry")},e.Oval.prototype.setRy=function(t){return this.SetSvgProperty("ry",t)},e.Oval.prototype.copyShape=function(){return new e.Oval(this.getCtx(),this.getCx(),this.getCy(),this.getRx(),this.getRy())},e.Oval.prototype.getDimensionsSelf=function(t){var i=new e.Rectangle(this.getCx()-this.getRx(),this.getCy()-this.getRy(),2*this.getRx(),2*this.getRy());return this.ConvertCoordSpaceRect(i,t)},e.Path=function(t,e,i){this.Init(t,e,i)},e.Obj.createSubclass(e.Path,e.Shape),e.Path.prototype.Init=function(t,i,n){e.Path.superclass.Init.call(this,t,"path",n),e.ArrayUtils.isArray(i)?this.setCmds(e.PathUtils.getPathString(i)):this.setCmds(i)},e.Path.prototype.getCmds=function(){return this.GetProperty("d")},e.Path.prototype.setCmds=function(t){return t&&this.SetSvgProperty("d",t),this.SetProperty("arCmds",null),this},e.Path.prototype.getCommandsArray=function(){var t=this.GetProperty("arCmds");return t||(t=e.PathUtils.createPathArray(this.getCmds()),this.SetProperty("arCmds",t)),t},e.Path.prototype.setCommandsArray=function(t){var i=t?e.PathUtils.getPathString(t):null;return this.setCmds(i),this.SetProperty("arCmds",t),this},e.Path.prototype.copyShape=function(){return new e.Path(this.getCtx(),this.getCmds())},e.Path.prototype.GetAriaElem=function(){return e.Agent.isTouchDevice()&&this.CreateChildGroupElem(!1,!0),e.Path.superclass.GetAriaElem.call(this)},e.Polygon=function(t,e,i){this.Init(t,e,i)},e.Obj.createSubclass(e.Polygon,C),e.Polygon.prototype.Init=function(t,i,n){e.Polygon.superclass.Init.call(this,t,"polygon",i,n)},e.Polygon.prototype.copyShape=function(){return new e.Polygon(this.getCtx(),this.getPoints())},e.Polygon.prototype.GetAriaElem=function(){return e.Agent.isTouchDevice()&&this.CreateChildGroupElem(!1,!0),e.Polygon.superclass.GetAriaElem.call(this)},e.Polyline=function(t,e,i){this.Init(t,e,i)},e.Obj.createSubclass(e.Polyline,C),e.Polyline.prototype.Init=function(t,i,n){e.Polyline.superclass.Init.call(this,t,"polyline",i,n),e.ToolkitUtils.setAttrNullNS(this._elem,"fill","none")},e.Polyline.prototype.copyShape=function(){return new e.Polyline(this.getCtx(),this.getPoints())},e.Rect=function(t,e,i,n,o,r){this.Init(t,e,i,n,o,r)},e.Obj.createSubclass(e.Rect,e.Shape),e.Rect._cssAttrs=["background-color","border-color","border-width"],e.Rect.prototype.Init=function(t,i,n,o,r,s){e.Rect.superclass.Init.call(this,t,"rect",s),this._strokeAlignment=e.Stroke.CENTER,this.setX(i).setY(n).setWidth(o).setHeight(r)},e.Rect.prototype.getX=function(){return this.GetProperty("x")},e.Rect.prototype.setX=function(t){return this.SetSvgProperty("x",t,0)},e.Rect.prototype.getY=function(){return this.GetProperty("y")},e.Rect.prototype.setY=function(t){return this.SetSvgProperty("y",t,0)},e.Rect.prototype.getWidth=function(){return this.GetProperty("width")},e.Rect.prototype.setWidth=function(t){return this.SetSvgProperty("width",null!=t?t:0)},e.Rect.prototype.getHeight=function(){return this.GetProperty("height")},e.Rect.prototype.setHeight=function(t){return this.SetSvgProperty("height",null!=t?t:0)},e.Rect.prototype.getRx=function(){return this.GetProperty("rx")},e.Rect.prototype.setRx=function(t){return this.SetSvgProperty("rx",t)},e.Rect.prototype.getRy=function(){return this.GetProperty("ry")},e.Rect.prototype.setRy=function(t){return this.SetSvgProperty("ry",t)},e.Rect.prototype.setCSSStyle=function(t){e.Rect.superclass.setCSSStyle.call(this,t);var i=this._elem;if(t){var n=t.getStyle("background-color");if(n&&e.ToolkitUtils.setAttrNullNS(i,"fill",n),(n=t.getStyle("border-color"))&&e.ToolkitUtils.setAttrNullNS(i,"stroke",n),(n=t.getStyle("border-width"))&&e.ToolkitUtils.setAttrNullNS(i,"stroke-width",n),n=t.getStyle("border-radius")){var o=e.StringUtils.trim(n).split(" ");o.length>0&&o[0]&&this.setRx(o[0]),o.length>1&&o[1]&&this.setRy(o[1])}}else e.ToolkitUtils.removeAttrNullNS(this._elem,"style")},e.Rect.prototype.SetSvgProperty=function(t,e,i){return e!==this.GetProperty(t)&&(this.SetProperty(t,e),this._setAttributeWithStroke(t,e,i),this.SvgPropertyChanged(t)),this},e.Rect.prototype._setAttributeWithStroke=function(t,i,n){if(null!=i&&this._strokeAlignment!=e.Stroke.CENTER){var o=this._getStrokeOffset();switch(t){case"x":case"y":i-=o;break;case"width":case"height":i+=2*o}}e.ToolkitUtils.setAttrNullNS(this._elem,t,i,n)},e.Rect.prototype.setStrokeAlignment=function(t){this._strokeAlignment!=t&&(this._strokeAlignment=t,this._updateElemStrokeDimensions())},e.Rect.prototype.getStrokeAlignment=function(){return this._strokeAlignment},e.Rect.prototype._updateElemStrokeDimensions=function(){this._setAttributeWithStroke("x",this.getX(),0),this._setAttributeWithStroke("y",this.getY(),0),this._setAttributeWithStroke("width",this.getWidth()),this._setAttributeWithStroke("height",this.getHeight())},e.Rect.prototype._getStrokeOffset=function(){var t=0,i=this.getStroke();if(i)if(this._strokeAlignment==e.Stroke.OUTER){t=i.getWidth()/2;var n=this.GetHoverSelectionInnerStroke();null!=n&&(t+=n.getWidth())}else if(this._strokeAlignment==e.Stroke.INNER){t=-i.getWidth()/2;var o=this.GetHoverSelectionOuterStroke();null!=o&&(t-=o.getWidth())}return t},e.Rect.prototype.setStroke=function(t){e.Rect.superclass.setStroke.call(this,t),this._strokeAlignment!=e.Stroke.CENTER&&this._updateElemStrokeDimensions()},e.Rect.prototype.GetElemDimensionsWithStroke=function(){var t=e.Rect.superclass.GetElemDimensionsWithStroke.call(this);if(t&&this._strokeAlignment!=e.Stroke.CENTER){var i=this._getStrokeOffset();t.x-=i,t.y-=i,t.w+=2*i,t.h+=2*i}return t},e.Rect.prototype.setPos=function(t,e){this.setX(t).setY(e)},e.Rect.prototype.setCornerRadius=function(t,e){this.setRx(t).setRy(e)},e.Rect.prototype.setRect=function(t,i,n,o){t instanceof e.Rectangle?this.setX(t.x).setY(t.y).setWidth(t.w).setHeight(t.h):this.setX(t).setY(i).setWidth(n).setHeight(o)},e.Rect.prototype.copyShape=function(){var t=new e.Rect(this.getCtx(),this.getX(),this.getY(),this.getWidth(),this.getHeight());return t.setRx(this.getRx()).setRy(this.getRy()),t.setStrokeAlignment(this.getStrokeAlignment()),t},e.Rect.prototype.getDimensionsSelf=function(t){var i=new e.Rectangle(this.getX(),this.getY(),this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(i,t)},e.OutputText=function(t,e,i,n,o){this.Init(t,e,i,n,o)},e.Obj.createSubclass(e.OutputText,e.Shape),e.OutputText.ELLIPSIS="",e.OutputText.REPRESENTATIVE_TEXT="MW",e.OutputText.BIDI_ZERO_WIDTH="",e.OutputText.H_ALIGN_LEFT="left",e.OutputText.H_ALIGN_CENTER="center",e.OutputText.H_ALIGN_RIGHT="right",e.OutputText.V_ALIGN_TOP="top",e.OutputText.V_ALIGN_MIDDLE="middle",e.OutputText.V_ALIGN_BOTTOM="bottom",e.OutputText.V_ALIGN_AUTO="auto",e.OutputText.prototype.Init=function(t,i,n,o,r){e.OutputText.superclass.Init.call(this,t,"text",r),this._x=null!=n?n:0,this._baseline=!1,e.Agent.isRightToLeft(t)&&e.Agent.isPlatformIE()&&e.ToolkitUtils.setAttrNullNS(this.getElem(),"unicode-bidi","embed"),this.alignLeft(),this.alignTop(),this.setTextString(i),this.setX(n),this.setY(o),e.ToolkitUtils.removeAttrNullNS(this.getElem(),"fill"),this.setAriaProperty("hidden","true")},e.OutputText.prototype.getTextString=function(){return this._textString},e.OutputText.prototype.setTextString=function(t){t=null!=t?e.StringUtils.trim(String(t)):"",e.OutputText.needsTextAnchorAdjustment()&&e.Agent.isPlatformIE()&&t.charAt(0)!=e.OutputText.BIDI_ZERO_WIDTH&&(t=e.OutputText.BIDI_ZERO_WIDTH+t),this._textString=t;var i=this.getElem().firstChild;return null!==i?i.nodeValue=t:(i=document.createTextNode(t),e.ToolkitUtils.appendChildElem(this.getElem(),i)),e.Agent.isPlatformIE()&&this.setX(this._x),this},e.OutputText.prototype.isTruncated=function(){return null!=this.getUntruncatedTextString()},e.OutputText.prototype.getUntruncatedTextString=function(){return this._untruncatedTextString},e.OutputText.prototype.setUntruncatedTextString=function(t){t!=this.getTextString()&&(this._untruncatedTextString=t)},e.OutputText.prototype.getX=function(){return(e.Agent.isPlatformIE()?this._x:this.GetProperty("x"))||0},e.OutputText.prototype.setX=function(t){return this._x=null!=t?t:0,e.Agent.isPlatformIE()?this.SetSvgProperty("x",this._x+this._getIEAlignmentOffset(),0):this.SetSvgProperty("x",t,0)},e.OutputText.prototype._getIEAlignmentOffset=function(){var t=this.getHorizAlignment(),i=e.Agent.isRightToLeft();return t==e.OutputText.H_ALIGN_LEFT?i?e.TextUtils.getTextStringWidth(this.getCtx(),this.getTextString(),this.getCSSStyle()):0:t==e.OutputText.H_ALIGN_CENTER?i?e.TextUtils.getTextStringWidth(this.getCtx(),this.getTextString(),this.getCSSStyle())/2:e.TextUtils.getTextStringWidth(this.getCtx(),this.getTextString(),this.getCSSStyle())/2*-1:t==e.OutputText.H_ALIGN_RIGHT?i?0:-1*e.TextUtils.getTextStringWidth(this.getCtx(),this.getTextString(),this.getCSSStyle()):void 0},e.OutputText.prototype.getY=function(){return this.GetProperty("y")||0},e.OutputText.prototype.setY=function(t){return this.SetSvgProperty("y",t,0)},e.OutputText.prototype.setFontSize=function(t){var i=this.getCSSStyle();(i=i?i.clone():new e.CSSStyle).setFontSize(e.CSSStyle.FONT_SIZE,String(t)),this.setCSSStyle(i)},e.OutputText.prototype.getHorizAlignment=function(){return this._horizAlign},e.OutputText.prototype.setHorizAlignment=function(t){t==e.OutputText.H_ALIGN_LEFT?this.alignLeft():t==e.OutputText.H_ALIGN_CENTER?this.alignCenter():t==e.OutputText.H_ALIGN_RIGHT&&this.alignRight()},e.OutputText.prototype.getVertAlignment=function(){return this._vertAlign},e.OutputText.prototype.setVertAlignment=function(t){t==e.OutputText.V_ALIGN_TOP?this.alignTop():t==e.OutputText.V_ALIGN_MIDDLE?this.alignMiddle():t==e.OutputText.V_ALIGN_BOTTOM?this.alignBottom():t==e.OutputText.V_ALIGN_AUTO&&this.alignAuto()},e.OutputText.prototype.alignLeft=function(){if(this._horizAlign!=e.OutputText.H_ALIGN_LEFT)if(this._horizAlign=e.OutputText.H_ALIGN_LEFT,e.Agent.isPlatformIE())this.setX(this._x);else{var t=e.OutputText.needsTextAnchorAdjustment();e.ToolkitUtils.setAttrNullNS(this.getElem(),"text-anchor",t?"end":"start","start")}},e.OutputText.prototype.alignCenter=function(){this._horizAlign!=e.OutputText.H_ALIGN_CENTER&&(this._horizAlign=e.OutputText.H_ALIGN_CENTER,e.Agent.isPlatformIE()?this.setX(this._x):e.ToolkitUtils.setAttrNullNS(this.getElem(),"text-anchor","middle","start"))},e.OutputText.prototype.alignRight=function(){if(this._horizAlign!=e.OutputText.H_ALIGN_RIGHT)if(this._horizAlign=e.OutputText.H_ALIGN_RIGHT,e.Agent.isPlatformIE())this.setX(this._x);else{var t=e.OutputText.needsTextAnchorAdjustment();e.ToolkitUtils.setAttrNullNS(this.getElem(),"text-anchor",t?"start":"end","start")}},e.OutputText.prototype.alignTop=function(){this._vertAlign!=e.OutputText.V_ALIGN_TOP&&(this._vertAlign==e.OutputText.V_ALIGN_BOTTOM&&e.Agent.isBrowserSafari()&&this._setBaseline(!1),this._vertAlign=e.OutputText.V_ALIGN_TOP,e.Agent.isPlatformIE()?this._setBaseline(!0):this.SetDominantBaselineAttr("text-before-edge"))},e.OutputText.prototype.alignMiddle=function(){this._vertAlign!=e.OutputText.V_ALIGN_MIDDLE&&(this._vertAlign==e.OutputText.V_ALIGN_BOTTOM&&e.Agent.isBrowserSafari()&&this._setBaseline(!1),this._vertAlign=e.OutputText.V_ALIGN_MIDDLE,e.Agent.isPlatformIE()?this._setBaseline(!0):this.SetDominantBaselineAttr("middle"))},e.OutputText.prototype.alignBottom=function(){this._vertAlign!=e.OutputText.V_ALIGN_BOTTOM&&(this._vertAlign=e.OutputText.V_ALIGN_BOTTOM,e.Agent.isPlatformIE()?this._setBaseline(!0):e.Agent.isBrowserSafari()?(this._setBaseline(!0),this.SetDominantBaselineAttr(null)):this.SetDominantBaselineAttr("text-after-edge"))},e.OutputText.prototype.alignAuto=function(){this._vertAlign!=e.OutputText.V_ALIGN_AUTO&&(this._vertAlign==e.OutputText.V_ALIGN_BOTTOM&&e.Agent.isBrowserSafari()&&this._setBaseline(!1),this._vertAlign=e.OutputText.V_ALIGN_AUTO,e.Agent.isPlatformIE()?this._setBaseline(!1):this.SetDominantBaselineAttr(null))},e.OutputText.prototype._setBaseline=function(t){this._baseline=t,this.setMatrix(this.getMatrix())},e.OutputText.prototype.SetDominantBaselineAttr=function(t){t?e.ToolkitUtils.setAttrNullNS(this.getElem(),"dominant-baseline",t):e.ToolkitUtils.removeAttrNullNS(this.getElem(),"dominant-baseline")},e.OutputText.prototype.setCSSStyle=function(t){e.OutputText.superclass.setCSSStyle.call(this,t);var i=this.getOuterElem();if(t){var n=t.getStyle("color"),o=e.ColorUtils.fixColorForPlatform(n);o&&o.color&&(e.ToolkitUtils.setAttrNullNS(i,"fill",o.color),null!=o.alpha&&e.ToolkitUtils.setAttrNullNS(i,"fill-opacity",o.alpha,1)),(n=t.getStyle("font-family"))&&!this.getCtx().isDefaultFontFamily(n)?e.ToolkitUtils.setAttrNullNS(i,"font-family",n):e.ToolkitUtils.removeAttrNullNS(i,"font-family"),(n=t.getStyle("font-size"))&&n!=this.getCtx().getDefaultFontSize()?(e.ToolkitUtils.setAttrNullNS(i,"font-size",n),(e.Agent.isPlatformIE()||e.Agent.isBrowserSafari())&&this.setMatrix(this.getMatrix())):e.ToolkitUtils.removeAttrNullNS(i,"font-size"),(n=t.getStyle("font-style"))&&e.ToolkitUtils.setAttrNullNS(i,"font-style",n),(n=t.getStyle("font-weight"))&&n!=this.getCtx().getDefaultFontWeight()?e.ToolkitUtils.setAttrNullNS(i,"font-weight",n):e.ToolkitUtils.removeAttrNullNS(i,"font-weight"),(n=t.getStyle("text-decoration"))&&e.ToolkitUtils.setAttrNullNS(i,"text-decoration",n),(n=t.getStyle("cursor"))&&e.ToolkitUtils.setAttrNullNS(i,"cursor",n),e.Agent.isPlatformIE()&&this.setX(this._x)}},e.OutputText.prototype._getBaselineTranslation=function(){if(this._baseline){if(this._textString&&!this._isRepresentativeText())return e.TextUtils.getBaselineTranslation(this);var t=this.getVertAlignment();if(t!=e.OutputText.V_ALIGN_AUTO){var i=e.ToolkitUtils.getAttrNullNS(this.getElem(),"font-size");if(i||(i=e.ToolkitUtils.getAttrNullNS(this.getOuterElem(),"font-size")),(!i||isNaN(i)&&-1==i.indexOf("px"))&&(i=e.StyleUtils.DEFAULT_FONT_SIZE),i=parseFloat(i),t==e.OutputText.V_ALIGN_TOP)return.8*i;if(t==e.OutputText.V_ALIGN_MIDDLE)return.3*i;if(t==e.OutputText.V_ALIGN_BOTTOM)return-.2*i}}return 0},e.OutputText.prototype._getBaselineAdjustedMatrix=function(t){if(this._baseline){t||(t=new e.Matrix);var i=new e.Matrix(null,null,null,null,null,this._getBaselineTranslation());i.concat(t),t=i}return t},e.OutputText.prototype.setMatrix=function(t){(e.Agent.isPlatformIE()||e.Agent.isBrowserSafari())&&(this._matrixForIE=t,t=this._getBaselineAdjustedMatrix(t)),e.OutputText.superclass.setMatrix.call(this,t)},e.OutputText.prototype.getMatrix=function(){var t=null;return(e.Agent.isPlatformIE()||e.Agent.isBrowserSafari())&&(t=this._matrixForIE),t||(t=e.OutputText.superclass.getMatrix.call(this)),t},e.OutputText.prototype._isRepresentativeText=function(){return this._textString==e.OutputText.REPRESENTATIVE_TEXT||this._textString==e.OutputText.BIDI_ZERO_WIDTH||this._textString==e.OutputText.BIDI_ZERO_WIDTH+e.OutputText.REPRESENTATIVE_TEXT},e.OutputText.prototype.GetSvgDimensions=function(){var t=e.OutputText.superclass.GetSvgDimensions.call(this);return t&&(t.y+=this._getBaselineTranslation(),this._isRepresentativeText()||(t.h=e.TextUtils.getTextStringHeight(this.getCtx(),this.getCSSStyle()))),t},e.OutputText.prototype.UpdateSelectionEffect=function(){},e.OutputText.prototype.getDimensions=function(t){var i=this.getHorizAlignment(),n=this.getVertAlignment(),o=e.TextUtils.getTextStringDimensions(this.getCtx(),this.getTextString(),this.getCSSStyle());return o.x=this.getX(),i===e.OutputText.H_ALIGN_RIGHT?o.x-=o.w:i===e.OutputText.H_ALIGN_CENTER&&(o.x-=o.w/2),n===e.OutputText.V_ALIGN_TOP?o.y=this.getY():n===e.OutputText.V_ALIGN_BOTTOM?o.y=this.getY()-o.h:n===e.OutputText.V_ALIGN_MIDDLE?o.y=this.getY()-o.h/2:n===e.OutputText.V_ALIGN_AUTO&&(o.y+=this.getY()),t&&t!==this?this.ConvertCoordSpaceRect(o,t):o},e.OutputText.prototype.copyShape=function(){var t=new e.OutputText(this.getCtx(),this.getTextString(),this.getX(),this.getY());return t.setCSSStyle(this.getCSSStyle()),t.setHorizAlignment(this.getHorizAlignment()),t.setVertAlignment(this.getVertAlignment()),t},e.OutputText.prototype.addChild=function(t){e.Agent.isEnvironmentTest()&&(print("dvt.OutputText.prototype.addChild: Text should not be used as a shape container."),null.errorShouldOccurDueToInvalidAddChild())},e.OutputText.needsTextAnchorAdjustment=function(){return e.Agent.isRightToLeft()&&!e.Agent.isEnvironmentBatik()},e.BackgroundOutputText=function(t,e,i,n,o,r){this.Init(t,e,i,n,o,r)},e.Obj.createSubclass(e.BackgroundOutputText,e.Container),e.BackgroundOutputText._PADDING=.15,e.BackgroundOutputText.prototype.Init=function(t,i,n,o,r,s){e.BackgroundOutputText.superclass.Init.call(this,t,"g",s),this.TextInstance=this.CreateTextInstance(t,i,n,o,s),this._backgroundRect=null,r&&this.setCSSStyle(r),this.addChild(this.TextInstance)},e.BackgroundOutputText.prototype.getTextString=function(){return this.TextInstance.getTextString()},e.BackgroundOutputText.prototype.setTextString=function(t){return this.TextInstance.setTextString(t),this},e.BackgroundOutputText.prototype.isTruncated=function(){return this.TextInstance.isTruncated()},e.BackgroundOutputText.prototype.getUntruncatedTextString=function(){return this.TextInstance.getUntruncatedTextString()},e.BackgroundOutputText.prototype.setUntruncatedTextString=function(t){this.TextInstance.setUntruncatedTextString(t)},e.BackgroundOutputText.prototype.getX=function(){return this.TextInstance.getX()},e.BackgroundOutputText.prototype.setX=function(t){return this.TextInstance=this.TextInstance.setX(t),this._realignBackground(),this},e.BackgroundOutputText.prototype.getY=function(){return this.TextInstance.getY()},e.BackgroundOutputText.prototype.setY=function(t){return this.TextInstance=this.TextInstance.setY(t),this._realignBackground(),this},e.BackgroundOutputText.prototype.setFontSize=function(t){this.TextInstance.setFontSize(t),this._style.setFontSize(e.CSSStyle.FONT_SIZE,String(t)),this._realignBackground()},e.BackgroundOutputText.prototype.getHorizAlignment=function(){return this.TextInstance.getHorizAlignment()},e.BackgroundOutputText.prototype.setHorizAlignment=function(t){this.TextInstance.setHorizAlignment(t),this._realignBackground()},e.BackgroundOutputText.prototype.getVertAlignment=function(){return this.TextInstance.getVertAlignment()},e.BackgroundOutputText.prototype.setVertAlignment=function(t){this.TextInstance.setVertAlignment(t),this._realignBackground()},e.BackgroundOutputText.prototype.alignLeft=function(){this.TextInstance.alignLeft(),this._realignBackground()},e.BackgroundOutputText.prototype.alignCenter=function(){this.TextInstance.alignCenter(),this._realignBackground()},e.BackgroundOutputText.prototype.alignRight=function(){this.TextInstance.alignRight(),this._realignBackground()},e.BackgroundOutputText.prototype.alignTop=function(){this.TextInstance.alignTop(),this._realignBackground()},e.BackgroundOutputText.prototype.alignMiddle=function(){this.TextInstance.alignMiddle(),this._realignBackground()},e.BackgroundOutputText.prototype.alignBottom=function(){this.TextInstance.alignBottom(),this._realignBackground()},e.BackgroundOutputText.prototype.alignAuto=function(){this.TextInstance.alignAuto(),this._realignBackground()},e.BackgroundOutputText.prototype.setCSSStyle=function(t){t.getStyle(e.CSSStyle.BACKGROUND_COLOR)&&!t.getStyle(e.CSSStyle.COLOR)&&t.setStyle(e.CSSStyle.COLOR,e.ColorUtils.getContrastingTextColor(t.getStyle(e.CSSStyle.BACKGROUND_COLOR))),this.TextInstance&&this.TextInstance.setCSSStyle(t),(this._backgroundRect||e.BackgroundOutputText._hasBackgroundStyles(t))&&(this._backgroundRect||(this._backgroundRect=this.CreateBackground(this.getCtx(),this.TextInstance),this.addChildAt(this._backgroundRect,0)),this._setBackgroundCSSStyle(this._backgroundRect,t)),this._style=t},e.BackgroundOutputText.prototype.getCSSStyle=function(){return this._style},e.BackgroundOutputText.prototype.setMatrix=function(t){this.TextInstance.setMatrix(t),this._backgroundRect&&this._backgroundRect.setMatrix(t)},e.BackgroundOutputText.prototype.getMatrix=function(){return this.TextInstance.getMatrix()},e.BackgroundOutputText.prototype.getTextDimensions=function(t){return this.TextInstance.getDimensions(t)},e.BackgroundOutputText.prototype.getDimensions=function(t){var i=this.TextInstance.getDimensions(),n=i.h*e.BackgroundOutputText._PADDING;return i.x-=n,i.w+=2*n,this.ConvertCoordSpaceRect(i,t)},e.BackgroundOutputText.prototype.getDimensionsWithStroke=function(){return this.GetElemDimensionsWithStroke()},e.BackgroundOutputText.prototype.GetDimensionsWithStroke=function(t){var e=this.GetElemDimensionsWithStroke();return t&&t!==this?this.ConvertCoordSpaceRect(e,t):e},e.BackgroundOutputText.prototype.GetElemDimensionsWithStroke=function(){var t=this.getDimensions(),e=(this._backgroundRect?this._backgroundRect:this.TextInstance).getStroke();if(t&&e){var i=e.getWidth();if(i){var n=.5*i;t.x-=n,t.y-=n,t.w+=i,t.h+=i}}return t},e.BackgroundOutputText.prototype.copyShape=function(){return this.TextInstance.copyShape()},e.BackgroundOutputText.needsTextAnchorAdjustment=function(t){return this.TextInstance.needsTextAnchorAdjustment(t)},e.BackgroundOutputText.prototype.CreateTextInstance=function(t,i,n,o,r){return new e.OutputText(t,i,n,o,r)},e.BackgroundOutputText.prototype.CreateBackground=function(t,i){var n=i.getDimensions(),o=n.h*e.BackgroundOutputText._PADDING;return new e.Rect(t,n.x-o,n.y,n.w+2*o,n.h)},e.BackgroundOutputText.prototype._realignBackground=function(){if(this._backgroundRect){var t=this.TextInstance.getDimensions(),i=.15*t.h,n=this.getHorizAlignment(),o=this.getVertAlignment();n==e.OutputText.H_ALIGN_LEFT?this._backgroundRect.setX(this.getX()-i):n==e.OutputText.H_ALIGN_CENTER?this._backgroundRect.setX(this.getX()-.5*t.w-i):n==e.OutputText.H_ALIGN_RIGHT&&this._backgroundRect.setX(this.getX()-t.w-i);var r=parseFloat(this._style.getFontSize());isNaN(r)&&(r=0);var s=0;(e.Agent.isBrowserChrome()||e.Agent.isEnvironmentTest())&&o==e.OutputText.V_ALIGN_MIDDLE?s=.12*r:e.Agent.isPlatformIE()&&o==e.OutputText.V_ALIGN_BOTTOM&&(s=.4*-r);var a=this.GetTextDimensionsForRealign(t);o==e.OutputText.V_ALIGN_TOP?this._backgroundRect.setY(this.getY()):o==e.OutputText.V_ALIGN_MIDDLE?this._backgroundRect.setY(this.getY()-.5*a-s):o==e.OutputText.V_ALIGN_BOTTOM?this._backgroundRect.setY(this.getY()-a-s):o==e.OutputText.V_ALIGN_AUTO&&this._backgroundRect.setY(t.y),this._backgroundRect.setWidth(t.w+2*i),this._backgroundRect.setHeight(t.h)}},e.BackgroundOutputText.prototype._setBackgroundCSSStyle=function(t,i){if(i){var n=i.getStyle(e.CSSStyle.BACKGROUND_COLOR);null!=n?t.setSolidFill(n):t.setInvisibleFill();var o=i.getStyle(e.CSSStyle.BORDER_COLOR),r=i.getStyle(e.CSSStyle.BORDER_WIDTH),s=i.getStyle(e.CSSStyle.BORDER_RADIUS);if(o||r||s){var a=new e.CSSStyle;a.setStyle(e.CSSStyle.BORDER_COLOR,o),a.setStyle(e.CSSStyle.BORDER_WIDTH,r),a.setStyle(e.CSSStyle.BORDER_RADIUS,s),t.setCSSStyle(a)}}else t.setInvisibleFill();t.setMouseEnabled(!1)},e.BackgroundOutputText.prototype.GetTextDimensionsForRealign=function(t){return t.h},e.BackgroundOutputText._hasBackgroundStyles=function(t){return!!t&&t.hasBackgroundStyles()},e.BackgroundOutputText.prototype.includeChildSubtree=function(){return!1},e.MultilineText=function(t,e,i,n,o,r){this.Init(t,e,i,n,o,r)},e.Obj.createSubclass(e.MultilineText,e.Container),e.MultilineText._LINE_SPACE=0,e.MultilineText.H_ALIGN_LEFT="left",e.MultilineText.H_ALIGN_CENTER="center",e.MultilineText.H_ALIGN_RIGHT="right",e.MultilineText.V_ALIGN_TOP="top",e.MultilineText.V_ALIGN_MIDDLE="middle",e.MultilineText.V_ALIGN_BOTTOM="bottom",e.MultilineText.prototype.Init=function(t,i,n,o,r,s){e.MultilineText.superclass.Init.call(this,t,null,r),this._textInstance=null,this._additionalLines=[],this._lineHeight=null,this._yCoord=null,this._noWrap=!1,this._preserveNewLine=s||!1,this._preservedLines=[],this.setTextString(i),this.setX(n||0),this.setY(o||0),this.setMaxLines(1/0)},e.MultilineText.prototype.getTextString=function(){return this._textString},e.MultilineText.prototype.setTextString=function(t){this._textString=null!=t?String(t):null,this._textInstance?(this._textInstance.setTextString(t),this._removeAdditionalLines()):(this._textInstance=new e.OutputText(this.getCtx(),this._textString),this.addChild(this._textInstance)),this._preserveNewLine&&(this._generatePreservedLines(),this.wrapText(1/0,1/0,1,!1)),this._bTruncated=!1},e.MultilineText.prototype._getTextLines=function(){var t=this._additionalLines.slice();return this._textInstance.getParent()==this&&t.unshift(this._textInstance),t},e.MultilineText.prototype.getX=function(){return this._textInstance.getX()},e.MultilineText.prototype.setX=function(t){return e.ArrayUtils.forEach(this._getTextLines(),function(e){e.setX(t)}),this},e.MultilineText.prototype.getY=function(){return this._textInstance.getY()},e.MultilineText.prototype.getYAlignCoord=function(){return this._yCoord},e.MultilineText.prototype.setY=function(t){if(this._yCoord=t,this._vertAlign)this._alignVerticalText();else{var i=t-this._textInstance.getY();i||(i=t),e.ArrayUtils.forEach(this._getTextLines(),function(t){var e=t.getY();t.setY(e?e+i:i)})}return this},e.MultilineText.prototype.getMaxLines=function(){return this.GetProperty("maxLines")},e.MultilineText.prototype.setMaxLines=function(t){if(t>0)return this.SetProperty("maxLines",t)},e.MultilineText.prototype.isTruncated=function(){return this._bTruncated},e.MultilineText.prototype.getHorizAlignment=function(){return this._textInstance.getHorizAlignment()},e.MultilineText.prototype.setHorizAlignment=function(t){return e.ArrayUtils.forEach(this._getTextLines(),function(e){e.setHorizAlignment(t)}),this},e.MultilineText.prototype.alignLeft=function(){this._horizAlign!=e.MultilineText.H_ALIGN_LEFT&&(this._horizAlign=e.MultilineText.H_ALIGN_LEFT,e.ArrayUtils.forEach(this._getTextLines(),function(t){t.alignLeft()}))},e.MultilineText.prototype.alignCenter=function(){this._horizAlign!=e.MultilineText.H_ALIGN_CENTER&&(this._horizAlign=e.MultilineText.H_ALIGN_CENTER,e.ArrayUtils.forEach(this._getTextLines(),function(t){t.alignCenter()}))},e.MultilineText.prototype.alignRight=function(){this._horizAlign!=e.MultilineText.H_ALIGN_RIGHT&&(this._horizAlign=e.MultilineText.H_ALIGN_RIGHT,e.ArrayUtils.forEach(this._getTextLines(),function(t){t.alignRight()}))},e.MultilineText.prototype.alignTop=function(){this._vertAlign!=e.MultilineText.V_ALIGN_TOP&&(this._vertAlign=e.MultilineText.V_ALIGN_TOP,this._alignVerticalText(),e.ArrayUtils.forEach(this._getTextLines(),function(t){t.alignTop()}))},e.MultilineText.prototype.alignMiddle=function(){this._vertAlign!=e.MultilineText.V_ALIGN_MIDDLE&&(this._vertAlign=e.MultilineText.V_ALIGN_MIDDLE,this._alignVerticalText(),e.ArrayUtils.forEach(this._getTextLines(),function(t){t.alignMiddle()}))},e.MultilineText.prototype.alignBottom=function(){this._vertAlign!=e.MultilineText.V_ALIGN_BOTTOM&&(this._vertAlign=e.MultilineText.V_ALIGN_BOTTOM,this._alignVerticalText(),e.ArrayUtils.forEach(this._getTextLines(),function(t){t.alignBottom()}))},e.MultilineText.prototype._alignVerticalText=function(){if(this._vertAlign)for(var t=this.getYAlignCoord(),i=this.getLineCount(),n=this.getLineHeight(),o=this._getTextLines(),r=0,s=0;s<o.length;s++){var a=o[s];this._vertAlign==e.MultilineText.V_ALIGN_TOP?r=n*s:this._vertAlign==e.MultilineText.V_ALIGN_MIDDLE?r=n*s-n*(i-1)/2:this._vertAlign==e.MultilineText.V_ALIGN_BOTTOM&&(r=-n*(i-s-1)),a.setY(t+r)}},e.MultilineText.prototype.getCSSStyle=function(){return this._textInstance.getCSSStyle()},e.MultilineText.prototype.setCSSStyle=function(t){return this._lineHeight=null,
e.ArrayUtils.forEach(this._getTextLines(),function(e){e.setCSSStyle(t)}),this},e.MultilineText.prototype.copyShape=function(){var t=new e.MultilineText(this.getCtx(),this.getTextString(),this.getX(),this.getY());return t.setCSSStyle(this.getCSSStyle()).setHorizAlignment(this.getHorizAlignment()).setMaxLines(this.getMaxLines()),t},e.MultilineText.prototype._removeAdditionalLines=function(){for(var t=0;t<this._additionalLines.length;t++)this.removeChild(this._additionalLines[t]);this._additionalLines=[]},e.MultilineText.prototype._generatePreservedLines=function(){if(this._preserveNewLine){this._preservedLines=[];var t=this.getTextString().split(/\n+/),e=this._textInstance,i=null;this._preservedLines.push(e);for(var n=0;n<t.length;n++)if(i=t[n].replace(/\s+/g," "),e.setTextString(i),n<t.length-1){var o=e.copyShape();this._preservedLines.push(o),e=o}}},e.MultilineText.prototype.__fitText=function(t,i,n){if(!this._preserveNewLine){if(this._textInstance.setTextString(this.getTextString()),this._removeAdditionalLines(),!e.TextUtils.fitText(this._textInstance,t,i,this,n))return this.getParent().removeChild(this),!1;if(!this._textInstance.isTruncated())return!0;if(!this.isWrapEnabled())return!0}return this.wrapText(t,i,n,!1)},e.MultilineText.prototype.wrapText=function(t,i,n,o){this.getLineCount()>1&&this._removeAdditionalLines();var r=this.getLineHeight(),s=r*e.MultilineText._LINE_SPACE,a=this.getMaxLines(),l=Math.min(i,a*(r+s)-s)-r-s;if(this._preserveNewLine){for(var h=!1,u=null,c=0;c<this._preservedLines.length;c++){var p=this._preservedLines[c];if(l<s+r)return this._bTruncated=!0,h;if(e.TextUtils.fitText(p,t,1/0,this,n)){if(h=!0,l-=s+r,p.isTruncated()&&!this.isTruncated()&&(this._bTruncated=!0),c>0){this._additionalLines.push(p);var _=u?u.getY()+s+r:this.getY();p.setY(_),this.addChild(p)}u=p}}return h}p=this._textInstance;var g=null,d=this.getTextString().split(/\s+/);d.reverse();for(var S=!0;d.length>0;){var f=d.pop(),y=g?g+" "+f:f;if(p.setTextString(y),p.setUntruncatedTextString(null),!e.TextUtils.fitText(p,t,1/0,this,n,!0))return!S;if(p.isTruncated()){if(l<s+r)return this._bTruncated=!0,!0;if(g)p.setTextString(g),d.push(f);else{if(o)return this._textInstance.setTextString(this.getTextString()),this._removeAdditionalLines(),!1;this._bTruncated=!0}if(d.length>0){var E=p.copyShape();E.setY(p.getY()+s+r),this.addChild(E),this._additionalLines.push(E),p=E,g=null,l-=s+r}}else g=y;S=!1}return!0},e.MultilineText.prototype.GetSvgDimensions=function(t){var i=this._getTextLines();if(0==i.length)return new e.Rectangle(0,0,0,0);var n=new e.Rectangle(1/0,1/0,0,0);return e.ArrayUtils.forEach(i,function(t){var e=t.getDimensions();n.x=Math.min(n.x,e.x),n.y=Math.min(n.y,e.y),n.w=Math.max(n.w,e.w),n.h+=e.h}),this.ConvertCoordSpaceRect(n,t)},e.MultilineText.prototype.getLineCount=function(){return this._additionalLines.length+1},e.MultilineText.prototype.getLineHeight=function(){return this._lineHeight||(this._lineHeight=e.TextUtils.getTextStringHeight(this.getCtx(),this.getCSSStyle())),this._lineHeight},e.MultilineText.prototype.setWrapEnabled=function(t){0==t&&(this._textInstance.getParent()!=this&&this.addChild(this._textInstance),this._textInstance.getTextString()||this._textInstance.setTextString(this.getTextString()),this._removeAdditionalLines()),this._noWrap=!t},e.MultilineText.prototype.isWrapEnabled=function(){return 0==this._noWrap},e.MultilineText.prototype.getUntruncatedTextString=function(){return this.isTruncated()?this.getTextString():null},e.MultilineText.prototype.setUntruncatedTextString=function(t){},e.MultilineText.prototype.getDimensions=function(t){return this.GetSvgDimensions(t)},e.MultilineText.prototype.UpdateSelectionEffect=function(){},e.MultilineText.prototype.getHorizAlignment=function(){return this._horizAlign},e.MultilineText.prototype.setHorizAlignment=function(t){t==e.MultilineText.H_ALIGN_LEFT?this.alignLeft():t==e.MultilineText.H_ALIGN_CENTER?this.alignCenter():t==e.MultilineText.H_ALIGN_RIGHT&&this.alignRight()},e.MultilineText.prototype.getVertAlignment=function(){return this._vertAlign},e.MultilineText.prototype.setVertAlignment=function(t){t==e.MultilineText.V_ALIGN_TOP?this.alignTop():t==e.MultilineText.V_ALIGN_MIDDLE?this.alignMiddle():t==e.MultilineText.V_ALIGN_BOTTOM&&this.alignBottom()},e.BackgroundMultilineText=function(t,e,i,n,o,r,s){this.Init(t,e,i,n,o,r,s)},e.Obj.createSubclass(e.BackgroundMultilineText,e.BackgroundOutputText),e.BackgroundMultilineText.prototype.Init=function(t,i,n,o,r,s,a){this._preserveNewLine=a||!1,e.BackgroundMultilineText.superclass.Init.call(this,t,i,n,o,r,s)},e.BackgroundMultilineText.prototype.wrapText=function(t,e,i,n){return this.TextInstance.wrapText(t,e,i,n)},e.BackgroundMultilineText.prototype.CreateTextInstance=function(t,i,n,o,r){return new e.MultilineText(t,i,n,o,r,this._preserveNewLine)},e.BackgroundMultilineText.prototype.GetTextDimensionsForRealign=function(){return this.getLineHeight()},e.BackgroundMultilineText.prototype.getDimensions=function(t){var i=this.TextInstance.getDimensions(),n=i.h*e.BackgroundOutputText._PADDING/this.getLineCount();return i.x-=n,i.w+=2*n,this.ConvertCoordSpaceRect(i,t)},e.BackgroundMultilineText.prototype.__fitText=function(t,e,i){return this.TextInstance.__fitText(t,e,i)},e.BackgroundMultilineText.prototype._getTextLines=function(){return this.TextInstance._getTextLines()},e.BackgroundMultilineText.prototype.getLineHeight=function(){return this.TextInstance.getLineHeight()},e.BackgroundMultilineText.prototype.getLineCount=function(){return this.TextInstance.getLineCount()},e.BackgroundMultilineText.prototype.getYAlignCoord=function(){return this.TextInstance.getYAlignCoord()},e.BackgroundMultilineText.prototype.setWrapEnabled=function(t){this.TextInstance.setWrapEnabled(t)},e.BackgroundMultilineText.prototype.isWrapEnabled=function(){return this.TextInstance.isWrapEnabled()},e.BackgroundMultilineText.prototype.UpdateSelectionEffect=function(){},e.Use=function(t,e,i,n,o){this.Init(t,e,i,n,o)},e.Obj.createSubclass(e.Use,e.Displayable),e.Use._uniqueSeed=0,e.Use.prototype.Init=function(t,i,n,o,r){e.Use.superclass.Init.call(this,t,"use",r);var s=o.getId();if(s||(s="use"+e.Use._uniqueSeed++,o.setId(s)),t.existsGlobalDefReference(s))t.increaseGlobalDefReference(s);else{var a=o.getElem();e.ToolkitUtils.setAttrNullNS(a,"id",s),t.appendDefs(a),t.increaseGlobalDefReference(s)}this._targetId=s,e.ToolkitUtils.setHref(this._elem,e.ToolkitUtils.getUrlPathById(s)),this.setX(i).setY(n)},e.Use.prototype.getX=function(){return this.GetProperty("x")},e.Use.prototype.setX=function(t){return this.SetSvgProperty("x",t,0)},e.Use.prototype.getY=function(){return this.GetProperty("y")},e.Use.prototype.setY=function(t){return this.SetSvgProperty("y",t,0)},e.Use.prototype.destroy=function(){this.getCtx().decreaseGlobalDefReference(this._targetId),e.Use.superclass.destroy.call(this)},e.StyleUtils={},e.Obj.createSubclass(e.StyleUtils,e.Obj),e.StyleUtils.DEFAULT_FONT_FAMILY="Tahoma,Verdana,Helvetica,sans-serif",e.StyleUtils.DEFAULT_FONT_SIZE="11px",e.StyleUtils.DEFAULT_FONT_COLOR="black",e.StyleUtils.getStyle=function(t,e,i){return t&&null!==t[e]&&void 0!==t[e]?t[e]:i},e.StyleUtils.setStyle=function(t,e,i){t&&null!=i&&(t[e]=i)},e.StyleUtils.getShadow=function(t){var i=null;if(null!=t&&"none"!=t){var n,o=0,r=0,s=0,a=t.replace(/, /g,",").split(" ");if(null==t.match(/rgb/i)&&(a[a.length]="rgba(0, 0, 0, 0.2)"),a.length<3)return null;for(var l=0;l<a.length;l++)0==l?o=parseInt(a[0]):1==l?r=parseInt(a[1]):2==l&&null==a[l].match(/rgb/i)?s=parseInt(a[l]):a[l].match(/rgb/i)&&(n=a[l]);var h=Math.sqrt(o*o+r*r),u=180*Math.atan2(r,o)/Math.PI;i=new e.Shadow(n,h,s,s,u,1,3,!1,!1,!1)}return i},e.StyleUtils.getTimeMilliseconds=function(t){return"string"==typeof t&&(t="ms"==t.slice(-2)?parseInt(t.slice(0,-2)):"s"==t.slice(-1)?1e3*parseFloat(t.slice(0,-1)):parseInt(t)),t},e.CSSGradient=function(t){this.Init(t)},e.Obj.createSubclass(e.CSSGradient,e.Obj),e.CSSGradient.LINEAR=0,e.CSSGradient.RADIAL=1,e.CSSGradient.prototype.Init=function(t){this._type=t},e.CSSGradient.prototype.getGradientType=function(){return this._type},e.CSSGradient.prototype.getAlphas=function(){return this._arAlphas},e.CSSGradient.prototype.setAlphas=function(t){this._arAlphas=t},e.CSSGradient.prototype.getColors=function(){return this._arColors},e.CSSGradient.prototype.setColors=function(t){this._arColors=t},e.CSSGradient.prototype.getRatios=function(){return this._arRatios},e.CSSGradient.prototype.setRatios=function(t){this._arRatios=t};var A=function(){this.Init()};e.Obj.createSubclass(A,e.CSSGradient),A.LEFT=0,A.BOTTOM_LEFT=45,A.BOTTOM=90,A.BOTTOM_RIGHT=135,A.RIGHT=180,A.TOP_RIGHT=225,A.TOP=270,A.TOP_LEFT=315,A.prototype.Init=function(){A.superclass.Init.call(this,e.CSSGradient.LINEAR)},A.prototype.getAngle=function(){return this._angle},A.prototype.setAngle=function(t){this._angle=t},e.GradientParser=function(){},e.Obj.createSubclass(e.GradientParser,e.Obj),e.GradientParser.WEBKIT_GD_LINEAR="-webkit-linear-gradient",e.GradientParser.FIREFOX_GD_LINEAR="-moz-linear-gradient",e.GradientParser.IE_GD_LINEAR="progid:DXImageTransform.Microsoft.gradient",e.GradientParser.IE_GD_LINEAR2="progid:DXImageTransform.Microsoft.Gradient",e.GradientParser.IE7_GD_FILTER="filter",e.GradientParser.IE8_GD_FILTER="-ms-filter",e.GradientParser.IE10_GD_LINEAR="-ms-linear-gradient",e.GradientParser.IE_GD_START_COLOR_STR="startColorstr",e.GradientParser.IE_GD_END_COLOR_STR="endColorstr",e.GradientParser.IE_GD_GRADIENT_TYPE="GradientType",e.GradientParser.OLD_WEBKIT_GD_LINEAR="-webkit-gradient",e.GradientParser.GD_LINEAR="linear-gradient",e.GradientParser.GD_RADIAL="radial-gradient",e.GradientParser.GD_TOP="top",e.GradientParser.GD_BOTTOM="bottom",e.GradientParser.GD_LEFT="left",e.GradientParser.GD_RIGHT="right",e.GradientParser.GD_CENTER="center",e.GradientParser.GD_TO="to",e.GradientParser.parseCSSGradient=function(t){if(null!=t){if(t=e.StringUtils.trim(t),e.GradientParser._startsWith(t,e.GradientParser.WEBKIT_GD_LINEAR))return t=e.GradientParser._removeParenthesis(t,e.GradientParser.WEBKIT_GD_LINEAR),e.GradientParser._parseLinearGradient(t);if(e.GradientParser._startsWith(t,e.GradientParser.FIREFOX_GD_LINEAR))return t=e.GradientParser._removeParenthesis(t,e.GradientParser.FIREFOX_GD_LINEAR),e.GradientParser._parseLinearGradient(t);if(e.GradientParser._startsWith(t,e.GradientParser.IE_GD_LINEAR))return t=e.GradientParser._removeParenthesis(t,e.GradientParser.IE_GD_LINEAR),e.GradientParser._parseIELinearGradient(t);if(e.GradientParser._startsWith(t,e.GradientParser.IE_GD_LINEAR2))return t=e.GradientParser._removeParenthesis(t,e.GradientParser.IE_GD_LINEAR2),e.GradientParser._parseIELinearGradient(t);if(e.GradientParser._startsWith(t,e.GradientParser.IE10_GD_LINEAR))return t=e.GradientParser._removeParenthesis(t,e.GradientParser.IE10_GD_LINEAR),e.GradientParser._parseLinearGradient(t);if(e.GradientParser._startsWith(t,e.GradientParser.GD_LINEAR))return t=e.GradientParser._removeParenthesis(t,e.GradientParser.GD_LINEAR),e.GradientParser._parseLinearGradient(t)}return null},e.GradientParser._parseLinearGradient=function(t){var i=new RegExp("(-?(?:\\d*\\.)?\\d+)"),n=new RegExp("(deg|rad|grad|turn)"),o=new RegExp("(left|right)"),r=new RegExp("(top|bottom)"),s=new RegExp("(?:(to)\\s+)"),a=new RegExp("(?:"+i.source+n.source+")"),l=new RegExp("(?:"+o.source+"(?:\\s+"+r.source+")?)"),h=new RegExp("(?:"+r.source+"(?:\\s+"+o.source+")?)"),u=new RegExp("(?:"+l.source+"|"+h.source+")"),c=new RegExp("(?:"+a.source+"|(?:"+s.source+"?"+u.source+"))"),p=new RegExp("(?:\\s*"+c.source+"\\s*,\\s*)","i"),_=t.match(p);if(null==_||0==_.length)return null;_.length;var g=new A,d=_[5]==e.GradientParser.GD_TOP||_[6]==e.GradientParser.GD_TOP,S=_[5]==e.GradientParser.GD_BOTTOM||_[6]==e.GradientParser.GD_BOTTOM,f=_[4]==e.GradientParser.GD_LEFT||_[7]==e.GradientParser.GD_LEFT,y=_[4]==e.GradientParser.GD_RIGHT||_[7]==e.GradientParser.GD_RIGHT;return _[3]==e.GradientParser.GD_TO&&((d||S)&&(d=!d,S=!S),(f||y)&&(f=!f,y=!y)),d?f?g.setAngle(A.TOP_LEFT):y?g.setAngle(A.TOP_RIGHT):g.setAngle(A.TOP):S?f?g.setAngle(A.BOTTOM_LEFT):y?g.setAngle(A.BOTTOM_RIGHT):g.setAngle(A.BOTTOM):f?g.setAngle(A.LEFT):y?g.setAngle(A.RIGHT):_[2]&&(a=parseFloat(_[1]),isNaN(a)||("grad"==_[2]?a=a/200*180:"rad"==_[2]?a=a/Math.PI*180:"turn"==_[2]&&(a=a/.5*180),g.setAngle(a))),t=t.substring(_[0].length),e.GradientParser._parseCSSColorStops(t,g),g},e.GradientParser._parseIELinearGradient=function(t){var i,n=t.split(","),o=n.length,r=[],s=new A;s.setAngle(A.TOP);for(var a=0;a<o;a++)2==(i=e.StringUtils.trim(n[a]).split("=")).length&&(i[0]=e.StringUtils.trim(i[0]),i[0]==e.GradientParser.IE_GD_START_COLOR_STR?r[0]=e.GradientParser.removeQuotes(i[1],e.CSSStyle.SINGLE_QUOTE):i[0]==e.GradientParser.IE_GD_END_COLOR_STR?r[1]=e.GradientParser.removeQuotes(i[1],e.CSSStyle.SINGLE_QUOTE):i[0]==e.GradientParser.IE_GD_GRADIENT_TYPE&&"1"==i[1]&&s.setAngle(A.LEFT));return e.GradientParser._parseColorStops(r,s),s},e.GradientParser._parseCSSColorStops=function(t,i){var n=t.match(/(#[0-9a-f]+|rgb\(\s*(\d+),\s*(\d+),\s*(\d+)\s*\)|rgba\(\s*(\d+),\s*(\d+),\s*(\d+),\s*(\d?)(\.\d+)?\s*\)|[a-z]+)(\s+\d+\.?\d*%)?/gi);null!=n&&n.length>0&&e.GradientParser._parseColorStops(n,i)},e.GradientParser._parseColorStops=function(t,i){for(var n,o,r,s=t.length,a=[],l=[],h=[],u=!0,c=[],p=0;p<t.length;p++)r=e.CSSStyle.parseBorderColor(t[p],c),n=c.pop(),l[p]=n,a[p]=e.ColorUtils.getAlpha(n),(r=e.StringUtils.trim(r)).length>0&&(o=parseFloat(r),isNaN(o)||e.StringUtils.endsWith(r,"%")&&(h[p]=o/100,u=!1));if(s>1&&u)for(var _=0;_<s;_++)h[_]=_/(s-1);else u&&(h[0]=0);i.setColors(l),i.setAlphas(a),i.setRatios(h)},e.GradientParser._removeParenthesis=function(t,i){return")"!=t.charAt(t.length-1)?null:(t=t.substring(i.length),e.GradientParser.removeQuotes(t,"(",")"))},e.GradientParser.removeQuotes=function(t,i,n){if((t=e.StringUtils.trim(t)).charAt(0)!=i)return t;null==n&&(n=i);var o=t.lastIndexOf(n);return o<0?t.substring(1):t.substring(1,o)},e.GradientParser._startsWith=function(t,e){return 0==t.indexOf(e)},e.CSSStyle=function(t){this.Init(t)},e.Obj.createSubclass(e.CSSStyle,e.Obj),e.CSSStyle.SKIN_FUSION="fusion",e.CSSStyle.SKIN_SKYROS="skyros",e.CSSStyle.SKIN_ALTA="alta",e.CSSStyle.SKIN_NEXT="next",e.CSSStyle.BACKGROUND="background",e.CSSStyle.BACKGROUND_COLOR="background-color",e.CSSStyle.BACKGROUND_IMAGE="background-image",e.CSSStyle.BACKGROUND_REPEAT="background-repeat",e.CSSStyle.BACKGROUND_POSITION="background-position",e.CSSStyle.BORDER="border",e.CSSStyle.BORDER_TOP="border-top",e.CSSStyle.BORDER_BOTTOM="border-bottom",e.CSSStyle.BORDER_LEFT="border-left",e.CSSStyle.BORDER_RIGHT="border-right",e.CSSStyle.BORDER_WIDTH="border-width",e.CSSStyle.BORDER_TOP_WIDTH="border-top-width",e.CSSStyle.BORDER_BOTTOM_WIDTH="border-bottom-width",e.CSSStyle.BORDER_LEFT_WIDTH="border-left-width",e.CSSStyle.BORDER_RIGHT_WIDTH="border-right-width",e.CSSStyle.BORDER_COLOR="border-color",e.CSSStyle.BORDER_TOP_COLOR="border-top-color",e.CSSStyle.BORDER_BOTTOM_COLOR="border-bottom-color",e.CSSStyle.BORDER_LEFT_COLOR="border-left-color",e.CSSStyle.BORDER_RIGHT_COLOR="border-right-color",e.CSSStyle.BORDER_STYLE="border-style",e.CSSStyle.BORDER_RADIUS="border-radius",e.CSSStyle.BORDER_TOP_LEFT_RADIUS="border-top-left-radius",e.CSSStyle.BORDER_TOP_RIGHT_RADIUS="border-top-right-radius",e.CSSStyle.BORDER_BOTTOM_RIGHT_RADIUS="border-bottom-right-radius",e.CSSStyle.BORDER_BOTTOM_LEFT_RADIUS="border-bottom-left-radius",e.CSSStyle.MARGIN="margin",e.CSSStyle.MARGIN_TOP="margin-top",e.CSSStyle.MARGIN_BOTTOM="margin-bottom",e.CSSStyle.MARGIN_LEFT="margin-left",e.CSSStyle.MARGIN_RIGHT="margin-right",e.CSSStyle.PADDING="padding",e.CSSStyle.PADDING_TOP="padding-top",e.CSSStyle.PADDING_BOTTOM="padding-bottom",e.CSSStyle.PADDING_LEFT="padding-left",e.CSSStyle.PADDING_RIGHT="padding-right",e.CSSStyle.COLOR="color",e.CSSStyle.FONT_FAMILY="font-family",e.CSSStyle.FONT_SIZE="font-size",e.CSSStyle.FONT_STYLE="font-style",e.CSSStyle.FONT_WEIGHT="font-weight",e.CSSStyle.TEXT_DECORATION="text-decoration",e.CSSStyle.TEXT_ALIGN="text-align",e.CSSStyle.BORDER_BOX="border-box",e.CSSStyle.CONTENT_BOX="content-box",e.CSSStyle.HEIGHT="height",e.CSSStyle.WIDTH="width",e.CSSStyle.MAX_WIDTH="max-width",e.CSSStyle.NONE="none",e.CSSStyle.NO_REPEAT="no-repeat",e.CSSStyle.REPEAT="repeat",e.CSSStyle.REPEAT_X="repeat-x",e.CSSStyle.REPEAT_Y="repeat-y",e.CSSStyle.AUTO="auto",e.CSSStyle.AUTO_MARGIN="8",e.CSSStyle.BORDER_TYPE="border-type",e.CSSStyle.FILL_TYPE="fill-type",e.CSSStyle.CONTENT="content",e.CSSStyle.INNER_COLOR="-tr-inner-color",e.CSSStyle.OUTER_COLOR="-tr-outer-color",e.CSSStyle.WHITE_SPACE="white-space",e.CSSStyle._NAMED_FONT_SIZE_MAP={"xx-small":"9","x-small":"10",small:"13",medium:"16",large:"18","x-large":"24","xx-large":"32"},e.CSSStyle._NAMED_WIDTH_MAP={thin:"2",medium:"4",thick:"6"},e.CSSStyle._NAMED_COLOR_MAP={aqua:"#00FFFF",black:"#000000",blue:"#0000FF",white:"#FFFFFF",fuchsia:"#FF00FF",gray:"#848284",lime:"#00FF00",maroon:"#840000",green:"#008200",navy:"#000084",olive:"#848200",red:"#FF0000",silver:"#C6C3C6",teal:"#008284",yellow:"#FFFF00",purple:"#800080",cyan:"#D2B48C",goldenrod:"#DAA520",lightblue:"#ADD8E6",lightyellow:"#FFFFE0",orange:"#FFA500",paleGoldenRod:"#EEE8AA",paleturquoise:"#AFEEEE",peachpuff:"#FFDAB9",pink:"#FFC0CB",tan:"#D2B48C",thistle:"#D8BFD8",transparent:"transparent"},e.CSSStyle._numericAttrsList=[e.CSSStyle.MAX_WIDTH,e.CSSStyle.WIDTH,e.CSSStyle.HEIGHT,e.CSSStyle.BORDER_WIDTH,e.CSSStyle.BORDER_TOP_WIDTH,e.CSSStyle.BORDER_BOTTOM_WIDTH,e.CSSStyle.BORDER_LEFT_WIDTH,e.CSSStyle.BORDER_RIGHT_WIDTH,e.CSSStyle.MARGIN,e.CSSStyle.MARGIN_TOP,e.CSSStyle.MARGIN_BOTTOM,e.CSSStyle.MARGIN_LEFT,e.CSSStyle.MARGIN_RIGHT,e.CSSStyle.PADDING,e.CSSStyle.PADDING_TOP,e.CSSStyle.PADDING_BOTTOM,e.CSSStyle.PADDING_LEFT,e.CSSStyle.PADDING_RIGHT],e.CSSStyle._DOUBLE_QUOTE='"',e.CSSStyle._SINGLE_QUOTE="'",e.CSSStyle.COLORS_SKYROS=["#003366","#CC3300","#666699","#006666","#FF9900","#993366","#99CC33","#624390","#669933","#FFCC33","#006699","#EBEA79"],e.CSSStyle.COLORS_ALTA=["#237bb1","#68c182","#fad55c","#ed6647","#8561c8","#6ddbdb","#ffb54d","#e371b2","#47bdef","#a2bf39","#a75dba","#f7f37b"],e.CSSStyle.prototype.Init=function(t){this._styleMap={},this.parseInlineStyle(t)},e.CSSStyle.prototype.parseInlineStyle=function(t){if(t){var i=this;if(t instanceof Object)for(var n in t){var o=t[n];n=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i.setStyle(n,o)}else e.CSSStyle._parseStyleString(t,function(t,e){i.setStyle(t,e)})}},e.CSSStyle.prototype.setStyle=function(t,i){if(null==i)this._setStyleAttr(t,i);else switch(t){case"background-repeat":this._setBackgroundRepeat(t,i);break;case"color":case"background-color":case"border-top-color":case"border-bottom-color":case"border-left-color":case"border-right-color":this._setColorAttr(t,i);break;case"border-top":case"border-bottom":case"border-left":case"border-right":this._setBorderSide(t,i);break;case"border":this._setBorderShorthand(t,i);break;case"border-color":this._setBorderColorShorthand(t,i);break;case"border-width":this._setBorderWidthShorthand(t,i);break;case"border-radius":this._setBorderRadius(t,i);break;case"padding":this._setPaddingShorthand(t,i);break;case"margin":this._setMarginShorthand(t,i);break;case"font-size":this.setFontSize(t,i);break;case"background-image":(n=e.GradientParser.parseCSSGradient(i))&&(i=n),this._setStyleAttr(t,i);break;case e.GradientParser.IE7_GD_FILTER:case e.GradientParser.IE8_GD_FILTER:var n,o=e.GradientParser.removeQuotes(i,e.CSSStyle._DOUBLE_QUOTE);(n=e.GradientParser.parseCSSGradient(o))&&(t=e.CSSStyle.BACKGROUND_IMAGE,i=n),this._setStyleAttr(t,i);break;default:this._setStyleAttr(t,i)}return this},e.CSSStyle.prototype.getStyle=function(t){return this._styleMap[t]},e.CSSStyle.prototype._setStyleAttr=function(t,e){return null!=e?this._styleMap[t]=e:delete this._styleMap[t],this},e.CSSStyle.prototype.setFontSize=function(t,i){var n=e.StringUtils.trim(i),o=e.CSSStyle._NAMED_FONT_SIZE_MAP[n];o?this._setStyleAttr(t,String(o)+"px"):this._setStyleAttr(t,isNaN(parseFloat(n))?e.StyleUtils.DEFAULT_FONT_SIZE:n)},e.CSSStyle.prototype._setBorderWidthShorthand=function(t,i){var n=i.split(" "),o=null;switch(n.length){case 1:this._setStyleAttr(t,e.CSSStyle._getBorderWidth(n[0])),this._setStyleAttr(e.CSSStyle.BORDER_TOP_WIDTH,null),this._setStyleAttr(e.CSSStyle.BORDER_BOTTOM_WIDTH,null),this._setStyleAttr(e.CSSStyle.BORDER_RIGHT_WIDTH,null),this._setStyleAttr(e.CSSStyle.BORDER_LEFT_WIDTH,null);break;case 2:o=e.CSSStyle._getBorderWidth(n[0]),this._setStyleAttr(e.CSSStyle.BORDER_TOP_WIDTH,o),this._setStyleAttr(e.CSSStyle.BORDER_BOTTOM_WIDTH,o),o=e.CSSStyle._getBorderWidth(n[1]),this._setStyleAttr(e.CSSStyle.BORDER_LEFT_WIDTH,o),this._setStyleAttr(e.CSSStyle.BORDER_RIGHT_WIDTH,o);break;case 3:this._setStyleAttr(e.CSSStyle.BORDER_TOP_WIDTH,e.CSSStyle._getBorderWidth(n[0])),o=e.CSSStyle._getBorderWidth(n[1]),this._setStyleAttr(e.CSSStyle.BORDER_LEFT_WIDTH,o),this._setStyleAttr(e.CSSStyle.BORDER_RIGHT_WIDTH,o),this._setStyleAttr(e.CSSStyle.BORDER_BOTTOM_WIDTH,e.CSSStyle._getBorderWidth(n[2]));break;case 4:this._setStyleAttr(e.CSSStyle.BORDER_TOP_WIDTH,e.CSSStyle._getBorderWidth(n[0])),this._setStyleAttr(e.CSSStyle.BORDER_RIGHT_WIDTH,e.CSSStyle._getBorderWidth(n[1])),this._setStyleAttr(e.CSSStyle.BORDER_BOTTOM_WIDTH,e.CSSStyle._getBorderWidth(n[2])),this._setStyleAttr(e.CSSStyle.BORDER_LEFT_WIDTH,e.CSSStyle._getBorderWidth(n[3]))}},e.CSSStyle._getBorderWidth=function(t){var i=e.StringUtils.trim(t),n=e.CSSStyle._NAMED_WIDTH_MAP[i];return n||(n=isNaN(parseFloat(i))?"0px":i),n},e.CSSStyle.prototype._setBorderSide=function(t,i){for(var n,o=i.split(" "),r=null,s=!1,a=0;a<o.length;a++)if(n=t,0==(r=o[a]).indexOf("rgb")){for(var l=a+1;l<o.length&&(r+=o[l],a++,-1==o[l].indexOf(")"));l++);e.StringUtils.endsWith(t,"-"+e.CSSStyle.COLOR)||(n=t+"-"+e.CSSStyle.COLOR),this._setStyleAttr(n,r)}else e.CSSStyle._isColorValue(r)?(e.StringUtils.endsWith(t,"-"+e.CSSStyle.COLOR)||(n=t+"-"+e.CSSStyle.COLOR),this._setStyleAttr(n,e.CSSStyle._parseHexColor(r))):e.CSSStyle._isBorderWidthValue(r)?(e.StringUtils.endsWith(t,"-"+e.CSSStyle.WIDTH)||(n=t+"-"+e.CSSStyle.WIDTH),this._setStyleAttr(n,r)):"none"==i&&(s=!0);s&&this._setStyleAttr(t+"-"+e.CSSStyle.WIDTH,"0")},e.CSSStyle.prototype.getBorderSideWidth=function(t){return this._getSideWidth(t,e.CSSStyle.BORDER_WIDTH)},e.CSSStyle.prototype.getMargin=function(t){return this._getSideWidth(t,e.CSSStyle.MARGIN)},e.CSSStyle.prototype.getPadding=function(t){return this._getSideWidth(t,e.CSSStyle.PADDING)},e.CSSStyle.prototype.getBorderWidth=function(){var t=this.getStyle(e.CSSStyle.BORDER_WIDTH);return t?e.CSSStyle.toNumber(t):(t=this.getStyle(e.CSSStyle.BORDER_TOP_WIDTH))?e.CSSStyle.toNumber(t):(t=this.getStyle(e.CSSStyle.BORDER_RIGHT_WIDTH))?e.CSSStyle.toNumber(t):(t=this.getStyle(e.CSSStyle.BORDER_BOTTOM_WIDTH))?e.CSSStyle.toNumber(t):(t=this.getStyle(e.CSSStyle.BORDER_LEFT_WIDTH))?e.CSSStyle.toNumber(t):0},e.CSSStyle.prototype.getMaxWidth=function(){return this.getStyle(e.CSSStyle.MAX_WIDTH)},e.CSSStyle.prototype.getWidth=function(){return this.getStyle(e.CSSStyle.WIDTH)},e.CSSStyle.prototype.getHeight=function(){return this.getStyle(e.CSSStyle.HEIGHT)},e.CSSStyle.toNumber=function(t){return t?(t=parseFloat(t),isNaN(t)?0:t):0},e.CSSStyle.isInheritable=function(t){switch(t){case e.CSSStyle.COLOR:case e.CSSStyle.FONT_FAMILY:case e.CSSStyle.FONT_SIZE:case e.CSSStyle.FONT_STYLE:case e.CSSStyle.FONT_WEIGHT:case e.CSSStyle.TEXT_ALIGN:return!0;default:return!1}},e.CSSStyle.prototype._setBorderColorShorthand=function(t,i){var n,o=e.CSSStyle._parseBorderColorString(t,i);switch(o.length){case 1:this._setStyleAttr(t,o[0]),this._setStyleAttr(e.CSSStyle.BORDER_TOP_COLOR,null),this._setStyleAttr(e.CSSStyle.BORDER_BOTTOM_COLOR,null),this._setStyleAttr(e.CSSStyle.BORDER_RIGHT_COLOR,null),this._setStyleAttr(e.CSSStyle.BORDER_LEFT_COLOR,null);break;case 2:n=o[0],this._setStyleAttr(e.CSSStyle.BORDER_TOP_COLOR,n),this._setStyleAttr(e.CSSStyle.BORDER_BOTTOM_COLOR,n),n=o[1],this._setStyleAttr(e.CSSStyle.BORDER_LEFT_COLOR,n),this._setStyleAttr(e.CSSStyle.BORDER_RIGHT_COLOR,n);break;case 3:this._setStyleAttr(e.CSSStyle.BORDER_TOP_COLOR,o[0]),n=o[1],this._setStyleAttr(e.CSSStyle.BORDER_LEFT_COLOR,n),this._setStyleAttr(e.CSSStyle.BORDER_RIGHT_COLOR,n),this._setStyleAttr(e.CSSStyle.BORDER_BOTTOM_COLOR,o[2]);break;case 4:this._setStyleAttr(e.CSSStyle.BORDER_TOP_COLOR,o[0]),this._setStyleAttr(e.CSSStyle.BORDER_RIGHT_COLOR,o[1]),this._setStyleAttr(e.CSSStyle.BORDER_BOTTOM_COLOR,o[2]),this._setStyleAttr(e.CSSStyle.BORDER_LEFT_COLOR,o[3])}},e.CSSStyle.prototype._setPaddingShorthand=function(t,i){var n=i.split(" "),o=null;switch(n.length){case 1:this._setStyleAttr(t,this._getPercent(n[0])),this._setStyleAttr(e.CSSStyle.PADDING_TOP,null),this._setStyleAttr(e.CSSStyle.PADDING_BOTTOM,null),this._setStyleAttr(e.CSSStyle.PADDING_RIGHT,null),this._setStyleAttr(e.CSSStyle.PADDING_LEFT,null);break;case 2:o=this._getPercent(n[0]),this._setStyleAttr(e.CSSStyle.PADDING_TOP,o),this._setStyleAttr(e.CSSStyle.PADDING_BOTTOM,o),o=this._getPercent(n[1]),this._setStyleAttr(e.CSSStyle.PADDING_LEFT,o),this._setStyleAttr(e.CSSStyle.PADDING_RIGHT,o);break;case 3:this._setStyleAttr(e.CSSStyle.PADDING_TOP,this._getPercent(n[0])),o=this._getPercent(n[1]),this._setStyleAttr(e.CSSStyle.PADDING_LEFT,o),this._setStyleAttr(e.CSSStyle.PADDING_RIGHT,o),this._setStyleAttr(e.CSSStyle.PADDING_BOTTOM,this._getPercent(n[2]));break;case 4:this._setStyleAttr(e.CSSStyle.PADDING_TOP,this._getPercent(n[0])),this._setStyleAttr(e.CSSStyle.PADDING_RIGHT,this._getPercent(n[1])),this._setStyleAttr(e.CSSStyle.PADDING_BOTTOM,this._getPercent(n[2])),this._setStyleAttr(e.CSSStyle.PADDING_LEFT,this._getPercent(n[3]))}},e.CSSStyle.prototype._setMarginShorthand=function(t,i){var n=i.split(" "),o=null;switch(n.length){case 1:this._setStyleAttr(t,this._getMargin(n[0])),this._setStyleAttr(e.CSSStyle.MARGIN_TOP,null),this._setStyleAttr(e.CSSStyle.MARGIN_BOTTOM,null),this._setStyleAttr(e.CSSStyle.MARGIN_RIGHT,null),this._setStyleAttr(e.CSSStyle.MARGIN_LEFT,null);break;case 2:o=this._getMargin(n[0]),this._setStyleAttr(e.CSSStyle.MARGIN_TOP,o),this._setStyleAttr(e.CSSStyle.MARGIN_BOTTOM,o),o=this._getMargin(n[1]),this._setStyleAttr(e.CSSStyle.MARGIN_LEFT,o),this._setStyleAttr(e.CSSStyle.MARGIN_RIGHT,o);break;case 3:this._setStyleAttr(e.CSSStyle.MARGIN_TOP,this._getMargin(n[0])),o=this._getMargin(n[1]),this._setStyleAttr(e.CSSStyle.MARGIN_LEFT,o),this._setStyleAttr(e.CSSStyle.MARGIN_RIGHT,o),this._setStyleAttr(e.CSSStyle.MARGIN_BOTTOM,this._getMargin(n[2]));break;case 4:this._setStyleAttr(e.CSSStyle.MARGIN_TOP,this._getMargin(n[0])),this._setStyleAttr(e.CSSStyle.MARGIN_RIGHT,this._getMargin(n[1])),this._setStyleAttr(e.CSSStyle.MARGIN_BOTTOM,this._getMargin(n[2])),this._setStyleAttr(e.CSSStyle.MARGIN_LEFT,this._getMargin(n[3]))}},e.CSSStyle.prototype._getMargin=function(t){var i=e.StringUtils.trim(t);return e.CSSStyle.AUTO==i?e.CSSStyle.AUTO_MARGIN:this._getPercent(i)},e.CSSStyle.prototype._getPercent=function(t){return e.StringUtils.trim(t)},e.CSSStyle.prototype._setBorderShorthand=function(t,i){for(var n=i.split(" "),o=null,r=!1,s=0;s<n.length;s++)if(0==(o=n[s]).indexOf("rgb")){for(var a=s+1;a<n.length&&(o+=n[a],s++,-1==n[a].indexOf(")"));a++);this._setBorderColorShorthand(e.CSSStyle.BORDER_COLOR,o)}else e.CSSStyle._isColorValue(o)?this._setBorderColorShorthand(e.CSSStyle.BORDER_COLOR,o):e.CSSStyle._isBorderWidthValue(o)?this._setBorderWidthShorthand(e.CSSStyle.BORDER_WIDTH,o):"none"==i&&(r=!0);r&&this._setBorderWidthShorthand(e.CSSStyle.BORDER_WIDTH,"0")},e.CSSStyle._getBorderRadius=function(t){var i=e.StringUtils.trim(t);return isNaN(parseFloat(i))?"0px":i},e.CSSStyle.prototype._setBorderRadius=function(t,i){var n=i.split("/");if(null!=n[0]){var o=e.StringUtils.trim(n[0]).split(" ");switch(o.length){case 1:default:this._setStyleAttr(t,e.CSSStyle._getBorderRadius(o[0])),this._setStyleAttr(e.CSSStyle.BORDER_TOP_LEFT_RADIUS,null),this._setStyleAttr(e.CSSStyle.BORDER_TOP_RIGHT_RADIUS,null),this._setStyleAttr(e.CSSStyle.BORDER_BOTTOM_RIGHT_RADIUS,null),this._setStyleAttr(e.CSSStyle.BORDER_BOTTOM_LEFT_RADIUS,null)}if(2==n.length&&null!=n[1]){var r=e.StringUtils.trim(n[1]).split(" ");switch(r.length){case 1:this.getStyle(t)?this._setStyleAttr(t,this.getStyle(t)+" "+e.CSSStyle._getBorderRadius(r[0])):this._setStyleAttr(t,e.CSSStyle._getBorderRadius(r[0]))}}}else this._setStyleAttr(t,"0px")},e.CSSStyle.prototype.getBorderRadius=function(){return"undefined"!==this.getStyle(e.CSSStyle.BORDER_RADIUS)&&null!==this.getStyle(e.CSSStyle.BORDER_RADIUS)?e.CSSStyle.toNumber(this.getStyle(e.CSSStyle.BORDER_RADIUS)):0},e.CSSStyle.prototype._setBackgroundRepeat=function(t,i){var n=i.split(" ");2==n.length&&(n[0]==n[1]?i=n[0]:n[0]==e.CSSStyle.REPEAT&&n[1]==e.CSSStyle.NO_REPEAT&&(i=e.CSSStyle.REPEAT_X),n[0]==e.CSSStyle.NO_REPEAT&&n[1]==e.CSSStyle.REPEAT&&(i=e.CSSStyle.REPEAT_Y)),this._setStyleAttr(t,i)},e.CSSStyle.prototype._setColorAttr=function(t,i){var n=e.CSSStyle._toColorVal(i);n?this._setStyleAttr(t,n):e.CSSStyle._isColorValue(i)&&this._setStyleAttr(t,i)},e.CSSStyle._toColorVal=function(t){return t=e.StringUtils.trim(t),e.CSSStyle._NAMED_COLOR_MAP[t.toLowerCase()]||null},e.CSSStyle.prototype.setColor=function(t,e){this._setStyleAttr(t,e)},e.CSSStyle._isValueInEM=function(t){return t.toLowerCase().indexOf("em")>=0},e.CSSStyle.prototype._resolveEMx=function(t,i){var n=this.getStyle(t);return!n||!e.CSSStyle._isValueInEM(n)||!!i&&(this._setStyleAttr(t,String(Math.round(parseFloat(n)*parseFloat(i)))+"px"),!0)},e.CSSStyle.prototype.getAbsoluteFontSize=function(){var t=this.getFontSize();return t&&!e.CSSStyle._isValueInEM(t)?t:null},e.CSSStyle.prototype.resolveEM=function(t){var i=this.getFontSize();i&&(e.CSSStyle._isValueInEM(i)?this._resolveEMx(e.CSSStyle.FONT_SIZE,t):t=i);for(var n=e.CSSStyle._numericAttrsList,o=0;o<n.length;o++)if(!this._resolveEMx(n[o],t))return!1;return!0},e.CSSStyle.prototype.clone=function(){var t=new e.CSSStyle;for(var i in this._styleMap)t._setStyleAttr(i,this.getStyle(i));return t},e.CSSStyle.prototype.merge=function(t){if(t)for(var e in t._styleMap)this._setStyleAttr(e,t.getStyle(e));return this},e.CSSStyle.prototype.mergeUnder=function(t){if(t)for(var e in t._styleMap)this.getStyle(e)||this._setStyleAttr(e,t.getStyle(e));return this},e.CSSStyle.prototype.toString=function(){var t="";for(var e in this._styleMap)t+=e+":"+this.getStyle(e)+"; ";return t},e.CSSStyle.prototype.getBackgroundImage=function(){var t,i,n=this.getStyle(e.CSSStyle.BACKGROUND_IMAGE);return n&&n instanceof e.CSSGradient?n:(n&&(t=n.indexOf("url("),i=n.lastIndexOf(")"),0==t&&i==n.length-1&&(n=n.substring(4,i))),n&&(t=n.indexOf(e.CSSStyle._SINGLE_QUOTE),i=n.lastIndexOf(e.CSSStyle._SINGLE_QUOTE),0==t&&i==n.length-1?n=n.substring(1,i):(t=n.indexOf(e.CSSStyle._DOUBLE_QUOTE),i=n.lastIndexOf(e.CSSStyle._DOUBLE_QUOTE),0==t&&i==n.length-1&&(n=n.substring(1,i)))),n)},e.CSSStyle.prototype.hasBackgroundStyles=function(){return!!(this.getStyle(e.CSSStyle.BORDER_COLOR)||this.getStyle(e.CSSStyle.BORDER_WIDTH)||this.getStyle(e.CSSStyle.BORDER_RADIUS)||this.getStyle(e.CSSStyle.BACKGROUND_COLOR))},e.CSSStyle._isColorValue=function(t){return 0==(t=e.StringUtils.trim(t)).indexOf("rgb")||0==t.indexOf("#")||!!e.CSSStyle._NAMED_COLOR_MAP[t.toLowerCase()]},e.CSSStyle._isBorderWidthValue=function(t){var i=e.StringUtils.trim(t);return!!e.CSSStyle._NAMED_WIDTH_MAP[i]||!isNaN(parseFloat(i))},e.CSSStyle._parseBorderColorString=function(t,i){i=e.StringUtils.trim(i);for(var n=[];null!=i&&i.length>0;)i=e.CSSStyle.parseBorderColor(i,n);return n},e.CSSStyle.parseBorderColor=function(t,i){var n,o=(t=e.StringUtils.trim(t)).length,r=-1;if(!t)return t;if(0==t.indexOf("rgb"))r=t.indexOf(")")+1,n=t.slice(0,r);else{-1==(r=t.indexOf(" "))&&(r=o);var s=t.slice(0,r);(n=e.CSSStyle._toColorVal(s))||(n=e.CSSStyle._parseHexColor(s))}return n&&(i.push(n),t=t.slice(r)),t},e.CSSStyle._parseHexColor=function(t){var e,i;if(t&&t.length>0){
var n=t.length>7;e=Number("0x"+t.substring(1)),isNaN(e)&&(e=0),i=n?"#"+t.substring(3):t}return i},e.CSSStyle.prototype._getSideWidth=function(t,i){var n=this.getStyle(t);return n||(n=this.getStyle(i)),e.CSSStyle.toNumber(n)},e.CSSStyle.prototype.getFontSize=function(){return this.getStyle(e.CSSStyle.FONT_SIZE)},e.CSSStyle.mergeStyles=function(t){var i=new e.CSSStyle;if(t)for(var n=0;n<t.length;n++)i.merge(t[n]);return i},e.CSSStyle.prototype.isEmpty=function(){for(var t in this._styleMap)return!1;return!0},e.CSSStyle.prototype.isTextAlignEnd=function(t){var i=this.getStyle(e.CSSStyle.TEXT_ALIGN);return"end"==i||(e.Agent.isRightToLeft(t)?"left"==i:"right"==i)},e.CSSStyle.prototype.parseBackgroundPosition=function(){var t=this.getStyle(e.CSSStyle.BACKGROUND_POSITION);if(!t)return null;var i=t.split(" ");if(0==i.length)return["0%","0%"];var n,o=["50%","50%"];return i.length>0&&("left"==(n=e.StringUtils.trim(i[0]))?o[0]="0%":"right"==n?o[0]="100%":"top"==n?o[1]="0%":"bottom"==n?o[1]="100%":"center"!=n&&(o[0]=n)),i.length>1&&("left"==(n=e.StringUtils.trim(i[1]))?o[0]="0%":"right"==n?o[0]="100%":"top"==n?o[1]="0%":"bottom"==n?o[1]="100%":"center"!=n&&(o[1]=n)),o},e.CSSStyle.prototype.getIconUrl=function(){return this.getStyle(e.CSSStyle.CONTENT)},e.CSSStyle.prototype.setIconUrl=function(t){this._setStyleAttr(e.CSSStyle.CONTENT,t)},e.CSSStyle.prototype.hashCodeForTextMeasurement=function(){for(var t="",i=e.CSSStyle.getTextMeasurementProperties(),n=0;n<i.length;n++){var o=this.getStyle(i[n]);o&&(t+=o)}return t},e.CSSStyle.getTextMeasurementProperties=function(){return[e.CSSStyle.FONT_FAMILY,e.CSSStyle.FONT_SIZE,e.CSSStyle.FONT_STYLE,e.CSSStyle.FONT_WEIGHT]},e.CSSStyle.afterSkinAlta=function(t){return null!=t&&t!=e.CSSStyle.SKIN_FUSION&&t!=e.CSSStyle.SKIN_SKYROS},e.CSSStyle.cssObjectToString=function(t){var e="";return t&&JSON.parse(JSON.stringify(t),function(t,i){t&&(t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e+=t+":"+i+";")}),e},e.CSSStyle.cssStringToObject=function(t){var i={};return e.CSSStyle._parseStyleString(t,function(t,n){t=e.CSSStyle.cssStringToObjectProperty(t),i[t]=n}),i},e.CSSStyle.cssStringToObjectProperty=function(t){return t&&(t=t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})),t},e.CSSStyle._parseStyleString=function(t,i){if(t&&t.length>0)for(var n=t.split(";"),o=0;o<n.length;o++){var r=n[o];if(r&&r.length>0){var s=r.indexOf(":");if(s>-1){var a=e.StringUtils.trim(r.substring(0,s)),l=e.StringUtils.trim(r.substring(s+1));a&&a.length>0&&l&&l.length>0&&(a==e.CSSStyle.BACKGROUND_IMAGE&&l.indexOf("data:image/")>=0&&(l=l+";"+n[o+1],o++),i(a,l))}}}},e.BaseComponent=function(){},e.Obj.createSubclass(e.BaseComponent,e.Container),e.BaseComponent.prototype.Init=function(t,i,n){e.BaseComponent.superclass.Init.call(this,t),this._callback=i,this._callbackObj=n,this.Defaults=null,this.Options=null,this.Width=0,this.Height=0,this.EventManager=null,this.Animation=null,this.AnimationStopped=!1,this._optionsCache=new e.BaseComponentCache,this._cache=new e.BaseComponentCache,this._SHARED_DEFS_DIV_ID="_dvtSharedDefs"},e.BaseComponent.prototype.GetDefaults=function(t){return this.Defaults?this.Defaults.getDefaults(t):{}},e.BaseComponent.prototype.GetComponentDescription=function(){return e.Bundle.getTranslation(this.getOptions(),"componentName")},e.BaseComponent.prototype.IsParentRoot=function(){return this.getParent()==this.getCtx().getStage()},e.BaseComponent.prototype.UpdateAriaAttributes=function(){this.IsParentRoot()&&(this.getCtx().setAriaRole("application"),this.getCtx().setAriaLabel(e.Bundle.getTranslatedString(e.Bundle.UTIL_PREFIX,"COLON_SEP_LIST",[e.Bundle.getTranslatedString(e.Bundle.UTIL_PREFIX,"DATA_VISUALIZATION"),e.StringUtils.processAriaLabel(this.GetComponentDescription())])))},e.BaseComponent.prototype.SetOptions=function(t){},e.BaseComponent.prototype.getOptions=function(){return this.Options||(this.Options=this.GetDefaults()),this.Options},e.BaseComponent.prototype.applyOptions=function(t,i){this.Options&&t&&this.SetOptions(e.JsonUtils.merge(t,this.Options,i))},e.BaseComponent.prototype.render=function(t,e,i){},e.BaseComponent.prototype.RenderComplete=function(){this.Animation=null,this.AnimationStopped=!1,this.getCtx().resetIsOffscreen(),this.dispatchEvent(e.EventFactory.newReadyEvent())},e.BaseComponent.prototype.getWidth=function(){return this.Width},e.BaseComponent.prototype.getHeight=function(){return this.Height},e.BaseComponent.prototype.highlight=function(t){},e.BaseComponent.prototype.select=function(t){},e.BaseComponent.prototype.dispatchEvent=function(t){e.EventDispatcher.dispatchEvent(this._callback,this._callbackObj,this,t)},e.BaseComponent.prototype.getDimensionsWithStroke=function(t){return this.getDimensions(t)},e.BaseComponent.prototype.getEventManager=function(){return this.EventManager},e.BaseComponent.prototype.getKeyboardFocus=function(){var t=this.getEventManager();return t&&t.getFocus()?t.getFocus().getTargetElem():null},e.BaseComponent.prototype.getCache=function(){return this._cache},e.BaseComponent.prototype.getOptionsCache=function(){return this._optionsCache},e.BaseComponent.prototype.StopAnimation=function(t){this.Animation&&(this.AnimationStopped=!0,this.Animation.stop(t||!1),this.Animation=null)},e.BaseComponent.prototype.appendSharedDefs=function(t){var i=document.getElementById(this._SHARED_DEFS_DIV_ID);if(!i){(i=document.createElement("div")).id=this._SHARED_DEFS_DIV_ID,i.style.visibility="hidden",i.style.width="0px",i.style.height="0px",i.style.left="0px",i.style.top="0px",i.style.position="absolute";var n=e.ToolkitUtils.createSvgDocument();e.ToolkitUtils.setAttrNullNS(n,"width","0px"),e.ToolkitUtils.setAttrNullNS(n,"height","0px");var o=e.SvgShapeUtils.createElement("defs");n.appendChild(o),i.appendChild(n),document.body.appendChild(i)}return(o=i.childNodes[0].childNodes[0]).appendChild(t),t},e.BaseComponent.prototype.destroy=function(){this.StopAnimation(),this.EventManager&&(this.EventManager.removeListeners(this),this.EventManager.destroy(),this.EventManager=null);var t=1===document.getElementsByClassName("oj-dvtbase").length,i=document.getElementById(this._SHARED_DEFS_DIV_ID);t&&i&&document.body.removeChild(i),e.BaseComponent.superclass.destroy.call(this)},e.BaseComponentDefaults=function(){this.Init()},e.Obj.createSubclass(e.BaseComponentDefaults,e.Obj),e.BaseComponentDefaults.FONT_SIZE="font-size: ",e.BaseComponentDefaults.FONT_SIZE_11=e.BaseComponentDefaults.FONT_SIZE+"11px;",e.BaseComponentDefaults.FONT_SIZE_12=e.BaseComponentDefaults.FONT_SIZE+"12px;",e.BaseComponentDefaults.FONT_SIZE_13=e.BaseComponentDefaults.FONT_SIZE+"13px;",e.BaseComponentDefaults.FONT_SIZE_14=e.BaseComponentDefaults.FONT_SIZE+"14px;",e.BaseComponentDefaults.FONT_WEIGHT_BOLD="font-weight: bold;",e.BaseComponentDefaults.FONT_FAMILY_SKYROS="font-family: tahoma, sans-serif;",e.BaseComponentDefaults.FONT_FAMILY_ALTA="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;",e.BaseComponentDefaults.FONT_FAMILY_ALTA_11=e.BaseComponentDefaults.FONT_FAMILY_ALTA+e.BaseComponentDefaults.FONT_SIZE_11,e.BaseComponentDefaults.FONT_FAMILY_ALTA_12=e.BaseComponentDefaults.FONT_FAMILY_ALTA+e.BaseComponentDefaults.FONT_SIZE_12,e.BaseComponentDefaults.FONT_FAMILY_ALTA_13=e.BaseComponentDefaults.FONT_FAMILY_ALTA+e.BaseComponentDefaults.FONT_SIZE_13,e.BaseComponentDefaults.FONT_FAMILY_ALTA_14=e.BaseComponentDefaults.FONT_FAMILY_ALTA+e.BaseComponentDefaults.FONT_SIZE_14,e.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD=e.BaseComponentDefaults.FONT_FAMILY_ALTA+e.BaseComponentDefaults.FONT_WEIGHT_BOLD,e.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD_11=e.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD+e.BaseComponentDefaults.FONT_SIZE_11,e.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD_12=e.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD+e.BaseComponentDefaults.FONT_SIZE_12,e.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD_13=e.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD+e.BaseComponentDefaults.FONT_SIZE_13,e.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD_14=e.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD+e.BaseComponentDefaults.FONT_SIZE_14,e.BaseComponentDefaults._SKINS=[e.CSSStyle.SKIN_FUSION,e.CSSStyle.SKIN_SKYROS,e.CSSStyle.SKIN_ALTA,e.CSSStyle.SKIN_NEXT],e.BaseComponentDefaults.prototype.Init=function(t){this._defaults=t||{},this.constructor.defaultsCache||(this.constructor.defaultsCache={})},e.BaseComponentDefaults.prototype.getBaseSkinName=function(){return e.CSSStyle.SKIN_NEXT},e.BaseComponentDefaults.prototype.calcOptions=function(t){var i=t?t.skin:null,n=this.getDefaults(i);if(!t)return n;var o=e.JsonUtils.merge(t,n,this.getNoCloneObject());return 0==this.getAnimationDuration(o)&&(o.animationOnDataChange="none",o.animationOnDisplay="none"),o},e.BaseComponentDefaults.prototype.getDefaults=function(t){if(t||(t=this.getBaseSkinName()),this.constructor.defaultsCache[t])return e.JsonUtils.clone(this.constructor.defaultsCache[t]);for(var i=Math.max(e.ArrayUtils.getIndex(e.BaseComponentDefaults._SKINS,t),0),n=e.JsonUtils.clone(this._defaults[e.BaseComponentDefaults._SKINS[0]]),o=1;o<=i;o++)n=e.JsonUtils.merge(this._defaults[e.BaseComponentDefaults._SKINS[o]],n);return this.constructor.defaultsCache[t]=e.JsonUtils.clone(n),n},e.BaseComponentDefaults.prototype.getNoCloneObject=function(){return{}},e.BaseComponentDefaults.prototype.getAnimationDuration=function(t){return t.styleDefaults?t.styleDefaults.animationDuration:null},e.BaseComponentCache=function(){this.Init()},e.BaseComponentCache.prototype.Init=function(){this.Cache={}},e.BaseComponentCache.prototype.clearCache=function(){this.Cache={}},e.BaseComponentCache.prototype.getFromCache=function(t){return this.Cache[t]},e.BaseComponentCache.prototype.putToCache=function(t,e){this.Cache[t]=e},e.BaseComponentCache.prototype.getFromCachedMap=function(t,e){return this._getCachedMap(t)[e]},e.BaseComponentCache.prototype._getCachedMap=function(t){var e=this.getFromCache(t);return e||(e={},this.putToCache(t,e)),e},e.BaseComponentCache.prototype.putToCachedMap=function(t,e,i){this._getCachedMap(t)[e]=i},e.BaseComponentCache.prototype.getFromCachedMap2D=function(t,e,i){return this._getCachedMap2D(t).get(e,i)},e.BaseComponentCache.prototype._getCachedMap2D=function(t){var i=this.getFromCache(t);return i||(i=new e.Map2D,this.putToCache(t,i)),i},e.BaseComponentCache.prototype.putToCachedMap2D=function(t,e,i,n){this._getCachedMap2D(t).put(e,i,n)},e.ShowPopupBehavior=function(t,e,i,n){this._popupId=t,this._triggerType=e,this._alignId=i,this._align=n},e.Obj.createSubclass(e.ShowPopupBehavior,e.Obj),e.ShowPopupBehavior.TRIGGER_TYPE_ACTION="action",e.ShowPopupBehavior.TRIGGER_TYPE_CLICK="click",e.ShowPopupBehavior.TRIGGER_TYPE_CONTEXT_MENU="contextMenu",e.ShowPopupBehavior.TRIGGER_TYPE_DBL_CLICK="dblClick",e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_HOVER="mouseHover",e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_OVER="mouseOver",e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_DOWN="mouseDown",e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_MOVE="mouseMove",e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_UP="mouseUp",e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_OUT="mouseOut",e.ShowPopupBehavior.TRIGGER_TYPE_KEY_DOWN="keyDown",e.ShowPopupBehavior.TRIGGER_TYPE_KEY_UP="keyUp",e.ShowPopupBehavior.TRIGGER_TYPE_KEY_PRESS="keyPress",e.ShowPopupBehavior.TRIGGER_TYPE_FOCUS="focus",e.ShowPopupBehavior.TRIGGER_TYPE_BLUR="blur",e.ShowPopupBehavior.ALIGN_AFTER_START="afterStart",e.ShowPopupBehavior.ALIGN_AFTER_END="afterEnd",e.ShowPopupBehavior.ALIGN_BEFORE_START="beforeStart",e.ShowPopupBehavior.ALIGN_BEFORE_END="beforeEnd",e.ShowPopupBehavior.ALIGN_END_AFTER="endAfter",e.ShowPopupBehavior.ALIGN_END_BEFORE="endBefore",e.ShowPopupBehavior.ALIGN_START_AFTER="startAfter",e.ShowPopupBehavior.ALIGN_START_BEFORE="startBefore",e.ShowPopupBehavior.ALIGN_OVERLAP="overlap",e.ShowPopupBehavior.createBehaviors=function(t){for(var i=[],n=0;n<t.length;n++){var o=t[n];i.push(e.ShowPopupBehavior.newInstance(o))}return i},e.ShowPopupBehavior.newInstance=function(t){return new e.ShowPopupBehavior(t.popupId,t.triggerType,t.alignId,t.align)},e.ShowPopupBehavior.prototype.getPopupId=function(){return this._popupId},e.ShowPopupBehavior.prototype.getTriggerType=function(){return this._triggerType},e.ShowPopupBehavior.prototype.getAlignId=function(){return this._alignId},e.ShowPopupBehavior.prototype.getAlign=function(){return this._align},e.ClientBehavior=function(t,e){this._type=t,this._triggerType=e,this._props={}},e.Obj.createSubclass(e.ClientBehavior,e.Obj),e.ClientBehavior.TRIGGER_TYPE_ACTION="action",e.ClientBehavior.TRIGGER_TYPE_CLICK="click",e.ClientBehavior.TYPE_ROW_DISCLOSURE="DvtRowDisclosureBehavior",e.ClientBehavior.TYPE_DRILL="DvtDrillBehavior",e.ClientBehavior.TYPE_ISOLATE_LEVELS="DvtIsolateLevelsBehavior",e.ClientBehavior.TYPE_RESTORE="DvtRestoreBehavior",e.ClientBehavior.prototype.getType=function(){return this._type},e.ClientBehavior.prototype.getTriggerType=function(){return this._triggerType},e.ClientBehavior.prototype.setProperty=function(t,e){this._props[t]=e},e.ClientBehavior.prototype.getProperty=function(t){return this._props[t]},e.ClientBehavior.prototype.getProperties=function(){return this._props},e.SimpleScrollbar=function(t,i,n,o){e.SimpleScrollbar.superclass.Init.call(this,t),this._callback=i,this._callbackObj=n,this._dragTarget=o},e.Obj.createSubclass(e.SimpleScrollbar,e.Container),e.SimpleScrollbar._THUMB_MIN_SIZE=12,e.SimpleScrollbar.prototype.render=function(t,i,n){this._width=i,this._height=n,this._globalMin=t.min,this._globalMax=t.max,this._isHoriz=t.isHorizontal,this._isReversed=t.isReversed;var o=new e.Rect(this.getCtx(),0,0,i,n);o.setSolidFill(t.backgroundColor),o.setPixelHinting(!0),this.addChild(o),this._thumb=new e.Rect(this.getCtx(),0,0,i,n),this._thumb.setSolidFill(t.color),this._thumb.setPixelHinting(!0),this.addChild(this._thumb),this._thumbMin=this._globalMin,this._thumbMax=this._globalMax,this._renderedThumbMin=this._thumbMin,this._renderedThumbMax=this._thumbMax;var r=e.Agent.isTouchDevice()?8:4,s=new e.Rect(this.getCtx(),-r,-r,this._width+2*r,this._height+2*r);s.setInvisibleFill(),this.addChild(s);var a=null!=this._dragTarget;e.SvgDocumentUtils.addDragListeners(a?this._dragTarget:this,this._onDragStart,this._onDragMove,this._onDragEnd,this,!a),e.Agent.isTouchDevice()||a||this.addEvtListener(e.MouseEvent.CLICK,this._onClick,!1,this),this._dragged=!1},e.SimpleScrollbar.prototype.setViewportRange=function(t,i,n,o){null!=n&&(this._globalMin=n),null!=o&&(this._globalMax=o),this._thumbMin=t,this._thumbMax=i;var r=i-t,s=this._globalMax-this._globalMin,a=Math.min(e.SimpleScrollbar._THUMB_MIN_SIZE/(this._isHoriz?this._width:this._height)*s,s);r<a&&(i+=(a-r)/2,(t-=(a-r)/2)<this._globalMin&&(t=this._globalMin,i=this._globalMin+a),i>this._globalMax&&(i=this._globalMax,t=this._globalMax-a)),this._renderedThumbMin=t,this._renderedThumbMax=i;var l=this._getCoord(t),h=this._getCoord(i);this._isHoriz?(this._thumb.setX(Math.min(l,h)),this._thumb.setWidth(Math.abs(h-l))):(this._thumb.setY(Math.min(l,h)),this._thumb.setHeight(Math.abs(h-l)))},e.SimpleScrollbar.prototype._getCoord=function(t){var e=(t-this._globalMin)/(this._globalMax-this._globalMin);return this._isReversed&&(e=1-e),this._isHoriz?e*this._width:e*this._height},e.SimpleScrollbar.prototype._getValue=function(t,e){var i=this.stageToLocal(this.getCtx().pageToStageCoords(t,e)),n=this._isHoriz?i.x/this._width:i.y/this._height;return this._isReversed&&(n=1-n),n=Math.min(Math.max(n,0),1),this._globalMin+n*(this._globalMax-this._globalMin)},e.SimpleScrollbar.prototype._onClick=function(t){var i=this._getValue(t.pageX,t.pageY);if(!(i>=this._renderedThumbMin&&i<=this._renderedThumbMax)){var n=this._thumbMax-this._thumbMin;this._setViewportRange(i-n/2,i+n/2,e.SimpleScrollbarEvent.SUBTYPE_END)}},e.SimpleScrollbar.prototype._onDragStart=function(t){var e;if(t.touches){if(1!=t.touches.length)return!1;e=this._getValue(t.touches[0].pageX,t.touches[0].pageY)}else e=this._getValue(t.pageX,t.pageY);return!!(this._dragTarget||e>=this._renderedThumbMin&&e<=this._renderedThumbMax)&&(this._prevVal=Math.min(Math.max(e,this._thumbMin),this._thumbMax),this._dragged=!0,!0)},e.SimpleScrollbar.prototype._onDragMove=function(t){if(this._dragged){var i;if(t.touches){if(1!=t.touches.length)return;i=this._getValue(t.touches[0].pageX,t.touches[0].pageY)}else i=this._getValue(t.pageX,t.pageY);var n=i-this._prevVal;this._dragTarget&&(n*=-1),this._setViewportRange(this._thumbMin+n,this._thumbMax+n,e.SimpleScrollbarEvent.SUBTYPE_MOVE),this._prevVal=i,t.preventDefault()}},e.SimpleScrollbar.prototype._onDragEnd=function(t){if(this._dragged){if(t.touches)this._setViewportRange(this._thumbMin,this._thumbMax,e.SimpleScrollbarEvent.SUBTYPE_END);else{var i=this._getValue(t.pageX,t.pageY)-this._prevVal;this._setViewportRange(this._thumbMin+i,this._thumbMax+i,e.SimpleScrollbarEvent.SUBTYPE_END)}this._dragged=!1}},e.SimpleScrollbar.prototype._setViewportRange=function(t,i,n){var o=i-t;if(t<this._globalMin&&(t=this._globalMin,i=this._globalMin+o),i>this._globalMax&&(i=this._globalMax,t=this._globalMax-o),this.setViewportRange(t,i),this._callback){var r=new e.SimpleScrollbarEvent(n,t,i);this._callback.call(this._callbackObj,r,this)}},e.SimpleScrollableContainer=function(t,i,n,o){e.SimpleScrollableContainer.superclass.Init.call(this,t),this._contentSize=o?i:n,this._width=i,this._height=n,this._background=new e.Rect(t,0,0,i,n),this._background.setInvisibleFill(),this.addChild(this._background),this._container=new e.Container(t),this.addChild(this._container),this._isHorizontalScrolling=o,this._isScrollbarVisible=!1,e.Agent.isTouchDevice()||this.addEvtListener(e.MouseEvent.MOUSEWHEEL,this._onMouseWheel,!1,this)},e.Obj.createSubclass(e.SimpleScrollableContainer,e.Container),e.SimpleScrollableContainer._SCROLLBAR_WIDTH=3,e.SimpleScrollableContainer._SCROLLBAR_GAP=2,e.SimpleScrollableContainer.prototype.getScrollingPane=function(){return this._container},e.SimpleScrollableContainer.prototype.prepareContentPane=function(){var t=this._container.getDimensions();if(this._isHorizontalScrolling?this._contentSize=t.w+t.x:this._contentSize=t.h+t.y,this.hasScrollingContent()){if(this._isHorizontalScrolling?this._contentSize+=t.x:this._contentSize+=t.y,!this._maskContainer){var i=new e.Rectangle(0,0,this._width,this._height);this._fadeTop=new e.Mask(new e.LinearGradientFill(this._isHorizontalScrolling?0:270,["#FFFFFF","#FFFFFF"],[0,1],[0,.1]),i),this._fadeBottom=new e.Mask(new e.LinearGradientFill(this._isHorizontalScrolling?180:90,["#FFFFFF","#FFFFFF"],[0,1],[0,.1]),i),this._fadeTopBottom=new e.Mask(new e.LinearGradientFill(this._isHorizontalScrolling?180:90,["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"],[0,1,1,0],[0,.1,.9,1]),i),this._maskContainer=new e.Container(this.getCtx()),this.addChild(this._maskContainer);var n=new e.ClipPath;n.addRect(0,0,this._width,this._height),this._container.setClipPath(n),this._maskContainer.addChild(this._container),this._scrollbar=new e.SimpleScrollbar(this.getCtx(),this._handleScrollbar,this,this),this._scrollbarTimer=new e.Timer(this.getCtx(),100,this._hideScrollbar,this)}this._maskContainer.setMask(this._fadeBottom);var o={color:"#9E9E9E",backgroundColor:"#F0F0F0",isHorizontal:this._isHorizontalScrolling,isReversed:!1,min:0,max:this._contentSize};this._isHorizontalScrolling?(this._scrollbar.render(o,this._getScrollbarWidth(),e.SimpleScrollableContainer._SCROLLBAR_WIDTH),this._scrollbar.setTranslate(e.SimpleScrollableContainer._SCROLLBAR_GAP,this._height-(e.SimpleScrollableContainer._SCROLLBAR_WIDTH+e.SimpleScrollableContainer._SCROLLBAR_GAP))):(this._scrollbar.render(o,e.SimpleScrollableContainer._SCROLLBAR_WIDTH,this._getScrollbarWidth()),this._scrollbar.setTranslate(e.Agent.isRightToLeft(this.getCtx())?e.SimpleScrollableContainer._SCROLLBAR_GAP:this._width-(e.SimpleScrollableContainer._SCROLLBAR_WIDTH+e.SimpleScrollableContainer._SCROLLBAR_GAP),e.SimpleScrollableContainer._SCROLLBAR_GAP)),this._scrollbar.setViewportRange(0,this._getAvailSize()),e.Agent.isEnvironmentTest()||this._scrollbar.setAlpha(0),this.addChild(this._scrollbar)}else this.addChild(this._container),this.removeChild(this._maskContainer),this.removeChild(this._scrollbar)},e.SimpleScrollableContainer.prototype._getScrollbarWidth=function(){return(this._isHorizontalScrolling?this._width:this._height)-2*e.SimpleScrollableContainer._SCROLLBAR_GAP},e.SimpleScrollableContainer.prototype._getAvailSize=function(){return this._isHorizontalScrolling?this._width:this._height},e.SimpleScrollableContainer.prototype._hideScrollbar=function(t){this._isScrollbarVisible&&(this._isScrollbarVisible=!1,this._scrollbarTimer.reset(),this._fadeOutAnim=new e.AnimFadeOut(this.getCtx(),this._scrollbar,.2),this._fadeOutAnim.play())},e.SimpleScrollableContainer.prototype._showScrollbar=function(t){this._isScrollbarVisible?(this._scrollbarTimer.reset(),this._scrollbarTimer.start()):(this._fadeOutAnim&&(this._fadeOutAnim.stop(!0),this._fadeOutAnim=null),this._scrollbar.setAlpha(1),this._isScrollbarVisible=!0,this._scrollbarTimer.start())},e.SimpleScrollableContainer.prototype._updateFade=function(t){0==t?this._maskContainer.setMask(this._fadeBottom):t+this._getAvailSize()>=this._contentSize?this._maskContainer.setMask(this._fadeTop):this._maskContainer.setMask(this._fadeTopBottom)},e.SimpleScrollableContainer.prototype._onMouseWheel=function(t){if(this.hasScrollingContent()){this._showScrollbar();var e=null!=t.wheelDelta?t.wheelDelta:0,i=-1*(this._isHorizontalScrolling?this._container.getTranslateX():this._container.getTranslateY())-4*e,n=Math.max(this._contentSize-this._getAvailSize(),0),o=Math.max(Math.min(i,n),0);this._isHorizontalScrolling?(this._container.setTranslateX(-1*o),this._scrollbar.setViewportRange(o+this._width,o)):(this._container.setTranslateY(-1*o),this._scrollbar.setViewportRange(o,o+this._height)),this._updateFade(o),t.preventDefault()}},e.SimpleScrollableContainer.prototype._handleScrollbar=function(t){this._showScrollbar(),this._isHorizontalScrolling?this._container.setTranslateX(-1*t.getNewMin()):this._container.setTranslateY(-1*t.getNewMin()),this._updateFade(t.getNewMin())},e.SimpleScrollableContainer.prototype.getWidth=function(){return this._width},e.SimpleScrollableContainer.prototype.getHeight=function(){return this._height},e.SimpleScrollableContainer.prototype.scrollIntoView=function(t){if(this.hasScrollingContent()){var e,i=t.getDimensions(t.getParent()),n=this._container.getDimensions();if(this._isHorizontalScrolling){var o=-1*this._container.getTranslateX(),r=i.x-n.x,s=i.x+i.w-this._width+n.x;o<s?(this._container.setTranslateX(-1*s),this._scrollbar.setViewportRange(s+this._width,s),e=s):o>r&&(this._container.setTranslateX(-1*r),this._scrollbar.setViewportRange(r+this._width,r),e=r)}else{var a=-1*this._container.getTranslateY(),l=i.y-n.y,h=i.y+i.h-this._height+n.y;a<h?(this._container.setTranslateY(-1*h),this._scrollbar.setViewportRange(h,h+this._height),e=h):a>l&&(this._container.setTranslateY(-1*l),this._scrollbar.setViewportRange(l,l+this._height),e=l)}null!=e&&this._updateFade(e)}},e.SimpleScrollableContainer.prototype.hasScrollingContent=function(){return this._contentSize>this._getAvailSize()},e.DragRecognizer=function(){},e.Obj.createSubclass(e.DragRecognizer,e.Obj),e.DragRecognizer.prototype.prepDrag=function(){},e.DragRecognizer.prototype.abortPrep=function(){},e.DragRecognizer.prototype.recognizeDrag=function(){return!0},e.DragSource=function(t){this.Init(t)},e.Obj.createSubclass(e.DragSource,e.Obj),e.DragSource.DRAG_FEEDBACK_MARGIN=2,e.DragSource.prototype.Init=function(t){this._context=t,this._dragCandidate=null,this._dragObj=null,this._dragCoords=null},e.DragSource.prototype.getDragCandidate=function(){return this._dragCandidate},e.DragSource.prototype.setDragCandidate=function(t){t&&t.isDragAvailable&&t.getDragTransferable?this._dragCandidate=t:this._dragCandidate=null},e.DragSource.prototype.isDragAvailable=function(t){return null!=this._dragCandidate?this._dragCandidate.isDragAvailable(t):null},e.DragSource.prototype.getDragTransferable=function(t,e){return this._dragCandidate?(this._dragObj=this._dragCandidate,this._dragCoords={x:t,y:e},this._dragCandidate.getDragTransferable(t,e)):null},e.DragSource.prototype.getDragOverFeedback=function(t,e){this._context.getTooltipManager().hideTooltip();var i=this.getDragObject();return i&&i.getDragFeedback?i.getDragFeedback(t,e):null},e.DragSource.prototype.getDragContext=function(t,e){return this._dragObj&&this._dragObj.getDragContext?this._dragObj.getDragContext(t,e):null},e.DragSource.prototype.getDragObject=function(){return this._dragObj},e.DragSource.prototype.getDragCoords=function(){return this._dragCoords},e.DragSource.prototype.getDragOffset=function(t,i){var n={},o=this.getDragOverFeedback(t,i);if(o){var r=e.DragAndDropUtils.getDragFeedbackBounds(o,this._context.getStage()),s=this.getDragObject();s&&s.afterDragOverFeedback&&s.afterDragOverFeedback(o),r&&(n.x=t-r.x,n.y=i-r.y,n.x+=e.DragSource.DRAG_FEEDBACK_MARGIN,n.y+=e.DragSource.DRAG_FEEDBACK_MARGIN)}else n.x=0,n.y=0;return n},e.DragSource.prototype.getPointerOffset=function(t,e){return{x:0,y:0}},e.DragSource.prototype.initiateDrag=function(){var t=this.getTouchManager();e.Agent.isTouchDevice()&&t&&t.cancelTouchHold()},e.DragSource.prototype.dragDropEnd=function(){this._dragCandidate=null,this._dragObj=null,this._dragCoords=null},e.DragSource.prototype.setTouchManager=function(t){this._touchManager=t},e.DragSource.prototype.getTouchManager=function(){return this._touchManager},e.DropTarget=function(){},e.Obj.createSubclass(e.DropTarget,e.Obj),e.DropTarget.prototype.acceptDrag=function(t,e,i,n){return null},e.DropTarget.prototype.dragEnter=function(){},e.DropTarget.prototype.dragExit=function(){},e.DropTarget.prototype.getDropSite=function(t,e){return null},e.Button=function(t,e,i,n,o,r,s,a){this.Init(t,e,i,n,o,r,s,a)},e.Obj.createSubclass(e.Button,e.Container),e.Button.STATE_ENABLED=0,e.Button.STATE_OVER=1,e.Button.STATE_DOWN=2,e.Button.STATE_DISABLED=3,e.Button.NO_EVENT_LISTENERS=!0,e.Button.prototype.Init=function(t,i,n,o,r,s,a,l){e.Button.superclass.Init.call(this,t,null,s),this.setCallback(a,l),this._bDuringInit=!0,this.setUpState(i),this.setOverState(n),this.setDownState(o),r&&this.setDisabledState(r),this.setEnabled(!0),this.drawUpState(),this._tooltip=null,this._bToggleEnabled=!1,this._bToggled=!1,this._bDuringInit=!1},e.Button.prototype.isEnabled=function(){return this._enabled},e.Button.prototype.setEnabled=function(t){if(this._enabled!=t){this._enabled=t;var i=e.Agent.isTouchDevice()?e.TouchEvent.TOUCHSTART:e.MouseEvent.CLICK;t?(this.addEvtListener(e.MouseEvent.MOUSEOVER,this.OnMouseOver,!1,this),this.addEvtListener(e.MouseEvent.MOUSEOUT,this.OnMouseOut,!1,this),this.addEvtListener(e.MouseEvent.MOUSEDOWN,this.OnMouseDown,!1,this),this.addEvtListener(e.MouseEvent.MOUSEUP,this.OnMouseUp,!1,this),this.addEvtListener(i,this.OnClick,!1,this),this.setCursor(e.SelectionEffectUtils.getSelectingCursor())):(this.removeEvtListener(e.MouseEvent.MOUSEOVER,this.OnMouseOver,!1,this),this.removeEvtListener(e.MouseEvent.MOUSEOUT,this.OnMouseOut,!1,this),this.removeEvtListener(e.MouseEvent.MOUSEDOWN,this.OnMouseDown,!1,this),this.removeEvtListener(e.MouseEvent.MOUSEUP,this.OnMouseUp,!1,this),this.removeEvtListener(i,this.OnClick,!1,this),this.setCursor(null)),this.initState()}},e.Button.prototype.OnMouseOver=function(t){this._bToggled?this.drawOverDownState():this.drawOverState()},e.Button.prototype.OnMouseOut=function(t){this._bToggled?this.drawDownState():this.drawUpState()},e.Button.prototype.OnMouseDown=function(t){this.drawDownState()},e.Button.prototype.OnMouseUp=function(t){this._bToggled?e.Agent.isTouchDevice()?this.drawDownState():this.drawOverDownState():e.Agent.isTouchDevice()?this.drawUpState():this.drawOverState()},e.Button.prototype.OnClick=function(t){this._bToggleEnabled&&(this._bToggled=!this._bToggled,this._bToggled?e.Agent.isTouchDevice()?this.drawDownState():this.drawOverDownState():e.Agent.isTouchDevice()?this.drawUpState():this.drawOverState()),this._callback&&(this._callback.call(this._callbackObj,t,this),t.stopPropagation(),t.preventDefault())},e.Button.prototype.drawUpState=function(){this._enableButton(this.upState,!0),this._enableButton(this.downState,!1),this._enableButton(this.overState,!1),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!1)},e.Button.prototype.drawOverState=function(){this._enableButton(this.upState,!1),this._enableButton(this.downState,!1),this._enableButton(this.overState,!0),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!1)},e.Button.prototype.drawDownState=function(){this._enableButton(this.upState,!1),this._enableButton(this.downState,!0),this._enableButton(this.overState,!1),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!1)},e.Button.prototype.drawDisabledState=function(){this._enableButton(this.upState,!1),this._enableButton(this.overState,!1),this._enableButton(this.downState,!1),this._enableButton(this.disabledState,!0),this._enableButton(this.overDownState,!1)},e.Button.prototype.drawOverDownState=function(){this.overDownState?(this._enableButton(this.upState,!1),this._enableButton(this.overState,!1),this._enableButton(this.downState,!1),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!0)):this.drawDownState()},e.Button.prototype._enableButton=function(t,e){t&&t.setAlpha(e?1:0)},e.Button.prototype._enableMouseEvents=function(t,e){t.setMouseEnabled&&t.setMouseEnabled(e);for(var i=t.firstChild;null!=i;)this._enableMouseEvents(i,e),i=i.nextSibling},e.Button.prototype.setUpState=function(t){if(!this.upState||this.upState!=t){var e=!1;if(this.upState)e=this._isButtonEnabled(this.upState),this.removeChild(this.upState);else if(!this._bDuringInit){var i=!1,n=!1,o=!1;this.downState&&(i=this._isButtonEnabled(this.downState)),this.overState&&(n=this._isButtonEnabled(this.overState)),this.disabledState&&(o=this._isButtonEnabled(this.disabledState)),i||n||o||(e=!0)}t&&this.addChild(t),this.upState=t,this._enableButton(this.upState,e)}},e.Button.prototype.setDownState=function(t){if(!this.downState||this.downState!=t){var e=!1;this.downState&&(e=this._isButtonEnabled(this.downState),this.removeChild(this.downState)),t&&this.addChild(t),this.downState=t,this._enableButton(this.downState,e)}},e.Button.prototype.setOverState=function(t){if(!this.overState||this.overState!=t){var e=!1;this.overState&&(e=this._isButtonEnabled(this.overState),this.removeChild(this.overState)),t&&this.addChild(t),this.overState=t,this._enableButton(this.overState,e)}},e.Button.prototype.setDisabledState=function(t){if(!this.disabledState||this.disabledState==t){var e=!1;this.disabledState&&(e=this._isButtonEnabled(this.disabledState),this.removeChild(this.disabledState)),t&&this.addChild(t),this.disabledState=t,this._enableButton(this.disabledState,e)}},e.Button.prototype.setOverDownState=function(t){if(!this.overDownState||this.overDownState==t){var e=!1;this.overDownState&&(e=this._isButtonEnabled(this.overDownState),this.removeChild(this.overDownState)),t&&this.addChild(t),this.overDownState=t,this._enableButton(this.overDownState,e)}},e.Button.prototype.setCallback=function(t,e){this._callback=t,this._callbackObj=e},e.Button.prototype.setTooltip=function(t){this._tooltip=t,t&&(this.setAriaRole("button"),this.setAriaProperty("label",t))},e.Button.prototype.getTooltip=function(){return this._tooltip},e.Button.prototype.isClickEventPropagationStopped=function(){return!0},e.Button.prototype.initState=function(){this.isEnabled()?this.drawUpState():this.drawDisabledState()},e.Button.prototype.setSize=function(t,e){var i=this.upState;i&&(i.setWidth&&t&&i.setWidth(t),i.setHeight&&e&&i.setHeight(e));var n=this.downState;n&&(n.setWidth&&t&&n.setWidth(t),n.setHeight&&e&&n.setHeight(e));var o=this.overState;o&&(o.setWidth&&t&&o.setWidth(t),o.setHeight&&e&&o.setHeight(e));var r=this.disabledState;r&&(r.setWidth&&t&&r.setWidth(t),
r.setHeight&&e&&r.setHeight(e))},e.Button.prototype.rightAlign=function(t,e,i){var n=t-e,o=this.upState;o&&t&&(i?o.setTranslateX(n):this._setChildX(o,n));var r=this.downState;r&&t&&(i?r.setTranslateX(n):this._setChildX(r,n));var s=this.overState;s&&t&&(i?s.setTranslateX(n):this._setChildX(s,n));var a=this.disabledState;a&&(i?a.setTranslateX(n):this._setChildX(a,n))},e.Button.prototype._setChildX=function(t,i){for(var n=0;n<t.getNumChildren();n++){var o=t.getChildAt(n);o instanceof e.Displayable&&o.setTranslateX(i)}},e.Button.prototype.setToggleEnabled=function(t){this._bToggleEnabled=t},e.Button.prototype.isToggleEnabled=function(){return this._bToggleEnabled},e.Button.prototype.setToggled=function(t){this._bToggleEnabled&&(this._bToggled=t,this._bToggled?this.drawDownState():this.drawUpState())},e.Button.prototype.isToggled=function(){return this._bToggled},e.Button.prototype._isButtonEnabled=function(t){var e=!1;return t&&(e=t.getAlpha()>0),e},e.Button.prototype.getUpState=function(){return this.upState},e.Button.prototype.getDownState=function(){return this.downState},e.Button.prototype.getOverState=function(){return this.overState},e.Button.prototype.showKeyboardFocusEffect=function(){this._keyboardFocusEffect||(this._keyboardFocusEffect=this.CreateKeyboardFocusEffect()),this._keyboardFocusEffect.show(),this._isShowingKeyboardFocusEffect=!0,this.getCtx().setActiveElement(this)},e.Button.prototype.hideKeyboardFocusEffect=function(){this._keyboardFocusEffect&&this._keyboardFocusEffect.hide(),this._isShowingKeyboardFocusEffect=!1},e.Button.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},e.Button.prototype.CreateKeyboardFocusEffect=function(){return new e.KeyboardFocusEffect(this.getCtx(),this,this.getDimensions(),null,null,!0)},e.Button.prototype.handleKeyboardEvent=function(t){var i=t.keyCode;i!=e.KeyboardEvent.ENTER&&i!=e.KeyboardEvent.SPACE||this._callback&&(this._callback.call(this._callbackObj,t,this),t.stopPropagation(),t.preventDefault())},e.TransientButton=function(t,e,i,n,o,r,s){this.Init(t,e,i,n,o,r,s)},e.Obj.createSubclass(e.TransientButton,e.Button),e.TransientButton._DEFAULT_RADIUS=15.5,e.TransientButton.prototype.Init=function(t,i,n,o,r,s,a){e.TransientButton.superclass.Init.call(this,t,i,n,o,r,null,a,s);var l=t.getStage();l.addEvtListener(y.FOCUS,this._onFocus,!0,this),l.addEvtListener(y.BLUR,this._onBlur,!0,this),e.Agent.isTouchDevice()||(e.Agent.isPlatformIE()?(l.addEvtListener("mouseenter",this._onMouseOver,!1,this),l.addEvtListener("mouseleave",this._onMouseOut,!1,this)):(l.addEvtListener(e.MouseEvent.MOUSEOVER,this._onMouseOver,!1,this),l.addEvtListener(e.MouseEvent.MOUSEOUT,this._onMouseOut,!1,this)))},e.TransientButton.getStateFromURL=function(t,i,n,o,r,s){var a=e.TransientButton._DEFAULT_RADIUS,l=a/2,h=new e.Circle(t,a,a,a);h.setSolidFill(r),h.setSolidStroke(s);var u=new e.Image(t,i,l,l,n,o);return h.addChild(u),h},e.TransientButton.prototype.show=function(){this.setAlpha(1)},e.TransientButton.prototype.hide=function(){this.setAlpha(0)},e.TransientButton.prototype._onFocus=function(t){this._isFocused=!0,this.show()},e.TransientButton.prototype._onBlur=function(t){this._isFocused=!1,this._isMouseOver||this.hide()},e.TransientButton.prototype._onMouseOver=function(t){this._mouseOutTimer&&this._mouseOutTimer.isRunning()&&this._mouseOutTimer.stop(),this._isMouseOver=!0,this.show()},e.TransientButton.prototype._onMouseOut=function(t){this._mouseOutTimer||(this._mouseOutTimer=new e.Timer(this.getCtx(),10,this._onMouseOutTimerEnd,this,1)),this._mouseOutTimer.reset(),this._mouseOutTimer.start()},e.TransientButton.prototype._onMouseOutTimerEnd=function(){this._isMouseOver=!1,this._isFocused||this.hide()},e.TransientButton.prototype.OnMouseDown=function(t){e.TransientButton.superclass.OnMouseDown.call(this,t),t.stopPropagation()},e.TransientButton.prototype.OnMouseUp=function(t){e.TransientButton.superclass.OnMouseUp.call(this,t),t.stopPropagation()};var O=function(){};e.Obj.createSubclass(O,e.Obj),O.prototype.getDisplayables=function(){},O.prototype.getAriaLabel=function(){};var b=function(){};e.Obj.createSubclass(b,e.Obj),b.prototype.getTooltip=function(t,e,i){},b.prototype.getDatatip=function(t,e,i){},b.prototype.getDatatipColor=function(){};var I=function(){};e.Obj.createSubclass(I,e.Obj),I.prototype.isSelectable=function(){},I.prototype.isSelected=function(){},I.prototype.setSelected=function(t,e){},I.prototype.showHoverEffect=function(){},I.prototype.hideHoverEffect=function(){};var P=function(){};P.prototype.handleKeyboardEvent=function(t){},P.prototype.hideKeyboardFocusEffect=function(){};var M=function(){};e.Obj.createSubclass(M,e.Obj),M.prototype.getNextNavigable=function(t){},M.prototype.getTargetElem=function(){},M.prototype.getKeyboardBoundingBox=function(t){},M.prototype.showKeyboardFocusEffect=function(){},M.prototype.hideKeyboardFocusEffect=function(){},M.prototype.isShowingKeyboardFocusEffect=function(){},M.prototype.getContextMenuLocation=function(){},M.prototype.getKeyboardTooltipLocation=function(){};var D=function(){};e.Obj.createSubclass(D,e.Obj),D.prototype.getCategories=function(){},D.prototype.highlight=function(t,e){};var R=function(){};e.Obj.createSubclass(R,e.Obj),R.prototype.getContextMenuLocation=function(){};var x=function(){};e.Obj.createSubclass(x,e.Obj),x.prototype.getId=function(){},x.prototype.getShowPopupBehaviors=function(){},e.Automation=function(t){},e.Obj.createSubclass(e.Automation,e.Obj),e.Automation.TOOLTIP_SUBID="tooltip",e.Automation.prototype.getSubIdForDomElement=function(t){var i=e.Automation._findDisplayable(t);return!i||i instanceof Array?t&&this.IsTooltipElement(t)?e.Automation.TOOLTIP_SUBID:null:this.GetSubIdForDomElement(i)},e.Automation.prototype.GetSubIdForDomElement=function(t){return null},e.Automation.prototype.getDomElementForSubId=function(t){return null},e.Automation._findDisplayable=function(t){for(;t;){if(t._obj)return t._obj;t=t.parentNode}return null},e.Automation.prototype.GetTooltipElement=function(t,e){if(t){var i=t.getCtx().getTooltipManager(e).getTooltipElem();return"hidden"==i.style.visibility?null:i}return null},e.Automation.prototype.IsTooltipElement=function(t){var i=t.getAttribute("id");return!(!i||0!=i.indexOf(e.HtmlTooltipManager._TOOLTIP_DIV_ID))},e.CustomDatatipPeer=function(t,e,i,n){this.Init(t,e,i,n)},e.Obj.createSubclass(e.CustomDatatipPeer,e.Obj),e.CustomDatatipPeer.prototype.Init=function(t,e,i,n){this._tooltipManager=t,this._tooltipFunc=e,this._datatipColor=i,this._dataContext=n},e.CustomDatatipPeer.prototype.getDatatip=function(t){return this._tooltipManager.getCustomTooltip(this._tooltipFunc,this._dataContext)},e.CustomDatatipPeer.prototype.getDatatipColor=function(t){return this._datatipColor},e.SimpleObjPeer=function(t,e,i,n){this.Init(t,e,i,n)},e.Obj.createSubclass(e.SimpleObjPeer,e.Obj),e.SimpleObjPeer.prototype.Init=function(t,e,i,n){this._tooltip=t,this._datatip=e,this._datatipColor=i,this._params=n},e.SimpleObjPeer.prototype.setTooltip=function(t){this._tooltip=t},e.SimpleObjPeer.prototype.setDatatip=function(t){this._datatip=t},e.SimpleObjPeer.prototype.setDatatipColor=function(t){this._datatipColor=t},e.SimpleObjPeer.prototype.getParams=function(){return this._params},e.SimpleObjPeer.prototype.getTooltip=function(t){return this._tooltip},e.SimpleObjPeer.prototype.getDatatip=function(t){return this._datatip},e.SimpleObjPeer.prototype.getDatatipColor=function(t){return this._datatipColor},e.Agent=function(){},e.Obj.createSubclass(e.Agent,e.Obj),e.Agent.UNKNOWN_VERSION=-1,e.Agent.IE_PLATFORM="ie",e.Agent.GECKO_PLATFORM="gecko",e.Agent.WEBKIT_PLATFORM="webkit",e.Agent.UNKNOWN_PLATFORM="unknown",e.Agent.WINDOWS_OS="Windows",e.Agent.SOLARIS_OS="Solaris",e.Agent.MAC_OS="Mac",e.Agent.UNKNOWN_OS="Unknown",e.Agent.FOCUS_COLOR_DEFAULT="#0645AD",e.Agent.FOCUS_COLOR_IE="#090909",e.Agent.deferAriaCreation=function(){return!e.Agent.isTouchDevice()&&!e.Agent.isEnvironmentTest()},e.Agent.getDevicePixelRatio=function(){return e.Agent._initialize(),e.Agent._devicePixelRatio},e.Agent.getElementPosition=function(t){return e.Agent.isPlatformIE()?e.Agent._getElementPositionIE(t):e.Agent._getElementPositionDefault(t)},e.Agent.getPlatform=function(){return e.Agent._initialize(),e.Agent._platform},e.Agent.getOS=function(){return e.Agent._initialize(),e.Agent._os},e.Agent.getVersion=function(){return e.Agent._initialize(),e.Agent._version},e.Agent.isBrowserChrome=function(){return e.Agent._initialize(),e.Agent._bChrome},e.Agent.isBrowserSafari=function(){return e.Agent.isPlatformWebkit()&&!e.Agent.isBrowserChrome()},e.Agent.isPlatformGecko=function(){return e.Agent.getPlatform()==e.Agent.GECKO_PLATFORM},e.Agent.isPlatformIE=function(){return e.Agent.getPlatform()==e.Agent.IE_PLATFORM},e.Agent.isPlatformWebkit=function(){return e.Agent.getPlatform()==e.Agent.WEBKIT_PLATFORM},e.Agent.isRightToLeft=function(t){return e.Agent._initialize(),t&&null!=t.getReadingDirection()?"rtl"==t.getReadingDirection():e.Agent._bRtl},e.Agent.isTouchDevice=function(){return e.Agent._initialize(),e.Agent._bTouchDevice},e.Agent.setEnvironment=function(t){e.Agent._environment=t},e.Agent.isEnvironmentTest=function(){return"test"==e.Agent._environment},e.Agent.isEnvironmentBatik=function(){return"batik"==e.Agent._environment},e.Agent.isEnvironmentBrowser=function(){return!e.Agent.isEnvironmentTest()&&!e.Agent.isEnvironmentBatik()},e.Agent.setHighContrast=function(t){e.Agent._highContrast=t},e.Agent.isHighContrast=function(){return!0===e.Agent._highContrast},e.Agent.workaroundFirefoxRepaint=function(t){if(e.Agent.isPlatformGecko()){var i=t.getParent();if(i){var n=i.getChildIndex(t);i.removeChildAt(n),i.addChildAt(t,n)}}},e.Agent._initialize=function(){if(!e.Agent._bInitialized){var t=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():null;e.Agent._os=e.Agent._determineOS(t),e.Agent._platform=e.Agent._determinePlatform(t),e.Agent._bChrome=t&&-1!=t.indexOf("chrome/")&&-1===t.indexOf("edge"),e.Agent._version=e.Agent._determineVersion(t,e.Agent._platform),e.Agent._bRtl=!(!document||!document.documentElement)&&"rtl"==document.documentElement.dir,e.Agent._bTouchDevice=e.Agent._platform==e.Agent.WEBKIT_PLATFORM&&t&&(-1!=t.indexOf("mobile")||-1!=t.indexOf("android")),e.Agent._devicePixelRatio=window&&null!=window.devicePixelRatio?window.devicePixelRatio:1,e.Agent._bInitialized=!0}},e.Agent._determineOS=function(t){if(t){if(-1!=t.indexOf("win"))return e.Agent.WINDOWS_OS;if(-1!=t.indexOf("mac"))return e.Agent.MAC_OS;if(-1!=t.indexOf("sunos"))return e.Agent.SOLARIS_OS}return e.Agent.UNKNOWN_OS},e.Agent._determinePlatform=function(t){if(t){if(-1!=t.indexOf("opera"))return e.Agent.UNKNOWN_PLATFORM;if(-1!=t.indexOf("trident")||-1!=t.indexOf("msie")||-1!=t.indexOf("edge"))return e.Agent.IE_PLATFORM;if(-1!=t.indexOf("applewebkit")||-1!=t.indexOf("safari"))return e.Agent.WEBKIT_PLATFORM;if(-1!=t.indexOf("gecko/"))return e.Agent.GECKO_PLATFORM}return e.Agent.UNKNOWN_PLATFORM},e.Agent._determineVersion=function(t,i){if(t){if(i==e.Agent.GECKO_PLATFORM)return e.Agent._parseFloatVersion(t,/rv:(\d+[.]\d+)/);if(i==e.Agent.IE_PLATFORM){var n=e.Agent._parseFloatVersion(t,/trident\/(\d+[.]\d+)/);if(n!=e.Agent.UNKNOWN_VERSION)return n+4;var o=e.Agent._parseFloatVersion(t,/edge\/(\d+[.]\d+)/);if(o!=e.Agent.UNKNOWN_VERSION)return o;var r=e.Agent._parseFloatVersion(t,/msie (\d+\.\d+);/);return r!=e.Agent.UNKNOWN_VERSION?r:e.Agent._parseFloatVersion(t,/msie (\d+\.\d+)b;/)}if(i==e.Agent.WEBKIT_PLATFORM)return e.Agent._bChrome?e.Agent._parseFloatVersion(t,/chrome\/(\d+([.]\d+)*)/):e.Agent._parseFloatVersion(t,/applewebkit\/(\d+([.]\d+)*)/)}return e.Agent.UNKNOWN_VERSION},e.Agent._parseFloatVersion=function(t,i){try{var n=t.match(i);return n&&n[1]?parseFloat(n[1]):e.Agent.UNKNOWN_VERSION}catch(t){return console.error("dvt.Agent._parseFloatVersion error: "),console.error(t),e.Agent.UNKNOWN_VERSION}},e.Agent._getElementPositionDefault=function(t){var i=t.getBoundingClientRect(),n=Math.round(i.top),o=i.left,r=t.ownerDocument.documentElement,s=t.ownerDocument.body;return o+=r.scrollLeft||s.scrollLeft,n+=r.scrollTop||s.scrollTop,new e.Point(o,n)},e.Agent._getElementPositionIE=function(t){var i=t.getBoundingClientRect(),n=i.top,o=i.left,r=t.ownerDocument.documentElement,s=r.scrollLeft;return o-=r.clientLeft-s,n-=r.clientTop-r.scrollTop,new e.Point(o,n)},e.Agent.getFocusColor=function(){if(e.Agent._initialize(),!e.Agent._focusColor){var t;if(e.Agent.isPlatformWebkit()&&!e.Agent.isEnvironmentTest()){var i=document.getElementsByTagName("body")[0],n=document.createElement("div");i.appendChild(n),n.style.outline="-webkit-focus-ring-color",t=window.getComputedStyle(n).getPropertyValue("outline-color"),i.removeChild(n)}else e.Agent.isPlatformIE()&&(t=e.Agent.FOCUS_COLOR_IE);e.Agent._focusColor=t||e.Agent.FOCUS_COLOR_DEFAULT}return e.Agent._focusColor},e.Bundle=function(){},e.Bundle._localizedStrings={},e.Bundle._defaultStrings={},e.Obj.createSubclass(e.Bundle,e.Obj),e.Bundle.SUBCOMPONENT_PREFIX="DvtSubcomponentBundle",e.Bundle.AFCOMPONENT_PREFIX="DvtAfComponentBundle",e.Bundle.UTIL_PREFIX="DvtUtilBundle",e.Bundle.CHART_PREFIX="DvtChartBundle",e.Bundle.GAUGE_PREFIX="DvtGaugeBundle",e.Bundle.TREEMAP_PREFIX="DvtTreemapBundle",e.Bundle.SUNBURST_PREFIX="DvtSunburstBundle",e.Bundle.NBOX_PREFIX="DvtNBoxBundle",e.Bundle.HIERARCHYVIEWER_PREFIX="DvtHierarchyViewerBundle",e.Bundle.ADF_DIAGRAM_PREFIX="DvtAdfDiagramBundle",e.Bundle.DIAGRAM_PREFIX="DvtDiagramBundle",e.Bundle.TAGCLOUD_PREFIX="DvtTagCloudBundle",e.Bundle.TIMELINE_PREFIX="DvtTimelineBundle",e.Bundle.addLocalizedStrings=function(t){for(var i in t)e.Bundle._localizedStrings[i]=t[i]},e.Bundle.addDefaultStrings=function(t,i){for(var n in i)e.Bundle._defaultStrings[t+"."+n]=i[n]},e.Bundle.format=function(t,e){return t.replace(/\{(\d+)\}/g,function(){return e[arguments[1]]})},e.Bundle.getTranslatedString=function(t,i,n){var o=t+"."+i,r=e.Bundle._localizedStrings[o];return r||(r=e.Bundle._defaultStrings[o]),r&&null!=n&&(r=n instanceof Array?e.Bundle.format(r,n):e.Bundle.format(r,[n])),r},e.Bundle.getTranslation=function(t,i,n,o,r){var s=t&&t.translations?t.translations[i]:null;if(!s){var a=n+"."+o;(s=e.Bundle._localizedStrings[a])||(s=e.Bundle._defaultStrings[a])}return s&&null!=r&&(s=r instanceof Array?e.Bundle.format(s,r):e.Bundle.format(s,[r])),s},e.ContextMenuHandler=function(t,e){this._context=t,this._menus=e},e.Obj.createSubclass(e.ContextMenuHandler,e.Obj),e.ContextMenuHandler.TYPE_BODY_CONTEXT_MENU="bodyContextMenu",e.ContextMenuHandler.TYPE_CONTEXT_MENU="contextMenu",e.ContextMenuHandler.TYPE_MULTI_SELECT_CONTEXT_MENU="multiSelectContextMenu",e.ContextMenuHandler._ATTR_MENU_CONTAINER_TYPE="t",e.ContextMenuHandler._ATTR_MENU_CONTAINER_POPUP_ID="id",e.ContextMenuHandler.prototype.show=function(t,i){for(var n=0;n<this._menus.length;n++){var o=this._menus[n];if(i==o[e.ContextMenuHandler._ATTR_MENU_CONTAINER_TYPE]){var r=o[e.ContextMenuHandler._ATTR_MENU_CONTAINER_POPUP_ID];return e.EventFactory.newAdfContextMenuEvent(t.getNativeEvent(),r)}}return null};var N=function(t,i,n){this._context=t,this._callback=i,this._callbackObj=n,this._popupPosition=null,this._mouseTarget=null,this._behavior=null,this._hoverPopupShown=!1,this._hoverTimer=new e.Timer(t,500,this._onHoverDelay,this,1),this._overTimer=new e.Timer(t,500,this._onOverDelay,this,1)};e.Obj.createSubclass(N,e.Obj),N.prototype.processPopupHelper=function(t,i,n,o,r,s){var a=!1;if(t&&i&&i.length>0)for(var l=0;l<i.length;l++){var h=i[l];if(h&&-1!=e.ArrayUtils.getIndex(n,h.getTriggerType())){this.HidePopup(r),this._behavior=h;var u=this._createShowPopupEvent(t,h,o),c=this,p=function(){e.EventDispatcher.dispatchEvent(c._callback,c._callbackObj,c,u)};s?setTimeout(p,100):p(),a=!0}}return a},N.prototype.processMousePopup=function(t,i,n,o,r,s){if(t===this._mouseTarget)return!0;if(t&&i&&i.length>0)for(var a=0;a<i.length;a++){var l=i[a],h=l?l.getTriggerType():null;if(h==e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_HOVER&&(h=e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_OVER),s==h)return this.HidePopup(r),this._mouseTarget=t,this._behavior=l,this._hoverDisplayable=o,this._popupPosition=n,s==e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_HOVER||s==e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_OVER?l.getTriggerType()==e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_HOVER?this._hoverTimer.start():this._overTimer.start():this._onOverDelay(),!0}return!1},N.prototype.processMouseOut=function(t,i,n){var o=!1;i&&(o=i.length<1),this._mouseTarget&&this._behavior&&(t===this._mouseTarget||o)&&(i&&this._hoverDisplayable&&e.ArrayUtils.getIndex(i,this._hoverDisplayable)>-1||this.HidePopup(n))},N.prototype.HidePopup=function(t){if(this._hoverPopupShown){var i=e.EventFactory.newAdfHidePopupEvent(this._behavior.getPopupId(),t.getNativeEvent().relatedTarget);e.EventDispatcher.dispatchEvent(this._callback,this._callbackObj,this,i)}else this._hoverTimer.stop();this._mouseTarget=null,this._behavior=null,this._hoverPopupShown=!1,this._hoverDisplayable=null},N.prototype.processMouseMove=function(t){this._popupPosition=t},N.prototype._createShowPopupEvent=function(t,i,n){var o=i,r=i,s=o.getAlign()&&!o.getAlignId();s&&(r=new e.ShowPopupBehavior(o.getPopupId(),o.getTriggerType(),null,null));var a=t.getPopupBounds?t.getPopupBounds(r):null,l=!o.getAlign()&&!o.getAlignId()&&"contextMenu"==o.getTriggerType();if(s&&!a||l){var h=this._context.pageToStageCoords(n.x,n.y);a=new e.Rectangle(h.x,h.y-5,1,5)}else a&&(o=new e.ShowPopupBehavior(o.getPopupId(),o.getTriggerType(),null,o.getAlign()));var u=e.EventFactory.newAdfShowPopupEvent(o,a,null,o.getTriggerType());return e.EventManager._addContextInfo(t,u),u},N.prototype._onHoverDelay=function(){if(this._mouseTarget&&this._behavior){this._hoverPopupShown=!0;var t=this._createShowPopupEvent(this._mouseTarget,this._behavior,this._popupPosition);e.EventDispatcher.dispatchEvent(this._callback,this._callbackObj,this,t)}},N.prototype._onOverDelay=function(){if(this._mouseTarget&&this._behavior){var t=this._createShowPopupEvent(this._mouseTarget,this._behavior,this._popupPosition);e.EventDispatcher.dispatchEvent(this._callback,this._callbackObj,this,t)}},N.prototype.hasPopup=function(t,i){if(!t||!t.getShowPopupBehaviors)return!1;var n=t.getShowPopupBehaviors();if(n)for(var o=0;o<n.length;o++){var r=n[o];if(r&&-1!=e.ArrayUtils.getIndex(i,r.getTriggerType()))return!0}return!1},e.ClientBehaviorHandler=function(t,e,i){this.Init(t,e,i)},e.Obj.createSubclass(e.ClientBehaviorHandler,e.Obj),e.ClientBehaviorHandler.prototype.Init=function(t,e,i){this._context=t,this._callback=e,this._callbackObj=i},e.ClientBehaviorHandler.prototype.processClick=function(t,i){var n=!1;if(t&&i&&i.length>0)for(var o=0;o<i.length;o++){var r=i[o];if(r&&(r.getTriggerType()==e.ClientBehavior.TRIGGER_TYPE_ACTION||r.getTriggerType()==e.ClientBehavior.TRIGGER_TYPE_CLICK)){var s=this.CreateClientBehaviorEvent(t,r);e.EventDispatcher.dispatchEvent(this._callback,this._callbackObj,null,s),n=!0}}return n},e.ClientBehaviorHandler.prototype.CreateClientBehaviorEvent=function(t,i){var n=new e.ClientBehaviorEvent(i);return e.EventManager._addContextInfo(t,n),n},e.SelectionHandler=function(t,e){this.Init(t,e)},e.Obj.createSubclass(e.SelectionHandler,e.Obj),e.SelectionHandler.TYPE_SINGLE="s",e.SelectionHandler.TYPE_MULTIPLE="m",e.SelectionHandler.prototype.Init=function(t,i){this._context=t,this._selection=[],this._type=i||e.SelectionHandler.TYPE_SINGLE,this._hiddenSelectedIds=[]},e.SelectionHandler.prototype.getType=function(){return this._type},e.SelectionHandler.prototype.getSelectedCount=function(){return this._selection.length},e.SelectionHandler.prototype.getSelection=function(){return this._selection.slice(0)},e.SelectionHandler.prototype.getSelectedIds=function(){for(var t=[],e=0;e<this._selection.length;e++)t.push(this._selection[e].getId());return t.concat(this._hiddenSelectedIds)},e.SelectionHandler.prototype.processInitialSelections=function(t,e){if(this.clearSelection(!0),t&&e){for(var i=new this._context.oj.KeySetImpl(t),n=new Map,o=0,r=0;o!==t.length&&r<e.length;r++)if((a=e[r]).isSelectable&&a.isSelectable()){var s=i.get(a.getId());null!=s&&(o++,n.set(s,a))}for(r=0;r<t.length;r++){var a;(a=n.get(t[r]))?this._addToSelection(a,!0,!0):this._hiddenSelectedIds.push(t[r])}}},e.SelectionHandler.prototype.processClick=function(t,i){if(t&&t.isUnrelatedToSelection&&t.isUnrelatedToSelection())return!1;var n=!1;return i&&this._type==e.SelectionHandler.TYPE_MULTIPLE?t&&t.isSelectable&&t.isSelectable()&&(n=t.isSelected()?this.removeFromSelection(t):this._addToSelection(t,!0)):n=t&&t.isSelectable&&t.isSelectable()?this._addToSelection(t,!1):this.clearSelection(),n},e.SelectionHandler.prototype.processGroupSelection=function(t,e){var i;e||this.clearSelection();for(var n=0;n<t.length;n++)(i=t[n])&&i.isUnrelatedToSelection&&i.isUnrelatedToSelection()||this._addToSelection(i,!0)},e.SelectionHandler.prototype.processMouseOver=function(t){t&&t.isSelectable&&t.isSelectable()&&t.showHoverEffect&&t.showHoverEffect()},e.SelectionHandler.prototype.processMouseOut=function(t){t&&t.isSelectable&&t.isSelectable()&&t.hideHoverEffect&&t.hideHoverEffect()},e.SelectionHandler.prototype._addToSelection=function(t,e,i){return!(t.isSelected()||t.isSelectable&&!t.isSelectable()||(e||this.clearSelection(i),t.setSelected(!0,i),this._selection.push(t),0))},e.SelectionHandler.prototype.removeFromSelection=function(t){if(!t.isSelected())return!1;t.setSelected(!1);for(var e=0;e<this._selection.length;e++)if(this._selection[e]==t){this._selection.splice(e,1);break}return!0},e.SelectionHandler.prototype.clearSelection=function(t){if(this._selection.length<=0&&this._hiddenSelectedIds.length<=0)return!1;for(;this._selection.length>0;)this._selection.pop().setSelected(!1,t);return this._hiddenSelectedIds.length=0,!0},e.SelectionHandler._isEquals=function(t,e){return t==e||!(t instanceof String)&&!(!t||!t.equals)&&t.equals(e)},e.KeyboardHandler=function(t){this.Init(t)},e.Obj.createSubclass(e.KeyboardHandler,e.Obj),e.KeyboardHandler._OPTIMAL_ANGLE1=15/180*Math.PI,e.KeyboardHandler._OPTIMAL_ANGLE2=40/180*Math.PI,e.KeyboardHandler._SUBOPTIMAL_ANGLE_PENALTY1=2,e.KeyboardHandler._SUBOPTIMAL_ANGLE_PENALTY2=6,e.KeyboardHandler.prototype.Init=function(t){this._eventManager=t},e.KeyboardHandler.prototype.processKeyDown=function(t){var i=this._eventManager.getFocus();if(i&&(this.isNavigationEvent(t)||this.isMultiSelectEvent(t))){e.EventManager.consumeEvent(t);var n=i.getNextNavigable(t);return n!=i&&(n&&this._showPopupHelper(n,[e.ShowPopupBehavior.TRIGGER_TYPE_FOCUS],t),this._showPopupHelper(i,[e.ShowPopupBehavior.TRIGGER_TYPE_BLUR],t)),n}return t.keyCode!=e.KeyboardEvent.TAB&&i&&this._showPopupHelper(i,[e.ShowPopupBehavior.TRIGGER_TYPE_KEY_DOWN],t),null},e.KeyboardHandler.prototype.processKeyUp=function(t,i){var n=this._eventManager.getFocus();n&&t.keyCode==e.KeyboardEvent.TAB?this._showPopupHelper(n,[e.ShowPopupBehavior.TRIGGER_TYPE_FOCUS],t):!n||this.isNavigationEvent(t)||this.isMultiSelectEvent(t)||this._showPopupHelper(n,i,t)},e.KeyboardHandler.getNextNavigable=function(t,i,n,o,r){var s=null,a=0,l=0,h=i.keyCode;if(!t)return!n||n.length<1?null:n[0];for(var u,c=t.getKeyboardBoundingBox(r),p=0;p<n.length;p++){var _=n[p];t!==_&&(u=_.getKeyboardBoundingBox(r),(o||e.KeyboardHandler._isInBounds(c,u,h))&&(l=e.KeyboardHandler._computeDelta(c,u,h),((h==e.KeyboardEvent.UP_ARROW||h==e.KeyboardEvent.LEFT_ARROW)&&l<0&&(!s||l>a)||(h==e.KeyboardEvent.DOWN_ARROW||h==e.KeyboardEvent.RIGHT_ARROW)&&l>0&&(!s||l<a))&&(s=_,a=l)))}return s||t},e.KeyboardHandler.prototype._showPopupHelper=function(t,e,i){var n=this._eventManager.getCtx(),o=t.getKeyboardBoundingBox(n.getStage()).getCenter(),r=n.stageToPageCoords(o.x,o.y),s=t.getShowPopupBehaviors?t.getShowPopupBehaviors():null;return this._eventManager.getPopupHandler().processPopupHelper(t,s,e,r,i)},e.KeyboardHandler.prototype.getDefaultNavigable=function(t){if(!t||t.length<=0)return null;for(var i,n,o=t[0],r=o.getKeyboardBoundingBox(),s=1;s<t.length;s++)(((n=(i=t[s]).getKeyboardBoundingBox()).x==r.x&&n.y<r.y||n.x<r.x)&&!e.Agent.isRightToLeft(this._eventManager.getCtx())||(n.x+n.w==r.x+r.w&&n.y<r.y||n.x+n.w>r.x+r.w)&&e.Agent.isRightToLeft(this._eventManager.getCtx()))&&(r=(o=i).getKeyboardBoundingBox());return o},e.KeyboardHandler.prototype.isNavigationEvent=function(t){switch(t.keyCode){case e.KeyboardEvent.UP_ARROW:case e.KeyboardEvent.DOWN_ARROW:case e.KeyboardEvent.LEFT_ARROW:case e.KeyboardEvent.RIGHT_ARROW:return!0}return!1},e.KeyboardHandler.prototype.isSelectionEvent=function(t){return!1},e.KeyboardHandler.prototype.isMultiSelectEvent=function(t){return!1},e.KeyboardHandler.prototype.isContextMenuEvent=function(t){return t.keyCode==e.KeyboardEvent.M&&t.altKey&&t.ctrlKey},e.KeyboardHandler._isInBounds=function(t,i,n){if(n==e.KeyboardEvent.UP_ARROW||n==e.KeyboardEvent.DOWN_ARROW){var o=t.x,r=o+t.w,s=i.x;return!(o>=s+i.w||r<=s)}if(n==e.KeyboardEvent.LEFT_ARROW||n==e.KeyboardEvent.RIGHT_ARROW){var a=t.y,l=a+t.h,h=i.y;return!(a>=h+i.h||l<=h)}},e.KeyboardHandler._computeDelta=function(t,i,n){var o=0,r=t.getCenter().x,s=t.getCenter().y,a=i.getCenter().x,l=i.getCenter().y;return n==e.KeyboardEvent.UP_ARROW||n==e.KeyboardEvent.DOWN_ARROW?o=l-s:n!=e.KeyboardEvent.LEFT_ARROW&&n!=e.KeyboardEvent.RIGHT_ARROW||(o=a-r),o},e.KeyboardHandler.getNextAdjacentNavigable=function(t,i,n){var o=i.keyCode;if(!n)return null;if(!t)return n[0];for(var r=t,s=Number.MAX_VALUE,a=!1,l=!1,h=0;h<n.length;h++){var u=n[h];if(u!==t){if(e.KeyboardHandler._isValidDestination(u,t,o)){var c=e.KeyboardHandler._calcInContact(u,t,o);if(!a||c){var p=e.KeyboardHandler._calcDistanceAngleWeighted(u,t,o);(0!=p||l)&&(!a&&c||p<s&&(a&&c||!a))&&(s=p,r=u,a=c)}}}else l=!0}return r},e.KeyboardHandler._calcInContact=function(t,i,n){var o=t.getKeyboardBoundingBox(),r=i.getKeyboardBoundingBox();switch(n){case e.KeyboardEvent.UP_ARROW:return e.KeyboardHandler._isVerticallyAligned(o,r)&&(r.y<=o.y+o.h||e.KeyboardHandler._areEqualWithinTolerance(r.y,o.y+o.h));case e.KeyboardEvent.DOWN_ARROW:return e.KeyboardHandler._isVerticallyAligned(o,r)&&(o.y<=r.y+r.h||e.KeyboardHandler._areEqualWithinTolerance(o.y,r.y+r.h));case e.KeyboardEvent.RIGHT_ARROW:return e.KeyboardHandler._isHorizontallyAligned(o,r)&&(o.x<=r.x+r.w||e.KeyboardHandler._areEqualWithinTolerance(o.x,r.x+r.w));case e.KeyboardEvent.LEFT_ARROW:return e.KeyboardHandler._isHorizontallyAligned(o,r)&&(r.x<=o.x+o.w||e.KeyboardHandler._areEqualWithinTolerance(r.x,o.x+o.w))}return!1},e.KeyboardHandler._isVerticallyAligned=function(t,e){return t.x>=e.x&&t.x<=e.x+e.w||e.x>=t.x&&e.x<=t.x+t.w},e.KeyboardHandler._isHorizontallyAligned=function(t,e){return t.y>=e.y&&t.y<=e.y+e.h||e.y>=t.y&&e.y<=t.y+t.h},e.KeyboardHandler._calcDistanceAngleWeighted=function(t,i,n){var o=t.getKeyboardBoundingBox(),r=o.x+o.w/2,s=o.y+o.h/2,a=i.getKeyboardBoundingBox(),l=a.x+a.w/2,h=a.y+a.h/2,u=Math.abs(r-l),c=Math.abs(s-h),p=Math.atan2(c,u),_=Math.sqrt(u*u+c*c);return(p>e.KeyboardHandler._OPTIMAL_ANGLE1&&(n==e.KeyboardEvent.RIGHT_ARROW||n==e.KeyboardEvent.LEFT_ARROW)||p<e.Math.HALF_PI-e.KeyboardHandler._OPTIMAL_ANGLE1&&(n==e.KeyboardEvent.UP_ARROW||n==e.KeyboardEvent.DOWN_ARROW))&&(p>e.KeyboardHandler._OPTIMAL_ANGLE2&&(n==e.KeyboardEvent.RIGHT_ARROW||n==e.KeyboardEvent.LEFT_ARROW)||p<e.Math.HALF_PI-e.KeyboardHandler._OPTIMAL_ANGLE2&&(n==e.KeyboardEvent.UP_ARROW||n==e.KeyboardEvent.DOWN_ARROW)?_*=e.KeyboardHandler._SUBOPTIMAL_ANGLE_PENALTY2:_*=e.KeyboardHandler._SUBOPTIMAL_ANGLE_PENALTY1),_},e.KeyboardHandler._isValidDestination=function(t,i,n){var o=t.getKeyboardBoundingBox(),r=i.getKeyboardBoundingBox();switch(n){case e.KeyboardEvent.UP_ARROW:return o.y<r.y||e.KeyboardHandler._areEqualWithinTolerance(o.y,r.y);case e.KeyboardEvent.DOWN_ARROW:return o.y>r.y||e.KeyboardHandler._areEqualWithinTolerance(o.y,r.y);case e.KeyboardEvent.RIGHT_ARROW:return o.x>r.x||e.KeyboardHandler._areEqualWithinTolerance(o.x,r.x);case e.KeyboardEvent.LEFT_ARROW:return o.x<r.x||e.KeyboardHandler._areEqualWithinTolerance(o.x,r.x)}return!0},e.KeyboardHandler._areEqualWithinTolerance=function(t,e){return Math.abs(t-e)<=1e-7},e.MarqueeHandler=function(t,e,i,n,o,r,s,a,l){this.Init(t,e,i,n,o,r,s,a,l)},e.Obj.createSubclass(e.MarqueeHandler,e.Obj),e.MarqueeHandler.prototype.Init=function(t,i,n,o,r,s,a,l,h){this._context=t.getCtx(),this._container=t,this._bounds=i,this._fill=o,this._stroke=r,this._allowHoriz=null==s||s,this._allowVert=null==a||a,this._horizBounds=l,this._vertBounds=h,this._glassPane=new e.Rect(this._context,n.x,n.y,n.w,n.h),this._glassPane.setInvisibleFill(),this._marqueeOn=!1,this._marqueeDrawn=!1,this._resizeHoriz=!1,this._resizeVert=!1},e.MarqueeHandler.prototype.processDragStart=function(t,i){if(!this._marqueeOn){if(this._origPt=this._container.stageToLocal(t),this._resizeHoriz=this._allowHoriz,this._resizeVert=this._allowVert,!this._bounds.containsPoint(this._origPt.x,this._origPt.y))if(this._vertBounds&&this._vertBounds.containsPoint(this._origPt.x,this._origPt.y))this._resizeHoriz=!1;else{if(!this._horizBounds||!this._horizBounds.containsPoint(this._origPt.x,this._origPt.y))return null;this._resizeVert=!1}return this._marqueeOn=!0,this._marquee=null,this._createMarqueeEvent(e.MarqueeEvent.SUBTYPE_START,i)}return null},e.MarqueeHandler.prototype.processDragMove=function(t,i){if(!this._marqueeOn)return null;this._marqueeDrawn||(this._container.addChild(this._glassPane),this._marquee=new e.Rect(this._context,this._bounds.x,this._bounds.y,this._bounds.w,this._bounds.h),this._marquee.getElem().setAttribute("pointer-events","none"),this._resizeHoriz&&(this._marquee.setX(this._origPt.x),this._marquee.setWidth(0)),this._resizeVert&&(this._marquee.setY(this._origPt.y),this._marquee.setHeight(0)),this._marquee.setStroke(this._stroke),this._marquee.setFill(this._fill),this._marquee.setPixelHinting(!0),this._glassPane.addChild(this._marquee),this._marqueeDrawn=!0);var n=this._container.stageToLocal(t);return n.x=Math.max(n.x,this._bounds.x),n.x=Math.min(n.x,this._bounds.x+this._bounds.w),n.y=Math.max(n.y,this._bounds.y),n.y=Math.min(n.y,this._bounds.y+this._bounds.h),this._resizeHoriz&&(this._marquee.setWidth(Math.abs(n.x-this._origPt.x)),n.x<this._origPt.x?this._marquee.setX(n.x):this._marquee.setX(this._origPt.x)),this._resizeVert&&(this._marquee.setHeight(Math.abs(n.y-this._origPt.y)),n.y<this._origPt.y?this._marquee.setY(n.y):this._marquee.setY(this._origPt.y)),this._createMarqueeEvent(e.MarqueeEvent.SUBTYPE_MOVE,i)},e.MarqueeHandler.prototype.processDragEnd=function(t,i){return this._marqueeOn&&(this._marqueeOn=!1,this._marqueeDrawn)?(this._glassPane.removeChild(this._marquee),this._container.removeChild(this._glassPane),this._marqueeDrawn=!1,this._createMarqueeEvent(e.MarqueeEvent.SUBTYPE_END,i)):null},e.MarqueeHandler.prototype.cancelMarquee=function(){return!(!this._marqueeOn||(this._marqueeOn=!1,!this._marqueeDrawn)||(this._glassPane.removeChild(this._marquee),this._container.removeChild(this._glassPane),this._marqueeDrawn=!1,0))},e.MarqueeHandler.prototype._createMarqueeEvent=function(t,i){var n=null,o=null,r=null,s=null;return this._resizeHoriz&&(n=this._marquee?this._marquee.getX():this._origPt.x,r=this._marquee?this._marquee.getWidth():0),this._resizeVert&&(o=this._marquee?this._marquee.getY():this._origPt.y,s=this._marquee?this._marquee.getHeight():0),new e.MarqueeEvent(t,n,o,r,s,i)},e.MarqueeHandler.prototype.getCursor=function(t){var e=this._container.stageToLocal(t),i=this._bounds.containsPoint(e.x,e.y),n=this._vertBounds&&this._vertBounds.containsPoint(e.x,e.y),o=this._horizBounds&&this._horizBounds.containsPoint(e.x,e.y);return i||n||o?"crosshair":"inherit"},e.MarqueeHandler.prototype.getGlassPane=function(){return this._glassPane},e.PanZoomHandler=function(t,e,i,n){this.Init(t,e,i,n)},e.Obj.createSubclass(e.PanZoomHandler,e.Obj),e.PanZoomHandler.prototype.Init=function(t,i,n,o){this._context=t.getCtx(),this._container=t,this._bounds=i,this._zoomRate=o,this._glassPane=new e.Rect(this._context,n.x,n.y,n.w,n.h),this._glassPane.setInvisibleFill(),
this._panOn=!1,this._glassPaneDrawn=!1,this._pinchOn=!1},e.PanZoomHandler.prototype.processDragStart=function(t){return this._panOn?null:(this._origPt=this._container.stageToLocal(t),this._lastPt=this._origPt,this._bounds.containsPoint(this._origPt.x,this._origPt.y)?(this._panOn=!0,new e.PanZoomEvent(e.PanZoomEvent.SUBTYPE_PAN_START,0,0,0,0,0,0,0,0)):null)},e.PanZoomHandler.prototype.processDragMove=function(t){if(!this._panOn)return null;this._glassPaneDrawn||(this._container.addChild(this._glassPane),this._glassPaneDrawn=!0);var i=this._container.stageToLocal(t),n=i.x-this._lastPt.x,o=i.y-this._lastPt.y,r=i.x-this._origPt.x,s=i.y-this._origPt.y;return this._lastPt=i,new e.PanZoomEvent(e.PanZoomEvent.SUBTYPE_PAN_MOVE,-n,-n,-o,-o,-r,-r,-s,-s)},e.PanZoomHandler.prototype.processDragEnd=function(t){if(this._panOn&&(this._panOn=!1,this._glassPaneDrawn)){this._container.removeChild(this._glassPane),this._glassPaneDrawn=!1;var i=t?this._container.stageToLocal(t):this._lastPt,n=i.x-this._lastPt.x,o=i.y-this._lastPt.y,r=i.x-this._origPt.x,s=i.y-this._origPt.y;return this._lastPt=null,new e.PanZoomEvent(e.PanZoomEvent.SUBTYPE_PAN_END,-n,-n,-o,-o,-r,-r,-s,-s)}return null},e.PanZoomHandler.prototype.processMouseWheel=function(t,i){var n=this._container.stageToLocal(t);if(!this._bounds.containsPoint(n.x,n.y))return null;var o=(i*=this._zoomRate)*(n.x-this._bounds.x),r=-i*(this._bounds.x+this._bounds.w-n.x),s=i*(n.y-this._bounds.y),a=-i*(this._bounds.y+this._bounds.h-n.y);return new e.PanZoomEvent(e.PanZoomEvent.SUBTYPE_ZOOM,o,r,s,a,o,r,s,a)},e.PanZoomHandler.prototype.processPinchStart=function(t,i){return this._pinchOn?null:(this._origPt1=this._container.stageToLocal(t),this._origPt2=this._container.stageToLocal(i),this._lastPt1=this._origPt1,this._lastPt2=this._origPt2,this._bounds.containsPoint(this._origPt1.x,this._origPt1.y)&&this._bounds.containsPoint(this._origPt2.x,this._origPt2.y)?(this._pinchOn=!0,new e.PanZoomEvent(e.PanZoomEvent.SUBTYPE_PINCH_START,0,0,0,0,0,0,0,0)):null)},e.PanZoomHandler.prototype.processPinchMove=function(t,i){if(!this._pinchOn)return null;var n=this._container.stageToLocal(t),o=this._container.stageToLocal(i),r=this._computePinchDeltas(n,o,this._lastPt1,this._lastPt2),s=this._computePinchDeltas(n,o,this._origPt1,this._origPt2);return this._lastPt1=n,this._lastPt2=o,new e.PanZoomEvent(e.PanZoomEvent.SUBTYPE_PINCH_MOVE,r.dxMin,r.dxMax,r.dyMin,r.dyMax,s.dxMin,s.dxMax,s.dyMin,s.dyMax)},e.PanZoomHandler.prototype.processPinchEnd=function(){if(this._pinchOn){this._pinchOn=!1;var t=this._computePinchDeltas(this._lastPt1,this._lastPt2,this._origPt1,this._origPt2);return this._lastPt1=null,this._lastPt2=null,new e.PanZoomEvent(e.PanZoomEvent.SUBTYPE_PINCH_END,0,0,0,0,t.dxMin,t.dxMax,t.dyMin,t.dyMax)}return null},e.PanZoomHandler.prototype._computePinchDeltas=function(t,e,i,n){var o=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y),s=Math.abs(i.x-n.x),a=Math.abs(i.y-n.y),l=o>r/2?s/o:1,h=r>o/2?a/r:1,u=(t.x+e.x)/2,c=(t.y+e.y)/2,p=u-(i.x+n.x)/2,_=c-(i.y+n.y)/2,g=(1-l)*(u-this._bounds.x),d=(l-1)*(this._bounds.x+this._bounds.w-u),S=(1-h)*(c-this._bounds.y),f=(h-1)*(this._bounds.y+this._bounds.h-c);return{dxMin:g-=p,dxMax:d-=p,dyMin:S-=_,dyMax:f-=_}},e.PanZoomHandler.prototype.zoomBy=function(t){var i=(1/t-1)/2,n=-i*this._bounds.w,o=i*this._bounds.w,r=-i*this._bounds.h,s=i*this._bounds.h;return new e.PanZoomEvent(e.PanZoomEvent.SUBTYPE_ZOOM,n,o,r,s,n,o,r,s)},e.PanZoomHandler.prototype.panBy=function(t,i){var n=t*this._bounds.w*(e.Agent.isRightToLeft(this._context)?-1:1),o=i*this._bounds.h;return new e.PanZoomEvent(e.PanZoomEvent.SUBTYPE_PAN_END,n,n,o,o,n,n,o,o)},e.PanZoomHandler.prototype.setPanCursor=function(t,i){e.Agent.isPlatformIE()||(t&&(this._panUpCursor="url("+t+") 8 8, auto"),i&&(this._panDownCursor="url("+i+") 8 8, auto"))},e.PanZoomHandler.prototype.getCursor=function(t){return null==t||this.isWithinBounds(t)?this._panOn?this._panDownCursor?this._panDownCursor:"move":this._panUpCursor?this._panUpCursor:"move":"inherit"},e.PanZoomHandler.prototype.isWithinBounds=function(t){var e=this._container.stageToLocal(t);return this._bounds.containsPoint(e.x,e.y)},e.TooltipManager=function(){},e.Obj.createSubclass(e.TooltipManager,e.Obj),e.TooltipManager.prototype.showDatatip=function(t,e,i,n){},e.TooltipManager.prototype.showTooltip=function(t,e,i,n,o,r){},e.TooltipManager.prototype.hideTooltip=function(){},e.CategoryRolloverHandler=function(t,i){this._callback=t,this._callbackObj=i,this._source=i,this._bHighlightMode=!1,this._hoverDelayCallback=null,this._highlightModeTimeout=null,this._hoverDelay=e.CategoryRolloverHandler._HOVER_DELAY},e.Obj.createSubclass(e.CategoryRolloverHandler,e.Obj),e.CategoryRolloverHandler._HOVER_DELAY=50,e.CategoryRolloverHandler._HOVER_TIMEOUT=1e3,e.CategoryRolloverHandler._ROLLOUT_TIMEOUT=250,e.CategoryRolloverHandler._FADE_OUT_OPACITY=.35,e.CategoryRolloverHandler.prototype.processEvent=function(t,i,n,o,r){if(t&&i&&0!=i.length){this._hoverDelayCallback&&(clearTimeout(this._hoverDelayCallback),this._hoverDelayCallback=null);var s=t._highlightType;if("over"==s){var a=this._bHighlightMode?this._hoverDelay:n;this._hoverDelayCallback=setTimeout(this.GetRolloverCallback(t,i,o,r),a),this._highlightModeTimeout&&(clearInterval(this._highlightModeTimeout),this._highlightModeTimeout=null)}else if("out"==s){var l=this._bHighlightMode?this._hoverDelay:e.CategoryRolloverHandler._ROLLOUT_TIMEOUT;this._hoverDelayCallback=setTimeout(this.GetRolloutCallback(t,i,o,r),l)}}},e.CategoryRolloverHandler.prototype.GetRolloverCallback=function(t,i,n,o){return e.Obj.createCallback(this,function(){this._bHighlightMode=!0,e.CategoryRolloverHandler.highlight(t.categories,i,n,o),this._callback&&this._callback.call(this._callbackObj,t,this._source)})},e.CategoryRolloverHandler.prototype.GetRolloutCallback=function(t,i,n,o){return e.Obj.createCallback(this,function(){e.CategoryRolloverHandler.highlight(t.categories,i,n,o),this.SetHighlightModeTimeout(),this._callback&&this._callback.call(this._callbackObj,t,this._source)})},e.CategoryRolloverHandler.highlight=function(t,i,n,o){if(i)for(var r=o||e.CategoryRolloverHandler._FADE_OUT_OPACITY,s=0;s<i.length;s++){var a=i[s];if(a&&a.getCategories){var l=n?e.CategoryRolloverHandler._hasAnyCategory(a,t):e.CategoryRolloverHandler._hasAllCategories(a,t),h=t&&t.length>0&&!l;e.CategoryRolloverHandler._highlightObj(a,h,r)}}},e.CategoryRolloverHandler._highlightObj=function(t,i,n){var o=i?n:1;if(t.highlight)t.highlight(i,o);else{var r=t.getDisplayables();e.CategoryRolloverHandler._updateAlpha(r,o)}},e.CategoryRolloverHandler._updateAlpha=function(t,e){if(t)for(var i=0;i<t.length;i++)t[i].setAlpha(e)},e.CategoryRolloverHandler._hasAnyCategory=function(t,i){return!(!t||!t.getCategories)&&e.ArrayUtils.hasAnyItem(t.getCategories(),i)},e.CategoryRolloverHandler._hasAllCategories=function(t,i){return!(!t||!t.getCategories)&&e.ArrayUtils.hasAllItems(t.getCategories(),i)},e.CategoryRolloverHandler.prototype.SetHighlightMode=function(t){this._bHighlightMode=t},e.CategoryRolloverHandler.prototype.SetHighlightModeTimeout=function(){var t=e.Obj.createCallback(this,function(){this.SetHighlightMode(!1)});this._highlightModeTimeout=setTimeout(t,e.CategoryRolloverHandler._HOVER_TIMEOUT)},e.CategoryRolloverHandler.prototype.setHoverDelay=function(t){this._hoverDelay=t},e.EventManager=function(t,e,i){this.Init(t,e,i)},e.Obj.createSubclass(e.EventManager,e.Obj),e.EventManager.CLEAR_SELECTION_ACTION_TYPE="clearSelectionActionType",e.EventManager.TOUCH_RESPONSE_TOUCH_START="touchStart",e.EventManager.TOUCH_RESPONSE_TOUCH_HOLD="touchHold",e.EventManager.TOUCH_RESPONSE_AUTO="auto",e.EventManager._TOUCH_RESPONSE_PADDING_CHECK=10,e.EventManager._EVENT_INFO_TOOLTIP_DISPLAYED_KEY="tooltipDisplayed",e.EventManager._EVENT_INFO_CURRENT_TARGET_KEY="currentTarget",e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY="popupDisplayed",e.EventManager.prototype.Init=function(t,i,n){this._context=t,this._callback=i,this._callbackObj=n,this._touchMap={},this._selectionHandler=null,this.PopupHandler=new N(t,i,n),this.ClientBehaviorHandler=this.CreateClientBehaviorHandler(t,i,n),this.KeyboardHandler=null,this.RolloverHandler=this.CreateCategoryRolloverHandler(i,n),this.setTooltipsEnabled(!0);var o=t.getStage().getId();o||(o="undefinedId"),this.CustomTooltipManager=this._context.getCustomTooltipManager(),this.CustomTooltipManager.addTooltipEventListener(E.TOOLTIP_CLOSED_TYPE,this.OnActionTooltipClosed,this),this.CustomTooltipManager.addTooltipEventListener(E.TOOLTIP_STARTED_TYPE,this.OnActionTooltipStarted,this),this.TouchManager=null,e.Agent.isTouchDevice()&&(this.TouchManager=new e.TouchManager("touchmanager",this._context,this)),this._focusedObj=null,this._shouldDisplayKeyboardFocus=!1,this._rolloverTypes=[],this._keyboardHandlers=[this],this._currentKeyboardHandlerIdx=-1,this._dndListeners={}},e.EventManager.prototype.getCtx=function(){return this._context},e.EventManager.prototype.associate=function(t,i,n){t&&(t._logicalObjects&&!n||(t._logicalObjects=[]),t._logicalObjects.push({logicalObject:i,eventManager:this}),!e.Agent.isEnvironmentBrowser()&&t.getImpl().setLogicalObj&&t.getImpl().setLogicalObj(i))},e.EventManager.prototype.addListeners=function(t){if(t&&(e.Agent.isTouchDevice()?(this.hideTooltip(),t.addEvtListener(e.TouchEvent.TOUCHSTART,this.OnTouchStartBubble,!1,this),t.addEvtListener(e.TouchEvent.TOUCHMOVE,this.OnTouchMoveBubble,!1,this),t.addEvtListener(e.TouchEvent.TOUCHEND,this.OnTouchEndBubble,!1,this),this.TouchManager.addTouchEventListener(e.ComponentTouchEvent.TOUCH_HOVER_START_TYPE,this._preOnComponentTouchHoverStart,this),this.TouchManager.addTouchEventListener(e.ComponentTouchEvent.TOUCH_HOVER_MOVE_TYPE,this._preOnComponentTouchHoverMove,this),this.TouchManager.addTouchEventListener(e.ComponentTouchEvent.TOUCH_HOVER_END_TYPE,this._preOnComponentTouchHoverEnd,this),this.TouchManager.addTouchEventListener(e.ComponentTouchEvent.TOUCH_HOVER_OUT_TYPE,this._preOnComponentTouchHoverOut,this),this.TouchManager.addTouchEventListener(e.ComponentTouchEvent.TOUCH_HOVER_OVER_TYPE,this._preOnComponentTouchHoverOver,this),this.TouchManager.addTouchEventListener(e.ComponentTouchEvent.TOUCH_CLICK_TYPE,this._preOnComponentTouchClick,this),this.TouchManager.addTouchEventListener(e.ComponentTouchEvent.TOUCH_DOUBLE_CLICK_TYPE,this._preOnComponentTouchDblClick,this)):(t.addEvtListener(e.MouseEvent.CLICK,this.PreOnClick,!1,this),t.addEvtListener(e.MouseEvent.DBLCLICK,this.PreOnDblClick,!1,this),t.addEvtListener("contextmenu",this.PreOnContextMenu,!1,this),t.addEvtListener(e.MouseEvent.MOUSEMOVE,this.PreOnMouseMove,!1,this),t.addEvtListener(e.MouseEvent.MOUSEOVER,this.PreOnMouseOver,!1,this),t.addEvtListener(e.MouseEvent.MOUSEOUT,this.PreOnMouseOut,!1,this),t.addEvtListener(e.MouseEvent.MOUSEDOWN,this.PreOnMouseDown,!1,this),t.addEvtListener(e.MouseEvent.MOUSEUP,this.PreOnMouseUp,!1,this),t.addEvtListener(e.KeyboardEvent.KEYDOWN,this.OnKeyDown,!1,this),t.addEvtListener(e.KeyboardEvent.KEYPRESS,this.OnKeyPress,!1,this),t.addEvtListener(e.KeyboardEvent.KEYUP,this.OnKeyUp,!1,this),t.addEvtListener(y.FOCUS,this.OnFocus,!1,this),t.addEvtListener(y.BLUR,this.OnBlur,!1,this)),this.isDndSupported())){var i=this.getCtx();this.setDragSource(new e.DragSource(i)),this._addDndListener("dragstart",this.OnDndDragStart),this._addDndListener("drag",this.OnDndDrag),this._addDndListener("dragend",this.OnDndDragEnd),this._addDndListener("dragenter",this.OnDndDragEnter),this._addDndListener("dragover",this.OnDndDragOver),this._addDndListener("dragleave",this.OnDndDragLeave),this._addDndListener("drop",this.OnDndDrop);var n=i.getContainer();for(var o in this._dndListeners)e.ToolkitUtils.addDomEventListener(n,o,this._dndListeners[o],!1);this._context.addDndEventManager(this)}},e.EventManager.prototype._addDndListener=function(t,i){var n=e.SvgDocumentUtils.createStaticCallback(this.getCtx(),i,this);this._dndListeners[t]=n},e.EventManager.prototype.removeListeners=function(t,e){t&&(e||this.hideTooltip(),this.RemoveListeners(t))},e.EventManager.prototype.RemoveListeners=function(t){if(e.Agent.isTouchDevice()?(t.removeEvtListener(e.TouchEvent.TOUCHSTART,this.OnTouchStartBubble,!1,this),t.removeEvtListener(e.TouchEvent.TOUCHMOVE,this.OnTouchMoveBubble,!1,this),t.removeEvtListener(e.TouchEvent.TOUCHEND,this.OnTouchEndBubble,!1,this),this.TouchManager.removeTouchEventListener(e.ComponentTouchEvent.TOUCH_HOVER_START_TYPE,this._preOnComponentTouchHoverStart,this),this.TouchManager.removeTouchEventListener(e.ComponentTouchEvent.TOUCH_HOVER_MOVE_TYPE,this._preOnComponentTouchHoverMove,this),this.TouchManager.removeTouchEventListener(e.ComponentTouchEvent.TOUCH_HOVER_END_TYPE,this._preOnComponentTouchHoverEnd,this),this.TouchManager.removeTouchEventListener(e.ComponentTouchEvent.TOUCH_HOVER_OUT_TYPE,this._preOnComponentTouchHoverOut,this),this.TouchManager.removeTouchEventListener(e.ComponentTouchEvent.TOUCH_HOVER_OVER_TYPE,this._preOnComponentTouchHoverOver,this),this.TouchManager.removeTouchEventListener(e.ComponentTouchEvent.TOUCH_CLICK_TYPE,this._preOnComponentTouchClick,this),this.TouchManager.removeTouchEventListener(e.ComponentTouchEvent.TOUCH_DOUBLE_CLICK_TYPE,this._preOnComponentTouchDblClick,this)):(t.removeEvtListener(e.MouseEvent.CLICK,this.PreOnClick,!1,this),t.removeEvtListener(e.MouseEvent.DBLCLICK,this.PreOnDblClick,!1,this),t.removeEvtListener("contextmenu",this.PreOnContextMenu,!1,this),t.removeEvtListener(e.MouseEvent.MOUSEMOVE,this.PreOnMouseMove,!1,this),t.removeEvtListener(e.MouseEvent.MOUSEOVER,this.PreOnMouseOver,!1,this),t.removeEvtListener(e.MouseEvent.MOUSEOUT,this.PreOnMouseOut,!1,this),t.removeEvtListener(e.MouseEvent.MOUSEDOWN,this.PreOnMouseDown,!1,this),t.removeEvtListener(e.MouseEvent.MOUSEUP,this.PreOnMouseUp,!1,this),t.removeEvtListener(e.KeyboardEvent.KEYDOWN,this.OnKeyDown,!1,this),t.removeEvtListener(e.KeyboardEvent.KEYUP,this.OnKeyUp,!1,this),t.removeEvtListener(e.KeyboardEvent.KEYPRESS,this.OnKeyPress,!1,this),t.removeEvtListener(y.FOCUS,this.OnFocus,!1,this),t.removeEvtListener(y.BLUR,this.OnBlur,!1,this)),this.isDndSupported()){var i=this.getCtx().getContainer();for(var n in this._dndListeners)e.ToolkitUtils.removeDomEventListener(i,n,this._dndListeners[n],!1);this._dndListeners={},this._context.removeDndEventManager(this)}},e.EventManager.prototype.destroy=function(){this.CustomTooltipManager&&(this.CustomTooltipManager.removeTooltipEventListener(E.TOOLTIP_CLOSED_TYPE,this.OnActionTooltipClosed,this),this.CustomTooltipManager.removeTooltipEventListener(E.TOOLTIP_STARTED_TYPE,this.OnActionTooltipStarted,this))},e.EventManager.prototype.PreEventBubble=function(t){this.TouchManager.preEventBubble(t)},e.EventManager.prototype.setSelectionHandler=function(t){this._selectionHandler=t},e.EventManager.prototype.getSelectionHandler=function(t){return this._selectionHandler},e.EventManager.prototype.getPopupHandler=function(){return this.PopupHandler},e.EventManager.prototype.getMarqueeGlassPane=function(){return null},e.EventManager.prototype.setDragSource=function(t){this.DragSource=t,e.Agent.isTouchDevice()&&this.DragSource.setTouchManager(this.TouchManager)},e.EventManager.prototype.setContextMenuHandler=function(t){this.ContextMenuHandler=t},e.EventManager.prototype.setKeyboardHandler=function(t){e.Agent.isTouchDevice()||(this.KeyboardHandler=t)},e.EventManager.prototype.getKeyboardHandler=function(){return this.KeyboardHandler},e.EventManager.prototype.setFocusObj=function(t){var e=this.getFocus();if(t!=e&&(this.setFocus(t),e&&e.hideKeyboardFocusEffect(),this.ShowKeyboardFocusByDefault()&&t.showKeyboardFocusEffect(),this._currentKeyboardHandlerIdx>-1&&this._currentKeyboardHandlerIdx<this._keyboardHandlers.length)){var i=this._keyboardHandlers[this._currentKeyboardHandlerIdx];i!=this&&i.hideKeyboardFocusEffect()}this.setCurrentKeyboardHandler(this)},e.EventManager.prototype.setFocus=function(t){this.KeyboardHandler&&(this._focusedObj=t)},e.EventManager.prototype.getFocus=function(){return this.KeyboardHandler?this._focusedObj:null},e.EventManager.prototype.setFocused=function(t){var e=this.getFocus();e&&this.KeyboardHandler&&(t?this._shouldDisplayKeyboardFocus&&this._currentKeyboardHandlerIdx>=0&&this._currentKeyboardHandlerIdx<this._keyboardHandlers.length&&this._keyboardHandlers[this._currentKeyboardHandlerIdx]===this&&e.showKeyboardFocusEffect():e.hideKeyboardFocusEffect()),t||(this._shouldDisplayKeyboardFocus=!1)},e.EventManager.prototype.ShowKeyboardFocusByDefault=function(){return!1},e.EventManager.prototype.setTooltipsEnabled=function(t){this._tooltipsEnabled=t},e.EventManager.prototype.getTooltipsEnabled=function(t){return this._tooltipsEnabled},e.EventManager.prototype.GetLogicalObject=function(t,e){var i=this.GetLogicalObjectAndDisplayable(t,e);return i?i.logicalObject:null},e.EventManager.prototype.GetLogicalObjectAndDisplayable=function(t,e){for(var i=t;i;){if(i._logicalObjects)for(var n=0;n<i._logicalObjects.length;n++){var o=i._logicalObjects[n];if(o.eventManager==this){var r={};return r.logicalObject=o.logicalObject,r.displayable=i,r}}i=e?null:i.getParent()}return null},e.EventManager.prototype._getShowPopupBehaviors=function(t){if(t&&t.getShowPopupBehaviors)return t.getShowPopupBehaviors()},e.EventManager.prototype._getClientBehaviors=function(t){if(t&&t.getClientBehaviors)return t.getClientBehaviors()},e.EventManager.prototype.GetContextMenuType=function(t){var i=this.getSelectionHandler(t),n=i?i.getSelection().length:0;return n<=0?e.ContextMenuHandler.TYPE_BODY_CONTEXT_MENU:1==n?e.ContextMenuHandler.TYPE_CONTEXT_MENU:e.ContextMenuHandler.TYPE_MULTI_SELECT_CONTEXT_MENU},e.EventManager.prototype.GetTooltipColor=function(t,e,i){if(t&&t.getDatatipColor)return t.getDatatipColor()},e.EventManager.prototype.FireEvent=function(t,e){this._callback&&this._callback.call(this._callbackObj,t,e)},e.EventManager.prototype.fireSelectionEvent=function(t){var i=this.getSelectionHandler(t);if(i){var n=i.getSelectedIds(),o=e.EventFactory.newSelectionEvent(n);this._callback.call(this._callbackObj,o)}},e.EventManager.prototype.PreOnClick=function(t){if(this.IsDoubleClickable(t)){if(this._clickTimer&&this._clickTimer.isRunning()){var i=this._savedClickEvent;if(t.pageX==i.pageX&&t.pageY==i.pageY)return void this._savedClickCount++;this._clickTimer.stop(),this._onClickTimerEnd()}this._savedClickEvent=t,this._savedClickCount=1,this._clickTimer||(this._clickTimer=new e.Timer(this._context,250,this._onClickTimerEnd,this,1)),this._clickTimer.reset(),this._clickTimer.start()}else this._propagateEvent(e.MouseEvent.CLICK,t,this.OnClick)},e.EventManager.prototype._onClickTimerEnd=function(){var t=this._savedClickEvent;this._savedClickEvent=null,this._savedClickCount=0,t&&this._propagateEvent(e.MouseEvent.CLICK,t,this.OnClick)},e.EventManager.prototype.OnClick=function(t){var i=this.GetLogicalObject(this.GetCurrentTargetForEvent(t));if(this.OnClickInternal(t),this.ProcessSelectionEventHelper(i,t.ctrlKey),this._shouldDisplayKeyboardFocus=!1,i){if(this.KeyboardHandler&&i.getNextNavigable){var n=i.getNextNavigable(t);this.setFocusObj(n)}var o=!1;if(this._hasEventInfo(t)&&(o=this.GetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)),!o){var r=new e.Point(t.pageX,t.pageY);(o=this.PopupHandler.processPopupHelper(i,this._getShowPopupBehaviors(i),[e.ShowPopupBehavior.TRIGGER_TYPE_ACTION,e.ShowPopupBehavior.TRIGGER_TYPE_CLICK],r,t))&&this.SetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}if(!o){var s=this._getClientBehaviors(i);s&&(o=this.ClientBehaviorHandler.processClick(i,s))}!o&&i.isCommandComponent&&i.isCommandComponent()&&(t=e.EventFactory.newActionEvent("action",i.getId()),e.EventManager._addContextInfo(i,t),this._callback.call(this._callbackObj,t))}},e.EventManager.prototype.IsDoubleClickable=function(t){for(var i=t.target,n=this.GetLogicalObject(this.GetCurrentTargetForEvent(t));i;){var o=this.GetLogicalObject(i,!0);if(o){if(o.isDoubleClickable&&o.isDoubleClickable()||this.PopupHandler.hasPopup(n,[e.ShowPopupBehavior.TRIGGER_TYPE_DBL_CLICK]))return!0;if(!this.IsPropagationEnabled(e.MouseEvent.DBLCLICK,null,i))return!1}i=i.getParent()}return!1},e.EventManager.prototype.ProcessSelectionEventHelper=function(t,e){var i=this.getSelectionHandler(t);i&&i.processClick(t,e)&&this.fireSelectionEvent(t)},e.EventManager.prototype.PreOnDblClick=function(t){var i=this.IsDoubleClickable(t);(i&&2===this._savedClickCount||!i)&&this._propagateEvent(e.MouseEvent.DBLCLICK,t,this.OnDblClick),this._savedClickCount=0},e.EventManager.prototype.OnDblClick=function(t){var i=this.GetLogicalObject(this.GetCurrentTargetForEvent(t));if(this._clickTimer&&this._clickTimer.isRunning())this._clickTimer.stop(),this._savedClickEvent=null;else if(e.Agent.isPlatformIE()&&e.Agent.getVersion()<11){if(!i)return;if(!(i.isDoubleClickable&&i.isDoubleClickable()||this.PopupHandler.hasPopup(i,[e.ShowPopupBehavior.TRIGGER_TYPE_DBL_CLICK])))return void this.OnClick(t)}if(this.OnDblClickInternal(t),i){var n=!1;if(this._hasEventInfo(t)&&(n=this.GetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)),!n){var o=new e.Point(t.pageX,t.pageY);(n=this.PopupHandler.processPopupHelper(i,this._getShowPopupBehaviors(i),[e.ShowPopupBehavior.TRIGGER_TYPE_DBL_CLICK],o,t))&&this.SetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}}},e.EventManager.prototype.PreOnContextMenu=function(t){this._propagateEvent("contextmenu",t,this.OnContextMenu)},e.EventManager.prototype.OnContextMenu=function(t){var e=this.GetLogicalObject(this.GetCurrentTargetForEvent(t));e&&e.getNextNavigable&&this.setFocus(e),this._onContextMenuHelper(t,e)},e.EventManager.prototype._onContextMenuHelper=function(t,i){if(this.OnContextMenuInternal(t),this._processActionPopup(this.GetCurrentTargetForEvent(t),new e.Point(t.pageX,t.pageY))&&t.preventDefault(),i&&i.isSelectable&&i.isSelectable()&&this.ProcessSelectionEventHelper(i,t.ctrlKey),this.ContextMenuHandler){var n=this.GetContextMenuType(i);this.ProcessContextMenuHandler(t,n)}else this.ProcessContextMenuPopup(t,i)},e.EventManager.prototype.ProcessContextMenuHandler=function(t,e){var i=this.ContextMenuHandler.show(t,e);return!!i&&(this._context.getTooltipManager().hideTooltip(),this.PopupHandler.HidePopup(t),this._callback.call(this._callbackObj,i),!0)},e.EventManager.prototype.ProcessContextMenuPopup=function(t,i){var n=!1;if(this._hasEventInfo(t)&&(n=this.GetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)),!n){var o=this._getShowPopupBehaviors(i);if(o){var r,s;if(e.Agent.isTouchDevice()){var a=t.touch;r=a.pageX,s=a.pageY}else r=t.pageX,s=t.pageY;var l=new e.Point(r,s);n=this.PopupHandler.processPopupHelper(i,o,[e.ShowPopupBehavior.TRIGGER_TYPE_CONTEXT_MENU],l,t)}n&&(this.SetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0),t.preventDefault())}},e.EventManager.prototype.OnKeyDown=function(t){this._bKeyDown=!0;var i,n,o=t.keyCode,r=!1;for(i=this._currentKeyboardHandlerIdx<0||this._currentKeyboardHandlerIdx>this._keyboardHandlers.length?o==e.KeyboardEvent.TAB&&t.shiftKey?this._keyboardHandlers.length-1:0:this._currentKeyboardHandlerIdx,n=o==e.KeyboardEvent.TAB&&t.shiftKey?-1:1;i>=0&&i<this._keyboardHandlers.length&&!r;i+=n){var s=this._keyboardHandlers[i];(r=s===this?this.ProcessKeyboardEvent(t):s.handleKeyboardEvent(t))&&(this._currentKeyboardHandlerIdx=i)}return r||t.keyCode!=e.KeyboardEvent.UP_ARROW&&t.keyCode!=e.KeyboardEvent.DOWN_ARROW&&t.keyCode!=e.KeyboardEvent.LEFT_ARROW&&t.keyCode!=e.KeyboardEvent.RIGHT_ARROW||e.EventManager.consumeEvent(t),r||o!=e.KeyboardEvent.TAB||(this._currentKeyboardHandlerIdx=-1),r},e.EventManager.prototype.handleKeyboardEvent=function(t){return this.OnKeyDown(t)},e.EventManager.prototype.hideKeyboardFocusEffect=function(){var t=this.getFocus();t&&t.isShowingKeyboardFocusEffect()&&t.hideKeyboardFocusEffect()},e.EventManager.prototype.ProcessKeyboardEvent=function(t){if(!this.KeyboardHandler)return!1;this.hideTooltip();var i,n,o=this.getFocus();if(t.keyCode==e.KeyboardEvent.TAB&&o)return o.isShowingKeyboardFocusEffect()?(this._bKeyDown=!1,o.hideKeyboardFocusEffect(),this.ProcessRolloverEvent(t,o,!1),!!(n=t.shiftKey?this._context.previousKeyboardFocus():this._context.nextKeyboardFocus())&&(n.FireListener(t,!1),e.EventManager.consumeEvent(t),!0)):(this.ShowFocusEffect(t,o),this.ProcessRolloverEvent(t,o,!0),e.EventManager.consumeEvent(t),!0);if(o&&this.KeyboardHandler.isContextMenuEvent(t)){var r;if(o.getContextMenuLocation)r=o.getContextMenuLocation();else{var s=o.getKeyboardBoundingBox();r=e.Agent.isRightToLeft(this._context)?new e.Point(s.x,s.y):new e.Point(s.x+s.w,s.y)}var a=e.DomEventFactory.generateMouseEventFromKeyboardEvent(t,this._context,e.MouseEvent.CLICK,this._context.getStage(),r.x,r.y);return a.ctrlKey=!1,this._onContextMenuHelper(a,o),!0}return!!(i=this.KeyboardHandler.processKeyDown(t))&&(this.setFocus(i),this._shouldDisplayKeyboardFocus=!0,o&&(o.hideKeyboardFocusEffect(),this.ProcessRolloverEvent(t,o,!1)),this.KeyboardHandler.isSelectionEvent(t)?this.ProcessSelectionEventHelper(i,t.shiftKey):this.KeyboardHandler.isMultiSelectEvent(t)&&this.ProcessSelectionEventHelper(i,t.ctrlKey),this.ShowFocusEffect(t,i),this.ProcessRolloverEvent(t,i,!0),!0)},e.EventManager.prototype.ShowFocusEffect=function(t,e){e.showKeyboardFocusEffect();var i=e.getKeyboardTooltipLocation?e.getKeyboardTooltipLocation():e.getKeyboardBoundingBox(this.getCtx().getStage()).getCenter(),n=this.getCtx().stageToPageCoords(i.x,i.y);this.ProcessObjectTooltip(t,n.x,n.y,e,e.getTargetElem()),this.UpdateActiveElement(e)},e.EventManager.prototype.OnKeyUp=function(t){this._bKeyDown=!1,!0===this._handleExternalKeyboardFocus&&t.keyCode==e.KeyboardEvent.TAB&&(this._handleExternalKeyboardFocus=!1,this._callbackObj.dispatchDisplayableEvent(e.KeyboardEvent.KEYDOWN,t)),this.KeyboardHandler.processKeyUp(t,[e.ShowPopupBehavior.TRIGGER_TYPE_KEY_UP])},e.EventManager.prototype.OnKeyPress=function(t){this.KeyboardHandler.processKeyUp(t,[e.ShowPopupBehavior.TRIGGER_TYPE_KEY_PRESS])},e.EventManager.prototype.PreOnMouseMove=function(t){this._propagateEvent(e.MouseEvent.MOUSEMOVE,t,this.OnMouseMove)},e.EventManager.prototype.OnMouseMove=function(t){var i=t.pageX,n=t.pageY,o=this.GetCurrentTargetForEvent(t),r=this.GetLogicalObject(o);if(r){this.ProcessObjectTooltip(t,i,n,r,o);var s=new e.Point(i,n);if(this.PopupHandler.processMouseMove(s),!this.GetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)){var a=this.GetLogicalObjectAndDisplayable(o);a&&this.PopupHandler.processMousePopup(r,this._getShowPopupBehaviors(r),s,a.displayable,t,e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_MOVE)&&this.SetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}this.DragSource&&!t.dragSourceSet&&this.IsDragCandidate(r)&&(this.DragSource.setDragCandidate(r),t.dragSourceSet=!0)}},e.EventManager.prototype.PreOnMouseOver=function(t){this._propagateEvent(e.MouseEvent.MOUSEOVER,t,this.OnMouseOver),this._handlePreOverEvent(t)},e.EventManager.prototype._getDisplayableHierarchy=function(t,e,i){for(var n=[],o=t;o;){var r=!0;e&&(r=e.call(i,o)),r&&n.unshift(o),o=o.getParent()}return n},e.EventManager.prototype._getRolloverHierarchy=function(t){return this._getDisplayableHierarchy(t,this._isRolloverType,this)},e.EventManager.prototype._isRolloverType=function(t){var e=this.GetLogicalObject(t,!0);if(e)for(var i=0;i<this._rolloverTypes.length;i++)if(e instanceof this._rolloverTypes[i])return!0;return!1},e.EventManager.prototype.addRolloverType=function(t){this._rolloverTypes.push(t)},e.EventManager.prototype.removeRolloverType=function(t){var i=e.ArrayUtils.getIndex(this._rolloverTypes,t);-1!=i&&this._rolloverTypes.splice(i,1)},e.EventManager.prototype.OnRollOver=function(t){},e.EventManager.prototype.OnMouseOver=function(t){var i=this.GetCurrentTargetForEvent(t),n=this.GetLogicalObjectAndDisplayable(i),o=null;n&&(o=n.logicalObject);var r=new e.Point(t.pageX,t.pageY);if(o){var s=this.getSelectionHandler(o);s&&s.processMouseOver(o),this.ProcessRolloverEvent(t,o,!0),this.GetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)||n&&this.PopupHandler.processMousePopup(o,this._getShowPopupBehaviors(o),r,n.displayable,t,e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_OVER)&&this.SetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0),this.UpdateActiveElement(o,i)}},e.EventManager.prototype.PreOnMouseOut=function(t){this._handlePreOutEvent(e.MouseEvent.MOUSEOUT,t,this.OnMouseOut)},e.EventManager.prototype.OnRollOut=function(t){},e.EventManager.prototype.OnMouseOut=function(t){var i=this.GetCurrentTargetForEvent(t),n=this.GetLogicalObject(i);if(n&&n!=this.GetLogicalObject(t.relatedTarget)){var o=this.getSelectionHandler(n);if(o&&o.processMouseOut(n),this.ProcessRolloverEvent(t,n,!1),this.hideTooltip(),this.DragSource&&!t.dragSourceSet&&(this.DragSource.setDragCandidate(null),t.dragSourceSet=!0),!this.GetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)){var r=new e.Point(t.pageX,t.pageY),s=this.GetLogicalObjectAndDisplayable(i);s&&this.PopupHandler.processMousePopup(n,this._getShowPopupBehaviors(n),r,s.displayable,t,e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_OUT)&&this.SetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}}},e.EventManager.prototype.PreOnMouseDown=function(t){this._propagateEvent(e.MouseEvent.MOUSEDOWN,t,this.OnMouseDown)},e.EventManager.prototype.OnMouseDown=function(t){this.isInActionPopup()&&this.CustomTooltipManager.closeActionTooltip();var i=this.GetCurrentTargetForEvent(t),n=this.GetLogicalObject(i);if(this.DragSource&&!t.dragSourceSet&&this.IsDragCandidate(n)&&(this.DragSource.setDragCandidate(n),t.dragSourceSet=!0),!this.GetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)){var o=new e.Point(t.pageX,t.pageY),r=this.GetLogicalObjectAndDisplayable(i);r&&this.PopupHandler.processMousePopup(n,this._getShowPopupBehaviors(n),o,r.displayable,t,e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_DOWN)&&this.SetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}},e.EventManager.prototype.PreOnMouseUp=function(t){this._propagateEvent(e.MouseEvent.MOUSEUP,t,this.OnMouseUp)},e.EventManager.prototype.OnMouseUp=function(t){var i=this.GetCurrentTargetForEvent(t),n=this.GetLogicalObject(i);if(!this.GetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)){var o=new e.Point(t.pageX,t.pageY),r=this.GetLogicalObjectAndDisplayable(i);r&&this.PopupHandler.processMousePopup(n,this._getShowPopupBehaviors(n),o,r.displayable,t,e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_UP)&&this.SetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}},e.EventManager.prototype._processTouchTooltip=function(t){var i=this.TouchManager.getTooltipInfo(),n=i.touchIds,o=i.tooltipTarget;if(this.GetEventInfo(t,e.EventManager._EVENT_INFO_TOOLTIP_DISPLAYED_KEY)||0!=n.length&&o){var r=this.TouchManager.calcAveragePosition(n),s=this.GetLogicalObject(o);this.ProcessObjectTooltip(t,r.x,r.y,s,null)}else this.hideTooltip()},e.EventManager.prototype.OnTouchStartBubble=function(t){if(this.PreEventBubble(t),t.isInitialTouch()&&(this._popupJustClosed=!1),this.DragSource){var i=this.GetLogicalObject(t.target);!t.dragSourceSet&&this.IsDragCandidate(i)&&(this.DragSource.setDragCandidate(i),t.dragSourceSet=!0)}this.isInActionPopup()&&(this.CustomTooltipManager.closeActionTooltip(),this.TouchManager.resetTouchHold()),this.HandleImmediateTouchStartInternal(t),this.TouchManager.fireLogicalEvents(t),this.TouchManager.postEventBubble(t),this.isTouchResponseTouchStart()?(this._touchResponseHandled=!0,this.TouchManager.processAssociatedTouchAttempt(t,e.EventManager.TOUCH_RESPONSE_TOUCH_START,this._saveTouchStart,this)):(this._touchResponseHandled=!1,this._processTouchTooltip(t))},e.EventManager.prototype.OnTouchMoveBubble=function(t){this.PreEventBubble(t),this.TouchManager&&(this._prevActionClear=!1,this.HandleImmediateTouchMoveInternal(t),this.TouchManager.fireLogicalEvents(t),this.TouchManager.postEventBubble(t),this._processTouchTooltip(t))},e.EventManager.prototype._handleTouchEndTimer=function(){
for(var t=0;t<this._touchEndTimer.length;t++){var e=this._touchEndTimer[t];e.timer.stop();var i=e.event;this.TouchManager&&(this.HandleImmediateTouchEndInternal(i),this.TouchManager.fireLogicalEvents(i),this.TouchManager.postEventBubble(i))}this.DragSource&&!i.dragSourceSet&&(this.DragSource.setDragCandidate(null),i.dragSourceSet=!0),this._touchEndTimer=new Array},e.EventManager.prototype.OnTouchEndBubble=function(t){this.PreEventBubble(t);var i=new e.Timer(this._context,0,this._handleTouchEndTimer,this,1);this._touchEndTimer||(this._touchEndTimer=new Array),this._touchEndTimer.push({event:t,timer:i}),i.start()},e.EventManager.prototype.HandleImmediateTouchStartInternal=function(t){},e.EventManager.prototype.HandleImmediateTouchMoveInternal=function(t){},e.EventManager.prototype.HandleImmediateTouchEndInternal=function(t){},e.EventManager.prototype._preOnComponentTouchHoverStart=function(t){this._propagateEvent(e.ComponentTouchEvent.TOUCH_HOVER_START_TYPE,t,this.OnComponentTouchHoverStart)},e.EventManager.prototype.OnComponentTouchHoverStart=function(t){this.HandleTouchHoverStartInternal(t),this._touchResponseHandled||this.HandleTouchActionsStart(t)},e.EventManager.prototype._preOnComponentTouchHoverMove=function(t){this._propagateEvent(e.ComponentTouchEvent.TOUCH_HOVER_MOVE_TYPE,t,this.OnComponentTouchHoverMove)},e.EventManager.prototype.OnComponentTouchHoverMove=function(t){this.HandleTouchHoverMoveInternal(t),this._touchResponseHandled||this.HandleTouchActionsMove(t)},e.EventManager.prototype._preOnComponentTouchHoverEnd=function(t){this._propagateEvent(e.ComponentTouchEvent.TOUCH_HOVER_END_TYPE,t,this.OnComponentTouchHoverEnd)},e.EventManager.prototype.OnComponentTouchHoverEnd=function(t){var i=this.GetCurrentTargetForEvent(t),n=this.GetLogicalObject(i);if(this.HandleTouchHoverEndInternal(t),this.ProcessTouchContextMenu(t,n),this._callbackObj instanceof e.BaseComponent){var o=this.getCtx().getStageAbsolutePosition(),r=t.touch.pageX,s=t.touch.pageY;r<=o.x+this._callbackObj.getWidth()&&r>=o.x&&s<=o.y+this._callbackObj.getHeight()&&s>=o.y&&this._callback.call(this._callbackObj,e.EventFactory.newTouchHoldReleaseEvent(t.getNativeEvent()))}this._touchResponseHandled||this.HandleTouchActionsEnd(t)},e.EventManager.prototype._preOnComponentTouchHoverOut=function(t){this._handlePreOutEvent(e.ComponentTouchEvent.TOUCH_HOVER_OUT_TYPE,t,this.OnComponentTouchHoverOut)},e.EventManager.prototype.OnComponentTouchHoverOut=function(t){this.HandleTouchHoverOutInternal(t),this._touchResponseHandled||this.HandleTouchActionsOut(t)},e.EventManager.prototype._preOnComponentTouchHoverOver=function(t){this._propagateEvent(e.ComponentTouchEvent.TOUCH_HOVER_OVER_TYPE,t,this.OnComponentTouchHoverOver),this._handlePreOverEvent(t)},e.EventManager.prototype.OnComponentTouchHoverOver=function(t){this.HandleTouchHoverOverInternal(t),this._touchResponseHandled||this.HandleTouchActionsOver(t)},e.EventManager.prototype._preOnComponentTouchDblClick=function(t){this._propagateEvent(e.ComponentTouchEvent.TOUCH_DOUBLE_CLICK_TYPE,t,this.OnComponentTouchDblClick)},e.EventManager.prototype.OnComponentTouchDblClick=function(t){var i=this.GetCurrentTargetForEvent(t),n=t.touch,o=this.GetLogicalObject(i),r=new e.Point(n.pageX,n.pageY),s=!1;this._hasEventInfo(t)&&(s=this.GetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)),s||this.PopupHandler.processPopupHelper(o,this._getShowPopupBehaviors(o),[e.ShowPopupBehavior.TRIGGER_TYPE_DBL_CLICK],r,t)&&this.SetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0),this.HandleTouchDblClickInternal(t)},e.EventManager.prototype._preOnComponentTouchClick=function(t){this._propagateEvent(e.ComponentTouchEvent.TOUCH_CLICK_TYPE,t,this.OnComponentTouchClick)},e.EventManager.prototype.OnComponentTouchClick=function(t){var i=this.GetCurrentTargetForEvent(t),n=t.touch,o=this.GetLogicalObject(i),r=new e.Point(n.pageX,n.pageY),s=!1;if(this._hasEventInfo(t)&&(s=this.GetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)),s||this.PopupHandler.processPopupHelper(o,this._getShowPopupBehaviors(o),[e.ShowPopupBehavior.TRIGGER_TYPE_ACTION,e.ShowPopupBehavior.TRIGGER_TYPE_CLICK],r,t,!0)&&(this.SetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0),s=!0),!s){var a=this._getClientBehaviors(o);a&&this.ProcessClientBehaviorForTouch(o,a)}!this.HandleTouchClickInternal(t)&&(this.isTouchResponseTouchStart()||this._processTouchSelection(o),this._popupJustClosed||this._processTouchSelectionClear(o),this.CustomTooltipManager.displayActionPopup()&&(this.UpdateActionTooltipLaunchedFeedback(i,new e.Point(n.pageX,n.pageY)),this.CustomTooltipManager.startActionPopupAtPosition(n.pageX,n.pageY,i)),o&&!s&&o.isCommandComponent&&o.isCommandComponent())&&(t=e.EventFactory.newActionEvent("action",o.getId()),e.EventManager._addContextInfo(o,t),this._callback.call(this._callbackObj,t))},e.EventManager.prototype._processTouchSelection=function(t){var e=this.getSelectionHandler(t);e&&t&&t.isSelectable&&t.isSelectable()&&e.processClick(t,!0)&&this.fireSelectionEvent(t),this._prevActionClear=!1},e.EventManager.prototype._processTouchSelectionClear=function(t){var i=this.getSelectionHandler(t);if(i&&(!t||!t.isSelectable||!t.isSelectable())&&!this._prevActionClear){var n=!1;this.isClearMenuAllowed(t)&&i.getType()==e.SelectionHandler.TYPE_MULTIPLE&&i.getSelectedCount()>1&&(n=!0),n?this.addClearAllActionItem():i.processClick(null,!1)&&this.fireSelectionEvent(t)}},e.EventManager.prototype.OnActionTooltipClosed=function(t){var i=t.target;this._popupJustClosed=!0,this._isInActionPopup=!1,this.CustomTooltipManager.getActionTooltip().containsMenuId(e.EventManager.CLEAR_SELECTION_ACTION_TYPE)&&(this._prevActionClear=!0),this.CustomTooltipManager.clearActionTooltip(),this.UpdateActionTooltipClosedFeedback(i)},e.EventManager.prototype.OnActionTooltipStarted=function(t){this._isInActionPopup=!0},e.EventManager.prototype._getTooltipInfo=function(t,e,i,n){var o=null,r=!1;return e&&e.getDatatip&&(o=e.getDatatip(t,i,n))&&(r=!0),!o&&e&&e.getTooltip&&(o=e.getTooltip(t,i,n)),{text:o,isDatatip:r}},e.EventManager.prototype._processShowTooltip=function(t,e,i,n){if(this.getTooltipsEnabled(e)){var o=this._context.pageToStageCoords(i,n),r=o.x,s=o.y,a=this._getTooltipInfo(t,e,r,s),l=a.isDatatip,h=a.text;if(h){this.CustomTooltipManager.clearActionTooltip();var u=this.GetTooltipColor(e,r,s),c=this._context.getTooltipManager();return l?c.showDatatip(i,n,h,u):c.showTooltip(i,n,h,null,!0,u),this.TooltipLaunched(h,u),this.DispatchElementEvent("tooltiplaunched"),!0}this.hideTooltip()}else this.hideTooltip();return!1},e.EventManager.prototype.hideTooltip=function(){var t=this._context.getTooltipManager();t&&t.hideTooltip(),this.TooltipHidden()},e.EventManager.prototype.ProcessTouchContextMenu=function(t,i){if(this.ContextMenuHandler){var n=this.GetContextMenuType(i),o=!1;return i&&i.isSelected&&i.isSelected()?o=!0:(i&&i.isSelectable&&i.isSelectable()||(n=e.ContextMenuHandler.TYPE_BODY_CONTEXT_MENU),n==e.ContextMenuHandler.TYPE_BODY_CONTEXT_MENU&&(o=!0)),!!o&&this.ProcessContextMenuHandler(t,n)}this.ProcessContextMenuPopup(t,i)},e.EventManager.prototype._processActionPopup=function(t,e){return this.CustomTooltipManager.displayActionPopup()?(this.SetupTouchTooltip(t),this.UpdateActionPopupShownFeedback(t),this.CustomTooltipManager.startActionPopupAtPosition(e.x,e.y,t),!0):(this.UpdateActionPopupHiddenFeedback(t),!1)},e.EventManager.prototype.TooltipLaunched=function(t,e){},e.EventManager.prototype.TooltipHidden=function(){},e.EventManager.prototype.SetupTouchTooltip=function(t){var e=this.GetLogicalObject(t),i=this.CustomTooltipManager.getActionTooltip();if(null==i.getTooltipBorderColor()){var n=this.GetTooltipColor(e);i.setTooltipBorderColor(n)}},e.EventManager.prototype.OnContextMenuInternal=function(t){},e.EventManager.prototype.OnClickInternal=function(t){},e.EventManager.prototype.OnDblClickInternal=function(t){},e.EventManager.prototype.HandleTouchHoverStartInternal=function(t){},e.EventManager.prototype.HandleTouchHoverMoveInternal=function(t){},e.EventManager.prototype.HandleTouchHoverEndInternal=function(t){},e.EventManager.prototype.HandleTouchHoverOverInternal=function(t){},e.EventManager.prototype.HandleTouchHoverOutInternal=function(t){},e.EventManager.prototype.HandleTouchClickInternal=function(t){return!1},e.EventManager.prototype.HandleTouchDblClickInternal=function(t){},e.EventManager.prototype.UpdateActionPopupShownFeedback=function(t){},e.EventManager.prototype.UpdateActionPopupHiddenFeedback=function(t){},e.EventManager.prototype.UpdateActionTooltipClosedFeedback=function(t){},e.EventManager.prototype.UpdateActionTooltipLaunchedFeedback=function(t,e){},e.EventManager.prototype.isInActionPopup=function(){return this._isInActionPopup},e.EventManager.prototype.GetClearSelectionText=function(){return e.Bundle.getTranslatedString(e.Bundle.UTIL_PREFIX,"CLEAR_SELECTION")},e.EventManager.prototype.addClearAllActionItem=function(){var t=this.CustomTooltipManager.getActionTooltip(),i=t.getMenuItems();t&&i.length>0&&i[i.length-1].getId()===e.EventManager.CLEAR_SELECTION_ACTION_TYPE||(this.addActionTooltipMenuItem(e.EventManager.CLEAR_SELECTION_ACTION_TYPE,this.GetClearSelectionText(),this._actionTooltipClearListener,this),t&&t.setTooltipBorderColor(B.DEFAULT_BORDER_COLOR))},e.EventManager.prototype.isClearMenuAllowed=function(t){return!0},e.EventManager.prototype.addActionTooltipMenuItem=function(t,e,i,n){this.CustomTooltipManager.getActionTooltip().addMenuItem(new L(this._context,t,e,i,n))},e.EventManager.prototype.ContextMenuItemListener=function(t){var e=t.menuItem.getEvent();this._callback.call(this._callbackObj,e)},e.EventManager.prototype._actionTooltipClearListener=function(t){var e=t.target,i=this.GetLogicalObject(e);this.getSelectionHandler(i).processClick(null,!1)&&this.fireSelectionEvent(i)},e.EventManager.prototype._actionTooltipSelectListener=function(t){var e=t.target,i=this.GetLogicalObject(e);this.getSelectionHandler(i).processClick(i,!0)&&this.fireSelectionEvent(i)},e.EventManager.consumeEvent=function(t){t&&(t.preventDefault(),t.stopPropagation())},e.EventManager._addContextInfo=function(t,i){if(t.getContextCallback&&t.getContextCallbackObj){var n=t.getContextCallback(),o=t.getContextCallbackObj();n&&o&&n.call(o,i)}else i[e.BaseComponentEvent.CLIENT_ROW_KEY]=t.getId()},e.EventManager.prototype.IsPropagationEnabled=function(t,e,i){return!1},e.EventManager.prototype.GetCurrentTargetForEvent=function(t){return this.GetEventInfo(t,e.EventManager._EVENT_INFO_CURRENT_TARGET_KEY)||t.target},e.EventManager.prototype._propagateEvent=function(t,i,n){if(this.GetLogicalObject(i.target)){var o=i.target;try{for(;o;){if(this.GetLogicalObject(o,!0)&&(this.SetEventInfo(i,e.EventManager._EVENT_INFO_CURRENT_TARGET_KEY,o),n.call(this,i),!this.IsPropagationEnabled(t,i,o)))return;o=o.getParent()}}finally{this.SetEventInfo(i,e.EventManager._EVENT_INFO_CURRENT_TARGET_KEY,null)}}else n.call(this,i)},e.EventManager.prototype.ConsumesClick=function(t){return t.isSelectable&&t.isSelectable()||t.isClickEventPropagationStopped&&t.isClickEventPropagationStopped()||this._hasClickPopup(t)||this._hasClickClientBehavior(t)},e.EventManager.prototype._hasClickPopup=function(t){return this.PopupHandler.hasPopup(t,[e.ShowPopupBehavior.TRIGGER_TYPE_ACTION,e.ShowPopupBehavior.TRIGGER_TYPE_CLICK])},e.EventManager.prototype.addComponentKeyboardHandler=function(t){t&&this._keyboardHandlers.push(t)},e.EventManager.prototype.addComponentKeyboardHandlerAt=function(t,e){e>this._keyboardHandlers.length||t&&(this._keyboardHandlers.splice(e,0,t),e<=this._currentKeyboardHandlerIdx&&this._currentKeyboardHandlerIdx++)},e.EventManager.prototype.removeComponentKeyboardHandler=function(t){if(t){var e=this._findHandler(t);e>-1&&(this._currentKeyboardHandlerIdx==e&&0==e?this._currentKeyboardHandlerIdx=0:e<=this._currentKeyboardHandlerIdx&&this._currentKeyboardHandlerIdx--,this._keyboardHandlers.splice(e,1))}},e.EventManager.prototype._findHandler=function(t){for(var e=-1,i=this._keyboardHandlers.length,n=0;n<i;n++)this._keyboardHandlers[n]===t&&(e=n);return e},e.EventManager.prototype.setCurrentKeyboardHandler=function(t){var e=this._findHandler(t);e>=0&&(this._currentKeyboardHandlerIdx=e)},e.EventManager.prototype._hasClickClientBehavior=function(t){var i=this._getClientBehaviors(t);if(i)for(var n=0;n<i.length;n++){var o=i[n];if(o&&(o.getTriggerType()==e.ClientBehavior.TRIGGER_TYPE_ACTION||o.getTriggerType()==e.ClientBehavior.TRIGGER_TYPE_CLICK))return!0}return!1},e.EventManager.prototype.CreateClientBehaviorHandler=function(t,i,n){return new e.ClientBehaviorHandler(t,i,n)},e.EventManager.prototype.ProcessClientBehaviorForTouch=function(t,e){return this.ClientBehaviorHandler.processClick(t,e)},e.EventManager.prototype.IsDragCandidate=function(t){return!0},e.EventManager._getActiveElementId=function(){return"_dvtActiveElement"+Math.floor(1e9*Math.random())},e.EventManager.prototype.UpdateActiveElement=function(t,i){if(i||(i=t.getDisplayable?t.getDisplayable():t.getDisplayables?t.getDisplayables()[0]:t),i instanceof e.Displayable){if(t.getAriaLabel){var n=t.getAriaLabel();n&&i.setAriaProperty("label",n)}else for(;!i.getAriaRole()&&i.getParent();)i=i.getParent();i!=this.getCtx().getStage()&&this.getCtx().setActiveElement(i)}},e.EventManager.prototype._handlePreOverEvent=function(t){var i=this._getRolloverHierarchy(t.target),n=this._getRolloverHierarchy(t.relatedTarget);if(i.length>0){var o=i[i.length-1];if(o!=(0==n.length?null:n[n.length-1]))try{this.SetEventInfo(t,e.EventManager._EVENT_INFO_CURRENT_TARGET_KEY,o),this.OnRollOver(t)}finally{this.SetEventInfo(t,e.EventManager._EVENT_INFO_CURRENT_TARGET_KEY,null)}}},e.EventManager.prototype._handlePreOutEvent=function(t,i,n){var o=this.GetLogicalObject(i.relatedTarget),r=i.target;try{var s=this._getRolloverHierarchy(i.target),a=this._getRolloverHierarchy(i.relatedTarget);if(s.length>0){var l=s[s.length-1];l!=(0==a.length?null:a[a.length-1])&&(this.SetEventInfo(i,e.EventManager._EVENT_INFO_CURRENT_TARGET_KEY,l),this.OnRollOut(i))}var h=this.GetLogicalObject(r);if(h)for(this.PopupHandler.processMouseOut(h,this._getDisplayableHierarchy(i.relatedTarget),i);r;){var u=this.GetLogicalObject(r,!0);if(u){if(o===u)break;if(this.SetEventInfo(i,e.EventManager._EVENT_INFO_CURRENT_TARGET_KEY,r),n.call(this,i),!this.IsPropagationEnabled(t,i,r))break}r=r.getParent()}else n.call(this,i)}finally{this.SetEventInfo(i,e.EventManager._EVENT_INFO_CURRENT_TARGET_KEY,null)}},e.EventManager.prototype.getTouchManager=function(){return this.TouchManager},e.EventManager.prototype.endDrag=function(){return null},e.EventManager.prototype._hasEventInfo=function(t){return null!=t&&!!t.getNativeEvent()._eventInfo},e.EventManager.prototype.GetEventInfo=function(t,e){if(!this._hasEventInfo(t)||null==e)return null;var i;if(this.StoreInfoByEventType(e)){var n=t.type?t.type:t.getType();i=t.getNativeEvent()._eventInfo[n]}else i=t.getNativeEvent()._eventInfo;return i?i[e]:null},e.EventManager.prototype.SetEventInfo=function(t,e,i){if(null!=t&&null!=e){var n=t.getNativeEvent();if(n._eventInfo||(n._eventInfo={}),this.StoreInfoByEventType(e)){var o=t.type?t.type:t.getType();n._eventInfo[o]||(n._eventInfo[o]={}),n._eventInfo[o][e]=i}else n._eventInfo[e]=i}},e.EventManager.prototype.StoreInfoByEventType=function(t){return t!=e.EventManager._EVENT_INFO_TOOLTIP_DISPLAYED_KEY},e.EventManager.prototype.ProcessObjectTooltip=function(t,i,n,o,r){this.GetEventInfo(t,e.EventManager._EVENT_INFO_TOOLTIP_DISPLAYED_KEY)||this._processShowTooltip(r,o,i,n)&&this.SetEventInfo(t,e.EventManager._EVENT_INFO_TOOLTIP_DISPLAYED_KEY,!0)},e.EventManager.prototype._resetExternalKeyboardFocus=function(){this._handleExternalKeyboardFocus=!1},e.EventManager.prototype.OnFocus=function(t){this._handleExternalKeyboardFocus=!1,this._bKeyDown||t.isPropagationStopped()||(this._handleExternalKeyboardFocus=!0,this._keyboardFocusTimer||(this._keyboardFocusTimer=new e.Timer(this._context,200,this._resetExternalKeyboardFocus,this,1)),this._keyboardFocusTimer.reset(),this._keyboardFocusTimer.start(),t.stopPropagation())},e.EventManager.prototype.OnBlur=function(t){this._bKeyDown=!1;var e=this.getFocus();e&&e.isShowingKeyboardFocusEffect()&&e.hideKeyboardFocusEffect()},e.EventManager.prototype.ProcessRolloverEvent=function(t,e,i){},e.EventManager.prototype.CreateCategoryRolloverHandler=function(t,i){return new e.CategoryRolloverHandler(t,i)},e.EventManager.prototype.GetTouchResponse=function(){return e.EventManager.TOUCH_RESPONSE_TOUCH_START},e.EventManager.prototype.isTouchResponseTouchStart=function(){var t=this.GetTouchResponse();if(t===e.EventManager.TOUCH_RESPONSE_TOUCH_START)return!0;if(t===e.EventManager.TOUCH_RESPONSE_TOUCH_HOLD)return!1;for(var i=this.getCtx().getSvgDocument().parentElement.parentElement;i&&"HTML"!==i.nodeName;){var n=window.getComputedStyle(i);if("hidden"!==n.overflow&&(i.scrollWidth>i.clientWidth+e.EventManager._TOUCH_RESPONSE_PADDING_CHECK&&"hidden"!==n["overflow-x"]||i.scrollHeight>i.clientHeight+e.EventManager._TOUCH_RESPONSE_PADDING_CHECK&&"hidden"!==n["overflow-y"])||window.frameElement&&"IFRAME"==window.frameElement.nodeName)return!1;i=i.parentElement}return!0},e.EventManager.prototype._saveTouchStart=function(t,i){this.TouchManager.getTouchIdsForObj(e.EventManager.TOUCH_RESPONSE_TOUCH_START).length<=1&&(this.TouchManager.saveProcessedTouch(i.identifier,e.TouchManager.HOVER_TOUCH_KEY,null,e.TouchManager.HOVER_TOUCH_KEY,e.TouchManager.HOVER_TOUCH_KEY,this.HandleTouchActionsMove,this.HandleTouchActionsEnd,this),this.HandleTouchActionsStart(t))},e.EventManager.prototype.HandleTouchActionsStart=function(t){var i=this.GetCurrentTargetForEvent(t),n=this.GetLogicalObject(i),o=t instanceof e.ComponentTouchEvent?t.touch:t.touches[0],r=o.pageX,s=o.pageY;if(t instanceof e.ComponentTouchEvent||(this._touchMap[o.identifier]||(this._touchMap[o.identifier]={}),this._touchMap[o.identifier][e.TouchManager.PREV_HOVER_OBJ]=null,n&&this.HandleTouchActionsOver(t),this._touchMap[o.identifier][e.TouchManager.PREV_HOVER_OBJ]=n),n&&this.ProcessRolloverEvent(t,n,!0),this._processTouchTooltip(t),this._prevActionClear=!1,!this.GetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)){var a=new e.Point(r,s),l=(i=this.GetCurrentTargetForEvent(t),this.GetLogicalObjectAndDisplayable(i));l&&this.PopupHandler.processMousePopup(n,this._getShowPopupBehaviors(n),a,l.displayable,t,e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_DOWN)&&this.SetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}},e.EventManager.prototype.HandleTouchActionsMove=function(t){var i,n,o=t instanceof e.ComponentTouchEvent?t.touch:t.touches[0];if(t instanceof e.ComponentTouchEvent)i=this.GetCurrentTargetForEvent(t),n=this.GetLogicalObject(i);else{t.preventDefault(),i=e.SvgDocumentUtils.elementFromTouch(o),n=this.GetLogicalObject(i);var r,s=this._touchMap[o.identifier][e.TouchManager.PREV_HOVER_OBJ];if(s!=n)s&&(s.getDisplayable?r=s.getDisplayable():s.getDisplayables&&(r=s.getDisplayables()[0]),r&&(t.target=r,this.HandleTouchActionsOut(t,o))),t.target=i,n&&this.HandleTouchActionsOver(t);this._touchMap[o.identifier][e.TouchManager.PREV_HOVER_OBJ]=n}n&&this.ProcessRolloverEvent(t,n,!0);var a=new e.Point(o.pageX,o.pageY);if(this.PopupHandler.processMouseMove(a),!this.GetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)){var l=this.GetLogicalObjectAndDisplayable(i);l&&this.PopupHandler.processMousePopup(n,this._getShowPopupBehaviors(n),a,l.displayable,t,e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_MOVE)&&this.SetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}},e.EventManager.prototype.HandleTouchActionsEnd=function(t,i){var n,o,r;t instanceof e.ComponentTouchEvent?(n=this.GetCurrentTargetForEvent(t),o=this.GetLogicalObject(n),i=t.touch):(t.preventDefault(),n=e.SvgDocumentUtils.elementFromTouch(i),(o=this.GetLogicalObject(n))&&(o.getDisplayable?r=o.getDisplayable():o.getDisplayables&&(r=o.getDisplayables()[0])),r&&(t.target=r,this.HandleTouchActionsOut(t,i)),this._touchMap[i.identifier][e.TouchManager.PREV_HOVER_OBJ]=null);var s=i.pageX,a=i.pageY;if(this._processTouchSelection(o),this._processActionPopup(n,new e.Point(s,a)),!this.GetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)){var l=new e.Point(s,a),h=this.GetLogicalObjectAndDisplayable(n);h&&this.PopupHandler.processMousePopup(o,this._getShowPopupBehaviors(o),l,h.displayable,t,e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_UP)&&this.SetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}},e.EventManager.prototype.HandleTouchActionsOver=function(t){var i=this.GetCurrentTargetForEvent(t),n=this.GetLogicalObject(i),o=t instanceof e.ComponentTouchEvent?t.touch:t.touches[0],r=new e.Point(o.pageX,o.pageY);n&&this.ProcessRolloverEvent(t,n,!0);var s=this.getSelectionHandler(n);if(s&&s.processMouseOver(n),!this.GetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)){var a=this.GetLogicalObjectAndDisplayable(i);a&&this.PopupHandler.processMousePopup(n,this._getShowPopupBehaviors(n),r,a.displayable,t,e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_OVER)&&this.SetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}},e.EventManager.prototype.HandleTouchActionsOut=function(t,i){var n=this.GetCurrentTargetForEvent(t),o=this.GetLogicalObject(n);t instanceof e.ComponentTouchEvent&&(i=t.touch),o&&this.ProcessRolloverEvent(t,o,!1);var r=this.getSelectionHandler(o);if(r&&r.processMouseOut(o),!this.GetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)){var s=new e.Point(i.pageX,i.pageY),a=this.GetLogicalObjectAndDisplayable(n);a&&this.PopupHandler.processMousePopup(o,this._getShowPopupBehaviors(o),s,a.displayable,t,e.ShowPopupBehavior.TRIGGER_TYPE_MOUSE_OUT)&&this.SetEventInfo(t,e.EventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}},e.EventManager.getComponent=function(){return null},e.EventManager.DROP_OFFSET_X_DATA_TYPE="text/_dvtDropOffsetX",e.EventManager.DROP_OFFSET_Y_DATA_TYPE="text/_dvtDropOffsetY",e.EventManager.prototype.isDndSupported=function(){return!1},e.EventManager.prototype.OnDndDragStart=function(t){var i=e.ToolkitUtils.getEventForSyntax(this._context,t),n=i.dataTransfer;if(!(i.dataTransfer.types&&i.dataTransfer.types.length>0)){var o=this._context.pageToStageCoords(t.pageX,t.pageY),r=this.DragSource.getDragTransferable(o.x,o.y),s=this.GetDragSourceType(t);if(null!=r&&null!=s){this._context.getTooltipManager().hideTooltip();var a=this._getDragOptions(t),l=a.dataTypes,h=a.dragStart;if(null!=l||h){var u=this.DragSource.getDragObject(),c=this.getSelectionHandler(u);if(c&&u.isSelected&&!u.isSelected()&&c.processClick(u,!1),u.hideHoverEffect&&u.hideHoverEffect(),null!=l){e.ArrayUtils.isArray(l)||(l=[l]);for(var p=this._getDragData(t),_=0;_<l.length;_++)n.setData(l[_],p)}var g=e.ToolkitUtils.getDragFeedback(this.DragSource.getDragOverFeedback(o.x,o.y),this._context.getStage()),d=g.svg,S=this.DragSource.getDragOffset(o.x,o.y);d.style.width=g.width+"px",d.style.height=g.height+"px",d.style.left=t.pageX-S.x+"px",d.style.top=t.pageY-S.y+"px",d.style.position="absolute",d.style.fontFamily=this._context.getDefaultFontFamily(),d.style.fontSize=this._context.getDefaultFontSize(),e.SvgDocumentUtils.disableMouseEvents(d),document.body.appendChild(d),e.Context.requestAnimationFrame(function(){document.body.removeChild(d)}),n.setDragImage(d,S.x,S.y);var f=this.GetDropOffset(t);f&&(n.setData(e.EventManager.DROP_OFFSET_X_DATA_TYPE,f.x),n.setData(e.EventManager.DROP_OFFSET_Y_DATA_TYPE,f.y)),h&&h(i,this._getDragEventPayload(t))}else this._context.isLastDndEventManager(this)&&t.preventDefault()}else this._context.isLastDndEventManager(this)&&t.preventDefault()}},e.EventManager.prototype.OnDndDrag=function(t){this._handleDragSourceEvent(t,"drag")},e.EventManager.prototype.OnDndDragEnd=function(t){this._handleDragSourceEvent(t,"dragEnd")},e.EventManager.prototype.GetDragSourceType=function(t){return null},e.EventManager.prototype.GetDragDataContexts=function(){return[]},e.EventManager.prototype.GetDropOffset=function(t){return null},e.EventManager.prototype._getDragOptions=function(t){var e=this.GetDragSourceType(t);return this.getComponent().getOptions().dnd.drag[e]},e.EventManager.prototype._getDragEventPayload=function(t){var e={};return e[this.GetDragSourceType(t)]=this.GetDragDataContexts(),e},e.EventManager.prototype._getDragData=function(t){for(var e=this.GetDragDataContexts(),i=0;i<e.length;i++)e[i].component=void 0;return JSON.stringify(e)},e.EventManager.prototype._handleDragSourceEvent=function(t,i){if(null!=this.GetDragSourceType(t)){var n=this._getDragOptions(t)[i];n&&n(e.ToolkitUtils.getEventForSyntax(this._context,t))}},e.EventManager.prototype.OnDndDragEnter=function(t){this._handleDropTargetEvent(t,"dragEnter",!0)},e.EventManager.prototype.OnDndDragOver=function(t){this._handleDropTargetEvent(t,"dragOver",!0)},e.EventManager.prototype.OnDndDragLeave=function(t){this._handleDropTargetEvent(t,"dragLeave",!1)},e.EventManager.prototype.OnDndDrop=function(t){this._handleDropTargetEvent(t,"drop",!1)},e.EventManager.prototype.GetDropTargetType=function(t){return null},e.EventManager.prototype.GetDropEventPayload=function(t){return null},e.EventManager.prototype.ShowDropEffect=function(t){},e.EventManager.prototype.ShowRejectedDropEffect=function(t){this.ClearDropEffect()},e.EventManager.prototype.ClearDropEffect=function(){},e.EventManager.prototype._getDropOptions=function(t){var e=this.GetDropTargetType(t);return this.getComponent().getOptions().dnd.drop[e]},e.EventManager.prototype._handleDropTargetEvent=function(t,e,i){var n=this._handleDropTargetEventHelper(t,e);n||t.preventDefault(),!n&&i?this.ShowDropEffect(t):n&&i?this.ShowRejectedDropEffect(t):this.ClearDropEffect()},e.EventManager.prototype._handleDropTargetEventHelper=function(t,i){if(null==this.GetDropTargetType(t))return!0;var n=e.ToolkitUtils.getEventForSyntax(this._context,t),o=this._getDropOptions(t),r=o[i];if(r){var s=r(n,this.GetDropEventPayload(t));if(t.getNativeEvent().defaultPrevented)return!1;if(null!=s&&!this._context.isCustomElement())return s}var a=o.dataTypes;if(null!=a){e.ArrayUtils.isArray(a)||(a=[a]);for(var l=0;l<a.length;l++)if(e.ArrayUtils.getIndex(n.dataTransfer.types,a[l])>=0)return!1}return!0},e.EventManager.prototype.DispatchElementEvent=function(t,e){this.getCtx().getSvgDocument().dispatchEvent(new CustomEvent(t,{detail:e}))};var U=function(t,e){this.Init(t,e)};e.Obj.createSubclass(U,e.Obj),U.prototype.Init=function(t,e){this._context=t,this._id=e,this._actionTooltip=new B(this._context,this._id+"ActionPopup")},U.prototype.GetRichTooltipManager=function(){if(!this._RichTooltipManager){var t=this._id+"Tooltip";this._RichTooltipManager=this._context.getImplFactory().newRichTooltipManager(t),this._RichTooltipManager.InitializeTooltipElem();var e=this._RichTooltipManager.GetStoredContext();e&&new k(e,this,null,null).addListeners(this._actionTooltip)}return this._RichTooltipManager},U.prototype.clearActionTooltip=function(){this._actionTooltip&&this._actionTooltip.clearContent()},U.prototype.getActionTooltip=function(){return this._actionTooltip},U.prototype.hideTooltip=function(){this.clearActionTooltip(),this._RichTooltipManager&&this._RichTooltipManager.hideTooltip()},U.prototype.closeActionTooltip=function(){var t=new E(E.TOOLTIP_CLOSED_TYPE,this._actionPopupObj);this.FireListener(t),this._actionPopupObj=null,this.hideTooltip()},U.prototype.showDatatip=function(t,e,i,n){var o=this.getActionTooltip();i=U._formatTextString(i),o.setTooltipText(i),null!=n&&o.setTooltipBorderColor(n),this.GetRichTooltipManager().showRichElement(t,e,o,!0)},U.prototype.showTextAtPosition=function(t,e,i,n,o,r){var s=this.getActionTooltip();i=U._formatTextString(i),s.setTooltipText(i),null!=n&&s.setTooltipBorderColor(n),this.GetRichTooltipManager().showRichElement(t,e,s,o)},U.prototype.displayActionPopup=function(){var t=this.getActionTooltip();return!(!t||!t.hasMenuItems())},U.prototype.startActionPopupAtPosition=function(t,e,i,n){var o=this.getActionTooltip();if(o){this.GetRichTooltipManager().showRichElementAtPosition(t,e,o,!0,!1);var r=new E(E.TOOLTIP_STARTED_TYPE,i);this.FireListener(r),this._actionPopupObj=i}},U.prototype.addTooltipEventListener=function(t,e,i){var n=this._getListeners(t,!0);n.push(e),n.push(i)},U.prototype.removeTooltipEventListener=function(t,e,i){var n=this._getListeners(t,!1);if(null!==n)for(var o=0;o<n.length;o+=2)if(n[o]===e&&n[o+1]===i){n.splice(o,2);break}},U.prototype._getListeners=function(t,e){if(!this._listenerObj){if(!e)return null;this._listenerObj={}}var i=t,n=this._listenerObj[i];return!n&&e&&(n=[],this._listenerObj[i]=n),n},U.prototype.FireListener=function(t){var e=this._getListeners(t.getType(),!1);if(e)for(var i=0;i<e.length;i+=2){var n=e[i+1];e[i].call(n,t)}},U._formatTextString=function(t){var e="";if(!t)return e;var i=(t=t.replace(/\n/g,"<br>")).split("<br>");if(i){for(var n=new Array,o=0;o<i.length;o++){var r=i[o];null!=r&&""!=r&&n.push(r)}for(o=0;o<n.length;o++)e+=n[o],o<n.length-1&&(e+="\n")}return e};var k=function(t,e,i,n){this._customTooltipManager=e,this.Init(t,i,n)};e.Obj.createSubclass(k,e.EventManager),k.prototype.OnClickInternal=function(t){var e=t.target;this._handleMenuClick(e)},k.prototype.HandleImmediateTouchStartInternal=function(t,e){t.blockTouchHold(),this._handleMenuClick(t.target)},k.prototype.HandleTouchClickInternal=function(t){var e=t.target;this._handleMenuClick(e)},k.prototype._handleMenuClick=function(t){var e=this._customTooltipManager._actionPopupObj,i=t._menu;if(i){var n=!0;i instanceof w&&i._menuItem.isDisabled()&&(n=!1),n&&(this._customTooltipManager.closeActionTooltip(),i.FireActionTooltipItem(e))}};var B=function(t,e){this._Init(t,e)};e.Obj.createSubclass(B,e.Container),B.DEFAULT_BORDER_COLOR="gray",B.DEFAULT_BACKGROUND_COLOR="#ffffff",B.TOOLTIP_ONLY="tooltipOnly",B.MENU_ONLY="menuOnly",B.MENU_AND_TOOLTIP="menuAndTooltip",B.EMPTY="empty",B.MENU_PADDING_LEFT=21,B.MENU_PADDING_RIGHT=10,B.prototype._Init=function(t,i){this._context=t,this.getImpl()||this.setImpl(t.getImplFactory().newContainer("customTT")),B.superclass.Init.call(this,t),this._tooltipText=null,this._tooltipBorderColor=null,this._menuFontSize=11,this._tooltipFill=new e.SolidFill(B.DEFAULT_BACKGROUND_COLOR),this._fontSize=11,this._includePointer=!1,this._pointerLocation=new e.Point(0,0)},B.prototype.setIncludePointer=function(t){this._includePointer=t},B.prototype.getRootDisplayable=function(){return this},B.prototype.UpdateTooltipSize=function(t,e){this._displayWidth=t,this._displayHeight=e},B.prototype.getDisplayWidth=function(){return this._displayWidth},B.prototype.getDisplayHeight=function(){return this._displayHeight},B.prototype.clearContent=function(){this.clearMenuItems(),this.setTooltipBorderColor(null),this.setTooltipText(null)},B.prototype.setMenuFontSize=function(t){this._menuFontSize=t},B.prototype.setTooltipBorderColor=function(t){this._tooltipBorderColor=t},B.prototype.getTooltipBorderColor=function(){return this._tooltipBorderColor},B.prototype.setTooltipFill=function(t){this._tooltipFill=t},B.prototype.setTooltipText=function(t){this._tooltipText=t},B.prototype.getTooltipText=function(){return this._tooltipText},B.prototype.addMenuItem=function(t){this.getMenuItems().push(t)},B.prototype.hasMenuItems=function(){var t=this.getMenuItems();return t&&t.length>0},B.prototype.clearMenuItems=function(){this._menuItems&&(this._menuItems=[])},B.prototype.getMenuItems=function(){return this._menuItems||(this._menuItems=new Array),this._menuItems},B.prototype.containsMenuId=function(t){for(var e=this.getMenuItems(),i=0;i<e.length;i++)if(e[i].getId()==t)return!0;return!1},B.prototype.getTooltipType=function(){return this.hasMenuItems()?B.MENU_ONLY:B.EMPTY},B.prototype.Render=function(){var t=this.getRootDisplayable();t.removeChildren();var i=this.getTooltipType();if(i!=B.EMPTY){var n=4,o=2;this._includePointer&&(o=3,n=10);var r=this.hasMenuItems(),s=n+o/2,a=0,l=0;i==B.TOOLTIP_ONLY?t.setAlpha(.9):t.setAlpha(1)
;var h=new Array,u=new Array;if(i==B.MENU_AND_TOOLTIP?a+=5:i==B.MENU_ONLY&&(a+=2.5),r)for(var c=this.getMenuItems(),p=0;p<c.length;p++){var _=c[p],g=new e.OutputText(this._context,_.getText(),0,0,null);g.alignBottom(),g.setFontSize(this._menuFontSize),_ instanceof w&&_._menuItem.isDisabled()&&g.setAlpha(.5),g._menu=_;var d=g.getDimensions();d.y=s+a;var S=d.w;u.push(d),l=Math.max(S+B.MENU_PADDING_LEFT+B.MENU_PADDING_RIGHT,l),g.setY(d.y),a+=d.h,p<c.length-1&&(a+=5),h.push(g),g.alignLeft(),g.alignTop()}i!=B.MENU_ONLY&&i!=B.MENU_AND_TOOLTIP||(a+=2.5);var f=l+2*n,y=f+o,E=s+a+n+o/2;this._cursorText&&this._cursorText.setTranslateX(n+o/2);var T=12,v=this._pointerLocation.x>y,m=-this._pointerLocation.x,C=this._pointerLocation.y;if(this._includePointer){E/2<T&&(T=E/3);var A,O=E+o;O=Math.max(C+o,O),v?(this.UpdateTooltipSize(this._pointerLocation.x,O),A=o/2):(this.UpdateTooltipSize(y+m+o,O),A=o/2+m),t.setTranslate(A,o/2)}else this.UpdateTooltipSize(y+o,E+o),t.setTranslate(o/2,o/2);var b=new e.Rect(this._context,0,0,y,E);if(this._includePointer){var I=E/2;if(v){var P=new e.Point(0,0),M=new e.Point(y,0),D=new e.Point(y,I),R=new e.Point(this._pointerLocation.x,C),x=new e.Point(y,I+T),N=new e.Point(y,E),U=new e.Point(0,E),k=e.PathUtils.moveTo(P.x+5,P.y)+e.PathUtils.lineTo(M.x-5,M.y)+e.PathUtils.arcTo(5,5,Math.PI/2,1,M.x,M.y+5)+e.PathUtils.lineTo(D.x,D.y)+e.PathUtils.lineTo(R.x,R.y)+e.PathUtils.lineTo(x.x,x.y)+e.PathUtils.lineTo(N.x,N.y-5)+e.PathUtils.arcTo(5,5,Math.PI/2,1,N.x-5,N.y)+e.PathUtils.lineTo(U.x+5,U.y)+e.PathUtils.arcTo(5,5,Math.PI/2,1,U.x,U.y-5)+e.PathUtils.lineTo(0,5)+e.PathUtils.arcTo(5,5,Math.PI/2,1,5,0)+e.PathUtils.closePath();b=new e.Path(this._context,k,null)}else P=new e.Point(0,0),M=new e.Point(y,0),D=new e.Point(y,E),R=new e.Point(0,E),x=new e.Point(0,I+T),N=new e.Point(-m,C),U=new e.Point(0,I),k=e.PathUtils.moveTo(P.x+5,P.y)+e.PathUtils.lineTo(M.x-5,M.y)+e.PathUtils.arcTo(5,5,Math.PI/2,1,M.x,M.y+5)+e.PathUtils.lineTo(D.x,D.y-5)+e.PathUtils.arcTo(5,5,Math.PI/2,1,D.x-5,D.y)+e.PathUtils.lineTo(R.x+5,R.y)+e.PathUtils.arcTo(5,5,Math.PI/2,1,R.x,R.y-5)+e.PathUtils.lineTo(x.x,x.y)+e.PathUtils.lineTo(N.x,N.y)+e.PathUtils.lineTo(U.x,U.y)+e.PathUtils.lineTo(0,5)+e.PathUtils.arcTo(5,5,Math.PI/2,1,5,0)+e.PathUtils.closePath(),b=new e.Path(this._context,k,null)}b.setSolidStroke("rgb(229,232,238)"),this._tooltipFill||(this._tooltipFill=new e.SolidFill(B.DEFAULT_BACKGROUND_COLOR)),b.setFill(this._tooltipFill),t.addChildAt(b,0);var L=.95*f,H=(y-L)/2;for(p=0;p<h.length;p++){var F=h[p];if(t.addChild(F),S=u[p].w,F._menu){var G=new e.Rectangle(0,u[p].y-2.5,y,u[p].h+5),Y=new e.Rect(this._context,G.x,G.y,G.w,G.h);if(Y.setInvisibleFill(),Y._menu=F._menu,t.addChild(Y),p>0){var K=F._menu._menuItem;if(h[p-1]._menu instanceof w&&K.hasSeparatorBefore()){var j=new e.SolidFill("gray",.5);this.renderDivider(t,H,u[p].y-2.5,L,j)}}}F.setTranslateX(B.MENU_PADDING_LEFT)}}},B.prototype.renderDivider=function(t,i,n,o,r){var s=new e.Rect(this._context,i,n,o,1);s.setFill(r),t.addChild(s)};var L=function(t,e,i,n,o){this.Init(t,e,i,n,o)};e.Obj.createSubclass(L,e.Obj),L.prototype.Init=function(t,e,i,n,o){this._context=t,this._id=e,this._text=i,this._listener=n,this._listenerObj=o},L.prototype.getId=function(){return this._id},L.prototype.getText=function(){return this._text},L.prototype.FireActionTooltipItem=function(t){if(this._listenerObj&&this._listener){var i=new Object;i.target=t,i.menuItem=this._menuItem,this._menuItemTimer=new e.Timer(this._context,1,this._handleMenuTimer,this),this._menuItemTimer.evt=i,this._menuItemTimer.start()}},L.prototype._handleMenuTimer=function(){this._menuItemTimer&&this._menuItemTimer.stop(),this._listener.call(this._listenerObj,this._menuItemTimer.evt)};var w=function(t,e,i,n,o){this.Init(t,e,i,n,o)};e.Obj.createSubclass(w,L),w.prototype.Init=function(t,e,i,n,o){w.superclass.Init.call(this,t,e,o.getText(),i,n),this._menuItem=o},e.XmlParser=function(t){this._impl||(this._impl=t.getImplFactory().newParser())},e.Obj.createSubclass(e.XmlParser,e.Obj),e.XmlParser.prototype.parse=function(t){return this._impl&&this._impl.parse?this._impl.parse(t):null},e.XmlNode=function(){},e.Obj.createSubclass(e.XmlNode,e.Obj),e.XmlNode.prototype.getAttr=function(t){return null},e.XmlNode.prototype.getChildNodes=function(){return new Array},e.XmlNode.prototype.getChild=function(t){var e=this.getChildNodes();return null!=e&&e.length>t?e[t]:null},e.XmlNode.prototype.getFirstChild=function(){return this.getChild(0)},e.XmlNode.prototype.getName=function(){return null},e.XmlNode.prototype.getAttributes=function(){return null},e.XmlNode.prototype.getAllChildNodes=function(){return new Array},e.XmlNode.prototype.getNodeValue=function(){return null},e.XmlNode.prototype.getTextContent=function(){return null},e.XmlNode.prototype.getElementsByTagName=function(t){return null},e.HtmlTooltipManager=function(t,e){this.Init(t,e)},e.Obj.createSubclass(e.HtmlTooltipManager,e.TooltipManager),e.HtmlTooltipManager._TOOLTIP_DIV_ID="_dvtTooltip",e.HtmlTooltipManager._SHOW_DELAY=500,e.HtmlTooltipManager._BORDER_COLOR="#9ba2b0",e.HtmlTooltipManager._FONT_COLOR="#383a47",e.HtmlTooltipManager._VIEWPORT_BUFFER=15,e.HtmlTooltipManager.prototype.Init=function(t,i){this._context=t,this._domElementId=i||e.HtmlTooltipManager._TOOLTIP_DIV_ID,this._isTooltip=!0},e.HtmlTooltipManager.prototype.showDatatip=function(t,e,i,n,o){null==o&&(o=!0),this._isTooltip=!1,this._showTextAtPosition(t,e,i,n,o,this._context.getDatatipStyleClass())},e.HtmlTooltipManager.prototype._showTextAtPosition=function(t,i,n,o,r,s){var a,l=this.getTooltipElem();if("string"==typeof n){for(;l.hasChildNodes();)l.removeChild(l.firstChild);n=(n=n.replace(/(<|&#60;)/g,"&lt;")).replace(/(>|&#62;)/g,"&gt;"),n=e.HtmlTooltipManager._restoreTag(n,"b"),n=e.HtmlTooltipManager._restoreTag(n,"i"),n=e.HtmlTooltipManager._restoreTag(n,"table"),n=e.HtmlTooltipManager._restoreTag(n,"tr"),n=(n=(n=(n=e.HtmlTooltipManager._restoreTag(n,"td")).replace(/\n/g,"<br>")).replace(/\\n/g,"<br>")).replace(/&#92;n/g,"<br>"),n=e.HtmlTooltipManager._restoreTag(n,"br"),(a=document.createElement("span")).style.visibility="inherit",a.style.width=null,a.style.height=null,a.innerHTML=n}else 1!=n&&(a=n);this._isCustomClassName||(l.className=s),this._isCustomClassName=!1,o||(o=e.HtmlTooltipManager._BORDER_COLOR),this._isCustomBorderColor||(l.style.borderColor=o),this._isCustomBorderColor=!1,l.style.position="absolute",l.style.zIndex=2147483647,null!=a&&l.appendChild(a),this.PostElement(l,t,i,!0,r)},e.HtmlTooltipManager.prototype.PostElement=function(t,e,i,n,o){if(t.style["pointer-events"]=n?"none":"auto",t.style.width=null,t.style.height=null,t.style.left="0px",t.style.top="0px",o){var r=this._getOffsets(t);this.positionTip(e+r.x,i+r.y,e,i)}else this.positionTip(e,i,e,i);t.style.visibility="visible";var s=this._context.getTooltipAttachedCallback();s&&s(t)},e.HtmlTooltipManager.prototype.hideTooltip=function(){this.clearTooltip(),this._tooltipDisplayed=!1,this._timerIsRunning=!1;var i=document.getElementById(this._domElementId);i&&(i.style.visibility="hidden",i.style.overflow=null,i.style.width="0px",i.style.height="0px",e.Agent.isRightToLeft(this._context)?i.style.left=i.style.right:i.style.left="0px",i.style.top="0px",void 0!==t&&this._bCleanupChildren&&t(i).children().remove())},e.HtmlTooltipManager.prototype.getTooltipElem=function(){var t=document.getElementById(this._domElementId);return t||(t=this.InitializeTooltipElem()),t},e.HtmlTooltipManager.prototype.InitializeTooltipElem=function(){var t=document.createElement("div");return t.id=this._domElementId,t.style.visibility="hidden",document.body.appendChild(t),this.InitContent(t),t},e.HtmlTooltipManager.prototype.InitContent=function(t){},e.HtmlTooltipManager.prototype.showTooltip=function(t,i,n,o,r,s){if(n&&0!=n.length&&(this._x=t,this._y=i,this._text=n,this._trackMouse=r,!this._timerIsRunning)){var a=document.createElement("span");a.className="OraDVTTooltipText",a.innerHTML=n,a.style.color=e.HtmlTooltipManager._FONT_COLOR,s||(s=e.HtmlTooltipManager._BORDER_COLOR),this.getTooltipElem().style.borderColor=s,e.Agent.isTouchDevice()||this._tooltipDisplayed&&this._trackMouse?this._displayTooltip(this._x,this._y,this._text,this._borderColor):(this._timerIsRunning=!0,this._showTimerId=window.setTimeout(e.Obj.createCallback(this,this._handleShowTimer),e.HtmlTooltipManager._SHOW_DELAY))}},e.HtmlTooltipManager.prototype.clearTooltip=function(){this._showTimerId&&(window.clearTimeout(this._showTimerId),this._showTimerId=void 0,this._x=void 0,this._y=void 0,this._text=void 0,this._trackMouse=void 0),this._hideTimerId&&(window.clearTimeout(this._hideTimerId),this._hideTimerId=void 0)},e.HtmlTooltipManager.prototype._handleShowTimer=function(t){this._timerIsRunning=!1,this._displayTooltip(this._x,this._y,this._text,this._borderColor),this._tooltipDisplayed=!0},e.HtmlTooltipManager.prototype._displayTooltip=function(t,e,i,n){this._isTooltip=!0,this._showTextAtPosition(t,e,i,n,!0,this._context.getTooltipStyleClass())},e.HtmlTooltipManager.prototype._getOffsets=function(t){var i=this.getTooltipBounds(t);if(e.Agent.isTouchDevice())return new e.Point(0-i.w/2,-30-i.h);var n=-8-i.h,o=8;return this._isTooltip&&(n=22,o=0),e.Agent.isRightToLeft(this._context)&&(o=-o-i.w),new e.Point(o,n)},e.HtmlTooltipManager.prototype.getTooltipBounds=function(){var t=this.getTooltipElem();return t.style.height="auto",new e.Rectangle(parseInt(t.style.left),parseInt(t.style.top),t.offsetWidth,t.offsetHeight)},e.HtmlTooltipManager.prototype.positionTip=function(t,i){var n=this.getTooltipElem(),o=this.getTooltipBounds(),r=o.w,s=o.h,a=new e.Rectangle(window.pageXOffset+e.HtmlTooltipManager._VIEWPORT_BUFFER,window.pageYOffset+e.HtmlTooltipManager._VIEWPORT_BUFFER,window.innerWidth-2*e.HtmlTooltipManager._VIEWPORT_BUFFER,window.innerHeight-2*e.HtmlTooltipManager._VIEWPORT_BUFFER);r>a.w-2*e.HtmlTooltipManager._VIEWPORT_BUFFER&&(r=a.w-2*e.HtmlTooltipManager._VIEWPORT_BUFFER,n.style.width=r+"px");var l=t;l=Math.max(l,a.x),l=Math.min(l,a.x+a.w-r),Math.abs(a.x)>e.HtmlTooltipManager._VIEWPORT_BUFFER&&(n.style.width=Math.min(n.clientWidth,a.x+a.w-l)+"px",i+=s-n.offsetHeight,s=n.offsetHeight,n.style.overflow="hidden");var h=i;h=Math.min(h,a.y+a.h-s),h=Math.max(h,a.y),n.style.left=l+"px",n.style.top=h+"px"},e.HtmlTooltipManager.prototype.getCustomTooltip=function(t,e){for(var i=this.getTooltipElem();i.hasChildNodes();)i.removeChild(i.firstChild);e.parentElement=i,i.className="",i.style.borderColor="";var n=t(e=this._context.fixRendererContext(e));return i.className&&(this._isCustomClassName=!0),i.style.borderColor&&(this._isCustomBorderColor=!0),this._bCleanupChildren=null!=e._templateCleanup,!(n||!i.hasChildNodes())||n},e.HtmlTooltipManager._restoreTag=function(t,e){var i=new RegExp("&lt;(/?)"+e+"([^&]*)(/?)&gt;","g");return t.replace(i,"<$1"+e+"$2$3>")},e.HtmlTooltipManager.createStartTag=function(t,e){return"<"+t+' style="'+e.toString()+'">'},e.HtmlKeyboardListenerUtils=function(){},e.Obj.createSubclass(e.HtmlKeyboardListenerUtils,e.Obj),e.HtmlKeyboardListenerUtils.ATTR_IGNORE_EVENTS_FROM_TARGET="_dvtIgnoreEventsFromTarget",e.HtmlKeyboardListenerUtils.getListener=function(t){return t?e.HtmlKeyboardListenerUtils._captureListener:e.HtmlKeyboardListenerUtils._bubbleListener},e.HtmlKeyboardListenerUtils._bubbleListener=function(t){e.HtmlKeyboardListenerUtils._commonListener.call(this,t,!1)},e.HtmlKeyboardListenerUtils._captureListener=function(t){e.HtmlKeyboardListenerUtils._commonListener.call(this,t,!0)},e.HtmlKeyboardListenerUtils._commonListener=function(t,i){var n;if(!e.HtmlKeyboardListenerUtils._checkIgnoreTarget(t))if(this._currentObj){if("focus"==t.type)return void(this._focusEvent=t);var o=this._currentObj.getCtx();this._focusEvent&&(o.resetCurrentKeyboardFocus(t),n=e.DomEventFactory.newEvent(this._focusEvent,o),this._currentObj.FireListener(n,i),this._focusEvent=null),n=e.DomEventFactory.newEvent(t,o),this._currentObj.FireListener(n,i)}else if(this._obj&&this._obj instanceof Array){var r,s,a=this._obj.length;for(r=0;r<a;r++)s=this._obj[r],n=e.DomEventFactory.newEvent(t,s.getCtx()),s.FireListener(n,i)}},e.HtmlKeyboardListenerUtils._checkIgnoreTarget=function(t){return!!(t&&t.target&&t.target[e.HtmlKeyboardListenerUtils.ATTR_IGNORE_EVENTS_FROM_TARGET])};var H=function(){this._parser=new DOMParser};e.Obj.createSubclass(H,e.Obj),H.prototype.parse=function(t){var i=this._parser.parseFromString(t,"text/xml").documentElement;return new e.DomXmlNode(i)},e.DomXmlNode=function(t){this._node=t},e.Obj.createSubclass(e.DomXmlNode,e.XmlNode),e.DomXmlNode.prototype.getAttr=function(t){return this._node.getAttribute(t)},e.DomXmlNode.prototype.getChildNodes=function(){for(var t=new Array,i=this._node.firstChild;null!=i;)1==i.nodeType&&t.push(new e.DomXmlNode(i)),i=i.nextSibling;return t},e.DomXmlNode.prototype.getName=function(){return this._node.nodeName},e.DomXmlNode.prototype.getAttributes=function(){for(var t=[],e=this._node.attributes.length,i=0;i<e;i++){var n=this._node.attributes[i];n.name&&void 0!==n.value&&null!=n.value&&t.push({name:n.name,value:n.value})}return t},e.DomXmlNode.prototype.getAllChildNodes=function(){for(var t=new Array,i=this._node.firstChild;null!=i;)t.push(new e.DomXmlNode(i)),i=i.nextSibling;return t},e.DomXmlNode.prototype.getNodeValue=function(){return this._node.nodeValue},e.DomXmlNode.prototype.getTextContent=function(){return this._node.textContent},e.DomXmlNode.prototype.getElementsByTagName=function(t){var i=[],n=this._node.getElementsByTagName(t);if(n)for(var o=0;o<n.length;o++)i.push(new e.DomXmlNode(n[o]));return i},e.EventFactory=new Object,e.Obj.createSubclass(e.EventFactory,e.Obj),e.EventFactory.newEvent=function(t,e){var i={type:t};return e&&(i.id=e),i},e.EventFactory.newOptionChangeEvent=function(t,i,n){var o=e.EventFactory.newEvent("optionChange");return o.key=t,o.value=i,o.optionMetadata=n,o},e.EventFactory.newAdfPropertyChangeEvent=function(t,i){var n=e.EventFactory.newEvent("adfPropertyChange");return n.properties={},null!=t&&(n.properties[t]=i),n},e.EventFactory.newAdfContextMenuEvent=function(t,i){var n=e.EventFactory.newEvent("adfContextMenu");return n.nativeEvent=t,n.menuId=i,n},e.EventFactory.newAdfHidePopupEvent=function(t,i){var n=e.EventFactory.newEvent("adfHidePopup");return n.popupId=t,n.relatedTarget=i,n},e.EventFactory.newAdfLogEvent=function(t,i){var n=e.EventFactory.newEvent("adfLog");return n.level=t,n.message=i,n},e.EventFactory.newAdfShowPopupEvent=function(t,i,n,o){var r=e.EventFactory.newEvent("adfShowPopup");return r.showPopupBehavior=t,r.launcherBounds=i,r.launcherId=n,r.triggerType=o,r},e.EventFactory.newActionEvent=function(t,i,n){var o=e.EventFactory.newEvent("action");return o.commandId=i,o.clientId=n,o.subType=t,o},e.EventFactory.newCategoryHideEvent=function(t,i){var n=e.EventFactory.newEvent("categoryHide");return n.category=t,n.hiddenCategories=i,n},e.EventFactory.newCategoryShowEvent=function(t,i){var n=e.EventFactory.newEvent("categoryShow");return n.category=t,n.hiddenCategories=i,n},e.EventFactory.newCategoryHighlightEvent=function(t,i){var n=e.EventFactory.newEvent("categoryHighlight");return n._highlightType=i?"over":"out",t=t||[],n.categories=t instanceof Array?t:[t],n},e.EventFactory.newDrillEvent=function(t){return e.EventFactory.newEvent("drill",t)},e.EventFactory.newReadyEvent=function(){return e.EventFactory.newEvent("ready")},e.EventFactory.newSelectionEvent=function(t){var i=e.EventFactory.newEvent("selection");return i.selection=t,i},e.EventFactory.newTouchHoldReleaseEvent=function(t){var i=e.EventFactory.newEvent("touchHoldRelease");return i.nativeEvent=t,i},e.EventFactory.newValueChangeEvent=function(t,i,n){var o=e.EventFactory.newEvent("valueChange");return o.oldValue=t,o.newValue=i,o.complete=n,o},e.EventFactory.newChartDrillEvent=function(t,i,n){var o=e.EventFactory.newDrillEvent(t);return o.series=i,o.group=n,o},e.EventFactory.newChartSelectionEvent=function(t,i,n,o,r,s,a,l,h,u){var c=e.EventFactory.newSelectionEvent(t);return c.complete=i,c.xMin=n,c.xMax=o,c.startGroup=r,c.endGroup=s,c.yMin=a,c.yMax=l,c.y2Min=h,c.y2Max=u,c},e.EventFactory.newChartViewportChangeEvent=function(t,i,n,o,r,s,a){var l=e.EventFactory.newEvent("viewportChange");return l.complete=t,l.xMin=i,l.xMax=n,l.startGroup=o,l.endGroup=r,l.yMin=s,l.yMax=a,l},e.EventFactory.newSunburstExpandCollapseEvent=function(t,i,n,o,r){var s=e.EventFactory.newEvent(t,i);return s.expanded=r,s.data=n,s.component=o,s},e.EventFactory.newTreeDrillEvent=function(t,i,n){var o=e.EventFactory.newDrillEvent(t);return o.data=i,o.component=n,o},e.EventFactory.newSunburstRotationEvent=function(t,i){var n=e.EventFactory.newEvent("rotation");return n.complete=i,n.startAngle=t%360,n},e.EventFactory.newThematicMapViewportChangeEvent=function(t,i,n){var o=e.EventFactory.newEvent("viewportChange");return o.panX=t,o.panY=i,o.zoom=n,o},e.EventFactory.newTimelineViewportChangeEvent=function(t,i,n){var o=e.EventFactory.newEvent("viewportChange");return o.viewportStart=t,o.viewportEnd=i,o.minorAxisScale=n,o},e.EventFactory.newGanttViewportChangeEvent=function(t,i,n,o){var r=e.EventFactory.newTimelineViewportChangeEvent(t,i,o);return r.majorAxisScale=n,r},e.EventFactory.newGanttMoveEvent=function(t,i,n,o,r,s,a){var l=e.EventFactory.newEvent("move");return l.taskContexts=t,l.value=i,l.start=n,l.end=o,l.baselineStart=r,l.baselineEnd=s,l.rowContext=a,l},e.EventFactory.newTreemapIsolateEvent=function(t){return e.EventFactory.newEvent("isolate",t)},e.ClientBehaviorEvent=function(t){this.Init(e.ClientBehaviorEvent.TYPE),this._clientBehavior=t},e.Obj.createSubclass(e.ClientBehaviorEvent,e.BaseComponentEvent),e.ClientBehaviorEvent.TYPE="clientBehavior",e.ClientBehaviorEvent.prototype.getClientBehavior=function(){return this._clientBehavior},e.EventDispatcher={},e.Obj.createSubclass(e.EventDispatcher,e.Obj),e.EventDispatcher.dispatchEvent=function(t,e,i,n){t&&t.call&&t.call(e,n,i)},e.ToolkitUtils={},e.Obj.createSubclass(e.ToolkitUtils,e.Obj),e.ToolkitUtils.SVG_NS="http://www.w3.org/2000/svg",e.ToolkitUtils.XLINK_NS="http://www.w3.org/1999/xlink",e.ToolkitUtils._IMAGE_URL_CACHE={},e.ToolkitUtils.createSvgDocument=function(t){var i=document.createElementNS(e.ToolkitUtils.SVG_NS,"svg");return null!=t&&e.ToolkitUtils.setAttrNullNS(i,"id",t),e.ToolkitUtils.setAttrNullNS(i,"width","100%"),e.ToolkitUtils.setAttrNullNS(i,"height","100%"),e.Agent.isPlatformIE()&&e.ToolkitUtils.setAttrNullNS(i,"focusable","false"),i},e.ToolkitUtils.getDragFeedback=function(t,i){var n=new Object;if(!t)return n.width=1,n.height=1,n.svg=e.ToolkitUtils.createSvgDocument("dnd"),n;t instanceof Array||(t=[t]);var o=e.DragAndDropUtils.getDragFeedbackBounds(t,i),r=e.ToolkitUtils._getDragFeedbackSVG(t,o);return n.width=o.w+2*e.DragSource.DRAG_FEEDBACK_MARGIN,n.height=o.h+2*e.DragSource.DRAG_FEEDBACK_MARGIN,r&&(n.svg=r),n},e.ToolkitUtils._getDragFeedbackSVG=function(t,i){var n=e.ToolkitUtils.createSvgDocument("dnd");e.ToolkitUtils.setAttrNullNS(n,"class","oj-drag");var o="translate("+(e.DragSource.DRAG_FEEDBACK_MARGIN-i.x)+","+(e.DragSource.DRAG_FEEDBACK_MARGIN-i.y)+")",r=e.SvgShapeUtils.createElement("g");e.ToolkitUtils.setAttrNullNS(r,"transform",o),e.ToolkitUtils.appendChildElem(n,r);for(var s=0;s<t.length;s++){var a=t[s],l=a.getImpl().getElem().cloneNode(!0);e.ToolkitUtils.getAttrNullNS(l,"filter")&&e.ToolkitUtils.setAttrNullNS(l,"filter",null);var h=e.SvgShapeUtils.createElement("g");e.ToolkitUtils.appendChildElem(r,h);for(var u=a.getPathToStage(),c=null,p=1;p<u.length;p++)c?(c=c.clone()).concat(u[p].getMatrix()):c=u[p].getMatrix();if(c){var _="matrix("+c.getA()+","+c.getC()+","+c.getB()+","+c.getD()+","+c.getTx()+","+c.getTy()+")";e.ToolkitUtils.setAttrNullNS(h,"transform",_)}e.ToolkitUtils.appendChildElem(h,l)}return n},e.ToolkitUtils.addDomEventListener=function(t,e,i,n){t&&t.addEventListener&&t.addEventListener(e,i,n)},e.ToolkitUtils.removeDomEventListener=function(t,e,i,n){t&&t.removeEventListener&&t.removeEventListener(e,i,n)},e.ToolkitUtils.appendChildElem=function(t,e){return t.appendChild(e)},e.ToolkitUtils.getAttrNullNS=function(t,e){return t.getAttribute(e)},e.ToolkitUtils.hasAttrNullNS=function(t,e){return t.hasAttribute(e)},e.ToolkitUtils.setAttrNullNS=function(t,i,n,o){null==o||n!=o?t.setAttribute(i,n):e.ToolkitUtils.hasAttrNullNS(t,i)&&e.ToolkitUtils.removeAttrNullNS(t,i)},e.ToolkitUtils.removeAttrNullNS=function(t,i){e.ToolkitUtils.hasAttrNullNS(t,i)&&t.removeAttribute(i)},e.ToolkitUtils.setHref=function(t,i){e.Agent.isBrowserSafari()||e.Agent.isPlatformGecko()&&e.Agent.getVersion()<51?t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i):e.ToolkitUtils.setAttrNullNS(t,"href",i)},e.ToolkitUtils.getLinkCallback=function(t,e){return t||e?function(){if(null==t)self.location=e;else{var i=window.open(e,t);i&&i.focus()}}:null},e.ToolkitUtils.roundDecimal=function(t){return e.Agent.isEnvironmentTest()?Math.round(1e3*t)/1e3:t},e.ToolkitUtils.getUrlPathById=function(t){return((e.Agent.isPlatformIE()?null!=document.querySelector("base"):document.URL!=document.baseURI)?document.URL.split("#")[0]+"#":"#")+t},e.ToolkitUtils.getUrlById=function(t){return"url("+e.ToolkitUtils.getUrlPathById(t)+")"},e.ToolkitUtils.setSvgSize=function(t,i,n){var o=t.getSvgDocument();e.ToolkitUtils.setAttrNullNS(o,"width",i+"px"),e.ToolkitUtils.setAttrNullNS(o,"height",n+"px")},e.ToolkitUtils.getOuterDivSize=function(t){var i=t.getSvgDocument().parentNode,n=window.getComputedStyle(i);return new e.Dimension(parseFloat(n.width),parseFloat(n.height))},e.ToolkitUtils.getEventForSyntax=function(e,i){var n=i.getNativeEvent();if(!e.isCustomElement()&&void 0!==t){var o=t.event.fix(n);return o.dataTransfer=n.dataTransfer,o}return n},e.ToolkitUtils.getImageUrl=function(i,n){if(void 0===t||-1!=n.indexOf("."))return n;var o=e.ToolkitUtils._IMAGE_URL_CACHE[n];if(null!=o)return o;var r=t(document.createElement("div"));return r.attr("style","display:none;"),r.addClass(n),t(i.getContainer()).append(r),o=(o=r.css("background-image"))&&-1!==o.indexOf("url(")?o.slice(o.indexOf("url(")+4,o.length-1).replace(/["']/g,""):n,r.remove(),e.ToolkitUtils._IMAGE_URL_CACHE[n]=o,o},e.ToolkitUtils.addClassName=function(t,i){if(t&&i)if(e.ToolkitUtils.hasAttrNullNS(t,"class")){var n=e.ToolkitUtils.getAttrNullNS(t,"class").split(" ");-1==e.ArrayUtils.getIndex(n,i)&&(n.push(i),e.ToolkitUtils.setAttrNullNS(t,"class",n.join(" ")))}else e.ToolkitUtils.setAttrNullNS(t,"class",i)},e.ToolkitUtils.removeClassName=function(t,i){if(t&&i&&e.ToolkitUtils.hasAttrNullNS(t,"class")){var n=e.ToolkitUtils.getAttrNullNS(t,"class").split(" "),o=e.ArrayUtils.getIndex(n,i);o>=0&&(n.splice(o,1),e.ToolkitUtils.setAttrNullNS(t,"class",n.join(" ")))}},e.Bundle.addDefaultStrings(e.Bundle.UTIL_PREFIX,{SCALING_SUFFIX_THOUSAND:"K",SCALING_SUFFIX_MILLION:"M",SCALING_SUFFIX_BILLION:"B",SCALING_SUFFIX_TRILLION:"T",SCALING_SUFFIX_QUADRILLION:"Q",NUMBER_FORMAT_DECIMAL_SEPARATOR:".",NUMBER_FORMAT_GROUPING_SEPARATOR:",",NUMBER_FORMAT_GROUPING_SIZE:3,MONTH_JANUARY:"January",MONTH_FEBRUARY:"February",MONTH_MARCH:"March",MONTH_APRIL:"April",MONTH_MAY:"May",MONTH_JUNE:"June",MONTH_JULY:"July",MONTH_AUGUST:"August",MONTH_SEPTEMBER:"September",MONTH_OCTOBER:"October",MONTH_NOVEMBER:"November",MONTH_DECEMBER:"December",MONTH_SHORT_JANUARY:"Jan",MONTH_SHORT_FEBRUARY:"Feb",MONTH_SHORT_MARCH:"Mar",MONTH_SHORT_APRIL:"Apr",MONTH_SHORT_MAY:"May",MONTH_SHORT_JUNE:"Jun",MONTH_SHORT_JULY:"Jul",MONTH_SHORT_AUGUST:"Aug",MONTH_SHORT_SEPTEMBER:"Sep",MONTH_SHORT_OCTOBER:"Oct",MONTH_SHORT_NOVEMBER:"Nov",MONTH_SHORT_DECEMBER:"Dec",DAY_MONDAY:"Monday",DAY_TUESDAY:"Tuesday",DAY_WEDNESDAY:"Wednesday",DAY_THURSDAY:"Thursday",DAY_FRIDAY:"Friday",DAY_SATURDAY:"Saturday",DAY_SUNDAY:"Sunday",DAY_SHORT_MONDAY:"Mon",DAY_SHORT_TUESDAY:"Tue",DAY_SHORT_WEDNESDAY:"Wed",DAY_SHORT_THURSDAY:"Thu",DAY_SHORT_FRIDAY:"Fri",DAY_SHORT_SATURDAY:"Sat",DAY_SHORT_SUNDAY:"Sun",TIME_AM:"AM",TIME_PM:"PM",DURATION_DAYS:"{0} days",DURATION_HOURS:"{0} hours",ROW_INFO:"Row {0}",TASK_INFO:"Start time is {0}, end time is {1}, duration is {2}",MILESTONE_INFO:"Time is {0}",ITEM_START:"Start time is {0}.",ITEM_END:"End time is {0}.",ITEM_TITLE:"Title is {0}.",ITEM_DESCRIPTION:"Description is {0}.",INVALID_DATA:"Invalid data",NO_DATA:"No data to display",CLEAR_SELECTION:"Clear Selection",EXPAND:"Expand",COLLAPSE:"Collapse",DATA_VISUALIZATION:"Data Visualization",STATE_SELECTED:"Selected",STATE_UNSELECTED:"Unselected",STATE_MAXIMIZED:"Maximized",STATE_MINIMIZED:"Minimized",STATE_EXPANDED:"Expanded",STATE_COLLAPSED:"Collapsed",STATE_ISOLATED:"Isolated",STATE_HIDDEN:"Hidden",STATE_VISIBLE:"Visible",STATE_DRILLABLE:"Drillable",ARIA_LABEL_STATE_DELIMITER:", ",ARIA_LABEL_DESC_DELIMITER:". ",COLON_SEP_LIST:"{0}: {1}",COUNT_WITH_TOTAL:"{0} of {1}",ZOOM_IN:"Zoom In",ZOOM_OUT:"Zoom Out",CHART:"Chart",DIAGRAM:"Diagram",GANTT:"Gantt",GAUGE:"Gauge",HIERARCHY_VIEWER:"Hierarchy Viewer",LEGEND:"Legend",NBOX:"{0} Box",PICTOCHART:"Picture Chart",SUNBURST:"Sunburst",TAG_CLOUD:"Tag Cloud",THEMATIC_MAP:"Thematic Map",TIME_AXIS:"Time Axis",TIMELINE:"Timeline",TIMELINE_SERIES:"Series",TREEMAP:"Treemap"}),e.SvgDocumentUtils=function(){},e.Obj.createSubclass(e.SvgDocumentUtils,e.Obj),e.SvgDocumentUtils.elementFromPoint=function(t,e){for(var i=document.elementFromPoint(t,e);i;){if(i._obj&&i._obj.getObj&&i._obj.getObj())return i._obj.getObj();i=i.parentNode}return null},e.SvgDocumentUtils.elementFromTouch=function(t){return this.elementFromPoint(t.clientX,t.clientY)},e.SvgDocumentUtils.isFilterSupported=function(t){return!(e.Agent.isPlatformIE()&&e.Agent.getVersion()<10||e.Agent.isBrowserSafari()&&e.Agent.getVersion()<536||e.Agent.isTouchDevice()&&!e.Agent.isBrowserSafari())},e.SvgDocumentUtils.isEventAvailableOutsideClip=function(){return e.Agent.isBrowserSafari()},e.SvgDocumentUtils.isFilterStraightLineAdjustmentNeeded=function(){return e.Agent.isPlatformGecko()},e.SvgDocumentUtils.fixGeckoContainerForFilter=function(t){if(t&&e.Agent.isPlatformGecko()){var i=t.getImpl().getElem();if(i){var n=e.ToolkitUtils.getAttrNullNS(i,"transform");n||(n="matrix(1 0 0 1 0 0)"),e.ToolkitUtils.setAttrNullNS(i,"transform",n)}}},e.SvgDocumentUtils.cancelDomEvent=function(t){t&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1)},e.SvgDocumentUtils.addDragListeners=function(t,i,n,o,r,s){var a=e.Agent.isTouchDevice(),l=t.getCtx(),h=e.Agent.isEnvironmentBrowser()?document.body.style:{},u=function(t){t.stopPropagation()},c=function(t){i.call(r,t)&&(a?(document.addEventListener("touchmove",p,!0),document.addEventListener("touchend",_,!0)):(document.addEventListener("mousemove",p,!0),document.addEventListener("mouseup",_,!0),s&&document.addEventListener("click",u,!0)),e.SvgDocumentUtils._webkitUserSelect=h.webkitUserSelect,e.SvgDocumentUtils._mozUserSelect=h.MozUserSelect,h.webkitUserSelect="none",h.MozUserSelect="none")},p=e.SvgDocumentUtils.createStaticCallback(l,n,r),_=function(t){a?(document.removeEventListener("touchmove",p,!0),document.removeEventListener("touchend",_,!0)):(document.removeEventListener("mousemove",p,!0),document.removeEventListener("mouseup",_,!0),a||setTimeout(function(){document.removeEventListener("click",u,!0)},50)),h.webkitUserSelect=e.SvgDocumentUtils._webkitUserSelect,h.MozUserSelect=e.SvgDocumentUtils._mozUserSelect;var i=e.DomEventFactory.newEvent(t,l);o.call(r,i)};a?t.addEvtListener(e.TouchEvent.TOUCHSTART,c):t.addEvtListener(e.MouseEvent.MOUSEDOWN,c)},e.SvgDocumentUtils.createStaticCallback=function(t,i,n){return function(o){var r=e.DomEventFactory.newEvent(o,t);i.call(n,r)}},e.SvgDocumentUtils.disableMouseEvents=function(t){if(t.style&&(t.style.pointerEvents="none"),t.childNodes)for(var i=0;i<t.childNodes.length;i++)e.SvgDocumentUtils.disableMouseEvents(t.childNodes[i])};var F={_cache:{}};e.Obj.createSubclass(F,e.Obj),F.addBubbleEventListener=function(t,i,n){return window.addEventListener?(e.ToolkitUtils.addDomEventListener(t,i,n,!1),!0):!!window.attachEvent&&(t.attachEvent("on"+i,n),!0)},F.loadImage=function(t,e){var i=this._cache[t];if(i){if(!i._image)return e&&e(i),i;F._addListenerToQueue(i._listeners,e)}else this.loadNewImage(t,e);return null},F.loadNewImage=function(t,e){var i=document.createElement("img"),n={_listeners:[],url:t,_image:i};e&&F._addListenerToQueue(n._listeners,e),this._cache[t]=n,F.addBubbleEventListener(i,"load",function(t){var e;n.width=i.width,n.height=i.height,delete n._image;var o=n._listeners.length;for(e=0;e<o;e++)n._listeners[e]&&n._listeners[e](n);delete n._listeners}),i.src=t},F._addListenerToQueue=function(t,e){if(e){for(var i=0;i<t.length;i++)if(t[i]===e)return;t.push(e)}};var G=function(t,e){this.Init(t,e)};e.Obj.createSubclass(G,e.HtmlTooltipManager),G.prototype.Init=function(t,e){this._storedContexts=new Object,G.superclass.Init.call(this,t,e)},G.prototype.InitContent=function(t){t.innerHTML="";var i=new e.Context(t,"DvtCustomTooltip");this._storedContexts[this._domElementId]=i},G.prototype.GetStoredContext=function(){return this._storedContexts[this._domElementId]},G.prototype.showRichElement=function(t,e,i,n){this.showRichElementAtPosition(t,e,i,n,!1)},G.prototype.showRichElementAtPosition=function(t,i,n,o,r){var s=this.getTooltipElem();s.style.position="absolute",s.style.zIndex=2147483647;var a=this.GetStoredContext();if(a){var l=a.getStage();l.removeChildren();var h=n.getRootDisplayable();l.addChild(h),n&&n.Render&&n.Render();var u=l.getImpl().getSVGRoot();e.ToolkitUtils.setAttrNullNS(u,"width",n.getDisplayWidth()),e.ToolkitUtils.setAttrNullNS(u,"height",n.getDisplayHeight()),this.PostElement(s,t,i,r,o)}},G.prototype.hideTooltip=function(){G.superclass.hideTooltip.call(this);var t=this.GetStoredContext();t&&t.getStage().removeChildren()};var Y=function(t){this._context=t};e.Obj.createSubclass(Y,e.Obj),Y.prototype.newDefs=function(){return e.SvgShapeUtils.createElement("defs")},Y.prototype.getImageLoader=function(){return e.Agent.isEnvironmentBrowser()?F:e.JavaImageLoader},Y.prototype.getDocumentUtils=function(){return e.SvgDocumentUtils},Y.prototype.newParser=function(){return e.Agent.isEnvironmentBrowser()?new H:new DvtJavaXmlParser},Y.prototype.newTooltipManager=function(t){return new e.HtmlTooltipManager(this._context,t)},Y.prototype.newRichTooltipManager=function(t){return new G(this._context,t)};var K=function(){this.Init()};e.Obj.createSubclass(K,e.Obj),K.prototype.Init=function(){this._regionPctRect=new e.Rectangle(-10,-10,120,120),this._counter=0,this._resultIdsUnder=[],this._resultIdsOver=[]},K.prototype.getRegionPctRect=function(){return this._regionPctRect},K.prototype.getResultIdsUnder=function(){return this._resultIdsUnder},K.prototype.getResultIdsOver=function(){return this._resultIdsOver},K.prototype.createResultId=function(t){return t||(t="filtRes"),t+this._counter++};var j=function(){};e.Obj.createSubclass(j,e.Obj),j._counter=0,j.createFilter=function(t,i){for(var n=e.SvgShapeUtils.createElement("filter",j.CreateFilterId()),o=new K,r=0;r<t.length;r++){var s=t[r];s&&j.CreateFilterPrimitives(n,s,i,o)}var a=!1;if(i){var l=i.getElem().getBBox();if(l){var h=l.width,u=l.height;if(0==u||0==h){var c;i.getStroke&&(c=i.getStroke());var p=10;c&&(p=c.getWidth());var _=l.x,g=l.y;if(e.SvgDocumentUtils.isFilterStraightLineAdjustmentNeeded()&&i instanceof e.Polyline){var d=e.ArrayUtils.copy(i.getPoints());0==h&&(d[0]=d[0]+.01),0==u&&(d[1]=d[1]+.01);var S=e.SvgShapeUtils.convertPointsArray(d);e.ToolkitUtils.setAttrNullNS(i.getElem(),"points",S)}0==u&&(u=2*p,g-=p),0==h&&(h=2*p,_-=p),e.ToolkitUtils.setAttrNullNS(n,"x",_),e.ToolkitUtils.setAttrNullNS(n,"y",g),e.ToolkitUtils.setAttrNullNS(n,"width",h),e.ToolkitUtils.setAttrNullNS(n,"height",u),e.ToolkitUtils.setAttrNullNS(n,"filterUnits","userSpaceOnUse"),a=!0}}}a||(-10!=o.getRegionPctRect().x&&"Infinity"!=o.getRegionPctRect().x&&"-Infinity"!=o.getRegionPctRect().x&&e.ToolkitUtils.setAttrNullNS(n,"x",o.getRegionPctRect().x+"%"),
-10!=o.getRegionPctRect().y&&"Infinity"!=o.getRegionPctRect().y&&"-Infinity"!=o.getRegionPctRect().y&&e.ToolkitUtils.setAttrNullNS(n,"y",o.getRegionPctRect().y+"%"),120!=o.getRegionPctRect().w&&"Infinity"!=o.getRegionPctRect().w&&"-Infinity"!=o.getRegionPctRect().w&&e.ToolkitUtils.setAttrNullNS(n,"width",o.getRegionPctRect().w+"%"),120!=o.getRegionPctRect().h&&"Infinity"!=o.getRegionPctRect().h&&"-Infinity"!=o.getRegionPctRect().h&&e.ToolkitUtils.setAttrNullNS(n,"height",o.getRegionPctRect().h+"%"));var f,y,E=o.getResultIdsUnder().length,T=o.getResultIdsOver().length,v=e.SvgShapeUtils.createElement("feMerge");if(E>0)for(y=0;y<E;y++)f=e.SvgShapeUtils.createElement("feMergeNode"),e.ToolkitUtils.setAttrNullNS(f,"in",o.getResultIdsUnder()[y]),e.ToolkitUtils.appendChildElem(v,f);if(f=e.SvgShapeUtils.createElement("feMergeNode"),e.ToolkitUtils.setAttrNullNS(f,"in","SourceGraphic"),e.ToolkitUtils.appendChildElem(v,f),T>0)for(y=0;y<T;y++)f=e.SvgShapeUtils.createElement("feMergeNode"),e.ToolkitUtils.setAttrNullNS(f,"in",o.getResultIdsOver()[y]),e.ToolkitUtils.appendChildElem(v,f);return e.ToolkitUtils.appendChildElem(n,v),n},j.CreateFilterPrimitives=function(t,i,n,o){return i instanceof e.Shadow&&z.createFilterPrimitives(t,i,n,o),null},j.CreateFilterId=function(){return"filt"+j._counter++};var W=function(){};e.Obj.createSubclass(W,e.Obj),W.createElem=function(t,i){var n,o=t instanceof e.LinearGradientFill||t instanceof e.LinearGradientStroke,r=e.SvgShapeUtils.createElement(o?"linearGradient":"radialGradient",i),s=t.getColors(),a=t.getAlphas(),l=t.getStops(),h=t.getBounds(),u=s.length;for(n=0;n<u;n++){var c=e.SvgShapeUtils.createElement("stop");e.ToolkitUtils.setAttrNullNS(c,"offset",100*l[n]+"%");var p=s[n];if(p){var _=a[n];(e.Agent.isEnvironmentBatik()||e.Agent.isBrowserSafari())&&-1!==p.indexOf("rgba")?(e.ToolkitUtils.setAttrNullNS(c,"stop-color",e.ColorUtils.getRGB(p)),null!=_?e.ToolkitUtils.setAttrNullNS(c,"stop-opacity",e.ColorUtils.getAlpha(p)*_,1):e.ToolkitUtils.setAttrNullNS(c,"stop-opacity",e.ColorUtils.getAlpha(p),1)):(e.ToolkitUtils.setAttrNullNS(c,"stop-color",p),null!=_&&e.ToolkitUtils.setAttrNullNS(c,"stop-opacity",_,1))}e.ToolkitUtils.appendChildElem(r,c)}var g=!h||0==h[0]&&0==h[1]&&0==h[2]&&0==h[3];if(o){var d=t.getAngle(),S="0%",f="0%",y="100%",E="0%",T=!0;if(g)45===d?(f="100%",y="100%"):90===d?(f="100%",y="0%"):135===d?(S="100%",y="0%",E="100%"):270===d?(y="0%",E="100%"):0!==d&&(d=-d,e.ToolkitUtils.setAttrNullNS(r,"gradientTransform","rotate("+e.ToolkitUtils.roundDecimal(d)+" .5 .5)"),T=!1);else{e.ToolkitUtils.setAttrNullNS(r,"gradientUnits","userSpaceOnUse"),S="0",f="0.5",y="1",E="0.5";var v=h[2],m=h[3],C=h[0],A=h[1];d=-d;var O="rotate("+e.ToolkitUtils.roundDecimal(d)+" .5 .5)",b="scale("+e.ToolkitUtils.roundDecimal(v)+" "+e.ToolkitUtils.roundDecimal(m)+")",I="translate("+e.ToolkitUtils.roundDecimal(C)+" "+e.ToolkitUtils.roundDecimal(A)+")",P=b+" "+O;0==C&&0==A||(P=I+" "+P),e.ToolkitUtils.setAttrNullNS(r,"gradientTransform",P)}T&&(e.ToolkitUtils.setAttrNullNS(r,"x1",S),e.ToolkitUtils.setAttrNullNS(r,"y1",f),e.ToolkitUtils.setAttrNullNS(r,"x2",y),e.ToolkitUtils.setAttrNullNS(r,"y2",E))}else g||(e.ToolkitUtils.setAttrNullNS(r,"gradientUnits","userSpaceOnUse"),e.ToolkitUtils.setAttrNullNS(r,"cx",t.getCx()),e.ToolkitUtils.setAttrNullNS(r,"cy",t.getCy()),e.ToolkitUtils.setAttrNullNS(r,"fx",t.getCx()),e.ToolkitUtils.setAttrNullNS(r,"fy",t.getCy()),e.ToolkitUtils.setAttrNullNS(r,"r",t.getRadius()));return r};var V=function(){};e.Obj.createSubclass(V,e.Obj),V.createElem=function(t,i){var n=e.SvgShapeUtils.createElement("pattern",i),o=e.SvgShapeUtils.createElement("image",i),r=t.getSrc(),s=t.getBound();return t.getRepeat(),s&&(e.ToolkitUtils.setAttrNullNS(n,"x",s.x),e.ToolkitUtils.setAttrNullNS(n,"y",s.y),e.ToolkitUtils.setAttrNullNS(o,"x",s.x),e.ToolkitUtils.setAttrNullNS(o,"y",s.y),e.ToolkitUtils.setAttrNullNS(n,"width",s.w),e.ToolkitUtils.setAttrNullNS(n,"height",s.h),e.ToolkitUtils.setAttrNullNS(o,"width",s.w),e.ToolkitUtils.setAttrNullNS(o,"height",s.h),e.ToolkitUtils.setAttrNullNS(n,"patternUnits","userSpaceOnUse"),r&&e.ToolkitUtils.setHref(o,r)),e.ToolkitUtils.appendChildElem(n,o),n};var X=function(){};e.Obj.createSubclass(X,e.Obj),X._SM_WIDTH=8,X._SM_HEIGHT=8,X._LG_WIDTH=16,X._LG_HEIGHT=16,X.createElem=function(t,i){var n,o,r=e.SvgShapeUtils.createElement("pattern",i),s=t.getPattern();X.IsSmallPattern(s)?(n=X._SM_WIDTH,o=X._SM_HEIGHT):(n=X._LG_WIDTH,o=X._LG_HEIGHT),e.ToolkitUtils.setAttrNullNS(r,"x",0),e.ToolkitUtils.setAttrNullNS(r,"y",0),e.ToolkitUtils.setAttrNullNS(r,"width",n),e.ToolkitUtils.setAttrNullNS(r,"height",o),e.ToolkitUtils.setAttrNullNS(r,"patternUnits","userSpaceOnUse");var a=t.getMatrix();if(a){var l="matrix("+a.getA()+","+a.getC()+","+a.getB()+","+a.getD()+","+a.getTx()+","+a.getTy()+")";e.ToolkitUtils.setAttrNullNS(r,"patternTransform",l)}return X.CreatePatternElems(t,r),r},X.IsSmallPattern=function(t){return"s"===t.charAt(0)},X.CreatePatternElems=function(t,i){var n,o,r,s,a,l,h,u=t.getPattern(),c=t.getColor(),p=e.ColorUtils.getRGB(c),_=e.ColorUtils.getAlpha(c),g=t.getBackgroundColor(),d=e.ColorUtils.getRGB(g),S=e.ColorUtils.getAlpha(g);X.IsSmallPattern(u)?(n=X._SM_WIDTH,o=X._SM_HEIGHT,r=X._SM_WIDTH,s=X._SM_HEIGHT):(n=X._LG_WIDTH,o=X._LG_HEIGHT,r=X._LG_WIDTH,s=X._LG_HEIGHT),d&&S>0&&(h=e.SvgShapeUtils.createElement("rect"),e.ToolkitUtils.setAttrNullNS(h,"stroke",d),e.ToolkitUtils.setAttrNullNS(h,"stroke-opacity",S),e.ToolkitUtils.setAttrNullNS(h,"stroke-width",1),e.ToolkitUtils.setAttrNullNS(h,"fill",d),e.ToolkitUtils.setAttrNullNS(h,"fill-opacity",S),e.ToolkitUtils.setAttrNullNS(h,"x",0),e.ToolkitUtils.setAttrNullNS(h,"y",0),e.ToolkitUtils.setAttrNullNS(h,"width",n),e.ToolkitUtils.setAttrNullNS(h,"height",o),e.ToolkitUtils.appendChildElem(i,h)),u===e.PatternFill.SM_DIAG_UP_LT||u===e.PatternFill.LG_DIAG_UP_LT?(h=e.SvgShapeUtils.createElement("path"),e.ToolkitUtils.setAttrNullNS(h,"stroke",p),e.ToolkitUtils.setAttrNullNS(h,"stroke-opacity",_),e.ToolkitUtils.setAttrNullNS(h,"stroke-width",1),e.ToolkitUtils.setAttrNullNS(h,"stroke-linecap","square"),e.ToolkitUtils.setAttrNullNS(h,"d",e.PathUtils.moveTo(0,-s/2)+e.PathUtils.lineTo(3*r/2,s)+e.PathUtils.moveTo(-r/2,0)+e.PathUtils.lineTo(r/2,s)),e.ToolkitUtils.appendChildElem(i,h)):u===e.PatternFill.SM_DIAG_UP_RT||u===e.PatternFill.LG_DIAG_UP_RT?(h=e.SvgShapeUtils.createElement("path"),e.ToolkitUtils.setAttrNullNS(h,"stroke",p),e.ToolkitUtils.setAttrNullNS(h,"stroke-opacity",_),e.ToolkitUtils.setAttrNullNS(h,"stroke-width",1),e.ToolkitUtils.setAttrNullNS(h,"stroke-linecap","square"),e.ToolkitUtils.setAttrNullNS(h,"d",e.PathUtils.moveTo(-r/2,s)+e.PathUtils.lineTo(r,-s/2)+e.PathUtils.moveTo(0,3*s/2)+e.PathUtils.lineTo(3*r/2,0)),e.ToolkitUtils.appendChildElem(i,h)):u===e.PatternFill.SM_CROSSHATCH||u===e.PatternFill.LG_CROSSHATCH?(h=e.SvgShapeUtils.createElement("path"),e.ToolkitUtils.setAttrNullNS(h,"stroke",p),e.ToolkitUtils.setAttrNullNS(h,"stroke-opacity",_),e.ToolkitUtils.setAttrNullNS(h,"stroke-width",1),e.ToolkitUtils.setAttrNullNS(h,"d","M0,0L"+n+","+o+"M"+n+",0L0,"+o),e.ToolkitUtils.appendChildElem(i,h)):u===e.PatternFill.SM_CHECK||u===e.PatternFill.LG_CHECK?(a=r/2,l=s/2,h=e.SvgShapeUtils.createElement("path"),e.ToolkitUtils.setAttrNullNS(h,"stroke",p),e.ToolkitUtils.setAttrNullNS(h,"stroke-opacity",_),e.ToolkitUtils.setAttrNullNS(h,"stroke-width",1),e.ToolkitUtils.setAttrNullNS(h,"fill",p),e.ToolkitUtils.setAttrNullNS(h,"fill-opacity",_),e.ToolkitUtils.setAttrNullNS(h,"d","M"+a+",0L"+r+",0L"+r+","+l+"L"+a+","+l+"ZM0,"+l+"L"+a+","+l+"L"+a+","+s+"L0,"+s+"Z"),e.ToolkitUtils.appendChildElem(i,h)):u===e.PatternFill.SM_TRIANGLE_CHECK||u===e.PatternFill.LG_TRIANGLE_CHECK?(h=e.SvgShapeUtils.createElement("polygon"),e.ToolkitUtils.setAttrNullNS(h,"stroke",p),e.ToolkitUtils.setAttrNullNS(h,"stroke-opacity",_),e.ToolkitUtils.setAttrNullNS(h,"stroke-width",1),e.ToolkitUtils.setAttrNullNS(h,"fill",p),e.ToolkitUtils.setAttrNullNS(h,"fill-opacity",_),e.ToolkitUtils.setAttrNullNS(h,"points","0,"+o+" "+n+",0 "+n+","+o),e.ToolkitUtils.appendChildElem(i,h)):u!==e.PatternFill.SM_DIAMOND_CHECK&&u!==e.PatternFill.LG_DIAMOND_CHECK||(a=r/2,l=s/2,h=e.SvgShapeUtils.createElement("polygon"),e.ToolkitUtils.setAttrNullNS(h,"stroke",p),e.ToolkitUtils.setAttrNullNS(h,"stroke-opacity",_),e.ToolkitUtils.setAttrNullNS(h,"stroke-width",1),e.ToolkitUtils.setAttrNullNS(h,"fill",p),e.ToolkitUtils.setAttrNullNS(h,"fill-opacity",_),e.ToolkitUtils.setAttrNullNS(h,"points","0,"+l+" "+a+",0 "+n+","+a+" "+a+","+o),e.ToolkitUtils.appendChildElem(i,h))};var z=function(){};return e.Obj.createSubclass(z,e.Obj),z.RADS_PER_DEGREE=Math.PI/180,z.createFilter=function(t,i){var n;if(!t.isLocked()){var o=new K;n=e.SvgShapeUtils.createElement("filter",t._Id),z.createFilterPrimitives(n,t,i,o);var r=e.SvgShapeUtils.createElement("feMerge"),s=e.SvgShapeUtils.createElement("feMergeNode");e.ToolkitUtils.setAttrNullNS(s,"in",o.getResultIdsUnder()[0]);var a=e.SvgShapeUtils.createElement("feMergeNode");e.ToolkitUtils.setAttrNullNS(a,"in","SourceGraphic"),e.ToolkitUtils.appendChildElem(n,r),e.ToolkitUtils.appendChildElem(r,s),e.ToolkitUtils.appendChildElem(r,a)}return n},z.createFilterPrimitives=function(t,e,i,n){e._bInner?z.CreateInnerFilterPrimitives(t,e,i,n):z.CreateOuterFilterPrimitives(t,e,i,n)},z.CreateOuterFilterPrimitives=function(t,i,n,o){var r=i._rgba,s=e.ColorUtils.getRed(r)/255,a=e.ColorUtils.getGreen(r)/255,l=e.ColorUtils.getBlue(r)/255,h=e.ColorUtils.getAlpha(r),u=i._strength,c=i._blurX,p=i._blurY,_=0,g=0;i._blurX>0&&(_=Math.max(i._blurX/3,1)),i._blurY>0&&(g=Math.max(i._blurY/3,1));var d=i._distance,S=i._angle*z.RADS_PER_DEGREE,f=Math.cos(S)*d,y=Math.sin(S)*d,E=n.getDimensions(n.getParent());if(E){var T=Math.abs(d),v=2*c,m=2*c,C=2*p,A=2*p;d>0?(v-=T,C-=T,m+=T,A+=T):d<0&&(v+=T,C+=T,m-=T,A-=T),v<0&&(v=0),C<0&&(C=0),m<0&&(m=0),A<0&&(A=0);var O=v/E.w*100,b=m/E.w*100,I=C/E.h*100,P=A/E.h*100;o.getRegionPctRect().x>-O&&(o.getRegionPctRect().x=-O),o.getRegionPctRect().y>-I&&(o.getRegionPctRect().y=-I),o.getRegionPctRect().w<100+O+b&&(o.getRegionPctRect().w=100+O+b),o.getRegionPctRect().h<100+I+P&&(o.getRegionPctRect().h=100+I+P)}if(n instanceof e.Polyline){var M=n.getStroke().getWidth();M>1&&(o.getRegionPctRect().h=o.getRegionPctRect().h+M,o.getRegionPctRect().y=o.getRegionPctRect().y-M)}var D=e.SvgShapeUtils.createElement("feColorMatrix");e.ToolkitUtils.setAttrNullNS(D,"in","SourceGraphic"),e.ToolkitUtils.setAttrNullNS(D,"type","matrix"),e.ToolkitUtils.setAttrNullNS(D,"values","0 0 0 "+s+" 0 0 0 0 "+a+" 0 0 0 0 "+l+" 0 0 0 0 "+h*u+" 0");var R=e.SvgShapeUtils.createElement("feGaussianBlur"),x=_;_!==g&&(x+=" "+g),e.ToolkitUtils.setAttrNullNS(R,"stdDeviation",x);var N=o.createResultId("blur");e.ToolkitUtils.setAttrNullNS(R,"result",N);var U=e.SvgShapeUtils.createElement("feOffset");e.ToolkitUtils.setAttrNullNS(U,"dx",f),e.ToolkitUtils.setAttrNullNS(U,"dy",y),e.ToolkitUtils.setAttrNullNS(U,"in",N);var k=o.createResultId("offset");e.ToolkitUtils.setAttrNullNS(U,"result",k),o.getResultIdsUnder().push(k),e.ToolkitUtils.appendChildElem(t,D),e.ToolkitUtils.appendChildElem(t,R),e.ToolkitUtils.appendChildElem(t,U)},z.CreateInnerFilterPrimitives=function(t,i,n,o){var r=i._rgba,s=e.ColorUtils.getRed(r)/255,a=e.ColorUtils.getGreen(r)/255,l=e.ColorUtils.getBlue(r)/255,h=e.ColorUtils.makeRGB(s,a,l),u=e.ColorUtils.getAlpha(r),c=(i._blurX,i._blurY,Math.max(i._blurX/2,1)),p=Math.max(i._blurY/2,1),_=i._distance,g=i._angle,d=i._strength,S=g*z.RADS_PER_DEGREE,f=Math.cos(S)*_,y=Math.sin(S)*_,E=e.SvgShapeUtils.createElement("feFlood");e.ToolkitUtils.setAttrNullNS(E,"in","SourceGraphic"),e.ToolkitUtils.setAttrNullNS(E,"flood-opacity",u),e.ToolkitUtils.setAttrNullNS(E,"flood-color",h);var T=o.createResultId("flood");e.ToolkitUtils.setAttrNullNS(E,"result",T);var v=e.SvgShapeUtils.createElement("feComposite");e.ToolkitUtils.setAttrNullNS(v,"operator","out"),e.ToolkitUtils.setAttrNullNS(v,"in",T),e.ToolkitUtils.setAttrNullNS(v,"in2","SourceGraphic");var m=e.SvgShapeUtils.createElement("feGaussianBlur"),C=c;c!==p&&(C+=" "+p),e.ToolkitUtils.setAttrNullNS(m,"stdDeviation",C);var A=o.createResultId("blur");e.ToolkitUtils.setAttrNullNS(m,"result",A);var O=e.SvgShapeUtils.createElement("feColorMatrix");e.ToolkitUtils.setAttrNullNS(O,"in",A),e.ToolkitUtils.setAttrNullNS(O,"type","matrix"),e.ToolkitUtils.setAttrNullNS(O,"values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 "+d+" 0");var b=o.createResultId("colMat");e.ToolkitUtils.setAttrNullNS(O,"result",b);var I=e.SvgShapeUtils.createElement("feOffset");e.ToolkitUtils.setAttrNullNS(I,"dx",f),e.ToolkitUtils.setAttrNullNS(I,"dy",y),e.ToolkitUtils.setAttrNullNS(I,"in",b);var P=o.createResultId("offset");e.ToolkitUtils.setAttrNullNS(I,"result",P);var M=e.SvgShapeUtils.createElement("feComposite");e.ToolkitUtils.setAttrNullNS(M,"operator","in"),e.ToolkitUtils.setAttrNullNS(M,"in",P),e.ToolkitUtils.setAttrNullNS(M,"in2","SourceGraphic");var D=o.createResultId("comp");e.ToolkitUtils.setAttrNullNS(M,"result",D),o.getResultIdsOver().push(D),e.ToolkitUtils.appendChildElem(t,E),e.ToolkitUtils.appendChildElem(t,v),e.ToolkitUtils.appendChildElem(t,m),e.ToolkitUtils.appendChildElem(t,O),e.ToolkitUtils.appendChildElem(t,I),e.ToolkitUtils.appendChildElem(t,M)},e.exportProperty(e,"Agent",e.Agent),e.exportProperty(e.Agent,"setEnvironment",e.Agent.setEnvironment),e.exportProperty(e.Agent,"setHighContrast",e.Agent.setHighContrast),e.exportProperty(e.Automation.prototype,"getDomElementForSubId",e.Automation.prototype.getDomElementForSubId),e.exportProperty(e.Automation.prototype,"getSubIdForDomElement",e.Automation.prototype.getSubIdForDomElement),e.exportProperty(e.BaseComponent.prototype,"applyOptions",e.BaseComponent.prototype.applyOptions),e.exportProperty(e.BaseComponent.prototype,"render",e.BaseComponent.prototype.render),e.exportProperty(e.BaseComponent.prototype,"highlight",e.BaseComponent.prototype.highlight),e.exportProperty(e.BaseComponent.prototype,"select",e.BaseComponent.prototype.select),e.exportProperty(e.BaseComponent.prototype,"getKeyboardFocus",e.BaseComponent.prototype.getKeyboardFocus),e.exportProperty(e,"Bundle",e.Bundle),e.exportProperty(e.Bundle,"addLocalizedStrings",e.Bundle.addLocalizedStrings),e.exportProperty(e,"Context",e.Context),e.exportProperty(e.Context,"resetCaches",e.Context.resetCaches),e.exportProperty(e.Context,"resetUniqueSeeds",e.Context.resetUniqueSeeds),e.exportProperty(e.Context.prototype,"getStage",e.Context.prototype.getStage),e.exportProperty(e.Context.prototype,"getSvgDocument",e.Context.prototype.getSvgDocument),e.exportProperty(e.Context.prototype,"hideTooltips",e.Context.prototype.hideTooltips),e.exportProperty(e.Context.prototype,"isReadyToRender",e.Context.prototype.isReadyToRender),e.exportProperty(e.Context.prototype,"setDatatipStyleClass",e.Context.prototype.setDatatipStyleClass),e.exportProperty(e.Context.prototype,"setLocaleHelpers",e.Context.prototype.setLocaleHelpers),e.exportProperty(e.Context.prototype,"setReadingDirection",e.Context.prototype.setReadingDirection),e.exportProperty(e.Context.prototype,"setOverlayAttachedCallback",e.Context.prototype.setOverlayAttachedCallback),e.exportProperty(e.Context.prototype,"setTooltipAttachedCallback",e.Context.prototype.setTooltipAttachedCallback),e.exportProperty(e.Context.prototype,"setTooltipStyleClass",e.Context.prototype.setTooltipStyleClass),e.exportProperty(e.Context.prototype,"setDefaultFontFamily",e.Context.prototype.setDefaultFontFamily),e.exportProperty(e.Context.prototype,"setDefaultFontSize",e.Context.prototype.setDefaultFontSize),e.exportProperty(e.Context.prototype,"setFixContextCallback",e.Context.prototype.setFixContextCallback),e.exportProperty(e.Context.prototype,"setCustomElement",e.Context.prototype.setCustomElement),e.exportProperty(e.Dimension.prototype,"getWidth",e.Dimension.prototype.getWidth),e.exportProperty(e.Dimension.prototype,"getHeight",e.Dimension.prototype.getHeight),e.exportProperty(e,"JsonUtils",e.JsonUtils),e.exportProperty(e.JsonUtils,"clone",e.JsonUtils.clone),e.exportProperty(e.JsonUtils,"merge",e.JsonUtils.merge),e.exportProperty(v.prototype,"addChild",v.prototype.addChild),e}()});
define('ojs/ojdvt-base',["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojvalidation-number","ojs/internal-deps/dvt/DvtToolkit","ojdnd","promise","ojs/ojkeyset"],function(e,t,n,r,i){e.AttributeGroupHandler=function(e){this.Init(e)},e.Object.createSubclass(e.AttributeGroupHandler,e.Object,"oj.AttributeGroupHandler"),e.AttributeGroupHandler.prototype.Init=function(e){for(var t in this._assignments={},this._valueIndex=0,this._matchRules={},e)this.addMatchRule(t,e[t])},e.AttributeGroupHandler.prototype.getValueRamp=function(){return[]},e.AttributeGroupHandler.prototype.getValue=function(e){return this._matchRules[e]?this._matchRules[e]:(this._assignments[e]||(this._values||(this._values=this.getValueRamp().slice()),this._assignments[e]=this._values[this._valueIndex],this._valueIndex++,this._valueIndex==this._values.length&&(this._valueIndex=0)),this._assignments[e])},e.AttributeGroupHandler.prototype.getCategoryAssignments=function(){var e=[];for(var t in this._assignments)e.push({category:t,value:this._assignments[t]});return e},e.AttributeGroupHandler.prototype.addMatchRule=function(e,t){this._matchRules[e]=t},e.ColorAttributeGroupHandler=function(n){if(this._attributeValues=[],t(document.body).hasClass("oj-hicontrast"))this._attributeValues=e.ColorAttributeGroupHandler._DEFAULT_COLORS.slice();else{var r=e.ColorAttributeGroupHandler.__createAttrDiv();r&&(e.ColorAttributeGroupHandler.__processAttrDiv(r),r.remove()),e.ColorAttributeGroupHandler._colors.length>0?this._attributeValues=e.ColorAttributeGroupHandler._colors.slice():this._attributeValues=e.ColorAttributeGroupHandler._DEFAULT_COLORS.slice()}this.Init(n)},e.Object.createSubclass(e.ColorAttributeGroupHandler,e.AttributeGroupHandler,"oj.ColorAttributeGroupHandler"),e.ColorAttributeGroupHandler._DEFAULT_COLORS=["#237bb1","#68c182","#fad55c","#ed6647","#8561c8","#6ddbdb","#ffb54d","#e371b2","#47bdef","#a2bf39","#a75dba","#f7f37b"],e.ColorAttributeGroupHandler._STYLE_CLASSES=["oj-dvt-category1","oj-dvt-category2","oj-dvt-category3","oj-dvt-category4","oj-dvt-category5","oj-dvt-category6","oj-dvt-category7","oj-dvt-category8","oj-dvt-category9","oj-dvt-category10","oj-dvt-category11","oj-dvt-category12"],e.ColorAttributeGroupHandler._colors=null,e.ColorAttributeGroupHandler.prototype.getValueRamp=function(){return this._attributeValues},e.ColorAttributeGroupHandler.createAttrDiv=function(){return e.ColorAttributeGroupHandler.__createAttrDiv()},e.ColorAttributeGroupHandler.processAttrDiv=function(t){e.ColorAttributeGroupHandler.__processAttrDiv(t)},e.ColorAttributeGroupHandler.__createAttrDiv=function(){if(e.ColorAttributeGroupHandler._colors)return null;var n=t(document.createElement("div"));n.attr("style","display:none;"),n.attr("id","attrGps"),t(document.body).append(n);for(var r=0;r<e.ColorAttributeGroupHandler._STYLE_CLASSES.length;r++){var i=t(document.createElement("div"));i.addClass(e.ColorAttributeGroupHandler._STYLE_CLASSES[r]),n.append(i)}return n},e.ColorAttributeGroupHandler.__processAttrDiv=function(n){e.ColorAttributeGroupHandler._colors=[];for(var r=n.children(),i=0;i<r.length;i++){var o=t(r[i]).css("color");o&&e.ColorAttributeGroupHandler._colors.push(o)}};var o={_SHAPE_REGEXP:/\d/,_SHAPE_ENUMS:{circle:!0,ellipse:!0,square:!0,rectangle:!0,diamond:!0,triangleUp:!0,triangleDown:!0,plus:!0,human:!0,star:!0},shapeParseFunction:function(e,t){var n=t||o._SHAPE_ENUMS;return function(r,i,s,a){if(e[i]){if(o._SHAPE_REGEXP.test(r))return r;if(n[r])return r;throw new Error("Found: '"+r+"'. Expected one of the following: "+Object.keys(t).toString())}return a(r)}}},s=function(e,t){this._path=t,this._root=e,this._delimiter="/"};s.prototype._resolveLeafObjectAndProperty=function(e,t,n,r){for(var i={};e&&t.indexOf(n)>-1;){var o=t.substring(0,t.indexOf(n));r&&void 0===e[o]&&(e[o]={}),e=e[o],t=t.substring(t.indexOf(n)+1,t.length)}return e&&(i.object=e,i.parameter=t),i},s.prototype._resolvePath=function(e){if(void 0===this._leaf){var t=this._resolveLeafObjectAndProperty(this._root,this._path,this._delimiter,e);this._leaf=t.object,this._param=t.parameter}},s.prototype.getValue=function(){return this._resolvePath(!1),void 0===this._leaf?void 0:this._leaf[this._param]},s.prototype.setValue=function(e,t){this._resolvePath(!0),!t&&this._leaf[this._param]||(this._leaf[this._param]=e)};var a,l={TEXT:function(e){var t={};return e&&(e.hasClass("oj-gauge-metric-label")?(t["font-size"]=!0,t.color=!0):e.hasClass("oj-treemap-node-header")&&(t["font-weight"]=!0)),l._buildTextCssPropertiesObject(e,t)},BACKGROUND:function(e,t,n,r){return l._buildCssBackgroundPropertiesObject(e)},ANIM_DUR:function(e){var t=e.css("animation-duration");if(t)return"ms"==t.slice(-2)?t=parseInt(t.slice(0,-2),10):"s"==t.slice(-1)&&(t=1e3*parseFloat(t.slice(0,-1))),t},_INHERITED_FONT_COLOR:"rgb(254, 0, 254)",_INHERITED_FONT_FAMILY:"Times",_INHERITED_FONT_SIZE:"1px",_INHERITED_FONT_WEIGHT:"1",_INHERITED_FONT_STYLE:"normal",_FONT_SIZE_BUFFER:4,_styleCache:{},defaultStyleProcessor:function(e,t){return e.css(t)},_buildCssBackgroundPropertiesObject:function(e){var t={};return e.css("border-top-color")&&(t.borderColor=e.css("border-top-color")),e.css("border-width")&&e.css("border-style")&&"none"!=e.css("border-style")&&(t.borderWidth=e.css("border-width")),e.css("background-color")&&(t.backgroundColor=e.css("background-color")),t},_buildTextCssPropertiesObject:function(e,t){var n={},r=e.css("font-family");return r&&r!==l._INHERITED_FONT_FAMILY&&(n.fontFamily=r.replace(/"/g,"'")),!(r=e.css("font-size"))||r.indexOf("px")>-1&&parseFloat(r)<l._FONT_SIZE_BUFFER||t["font-size"]||(n.fontSize=r),(r=e.css("font-weight"))&&r!==l._INHERITED_FONT_WEIGHT&&!t["font-weight"]&&(n.fontWeight=r),(r=e.css("color"))&&r!==l._INHERITED_FONT_COLOR&&!t.color&&(n.color=r),(r=e.css("font-style"))&&r!==l._INHERITED_FONT_STYLE&&(n.fontStyle=r),n},processStyles:function(n,r,i,o){for(var s=null,a=null,u="",d=0;d<i.length;d++)u=u+i[d]+" ";var h={},_={};for(var c in o){var p=o[c];p instanceof Array||(p=[p]);var f=l._hasUncachedProperty(c,p);a||s||!f||((s=t(document.createElement("div"))).attr("style","display:none;"),n.append(s),s.attr("class",u),t(document.body).append(s),(a=t(document.createElement("div"))).css("font-size",l._INHERITED_FONT_SIZE),a.css("color",l._INHERITED_FONT_COLOR),a.css("font-weight",l._INHERITED_FONT_WEIGHT),a.css("font-style",l._INHERITED_FONT_STYLE),s.append(a)),h[c]=p,f&&(_[c]=l._createStyleDivs(a,c,p))}var v=e.ColorAttributeGroupHandler.__createAttrDiv();for(var c in o)l._processStyle(_[c],r,c,h[c]);v&&(e.ColorAttributeGroupHandler.__processAttrDiv(v),v.remove()),s&&s.remove()},_createStyleDivs:function(e,n,r){l._styleCache[n]||(l._styleCache[n]={});for(var i=null,o=0;o<r.length;o++){var s=r[o].property;s&&void 0===l._styleCache[n][s]&&(i||((i=t(document.createElement("div"))).addClass(n),e.append(i)))}return i},_processStyle:function(e,t,n,r){for(var i=0;i<r.length;i++){var o=r[i],a=o.property;if(a){var u=l._styleCache[n][a];if(void 0===u&&e&&(u=l._resolveStyle(e,a),l._styleCache[n][a]=u),null!=u){var d=new s(t,o.path),h=d.getValue(),_="object"==typeof h;if(_&&h){var c=Object.keys(u);for(i=0;i<c.length;i++){var p=c[i];void 0===h[p]&&(h[p]=u[p])}}else d.setValue(u,_)}}}},_resolveStyle:function(e,t){var n=l[t],r=n?n(e):l.defaultStyleProcessor(e,t);return null==r||"string"==typeof r&&""==r.replace(/^\s+/g,"")?null:r},_hasUncachedProperty:function(e,t){var n=l._styleCache[e];if(!n)return!0;for(var r=0;r<t.length;r++){var i=t[r].property;if(i&&void 0===n[i])return!0}return!1}};e.ShapeAttributeGroupHandler=function(e){this.Init(e)},e.Object.createSubclass(e.ShapeAttributeGroupHandler,e.AttributeGroupHandler,"oj.ShapeAttributeGroupHandler"),e.ShapeAttributeGroupHandler._attributeValues=["square","circle","diamond","plus","triangleDown","triangleUp","human"],e.ShapeAttributeGroupHandler.prototype.getValueRamp=function(){return e.ShapeAttributeGroupHandler._attributeValues},e.__registerWidget("oj.dvtBaseComponent",t.oj.baseComponent,{options:{trackResize:"on"},_ComponentCreate:function(){this._super(),this._renderCount=0,this._numDeferredObjs=0,this._optionsCopy=null,this._templateMap={};for(var n=this._GetComponentStyleClasses(),r=0;r<n.length;r++)this.element.addClass(n[r]);this._referenceDiv=t(document.createElement("div")),this._referenceDiv.attr("style","visibility:hidden;"),this.element.append(this._referenceDiv);var o=this.element[0].parentElement;o&&o._dvtcontext?this._context=o._dvtcontext:this._context=new i.Context(this.element[0],null,this._referenceDiv[0]),this._context.oj=e,this._context.setReadingDirection(this._GetReadingDirection()),this._context.setTooltipAttachedCallback(e.Components.subtreeAttached),this._context.setOverlayAttachedCallback(e.Components.subtreeAttached),this._context.setTooltipStyleClass("oj-dvt-tooltip"),this._context.setDatatipStyleClass("oj-dvt-datatip"),this._context.setFixContextCallback(this._FixRendererContext.bind(this)),this._context.setCustomElement(this._IsCustomElement()),t(document.body).hasClass("oj-hicontrast")&&i.Agent.setHighContrast(!0),this._component=this._CreateDvtComponent(this._context,this._HandleEvent,this),this._context.getStage().addChild(this._component),!1!==i.requireJS&&(this._setLocaleHelpers(),this._processTranslations()),this._LoadResources(),this._dataProviderEventListeners=[],this.options._environment="jet",this.options._widgetConstructor=e.Components.__GetWidgetConstructor(this.element)},_AfterCreate:function(){this._super(),"off"!=this.options.trackResize&&this._addResizeListener(),this._ProcessOptions(),this._Render()},refresh:function(){this._super(),this._context.setReadingDirection(this._GetReadingDirection()),this._processTranslations(),this._Render()},getNodeBySubId:function(e){var t=this._component&&this._component.getAutomation?this._component.getAutomation():null;if(t){var n=this._ConvertLocatorToSubId(e);return t.getDomElementForSubId(n)}return null},getSubIdByNode:function(e){var t=this._component&&this._component.getAutomation?this._component.getAutomation():null;if(t){var n=t.getSubIdForDomElement(e);return n?this._ConvertSubIdToLocator(n):null}return null},_ConvertLocatorToSubId:function(e){return null},_ConvertSubIdToLocator:function(e){return null},_ProcessStyles:function(){l.processStyles(this.element,this.options,this._GetComponentStyleClasses(),this._GetChildStyleClasses())},_GetComponentStyleClasses:function(){return["oj-dvtbase"]},_GetChildStyleClasses:function(){return{"oj-dvt-no-data-message":{path:"_statusMessageStyle",property:"TEXT"}}},_GetEventTypes:function(){return[]},_GetTranslationMap:function(){var t=this.options.translations,n={"DvtUtilBundle.CLEAR_SELECTION":t.labelClearSelection,"DvtUtilBundle.COLON_SEP_LIST":t.labelAndValue,"DvtUtilBundle.INVALID_DATA":t.labelInvalidData,"DvtUtilBundle.NO_DATA":t.labelNoData,"DvtUtilBundle.DATA_VISUALIZATION":t.labelDataVisualization,"DvtUtilBundle.STATE_SELECTED":t.stateSelected,"DvtUtilBundle.STATE_UNSELECTED":t.stateUnselected,"DvtUtilBundle.STATE_MAXIMIZED":t.stateMaximized,"DvtUtilBundle.STATE_MINIMIZED":t.stateMinimized,"DvtUtilBundle.STATE_EXPANDED":t.stateExpanded,"DvtUtilBundle.STATE_COLLAPSED":t.stateCollapsed,"DvtUtilBundle.STATE_ISOLATED":t.stateIsolated,"DvtUtilBundle.STATE_HIDDEN":t.stateHidden,"DvtUtilBundle.STATE_VISIBLE":t.stateVisible,"DvtUtilBundle.SCALING_SUFFIX_THOUSAND":t.labelScalingSuffixThousand,"DvtUtilBundle.SCALING_SUFFIX_MILLION":t.labelScalingSuffixMillion,"DvtUtilBundle.SCALING_SUFFIX_BILLION":t.labelScalingSuffixBillion,"DvtUtilBundle.SCALING_SUFFIX_TRILLION":t.labelScalingSuffixTrillion,"DvtUtilBundle.SCALING_SUFFIX_QUADRILLION":t.labelScalingSuffixQuadrillion},r=e.LocaleData.getMonthNames("abbreviated");return n["DvtUtilBundle.MONTH_SHORT_JANUARY"]=r[0],n["DvtUtilBundle.MONTH_SHORT_FEBRUARY"]=r[1],n["DvtUtilBundle.MONTH_SHORT_MARCH"]=r[2],n["DvtUtilBundle.MONTH_SHORT_APRIL"]=r[3],n["DvtUtilBundle.MONTH_SHORT_MAY"]=r[4],n["DvtUtilBundle.MONTH_SHORT_JUNE"]=r[5],n["DvtUtilBundle.MONTH_SHORT_JULY"]=r[6],n["DvtUtilBundle.MONTH_SHORT_AUGUST"]=r[7],n["DvtUtilBundle.MONTH_SHORT_SEPTEMBER"]=r[8],n["DvtUtilBundle.MONTH_SHORT_OCTOBER"]=r[9],n["DvtUtilBundle.MONTH_SHORT_NOVEMBER"]=r[10],n["DvtUtilBundle.MONTH_SHORT_DECEMBER"]=r[11],n},_VerifyConnectedForSetup:function(){return!0},_SetupResources:function(){this._super(),this._addDataProviderEventListeners()},_ReleaseResources:function(){this._super(),this._removeDataProviderEventListeners()},_processTranslations:function(){var e=this._GetTranslationMap();i.Bundle.addLocalizedStrings(e)},_setLocaleHelpers:function(){var t={};t.numberConverterFactory=e.Validation.getDefaultConverterFactory("number"),t.isoToDateConverter=function(t){if("string"==typeof t){var n=e.IntlConverterUtils.isoToDate(t),r=n.toJSON()?e.IntlConverterUtils.dateToLocalIso(n):t;return e.IntlConverterUtils.isoToLocalDate(r)}return t},t.dateToIsoWithTimeZoneConverter=function(t){if(t instanceof Date){var n=-1*t.getTimezoneOffset(),r=n>=0?"+":"-",i=Math.floor(Math.abs(n)/60),o=Math.abs(n)%60,s=r+(2!==i.toString().length?"0"+i:i)+":"+(2!==o.toString().length?o+"0":o);return e.IntlConverterUtils.dateToLocalIso(t)+s}return t},this._context.setLocaleHelpers(t)},_destroy:function(){this._context.hideTooltips(),this._context.destroy(),this._context=null;var e=this.element[0].parentElement;e&&e._dvtcontext&&(e._dvtcontext=null),this._component.destroy&&this._component.destroy(),this._component=null,this._removeResizeListener(),this._CleanAllTemplates(),this.element.children().remove(),this.element.removeAttr("role").removeAttr("tabIndex").removeAttr("aria-activedescendant");for(var t=this._GetComponentStyleClasses(),n=0;n<t.length;n++)this.element.removeClass(t[n]);this._MakeReady(),this._super()},_setOptions:function(e,n){this._superApply(arguments);var r=this.options.trackResize;if("off"==r&&this._resizeListener?this._removeResizeListener():"off"==r||this._resizeListener||this._addResizeListener(),this._ProcessOptions(),!this._bUserDrivenChange){var i=!1,o=this._GetEventTypes(),s=["highlightedCategories","selection","dataCursorPosition"];t.each(e,function(e,t){if(o.indexOf(e)<0&&s.indexOf(e)<0)return i=!0,!1}),i?this._Render():(void 0!==e.highlightedCategories&&this._component.highlight(e.highlightedCategories),void 0!==e.selection&&this._component.select(e.selection),void 0!==e.dataCursorPosition&&this._component.positionDataCursor&&this._component.positionDataCursor(e.dataCursorPosition))}},_CreateDvtComponent:function(e,t,n){return null},_HandleEvent:function(e){var n=e.type;"selection"===n?this._UserOptionChange("selection",e.selection):"categoryHide"===n||"categoryShow"===n?this._UserOptionChange("hiddenCategories",e.hiddenCategories):"categoryHighlight"===n?this._UserOptionChange("highlightedCategories",e.categories):"optionChange"===n?this._UserOptionChange(e.key,e.value,e.optionMetadata):"touchHoldRelease"===n&&this._GetContextMenu()?this._OpenContextMenu(t.Event(e.nativeEvent),"touch"):"ready"===n&&0===this._numDeferredObjs&&this._MakeReady()},_addResizeListener:function(){this._resizeListener||(this._resizeListener=this._handleResize.bind(this),e.DomUtils.addResizeListener(this.element[0],this._resizeListener,250))},_removeResizeListener:function(){this._resizeListener&&(e.DomUtils.removeResizeListener(this.element[0],this._resizeListener),this._resizeListener=null)},_handleResize:function(e,t){var n=this.element.width(),r=this.element.height();(null==this._width||null==this._height||Math.abs(n-this._width)+Math.abs(r-this._height)>=5)&&this._Render(!0)},_LoadResources:function(){},_Render:function(t){this._context.hideTooltips(),this._NotReady(),this._context.isReadyToRender()?(this._width=this._IsFlowingLayoutSupported()?null:this.element.width(),this._height=this._IsFlowingLayoutSupported()?null:this.element.height(),this._context.setDefaultFontFamily(this._referenceDiv.css("font-family")),this.options._width=this._width,this.options._height=this._height,this.options._locale=e.Config.getLocale(),this._IsDraggable()&&this.element.attr("draggable",!0),this._ProcessStyles(),this._renderCount++,t?0===this._numDeferredObjs&&this._RenderComponent(this._optionsCopy,t):this._resolveDeferredDataItems()&&this._RenderComponent(this._optionsCopy),this._renderNeeded=!1):(this._renderNeeded=!0,this._MakeReady())},_IsDraggable:function(){return!!this.options.dnd},_NotifyShown:function(){this._super(),this._notifyShownAttached()},_NotifyAttached:function(){this._super(),this._notifyShownAttached()},_NotifyDetached:function(){this._super(),this._notifyHiddenDetached()},_NotifyHidden:function(){this._super(),this._notifyHiddenDetached()},_notifyShownAttached:function(){this._renderNeeded&&this._Render()},_notifyHiddenDetached:function(){this._context.hideTooltips(),this._MakeReady()},_UserOptionChange:function(e,t,n){this._bUserDrivenChange=!0,this.option(e,t,{_context:{writeback:!0,optionMetadata:n,internalSet:!0}}),this._bUserDrivenChange=!1},_NotifyContextMenuGesture:function(e,t,n){if("touch"!==n)if("keyboard"===n){var r=this.element[0].getBoundingClientRect(),i=this._component.getKeyboardFocus()?this._component.getKeyboardFocus().getBoundingClientRect():null,o=i?"left+"+(i.left+.5*i.width-r.left)+" top+"+(i.top+.5*i.height-r.top):"center";this._OpenContextMenu(t,n,{position:{at:o}})}else this._super(e,t,n)},_GetDvtComponent:function(t){var n=e.Components.__GetWidgetConstructor(t)("instance");return n?n._component:null},_GetStringFromIndexPath:function(e){for(var t="",n=0;n<e.length;n++)t+="["+e[n]+"]";return t},_GetIndexPath:function(e){for(var t=[],n=0;e.indexOf("[",n)>0;){var r=e.indexOf("[",n)+1,i=e.indexOf("]",n);t.push(Number(e.substring(r,i))),n=i+1}return t},_GetFirstIndex:function(e){return Number(this._GetFirstBracketedString(e))},_GetFirstBracketedString:function(e){var t=e.indexOf("[")+1,n=e.indexOf("]");return e.substring(t,n)},_GetComponentDeferredDataPaths:function(){return{}},_GetComponentNoClonePaths:function(){if(!this._noClonePaths){this._noClonePaths={};var e=this,t=this._GetComponentDeferredDataPaths().root;t&&t.forEach(function(t){e._noClonePaths[t]=!0})}return this._noClonePaths},_resolveDeferredDataItems:function(){this._optionsCopy=i.JsonUtils.clone(this.options,null,this._GetComponentNoClonePaths()),this._FixCustomRenderers(this._optionsCopy),this._numDeferredObjs=0;var e=this,t=this._GetComponentDeferredDataPaths();for(var n in t)t[n].forEach(function(t){if("root"===n)e._resolveDeferredDataItem.bind(e)(e.options,e._optionsCopy,t);else{var r=e.options[n];if(r&&r instanceof Array)for(var i=0;i<r.length;i++)e._resolveDeferredDataItem.bind(e)(r[i],e._optionsCopy[n][i],t)}});return 0===this._numDeferredObjs},_resolveDeferredDataItem:function(t,n,r){var i=new s(t,r),o=i.getValue();if(o instanceof Function?o=Promise.resolve(o(this._GetDataContext(t))):this._IsCustomElement()&&Array.isArray(o)&&(o=Promise.resolve(o),i.setValue(o,!0)),o&&e.DataProviderFeatureChecker.isIteratingDataProvider(o)){var a=this;o=new Promise(function(e,t){var n=a._getTemplateEngine(),r=a._fetchAllData(o);Promise.all([n,r]).then(function(t){a._dataObjects=t[1];var n=a._ProcessTemplates(t[1],t[0]);e(n)})})}if(o instanceof Promise){var l=this._renderCount;a=this,o.then(function(e){e.paths?a._renderDeferredData(l,n,e.paths,e.values):a._renderDeferredData(l,n,[r],[e])},function(e){a._renderDeferredData(l,n,[r],[[]])}),this._numDeferredObjs++}},_renderDeferredData:function(e,t,n,r){if(e===this._renderCount){this._numDeferredObjs--;for(var i=0;i<n.length;i++)new s(t,n[i]).setValue(r[i],!0);0===this._numDeferredObjs&&(this._RenderComponent(this._optionsCopy),this._optionsCopy=null)}},_fetchAllData:function(e){var t={data:[],keys:[]},n=e.fetchFirst({size:-1})[Symbol.asyncIterator](),r=function(e){for(var i=0;i<e.value.data.length;i++)t.data.push(e.value.data[i]),t.keys.push(e.value.metadata[i].key);return e.done?Promise.resolve(t):n.next().then(r)};return n.next().then(r)},_getTemplateEngine:function(){return this._templateEnginePromise?this._templateEnginePromise:(this._templateEnginePromise=new Promise(function(t,n){e.Config.__getTemplateEngine().then(function(e){t(e)},function(e){throw"Error loading template engine: "+e})}),this._templateEnginePromise)},getTemplates:function(){return e.BaseCustomElementBridge.getSlotMap(this.element[0])},_ProcessTemplates:function(t,n){var r=this._GetSimpleDataProviderConfig(),i=r.templateName,o=r.templateElementName,s=r.resultPath;if(i&&o&&s){var a=this.options.as,l=this.getTemplates()[i],u=Object.keys(e.CustomElementBridge.getMetadata(o).properties),d=this.element[0],h=t.data,_=t.keys,c=[],p=document.createElement("div");p.setAttribute("data-oj-context","");for(var f=document.createDocumentFragment(),v=0;v<h.length;v++){var m,g={data:h[v],key:_[v],index:v,componentElement:d};try{for(var C=n.execute(d,l[0],g,a),y=0;y<C.length;y++)if(C[y].tagName&&C[y].tagName.toLowerCase()===o){m=C[y];break}}catch(t){e.Logger.error(t)}c.push(m),f.appendChild(m)}return p.appendChild(f),document.body.appendChild(p),e.Context.getContext(p).getBusyContext().whenReady().then(function(){for(var e=[],t=0;t<h.length;t++){for(var r=c[t],i={id:_[t],_itemData:h[t]},o=0;o<u.length;o++){var a=r.getProperty(u[o]);void 0!==a&&(i[u[o]]=a)}e.push(i)}return n.clean(p),document.body.removeChild(p),p=null,{paths:[s],values:[e]}})}return Promise.resolve({paths:[],values:[]})},_GetSimpleDataProviderConfig:function(){return{}},_RenderComponent:function(e,t){if(this._context.isReadyToRender()){this._CleanAllTemplates();var n=this._IsFlowingLayoutSupported()&&this._resizeListener;n&&this._removeResizeListener(),this._component.render(t?null:e,this._width,this._height),n&&this._addResizeListener(),this.element.attr("role")?this.element.attr("tabindex",0):this.element.attr("tabindex",null)}else this._renderNeeded=!0,this._MakeReady()},_GetDataProviderEventHandler:function(t,n){var r=this,i=function(t,n){if(!n)return[];for(var r=new e.KeySetImpl(n),i=new Map,o=0;o<t.keys.length;o++){var s=t.keys[o],a=r.get(s);null!=a&&i.set(a,o)}var l=[];return n.forEach(function(e){l.push(i.get(e))}),l},o=function(e){Promise.all([e,r._getTemplateEngine()]).then(function(e){r._dataObjects=e[0];var i=r._ProcessTemplates(e[0],e[1]),o="root"==n[0]?{}:t.options[n[0]];o[n[1]]=i,t._setOptions(o)})};return function(e){if("refresh"===e.type)o(r._fetchAllData(this));else if("mutate"===e.type){var t=e.detail.add,n=e.detail.remove,s=e.detail.update,a=r._dataObjects,l=function(e,t,n){var r=n?1:0,i=0;t.keys.forEach(function(n){a.data.splice(e[i],r,t.data[i]),a.keys.splice(e[i],r,n),i++}),o(Promise.resolve(a))};if(t)0==(h=t.indexes||i(a,t.afterKeys)).length&&h.push(a.data.length),Array.isArray(t.data)?l(h,t,!1):this.fetchByKeys({keys:t.keys}).then(function(e){if(e.results.size>0){var n=[];t.keys.forEach(function(t){n.push(e.results.get(t).data)}),t.data=n,l(h,t,!1)}});else if(n){for(var u=n.indexes||i(a,n.keys),d=0;d<u.length;d++)a.data.splice(u[d],1),a.keys.splice(u[d],1);o(Promise.resolve(a))}else if(s){var h=s.indexes||i(a,s.keys);Array.isArray(s.data)?l(h,s,!0):this.fetchByKeys({keys:s.keys}).then(function(e){if(e.results.size>0){var t=[];s.keys.forEach(function(n){t.push(e.results.get(n).data)}),s.data=t,l(h,s,!0)}})}}}},_addDataProviderEventListeners:function(){for(var t=this._GetComponentDeferredDataPaths(),n=Object.keys(t),r=0;r<n.length;r++)for(var i=n[r],o=t[i],s=0;s<o.length;s++){var a=o[s],l="root"===i?this.options[a]:this.options[i]?this.options[i][a]:null;if(l&&e.DataProviderFeatureChecker.isIteratingDataProvider(l)){var u=this._GetDataProviderEventHandler(this,[i,a]);l.addEventListener("mutate",u),l.addEventListener("refresh",u),this._dataProviderEventListeners.push({dataProvider:l,listener:u})}}},_removeDataProviderEventListeners:function(){for(var e=0;e<this._dataProviderEventListeners.length;e++){var t=this._dataProviderEventListeners[e],n=t.dataProvider,r=t.listener;n.removeEventListener("mutate",r),n.removeEventListener("refresh",r)}this._dataProviderEventListeners=[]},_GetDataContext:function(e){return{}},_IsFlowingLayoutSupported:function(){return!1},whenReady:function(){if(this._ready)return Promise.resolve(!0);if(!this._promise){var e=this;this._promise=new Promise(function(t){e._promiseResolve=t})}return this._promise},_NotReady:function(){if(this._ready=!1,0===this._numDeferredObjs&&!this._readyResolveFunc){var t=e.Context.getContext(this.element[0]).getBusyContext(),n={description:"The component identified by '"+this.element.attr("id")+"' is being loaded."};this._readyResolveFunc=t.addBusyState(n)}},_MakeReady:function(){this._promiseResolve&&(this._promiseResolve(!0),this._promiseResolve=null),this._ready=!0,this._promise=null,this._readyResolveFunc&&(this._readyResolveFunc(),this._readyResolveFunc=null)},_ProcessOptions:function(){var e=this.options.tooltip;e&&e._renderer&&(this.options.tooltip={renderer:this._GetTemplateRenderer(e._renderer,"tooltip")})},_WrapCustomElementRenderer:function(e){var t=this;return function(n){n._dvtcontext=t._context;var r=e(n);if(n._templateName&&n._templateCleanup&&t._AddTemplate(n._templateName,n._templateCleanup),r&&!0!==r.preventDefault&&r.insert){var i=r.insert;return i.classList&&i.classList.contains("oj-dvtbase")?t._GetDvtComponent(i):i}return null}},_FixCustomRenderers:function(e){if(this._IsCustomElement())for(var t=this._GetComponentRendererOptions(),n=0;n<t.length;n++){var r=t[n],i=new s(e,r),o=i.getValue();o&&i.setValue(this._WrapCustomElementRenderer(o),!0)}},_GetComponentRendererOptions:function(){return["tooltip/renderer"]},_GetTemplateRenderer:function(e,n){var r=this;return function(i){var o=document.createElement("div");o.style.display="none",e({parentElement:o,context:i});var s=o.children[0];return s?(r._AddTemplate(n,function(){t(o).remove()}),o.removeChild(s),t(o).remove(),s):null}},_GetTemplateDataRenderer:function(e,n){var r=this;return function(i){var o=document.createElement("div");o.style.display="none",o._dvtcontext=r._context,r.element.append(o),e({parentElement:o,data:i.data});var s=o.children[0];return s?(r._AddTemplate(n,function(){t(o).remove()}),"http://www.w3.org/2000/svg"===s.namespaceURI?(o.removeChild(s),t(o).remove(),s):r._GetDvtComponent(s)):null}},_CleanAllTemplates:function(){for(var e in this._templateMap)this._CleanTemplate(e);this._templateMap={}},_CleanTemplate:function(e){if(this._templateMap[e]){for(var t=this._templateMap[e].length,n=0;n<t;n++)this._templateMap[e][n]();this._templateMap[e]=[]}},_AddTemplate:function(e,t){this._templateMap[e]||(this._templateMap[e]=[]),this._templateMap[e].push(t)},_CompareOptionValues:function(t,n,r){switch(t){case"hiddenCategories":case"highlightedCategories":case"selection":return e.Object.compareValues(n,r);default:return this._super(t,n,r)}}},!0),a={properties:{trackResize:{type:"string",enumValues:["on","off"]},translations:{properties:{labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelInvalidData:{type:"string"},labelNoData:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"}}}},methods:{},extension:{_WIDGET_NAME:"dvtBaseComponent",_DVT_PARSE_FUNC:o.shapeParseFunction}},e.CustomElementBridge.registerMetadata("dvtBaseComponent","baseComponent",a)});
define('ojs/internal-deps/dvt/DvtAxis',["./DvtToolkit"],function(t){return function(t){t.Axis=function(){},t.Obj.createSubclass(t.Axis,t.BaseComponent),t.Axis.newInstance=function(e,i,n){var o=new t.Axis;return o.Init(e,i,n),o},t.Axis.getDefaults=function(t){return(new n).getDefaults(t)},t.Axis.prototype.Init=function(e,i,r){t.Axis.superclass.Init.call(this,e,i,r),this.Defaults=new n,this.EventManager=new o(this),this.EventManager.addListeners(this),t.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(new s(this.EventManager,this)),this._bounds=null},t.Axis.MINIMUM_AXIS_BUFFER=10,t.Axis.prototype.SetOptions=function(t){t?this.Options="off"==t.rendered?t:this.Defaults.calcOptions(t):this.Options||(this.Options=this.GetDefaults())},t.Axis.prototype.getPreferredSize=function(t,e,i){return this.SetOptions(t),r.getPreferredSize(this,e,i)},t.Axis.prototype.render=function(e,i,n,o,s){this.getCache().clearCache(),this.SetOptions(e),this._navigablePeers=[],this.Width=i,this.Height=n,this.removeChildren(),o||(o=0),s||(s=0);var a=new t.Rectangle(o,s,i,n);r.render(this,a)},t.Axis.prototype.__registerObject=function(t){(null!=t.getDatatip()||null!=t.getAction()||t.isDrillable())&&this._navigablePeers.push(t)},t.Axis.prototype.__getKeyboardObjects=function(){return this._navigablePeers},t.Axis.prototype.isNavigable=function(){return this._navigablePeers.length>0},t.Axis.prototype.getKeyboardFocus=function(){return null!=this.EventManager?this.EventManager.getFocus():null},t.Axis.prototype.setKeyboardFocus=function(e,i){if(null!=this.EventManager){for(var n=this.__getKeyboardObjects(),o=e.getId(),s=!1,r=0;r<n.length;r++){var a=n[r].getId();if(o instanceof Array&&a instanceof Array&&t.ArrayUtils.equals(o,a)||o===a){this.EventManager.setFocusObj(n[r]),s=!0,i&&n[r].showKeyboardFocusEffect();break}}s||this.EventManager.setFocusObj(this.EventManager.getKeyboardHandler().getDefaultNavigable(n));var l=this.getKeyboardFocus();if(l){var h=l.getDisplayable();h.setAriaProperty("label",l.getAriaLabel()),this.getCtx().setActiveElement(h)}}},t.Axis.prototype.processEvent=function(t,e){this===e&&this.dispatchEvent(t)},t.Axis.prototype.getInfo=function(){return this.Info},t.Axis.prototype.__setInfo=function(t){this.Info=t},t.Axis.prototype.getWidth=function(){return this.Width},t.Axis.prototype.getHeight=function(){return this.Height},t.Axis.prototype.__setBounds=function(t){this._bounds=t},t.Axis.prototype.__getBounds=function(){return this._bounds},t.Axis.prototype.getAutomation=function(){return new i(this)};var e={};t.Obj.createSubclass(e,t.Obj),e.TICK_LABEL="tickLabel",e.TITLE="title";var i=function(t){this._axis=t,this._options=this._axis.getOptions(),this._axisInfo=this._axis.getInfo()};t.Obj.createSubclass(i,t.Automation),i.prototype.GetSubIdForDomElement=function(i){var n=this._axis.getEventManager().GetLogicalObject(i);if(n&&n instanceof t.SimpleObjPeer){if(n.getParams().type==e.TITLE)return"title";if(this._options.groups){for(var o=n.getParams().level,s=this._axisInfo.getStartIndex(n.getParams().index,o),r="",a=0;a<=o;a++)for(var l=this._axisInfo.getLabels(this._axis.getCtx(),a),h=0;h<l.length;h++){var u=this._axisInfo.getLabelIndex(l[h]);this._axisInfo.getStartIndex(u,a)<=s&&this._axisInfo.getEndIndex(u,a)>=s&&(r+="["+this._axisInfo.getPosition(u,a)+"]")}if(r.length>0)return"item"+r}}return null},i.prototype.getDomElementForSubId=function(e){if("title"==e){var i=this._axisInfo.getTitle();if(i)return i.getElem()}else if(this._axisInfo instanceof t.GroupAxisInfo)for(var n=e.split("[").length-1-1,o=0,s=0,r=0;r<=n;r++){var a=e.indexOf("["),l=e.indexOf("]"),h=e.substring(a+1,l);e=e.substring(l+1);for(var u,g=this._axisInfo.getLabels(this._axis.getCtx(),r),f=0;f<g.length;f++)if(u=this._axisInfo.getLabelIndex(g[f]),this._axisInfo.getStartIndex(u,r)==s){o=u;break}for(var _=o;_<g.length;_++)if(u=this._axisInfo.getLabelIndex(g[_]),this._axisInfo.getPosition(u,r)==h){if(0==e.length)return g[_].getElem();s=this._axisInfo.getStartIndex(u,r);break}}return null};var n=function(){this.Init({skyros:n.VERSION_1,alta:n.SKIN_ALTA,next:n.SKIN_NEXT})};t.Obj.createSubclass(n,t.BaseComponentDefaults),n.SKIN_NEXT={skin:t.CSSStyle.SKIN_NEXT,layout:{titleGap:6}},n.SKIN_ALTA={axisLine:{lineColor:"#9E9E9E"},majorTick:{lineColor:"rgba(196,206,215,0.4)",baselineColor:"auto"},minorTick:{lineColor:"rgba(196,206,215,0.2)"},tickLabel:{style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA)},titleStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_12)},n.VERSION_1={position:null,baselineScaling:"zero",axisLine:{lineColor:"#8A8DAC",lineWidth:1,rendered:"on"},majorTick:{lineColor:"rgba(138,141,172,0.4)",lineWidth:1,rendered:"auto",lineStyle:"solid"},minorTick:{lineColor:"rgba(138,141,172,0.20)",lineWidth:1,rendered:"off",lineStyle:"solid"},tickLabel:{scaling:"auto",style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_SKYROS+"font-size: 11px; color: #333333;"),rotation:"auto",rendered:"on"},titleStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_SKYROS+"font-size: 11px; color: #737373;"),startGroupOffset:0,endGroupOffset:0,layout:{titleGap:4,radialLabelGap:5,insideLabelGapWidth:4,insideLabelGapHeight:2,hierarchicalLabelGapHeight:8,hierarchicalLabelGapWidth:15},_locale:"en-us"},n.getGapSize=function(e,i,n){var o=Math.min(t.TextUtils.getTextStringHeight(e,i.tickLabel.style)/14,1);return Math.ceil(n*o)};var o=function(t){this.Init(t.getCtx(),t.processEvent,t),this._axis=t};t.Obj.createSubclass(o,t.EventManager),o.getUIParams=function(t,e,i,n){return{type:t,id:e,index:i,level:n}},o.prototype.getComponent=function(){return this._axis},o.prototype.OnClick=function(t){o.superclass.OnClick.call(this,t);var e=this.GetLogicalObject(t.target);e&&this.processActionEvent(e)&&t.stopPropagation()},o.prototype.HandleTouchClickInternal=function(t){var e=this.GetLogicalObject(t.target);if(e){var i=t.touchEvent;this.processActionEvent(e)&&i&&i.preventDefault()}},o.prototype.processActionEvent=function(e){return e&&e.getAction&&e.getAction()?(this.FireEvent(t.EventFactory.newActionEvent("action",e.getAction(),e.getId()),this._axis),!0):!!(e instanceof a&&e.isDrillable())&&(this.FireEvent(t.EventFactory.newChartDrillEvent(e.getId(),null,e.getGroup()),this._axis),!0)},o.prototype.isDndSupported=function(){return!0},o.prototype.GetDragSourceType=function(t){var e=this.DragSource.getDragObject();return e instanceof a&&null!=e.getGroup()?"groups":null},o.prototype.GetDragDataContexts=function(){var t=this.DragSource.getDragObject();return t instanceof a?[{id:t.getId(),group:t.getGroup(),label:t.getLabel().getTextString()}]:[]};var s=function(t,e){this.Init(t,e)};t.Obj.createSubclass(s,t.KeyboardHandler),s.prototype.Init=function(t,e){s.superclass.Init.call(this,t),this._axis=e},s.prototype.processKeyDown=function(e){var i=e.keyCode,n=this._eventManager.getFocus(),o=null;if(i==t.KeyboardEvent.TAB){n&&(t.EventManager.consumeEvent(e),o=n);var r=this._axis.__getKeyboardObjects();r.length>0&&(t.EventManager.consumeEvent(e),o=this.getDefaultNavigable(r))}else i==t.KeyboardEvent.ENTER?n&&(this._eventManager.processActionEvent(n),t.EventManager.consumeEvent(e)):o=s.superclass.processKeyDown.call(this,e);return o};var r=new Object;t.Obj.createSubclass(r,t.Obj),r._MAX_TITLE_LINE_WRAP=3,r.getPreferredSize=function(e,i,n){var o=r._createAxisInfo(e,new t.Rectangle(0,0,i,n)),s=e.getCtx(),a=e.getOptions(),l="top"==a.position||"bottom"==a.position;if("off"==a.rendered||i<=0||n<=0)return l?new t.Dimension(i,0):new t.Dimension(0,n);var h=r.getTitleHeight(s,a,.8*(l?i:n),.8*(l?n:i)),u=0!=h?h+r._getTitleGap(e):0;if("on"==a.tickLabel.rendered&&"inside"!=a.tickLabel.position)if(l){var g=t.TextUtils.getTextStringHeight(s,a.tickLabel.style);o instanceof t.DataAxisInfo?u+=g:o instanceof t.TimeAxisInfo?u+=null!=o.getLabels(s,1)?2*g:g:o instanceof t.GroupAxisInfo&&(u=r._getGroupAxisPreferredSize(e,o,u,n,l))}else if(o instanceof t.DataAxisInfo)u+=t.TextUtils.getMaxTextStringWidth(s,o.getAllLabels(s,!0),o.Options.tickLabel.style);else if(o instanceof t.TimeAxisInfo){var f=o.getLabels(s),_=t.TextUtils.getMaxTextDimensions(f).w,p=o.getLabels(s,1),c=null!=p?t.TextUtils.getMaxTextDimensions(p).w:0;u+=Math.max(_,c)}else o instanceof t.GroupAxisInfo&&(u=r._getGroupAxisPreferredSize(e,o,u,i,l));return l?new t.Dimension(i,Math.min(u,n)):new t.Dimension(Math.min(u,i),n)},r.render=function(t,e){var i=r._createAxisInfo(t,e);"off"!=t.getOptions().rendered&&(t.__setBounds(e.clone()),r._renderBackground(t,e),r._renderTitle(t,i,e),r._renderLabels(t,i,e))},r._createAxisInfo=function(e,i){var n=t.AxisInfo.newInstance(e.getCtx(),e.getOptions(),i);return e.__setInfo(n),n},r._getTitleGap=function(t){var e=t.getOptions();return n.getGapSize(t.getCtx(),e,e.layout.titleGap)},r._renderBackground=function(e,i){var n=e.getOptions();if(n.dnd){var o=n.dnd.drop,s=Object.keys(o.xAxis).length>0||Object.keys(o.yAxis).length>0||Object.keys(o.y2Axis).length>0,r=n.dnd.drag,a=Object.keys(r.groups).length>0&&e.getInfo()instanceof t.GroupAxisInfo;if(s||a){var l=n.position,h="top"==l||"bottom"==l,u=h?4:10,g=h?10:4,f=new t.Rect(e.getCtx(),i.x-g,i.y-u,i.w+2*g,i.h+2*u);a&&f.setClassName("oj-draggable"),f.setInvisibleFill(),e.getCache().putToCache("background",f),e.addChild(f)}}},r._renderTitle=function(i,n,s){var a=i.getOptions();if(a.title){var l=a.position;if("radial"!=l&&"tangential"!=l){var h="top"==a.position||"bottom"==a.position,u=h?s.w:s.h,g=h?s.h:s.w,f=a.titleStyle,_=r.isWrapEnabled(f),p=r._createText(i.getEventManager(),i,a.title,f,0,0,u,g,o.getUIParams(e.TITLE),_);if(p){var c=r._getTitleGap(i),d=(n.getStartOverflow()-n.getEndOverflow())/2,x=t.Agent.isRightToLeft(i.getCtx()),I=p.getDimensions().h;p.alignCenter(),"top"==l?(p.setX(s.x+d+s.w/2),p.setY(s.y),s.y+=I+c,s.h-=I+c):"bottom"==l?(p.setX(s.x+d+s.w/2),p.setY(s.y+s.h-I),s.h-=I+c):"left"==l?(p.alignMiddle(),p.setRotation(x?Math.PI/2:3*Math.PI/2),p.setTranslate(s.x+I/2,s.y+s.h/2),s.x+=I+c,s.w-=I+c):"right"==l&&(p.alignMiddle(),p.setRotation(x?Math.PI/2:3*Math.PI/2),p.setTranslate(s.x+s.w-I/2,s.y+s.h/2),s.w-=I+c),n.setTitle(p)}}}},r._renderLabels=function(t,e,i){var n=t.getOptions();if("on"==n.tickLabel.rendered){var o=n.position;"top"==o||"bottom"==o?r._renderLabelsHoriz(t,e,i):"tangential"==o?r._renderLabelsTangent(t,e,i):r._renderLabelsVert(t,e,i),r._renderGroupSeparators(t,e,i)}},r._renderLabelsHoriz=function(i,s,r){var l=i.getCtx(),h=i.getOptions(),u=h.position,g="inside"==h.tickLabel.position,f=t.Agent.isRightToLeft(l),_=s instanceof t.GroupAxisInfo,p=_&&s.getNumLevels()>1,c=p?0:null,d=s.getLabels(l,c);for(T=p?n.getGapSize(l,h,h.layout.hierarchicalLabelGapHeight):0;d;){for(var x=0,I=0,m=0;m<d.length;m++){var A=d[m];if(null!=A){var M=A instanceof t.MultilineText||A instanceof t.BackgroundMultilineText;if(s.isLabelRotated(c)){if((!M||M&&!A.isWrapEnabled())&&!t.TextUtils.fitText(A,r.h,r.w,i))continue;f?A.alignLeft():A.alignRight(),p?(x=A.getDimensions().w,A.setTranslateY(r.h-x),I=Math.max(I,x)):A.setTranslateY(r.y)}else{if(!g&&A.getDimensions().h-1>r.h)continue;if(p&&"bottom"==u?A.setY(r.h):"bottom"==u?A.setY(r.y):A.setY(r.y+r.h),!p&&("bottom"==u&&!g||"top"==u&&g)?A.alignTop():p&&"top"==u?A.alignTop():A.alignBottom(),p)I=Math.max(I,A.getDimensions().h);else if(g){var T=n.getGapSize(l,h,h.layout.insideLabelGapWidth);f?A.alignRight():A.alignLeft(),A.setX(A.getX()+T*(f?-1:1))}}var v=_?s.getLabelIndex(A):m,b=s.getDatatip(v,c),L=A.getUntruncatedTextString(),S=s.getAction(v,c),C=s.isDrillable(v,c),y=s.getGroup(v,c),O=o.getUIParams(e.TICK_LABEL,A.getTextString(),v,c);i.getEventManager().associate(A,new a(i,A,y,S,C,L,b,O)),p?s.setLastRenderedLevel(c):I=Math.max(I,A.getDimensions().h),i.addChild(A)}}if(p){for(m=0;m<d.length;m++)if(null!=(A=d[m])){var E=s.isLabelRotated(c),D=c<s.getNumLevels()-1;!E&&D?(A.setY(r.h-I/2),A.alignMiddle()):A.setTranslateY(r.h-I)}r.y+=I+T,r.h-=I+T,c++,d=s.getLabels(i.getCtx(),c)}else r.y+=I,r.h-=I,d=null}if(s instanceof t.TimeAxisInfo){d=s.getLabels(i.getCtx());var G=s.getLabels(i.getCtx(),1),R=0;if(null!=G)for(m=0;m<G.length;m++)if(null!=(A=G[m])&&!(A.getDimensions().h-1>r.h)){i.getEventManager().associate(A,new t.SimpleObjPeer(null,null,null,o.getUIParams(e.TICK_LABEL,A.getTextString())));var w=0,V=0,k=s.getOptions()._maxOverflowCoord,F=s.getOptions()._minOverflowCoord;if(null!=d[m]&&(R=d[m].getDimensions().w/2,w=s._level1Overflow[m],V=s._level2Overflow[m]),0==w&&0==V){var U,N=A.getX();f?(U=N+R<=k?N+R:k,A.setX(U)):(U=N-R>=F?N-R:F,A.setX(U))}else w<0?A.setX(F):w>0&&A.setX(k);A.alignTop(),A.setY(r.y),i.addChild(A)}}},r._renderLabelsVert=function(i,s,r){var l,h,u,g=i.getOptions(),f=g.position,_=i.getCtx(),p=t.Agent.isRightToLeft(_),c=s instanceof t.DataAxisInfo,d="inside"==g.tickLabel.position,x=s instanceof t.GroupAxisInfo,I=x&&s.getNumLevels()>1,m=I?0:null;l=s.getLabels(i.getCtx(),m);var A=0;I?(h=n.getGapSize(_,g,g.layout.hierarchicalLabelGapWidth),u=t.TextUtils.getMaxTextDimensions(l).w):"radial"==f?(h=n.getGapSize(_,g,g.layout.radialLabelGap),A=r.x+r.w/2,p?A+=h+t.TextUtils.getMaxTextDimensions(l).w:A-=h):"left"==f?(A=r.x+r.w,c&&d&&(A+=t.TextUtils.getMaxTextDimensions(l).w)):(A=r.x,c&&!d&&(A+=t.TextUtils.getMaxTextDimensions(l).w));for(var M=function(h,M){var T=h instanceof t.MultilineText||h instanceof t.BackgroundMultilineText,v=!T||T&&!h.isWrapEnabled();if(!(I&&t.TextUtils.getMaxTextDimensions(l).w-1>r.w)&&(I||d||!v||t.TextUtils.fitText(h,r.w,r.h,i))){M=x?s.getLabelIndex(h):M;var b=s.getDatatip(M,m),L=h.getUntruncatedTextString(),S=s.getAction(M,m),C=s.isDrillable(M,m),y=s.getGroup(M,m),O=o.getUIParams(e.TICK_LABEL,h.getTextString(),M,m);if(i.getEventManager().associate(h,new a(i,h,y,S,C,L,b,O)),I)h.alignRight(),h.setX(p?r.w:r.x+u),s.setLastRenderedLevel(m);else if(h.setX(A),c||"right"!=f?h.alignRight():h.alignLeft(),d&&(h.alignBottom(),h.setY(h.getY()-n.getGapSize(_,g,g.layout.insideLabelGapHeight))),"radial"==f){var E=h.getY();h.setY(r.y+r.h/2-E);var D=h.getDimensions(),G=.15*D.h,R=t.PathUtils.roundedRectangle(D.x-G,D.y,D.w+2*G,D.h,2,2,2,2),w=new t.Path(i.getCtx(),R),V=h.getCSSStyle().getStyle(t.CSSStyle.BACKGROUND_COLOR),k=E+D.h/2>s.getEndCoord()&&"circle"==i.getOptions().polarGridShape?1:.3;V?w.setSolidFill(V):w.setSolidFill("#FFFFFF",k),i.addChild(w)}i.addChild(h)}};l;){for(var T=0;T<l.length;T++){var v=l[T];null!=v&&M(v,T)}if(!I)break;r.x+=u+h,r.w-=u+h,m++,l=s.getLabels(i.getCtx(),m),u=l?t.TextUtils.getMaxTextDimensions(l).w:null}if(s instanceof t.TimeAxisInfo){var b=s.getLabels(i.getCtx(),1);if(null!=b)for(T=0;T<b.length;T++)null!=(v=b[T])&&M(v,T)}},r._renderLabelsTangent=function(i,n,s){for(var r=n.getLabels(i.getCtx()),l=0;l<r.length;l++){var h=r[l];if(null!=h){var u=s.w/2-Math.abs(h.getX()),g=s.h/2-Math.abs(h.getY());if(t.TextUtils.fitText(h,u,g,i)){var f=n instanceof t.GroupAxisInfo?n.getLabelIndex(h):l,_=n.getDatatip(f),p=h.getUntruncatedTextString(),c=n.getAction(f),d=n.isDrillable(f),x=n.getGroup(f),I=o.getUIParams(e.TICK_LABEL,h.getTextString(),f);i.getEventManager().associate(h,new a(i,h,x,c,d,p,_,I)),h.setTranslateX(s.x+s.w/2),h.setTranslateY(s.y+s.h/2),i.addChild(h)}}}},r._createText=function(e,i,n,o,s,a,l,h,u,g){var f;return g?((f=new t.MultilineText(i.getCtx(),n,s,a)).setMaxLines(r._MAX_TITLE_LINE_WRAP),f.setCSSStyle(o),f.wrapText(l,h,1)):(f=new t.OutputText(i.getCtx(),n,s,a)).setCSSStyle(o),t.TextUtils.fitText(f,l,h,i)?(e.associate(f,new t.SimpleObjPeer(f.getUntruncatedTextString(),null,null,u)),f):null},r._renderGroupSeparators=function(e,i,o){if(i instanceof t.GroupAxisInfo&&i.areSeparatorsRendered()){var s=i.getNumLevels(),a=i.getSeparatorStartLevel();if(s<=1||a<=0)return;for(var l,h,u,g,f,_,p=e.getOptions(),c=p.position,d="top"==c||"bottom"==c,x=e.getCtx(),I=t.Agent.isRightToLeft(x),m=i.getSeparatorColor(),A=new t.SolidStroke(m,1,1),M=0,T=d?n.getGapSize(x,p,p.layout.hierarchicalLabelGapHeight):n.getGapSize(x,p,p.layout.hierarchicalLabelGapWidth),v=p.startGroupOffset,b=p.endGroupOffset,L=a;L>=0;L--){var S=i.getLabels(e.getCtx(),L),C=t.TextUtils.getMaxTextDimensions(S),y=i.isLabelRotated(L),O=y||!d?C.w:C.h;if(0!=O){var E=!1,D=null;if(L<a)for(var G=0;G<S.length;G++){var R=S[G];if(null!=R){var w=i.getLabelIndex(R),V=0==i.getLabelAt(w,L).length;if(!V){var k,F=V&&0==L&&(0==w||w==S.length-1),U=R&&null==S[w-1],N=R&&null==S[w+1],P=i.getStartIndex(w,L),B=i.getEndIndex(w,L);if(d){if(R&&(k=R instanceof t.MultilineText||R instanceof t.BackgroundMultilineText?R.getYAlignCoord():R.getY(),l=i.getCoordAt(P-v),h=y?k+.5*M:k-O/2-.5*M-T,u=i.getCoordAt(B+b),g=y?k+O+M+2*T:k,V&&F||0!=E||null==l||r._addSeparatorLine(e,A,l,g,l,h),null==u||F||r._addSeparatorLine(e,A,u,g,u,h)),!V){if(R)var j=y?R.getDimensions().h:R.getDimensions().w;l=U&&0==D?i.getStartCoord():i.getBoundedCoordAt(P-v),U&&(U=!1);var H=i.getLabelAt(w+1,L);if(u=N&&H&&H.length>0?i.getEndCoord():i.getBoundedCoordAt(B+b),f=R?I?R.getX()+.5*j:R.getX()-.5*j:i.getBoundedCoordAt(B+b),_=R?I?R.getX()-.5*j:R.getX()+.5*j:i.getBoundedCoordAt(P-v),R)if(y)r._addSeparatorLine(e,A,l,g,u,g);else{var W=I?.5*-R.getDimensions().h:.5*R.getDimensions().h,X=I?_+W>u:_+W<u;(I?l>f-W:l<f-W)&&r._addSeparatorLine(e,A,l,g,f-W,g),X&&r._addSeparatorLine(e,A,_+W,g,u,g)}}}else R&&(l=I?R.getX()-O-.5*T:R.getX()+.5*T,h=i.getCoordAt(P-v),u=I?R.getX()+.5*T:R.getX()-O-.5*T,g=i.getCoordAt(B+b),(!V&&0==E||0==w&&V&&0!=L)&&null!=h&&r._addSeparatorLine(e,A,l,h,u,h),null==g||F||r._addSeparatorLine(e,A,u,g,l,g)),V||(h=U&&0==D?0:i.getBoundedCoordAt(P-v),U&&(U=!1),H=i.getLabelAt(w+1,L),g=N&&H&&H.length>0?i.getEndCoord():i.getBoundedCoordAt(B+b),R&&r._addSeparatorLine(e,A,u,h,u,g));E=!V&&null!=R,D=null!=R||null==R&&V}}}M=O}else M=O}}},r._addSeparatorLine=function(e,i,n,o,s,r){var a=new t.Line(e.getCtx(),n,o,s,r);a.setStroke(i),a.setPixelHinting(!0),e.addChild(a)},r._getGroupAxisPreferredSize=function(e,i,o,s,r){for(var a=e.getCtx(),l=e.getOptions(),h=i.getNumLevels(),u=r?"hierarchicalLabelGapHeight":"hierarchicalLabelGapWidth",g=h>1?n.getGapSize(a,l,l.layout[u]):0,f=0;f<h;f++){var _;if(i.isAutoRotate()){for(var p=[],c=[],d=i.getSkipIncrement(),x=0;x<i.getGroupCount();x+=d){p.push(i.getLabelAt(x,0));var I=i.getLabelStyleAt(x,0);I||(I=i.Options.tickLabel.style),c.push(I)}_=t.TextUtils.getMaxTextStringWidth(a,p,c)}else{var m=i.getLabels(a,f);if(r){var A=t.TextUtils.getMaxTextDimensions(m);_=i.isLabelRotated(f)?A.w:A.h}else _=t.TextUtils.getMaxTextDimensions(m).w}if(!(o+_<=s)){0==f&&(o=s);break}o+=_+g}return 0!=f&&(o-=g),o},r.getTitleHeight=function(e,i,n,o){var s=0;if(i.title)if(r.isWrapEnabled(i.titleStyle)){var a=new t.MultilineText(e,i.title,0,0);a.setMaxLines(r._MAX_TITLE_LINE_WRAP),a.setCSSStyle(i.titleStyle),a.wrapText(n,o,1),s=t.TextUtils.getTextStringHeight(e,i.titleStyle)*a.getLineCount()}else s=t.TextUtils.getTextStringHeight(e,i.titleStyle);return s},r.isWrapEnabled=function(e){var i=e.getStyle(t.CSSStyle.WHITE_SPACE);return"nowrap"!=i&&"noWrap"!=i},t.AxisInfo=function(){},t.Obj.createSubclass(t.AxisInfo,t.Obj),t.AxisInfo.newInstance=function(e,i,n){return i.timeAxisType&&"disabled"!=i.timeAxisType?new t.TimeAxisInfo(e,i,n):i._isGroupAxis?new t.GroupAxisInfo(e,i,n):new t.DataAxisInfo(e,i,n)},t.AxisInfo.prototype.Init=function(e,i,n){this._context=e,this.Position=i.position,this._radius=i._radius,this._title=null,"top"==this.Position||"bottom"==this.Position?(this.StartCoord=n.x,this.EndCoord=n.x+n.w):"left"==this.Position||"right"==this.Position?(this.StartCoord=n.y,this.EndCoord=n.y+n.h):"radial"==this.Position?(this.StartCoord=0,this.EndCoord=this._radius):"tangential"==this.Position&&(t.Agent.isRightToLeft(e)?(this.StartCoord=2*Math.PI,this.EndCoord=0):(this.StartCoord=0,this.EndCoord=2*Math.PI)),this.MinValue=null,this.MaxValue=null,this.GlobalMin=null,this.GlobalMax=null,this.DataMin=null,this.DataMax=null,this.MinViewportExtent=null,this.StartOverflow=0,this.EndOverflow=0,null==i.leftBuffer&&(i.leftBuffer=1/0),null==i.rightBuffer&&(i.rightBuffer=1/0),this.Options=i},t.AxisInfo.prototype.getCtx=function(){return this._context},t.AxisInfo.prototype.getOptions=function(){return this.Options},t.AxisInfo.prototype.getLabels=function(t,e){return null},t.AxisInfo.prototype.getTitle=function(){return this._title},t.AxisInfo.prototype.setTitle=function(t){this._title=t},t.AxisInfo.prototype.getMajorTickCoords=function(){return[]},t.AxisInfo.prototype.getMinorTickCoords=function(){return[]},t.AxisInfo.prototype.getBaselineCoord=function(){return null},t.AxisInfo.prototype.getValueAt=function(t){if(null==t)return null;var e=Math.min(this.StartCoord,this.EndCoord),i=Math.max(this.StartCoord,this.EndCoord);return t<e||t>i?null:this.getUnboundedValueAt(t)},t.AxisInfo.prototype.getCoordAt=function(t){return null==t?null:t<this.MinValue||t>this.MaxValue?null:this.getUnboundedCoordAt(t)},t.AxisInfo.prototype.getBoundedValueAt=function(t){if(null==t)return null;var e=Math.min(this.StartCoord,this.EndCoord),i=Math.max(this.StartCoord,this.EndCoord);return t<e?t=e:t>i&&(t=i),this.getUnboundedValueAt(t)},t.AxisInfo.prototype.getBoundedCoordAt=function(t){return null==t?null:(t<this.MinValue?t=this.MinValue:t>=this.MaxValue&&(t=this.MaxValue),this.getUnboundedCoordAt(t))},t.AxisInfo.prototype.getUnboundedValueAt=function(t){return null},t.AxisInfo.prototype.getUnboundedCoordAt=function(t){return null},t.AxisInfo.prototype.getDatatip=function(t,e){return null},t.AxisInfo.prototype.getLabelBackground=function(t,e){return null},t.AxisInfo.prototype.getAction=function(t){return null},t.AxisInfo.prototype.isDrillable=function(t){return null},t.AxisInfo.prototype.getBaselineCoord=function(){return null},t.AxisInfo.prototype.isLabelRotated=function(){return!1},t.AxisInfo.prototype.CreateLabel=function(e,i,n,o,s){var r;if("tangential"==this.Position){var a=16/180*Math.PI,l=1/180*Math.PI,h=.5*this.getTickLabelHeight(),u=this._radius+h;(n<l||n>2*Math.PI-l)&&(u+=h);var g=Math.round(u*Math.sin(n)),f=Math.round(-u*Math.cos(n));r=o?new t.BackgroundOutputText(e,i,g,f,o):new t.OutputText(e,i,g,f),n<l||Math.abs(n-Math.PI)<l||n>2*Math.PI-l?r.alignCenter():n<Math.PI?r.alignLeft():r.alignRight(),Math.abs(n-Math.PI/2)<a||Math.abs(n-3*Math.PI/2)<a?r.alignMiddle():n<Math.PI/2||n>3*Math.PI/2?r.alignBottom():r.alignTop()}else s?r=o?new t.BackgroundMultilineText(e,i,n,n,o):new t.MultilineText(e,i,n,n):(r=o?new t.BackgroundOutputText(e,i,n,n,o):new t.OutputText(e,i,n,n)).alignMiddle(),r.alignCenter();return(r instanceof t.OutputText||r instanceof t.MultilineText)&&r.setCSSStyle(this.Options.tickLabel.style),r},t.AxisInfo.prototype.IsOverlapping=function(e,i){if(!e||e.length<=0)return!1;for(var n,o,s,r,a="left"==this.Position||"right"==this.Position||"radial"==this.Position,l=t.Agent.isRightToLeft(this.getCtx()),h=this.GetTickLabelGapSize(),u=0;u<e.length;u+=i+1)if(null!=e[u])if(null!=n&&null!=o){if(a){if(s=e[u].y,r=e[u].y+e[u].h,s>=n&&s-h<o)return!0;if(s<n&&r+h>n)return!0}else{if(s=e[u].x,r=e[u].x+e[u].w,!l&&s-h<o)return!0;if(l&&r+h>n)return!0}n=s,o=r}else a?(n=e[u].y,o=e[u].y+e[u].h):(n=e[u].x,o=e[u].x+e[u].w);return!1},t.AxisInfo.prototype.IsOverlappingDims=function(t,e){if(!t||!e)return!1;var i=t.y,n=t.y+t.h,o=t.x,s=t.x+t.w,r=e.y,a=e.y+e.h,l=e.x,h=e.x+e.w;return(o<=l&&l<=s||o<=h&&h<=s||l<=o&&o<=h||l<=s&&s<=h)&&(r>=i&&r<n||r<=i&&a>=i)},t.AxisInfo.prototype.GetTickLabelGapSize=function(){var e=this.getTickLabelHeight(),i=this instanceof t.GroupAxisInfo?.24*e:.79*e,n=this instanceof t.GroupAxisInfo?.08*e:.28*e;return"left"==this.Position||"right"==this.Position||"radial"==this.Position||this.isLabelRotated()?n:i},t.AxisInfo.prototype.getTickLabelHeight=function(){return t.TextUtils.getTextStringHeight(this.getCtx(),this.Options.tickLabel.style)},t.AxisInfo.prototype.SkipLabels=function(t,e){for(var i=0,n=this.IsOverlapping(e,i);n;)i++,n=this.IsOverlapping(e,i);if(i>0){for(var o=[],s=0;s<t.length;s+=i+1)o.push(t[s]);return o}return t},t.AxisInfo.prototype.SkipTangentialLabels=function(t,e){var i=[],n=t.length,o=null;if(n>1){for(var s,r=0;r<n;r++)e[r]&&(!s||s&&!this.IsOverlappingDims(s,e[r]))&&(o||(o=e[r]),i.push(t[r]),s=e[r]);return this.IsOverlappingDims(s,o)&&i.pop(),i}return t},t.AxisInfo.prototype.GetLabelDims=function(t,e,i){for(var n=[],o=this.isLabelRotated(i),s=0;s<t.length;s++){var r=t[s];if(null!=r){var a=r.getDimensions(e);null!=i&&(a.x=(o?r.getTranslateX():r.getX())-a.w/2,a.y=(o?r.getTranslateY():r.getY())-a.h/2),a.w&&a.h?n.push(a):n.push(null)}else n.push(null)}return n},t.AxisInfo.prototype.getMajorTickCount=function(){return null},t.AxisInfo.prototype.getMinorTickCount=function(){return null},t.AxisInfo.prototype.getMajorIncrement=function(){return null},t.AxisInfo.prototype.getMinorIncrement=function(){return null},t.AxisInfo.prototype.getGlobalMin=function(){return this.GlobalMin},t.AxisInfo.prototype.getGlobalMax=function(){return this.GlobalMax},t.AxisInfo.prototype.getViewportMin=function(){return this.MinValue},t.AxisInfo.prototype.getViewportMax=function(){return this.MaxValue},t.AxisInfo.prototype.getDataMin=function(){return this.DataMin},t.AxisInfo.prototype.getDataMax=function(){return this.DataMax},t.AxisInfo.prototype.getMinimumExtent=function(){return 0},t.AxisInfo.prototype.getStartCoord=function(){return this.StartCoord},t.AxisInfo.prototype.getEndCoord=function(){return this.EndCoord},t.AxisInfo.prototype.getStartOverflow=function(){return this.StartOverflow},t.AxisInfo.prototype.getEndOverflow=function(){return this.EndOverflow},t.AxisInfo.prototype.getGroupWidth=function(){return 0},t.AxisInfo.prototype.getGroup=function(t,e){return null},t.AxisInfo.prototype.linearToActual=function(t){return t},t.AxisInfo.prototype.actualToLinear=function(t){return t},t.AxisInfo.prototype.alignLogScaleToTickCount=function(t,e){return t},t.AxisInfo.prototype.getLogScaleUnit=function(){return null},t.DataAxisInfo=function(t,e,i){this.Init(t,e,i)},t.Obj.createSubclass(t.DataAxisInfo,t.AxisInfo),t.DataAxisInfo._MAX_NUMBER_OF_GRIDS_AUTO=10,t.DataAxisInfo._MINOR_TICK_COUNT=2,t.DataAxisInfo._MAX_ZOOM_FACTOR=64,t.DataAxisInfo._MAJOR_TICK_INCREMENT_BUFFER=1e-10,t.DataAxisInfo.prototype.Init=function(e,i,n){t.DataAxisInfo.superclass.Init.call(this,e,i,n),"top"==this.Position||"bottom"==this.Position?("off"!=i.tickLabel.rendered&&"off"!=i.rendered&&(this.StartOverflow=Math.max(t.Axis.MINIMUM_AXIS_BUFFER-i.leftBuffer,0),this.EndOverflow=Math.max(t.Axis.MINIMUM_AXIS_BUFFER-i.rightBuffer,0)),t.Agent.isRightToLeft(e)?(this._minCoord=this.EndCoord-this.EndOverflow,this._maxCoord=this.StartCoord+this.StartOverflow):(this._minCoord=this.StartCoord+this.StartOverflow,this._maxCoord=this.EndCoord-this.EndOverflow)):"tangential"==this.Position||"radial"==this.Position?(this._minCoord=this.StartCoord,this._maxCoord=this.EndCoord):(this._minCoord=this.EndCoord,this._maxCoord=this.StartCoord),this.DataMin=i.dataMin,this.DataMax=i.dataMax,this._isLog="log"==i.scale&&this.DataMin>0&&this.DataMax>0,this._globalMin=this.actualToLinear(i.min),this._globalMax=this.actualToLinear(i.max),this._minValue=null==i.viewportMin?this._globalMin:this.actualToLinear(i.viewportMin),this._maxValue=null==i.viewportMax?this._globalMax:this.actualToLinear(i.viewportMax),this._dataMin=this.actualToLinear(this.DataMin),this._dataMax=this.actualToLinear(this.DataMax),this._majorIncrement=this.actualToLinear(i.step),this._minorIncrement=this.actualToLinear(i.minorStep),this._minMajorIncrement=this.actualToLinear(i.minStep),this._majorTickCount=i._majorTickCount,this._minorTickCount=i._minorTickCount,this._logScaleUnit=i._logScaleUnit,this._zeroBaseline=!this._isLog&&"zero"==i.baselineScaling,this._converter=null,null!=i.tickLabel&&(this._converter=i.tickLabel.converter),this._calcAxisExtents(),this.GlobalMin=this.linearToActual(this._globalMin),this.GlobalMax=this.linearToActual(this._globalMax),this.MinValue=this.linearToActual(this._minValue),this.MaxValue=this.linearToActual(this._maxValue)},t.DataAxisInfo.prototype.getMinLabel=function(){return this._zeroBaseline||"on"==this.Options._continuousExtent&&null==this.Options.min?Math.ceil(this._minValue/this._majorIncrement)*this._majorIncrement:Math.ceil((this._minValue-this._globalMin)/this._majorIncrement)*this._majorIncrement+this._globalMin},t.DataAxisInfo.prototype.getLabels=function(t,e){if(e&&e>0)return null;var i=this.getAllLabels(t),n=[],o=t.getStage();return"tangential"!=this.Position&&(n=this.GetLabelDims(i,o),i=this.SkipLabels(i,n)),i},t.DataAxisInfo.prototype.getAllLabels=function(e,i){var n=[];if(this.Options.tickLabel&&this.Options.tickLabel.scaling){var o=this.Options.tickLabel.autoPrecision?this.Options.tickLabel.autoPrecision:"on";this._axisValueFormatter=new t.LinearScaleAxisValueFormatter(e,this._minValue,this._maxValue,this._majorIncrement,this.Options.tickLabel.scaling,o)}for(var s=0;s<=this._majorTickCount;s++){var r=s*this._majorIncrement+this.getMinLabel();if(r-this._maxValue>t.DataAxisInfo._MAJOR_TICK_INCREMENT_BUFFER)break;var a,l=this._getUnboundedCoordAt(r);if(this.Options._skipHighestTick){if(r==this._maxValue)continue;if("tangential"!=this.Position&&Math.abs(l-this._maxCoord)<this.getTickLabelHeight())continue}this._isLog?(r=this.linearToActual(r),this._axisValueFormatter=new t.LinearScaleAxisValueFormatter(e,r,r,r,this.Options.tickLabel.scaling,o),a=this._formatValue(r)):a=this._formatValue(r),i?n.push(a):n.push(this.CreateLabel(e,a,l))}return n},t.DataAxisInfo.prototype.getMajorTickCoords=function(){for(var e=[],i=0;i<=this._majorTickCount;i++){var n=i*this._majorIncrement+this.getMinLabel();if(n-this._maxValue>t.DataAxisInfo._MAJOR_TICK_INCREMENT_BUFFER)break;if(!this.Options._skipHighestTick||n!=this._maxValue){var o=this._getUnboundedCoordAt(n);e.push(o)}}return e},t.DataAxisInfo.prototype.getMinorTickCoords=function(){for(var e=[],i=-1;i<=this._majorTickCount;i++){var n=i*this._majorIncrement+this.getMinLabel();if(this._isLog&&1==this._majorIncrement&&1==this._minorIncrement)for(var o=2;o<=9;o++){var s=n+t.Math.log10(o);if(s>this._maxValue)break;s<this._minValue||(a=this._getUnboundedCoordAt(s),e.push(a))}else for(o=1;o<this._minorTickCount;o++){var r=n+o*this._minorIncrement;if(r>this._maxValue)break;if(!(r<this._minValue)){var a=this._getUnboundedCoordAt(r);e.push(a)}}}return e},t.DataAxisInfo.prototype.getBaselineCoord=function(){return this._isLog?this._minCoord:this.getBoundedCoordAt(0)},t.DataAxisInfo.prototype.getUnboundedValueAt=function(t){if(null==t)return null;var e=(t-this._minCoord)/(this._maxCoord-this._minCoord),i=this._minValue+e*(this._maxValue-this._minValue);return this.linearToActual(i)},t.DataAxisInfo.prototype.getUnboundedCoordAt=function(t){return this._getUnboundedCoordAt(this.actualToLinear(t))},t.DataAxisInfo.prototype._getUnboundedCoordAt=function(t){if(null==t)return null;var e=this._maxValue==this._minValue?0:(t-this._minValue)/(this._maxValue-this._minValue);return e=Math.max(Math.min(1e3,e),-1e3),this._minCoord+e*(this._maxCoord-this._minCoord)},t.DataAxisInfo.prototype._formatValue=function(e){if(!this._converter||!this._converter.getAsString&&!this._converter.format){if(this._axisValueFormatter)return this._axisValueFormatter.format(e);var i=t.Math.log10(this._majorIncrement),n=Math.max(Math.ceil(-i),0);return e.toFixed(n)}return this._axisValueFormatter?this._axisValueFormatter.format(e,this._converter):this._converter.getAsString?this._converter.getAsString(e):this._converter.format?this._converter.format(e):void 0},t.DataAxisInfo.prototype._calcMajorMinorIncr=function(e){this._majorIncrement||(this._majorTickCount?this._majorIncrement=(this._maxValue-this._minValue)/this._majorTickCount:this._majorIncrement=Math.max(e,this._minMajorIncrement)),this._majorTickCount||(this._majorTickCount=(this._maxValue-this._minValue)/this._majorIncrement,Math.ceil(this._majorTickCount)-this._majorTickCount<t.DataAxisInfo._MAJOR_TICK_INCREMENT_BUFFER&&(this._majorTickCount=Math.ceil(this._majorTickCount))),this._minorTickCount||(this._minorIncrement?this._minorTickCount=this._majorIncrement/this._minorIncrement:this._isLog?this._minorTickCount=this._majorIncrement:this._minorTickCount=t.DataAxisInfo._MINOR_TICK_COUNT),
this._minorIncrement||(this._minorIncrement=this._majorIncrement/this._minorTickCount)},t.DataAxisInfo.prototype._calcAxisExtents=function(){var e="on"==this.Options._continuousExtent;this._zeroBaseline&&(this._dataMin=Math.min(0,this._dataMin),this._dataMax=Math.max(0,this._dataMax));var i=this._calcAxisScale(null!=this._globalMin?this._globalMin:this._dataMin,null!=this._globalMax?this._globalMax:this._dataMax);i=Math.max(i,this._minMajorIncrement),this._dataMin==this._dataMax&&(0==this._dataMin?this._dataMax+=5*i:(this._dataMin-=2*i,this._dataMax+=2*i)),null==this._globalMin&&(this._zeroBaseline&&this._dataMin>=0?this._globalMin=0:e?this._globalMin=this._dataMin-.1*(this._dataMax-this._dataMin):this._zeroBaseline||null==this._globalMax?this._globalMin=(Math.ceil(this._dataMin/i)-1)*i:(this._globalMin=this._globalMax,this._globalMin-=i*(Math.floor((this._globalMin-this._dataMin)/i)+1)),this._dataMin>=0&&(this._globalMin=Math.max(this._globalMin,0))),null==this._globalMax&&(this._majorTickCount?this._globalMax=this._globalMin+this._majorTickCount*i:this._zeroBaseline&&this._dataMax<=0?this._globalMax=0:e?this._globalMax=this._dataMax+.1*(this._dataMax-this._dataMin):this._zeroBaseline?this._globalMax=(Math.floor(this._dataMax/i)+1)*i:(this._globalMax=this._globalMin,this._globalMax+=i*(Math.floor((this._dataMax-this._globalMax)/i)+1)),this._dataMax<=0&&(this._globalMax=Math.min(this._globalMax,0))),this._globalMax==this._globalMin&&(this._globalMax=100,this._globalMin=0,i=(this._globalMax-this._globalMin)/t.DataAxisInfo._MAX_NUMBER_OF_GRIDS_AUTO),null==this._minValue&&(this._minValue=this._globalMin),null==this._maxValue&&(this._maxValue=this._globalMax),this._minValue==this._globalMin&&this._maxValue==this._globalMax||(i=this._calcAxisScale(this._minValue,this._maxValue)),this._globalMin>this._minValue&&(this._globalMin=this._minValue),this._globalMax<this._maxValue&&(this._globalMax=this._maxValue),this._calcMajorMinorIncr(i)},t.DataAxisInfo.prototype._calcAxisScale=function(e,i){if(this._majorIncrement)return this._majorIncrement;var n=i-e;if(this._isLog){var o=Math.floor(n/8)+1;return(!this._logScaleUnit||this._logScaleUnit<o)&&(this._logScaleUnit=o),this._logScaleUnit}if(0==n)return 0==e?10:Math.pow(10,Math.floor(t.Math.log10(e))-1);if(this._majorTickCount){var s=n/this._majorTickCount,r=s/(l=Math.pow(10,Math.ceil(t.Math.log10(s)-1)));return(r=r>1&&r<=1.5?1.5:r>5?10:Math.ceil(r))*l}var a=t.Math.log10(n),l=Math.pow(10,Math.ceil(a)-2),h=Math.round(n/l);return(h>=10&&h<=14?2:h>=15&&h<=19?3:h>=20&&h<=24?4:h>=25&&h<=45?5:h>=46&&h<=80?10:20)*l},t.DataAxisInfo.prototype.getMajorTickCount=function(){return this._majorTickCount},t.DataAxisInfo.prototype.getMinorTickCount=function(){return this._minorTickCount},t.DataAxisInfo.prototype.getMajorIncrement=function(){return this.linearToActual(this._majorIncrement)},t.DataAxisInfo.prototype.getMinorIncrement=function(){return this.linearToActual(this._minorIncrement)},t.DataAxisInfo.prototype.getMinimumExtent=function(){return(this._globalMax-this._globalMin)/t.DataAxisInfo._MAX_ZOOM_FACTOR},t.DataAxisInfo.prototype.getStartOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!t.Agent.isRightToLeft(this.getCtx())?this.StartOverflow:this.EndOverflow},t.DataAxisInfo.prototype.getEndOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!t.Agent.isRightToLeft(this.getCtx())?this.EndOverflow:this.StartOverflow},t.DataAxisInfo.prototype.linearToActual=function(t){return null==t?null:this._isLog?Math.pow(10,t):t},t.DataAxisInfo.prototype.actualToLinear=function(e){return null==e?null:this._isLog?e>0?t.Math.log10(e):null:e},t.DataAxisInfo.prototype.alignLogScaleToTickCount=function(t,e){if(this._isLog)for(var i=this.getMajorTickCount();e<i;)this._majorIncrement=null,this._majorTickCount=null,this._minorIncrement=null,this._minorTickCount=null,t++,this._calcMajorMinorIncr(t),i=this.getMajorTickCount();return t},t.DataAxisInfo.prototype.getLogScaleUnit=function(){return this._logScaleUnit},t.GroupAxisInfo=function(t,e,i){this.Init(t,e,i)},t.Obj.createSubclass(t.GroupAxisInfo,t.AxisInfo),t.GroupAxisInfo._MAX_LINE_WRAP=3,t.GroupAxisInfo._ROTATE_THRESHOLD=12,t.GroupAxisInfo.prototype.Init=function(e,i,o){t.GroupAxisInfo.superclass.Init.call(this,e,i,o);var s=t.Agent.isRightToLeft(e),a="top"==this.Position||"bottom"==this.Position;if(a&&s){var l=this.StartCoord;this.StartCoord=this.EndCoord,this.EndCoord=l}this._levelsArray=[],this._groupCount=this._generateLevelsArray(i.groups,0,this._levelsArray,0),this._numLevels=this._levelsArray.length,this._areSeparatorsRendered="off"!=i.groupSeparators.rendered,this._separatorColor=i.groupSeparators.color,this._lastRenderedLevel=null,this._drilling=i.drilling;var h=i.endGroupOffset>0?Number(i.endGroupOffset):0,u=i.startGroupOffset>0?Number(i.startGroupOffset):0;this.DataMin=0,this.DataMax=this._groupCount-1,this.GlobalMin=null==i.min?this.DataMin-u:i.min,this.GlobalMax=null==i.max?this.DataMax+h:i.max;var g=this.getGroupIndex(i.viewportStartGroup),f=this.getGroupIndex(i.viewportEndGroup);-1!=g&&(this.MinValue=g-u),-1!=f&&(this.MaxValue=f+h),null!=i.viewportMin&&(this.MinValue=i.viewportMin),null!=i.viewportMax&&(this.MaxValue=i.viewportMax),null==this.MinValue&&(this.MinValue=this.GlobalMin),null==this.MaxValue&&(this.MaxValue=this.GlobalMax),this.GlobalMin>this.MinValue&&(this.GlobalMin=this.MinValue),this.GlobalMax<this.MaxValue&&(this.GlobalMax=this.MaxValue),this._groupWidthRatios=i._groupWidthRatios,this._processGroupWidthRatios(),this._startBuffer=s?i.rightBuffer:i.leftBuffer,this._endBuffer=s?i.leftBuffer:i.rightBuffer,this._isLabelRotated=[];for(var _=0;_<this._numLevels;_++)this._isLabelRotated.push(!1);if(this._renderGridAtLabels=i._renderGridAtLabels,this._labels=null,this._maxSpace=a?o.h:o.w,"off"!=i.rendered){var p=r.getTitleHeight(e,i,a?o.w:o.h,a?o.h:o.w);this._maxSpace-=0!=p?p+n.getGapSize(e,i,i.layout.titleGap):0}this._maxLineWrap=t.GroupAxisInfo._MAX_LINE_WRAP},t.GroupAxisInfo.prototype._processGroupWidthRatios=function(){if(!this._groupWidthRatios||this._groupWidthRatios.length<2)this._groupWidthRatios=null;else{for(var e,i,n=0,o=0;o<this._groupCount;o++)e=0==o?this.MinValue:Math.max(o-.5,this.MinValue),(i=o==this._groupCount-1?this.MaxValue:Math.min(o+.5,this.MaxValue))>e&&(n+=(i-e)*this._groupWidthRatios[o]);var s=this.EndCoord-this.StartCoord;for(this._groupWidths=t.ArrayUtils.map(this._groupWidthRatios,function(t){return t*s/n}),this._borderValues=[],o=0;o<this._groupWidthRatios.length-1;o++)this._borderValues.push(o+.5);this._borderCoords=[];var r=Math.min(Math.max(Math.round(this.MinValue),0),this._borderValues.length-1);for(this._borderCoords[r]=this.StartCoord+(this._borderValues[r]-this.MinValue)*this._groupWidths[r],o=r+1;o<this._borderValues.length;o++)this._borderCoords[o]=this._borderCoords[o-1]+this._groupWidths[o];for(o=r-1;o>=0;o--)this._borderCoords[o]=this._borderCoords[o+1]-this._groupWidths[o+1]}},t.GroupAxisInfo.prototype._rotateLabels=function(e,i,n,o){var s,a,l=this.getCtx(),h=t.Agent.isRightToLeft(l),u=this._numLevels>1;null==o&&(o=this._numLevels-1),this._isLabelRotated[o]=!0,u||this._setOverflow(n,n,e);for(var g=0;g<e.length;g++)if(null!=(s=e[g])){if(a=s.getX(),s instanceof t.MultilineText||s instanceof t.BackgroundMultilineText){var f=this.getGroupWidth()*(this.getEndIndex(g,o)-this.getStartIndex(g,o)+1);2*s.getLineHeight()<f&&this._maxSpace>0?s.wrapText(this._maxSpace,s.getLineHeight()*t.GroupAxisInfo._MAX_LINE_WRAP,1):s.setWrapEnabled(!1)}s.setX(0),s.setY(0),h?s.setRotation(Math.PI/2):s.setRotation(3*Math.PI/2),s.setTranslateX(a)}var _=this.GetLabelDims(e,i,o);return r.isWrapEnabled(this.Options.tickLabel.style)&&this._maxSpace>0&&this._sanitizeWrappedText(l,_,e,!0,u)&&(_=this.GetLabelDims(e,i,o)),this.SkipLabels(e,_)},t.GroupAxisInfo.prototype._sanitizeWrappedText=function(e,i,o,s,r){for(var a=this._calculateMaxWrap(i,o,s),l=0,h=0;h<o.length;h++){var u=o[h];if(u){var g=u instanceof t.MultilineText||u instanceof t.BackgroundMultilineText;a&&g&&u.isWrapEnabled()&&u.wrapText(this._maxSpace,u.getLineHeight()*this._maxLineWrap,1),r&&(l=Math.max(l,u.getDimensions().w)),u.alignMiddle()}}if(r){var f=s?this.Options.layout.hierarchicalLabelGapHeight:this.Options.layout.hierarchicalLabelGapWidth;this._maxSpace-=l+n.getGapSize(e,this.Options,f)}return a},t.GroupAxisInfo.prototype._calculateMaxWrap=function(e,i,n){for(var o=!1;this.IsOverlapping(e,0)&&this._maxLineWrap>1;){o=!0;for(var s=0;s<i.length;s++){var r=i[s];if((r instanceof t.MultilineText||r instanceof t.BackgroundMultilineText)&&r.getLineCount()==this._maxLineWrap){var a=r.getLineHeight();n?e[s].w-=a:(e[s].y+=.5*a,e[s].h-=a)}}this._maxLineWrap--}return o},t.GroupAxisInfo.prototype.isLabelRotated=function(t){return null==t&&(t=this._numLevels-1),this._isLabelRotated[t]},t.GroupAxisInfo.prototype._setOverflow=function(e,i,n){e=Math.max(e-this._startBuffer,0),i=Math.max(i-this._endBuffer,0);var o=t.Agent.isRightToLeft(this.getCtx());this.StartCoord+=(e-this.StartOverflow)*(o?-1:1),this.EndCoord-=(i-this.EndOverflow)*(o?-1:1),this._processGroupWidthRatios();for(var s=0;s<this._numLevels;s++){n=this._labels[s];for(var r=0;r<n.length;r++){var a=n[r];if(a){var l=this._getLabelCoord(s,this.getLabelIndex(a));a.setX(l)}}}this.StartOverflow=e,this.EndOverflow=i},t.GroupAxisInfo.prototype.getLabels=function(t,e){return null==e&&(e=this._numLevels-1),this._labels||this._generateLabels(t),this._labels[e]},t.GroupAxisInfo.prototype._getLabelCoord=function(t,e){var i=this.getStartIndex(e,t),n=this.getEndIndex(e,t);if(null==i||null==n)return null;i<this.MinValue&&n>this.MinValue&&(i=this.MinValue),n>this.MaxValue&&i<this.MaxValue&&(n=this.MaxValue);var o=n?i+(n-i)/2:i;return this.getCoordAt(o)},t.GroupAxisInfo.prototype._generateLabels=function(e){var i=[];this._labels=[];for(var o,s,a,l,h,u=e.getStage(),g="top"==this.Position||"bottom"==this.Position,f=t.Agent.isRightToLeft(e),_=this._numLevels>1,p=this.getGroupWidth(),c=this._maxSpace,d=g?"hierarchicalLabelGapHeight":"hierarchicalLabelGapWidth",x=_?n.getGapSize(e,this.Options,this.Options.layout[d]):0,I="auto"==this.Options.tickLabel.rotation&&g,m=this.isAutoRotate(),A=this.Options.tickLabel.style,M=r.isWrapEnabled(this.Options.tickLabel.style)&&"tangential"!=this.Position&&p>t.TextUtils.getTextStringHeight(e,A),T=0;T<this._numLevels;T++){for(var v=this._levelsArray[T],b=m?this.getSkipIncrement():1,L=0;L<v.length;L+=b)if(v[L]){if(""==(o=this.getLabelAt(L,T))||!o&&0!=o){i.push(null);continue}var S=this._getLabelCoord(T,L);if(null!=S){l=this.getLabelStyleAt(L,T);var C=!m&&M&&"number"!=typeof o&&o.indexOf(" ")>=0;h=this.CreateLabel(e,o,S,l,C);var y=p*(this.getEndIndex(L,T)-this.getStartIndex(L,T)+1);C&&this._isTextWrapNeeded(e,o,l,I,g?y:c)&&c>0?g?h.wrapText(y,c,1,!0):h.wrapText(c,h.getLineHeight()*this._maxLineWrap,1,!1):C&&(!g||c<0)&&h.setWrapEnabled(!1),h._index=L,i.push(h),s||0!=T||(s=h),0==T&&(a=h)}else i.push(null)}else i.push(null);if(M&&_){for(var O=0,E=0;E<i.length;E++)if(i[E]){var D=i[E].getDimensions();O=Math.max(O,g?D.h:D.w)}c-=O+x}this._labels.push(i),i=[]}i=this._labels[this._numLevels-1];var G=[];if(s){if("tangential"==this.Position)return G=this.GetLabelDims(i,u),void(this._labels[0]=this.SkipTangentialLabels(i,G));var R=s.getDimensions();if(g){var w,V;if(null!=this.Options._startOverflow&&null!=this.Options._endOverflow)w=this.Options._startOverflow,V=this.Options._endOverflow;else{var k=a.getDimensions();w=f?R.w+R.x-this.StartCoord:this.StartCoord-R.x,V=f?this.EndCoord-k.x:k.w+k.x-this.EndCoord}!m&&(w>this._startBuffer||V>this._endBuffer)&&this._setOverflow(w,V,i)}for(T=0;T<this._numLevels;T++)if(i=this._labels[T],m)this._labels[T]=this._rotateLabels(i,u,R.h/2,T);else{G=this.GetLabelDims(i,u,T);var F=this.IsOverlapping(G,0);if(F||(this._labels[T]=i),g)if(I){if(F)this._labels[T]=this._rotateLabels(i,u,R.h/2,T);else if(this._labels[T]=i,_){var U=0;for(E=0;E<G.length;E++)G[E]&&(U=Math.max(U,G[E].h));this._maxSpace-=U+x}}else G=this.GetLabelDims(i,u),this._labels[T]=this.SkipLabels(i,G);else M&&this._sanitizeWrappedText(e,G,i,!1,_)&&(G=this.GetLabelDims(i,u,T)),this._labels[T]=this.SkipLabels(i,G)}}},t.GroupAxisInfo.prototype.getMajorTickCoords=function(){for(var t,e=[],i="tangential"==this.Position?this.getGroupCount():this.getGroupCount()-1,n=0;n<this._levelsArray[0].length;n++)if(this._levelsArray[0][n]){var o=this.getStartIndex(n,0),s=this.getEndIndex(n,0);null!=(t=this._renderGridAtLabels?this.getCoordAt(o+.5*(s-o)):s+.5<i?this.getCoordAt(s+.5):null)&&e.push(t)}return e},t.GroupAxisInfo.prototype.getMinorTickCoords=function(){var t,e=[];if(!this._levelsArray[1])return e;for(var i=0;i<this._levelsArray[1].length;i++)if(this._levelsArray[1][i]){var n=this.getStartIndex(i,1),o=this.getEndIndex(i,1);null!=(t=this._renderGridAtLabels?this.getCoordAt(n+.5*(o-n)):o+.5<this.getGroupCount()-1?this.getCoordAt(o+.5):null)&&e.push(t)}return e},t.GroupAxisInfo.prototype.getUnboundedValueAt=function(t){if(null==t)return null;if(this._groupWidthRatios){for(var e=this._borderCoords.length,i=0;i<this._borderCoords.length;i++)if(t<=this._borderCoords[i]){e=i;break}return 0==e?this._borderValues[0]-(this._borderCoords[0]-t)/this._groupWidths[0]:this._borderValues[e-1]+(t-this._borderCoords[e-1])/this._groupWidths[e]}var n=(this.EndCoord-this.StartCoord)/(this.MaxValue-this.MinValue);return this.MinValue+(t-this.StartCoord)/n},t.GroupAxisInfo.prototype.getUnboundedCoordAt=function(t){if(null==t)return null;if(this._groupWidthRatios){for(var e=this._borderValues.length,i=0;i<this._borderValues.length;i++)if(t<=this._borderValues[i]){e=i;break}return 0==e?this._borderCoords[0]-this._groupWidths[0]*(this._borderValues[0]-t):this._borderCoords[e-1]+this._groupWidths[e]*(t-this._borderValues[e-1])}var n=(this.EndCoord-this.StartCoord)/(this.MaxValue-this.MinValue);return this.StartCoord+(t-this.MinValue)*n},t.GroupAxisInfo.prototype.getLabelAt=function(t,e){if(null==e&&(e=this._numLevels-1),(t=Math.round(t))<0)return null;var i=this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].item:null;return i&&(i.name?i=i.name:null!=i.id&&(i="")),i},t.GroupAxisInfo.prototype.getGroupAt=function(t,e){if(null==e&&(e=this._numLevels-1),(t=Math.round(t))<0)return null;var i=this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].item:null;if(i){if(i.id)return i.id;if(i.name||""==i.name)return i.name}return i},t.GroupAxisInfo.prototype.getLabelStyleAt=function(e,i){var n=this._getGroupAttribute(e,i,"labelStyle");if(n){var o=new t.CSSStyle(n);return o.getStyle("font-size")||o.setStyle("font-size",this.Options.tickLabel.style.getStyle("font-size")),o}return null},t.GroupAxisInfo.prototype.getDatatip=function(t,e){return this._getGroupAttribute(t,e,"shortDesc")},t.GroupAxisInfo.prototype.getAction=function(t,e){return this._getGroupAttribute(t,e,"action")},t.GroupAxisInfo.prototype.isDrillable=function(t,e){var i=this._getGroupAttribute(t,e,"drilling");return"on"==i||"off"!=i&&("on"==this._drilling||"groupsOnly"==this._drilling)},t.GroupAxisInfo.prototype.getGroup=function(t,e){if(t<0||t>this.getGroupCount()-1)return null;if(1==this._numLevels)return this.getGroupAt(t);var i=[];null==e&&(e=this._numLevels-1);for(var n=this.getStartIndex(t,e),o=0;o<=e;o++)for(var s=this._levelsArray[o],r=0;r<s.length;r++)this.getStartIndex(r,o)<=n&&this.getEndIndex(r,o)>=n&&i.push(this.getGroupAt(r,o));return i.length>0?1==i.length?i[0]:i:null},t.GroupAxisInfo.prototype.getLabelBackground=function(e,i,n){null==n&&(n=this._numLevels-1);var o=e.getCSSStyle();if(o){var s=o.getStyle(t.CSSStyle.BACKGROUND_COLOR),r=o.getStyle(t.CSSStyle.BORDER_COLOR),a=o.getStyle(t.CSSStyle.BORDER_WIDTH),l=o.getStyle(t.CSSStyle.BORDER_RADIUS);if(null!=s||null!=r||null!=a||null!=l){var h=e.getDimensions(),u=.15*h.h;(t.Agent.isBrowserChrome()||t.Agent.isPlatformIE())&&e.getVertAlignment()===t.OutputText.V_ALIGN_BOTTOM&&(h.y+=h.h/2);var g=new t.Rect(i,h.x-u,h.y,h.w+2*u,h.h),f=new t.CSSStyle;return null!=s?f.setStyle(t.CSSStyle.BACKGROUND_COLOR,s):g.setInvisibleFill(),f.setStyle(t.CSSStyle.BORDER_COLOR,r),f.setStyle(t.CSSStyle.BORDER_WIDTH,a),f.setStyle(t.CSSStyle.BORDER_RADIUS,l),g.setCSSStyle(f),this._isLabelRotated[n]&&g.setMatrix(e.getMatrix()),g.setMouseEnabled(!1),g}return null}return null},t.GroupAxisInfo.prototype.getGroupIndex=function(e){if(null==e)return-1;for(var i=-1,n=0;n<this._groupCount;n++){var o=this.getGroup(n);if(e instanceof Array&&o instanceof Array?t.ArrayUtils.equals(e,o):e==o){i=n;break}}return i},t.GroupAxisInfo.prototype.getMinimumExtent=function(){return 1},t.GroupAxisInfo.prototype.getGroupWidth=function(){return Math.abs(this.EndCoord-this.StartCoord)/Math.abs(this.MaxValue-this.MinValue)},t.GroupAxisInfo.prototype.getGroupCount=function(){return this._groupCount},t.GroupAxisInfo.prototype.getNumLevels=function(){return this._numLevels},t.GroupAxisInfo.prototype._generateLevelsArray=function(t,e,i,n){for(var o=0;o<t.length;o++)if(i[e]||(i[e]=[]),i[e].push({item:t[o],start:n,end:n,position:o}),t[o]&&t[o].groups){var s=i[e].length-1,r=this._generateLevelsArray(t[o].groups,e+1,i,i[e][s].start);n!=r?(i[e][s].end=r-1,n=r):n++}else n++;return n},t.GroupAxisInfo.prototype._getGroupAttribute=function(t,e,i){null==e&&(e=this._numLevels-1);var n=this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].item:null;return n?n[i]:null},t.GroupAxisInfo.prototype.areSeparatorsRendered=function(){return this._areSeparatorsRendered},t.GroupAxisInfo.prototype.getSeparatorColor=function(){return this._separatorColor},t.GroupAxisInfo.prototype.getStartIndex=function(t,e){return null==e&&(e=this._numLevels-1),this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].start:null},t.GroupAxisInfo.prototype.getEndIndex=function(t,e){return null==e&&(e=this._numLevels-1),this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].end:null},t.GroupAxisInfo.prototype.getPosition=function(t,e){return null==e&&(e=this._numLevels-1),this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].position:null},t.GroupAxisInfo.prototype.isRenderGridAtLabels=function(){return this._renderGridAtLabels},t.GroupAxisInfo.prototype.setLastRenderedLevel=function(t){this._lastRenderedLevel=t},t.GroupAxisInfo.prototype.getLastRenderedLevel=function(){return this._lastRenderedLevel},t.GroupAxisInfo.prototype.getSeparatorStartLevel=function(){for(var t=this._lastRenderedLevel,e=this._lastRenderedLevel-1;e>=0;e--)this._labels[e].length!=this._levelsArray[e].length&&(t=e);return t},t.GroupAxisInfo.prototype.getLabelIndex=function(t){return t._index>=0?t._index:null},t.GroupAxisInfo.prototype.getMaxLineWrap=function(){return this._maxLineWrap},t.GroupAxisInfo.prototype._isTextWrapNeeded=function(e,i,n,o,s){var r=t.TextUtils.getTextStringWidth(e,i,n);return r>=s&&(r/this._maxLineWrap<s||!o)},t.GroupAxisInfo.prototype.isAutoRotate=function(){var e="top"==this.Position||"bottom"==this.Position,i=this._numLevels>1,n=this.getGroupWidth(),o="auto"==this.Options.tickLabel.rotation&&e;return!i&&o&&n<t.GroupAxisInfo._ROTATE_THRESHOLD},t.GroupAxisInfo.prototype.getSkipIncrement=function(){var e=1;return e=t.GroupAxisInfo._ROTATE_THRESHOLD/(2*this.getGroupWidth()),this.Options._duringZoomAndScroll&&(e*=4),Math.max(1,Math.floor(e))};var a=function(t,e,i,n,o,s,r,a){this.Init(t,e,i,n,o,s,r,a)};t.Obj.createSubclass(a,t.SimpleObjPeer),a.prototype.Init=function(e,i,n,o,s,r,l,h){a.superclass.Init.call(this,r,l,null,h),this._axis=e,this._label=i,this._group=n,this._action=o,this._drillable=s,(this._action||this._drillable)&&i.setCursor(t.SelectionEffectUtils.getSelectingCursor()),e.__registerObject(this)},a.prototype.getLabel=function(){return this._label},a.prototype.getId=function(){return this._group},a.prototype.getAction=function(){return this._action},a.prototype.isDrillable=function(){return this._drillable},a.prototype.getGroup=function(){return this._group},a.prototype.getNextNavigable=function(e){if(e.type==t.MouseEvent.CLICK)return this;var i=this._axis.__getKeyboardObjects();return t.KeyboardHandler.getNextNavigable(this,e,i,!1,this._axis.getCtx().getStage())},a.prototype.getKeyboardBoundingBox=function(e){return this._label?this._label.getDimensions(e):new t.Rectangle(0,0,0,0)},a.prototype.getDisplayable=function(){return this._label},a.prototype.getTargetElem=function(){return this._label?this._label.getElem():null},a.prototype.showKeyboardFocusEffect=function(){if(this._isShowingKeyboardFocusEffect=!0,this._label){var e=this.getKeyboardBoundingBox();this._overlayRect=new t.Rect(this._axis.getCtx(),e.x,e.y,e.w,e.h),this._overlayRect.setSolidStroke(t.Agent.getFocusColor()),this._overlayRect.setInvisibleFill(),this._overlayRect.setMatrix(this._label.getMatrix()),this._axis.addChild(this._overlayRect)}},a.prototype.hideKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!1,this._label&&(this._axis.removeChild(this._overlayRect),this._overlayRect=null)},a.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},a.prototype.getAriaLabel=function(){var e;return this.isDrillable()&&(e=[t.Bundle.getTranslation(this._axis.getOptions(),"stateDrillable",t.Bundle.UTIL_PREFIX,"STATE_DRILLABLE")]),null!=this.getDatatip()?t.Displayable.generateAriaLabel(this.getDatatip(),e):null!=e?t.Displayable.generateAriaLabel(this.getLabel().getTextString(),e):void 0},a.prototype.isDragAvailable=function(t){return!0},a.prototype.getDragTransferable=function(t,e){return[this.getId()]},a.prototype.getDragFeedback=function(t,e){return[this.getDisplayable()]},t.LinearScaleAxisValueFormatter=function(t,e,i,n,o,s){this.Init(t,e,i,n,o,s)},t.Obj.createSubclass(t.LinearScaleAxisValueFormatter,t.Obj),t.LinearScaleAxisValueFormatter.SCALE_NONE="none",t.LinearScaleAxisValueFormatter.SCALE_AUTO="auto",t.LinearScaleAxisValueFormatter.SCALE_THOUSAND="thousand",t.LinearScaleAxisValueFormatter.SCALE_MILLION="million",t.LinearScaleAxisValueFormatter.SCALE_BILLION="billion",t.LinearScaleAxisValueFormatter.SCALE_TRILLION="trillion",t.LinearScaleAxisValueFormatter.SCALE_QUADRILLION="quadrillion",t.LinearScaleAxisValueFormatter.SCALING_FACTOR_DIFFERENCE=3,t.LinearScaleAxisValueFormatter.prototype.Init=function(t,e,i,n,o,s){this._context=t,this._scales={},this._scalesOrder=[],this._factorToScaleMapping={},this.InitScales(),this.InitFormatter(e,i,n,o,s)},t.LinearScaleAxisValueFormatter.prototype.InitScales=function(){var e=function(e,i,n){var o;n&&(o=t.Bundle.getTranslatedString(t.Bundle.UTIL_PREFIX,n));var s={scaleFactor:i,localizedSuffix:o};this._scales[e]=s,this._scalesOrder.push(s),this._factorToScaleMapping[i]=s},i=t.LinearScaleAxisValueFormatter.SCALING_FACTOR_DIFFERENCE;e.call(this,t.LinearScaleAxisValueFormatter.SCALE_NONE,0*i),e.call(this,t.LinearScaleAxisValueFormatter.SCALE_THOUSAND,1*i,"SCALING_SUFFIX_THOUSAND"),e.call(this,t.LinearScaleAxisValueFormatter.SCALE_MILLION,2*i,"SCALING_SUFFIX_MILLION"),e.call(this,t.LinearScaleAxisValueFormatter.SCALE_BILLION,3*i,"SCALING_SUFFIX_BILLION"),e.call(this,t.LinearScaleAxisValueFormatter.SCALE_TRILLION,4*i,"SCALING_SUFFIX_TRILLION"),e.call(this,t.LinearScaleAxisValueFormatter.SCALE_QUADRILLION,5*i,"SCALING_SUFFIX_QUADRILLION"),this._scalesOrder.sort(function(t,e){return t.scaleFactor<e.scaleFactor?-1:t.scaleFactor>e.scaleFactor?1:0})},t.LinearScaleAxisValueFormatter.prototype.InitFormatter=function(t,e,i,n,o){var s,r,a=!1,l=!1;if("off"!==o&&(l=!0),"number"!=typeof(r=this._getScaleFactor(n))&&(a=!0),a){var h=Math.max(Math.abs(t),Math.abs(e)),u=this._getPowerOfTen(h);r=this._findNearestLEScaleFactor(u)}if(!0===l)if(0==i&&t==e){var g=r-this._getPowerOfTen(e);s=g<=0?Math.max(g+3,0):Math.max(g,4)}else{var f=this._getPowerOfTen(i);s=Math.max(r-f,0)}this._useAutoPrecision=l,this._scaleFactor=r,this._decimalPlaces=s},t.LinearScaleAxisValueFormatter.prototype._findNearestLEScaleFactor=function(t){var e=0;if(t<=this._scalesOrder[0].scaleFactor)e=this._scalesOrder[0].scaleFactor;else if(t>=this._scalesOrder[this._scalesOrder.length-1].scaleFactor)e=this._scalesOrder[this._scalesOrder.length-1].scaleFactor;else for(var i=this._scalesOrder.length-1;i>=0;i--)if(this._scalesOrder[i].scaleFactor<=t){e=this._scalesOrder[i].scaleFactor;break}return e},t.LinearScaleAxisValueFormatter.prototype._getScaleFactor=function(e){e||(e=t.LinearScaleAxisValueFormatter.SCALE_AUTO);var i,n=this._scales[e];return n&&(i=n.scaleFactor),i},t.LinearScaleAxisValueFormatter.prototype.format=function(t,e){var i=null!=t?parseFloat(t):t;if("number"==typeof i){var n;if(this._scaleFactor>0){for(var o=0;o<this._scaleFactor;o++)i/=10;n=this._factorToScaleMapping[this._scaleFactor].localizedSuffix}if(e&&e.getAsString)i=e.getAsString(i);else if(e&&e.format)i=e.format(i);else{var s=this._context.getNumberConverter({minimumFractionDigits:this._decimalPlaces,maximumFractionDigits:this._decimalPlaces});s&&s.format?i=s.format(i):this._useAutoPrecision&&(i=parseFloat(new Number(i).toFixed(this._decimalPlaces)),i=this._formatFraction(i))}return"string"==typeof n&&0!=t&&(i+=n),i}return t},t.LinearScaleAxisValueFormatter.prototype._formatFraction=function(e){var i,n=e.toString();if(-1!=n.indexOf("e"))return n;if(i=t.Bundle.getTranslatedString(t.Bundle.UTIL_PREFIX,"NUMBER_FORMAT_DECIMAL_SEPARATOR"),this._decimalPlaces>0){-1==n.indexOf(".")?n+=i:n=n.replace(".",i);for(var o=n.substring(n.indexOf(i)+1).length;o<this._decimalPlaces;)n+="0",o++}return n},t.LinearScaleAxisValueFormatter.prototype._getPowerOfTen=function(t){var e=0;if((t=t>=0?t:-t)<1e-15)return 0;if(t==1/0)return Number.MAX_VALUE;if(t>=10)for(;t>=10;)e+=1,t/=10;else if(t<1)for(;t<1;)e-=1,t*=10;return e},t.TimeAxisInfo=function(t,e,i){this.Init(t,e,i)},t.Obj.createSubclass(t.TimeAxisInfo,t.AxisInfo),t.TimeAxisInfo.TIME_SECOND=1e3,t.TimeAxisInfo.TIME_MINUTE=60*t.TimeAxisInfo.TIME_SECOND,t.TimeAxisInfo.TIME_HOUR=60*t.TimeAxisInfo.TIME_MINUTE,t.TimeAxisInfo.TIME_DAY=24*t.TimeAxisInfo.TIME_HOUR,t.TimeAxisInfo.TIME_MONTH_MIN=28*t.TimeAxisInfo.TIME_DAY,t.TimeAxisInfo.TIME_MONTH_MAX=31*t.TimeAxisInfo.TIME_DAY,t.TimeAxisInfo.TIME_YEAR_MIN=365*t.TimeAxisInfo.TIME_DAY,t.TimeAxisInfo.TIME_YEAR_MAX=366*t.TimeAxisInfo.TIME_DAY,t.TimeAxisInfo.prototype.Init=function(e,i,n){t.TimeAxisInfo.superclass.Init.call(this,e,i,n),"top"==this.Position||"bottom"==this.Position?(i._isOverview||"on"!=i.tickLabel.rendered||(this.StartOverflow=Math.max(t.Axis.MINIMUM_AXIS_BUFFER-i.leftBuffer,0),this.EndOverflow=Math.max(t.Axis.MINIMUM_AXIS_BUFFER-i.rightBuffer,0)),t.Agent.isRightToLeft(e)?(this._startCoord=this.EndCoord-this.EndOverflow,this._endCoord=this.StartCoord+this.StartOverflow):(this._startCoord=this.StartCoord+this.StartOverflow,this._endCoord=this.EndCoord-this.EndOverflow)):(this._startCoord=this.StartCoord,this._endCoord=this.EndCoord);var o=null!=i.tickLabel?i.tickLabel.converter:null;this._label1Converter=o&&o[0]?o[0]:o,this._label2Converter=o&&o[1]?o[1]:null,this._dateToIsoWithTimeZoneConverter=e.getLocaleHelpers().dateToIsoWithTimeZoneConverter,this._groups=i.groups;var s=i.timeAxisType;this._skipGaps="skipGaps"==s,this._mixedFrequency="mixedFrequency"==s,this.DataMin=i.dataMin,this.DataMax=i.dataMax,this._groups.length>1?this._averageInterval=(this.DataMax-this.DataMin)/(this._groups.length-1):this.DataMax-this.DataMin>0?this._averageInterval=this.DataMax-this.DataMin:this._averageInterval=6*t.TimeAxisInfo.TIME_MINUTE,this._step=i.step;var r=i.endGroupOffset>0?i.endGroupOffset*this._averageInterval:0,a=i.startGroupOffset>0?i.startGroupOffset*this._averageInterval:0;this.GlobalMin=null!=i.min?i.min:this.DataMin-a,this.GlobalMax=null!=i.max?i.max:this.DataMax+r,null!=i.viewportStartGroup&&(this.MinValue=i.viewportStartGroup-a),null!=i.viewportEndGroup&&(this.MaxValue=i.viewportEndGroup+r),null!=i.viewportMin&&(this.MinValue=i.viewportMin),null!=i.viewportMax&&(this.MaxValue=i.viewportMax),null==this.MinValue&&(this.MinValue=this.GlobalMin),null==this.MaxValue&&(this.MaxValue=this.GlobalMax),this.GlobalMin>this.MinValue&&(this.GlobalMin=this.MinValue),this.GlobalMax<this.MaxValue&&(this.GlobalMax=this.MaxValue),this._timeRange=this.MaxValue-this.MinValue,this._level1Labels=null,this._level2Labels=null,this._level1Coords=null,this._level2Coords=null,this._isOneLevel=!0,this._level1Overflow=[],this._level2Overflow=[],this._locale=i._locale.toLowerCase(),this._monthResources=[t.Bundle.getTranslatedString(t.Bundle.UTIL_PREFIX,"MONTH_SHORT_JANUARY"),t.Bundle.getTranslatedString(t.Bundle.UTIL_PREFIX,"MONTH_SHORT_FEBRUARY"),t.Bundle.getTranslatedString(t.Bundle.UTIL_PREFIX,"MONTH_SHORT_MARCH"),t.Bundle.getTranslatedString(t.Bundle.UTIL_PREFIX,"MONTH_SHORT_APRIL"),t.Bundle.getTranslatedString(t.Bundle.UTIL_PREFIX,"MONTH_SHORT_MAY"),t.Bundle.getTranslatedString(t.Bundle.UTIL_PREFIX,"MONTH_SHORT_JUNE"),t.Bundle.getTranslatedString(t.Bundle.UTIL_PREFIX,"MONTH_SHORT_JULY"),t.Bundle.getTranslatedString(t.Bundle.UTIL_PREFIX,"MONTH_SHORT_AUGUST"),t.Bundle.getTranslatedString(t.Bundle.UTIL_PREFIX,"MONTH_SHORT_SEPTEMBER"),t.Bundle.getTranslatedString(t.Bundle.UTIL_PREFIX,"MONTH_SHORT_OCTOBER"),t.Bundle.getTranslatedString(t.Bundle.UTIL_PREFIX,"MONTH_SHORT_NOVEMBER"),t.Bundle.getTranslatedString(t.Bundle.UTIL_PREFIX,"MONTH_SHORT_DECEMBER")]},t.TimeAxisInfo._getAMString=function(t){var e=t.substring(0,2);if("en-au"==t||"en-ie"==t||"en-ph"==t)return"am";if("en-gb"==t)return"";switch(e){case"en":return"AM";case"ar":return"";case"el":return"";case"ko":return"";case"zh":return"";default:return""}},t.TimeAxisInfo._getPMString=function(t){var e=t.substring(0,2);if("en-au"==t||"en-ie"==t||"en-ph"==t)return"pm";if("en-gb"==t)return"";switch(e){case"en":return"PM";case"ar":return"";case"el":return"";case"ko":return"";case"zh":return"";default:return""}},t.TimeAxisInfo._getAMPMBefore=function(t){var e=t.substring(0,2);return"ko"==e||"zh"==e},t.TimeAxisInfo._getDMYOrder=function(t){var e=t.substring(0,2);return"en-us"==t||"en-ph"==t?"MDY":"fa"==e||"hu"==e||"ja"==e||"ko"==e||"lt"==e||"mn"==e||"zh"==e?"YMD":"DMY"},t.TimeAxisInfo._getYearTrailingCharacters=function(t){return 0==t.indexOf("ja")||0==t.indexOf("zh")?"":0==t.indexOf("ko")?"":""},t.TimeAxisInfo._getDayTrailingCharacters=function(t){return 0==t.indexOf("ja")||0==t.indexOf("zh")?"":0==t.indexOf("ko")?"":""},t.TimeAxisInfo.prototype.formatLabel=function(e){var i=new Date(e),n=this._formatAxisLabel(i,null,!0);return null!=n[1]?"YMD"==t.TimeAxisInfo._getDMYOrder(this._locale)||this._timeRange<t.TimeAxisInfo.TIME_MONTH_MIN&&this._step<t.TimeAxisInfo.TIME_DAY?n[1]+" "+n[0]:n[0]+" "+n[1]:n[0]},t.TimeAxisInfo.prototype._formatAxisLabelWithConverter=function(t,e,i){if(i){var n=null,o=null;if(i.getAsString?(n=i.getAsString(t),o=i.getAsString(e)):i.format&&(n=i.format(this._dateToIsoWithTimeZoneConverter&&t?this._dateToIsoWithTimeZoneConverter(t):t),o=i.format(this._dateToIsoWithTimeZoneConverter&&e?this._dateToIsoWithTimeZoneConverter(e):e)),o!=n)return n}return null},t.TimeAxisInfo.prototype._formatAxisLabel=function(e,i,n){var o=null,s=null,r="left"==this.Position||"right"==this.Position;return this._label1Converter||this._label2Converter?(this._label1Converter&&(o=this._formatAxisLabelWithConverter(e,i,this._label1Converter)),this._label2Converter&&(s=this._formatAxisLabelWithConverter(e,i,this._label2Converter)),[o,s]):(this._step>=t.TimeAxisInfo.TIME_YEAR_MIN||this._timeRange>=6*t.TimeAxisInfo.TIME_YEAR_MIN?o=this._formatDate(e,!1,!1,!0):this._step>=t.TimeAxisInfo.TIME_MONTH_MIN||this._timeRange>=6*t.TimeAxisInfo.TIME_MONTH_MIN?(null!=i&&i.getMonth()==e.getMonth()||(o=this._formatDate(e,!1,!0,!1)),null!=i&&i.getYear()==e.getYear()||(s=this._formatDate(e,!1,!1,!0))):this._step>=t.TimeAxisInfo.TIME_DAY||this._timeRange>=6*t.TimeAxisInfo.TIME_DAY?n?o=this._formatDate(e,!0,!0,!0):(null!=i&&i.getDate()==e.getDate()||(o=this._formatDate(e,!0,!1,!1)),
null==i||i.getYear()!=e.getYear()?s=this._formatDate(e,!1,!0,!0):i.getMonth()!=e.getMonth()&&(s=this._formatDate(e,!1,!0,!1))):(this._step>=t.TimeAxisInfo.TIME_HOUR||this._timeRange>=6*t.TimeAxisInfo.TIME_HOUR?null!=i&&i.getHours()==e.getHours()||(o=this._formatTime(e,!1,!1)):this._step>=t.TimeAxisInfo.TIME_MINUTE||this._timeRange>=6*t.TimeAxisInfo.TIME_MINUTE?null!=i&&i.getMinutes()==e.getMinutes()||(o=this._formatTime(e,!0,!1)):null!=i&&i.getSeconds()==e.getSeconds()||(o=this._formatTime(e,!0,!0)),r?null!=i&&i.getDate()==e.getDate()||(s=this._formatDate(e,!0,!0,!1)):null==i||i.getYear()!=e.getYear()?s=this._formatDate(e,!0,!0,!0):i.getMonth()!=e.getMonth()?s=this._formatDate(e,!0,!0,!1):i.getDate()!=e.getDate()&&(s=this._formatDate(e,!0,!1,!1))),[o,s])},t.TimeAxisInfo.prototype._formatDate=function(e,i,n,o){var s,r="th"==this._locale.substring(0,2)&&"jet"!=this.Options._environment?e.getFullYear()+543:e.getFullYear();s=this._monthResources&&this._monthResources.length>=12?this._monthResources[e.getMonth()]:e.toString().split(" ")[1];var a=e.getDate();r+=t.TimeAxisInfo._getYearTrailingCharacters(this._locale),a+=t.TimeAxisInfo._getDayTrailingCharacters(this._locale);for(var l=t.TimeAxisInfo._getDMYOrder(this._locale),h="",u=0;u<l.length;u++)i&&"D"==l[u]?h+=a+" ":n&&"M"==l[u]?h+=s+" ":o&&"Y"==l[u]&&(h+=r+" ");return h.length>0?h.slice(0,h.length-1):h},t.TimeAxisInfo.prototype._formatTime=function(e,i,n){var o,s=e.getHours(),r=e.getMinutes(),a=e.getSeconds(),l=t.TimeAxisInfo._getAMString(this._locale),h=t.TimeAxisInfo._getPMString(this._locale),u=t.TimeAxisInfo._getAMPMBefore(this._locale),g=""!=l&&""!=h,f="";return t.Agent.isRightToLeft(this.getCtx())&&(f=""),g?(s<12?(o=l,0==s&&(s=12)):(o=h,s>12&&(s-=12)),f+=s,(i||0!=r)&&(f+=":"+this._doubleDigit(r))):f+=this._doubleDigit(s)+":"+this._doubleDigit(r),n&&(f+=":"+this._doubleDigit(a)),g?u?o+" "+f:f+" "+o:f},t.TimeAxisInfo.prototype._doubleDigit=function(t){return t<10?"0"+t:""+t},t.TimeAxisInfo.prototype._getMixedFrequencyStep=function(){return this._timeRange>=6*t.TimeAxisInfo.TIME_YEAR_MIN?t.TimeAxisInfo.TIME_YEAR_MIN:this._timeRange>=6*t.TimeAxisInfo.TIME_MONTH_MIN?t.TimeAxisInfo.TIME_MONTH_MIN:this._timeRange>=6*t.TimeAxisInfo.TIME_DAY?t.TimeAxisInfo.TIME_DAY:this._timeRange>=t.TimeAxisInfo.TIME_DAY?3*t.TimeAxisInfo.TIME_HOUR:this._timeRange>=6*t.TimeAxisInfo.TIME_HOUR?t.TimeAxisInfo.TIME_HOUR:this._timeRange>=t.TimeAxisInfo.TIME_HOUR?15*t.TimeAxisInfo.TIME_MINUTE:this._timeRange>=30*t.TimeAxisInfo.TIME_MINUTE?5*t.TimeAxisInfo.TIME_MINUTE:this._timeRange>=6*t.TimeAxisInfo.TIME_MINUTE?t.TimeAxisInfo.TIME_MINUTE:this._timeRange>=t.TimeAxisInfo.TIME_MINUTE?15*t.TimeAxisInfo.TIME_SECOND:this._timeRange>=30*t.TimeAxisInfo.TIME_SECOND?5*t.TimeAxisInfo.TIME_SECOND:t.TimeAxisInfo.TIME_SECOND},t.TimeAxisInfo._getLabelPositions=function(e,i,n){var o=new Date(e),s=o.getTimezoneOffset();o.setMonth(0,1),o.setHours(0,0,0,0);var r=60*(s-o.getTimezoneOffset())*1e3,a=o.getTime()+r,l=[];if(n>=t.TimeAxisInfo.TIME_YEAR_MIN&&n<=t.TimeAxisInfo.TIME_YEAR_MAX){for(;a<e;)a=t.TimeAxisInfo._addOneYear(a);for(;a<=i;)l.push(a),a=t.TimeAxisInfo._addOneYear(a)}else if(n>=t.TimeAxisInfo.TIME_MONTH_MIN&&n<=t.TimeAxisInfo.TIME_MONTH_MAX){for(;a<e;)a=t.TimeAxisInfo._addOneMonth(a);for(;a<=i;)l.push(a),a=t.TimeAxisInfo._addOneMonth(a)}else for(a+=Math.ceil((e-a)/n)*n;a<=i;)l.push(a),a+=n;return l},t.TimeAxisInfo._addOneYear=function(t){var e=new Date(t);return e.setFullYear(e.getFullYear()+1),e.getTime()},t.TimeAxisInfo._addOneMonth=function(t){var e=new Date(t);return e.setMonth(e.getMonth()+1),e.getTime()},t.TimeAxisInfo.prototype._generateLabels=function(e){var i=[],n=[],o=[],s=[],r=[],a=null,l=0,h=0,u=e.getStage(e),g=t.Agent.isRightToLeft(e),f="left"==this.Position||"right"==this.Position,_="off"!=this.Options.zoomAndScroll,p=!0,c=0;f&&t.Agent.isBrowserChrome()&&(c=.16*this.getTickLabelHeight());var d=[];if(null!=this._step)d=t.TimeAxisInfo._getLabelPositions(this.MinValue,this.MaxValue,this._step);else if(this._mixedFrequency)this._step=this._getMixedFrequencyStep(),d=t.TimeAxisInfo._getLabelPositions(this.MinValue,this.MaxValue,this._step);else{for(var x=0;x<this._groups.length;x++)this._groups[x]>=this.MinValue&&this._groups[x]<=this.MaxValue&&d.push(this._groups[x]);if(this._step=this._averageInterval,!this._skipGaps){var I;if(f)I=t.TextUtils.getTextStringHeight(e,this.Options.tickLabel.style);else{var m=this._formatAxisLabel(new Date(d[0]))[0];I=t.TextUtils.getTextStringWidth(e,m,this.Options.tickLabel.style)}(I+this.GetTickLabelGapSize())*(d.length-1)>Math.abs(this._endCoord-this._startCoord)&&(this._step=this._getMixedFrequencyStep(),d=t.TimeAxisInfo._getLabelPositions(this.MinValue,this.MaxValue,this._step))}}for(0==d.length&&(d=[this.MinValue]),x=0;x<d.length;x++){var A=d[x],M=this.getCoordAt(A);if(null!=M){var T=new Date(A),v=this._formatAxisLabel(T,a),b=v[0],L=v[1];if(null!=b?(o.push({text:b,coord:null!=L?M+c:M}),s.push(M),l++):(o.push(null),s.push(null)),i.push(null),_&&p&&(M=this.MinValue?this.getCoordAt(this.MinValue):M),p=!1,null!=L){var S=this.CreateLabel(e,L,null!=L?M-c:M);r.push(M),f||(g?S.alignRight():S.alignLeft()),n.push(S),this._isOneLevel=!1,h++}else n.push(null),r.push(null);a=T}}if(l=this._skipLabelsUniform(o,i,u,!1,g),!_&&h>1&&l<1.5*h){i=n,n=null;for(var C=0;C<i.length;C++)null!=i[C]&&i[C].alignCenter();l=this._skipLabelsGreedy(i,this.GetLabelDims(i,u),!1,g)}else 0==(h=this._skipLabelsGreedy(n,this.GetLabelDims(n,u),!0,g))&&(n=null);f&&null!=n&&this._skipVertLabels(i,n,u),this._level1Labels=i,this._level2Labels=n,this._level1Coords=s,this._level2Coords=r},t.TimeAxisInfo._isOverlapping=function(t,e,i,n,o){return i>=t&&i-o<e||i<t&&n+o>t},t.TimeAxisInfo.prototype._getLabelOverflow=function(t,e,i,n){var o=t-(i?n?e:0:.5*e);if(o<this.Options._minOverflowCoord)return Math.floor(o-this.Options._minOverflowCoord);var s=t+(i?n?0:e:.5*e);return s>this.Options._maxOverflowCoord?Math.ceil(s-this.Options._maxOverflowCoord):0},t.TimeAxisInfo.prototype._skipLabelsGreedy=function(e,i,n,o){if(!i||i.length<=0)return!1;for(var s,r,a,l,h,u="left"==this.Position||"right"==this.Position,g=this.getTickLabelHeight(),f=u?.08*g:.24*g,_=0,p=Math.abs(this._endCoord-this._startCoord),c=0;c<i.length;c++)if(this._level2Overflow.push(0),null!=e[c]){var d=(h=e[c]).getDimensions().w;if(i[c].w>p)e[c]=null;else{var x=this._getLabelOverflow(h.getX(),d,n,o);this._level2Overflow[c]=x,0!=x&&(h.setX(h.getX()-x),i[c].x-=x)}}for(c=0;c<i.length;c++)null!=i[c]&&(u?(a=i[c].y,l=i[c].y+i[c].h):(a=i[c].x,l=i[c].x+i[c].w),null!=s&&null!=r&&t.TimeAxisInfo._isOverlapping(s,r,a,l,f)&&(e[c]=null),null!=e[c]&&(s=a,r=l,_++));return _},t.TimeAxisInfo.prototype._skipLabelsUniform=function(t,e,i,n){for(var o=[],s=[],r=Math.abs(this._endCoord-this._startCoord),a=0;a<t.length;a++)null!=t[a]&&(o.push(t[a]),s.push(null),this._level1Overflow.push(0));for(var l="left"==this.Position||"right"==this.Position,h=this,u=function(t){if(null==s[t])if(o[t].label=h.CreateLabel(i.getCtx(),o[t].text,o[t].coord),s[t]=o[t].label.getDimensions(i),s[t].w>r)o[t].label=null,s[t].w=0,s[t].h=0;else{var e=h._getLabelOverflow(o[t].coord,s[t].w,!1,n);0!=e&&(o[t].coord-=e,s[t].x-=e,o[t].label.setX(o[t].label.getX()-e),h._level1Overflow[t]=e)}return l?s[t].h:s[t].w},g=(u(0)+this.GetTickLabelGapSize())*(o.length-1),f=r>0?Math.ceil(g/r)-1:0,_=!0;_;){for(a=0;a<o.length;a++)a%(f+1)==0?(u(a),o[a].skipped=!1):o[a].skipped=!0;_=this.IsOverlapping(s,f),f++}var p=0;for(a=0;a<t.length;a++)null==t[a]||t[a].skipped||(e[a]=t[a].label,p++);return p},t.TimeAxisInfo.prototype._skipVertLabels=function(e,i,n){for(var o=.08*this.getTickLabelHeight(),s=function(e,i){return t.TimeAxisInfo._isOverlapping(e.y,e.y+e.h,i.y,i.y+i.h,o)},r=null,a=!1,l=0;l<e.length;l++)if(e[l]&&i[l]){if(e[l].alignTop(),i[l].alignBottom(),r&&s(r,i[l].getDimensions())){a=!0;break}r=e[l].getDimensions()}else if(e[l]||i[l]){var h=e[l]?e[l]:i[l];if(r&&s(r,h.getDimensions())){a=!0;break}r=h.getDimensions()}if(a){var u,g=null,f=null,_=null;for(l=0;l<e.length;l++)i[l]?(e[l]=null,i[l].alignMiddle(),u=i[l].getDimensions(),f&&s(f,u)&&(e[g]=null),_=u):e[l]&&(u=e[l].getDimensions(),_&&s(_,u)?e[l]=null:(f=u,g=l))}},t.TimeAxisInfo.prototype.getLabels=function(t,e){return e&&e>1?null:(this._level1Labels||this._generateLabels(t),1==e?this._level2Labels:this._level1Labels)},t.TimeAxisInfo.prototype.getMajorTickCoords=function(){var t=[];if(this._isOneLevel)for(var e=0;e<this._level1Coords.length;e++)null!=this._level1Coords[e]&&null!=this._level1Labels[e]&&t.push(this._level1Coords[e]);else for(e=1;e<this._level2Coords.length;e++)null!=this._level2Coords[e]&&t.push(this._level2Coords[e]);return t},t.TimeAxisInfo.prototype.getMinorTickCoords=function(){if(this._isOneLevel)return[];for(var t=[],e=0;e<this._level1Coords.length;e++)null!=this._level1Coords[e]&&null!=this._level1Labels[e]&&t.push(this._level1Coords[e]);return t},t.TimeAxisInfo.prototype.getUnboundedValueAt=function(t){if(null==t)return null;var e=(t-this._startCoord)/(this._endCoord-this._startCoord);if(this._skipGaps){var i=this._timeToIndex(this.MinValue),n=this._timeToIndex(this.MaxValue);return this._indexToTime(i+e*(n-i))}return this.MinValue+e*(this.MaxValue-this.MinValue)},t.TimeAxisInfo.prototype.getUnboundedCoordAt=function(t){if(null==t)return null;var e;if(this._skipGaps){var i=this._timeToIndex(this.MinValue),n=this._timeToIndex(this.MaxValue);e=(this._timeToIndex(t)-i)/(n-i)}else e=(t-this.MinValue)/(this.MaxValue-this.MinValue);return this._startCoord+e*(this._endCoord-this._startCoord)},t.TimeAxisInfo.prototype.linearToActual=function(t){return null==t?null:this._skipGaps?this._indexToTime(t):t},t.TimeAxisInfo.prototype.actualToLinear=function(t){return null==t?null:this._skipGaps?this._timeToIndex(t):t},t.TimeAxisInfo.prototype._timeToIndex=function(t){for(var e=this._groups.length,i=0;i<this._groups.length;i++)if(t<=this._groups[i]){e=i;break}var n=e-1,o=void 0!==this._groups[n]?this._groups[n]:this._groups[0]-this._averageInterval;return n+(t-o)/((void 0!==this._groups[e]?this._groups[e]:this._groups[this._groups.length-1]+this._averageInterval)-o)},t.TimeAxisInfo.prototype._indexToTime=function(t){var e=Math.min(Math.max(Math.ceil(t),0),this._groups.length),i=e-1,n=void 0!==this._groups[i]?this._groups[i]:this._groups[0]-this._averageInterval;return n+(t-i)*((void 0!==this._groups[e]?this._groups[e]:this._groups[this._groups.length-1]+this._averageInterval)-n)},t.TimeAxisInfo.prototype.getGroupWidth=function(){return this._skipGaps?Math.abs(this.getUnboundedCoordAt(this._indexToTime(1))-this.getUnboundedCoordAt(this._indexToTime(0))):Math.abs(this.getUnboundedCoordAt(this.MinValue+this._averageInterval)-this.getUnboundedCoordAt(this.MinValue))},t.TimeAxisInfo.prototype.getMinimumExtent=function(){return this._skipGaps?1:this._mixedFrequency?Math.min((this.getGlobalMax()-this.getGlobalMin())/8,this._averageInterval):this._averageInterval},t.TimeAxisInfo.prototype.getStartOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!t.Agent.isRightToLeft(this.getCtx())?this.StartOverflow:this.EndOverflow},t.TimeAxisInfo.prototype.getEndOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!t.Agent.isRightToLeft(this.getCtx())?this.EndOverflow:this.StartOverflow}}(t),t});
define('ojs/internal-deps/dvt/DvtLegend',["./DvtToolkit"],function(e){return function(e){e.Legend=function(){},e.Obj.createSubclass(e.Legend,e.BaseComponent),e.Legend.newInstance=function(t,n,i){var o=new e.Legend;return o.Init(t,n,i),o},e.Legend.getDefaults=function(e){return(new n).getDefaults(e)},e.Legend.prototype.Init=function(t,o,r){e.Legend.superclass.Init.call(this,t,o,r),this.setId("legend1000"+Math.floor(1e9*Math.random())),this.Defaults=new n,this.EventManager=new i(this),this.EventManager.addListeners(this),this._peers=[],this._navigablePeers=[],this._bounds=null,this._titles=[]},e.Legend.prototype.SetOptions=function(e){this.getOptionsCache().clearCache(),e?(this.Options=this.Defaults.calcOptions(e),this._transferVisibilityProperties(this.Options.sections)):this.Options||(this.Options=this.GetDefaults())},e.Legend.prototype.getPreferredSize=function(t,n,i){this.SetOptions(t),this.getOptions().isLayout=!0;var o=new e.Rectangle(0,0,n,i),r=s.render(this,o);return this.getOptions().isLayout=!1,new e.Dimension(r.w,r.h)},e.Legend.prototype.render=function(t,n,i){this.getCache().clearCache(),this.SetOptions(t),isNaN(n)||isNaN(i)||(this.Width=n,this.Height=i),this.getOptions().isLayout=!1;for(var r=this.getNumChildren(),a=0;a<r;a++)this.getChildAt(a).destroy();this.removeChildren(),this._peers=[],this._navigablePeers=[],this._bounds=null,this._titles=[],e.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(new o(this.EventManager,this)),this.UpdateAriaAttributes();var l=new e.Rectangle(0,0,this.Width,this.Height);this._contentDimensions=s.render(this,l);var g=this.getOptions().highlightedCategories;return g&&g.length>0&&this.highlight(g),this.RenderComplete(),this._contentDimensions},e.Legend.prototype.highlight=function(t){this.getOptions().highlightedCategories=t&&t.length>0?t.slice():null,e.CategoryRolloverHandler.highlight(t,this.__getObjects(),!0)},e.Legend.prototype.processEvent=function(e,t){var n=e.type;if("categoryHighlight"==n&&"dim"==this.getOptions().hoverBehavior){var i=this.__getObjects();this!=t&&this.highlight(e.categories);for(var o=0;o<i.length;o++)if(i[o].getId()==e.categories){this.container.scrollIntoView(i[o].getDisplayables()[0]);break}}this!=t&&"adfShowPopup"!=n&&"adfHidePopup"!=n||this.dispatchEvent(e)},e.Legend.prototype.__registerObject=function(t){if(t.getDisplayables()[0]instanceof e.Button)this._navigablePeers.push(t);else{var n=this.getOptions().hideAndShowBehavior;(null!=t.getDatatip()||null!=t.getAction()||t.isDrillable()||"none"!=n&&"off"!=n)&&this._navigablePeers.push(t),this._peers.push(t)}},e.Legend.prototype.__getObjects=function(){return this._peers},e.Legend.prototype.__getKeyboardObjects=function(){return this._navigablePeers},e.Legend.prototype.__setBounds=function(e){this._bounds=e.clone()},e.Legend.prototype.__getBounds=function(){return this._bounds},e.Legend.prototype.__registerTitle=function(e){this._titles.push(e)},e.Legend.prototype.__getTitles=function(){return this._titles},e.Legend.prototype.getAutomation=function(){return new t(this)},e.Legend.prototype.getKeyboardFocus=function(){return null!=this.EventManager?this.EventManager.getFocus():null},e.Legend.prototype.setKeyboardFocus=function(e,t){if(null!=this.EventManager){for(var n=this.__getKeyboardObjects(),i=0;i<n.length;i++)if(n[i].getId()==e.getId()){this.EventManager.setFocusObj(n[i]),t&&n[i].showKeyboardFocusEffect();break}var o=this.getKeyboardFocus();if(o){var r=o.getDisplayables()[0];r.setAriaProperty("label",o.getAriaLabel()),this.getCtx().setActiveElement(r)}}},e.Legend.prototype.getDimensions=function(t){var n=new e.Rectangle(0,0,this.Width,this.Height);return t&&t!==this?this.ConvertCoordSpaceRect(n,t):n},e.Legend.prototype.getContentDimensions=function(e){return e&&e!==this?this.ConvertCoordSpaceRect(this._contentDimensions,e):this._contentDimensions},e.Legend.prototype.GetComponentDescription=function(){return e.Bundle.getTranslatedString(e.Bundle.UTIL_PREFIX,"LEGEND")},e.Legend.prototype._transferVisibilityProperties=function(t){if(t&&!(t.length<=0))for(var n=this.getOptions().hiddenCategories,i=0;i<t.length;i++){var o=t[i];o.sections&&(n=this._transferVisibilityProperties(o.sections));var r=o.items;if(r&&!(r.length<=0))for(var a=0;a<r.length;a++){var l=r[a],g=s.getItemCategory(l);"hidden"==l.categoryVisibility&&e.ArrayUtils.getIndex(n,g)<0&&n.push(g),l.categoryVisibility=null}}},e.Legend.prototype.UpdateAriaAttributes=function(){if(this.IsParentRoot()){var t=this.getOptions(),n=t.hideAndShowBehavior;("off"!=n&&"none"!=n||"dim"==t.hoverBehavior)&&(this.getCtx().setAriaRole("application"),this.getCtx().setAriaLabel(e.Bundle.getTranslatedString(e.Bundle.UTIL_PREFIX,"COLON_SEP_LIST",[e.Bundle.getTranslatedString(e.Bundle.UTIL_PREFIX,"DATA_VISUALIZATION"),e.StringUtils.processAriaLabel(this.GetComponentDescription())])))}},e.Legend.prototype.isNavigable=function(){return this._navigablePeers.length>0},e.Legend.getItemCount=function(t){var n=t.getOptionsCache().getFromCache("itemsCount");if(null!=n)return n;n=0;for(var i=t.getOptions().sections,o=0;o<i.length;o++){var r=i[o];n+=e.Legend.getSectionItemsCount(r)}return t.getOptionsCache().putToCache("itemsCount",n),n},e.Legend.getSectionItemsCount=function(t){var n=0;if(t.items&&(n+=t.items.length),t.sections)for(var i=t.sections,o=0;o<i.length;o++)n+=e.Legend.getSectionItemsCount(i[o]);return n};var t=function(e){this._legend=e,this._options=this._legend.getOptions()};e.Obj.createSubclass(t,e.Automation),t.prototype.GetSubIdForDomElement=function(e){var t=this._legend.getEventManager().GetLogicalObject(e);if(t&&t instanceof r){var n=t.getData(),i=this._getIndicesFromItem(n,this._options);if(i)return"section"+i}return null},t.prototype._getIndicesFromItem=function(e,t){if(t.sections&&t.sections.length>0){for(var n=0;n<t.sections.length;n++){if(t.sections[n]==e)return"["+n+"]";var i=this._getIndicesFromItem(e,t.sections[n]);if(i)return"["+n+"]"+i}return null}if(t.items&&t.items.length>0){for(var o=0;o<t.items.length;o++)if(t.items[o]==e)return":item["+o+"]";return null}},t.prototype.getIndicesFromSeries=function(e,t){if(t.sections&&t.sections.length>0){for(var n=0;n<t.sections.length;n++){var i=this.getIndicesFromSeries(e,t.sections[n]);if(i)return"["+n+"]"+i}return null}if(t.items&&t.items.length>0){for(var o=0;o<t.items.length;o++)if(t.items[o].text==e.name)return":item["+o+"]";return null}},t.prototype.getLegendItem=function(e,t){var n=t.indexOf("["),i=t.indexOf("]");if(n>=0&&i>=0){var o=t.substring(n+1,i),r=t.indexOf(":"),s=(t=t.substring(i+1)).indexOf("["),a=t.indexOf("]");return s>=0&&a>=0?this.getLegendItem(e.sections[o],t):0==r?e.items[o]:e.sections[o]}},t.prototype.getDomElementForSubId=function(t){if(t==e.Automation.TOOLTIP_SUBID)return this.GetTooltipElement(this._legend);for(var n=this.getLegendItem(this._options,t),i=this._legend.__getObjects(),o=0;o<i.length;o++)if(n==i[o].getData())return i[o].getDisplayables()[0].getElem();return null},t.prototype.getTitle=function(){return this._options.title},t.prototype.getItem=function(e){for(var t,n=e.shift(),i=this._options;null!=n;)e.length>0?i=i.sections[n]:t=i.items[n],n=e.shift();return t?{text:t.text?t.text:null}:null},t.prototype.getSection=function(e){for(var t,n=e.shift(),i=this._options;null!=n;)e.length>0?i=i.sections[n]:t=i.sections[n],n=e.shift();return{title:t.title?t.title:null,items:t.items?this._generateItemObjects(t.items):null,sections:t.sections?this._generateSectionObjects(t.sections):null}},t.prototype._generateItemObjects=function(e){for(var t=[],n=0;n<e.length;n++)t.push({text:e[n].text});return t},t.prototype._generateSectionObjects=function(e){for(var t=[],n=0;n<e.length;n++)t.push({title:e[n].title?e[n].title:null,items:e[n].items?this._generateItemObjects(e[n].items):null,sections:e[n].sections?this._generateSectionObjects(e[n].sections):null});return t};var n=function(){this.Init({skyros:n.VERSION_1,alta:n.SKIN_ALTA,next:n.SKIN_NEXT})};e.Obj.createSubclass(n,e.BaseComponentDefaults),n.SKIN_NEXT={skin:e.CSSStyle.SKIN_NEXT,titleStyle:new e.CSSStyle("color: #737373;"),_sectionTitleStyle:new e.CSSStyle("color: #737373;"),layout:{titleGapWidth:17,titleGapHeight:9,symbolGapWidth:7,symbolGapHeight:4,rowGap:4,columnGap:10,sectionGapHeight:16,sectionGapWidth:24}},n.SKIN_ALTA={skin:e.CSSStyle.SKIN_ALTA,textStyle:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA),titleStyle:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #333333;"),_sectionTitleStyle:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #333333;")},n.VERSION_1={skin:e.CSSStyle.SKIN_SKYROS,orientation:"vertical",position:null,backgroundColor:null,borderColor:null,textStyle:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_SKYROS+"font-size: 11px; color: #333333;"),titleStyle:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_SKYROS+"font-size: 12px; color: #003d5b;"),titleHalign:"start",hiddenCategories:[],hideAndShowBehavior:"off",hoverBehavior:"none",hoverBehaviorDelay:200,scrolling:"asNeeded",halign:"start",valign:"top",drilling:"off",dnd:{drag:{series:{}},drop:{legend:{}}},_color:"#a6acb1",_markerShape:"square",_lineWidth:3,layout:{outerGapWidth:3,outerGapHeight:3,titleGapWidth:8,titleGapHeight:3,symbolGapWidth:5,symbolGapHeight:4,rowGap:0,columnGap:8,sectionGapHeight:6,sectionGapWidth:15},isLayout:!1},n.getGapSize=function(t,n){var i=Math.min(e.TextUtils.getTextStringHeight(t.getCtx(),t.getOptions().textStyle)/14,1);return Math.ceil(n*i)},n.prototype.getNoCloneObject=function(e){return{sections:{items:{_dataContext:!0}}}};var i=function(e){this.Init(e.getCtx(),e.processEvent,e),this._legend=e};e.Obj.createSubclass(i,e.EventManager),i.prototype.OnClick=function(e){i.superclass.OnClick.call(this,e);var t=this.GetLogicalObject(e.target);if(t){var n=this.processHideShowEvent(t),o=this.handleClick(t,e);(n||o)&&e.stopPropagation()}},i.prototype.OnMouseOver=function(t){i.superclass.OnMouseOver.call(this,t);var n=this.GetLogicalObject(t.target);if(n){var o=n instanceof e.SimpleObjPeer?n.getParams():null;o&&o.isCollapsible&&o.button&&o.button.drawOverState(),this.UpdateActiveElement(n)}},i.prototype.OnMouseOut=function(t){i.superclass.OnMouseOut.call(this,t);var n=this.GetLogicalObject(t.target);if(n){var o=n instanceof e.SimpleObjPeer?n.getParams():null;o&&o.isCollapsible&&o.button&&o.button.drawUpState()}},i.prototype.HandleTouchClickInternal=function(e){var t=this.GetLogicalObject(e.target);if(t){var n=e.touchEvent,i=this.processHideShowEvent(t),o=this.handleClick(t,e);(i||o)&&n&&n.preventDefault()}},i.prototype.processHideShowEvent=function(t){var n=this._legend.getOptions().hideAndShowBehavior;if("none"==n||"off"==n)return!1;var i=t.getCategories?t.getCategories():null;if(!i||i.length<=0)return!1;var o=t.getCategories()[0],r=this._legend.getOptions().hiddenCategories||[];r=r.slice();for(var a=t.getDisplayables(),l=0;l<a.length;l++){var g=a[l];g instanceof e.SimpleMarker?g.setHollow(t.getColor()):g instanceof e.Rect&&t.updateAriaLabel()}var h,c=i[0];return s.isCategoryHidden(o,this._legend)?(r.splice(e.ArrayUtils.getIndex(r,o),1),h=e.EventFactory.newCategoryShowEvent(c,r)):(r.push(o),h=e.EventFactory.newCategoryHideEvent(c,r)),this._legend.getOptions().hiddenCategories=r,this.FireEvent(h,this._legend),!0},i.prototype.handleClick=function(t,n){if(t&&t.getAction&&t.getAction())return this.FireEvent(e.EventFactory.newActionEvent("action",t.getAction(),t.getId()),this._legend),!0;if(t instanceof r&&t.isDrillable()){var i=t.getId();return this.FireEvent(e.EventFactory.newChartDrillEvent(i,i,null),this._legend),!0}var o=t instanceof e.SimpleObjPeer?t.getParams():null;return!(!o||!o.isCollapsible||(this.toggleSectionCollapse(n,o.id),0))},i.prototype.ProcessRolloverEvent=function(t,n,i){var o=this._legend.getOptions();if(!("none"==o.hoverBehavior||n.getDisplayables&&n.getDisplayables()[0]instanceof e.Button)){var r=n.getCategories?n.getCategories():[];o.highlightedCategories=i?r.slice():null;var s=e.EventFactory.newCategoryHighlightEvent(o.highlightedCategories,i),a=e.StyleUtils.getTimeMilliseconds(o.hoverBehaviorDelay);this.RolloverHandler.processEvent(s,this._legend.__getObjects(),a,!0)}},i.prototype.onCollapseButtonClick=function(e,t){var n=t.getId();this.toggleSectionCollapse(e,n)},i.prototype.toggleSectionCollapse=function(t,n){for(var i=this._legend.getOptions(),o=0;o<n.length;o++)i=i.sections[n[o]];if(i.expanded="off"==i.expanded?"on":"off",t.type==e.MouseEvent.CLICK){var r=this.GetLogicalObject(this.GetCurrentTargetForEvent(t));r.getNextNavigable&&this.setFocusObj(r.getNextNavigable(t))}var s=this._legend.getKeyboardFocus(),a=!!s&&s.isShowingKeyboardFocusEffect();this._legend.render(),s&&this._legend.setKeyboardFocus(s,a),this.hideTooltip();var l=this._legend.getContentDimensions();this.FireEvent(new e.ResizeEvent(l.w,l.h,l.x,l.y),this._legend)},i.prototype.GetTouchResponse=function(){return this._legend.getOptions()._isScrollingLegend?e.EventManager.TOUCH_RESPONSE_TOUCH_HOLD:e.EventManager.TOUCH_RESPONSE_TOUCH_START},i.prototype.getComponent=function(){return this._legend},i.prototype.isDndSupported=function(){return!0},i.prototype.GetDragSourceType=function(e){var t=this.DragSource.getDragObject();return t instanceof r&&null!=t.getData()._dataContext?"series":null},i.prototype.GetDragDataContexts=function(){var e=this.DragSource.getDragObject();return e instanceof r?[e.getData()._dataContext]:[]},i.prototype.GetDropTargetType=function(e){var t=this._legend.stageToLocal(this.getCtx().pageToStageCoords(e.pageX,e.pageY)),n=this._legend.getOptions().dnd.drop,i=this._legend.__getBounds();return Object.keys(n.legend).length>0&&i.containsPoint(t.x,t.y)?"legend":null},i.prototype.GetDropEventPayload=function(e){return{}},i.prototype.ShowDropEffect=function(e){if("legend"==this.GetDropTargetType(e)){var t=this._legend.getOptions()._dropColor,n=this._legend.getCache().getFromCache("background");n&&(n.setSolidFill(t),n.setClassName("oj-active-drop"))}},i.prototype.ClearDropEffect=function(){var t=this._legend.getCache().getFromCache("background");if(t){var n=this._legend.getOptions().backgroundColor;n?t.setSolidFill(n):t.setInvisibleFill(),e.ToolkitUtils.removeClassName(t.getElem(),"oj-invalid-drop"),e.ToolkitUtils.removeClassName(t.getElem(),"oj-active-drop")}},i.prototype.ShowRejectedDropEffect=function(e){if("legend"==this.GetDropTargetType(e)){var t=this._legend.getCache().getFromCache("background");t&&t.setClassName("oj-invalid-drop")}};var o=function(e,t){this.Init(e,t)};e.Obj.createSubclass(o,e.KeyboardHandler),o.prototype.Init=function(e,t){o.superclass.Init.call(this,e),this._legend=t},o.prototype.processKeyDown=function(t){var n=t.keyCode,i=this._eventManager.getFocus(),r=i&&i.getDisplayables()[0]instanceof e.Button,s=null;if(null==i&&n==e.KeyboardEvent.TAB){var a=this._legend.__getKeyboardObjects();a.length>0&&(e.EventManager.consumeEvent(t),s=this.getDefaultNavigable(a))}else i&&(n==e.KeyboardEvent.TAB?(e.EventManager.consumeEvent(t),s=i):n==e.KeyboardEvent.ENTER||n==e.KeyboardEvent.SPACE?(n==e.KeyboardEvent.ENTER&&this._eventManager.handleClick(i,t),r?this._eventManager.onCollapseButtonClick(t,i.getDisplayables()[0]):this._eventManager.processHideShowEvent(i),e.EventManager.consumeEvent(t)):!r||n!=e.KeyboardEvent.LEFT_ARROW&&n!=e.KeyboardEvent.RIGHT_ARROW?s=o.superclass.processKeyDown.call(this,t):(this._eventManager.onCollapseButtonClick(t,i.getDisplayables()[0]),e.EventManager.consumeEvent(t)));return s&&this._legend.container.scrollIntoView(s.getDisplayables()[0]),s};var r=function(e,t,n,i,o,r){this.Init(e,t,n,i,o,r)};e.Obj.createSubclass(r,e.Obj),r.prototype.Init=function(t,n,i,o,r,a){if(this._legend=t,this._displayables=n,this._item=i,this._category=s.getItemCategory(this._item),this._id=this._category?this._category:i.title,this._action=i.action,this._drillable=a,this._spb=i._spb,this._tooltip=o,this._datatip=r,this._isShowingKeyboardFocusEffect=!1,this._action||this._drillable)for(var l=0;l<this._displayables.length;l++)this._displayables[l].setCursor(e.SelectionEffectUtils.getSelectingCursor())},r.associate=function(e,t,n,i,o,s){if(!e||!n)return null;var a=new r(t,e,n,i,o,s);t.__registerObject(a);for(var l=0;l<e.length;l++)t.getEventManager().associate(e[l],a);return a},r.prototype.getData=function(){return this._item},r.prototype.getColor=function(){return this._item.color},r.prototype.getId=function(){return this._id},r.prototype.getDisplayables=function(){return this._displayables},r.prototype.getCategories=function(e){return null!=this._category?[this._category]:null},r.prototype.getAction=function(){return this._action},r.prototype.isDrillable=function(){return this._drillable},r.prototype.getShowPopupBehaviors=function(){return this._spb},r.prototype.getAriaLabel=function(){var t=[],n=this._legend.getOptions(),i=this._legend.getOptions().hideAndShowBehavior,o=s.isCategoryHidden(this._category,this._legend),r=this.getData();return this._displayables[0]instanceof e.Button?(t.push(e.Bundle.getTranslatedString(e.Bundle.UTIL_PREFIX,"off"==r.expanded?"STATE_COLLAPSED":"STATE_EXPANDED")),e.Displayable.generateAriaLabel(r.title,t)):("off"!=i&&"none"!=i&&t.push(e.Bundle.getTranslatedString(e.Bundle.UTIL_PREFIX,o?"STATE_HIDDEN":"STATE_VISIBLE")),this.isDrillable()&&t.push(e.Bundle.getTranslation(n,"stateDrillable",e.Bundle.UTIL_PREFIX,"STATE_DRILLABLE")),null!=r.shortDesc?e.Displayable.generateAriaLabel(r.shortDesc,t):t.length>0?e.Displayable.generateAriaLabel(r.text,t):null)},r.prototype.updateAriaLabel=function(){!e.Agent.deferAriaCreation()&&this._displayables[0]&&this._displayables[0].setAriaProperty("label",this.getAriaLabel())},r.prototype.getNextNavigable=function(t){if(t.type==e.MouseEvent.CLICK)return this;var n=this._legend.__getKeyboardObjects();return e.KeyboardHandler.getNextNavigable(this,t,n,!0)},r.prototype.getKeyboardBoundingBox=function(t){return this._displayables[0]?this._displayables[0].getDimensions(t):new e.Rectangle(0,0,0,0)},r.prototype.getTargetElem=function(){return this._displayables[0]?this._displayables[0].getElem():null},r.prototype.showKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!0,this._displayables[0]&&(this._displayables[0]instanceof e.Button?this._displayables[0].drawOverState():this._displayables[0].setSolidStroke(e.Agent.getFocusColor()))},r.prototype.hideKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!1,this._displayables[0]&&(this._displayables[0]instanceof e.Button?this._displayables[0].drawUpState():this._displayables[0].setStroke(null))},r.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},r.prototype.getTooltip=function(e){return this._tooltip},r.prototype.getDatatip=function(e){return this._datatip},r.prototype.getDatatipColor=function(e){return this._item.color},r.prototype.isDragAvailable=function(e){return!0},r.prototype.getDragTransferable=function(e,t){return[this.getId()]},r.prototype.getDragFeedback=function(e,t){return this.getDisplayables()};var s=new Object;e.Obj.createSubclass(s,e.Obj),s._DEFAULT_LINE_WIDTH_WITH_MARKER=2,s._LINE_MARKER_SIZE_FACTOR=.6,s._DEFAULT_SYMBOL_SIZE=10,s._BUTTON_SIZE=12,s._FOCUS_GAP=2,s.render=function(t,i){var o=t.getOptions(),r=t.getCtx(),a=e.Agent.isRightToLeft(r);t.__setBounds(i),o.isLayout||s._renderBackground(t,i);var l=new e.SimpleScrollableContainer(r,i.w,i.h),g=new e.Container(r);l.getScrollingPane().addChild(g),t.addChild(l),t.container=l;var h=n.getGapSize(t,o.layout.outerGapWidth),c=n.getGapSize(t,o.layout.outerGapHeight);if(i.x+=h,i.y+=c,i.w-=2*h,i.h-=2*c,i.w<=0||i.h<=0)return new e.Dimension(0,0);var p=s._renderContents(t,g,new e.Rectangle(i.x,i.y,i.w,i.h));if(0==p.w||0==p.h)return new e.Dimension(0,0);l.prepareContentPane(),p.h>i.h?(p.h=i.h,o._isScrollingLegend=!0):o._isScrollingLegend=!1;var u=0,d=0,y=null!=o.hAlign?o.hAlign:o.halign;"center"==y?u=i.x-p.x+(i.w-p.w)/2:"end"==y&&(u=a?i.x-p.x:i.x-p.x+i.w-p.w);var _=null!=o.vAlign?o.vAlign:o.valign;"middle"==_?d=i.y-p.y+(i.h-p.h)/2:"bottom"==_&&(d=i.y-p.y+i.h-p.h);var f=new e.Rectangle(p.x+u-h,p.y+d-c,p.w+2*h,p.h+2*c);if(o.isLayout)return f;(u||d)&&g.setTranslate(u,d);for(var v=t.__getTitles(),S=0;S<v.length;S++)e.LayoutUtils.align(p,v[S].halign,v[S].text,v[S].text.getDimensions().w);return f},s._renderContents=function(e,t,i){var o=e.getOptions();i=i.clone();var r=s._renderTitle(e,t,o.title,i,null,!0);if(r){var a=r.getDimensions(),l=n.getGapSize(e,o.layout.titleGapHeight);i.y+=a.h+l,i.h-=Math.floor(a.h+l)}var g=s._renderSections(e,t,o.sections,i,[]);return r?a.getUnion(g):g},s._renderBackground=function(t,n){var i=t.getOptions(),o=i.backgroundColor,r=i.borderColor,s=i.dnd?i.dnd.drop.legend:{},a=i.dnd?i.dnd.drag.series:{};if(o||r||Object.keys(s).length>0||Object.keys(a).length>0){var l=new e.Rect(t.getCtx(),n.x,n.y,n.w,n.h);o?l.setSolidFill(o):l.setInvisibleFill(),r&&(l.setSolidStroke(r),l.setPixelHinting(!0)),t.addChild(l),t.getCache().putToCache("background",l)}},s._renderTitle=function(t,n,i,o,r,s,a,l){var g=t.getOptions(),h=n.getCtx(),c=e.Agent.isRightToLeft(h);if(!i)return null;var p=new e.OutputText(h,i,o.x,o.y),u=g.titleStyle;if(r&&r.titleStyle?u=new e.CSSStyle(r.titleStyle):r&&g._sectionTitleStyle&&(u=g._sectionTitleStyle),p.setCSSStyle(u),e.TextUtils.fitText(p,o.w,1/0,n)){if(c&&p.setX(o.x+o.w-p.getDimensions().w),g.isLayout)n.removeChild(p);else{var d={id:a,button:l};if(d.isCollapsible=r&&("on"==r.collapsible||1==r.collapsible),t.getEventManager().associate(p,new e.SimpleObjPeer(p.getUntruncatedTextString(),null,null,d)),s){var y=r&&r.titleHalign?r.titleHalign:g.titleHalign;t.__registerTitle({text:p,halign:y})}}return p}return null},s._renderSections=function(t,i,o,r,a){if(!o||0==o.length)return new e.Rectangle(0,0,0,0);var l=t.getOptions();l.symbolWidth||l.symbolHeight?(l.symbolWidth?l.symbolHeight||(l.symbolHeight=l.symbolWidth):l.symbolWidth=l.symbolHeight,l.symbolWidth=parseInt(l.symbolWidth),l.symbolHeight=parseInt(l.symbolHeight)):(l.symbolWidth=s._DEFAULT_SYMBOL_SIZE,l.symbolHeight=s._DEFAULT_SYMBOL_SIZE);for(var g,h=n.getGapSize(t,l.layout.sectionGapHeight),c=n.getGapSize(t,l.layout.titleGapHeight),p=n.getGapSize(t,l.layout.sectionGapWidth),u=s._getRowHeight(t),d="vertical"!=l.orientation,y=null,_=r.clone(),f=0;f<o.length;f++){var v=a.concat([f]),S="off"==o[f].expanded||0==o[f].expanded?c:h;d?(g=s._renderHorizontalSection(t,i,o[f],_,u)).w>_.w?(_.w<r.w&&(r.y+=g.h+S,r.h-=g.h+S),g=g.w<=r.w?s._renderHorizontalSection(t,i,o[f],r,u):s._renderVerticalSection(t,i,o[f],r,u,v,!0),r.y+=g.h+S,r.h-=g.h+S,_=r.clone()):(_.w-=g.w+p,e.Agent.isRightToLeft(t.getCtx())||(_.x+=g.w+p)):(g=s._renderVerticalSection(t,i,o[f],r,u,v,!1),r.y+=g.h+S,r.h-=g.h+S),y=y?y.getUnion(g):g}return y},s._createButton=function(t,n,i,o,a,l,g,h,c,p,u){var d=s._createButtonImage(t,o,a+"Enabled",l,g),y=s._createButtonImage(t,o,a+"Over",l,g),_=s._createButtonImage(t,o,a+"Down",l,g),f=new e.Button(t,d,y,_,null,c,p,u),v=r.associate([f],n,i,h,null,!1);return f.setAriaRole("button"),v.updateAriaLabel(),f},s._createButtonImage=function(t,n,i,o,r){var a=e.Agent.isRightToLeft(t)?"RTL":"",l=n[i+a]?n[i+a]:n[i],g=new e.Image(t,l,o,r,s._BUTTON_SIZE,s._BUTTON_SIZE);return g.setInvisibleFill(),g},s._renderVerticalSection=function(t,i,o,r,a,l,g){if(o){var h,c=t.getOptions(),p=n.getGapSize(t,c.layout.symbolGapWidth),u=n.getGapSize(t,c.layout.rowGap),d=n.getGapSize(t,c.layout.columnGap),y=t.getCtx(),_=e.Agent.isRightToLeft(y),f=null!=o.sections&&o.sections.length>0,v=null!=o.items&&o.items.length>0,S=r.clone();"off"!=c.scrolling&&(S.h=1/0);var b,m="on"==o.collapsible||1==o.collapsible;if(m){var C=_?S.x+S.w-s._BUTTON_SIZE:S.x;if(!c.isLayout){var O="off"==o.expanded||0==o.expanded,T=O?"closed":"open",x=e.Bundle.getTranslatedString(e.Bundle.UTIL_PREFIX,O?"EXPAND":"COLLAPSE",null),E=t.getEventManager();b=s._createButton(y,t,o,c._resources,T,C,S.y,x,l,E.onCollapseButtonClick,E),i.addChild(b)}h=new e.Rectangle(C,S.y,s._BUTTON_SIZE,s._BUTTON_SIZE);var L=n.getGapSize(t,c.layout.symbolGapWidth);_||(S.x+=s._BUTTON_SIZE+L),S.w-=s._BUTTON_SIZE+L}var w=s._renderTitle(t,i,o.title,S,o,!m&&l.length<=1,l,b),I=w?w.getDimensions():new e.Rectangle(_?S.x+S.w:S.x,S.y,0,0),A=h?I.getUnion(h):I;if(!v&&!f||"off"==o.expanded||0==o.expanded)return A;if(A.h>0){var D=n.getGapSize(t,c.layout.titleGapHeight);S.y+=A.h+D,S.h-=A.h+D}if(f){var F=s._renderSections(t,i,o.sections,S,l);A=A.getUnion(F)}if(!v)return A;var M=s._calcColumns(t,S,a,o.items,g),G=M.numCols,B=M.numRows,P=M.width,R=S.y;if(0==B||0==G)return A;var N=B*(a+u)-u,k=Math.min(G*(P+d)-d,S.w),H=new e.Rectangle(_?S.x+S.w-k:S.x,S.y,k,N);if(A=A.getUnion(H),c.isLayout)return A;for(var U=P-c.symbolWidth-p,j=0,K=1,W=o.items.length,z=0;z<W;z++){var V=o.items[z];if(s._createLegendItem(t,i,V,S,U,a,z),S.y+=a+u,++j===B&&K!==G&&(S.y=R,S.w-=P+d,_||(S.x+=P+d),j=0,K++),j===B)break}return A}},s._renderHorizontalSection=function(t,i,o,r,a){if(o){var l=t.getOptions(),g=l.symbolWidth,h=n.getGapSize(t,l.layout.symbolGapWidth),c=n.getGapSize(t,l.layout.columnGap),p=n.getGapSize(t,l.layout.titleGapWidth),u=null!=o.items&&o.items.length>0,d=e.Agent.isRightToLeft(t.getCtx()),y=r.clone(),_=s._renderTitle(t,i,o.title,r,o,!1),f=_?_.getDimensions():new e.Rectangle(d?r.x+r.w:r.x,r.y,0,0);if(!u)return f;f.w>0&&(y.w-=f.w+p,d||(y.x+=f.w+p));var v,S,b,m=[],C=r.w-y.w,O=o.items.length;for(b=0;b<O;b++)v=o.items[b],C+=(S=Math.ceil(e.TextUtils.getTextStringWidth(t.getCtx(),v.text,l.textStyle)))+g+h+c,m.push(S);O>0&&(C-=c);var T,x=new e.Rectangle(d?r.x+r.w-C:r.x,r.y,C,Math.max(a,f.h));if(l.isLayout||C>r.w)return i.removeChild(_),x;for(b=0;b<O;b++)v=o.items[b],s._createLegendItem(t,i,v,y,m[b],a,b),T=m[b]+g+h,y.w-=T+c,d||(y.x+=T+c);return x}},s._calcColumns=function(t,i,o,r,s){for(var a=t.getOptions(),l=[],g=0;g<r.length;g++)l.push(r[g].text);var h,c,p,u=e.TextUtils.getMaxTextStringWidth(t.getCtx(),l,a.textStyle),d=a.symbolWidth,y=n.getGapSize(t,a.layout.symbolGapWidth),_=n.getGapSize(t,a.layout.rowGap),f=n.getGapSize(t,a.layout.columnGap),v=Math.ceil(d+y+u);s?(p=Math.min(Math.max(Math.floor((i.w+f)/(v+f)),1),r.length),h=Math.min(Math.floor((i.h+_)/(o+_)),Math.ceil(r.length/p)),p=Math.ceil(r.length/h),h=Math.ceil(r.length/p)):i.h==1/0?(p=1,h=r.length):(h=Math.min(Math.floor((i.h+_)/(o+_)),r.length),p=Math.ceil(r.length/h),h=Math.ceil(r.length/p));var S=(i.w-f*(p-1))/p;return(c=Math.min(v,S))<d?{width:0,numCols:0,numRows:0}:{width:c,numCols:p,numRows:h}},s._getRowHeight=function(t){var i=t.getOptions(),o=e.TextUtils.getTextStringHeight(t.getCtx(),i.textStyle),r=i.symbolHeight+n.getGapSize(t,i.layout.symbolGapHeight);return Math.ceil(Math.max(o,r))},s._createLegendItem=function(t,i,o,a,l,g,h){var c,p=t.getOptions(),u=t.getCtx(),d=e.Agent.isRightToLeft(u),y=p.symbolWidth,_=n.getGapSize(t,p.layout.symbolGapWidth),f=d?a.x+a.w-y:a.x,v=d?a.x+a.w-y-_:a.x+y+_,S=s._createLegendSymbol(t,f,a.y,g,o,h),b=o.text;if(null!=b){var m=p.textStyle;(c=s._createLegendText(i,l,b,m))&&(c.setX(v),e.TextUtils.centerTextVertically(c,a.y+g/2),d&&c.alignRight())}i.addChild(S);var C=new e.Rect(u,d?v-l-s._FOCUS_GAP:f-s._FOCUS_GAP,a.y-s._FOCUS_GAP,y+_+l+2*s._FOCUS_GAP,g+2*s._FOCUS_GAP);C.setInvisibleFill();var O=p.hideAndShowBehavior;"none"!=O&&"off"!=O&&C.setCursor("pointer"),i.addChild(C);var T=[C,S];null!=c&&T.push(c);var x=r.associate(T,t,o,null!=c?c.getUntruncatedTextString():null,o.shortDesc,s._isItemDrillable(t,o));s.isCategoryHidden(s.getItemCategory(o),t)&&(S.setHollow(x.getColor()),S.setStyle().setClassName()),("none"!=O&&"off"!=O||null!=o.shortDesc)&&(C.setAriaRole("img"),x.updateAriaLabel())},s._isItemDrillable=function(e,t){return"on"==t.drilling||"off"!=t.drilling&&"on"==e.getOptions().drilling},s._createLegendText=function(t,n,i,o){var r=new e.OutputText(t.getCtx(),i);return r.setCSSStyle(o),e.TextUtils.fitText(r,n,1/0,t)?r:null},s._createLegendSymbol=function(t,n,i,o,r,a){var l=t.getOptions(),g=t.getCtx(),h=null!=r.type?r.type:r.symbolType;r.markerShape||(r.markerShape=l._markerShape),r.color||(r.color=l._color),r.lineWidth||(r.lineWidth="lineWithMarker"==h?s._DEFAULT_LINE_WIDTH_WITH_MARKER:l._lineWidth);var c,p=l.symbolWidth,u=l.symbolHeight,d=i+o/2,y=n+p/2;if("line"==h)c=s._createLine(g,n,i,p,o,r);else if("lineWithMarker"==h)c=s._createLine(g,n,i,p,o,r),s.isCategoryHidden(s.getItemCategory(r),t)||c.addChild(s._createMarker(t,y,d,p*s._LINE_MARKER_SIZE_FACTOR,u*s._LINE_MARKER_SIZE_FACTOR,r));else if("image"==h)c=s._createImage(t,n,i,p,u,o,r);else if("_verticalBoxPlot"==h)u=Math.max(4*Math.round(u/4),4),(c=new e.Container(g)).addChild(s._createMarker(t,y,d+u/4,p,u/2,s._getBoxPlotOptions(r,"q2"))),c.addChild(s._createMarker(t,y,d-u/4,p,u/2,s._getBoxPlotOptions(r,"q3")));else if("_horizontalBoxPlot"==h){var _=e.Agent.isRightToLeft(g),f=(p=Math.max(4*Math.round(p/4),4))/4*(_?1:-1);(c=new e.Container(g)).addChild(s._createMarker(t,y+f,d,p/2,u,s._getBoxPlotOptions(r,"q2"))),c.addChild(s._createMarker(t,y-f,d,p/2,u,s._getBoxPlotOptions(r,"q3")))}else c=s._createMarker(t,y,d,p,u,r);return c},s._createImage=function(t,n,i,o,r,s,a){var l=t.getCtx(),g=i+s/2,h=n+o/2;return new e.ImageMarker(l,h,g,o,r,null,a.source)},s._createMarker=function(t,n,i,o,r,s){var a,l=t.getCtx(),g=t.getOptions(),h=s.markerShape,c=s.markerColor?s.markerColor:s.color,p=s.markerStyle||s.markerSvgStyle?s.markerStyle||s.markerSvgStyle:s.style||s.svgStyle,u=s.markerClassName||s.markerSvgClassName?s.markerClassName||s.markerSvgClassName:s.className||s.svgClassName,d=s.pattern;if(d&&"none"!=d?((a=new e.SimpleMarker(l,h,g.skin,0,0,o,r,null,null,!0)).setFill(new e.PatternFill(d,c,"#FFFFFF")),a.setTranslate(n,i)):(a=new e.SimpleMarker(l,h,g.skin,n,i,o,r,null,null,!0)).setSolidFill(c),s.borderColor){var y=s._borderWidth?s._borderWidth:1;a.setSolidStroke(s.borderColor,null,y)}return"square"!=h&&"rectangle"!=h||a.setPixelHinting(!0),a.setClassName(u).setStyle(p),a},s._createLine=function(t,n,i,o,r,s){var a=i+r/2,l=new e.Line(t,n,a,n+o,a),g=new e.SolidStroke(s.color,1,s.lineWidth),h=s.lineStyle;return"dashed"==h?g.setType(e.Stroke.convertTypeString(h),"4,2,4"):"dotted"==h&&g.setType(e.Stroke.convertTypeString(h),"2"),l.setClassName(s.className||s.svgClassName).setStyle(s.style||s.svgStyle),l.setStroke(g),l.setPixelHinting(!0),l},s._getBoxPlotOptions=function(e,t){return{markerShape:"rectangle",color:e._boxPlot[t+"Color"],pattern:e._boxPlot["_"+t+"Pattern"],className:e._boxPlot[t+"ClassName"]||e._boxPlot[t+"svgClassName"],style:e._boxPlot[t+"Style"]||e._boxPlot[t+"svgStyle"]}},s.getItemCategory=function(e){return e.categories&&e.categories.length>0?e.categories[0]:e.id?e.id:e.text},s.isCategoryHidden=function(t,n){var i=n.getOptions().hiddenCategories;return!(!i||i.length<=0)&&-1!==e.ArrayUtils.getIndex(i,t)},e.exportProperty(e,"Legend",e.Legend),e.exportProperty(e.Legend,"newInstance",e.Legend.newInstance),e.exportProperty(e.Legend.prototype,"destroy",e.Legend.prototype.destroy),e.exportProperty(e.Legend.prototype,"getAutomation",e.Legend.prototype.getAutomation),e.exportProperty(e.Legend.prototype,"getPreferredSize",e.Legend.prototype.getPreferredSize),e.exportProperty(e.Legend.prototype,"highlight",e.Legend.prototype.highlight),e.exportProperty(e.Legend.prototype,"render",e.Legend.prototype.render),e.exportProperty(t.prototype,"getDomElementForSubId",t.prototype.getDomElementForSubId),e.exportProperty(t.prototype,"getItem",t.prototype.getItem),e.exportProperty(t.prototype,"getSection",t.prototype.getSection),e.exportProperty(t.prototype,"getTitle",t.prototype.getTitle)}(e),e});
define('ojs/internal-deps/dvt/DvtOverview',["./DvtToolkit"],function(t){return function(t){t.OverviewUtils=new Object,t.OverviewUtils.supportsTouch=function(){return t.Agent.isTouchDevice()},t.Obj.createSubclass(t.OverviewUtils,t.Obj),t.OverviewUtils.getDatePosition=function(t,e,i,n){var s=(i-t)*n,r=e-t;return 0==s||0==r?0:s/r},t.OverviewUtils.getPositionDate=function(t,e,i,n){var s=i*(e-t);return 0==s||0==n?t:s/n+t},t.Overview=function(t,e,i){this.Init(t,e,i)},t.Obj.createSubclass(t.Overview,t.Container),t.Overview.MIN_WINDOW_SIZE=10,t.Overview.DEFAULT_VERTICAL_TIMEAXIS_SIZE=40,t.Overview.DEFAULT_HORIZONTAL_TIMEAXIS_SIZE=20,t.Overview.HANDLE_PADDING_SIZE=20,t.Overview._DEFAULT_AXIS_LABEL_PADDING=5,t.Overview._DEFAULT_WINDOW_BORDER_WIDTH=1,t.Overview.prototype.Init=function(e,n,s){t.Overview.superclass.Init.call(this,e),this.initDefaults(),this._callback=n,this._callbackObj=s,this.isFlashEnvironment()?this._lastChildIndex=7:this._lastChildIndex=6,(null!=this._callback||null!=this._callbackObj)&&(this.EventManager=new i(this,e,n,s),this.EventManager.addListeners(this),t.OverviewUtils.supportsTouch()?(this.addEvtListener(t.TouchEvent.TOUCHSTART,this.HandleTouchStart,!1,this),this.addEvtListener(t.TouchEvent.TOUCHMOVE,this.HandleTouchMove,!1,this),this.addEvtListener(t.TouchEvent.TOUCHEND,this.HandleTouchEnd,!1,this),this.addEvtListener(t.MouseEvent.CLICK,this.HandleShapeClick,!1,this)):(this.addEvtListener(t.MouseEvent.MOUSEOVER,this.HandleShapeMouseOver,!1,this),this.addEvtListener(t.MouseEvent.MOUSEOUT,this.HandleShapeMouseOut,!1,this),this.addEvtListener(t.MouseEvent.CLICK,this.HandleShapeClick,!1,this),this.addEvtListener(t.KeyboardEvent.KEYDOWN,this.HandleKeyDown,!1,this),this.addEvtListener(t.KeyboardEvent.KEYUP,this.HandleKeyUp,!1,this))),this._initPos=0},t.Overview.prototype.initDefaults=function(){this.Defaults=new e},t.Overview.prototype.setViewportRange=function(t,e,i){null==i&&(i=this.Width);var n=this.getDatePosition(t),s=this.getDatePosition(e);if(!(n<this.getMinimumPosition()||s>this.getMaximumPosition())){var r=Math.max(s-n,this.getMinimumWindowSize());if(r>0&&n>=0&&s<=i){var o=this.getSlidingWindow();this.isHorizontalRTL()?this.setSlidingWindowPos(o,i-(n+r)):this.setSlidingWindowPos(o,n),this.setSlidingWindowSize(o,r),this.ScrollTimeAxis()}}},t.Overview.prototype.setInitialPosition=function(t){t>=this.getMinimumPosition()&&t<=this.getMaximumPosition()&&(this._initPos=t)},t.Overview.prototype.isFeatureOff=function(e){return null!=this._featuresOff&&-1!=t.ArrayUtils.getIndex(this._featuresOff,e)},t.Overview.prototype.isAnimationOnClick=function(){return!("off"===this._animationOnClick)},t.Overview.prototype.render=function(e,i,n){if(null!=i&&null!=n&&(this.Width=i,this.Height=n),null==e){var s=this._start,r=this._end,o=this.getSlidingWindow(),h=this.getSlidingWindowPos(o);null!=o&&0!=h&&(this._renderStart=t.OverviewUtils.getPositionDate(s,r,h,this.Width)),this.removeChildren()}else{this.SetOptions(e);var a=this.Parse(this.Options);this._applyParsedProperties(a)}var l=null!=this._callback||null!=this._callbackObj;this.createBackground(i,n),l&&this.createSlidingWindow(i,n),this.updateTimeAxis(i,n),this.parseFilledTimeRanges(i,n),this.updateCurrentTime(i,n),this.parseDataXML(i,n),l&&(this.createBorderAroundSlidingWindow(i,n),this.isFlashEnvironment()&&(this._resizeArrow=this.createResizeArrow()),this.updateSlidingWindow(i,n)),null!=this._initialFocusTime&&(this._initPos=Math.max(0,t.OverviewUtils.getDatePosition(this._start,this._end,this._initialFocusTime,this._width))),this._initPos>0&&this.longScrollToPos(this._initPos)},t.Overview.prototype.SetOptions=function(t){this.Options=this.Defaults.calcOptions(t)},t.Overview.prototype.getParser=function(e){return new t.OverviewParser(this)},t.Overview.prototype.Parse=function(t){return this.getParser(t).parse(t)},t.Overview.prototype._applyParsedProperties=function(t){this._start=t.start,this._end=t.end,this._width=t.width,this._renderStart=t.renderStart,this._currentTime=t.currentTime,this._initialFocusTime=t.initialFocusTime,this._animationOnClick=t.animationOnClick,this._leftMargin=Math.max(0,t.leftMargin),this._rightMargin=Math.max(0,t.rightMargin),isNaN(this._leftMargin)&&(this._leftMargin=0),isNaN(this._rightMargin)&&(this._rightMargin=0),this._orientation=t.orientation,this._isRtl=t.isRtl,null!=t.featuresOff&&(this._featuresOff=t.featuresOff.split(" ")),null!=t.minimumWindowSize&&t.minimumWindowSize>0&&(this._minimumWindowSize=t.minimumWindowSize),this._timeAxisInfo=t.timeAxisInfo,null!=t.timeAxisInfo&&(this._ticks=this._timeAxisInfo.ticks),this._formattedTimeRanges=t.formattedTimeRanges,this._borderTopStyle=n.getBorderTopStyle(this.Options),this._borderTopColor=n.getBorderTopColor(this.Options),this._windowBackgroundColor=n.getWindowBackgroundColor(this.Options),this._windowBackgroundAlpha=n.getWindowBackgroundAlpha(this.Options),this._windowBorderTopStyle=n.getWindowBorderTopStyle(this.Options),this._windowBorderRightStyle=n.getWindowBorderRightStyle(this.Options),this._windowBorderBottomStyle=n.getWindowBorderBottomStyle(this.Options),this._windowBorderLeftStyle=n.getWindowBorderLeftStyle(this.Options),this._windowBorderTopColor=n.getWindowBorderTopColor(this.Options),this._windowBorderRightColor=n.getWindowBorderRightColor(this.Options),this._windowBorderBottomColor=n.getWindowBorderBottomColor(this.Options),this._windowBorderLeftColor=n.getWindowBorderLeftColor(this.Options),this._handleTextureColor=n.getHandleTextureColor(this.Options),this._handleFillColor=n.getHandleFillColor(this.Options),this._handleBackgroundImage=n.getHandleBackgroundImage(this.Options),this._handleWidth=n.getHandleWidth(this.Options),this._handleHeight=n.getHandleHeight(this.Options),this._overviewBackgroundColor=n.getOverviewBackgroundColor(this.Options),this._currentTimeIndicatorColor=n.getCurrentTimeIndicatorColor(this.Options),this._timeIndicatorColor=n.getTimeIndicatorColor(this.Options),this._timeAxisBarColor=n.getTimeAxisBarColor(this.Options),this._timeAxisBarOpacity=n.getTimeAxisBarAlpha(this.Options),this._leftFilterPanelColor=n.getLeftFilterPanelColor(this.Options),this._leftFilterPanelAlpha=n.getLeftFilterPanelAlpha(this.Options),this._rightFilterPanelColor=n.getRightFilterPanelColor(this.Options),this._rightFilterPanelAlpha=n.getRightFilterPanelAlpha(this.Options)},t.Overview.prototype.getDatePosition=function(e){return Math.max(0,t.OverviewUtils.getDatePosition(this._start,this._end,e,this.getOverviewSize()))+this._leftMargin},t.Overview.prototype.getPositionDate=function(e){return t.OverviewUtils.getPositionDate(this._start,this._end,Math.max(0,e-this._leftMargin),this.getOverviewSize())},t.Overview.prototype.isRTL=function(){return"true"==this._isRtl},t.Overview.prototype.isHorizontalRTL=function(){return this.isRTL()&&!this.isVertical()},t.Overview.prototype.isVertical=function(){return"vertical"==this._orientation},t.Overview.prototype.isOverviewAbove=function(){return"above"==this.Options.overviewPosition},t.Overview.prototype.setMargins=function(t,e){!isNaN(t)&&null!=t&&t>0&&(this._leftMargin=t),!isNaN(e)&&null!=e&&e>0&&(this._rightMargin=e)},t.Overview.prototype.getOverviewSize=function(){return this.isVertical()?this.Height-this._leftMargin-this._rightMargin:this.Width-this._leftMargin-this._rightMargin},t.Overview.prototype.getMinimumPosition=function(){return this._leftMargin},t.Overview.prototype.getMaximumPosition=function(){return this.isVertical()?this.Height-this._rightMargin:this.Width-this._rightMargin},t.Overview.prototype.getMinimumWindowSize=function(){return null!=this._minWinSize?this._minWinSize:null!=this._minimumWindowSize?(this._minWinSize=t.OverviewUtils.getDatePosition(this._start,this._end,this._start+this._minimumWindowSize,this.getOverviewSize()),this._minWinSize):t.Overview.MIN_WINDOW_SIZE},t.Overview.prototype.getGrippySize=function(){return 10},t.Overview.prototype.getHandleStart=function(){return t.OverviewUtils.supportsTouch()?this.getHandleSize()/2:0},t.Overview.prototype.getHandleSize=function(){return t.OverviewUtils.supportsTouch()?30:10},t.Overview.prototype.isHandle=function(t){var e=t.getId();return"lh"==e||"rh"==e||"lhb"==e||"rhb"==e||"grpy"==e||"lbgrh"==e||"rbgrh"==e||null!=t.getParent()&&"grpy"==t.getParent().getId()},t.Overview.prototype.getTimeAxisWidth=function(){if(null==this._timeAxisInfo)return 0;if(null==this._timeAxisWidth){var e=parseInt(this._timeAxisInfo.width,10);!isNaN(e)&&e<this.Width?this._timeAxisWidth=e:this._timeAxisWidth=t.Overview.DEFAULT_VERTICAL_TIMEAXIS_SIZE}return this._timeAxisWidth},t.Overview.prototype.getTimeAxisHeight=function(){if(null==this._timeAxisInfo)return 0;if(null==this._timeAxisHeight){var e=parseInt(this._timeAxisInfo.height,10);!isNaN(e)&&e<this.Height?this._timeAxisHeight=e:this._timeAxisHeight=t.Overview.DEFAULT_HORIZONTAL_TIMEAXIS_SIZE}return this._timeAxisHeight},t.Overview.prototype.getPageX=function(e){return t.OverviewUtils.supportsTouch()&&null!=e.targetTouches?e.targetTouches.length>0?e.targetTouches[0].pageX:null:e.pageX},t.Overview.prototype.getPageY=function(e){return t.OverviewUtils.supportsTouch()&&null!=e.targetTouches?e.targetTouches.length>0?e.targetTouches[0].pageY:null:e.pageY},t.Overview.prototype.isLeftAndRightFilterRendered=function(){return!1},t.Overview.prototype.getSlidingWindow=function(){return this.getChildAt(1)},t.Overview.prototype.getLeftBackground=function(){return this.isLeftAndRightFilterRendered()?this.getChildAt(3):null},t.Overview.prototype.getRightBackground=function(){return this.isLeftAndRightFilterRendered()?this.getChildAt(4):null},t.Overview.prototype.getLeftBackgroundHandle=function(){return this.isLeftAndRightFilterRendered()&&!this.isFeatureOff("zoom")?this.getChildAt(5):null},t.Overview.prototype.getRightBackgroundHandle=function(){return this.isLeftAndRightFilterRendered()&&!this.isFeatureOff("zoom")?this.getChildAt(6):null},t.Overview.prototype.getLeftHandle=function(){var t=this._lastChildIndex;return this.getChildAt(this.getNumChildren()-t)},t.Overview.prototype.getRightHandle=function(){var t=this._lastChildIndex-1;return this.getChildAt(this.getNumChildren()-t)},t.Overview.prototype.getLeftTopBar=function(){var t=this._lastChildIndex-2;return this.getChildAt(this.getNumChildren()-t)},t.Overview.prototype.getRightTopBar=function(){var t=this._lastChildIndex-3;return this.getChildAt(this.getNumChildren()-t)},t.Overview.prototype.getBottomBar=function(){var t=this._lastChildIndex-4;return this.getChildAt(this.getNumChildren()-t)},t.Overview.prototype.getTopBar=function(){var t=this._lastChildIndex-5;return this.getChildAt(this.getNumChildren()-t)},t.Overview.prototype.setLinePos=function(t,e,i){this.isVertical()?(-1!=e&&t.setY1(e),-1!=i&&t.setY2(i)):(-1!=e&&t.setX1(e),-1!=i&&t.setX2(i))},t.Overview.prototype.getLinePos1=function(t){return this.isVertical()?t.getY1():t.getX1()},t.Overview.prototype._findDrawable=function(t){var e=t.target;if(null!=e){var i=e.getId();if(null==i)return null;if("_border"==i.substr(i.length-7))return this.getChildAfter(e);if("tick"!=i.substr(0,4)&&"ltb"!=i&&"rtb"!=i&&"bb"!=i&&"tab"!=i)return e}return null},t.Overview.prototype.isMovable=function(t){return!("window"!=t.getId()&&"ftr"!=t.getId()&&"sta"!=t.getId()&&!this.isHandle(t))},t.Overview.prototype.isFlashEnvironment=function(){return window&&window.isFlashEnvironment},t.Overview.prototype.createBackground=function(e,i){var n=new t.Rect(this.getCtx(),0,0,e,i,"bg");return n.setSolidFill(this._overviewBackgroundColor),n.setPixelHinting(!0),this.addChild(n),n},t.Overview.prototype.createSlidingWindow=function(e,i){var n=this.isVertical();if(n)var s=new t.Rect(this.getCtx(),0,0,e,0,"window");else s=new t.Rect(this.getCtx(),0,0,0,i,"window");if(s.setSolidFill(this._windowBackgroundColor,this._windowBackgroundAlpha),s.setPixelHinting(!0),!this.isFeatureOff("zoom")){var r=this.getHandleSize(),o=this.getHandleStart(),h=this.getGrippySize();if(n){var a=(e-36)/2,l=t.PathUtils.moveTo(a,0)+t.PathUtils.quadTo(a+3,6,a+8,8)+t.PathUtils.lineTo(a+28,8)+t.PathUtils.quadTo(a+33,6,a+36,0);t.PathUtils.closePath();var d=t.PathUtils.moveTo(a,0)+t.PathUtils.quadTo(a+3,-6,a+8,-8)+t.PathUtils.lineTo(a+28,-8)+t.PathUtils.quadTo(a+33,-6,a+36,0);t.PathUtils.closePath();var g=new t.Rect(this.getCtx(),0,0,e,r,"lhb"),v=new t.Rect(this.getCtx(),0,0,e,r,"rhb"),u="row-resize";if(this._handleBackgroundImage)var w=this.createGrippyImage(e,h),c=this.createGrippyImage(e,h);else w=this.createGrippy(a),c=this.createGrippy(a)}else{var p=(i-36)/2;l=t.PathUtils.moveTo(0,p)+t.PathUtils.quadTo(6,p+3,8,p+8)+t.PathUtils.lineTo(8,p+28)+t.PathUtils.quadTo(6,p+33,0,p+36),t.PathUtils.closePath(),d=t.PathUtils.moveTo(0,p)+t.PathUtils.quadTo(-6,p+3,-8,p+8)+t.PathUtils.lineTo(-8,p+28)+t.PathUtils.quadTo(-6,p+33,0,p+36),t.PathUtils.closePath(),g=new t.Rect(this.getCtx(),0-o,0,r,i,"lhb"),v=new t.Rect(this.getCtx(),o,0,r,i,"rhb"),u="col-resize",this._handleBackgroundImage?(w=this.createGrippyImage(h,i),c=this.createGrippyImage(h,i)):(w=this.createGrippy(p),c=this.createGrippy(p))}g.setSolidFill(this._windowBackgroundColor,0),v.setSolidFill(this._windowBackgroundColor,0),g.setPixelHinting(!0),v.setPixelHinting(!0);var _=new t.Path(this.getCtx(),l,"lh"),f=new t.Path(this.getCtx(),d,"rh");_.setSolidFill(this._handleFillColor),_.setSolidStroke(this._handleFillColor),f.setSolidFill(this._handleFillColor),f.setSolidStroke(this._handleFillColor),this._windowBackgroundColor==this._handleFillColor&&(_.setPixelHinting(!0),f.setPixelHinting(!0)),g.setCursor(u),v.setCursor(u),_.setCursor(u),f.setCursor(u),w.setCursor(u),c.setCursor(u),s.addChild(g),s.addChild(_),s.addChild(w),s.addChild(v),s.addChild(f),s.addChild(c)}if(s.setCursor("move"),this.addChild(s),n)if(this.isRTL())var S=new t.Line(this.getCtx(),this.getTimeAxisWidth(),0,this.getTimeAxisWidth(),i,"tab");else S=new t.Line(this.getCtx(),e-this.getTimeAxisWidth(),0,e-this.getTimeAxisWidth(),i,"tab");else S=this.isOverviewAbove()?new t.Line(this.getCtx(),0,this.getTimeAxisHeight(),e,this.getTimeAxisHeight(),"tab"):new t.Line(this.getCtx(),0,i-this.getTimeAxisHeight(),e,i-this.getTimeAxisHeight(),"tab");if(S.setSolidStroke(this._timeAxisBarColor,this._timeAxisBarOpacity),S.setPixelHinting(!0),this._timeAxisTopBar=S,this.addChild(S),this.isLeftAndRightFilterRendered()){if(n)var O=new t.Rect(this.getCtx(),0,0,e,0,"lbg"),T=new t.Rect(this.getCtx(),0,0,e,0,"rbg");else O=new t.Rect(this.getCtx(),0,0,0,i,"lbg"),T=new t.Rect(this.getCtx(),0,0,0,i,"rbg");if(O.setSolidFill(this._leftFilterPanelColor,this._leftFilterPanelAlpha),this.addChild(O),T.setSolidFill(this._rightFilterPanelColor,this._rightFilterPanelAlpha),this.addChild(T),t.OverviewUtils.supportsTouch()&&null!=o){if(r=this.getHandleStart(),n)var P=new t.Rect(this.getCtx(),0,0,e,o,"lbgrh"),m=new t.Rect(this.getCtx(),0,0,e,o,"rbgrh");else P=new t.Rect(this.getCtx(),0,0,o,i,"lbgrh"),m=new t.Rect(this.getCtx(),0,0,o,i,"rbgrh");P.setSolidFill(this._leftFilterPanelColor,0),this.addChild(P),m.setSolidFill(this._rightFilterPanelColor,0),this.addChild(m)}}},t.Overview.prototype.createGrippyImage=function(e,i){var n=(e-this._handleWidth)/2,s=(i-this._handleHeight)/2,r=new t.Image(this.getCtx(),this._handleBackgroundImage,n,s,this._handleWidth,this._handleHeight,"grpy");return r.setMouseEnabled(!1),r},t.Overview.prototype.createGrippy=function(e){var i=new t.Container(this.getCtx(),"grpy"),n=this._handleTextureColor;if(this.isVertical()){for(var s=8+e,r=3,o=0;o<9;o++){var h=new t.Line(this.getCtx(),s+2*o,r,s+2*o+1,r,"dot1"+o);h.setSolidStroke(n),i.addChild(h),r+=2,(h=new t.Line(this.getCtx(),s+1+2*o,r,s+1+2*o+1,r,"dot2"+o)).setSolidStroke(n),i.addChild(h),r+=2,(h=new t.Line(this.getCtx(),s+2*o,r,s+2*o+1,r,"dot3"+o)).setSolidStroke(n),i.addChild(h),r=3}(h=new t.Line(this.getCtx(),s+18,r,s+18+1,r,"dot4")).setSolidStroke(n),i.addChild(h),r+=4,(h=new t.Line(this.getCtx(),s+18,r,s+18+1,r,"dot5")).setSolidStroke(n),i.addChild(h)}else{for(s=3,r=8+e,o=0;o<9;o++)(h=new t.Line(this.getCtx(),s,r+2*o,s,r+2*o+1,"dot1"+o)).setSolidStroke(n),i.addChild(h),s+=2,(h=new t.Line(this.getCtx(),s,r+1+2*o,s,r+1+2*o+1,"dot2"+o)).setSolidStroke(n),i.addChild(h),s+=2,(h=new t.Line(this.getCtx(),s,r+2*o,s,r+2*o+1,"dot3"+o)).setSolidStroke(n),i.addChild(h),s=3;(h=new t.Line(this.getCtx(),s,r+18,s,r+18+1,"dot4")).setSolidStroke(n),i.addChild(h),s+=4,(h=new t.Line(this.getCtx(),s,r+18,s,r+18+1,"dot5")).setSolidStroke(n),i.addChild(h)}return i.setPixelHinting(!0),i},t.Overview.prototype.updateSlidingWindow=function(e,i){var n=this.isVertical(),s=this.getSlidingWindow(),r=this.getOverviewSize(),o=n?this.Height:this.Width,h=this._width,a=this._start,l=this._end,d=this._renderStart,g=t.OverviewUtils.getPositionDate(a,l,0,h),v=t.OverviewUtils.getPositionDate(a,l,o,h),u=this.getDatePosition(g),w=Math.min(o,this.getDatePosition(v)),c=this.getDatePosition(d),p=c,_=w-u;this.isHorizontalRTL()?this.setSlidingWindowPos(s,r-c-_):this.setSlidingWindowPos(s,p),this.setSlidingWindowSize(s,_),this.ScrollTimeAxis(),this._increment=this.calculateIncrement(r)},t.Overview.prototype.createBorderAroundSlidingWindow=function(e,i){var n=this.getSlidingWindow(),s=t.Overview._DEFAULT_WINDOW_BORDER_WIDTH/2;if(this.isVertical())var r=n.getY(),o=r+s,h=r+n.getHeight(),a=h-s,l=0,d=s,g=e,v=g-s,u=new t.Line(this.getCtx(),l,o,e,o,"lh"),w=new t.Line(this.getCtx(),l,a,e,a,"rh"),c=new t.Line(this.getCtx(),d,0,d,r,"ltb"),p=new t.Line(this.getCtx(),d,h,d,i,"rtb"),_=new t.Line(this.getCtx(),v,r,v,h,"bb"),f=new t.Line(this.getCtx(),d,r,d,h,"tb");else o=(r=0)+s,a=(h=i)-s,d=(l=n.getX())+s,v=(g=l+n.getWidth())-s,u=new t.Line(this.getCtx(),d,r,d,h,"lh"),w=new t.Line(this.getCtx(),v,r,v,h,"rh"),c=new t.Line(this.getCtx(),0,o,l+1,o,"ltb"),p=new t.Line(this.getCtx(),g-1,o,e,o,"rtb"),_=new t.Line(this.getCtx(),l,a,g,a,"bb"),f=new t.Line(this.getCtx(),l,o,g,o,"tb");u.setPixelHinting(!0),w.setPixelHinting(!0),c.setPixelHinting(!0),p.setPixelHinting(!0),_.setPixelHinting(!0),f.setPixelHinting(!0),"none"!=this._windowBorderLeftStyle&&u.setSolidStroke(this._windowBorderLeftColor),this.addChild(u),"none"!=this._windowBorderRightStyle&&w.setSolidStroke(this._windowBorderRightColor),this.addChild(w),"none"!=this._borderTopStyle&&this._borderTopColor&&(c.setSolidStroke(this._borderTopColor),p.setSolidStroke(this._borderTopColor)),this.addChild(c),this.addChild(p),"none"!=this._windowBorderBottomStyle&&_.setSolidStroke(this._windowBorderBottomColor),this.addChild(_),"none"!=this._windowBorderTopStyle&&f.setSolidStroke(this._windowBorderTopColor),this.addChild(f)},t.Overview.prototype.createResizeArrow=function(){if(this.isVertical())var e=t.PathUtils.moveTo(6,0)+t.PathUtils.lineTo(0,5)+t.PathUtils.lineTo(5,5)+t.PathUtils.lineTo(5,17)+t.PathUtils.lineTo(0,17)+t.PathUtils.lineTo(6,22)+t.PathUtils.lineTo(12,17)+t.PathUtils.lineTo(7,17)+t.PathUtils.lineTo(7,5)+t.PathUtils.lineTo(12,5)+t.PathUtils.closePath();else e=t.PathUtils.moveTo(5,0)+t.PathUtils.lineTo(0,6)+t.PathUtils.lineTo(5,12)+t.PathUtils.lineTo(5,7)+t.PathUtils.lineTo(17,7)+t.PathUtils.lineTo(17,12)+t.PathUtils.lineTo(22,6)+t.PathUtils.lineTo(17,0)+t.PathUtils.lineTo(17,4)+t.PathUtils.lineTo(5,4)+t.PathUtils.lineTo(5,0)+t.PathUtils.closePath();var i=new t.Path(this.getCtx(),e,"arr");return i.setSolidFill("#ffffff"),i.setSolidStroke("#000000"),i.setVisible(!1),this.addChild(i),i},t.Overview.prototype.setRectPos=function(t,e){this.isVertical()?t.setY(e):t.setX(e)},t.Overview.prototype.getRectPos=function(t){return this.isVertical()?t.getY():t.getX()},t.Overview.prototype.getRectSize=function(t){return this.isVertical()?t.getHeight():t.getWidth()},t.Overview.prototype.setRectSize=function(t,e){this.isVertical()?t.setHeight(e):t.setWidth(e)},t.Overview.prototype.getSlidingWindowPos=function(t){return this.isVertical()?t.getTranslateY():t.getTranslateX()},t.Overview.prototype.setSlidingWindowPos=function(e,i){if(i=Math.max(0,i),this.isVertical()?e.setTranslateY(i):e.setTranslateX(i),this.isLeftAndRightFilterRendered()){this.getLeftBackground().setWidth(i);var n=i+this.getSlidingWindowSize(e),s=this.getRightBackground();if(s.setX(n),s.setWidth(Math.max(0,this.Width-n)),t.OverviewUtils.supportsTouch()&&!this.isFeatureOff("zoom")){var r=this.getHandleStart();this.getLeftBackgroundHandle().setX(i-r),this.getRightBackgroundHandle().setX(n)}}},t.Overview.prototype.getSlidingWindowSize=function(t){return this.getRectSize(t)},t.Overview.prototype.setSlidingWindowSize=function(e,i){if(i=Math.max(this.getMinimumWindowSize(),i),i=Math.min(this.isVertical()?this.Height:this.Width,i),this.setRectSize(e,i),this.isLeftAndRightFilterRendered()){var n=this.getSlidingWindowPos(e)+i,s=this.getRightBackground();s.setX(n),s.setWidth(Math.max(0,this.Width-n)),t.OverviewUtils.supportsTouch()&&!this.isFeatureOff("zoom")&&this.getRightBackgroundHandle().setX(n)}if(!this.isFeatureOff("zoom")){var r=e.getChildAt(3),o=e.getChildAt(4),h=e.getChildAt(5);this.isVertical()?(o.setTranslateY(i),r.setTranslateY(i-this.getHandleSize()),h.setTranslateY(i-this.getGrippySize())):(o.setTranslateX(i),r.setTranslateX(i-this.getHandleSize()),h.setTranslateX(i-this.getGrippySize()))}},t.Overview.prototype.calculateIncrement=function(e){var i=this._width,n=this._start,s=this._end,r=t.OverviewUtils.getPositionDate(n,s,1,e),o=t.OverviewUtils.getPositionDate(n,s,2,e),h=t.OverviewUtils.getDatePosition(n,s,r,i);return t.OverviewUtils.getDatePosition(n,s,o,i)-h},t.Overview.prototype.updateTimeAxis=function(e,i){if(null!=this._ticks)for(var n=this.isVertical(),s=this.getOverviewSize(),r=(this._start,this._end,0);r<this._ticks.length;r++){var o=this._ticks[r],h=parseInt(o.time,10),a=this.getDatePosition(h),l=o.label,d=0;if(r+1<this._ticks.length){var g=parseInt(this._ticks[r+1].time,10);d=this.getDatePosition(g)-a}else d=s-a;this.isHorizontalRTL()&&(a=s-a),n&&(d=this.Width),d-=2*t.Overview._DEFAULT_AXIS_LABEL_PADDING,this.addTick(a,e,i,"tick"+r),this.addLabel(a,l,e,i,d,"label"+r)}},t.Overview.prototype.addTick=function(e,i,n,s){if(this.isVertical())var r=new t.Line(this.getCtx(),0,e,i,e,s);else r=new t.Line(this.getCtx(),e,0,e,n,s);var o=new t.SolidStroke(this._timeIndicatorColor);o.setStyle(t.Stroke.DASHED,3),r.setStroke(o),r.setPixelHinting(!0),this.addChild(r)},t.Overview.prototype.addLabel=function(e,i,n,s,r,o,h){if(h=h||new t.CSSStyle("font-weight:bold"),this.isVertical()){var a=new t.OutputText(this.getCtx(),i,4,e,o);if(a.setCSSStyle(h),this.isRTL()){var l=a.getDimensions();a.setX(Math.max(4,this.Width-l.w-4))}}else{if(this.isOverviewAbove())var d=2;else d=s-this.getTimeAxisHeight()+2;var g=t.Overview._DEFAULT_AXIS_LABEL_PADDING;(a=new t.OutputText(this.getCtx(),i,e+g,d,o)).setCSSStyle(h),this.isHorizontalRTL()&&(l=a.getDimensions(),a.setX(e-Math.min(l.w,r)-g))}t.TextUtils.fitText(a,r,1/0,this),a._rawText=a.getUntruncatedTextString()},t.Overview.prototype.updateCurrentTime=function(e,i){if(!(null==this._currentTime||isNaN(this._currentTime)||this._currentTime<this._start||this._currentTime>this._end)){var n=this.getDatePosition(this._currentTime);if(this.isVertical())var s=new t.Line(this.getCtx(),0,n,e,n,"ocd");else this.isRTL()&&(n=e-n),s=new t.Line(this.getCtx(),n,0,n,i,"ocd");s.setSolidStroke(this._currentTimeIndicatorColor),s.setPixelHinting(!0),this.addChild(s)}},t.Overview.prototype.parseFilledTimeRanges=function(t,e){if(null!=this._formattedTimeRanges)for(var i=this._start,n=this._end,s=0;s<this._formattedTimeRanges.length;s++){var r=this._formattedTimeRanges[s];this.addFilledTimeRange(r,i,n,t,e)}},t.Overview.prototype.addFilledTimeRange=function(e,i,n,s,r){var o=parseInt(e.rs,10),h=parseInt(e.re,10),a=e.c;if(null!=o&&null!=h){var l=this.getOverviewSize(),d=this.getDatePosition(o),g=this.getDatePosition(h),v=g-d;if(this.isHorizontalRTL()&&(d=l-d-v,g=l-g-v),this.isVertical())var u=new t.Rect(this.getCtx(),0,d,s-this.getTimeAxisWidth(),v,"ftr");else u=new t.Rect(this.getCtx(),d,this.isOverviewAbove()?this.getTimeAxisHeight():0,v,r-this.getTimeAxisHeight(),"ftr");null!=a&&u.setSolidFill(a,.4),u.setCursor("move"),u.setPixelHinting(!0),this.addChild(u)}},t.Overview.prototype.parseDataXML=function(t,e){},t.Overview.prototype.animateSlidingWindow=function(e,i){var n=this.getSlidingWindow(),s=n.getChildAt(3),r=n.getChildAt(4),o=n.getChildAt(5);if(null!=i||e!=this.getSlidingWindowPos(n)){var h=this.getLeftHandle(),a=this.getRightHandle(),l=this.getLeftTopBar(),d=this.getRightTopBar(),g=this.getBottomBar(),v=this.getTopBar();if(this.isVertical()){var u=n.getTranslateY,w=n.setTranslateY,c=n.getHeight,p=n.setHeight,_=h.getY1,f=h.setY1,S=h.getY2,O=h.setY2,T=a.getY1,P=a.setY1,m=a.getY2,E=a.setY2,C=l.getY2,y=l.setY2,D=d.getY1,A=d.setY1,W=g.getY1,R=g.setY1,L=g.getY2,x=g.setY2,b=v.getY1,H=v.setY1,B=v.getY2,I=v.setY2;if(null!=r&&null!=o)var M=r.getTranslateY,Y=r.setTranslateY,U=o.getTranslateY,z=o.setTranslateY}else u=n.getTranslateX,w=n.setTranslateX,c=n.getWidth,p=n.setWidth,_=h.getX1,f=h.setX1,S=h.getX2,O=h.setX2,T=a.getX1,P=a.setX1,m=a.getX2,E=a.setX2,C=l.getX2,y=l.setX2,D=d.getX1,A=d.setX1,W=g.getX1,R=g.setX1,L=g.getX2,x=g.setX2,b=v.getX1,H=v.setX1,B=v.getX2,I=v.setX2,null!=r&&null!=o&&(M=r.getTranslateX,Y=r.setTranslateX,U=o.getTranslateX,z=o.setTranslateX);var N=this.getMinimumPosition(),k=this.getMaximumPosition(),X=this.getSlidingWindowSize(n);e=null!=i?Math.max(N,Math.min(k-i,e)):Math.max(N,Math.min(k-X,e));var F=this.isAnimationOnClick()?new t.Animator(this.getCtx(),.5,0,t.Easing.linear):null;if(this.animateProperty(F,n,u,w,e),null!=i&&(this.animateProperty(F,n,c,p,i),null!=r&&this.animateProperty(F,r,M,Y,i),null!=s&&this.animateProperty(F,s,M,Y,i-this.getHandleSize()),null!=o&&this.animateProperty(F,o,U,z,i-this.getGrippySize())),this.animateProperty(F,h,_,f,e),this.animateProperty(F,h,S,O,e),null!=i?(this.animateProperty(F,a,T,P,e+i),this.animateProperty(F,a,m,E,e+i)):(this.animateProperty(F,a,T,P,e+X),this.animateProperty(F,a,m,E,e+X)),this.animateProperty(F,l,C,y,e+1),null!=i?this.animateProperty(F,d,D,A,e+i-1):this.animateProperty(F,d,D,A,e+X-1),this.animateProperty(F,g,W,R,e),this.animateProperty(F,v,b,H,e),null!=i?(this.animateProperty(F,g,L,x,e+i),this.animateProperty(F,v,B,I,e+i)):(this.animateProperty(F,g,L,x,e+X),this.animateProperty(F,v,B,I,e+X)),this.isLeftAndRightFilterRendered()){var V=this.getLeftBackground(),K=V.getWidth,G=V.setWidth;this.animateProperty(F,V,K,G,e);var Z=e+X,j=this.getRightBackground(),q=j.getWidth,J=j.setWidth,Q=j.getX,$=j.setX;if(this.isVertical())var tt=this.Height;else tt=this.Width;if(this.animateProperty(F,j,q,J,tt-Z),this.animateProperty(F,j,Q,$,Z),t.OverviewUtils.supportsTouch()&&!this.isFeatureOff("zoom")){var et=this.getHandleStart(),it=this.getLeftBackgroundHandle(),nt=it.getX,st=it.setX,rt=this.getRightBackgroundHandle(),ot=rt.getX,ht=rt.setX;this.animateProperty(F,it,nt,st,e-et),this.animateProperty(F,rt,ot,ht,Z)}}null!=F&&F.play()}},t.Overview.prototype.animateProperty=function(e,i,n,s,r){null!=e?e.addProp(t.Animator.TYPE_NUMBER,i,n,s,r):s.call(i,r)},t.Overview.prototype.HandleShapeMouseOver=function(e){var i=this._findDrawable(e);if(i&&"bg"!=i.getId()&&"ocd"!=i.getId())if("label"==i.getId().substr(0,5)&&(i instanceof t.OutputText||i instanceof t.BackgroundOutputText))i.isTruncated()&&this.getCtx().getTooltipManager().showDatatip(e.pageX,e.pageY,i._rawText,"#000000");else{if(null!=this._resizeArrow&&this.isHandle(i)){var n=this.getCtx().pageToStageCoords(e.pageX,e.pageY);n=this.stageToLocal(n),this.isVertical()?this._resizeArrow.setTranslate(n.x+6,n.y-10):this._resizeArrow.setTranslate(n.x-6,n.y-20),this._resizeArrow.setVisible(!0)}if("window"!=i.getId()&&"ftr"!=i.getId()&&"arr"!=i.getId()&&!this.isHandle(i))return i;this.isFlashEnvironment()&&this.setCursor("move")}},t.Overview.prototype.HandleShapeMouseOut=function(t){null==this._moveDrawable&&this.setCursor("default");var e=this._findDrawable(t);if(null!=e)return this.isHandle(e)&&null!=this._resizeArrow&&this._resizeArrow.setVisible(!1),e},t.Overview.prototype.HandleShapeClick=function(e,i,n){e.stopPropagation();var s=this._findDrawable(e);if(s&&"window"!=s.getId()&&!this.isHandle(s)){if("bg"==s.getId()||"label"==s.getId().substr(0,5)||"ocd"==s.getId()||"lbg"==s.getId()||"rbg"==s.getId()){null==i&&(i=e.pageX),null==n&&(n=e.pageY);var r=this.getCtx().pageToStageCoords(i,n);if(r=this.stageToLocal(r),this.isVertical())var o=r.y,h=this.Height;else o=r.x,h=this.Width;var a=this.getSlidingWindow(),l=o-this.getRectSize(a)/2;this.animateSlidingWindow(l),this.isHorizontalRTL()&&(o=this.Width-o);var d=this.getPositionDate(o),g=new t.OverviewEvent(t.OverviewEvent.SUBTYPE_SCROLL_TIME);if(g.setTime(d),l=Math.max(0,Math.min(l,h-this.getRectSize(a))),this.isHorizontalRTL())var v=this.getPositionDate(this.Width-(l+this.getRectSize(a))),u=this.getPositionDate(this.Width-l);else v=this.getPositionDate(l),u=this.getPositionDate(l+this.getRectSize(a));return g.setNewStartTime(v),g.setNewEndTime(u),void this.dispatchEvent(g)}return s}},t.Overview.prototype.beginDragPan=function(e,i,n){var s=this._findDrawable(e);if(null!=s&&this.isMovable(s)){if("ftr"!=s.getId()&&"sta"!=s.getId()||(s=this.getSlidingWindow()),this._initX=i,this._initY=n,this.isHandle(s)){var r=this.getSlidingWindow();this.isHorizontalRTL()?(this._oldEndPos=this.Width-r.getX(),this._oldStartPos=this._oldEndPos-r.getWidth()):(this._oldStartPos=r.getX(),this._oldEndPos=this._oldStartPos+r.getWidth()),"grpy"==s.getParent().getId()&&(s=s.getParent());var o=s.getId();"grpy"==o&&(o=(s=r.getChildBefore(s)).getId()),"lh"!=o&&"rh"!=o||(o=(s=r.getChildBefore(s)).getId()),"lbgrh"==o&&(s=r.getChildAt(0)),"rbgrh"==o&&(s=r.getChildAt(r.getNumChildren()-3)),t.OverviewUtils.supportsTouch()||(this.isVertical()?(s.setY(0-t.Overview.HANDLE_PADDING_SIZE),s.setHeight(2*(s.getHeight()+t.Overview.HANDLE_PADDING_SIZE))):(s.setX(0-t.Overview.HANDLE_PADDING_SIZE),s.setWidth(2*(s.getWidth()+t.Overview.HANDLE_PADDING_SIZE)))),this.overrideCursors(s.getCursor())}this._moveDrawable=s;var h=new t.OverviewEvent(t.OverviewEvent.SUBTYPE_PRE_RANGECHANGE);return this.dispatchEvent(h),!0}return!1},t.Overview.prototype.overrideCursors=function(t){var e=this.getSlidingWindow();if(null!=e&&e.setCursor(t),this.isLeftAndRightFilterRendered()){var i=this.getLeftBackground(),n=this.getRightBackground();null!=i&&null!=n&&(i.setCursor(t),n.setCursor(t))}},t.Overview.prototype.resetCursors=function(){var t=this.getSlidingWindow();if(null!=t&&t.setCursor("move"),this.isLeftAndRightFilterRendered()){var e=this.getLeftBackground(),i=this.getRightBackground();null!=e&&null!=i&&(e.setCursor("default"),i.setCursor("default"))}},t.Overview.prototype.endDragPan=function(){null!=this._moveDrawable&&1==this._isDragPanning&&("window"==this._moveDrawable.getId()?this.finishWindowDrag(0,0):this.isHandle(this._moveDrawable)&&(this.finishHandleDrag(0,0),t.OverviewUtils.supportsTouch()||(this.isVertical()?(this._moveDrawable.setY(0),this._moveDrawable.setHeight(this.getHandleSize())):(this._moveDrawable.setX(0),this._moveDrawable.setWidth(this.getHandleSize()))),this.resetCursors()),this._isDragPanning=!1,this._moveDrawable=null,this._initX=-1)},t.Overview.prototype.contDragPan=function(t,e,i){if(null!=this._moveDrawable&&-1!=this._initX){this._isDragPanning=!0;var n=e-this._initX,s=i-this._initY;this._initX=e,this._initY=i,"window"==this._moveDrawable.getId()?this.handleWindowDragPositioning(t,n,s):"lh"==this._moveDrawable.getId()||"lhb"==this._moveDrawable.getId()?this.handleLeftHandleDragPositioning(t,n,s):"rh"!=this._moveDrawable.getId()&&"rhb"!=this._moveDrawable.getId()||this.handleRightHandleDragPositioning(t,n,s)}},t.Overview.prototype.HandleTouchStart=function(t){var e=t.touches;this._touchStartX=e[0].pageX,this._touchStartY=e[0].pageY,2==e.length&&(t.preventDefault(),this._touchStartX2=e[1].pageX,this._touchStartY2=e[1].pageY,Math.abs(this._touchStartY-this._touchStartY2)<20?this._counter=0:(this._touchStartX=null,this._touchStartY=null,this._touchStartX2=null,this._touchStartY2=null))},t.Overview.prototype.HandleTouchMove=function(t){t.preventDefault();var e=t.touches
;if(null!=this._touchStartX2&&null!=this._touchStartY2){if(this._counter<50)return void this._counter++;var i=e[1].pageX-this._touchStartX2;this.handleRightHandleDragPositioning(null,i,0),this._touchStartX2=e[1].pageX,this._counter=0}else{var n=Math.abs(this._touchStartX-e[0].pageX),s=Math.abs(this._touchStartY-e[0].pageY);(n>3||s>3)&&(this._touchStartX=null,this._touchStartY=null)}},t.Overview.prototype.HandleTouchEnd=function(t){null!=this._touchStartX2&&null!=this._touchStartY2?this.finishHandleDrag(0,0):null!=this._touchStartX&&null!=this._touchStartY&&this.HandleShapeClick(t,this._touchStartX,this._touchStartY),this._touchStartX=null,this._touchStartY=null,this._touchStartX2=null,this._touchStartY2=null},t.Overview.prototype.stopDragAction=function(){this.endDragPan()},t.Overview.prototype.HandleKeyDown=function(e){var i=e.keyCode;if(i===t.KeyboardEvent.LEFT_ARROW||i===t.KeyboardEvent.RIGHT_ARROW){var n=e.shiftKey?this.handleRightHandleDragPositioning:this.handleWindowDragPositioning,s=i===t.KeyboardEvent.LEFT_ARROW?-1:1;n.call(this,e,s,s)}},t.Overview.prototype.HandleKeyUp=function(e){var i=e.keyCode;if(i===t.KeyboardEvent.LEFT_ARROW||i===t.KeyboardEvent.RIGHT_ARROW){var n=e.shiftKey?this.finishHandleDrag:this.finishWindowDrag,s=i===t.KeyboardEvent.LEFT_ARROW?-1:1;n.call(this,s,s)}},t.Overview.prototype.ScrollToStart=function(){var t=this.getSlidingWindow(),e=this.Width;this.isHorizontalRTL()?this.setSlidingWindowPos(t,e-this.getSlidingWindowSize(t)):this.setSlidingWindowPos(t,0),this.ScrollTimeAxis()},t.Overview.prototype.ScrollToEnd=function(){var t=this.getSlidingWindow(),e=this.Width;this.isHorizontalRTL()?this.setSlidingWindowPos(t,0):this.setSlidingWindowPos(t,e-this.getSlidingWindowSize(t)),this.ScrollTimeAxis()},t.Overview.prototype.ScrollByAmount=function(t){var e=this.getSlidingWindow(),i=t/this._increment;if(this.isVertical())var n=this.Height-e.getHeight();else n=this.Width-e.getWidth(),this.isRTL()&&(i=0-i);this.setSlidingWindowPos(e,Math.min(n,this.getSlidingWindowPos(e)+i)),this.ScrollTimeAxis()},t.Overview.prototype.longScrollToPos=function(t){var e=t/this._increment;this.isHorizontalRTL()&&(e=0-e),this.animateSlidingWindow(e)},t.Overview.prototype.ScrollToPos=function(t){var e=this.getSlidingWindow(),i=t/this._increment;this.isHorizontalRTL()&&(i=0-i),this.setSlidingWindowPos(e,i),this.ScrollTimeAxis()},t.Overview.prototype.scrollToTime=function(e){var i=Math.max(0,t.OverviewUtils.getDatePosition(this._start,this._end,e,this._width));this.longScrollToPos(i)},t.Overview.prototype.handleWindowDragPositioning=function(e,i,n){this.fireScrollEvent(t.OverviewEvent.SUBTYPE_SCROLL_POS,i,n)},t.Overview.prototype.finishWindowDrag=function(e,i){this.fireScrollEvent(t.OverviewEvent.SUBTYPE_SCROLL_END,e,i)},t.Overview.prototype.fireScrollEvent=function(e,i,n){var s=this.getSlidingWindow(),r=this.getSlidingWindowPos(s),o=this.getRectSize(s),h=this.getMinimumPosition(),a=this.getMaximumPosition();if(this.isVertical())var l=n;else l=i;if(r+l<=h)if(this.setSlidingWindowPos(s,h),this.isHorizontalRTL())var d=t.OverviewEvent.END_POS;else d=t.OverviewEvent.START_POS;else r+o+l>=a?(this.setSlidingWindowPos(s,a-o),d=this.isHorizontalRTL()?t.OverviewEvent.START_POS:t.OverviewEvent.END_POS):(this.setSlidingWindowPos(s,r+l),d=this.isHorizontalRTL()?(a-o-r-this._leftMargin)*this._increment:(r-this._leftMargin)*this._increment);this.ScrollTimeAxis();var g=new t.OverviewEvent(e);if(g.setPosition(d),this.isHorizontalRTL())var v=this.getPositionDate(this.Width-(r+this.getRectSize(s))),u=this.getPositionDate(this.Width-r);else v=this.getPositionDate(r),u=this.getPositionDate(r+this.getRectSize(s));g.setNewStartTime(v),g.setNewEndTime(u),this.dispatchEvent(g)},t.Overview.prototype.handleLeftHandleDragPositioning=function(t,e,i){this.handleLeftOrRightHandleDragPositioning(t,e,i,!0)},t.Overview.prototype.handleRightHandleDragPositioning=function(t,e,i){this.handleLeftOrRightHandleDragPositioning(t,e,i,!1)},t.Overview.prototype.handleLeftOrRightHandleDragPositioning=function(e,i,n,s){var r=this.getOverviewSize();if(this.isVertical())var o=n;else o=i;if(0!=o){var h=this.getSlidingWindow(),a=this.getSlidingWindowPos(h),l=this.getSlidingWindowSize(h);if(s){if(l-o<=this.getMinimumWindowSize())return;if(a+o<=this.getMinimumPosition())return;if(this.isVertical())var d=this.getCtx().pageToStageCoords(this.getPageX(e),this.getPageY(e)).y;else d=this.getCtx().pageToStageCoords(this.getPageX(e),this.getPageY(e)).x;if(d=this.stageToLocal(d),o>0&&d<=a)return;if(o<0&&d>=a)return;this.setSlidingWindowPos(h,a+o),this.setSlidingWindowSize(h,l-o)}else{if(l+o<=this.getMinimumWindowSize())return;if(a+l+o>=this.getMaximumPosition())return;if(d=this.isVertical()?this.getCtx().pageToStageCoords(this.getPageX(e),this.getPageY(e)).y:this.getCtx().pageToStageCoords(this.getPageX(e),this.getPageY(e)).x,d=this.stageToLocal(d),o>0&&d<=a+l)return;if(o<0&&d>=a+l)return;this.setSlidingWindowSize(h,l+o)}this.ScrollTimeAxis();var g=this.getPositionDate(this.getSlidingWindowSize(h)),v=r*(this._end-this._start)/(g-this._start);if(this.isRangeChangingSupported()){var u=new t.OverviewEvent(t.OverviewEvent.SUBTYPE_RANGECHANGING);if(u.setNewSize(v),u.setEndHandle(this.isHorizontalRTL()?s:!s),s?u.setExpand(o<0):u.setExpand(o>0),this.isHorizontalRTL())var w=this.getPositionDate(this.Width-(this.getSlidingWindowPos(h)+this.getRectSize(h))),c=this.getPositionDate(this.Width-this.getSlidingWindowPos(h));else w=this.getPositionDate(this.getSlidingWindowPos(h)),c=this.getPositionDate(this.getSlidingWindowPos(h)+this.getRectSize(h));u.setNewStartTime(w),u.setNewEndTime(c),this.dispatchEvent(u)}}},t.Overview.prototype.isRangeChangingSupported=function(){return!0},t.Overview.prototype.finishHandleDrag=function(e,i){var n=this._start,s=this._end,r=this._width,o=this.getOverviewSize(),h=this.getSlidingWindow(),a=o*(s-n)/(this.getPositionDate(this.getRectSize(h))-n),l=this.getPositionDate(this._oldStartPos),d=this.getPositionDate(this._oldEndPos);if(this.isHorizontalRTL())var g=this.getPositionDate(this.Width-(this.getSlidingWindowPos(h)+this.getRectSize(h))),v=this.getPositionDate(this.Width-this.getSlidingWindowPos(h));else g=this.getPositionDate(this.getSlidingWindowPos(h)),v=this.getPositionDate(this.getSlidingWindowPos(h)+this.getRectSize(h));var u=new t.OverviewEvent(t.OverviewEvent.SUBTYPE_RANGECHANGE);u.setOldSize(r),u.setNewSize(a),u.setOldStartTime(l),u.setOldEndTime(d),u.setNewStartTime(g),u.setNewEndTime(v),this.dispatchEvent(u)},t.Overview.prototype.ScrollTimeAxis=function(){var e=this.getSlidingWindow(),i=t.Overview._DEFAULT_WINDOW_BORDER_WIDTH/2,n=this.getSlidingWindowPos(e),s=n+i,r=n+this.getSlidingWindowSize(e)-i,o=this.getLeftHandle(),h=this.getRightHandle(),a=this.getLeftTopBar(),l=this.getRightTopBar(),d=this.getBottomBar(),g=this.getTopBar();this.setLinePos(o,s,s),this.setLinePos(h,r,r),this.setLinePos(a,-1,n),this.setLinePos(l,this.getLinePos1(h),-1),this.setLinePos(d,this.getLinePos1(o),this.getLinePos1(h)),this.setLinePos(g,this.getLinePos1(o),this.getLinePos1(h))},t.Overview.prototype.dispatchEvent=function(e){t.EventDispatcher.dispatchEvent(this._callback,this._callbackObj,this,e)},t.Overview.prototype.destroy=function(){this.EventManager&&(this.EventManager.removeListeners(this),this.EventManager.destroy(),this.EventManager=null),t.OverviewUtils.supportsTouch()?(this.removeEvtListener(t.TouchEvent.TOUCHSTART,this.HandleTouchStart,!1,this),this.removeEvtListener(t.TouchEvent.TOUCHMOVE,this.HandleTouchMove,!1,this),this.removeEvtListener(t.TouchEvent.TOUCHEND,this.HandleTouchEnd,!1,this),this.removeEvtListener(t.MouseEvent.CLICK,this.HandleShapeClick,!1,this)):(this.removeEvtListener(t.MouseEvent.MOUSEOVER,this.HandleShapeMouseOver,!1,this),this.removeEvtListener(t.MouseEvent.MOUSEOUT,this.HandleShapeMouseOut,!1,this),this.removeEvtListener(t.MouseEvent.CLICK,this.HandleShapeClick,!1,this),this.removeEvtListener(t.KeyboardEvent.KEYDOWN,this.HandleKeyDown,!1,this),this.removeEvtListener(t.KeyboardEvent.KEYUP,this.HandleKeyUp,!1,this)),t.Overview.superclass.destroy.call(this)};var e=function(){this.Init({alta:e.VERSION_1})};t.Obj.createSubclass(e,t.BaseComponentDefaults),e.VERSION_1={overviewPosition:"below",style:{currentTimeIndicatorColor:"#c000d1",handleFillColor:"#ffffff",handleTextureColor:"#b3c6db",leftFilterPanelAlpha:.7,leftFilterPanelColor:"#ffffff",overviewBackgroundColor:"#e6ecf3",rightFilterPanelAlpha:.7,rightFilterPanelColor:"#ffffff",timeAxisBarColor:"#e5e5e5",timeAxisBarAlpha:1,timeIndicatorColor:"#bcc7d2",windowBackgroundAlpha:1,windowBackgroundColor:"#ffffff",windowBorderBottomColor:"#4f4f4f",windowBorderBottomStyle:"solid",windowBorderLeftColor:"#4f4f4f",windowBorderLeftStyle:"solid",windowBorderRightColor:"#4f4f4f",windowBorderRightStyle:"solid",windowBorderTopColor:"#4f4f4f",windowBorderTopStyle:"solid"}},t.OverviewParser=function(t){this.Init(t)},t.Obj.createSubclass(t.OverviewParser,t.Obj),t.OverviewParser.prototype.Init=function(t){this._view=t},t.OverviewParser.prototype.parse=function(t){var e=t;return this.ParseRootAttributes(e)},t.OverviewParser.prototype.ParseRootAttributes=function(e){var i=new Object;if(i.animationOnClick=e.animationOnClick,null!=e.startTime&&(i.start=e.startTime),null!=e.endTime&&(i.end=e.endTime),null==i.start&&(i.start=(new Date).getTime()),(null==i.end||i.end<=i.start)&&(i.end=i.start+864e5),null!=e.currentTime&&(i.currentTime=e.currentTime),null!=e.initialFocusTime&&(i.initialFocusTime=e.initialFocusTime),i.orientation="horizontal",null!=e.orientation&&(i.orientation=e.orientation),i.featuresOff=e.featuresOff,i.minimumWindowSize=e.minimumWindowSize,i.leftMargin=e.leftMargin,i.rightMargin=e.rightMargin,null!=e.viewportEndTime){var n=e.viewportEndTime,s=i.start;null!=e.viewportStartTime&&e.viewportStartTime<n&&(s=e.viewportStartTime),null!=e.viewportEndPos?i.width=this.calculateWidth(i.start,i.end,s,n,e.viewportEndPos):i.width=this.calculateWidth(i.start,i.end,s,n,this._view.Width),i.renderStart=s}else i.renderStart=i.start;return 0==i.width&&(i.width=1e3),i.overviewPosition="below",i.selectionMode="none",i.isRtl=t.Agent.isRightToLeft(this._view.getCtx()).toString(),null!=e.rtl&&(i.isRtl=e.rtl.toString()),i},t.OverviewParser.prototype.calculateWidth=function(t,e,i,n,s){var r=s*(e-t),o=n-i;return 0==r||0==o?0:r/o},t.OverviewEvent=function(e){this.Init(t.OverviewEvent.TYPE),this._subtype=e},t.Obj.createSubclass(t.OverviewEvent,t.BaseComponentEvent),t.OverviewEvent.TYPE="overview",t.OverviewEvent.SUBTYPE_PRE_RANGECHANGE="dropCallback",t.OverviewEvent.SUBTYPE_SCROLL_TIME="scrollTime",t.OverviewEvent.SUBTYPE_SCROLL_POS="scrollPos",t.OverviewEvent.SUBTYPE_SCROLL_END="scrollEnd",t.OverviewEvent.SUBTYPE_RANGECHANGE="rangeChange",t.OverviewEvent.SUBTYPE_RANGECHANGING="rangeChanging",t.OverviewEvent.TIME_KEY="time",t.OverviewEvent.POS_KEY="pos",t.OverviewEvent.OLD_SIZE_KEY="oldSize",t.OverviewEvent.NEW_SIZE_KEY="newSize",t.OverviewEvent.OLD_START_TIME_KEY="oldStartTime",t.OverviewEvent.NEW_START_TIME_KEY="newStartTime",t.OverviewEvent.OLD_END_TIME_KEY="oldEndTime",t.OverviewEvent.NEW_END_TIME_KEY="newEndTime",t.OverviewEvent.EXPAND_KEY="expand",t.OverviewEvent.END_HANDLE_KEY="endHandle",t.OverviewEvent.START_POS=-1,t.OverviewEvent.END_POS=-2,t.OverviewEvent.prototype.getSubType=function(){return this._subtype},t.OverviewEvent.prototype.setTime=function(e){this.addParam(t.OverviewEvent.TIME_KEY,e)},t.OverviewEvent.prototype.getTime=function(){return this.getParamValue(t.OverviewEvent.TIME_KEY)},t.OverviewEvent.prototype.setOldSize=function(e){this.addParam(t.OverviewEvent.OLD_SIZE_KEY,e)},t.OverviewEvent.prototype.getOldSize=function(){return this.getParamValue(t.OverviewEvent.OLD_SIZE_KEY)},t.OverviewEvent.prototype.setNewSize=function(e){this.addParam(t.OverviewEvent.NEW_SIZE_KEY,e)},t.OverviewEvent.prototype.getNewSize=function(){return this.getParamValue(t.OverviewEvent.NEW_SIZE_KEY)},t.OverviewEvent.prototype.setOldStartTime=function(e){this.addParam(t.OverviewEvent.OLD_START_TIME_KEY,e)},t.OverviewEvent.prototype.getOldStartTime=function(){return this.getParamValue(t.OverviewEvent.OLD_START_TIME_KEY)},t.OverviewEvent.prototype.setNewStartTime=function(e){this.addParam(t.OverviewEvent.NEW_START_TIME_KEY,e)},t.OverviewEvent.prototype.getNewStartTime=function(){return this.getParamValue(t.OverviewEvent.NEW_START_TIME_KEY)},t.OverviewEvent.prototype.setOldEndTime=function(e){this.addParam(t.OverviewEvent.OLD_END_TIME_KEY,e)},t.OverviewEvent.prototype.getOldEndTime=function(){return this.getParamValue(t.OverviewEvent.OLD_END_TIME_KEY)},t.OverviewEvent.prototype.setNewEndTime=function(e){this.addParam(t.OverviewEvent.NEW_END_TIME_KEY,e)},t.OverviewEvent.prototype.getNewEndTime=function(){return this.getParamValue(t.OverviewEvent.NEW_END_TIME_KEY)},t.OverviewEvent.prototype.setExpand=function(e){this.addParam(t.OverviewEvent.EXPAND_KEY,e)},t.OverviewEvent.prototype.isExpand=function(){return this.getParamValue(t.OverviewEvent.EXPAND_KEY)},t.OverviewEvent.prototype.setEndHandle=function(e){this.addParam(t.OverviewEvent.END_HANDLE_KEY,e)},t.OverviewEvent.prototype.isEndHandle=function(){return this.getParamValue(t.OverviewEvent.END_HANDLE_KEY)},t.OverviewEvent.prototype.setPosition=function(e){this.addParam(t.OverviewEvent.POS_KEY,e)},t.OverviewEvent.prototype.getPosition=function(){return this.getParamValue(t.OverviewEvent.POS_KEY)};var i=function(t){this.Init(t.getCtx(),t.processEvent,t),this._overview=t};t.Obj.createSubclass(i,t.EventManager),i.prototype.addListeners=function(e){t.SvgDocumentUtils.addDragListeners(this._overview,this._onDragStart,this._onDragMove,this._onDragEnd,this)},i.prototype._onDragStart=function(e){return t.Agent.isTouchDevice()?this._onTouchDragStart(e):this._onMouseDragStart(e)},i.prototype._onDragMove=function(e){return t.Agent.isTouchDevice()?this._onTouchDragMove(e):this._onMouseDragMove(e)},i.prototype._onDragEnd=function(e){return t.Agent.isTouchDevice()?this._onTouchDragEnd(e):this._onMouseDragEnd(e)},i.prototype._getRelativePosition=function(e,i){return this._stageAbsolutePosition||(this._stageAbsolutePosition=this._context.getStageAbsolutePosition()),new t.Point(e-this._stageAbsolutePosition.x,i-this._stageAbsolutePosition.y)},i.prototype._onMouseDragStart=function(e){if(e.button!=t.MouseEvent.RIGHT_CLICK_BUTTON){var i=this._getRelativePosition(e.pageX,e.pageY);return t.EventManager.consumeEvent(e),this.getCtx().getStage().getSVGRoot().parentNode.focus(),this._overview.beginDragPan(e,i.x,i.y)}return!1},i.prototype._onMouseDragMove=function(t){var e=this._getRelativePosition(t.pageX,t.pageY);return t.stopPropagation(),this._overview.contDragPan(t,e.x,e.y),!0},i.prototype._onMouseDragEnd=function(t){t.stopPropagation(),this._overview.endDragPan(),this._stageAbsolutePosition=null},i.prototype._onTouchDragStart=function(t){var e=t.touches;if(t.stopPropagation(),1==e.length){var i=this._getRelativePosition(e[0].pageX,e[0].pageY);return t.preventDefault(),this._overview.beginDragPan(t,i.x,i.y)}return!1},i.prototype._onTouchDragMove=function(t){var e=t.touches;if(1==e.length){var i=this._getRelativePosition(e[0].pageX,e[0].pageY);this._overview.contDragPan(t,i.x,i.y),t.preventDefault()}t.stopPropagation()},i.prototype._onTouchDragEnd=function(e){this._overview.endDragPan(),t.EventManager.consumeEvent(e),this._stageAbsolutePosition=null},t.exportProperty(t,"Overview",t.Overview),t.exportProperty(t.Overview.prototype,"render",t.Overview.prototype.render);var n=new Object;t.Obj.createSubclass(n,t.Obj),n.getHandleFillColor=function(t){return null!=t._hfc?t._hfc:t.style.handleFillColor},n.getHandleTextureColor=function(t){return null!=t._htc?t._htc:t.style.handleTextureColor},n.getHandleBackgroundImage=function(t){return null!=t._hbi?t._hbi:t.style.handleBackgroundImage},n.getHandleWidth=function(t){return null!=t._hw?t._hw:t.style.handleWidth},n.getHandleHeight=function(t){return null!=t._hh?t._hh:t.style.handleHeight},n.getBorderTopColor=function(t){return null!=t._btc?t._btc:t.style.borderTopColor},n.getBorderTopStyle=function(t){return null!=t._bts?t._bts:t.style.borderTopStyle},n.getWindowBackgroundColor=function(t){return null!=t._wbc?t._wbc:t.style.windowBackgroundColor},n.getWindowBackgroundAlpha=function(t){return t.style.windowBackgroundAlpha},n.getWindowBorderTopStyle=function(t){return null!=t._wbts?t._wbts:t.style.windowBorderTopStyle},n.getWindowBorderRightStyle=function(t){return null!=t._wbrs?t._wbrs:t.style.windowBorderRightStyle},n.getWindowBorderBottomStyle=function(t){return null!=t._wbbs?t._wbbs:t.style.windowBorderBottomStyle},n.getWindowBorderLeftStyle=function(t){return null!=t._wbls?t._wbls:t.style.windowBorderLeftStyle},n.getWindowBorderTopColor=function(t){return null!=t._wbtc?t._wbtc:t.style.windowBorderTopColor},n.getWindowBorderRightColor=function(t){return null!=t._wbrc?t._wbrc:t.style.windowBorderRightColor},n.getWindowBorderBottomColor=function(t){return null!=t._wbbc?t._wbbc:t.style.windowBorderBottomColor},n.getWindowBorderLeftColor=function(t){return null!=t._wblc?t._wblc:t.style.windowBorderLeftColor},n.getOverviewBackgroundColor=function(t){return null!=t._obc?t._obc:t.style.overviewBackgroundColor},n.getCurrentTimeIndicatorColor=function(t){return null!=t._ctic?t._ctic:t.style.currentTimeIndicatorColor},n.getTimeAxisBarColor=function(t){return null!=t._tabc?t._tabc:t.style.timeAxisBarColor},n.getTimeAxisBarAlpha=function(t){return null!=t._tabo?t._tabo:t.style.timeAxisBarAlpha},n.getTimeIndicatorColor=function(t){return null!=t._tic?t._tic:t.style.timeIndicatorColor},n.getLeftFilterPanelColor=function(t){return t.style.leftFilterPanelColor},n.getLeftFilterPanelAlpha=function(t){return t.style.leftFilterPanelAlpha},n.getRightFilterPanelColor=function(t){return t.style.rightFilterPanelColor},n.getRightFilterPanelAlpha=function(t){return t.style.rightFilterPanelAlpha}}(t),t});
define('ojs/internal-deps/dvt/DvtChart',["./DvtToolkit","./DvtAxis","./DvtLegend","./DvtOverview"],function(e){return function(e){e.Chart=function(e,t,i){this.Init(e,t,i)},e.Obj.createSubclass(e.Chart,e.BaseComponent),e.Chart.newInstance=function(t,i,r){return new e.Chart(t,i,r)},e.Chart.getDefaults=function(e){return(new o).getDefaults(e)},e.Chart.prototype.Init=function(t,r,a){e.Chart.superclass.Init.call(this,t,r,a),this.Defaults=new o,this.EventManager=new i(this),this.EventManager.addListeners(this),e.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(this.CreateKeyboardHandler(this.EventManager)),this.setId("chart1000"+Math.floor(1e9*Math.random())),this.legend=null,this.xAxis=null,this.yAxis=null,this.y2Axis=null,this.overview=null,this.xScrollbar=null,this.yScrollbar=null,this.dragButtons=null,this.pieChart=null,this.pieCenterDiv=null,this.Peers=[],this.SeriesStyleArray=[],this._numFrontObjs=0,this._numSelectedObjsInFront=0,this._dataLabels=null,this._rawOptions=null},e.Chart.prototype.GetComponentDescription=function(){var t=this.getOptions(),i=e.Bundle.getTranslation(t,"componentName",e.Bundle.UTIL_PREFIX,"CHART"),r="",a=e.Bundle.getTranslatedString(e.Bundle.UTIL_PREFIX,"ARIA_LABEL_DESC_DELIMITER");return t.title.text&&(r+=this.Options.title.text,t.subtitle.text&&(r+=a+this.Options.subtitle.text)),t.footnote.text&&(r=0==r.length?this.Options.footnote.text:r.concat(a,this.Options.footnote.text)),r.length>0?e.Bundle.getTranslation(t,"labelAndValue",e.Bundle.UTIL_PREFIX,"COLON_SEP_LIST",[i,r]):i},e.Chart.prototype.SetOptions=function(t){t?(this._rawOptions=t,this.Options=this.Defaults.calcOptions(t),this.getOptionsCache().clearCache(),H.processDataObject(this),(!e.Agent.isEnvironmentBrowser()||z.isScatterBubble(this)&&H.getSeriesCount(this)*H.getGroupCount(this)>te.FILTER_THRESHOLD_SCATTER_BUBBLE)&&(this.Options.animationOnDisplay="none",this.Options.animationOnDataChange="none")):this.Options||(this.Options=this.GetDefaults());var i=this.Options.selectionMode;this._selectionHandler="single"==i?new e.SelectionHandler(this.getCtx(),e.SelectionHandler.TYPE_SINGLE):"multiple"==i?new e.SelectionHandler(this.getCtx(),e.SelectionHandler.TYPE_MULTIPLE):null,this.EventManager.setSelectionHandler(this._selectionHandler);var r=this.Options._spb;if(r)for(var a in this._popupBehaviors={},r)for(var s=r[a],n=0;n<s.length;n++){this._popupBehaviors[a]||(this._popupBehaviors[a]=[]);var o=s[n],l=o.popupId,h=o.triggerType,u=o.alignId,g=o.align;this._popupBehaviors[a].push(new e.ShowPopupBehavior(l,h,u,g))}},e.Chart.prototype.render=function(t,i,r){this.getCache().clearCache();var a=this.getCtx(),s=this.Options?this.Options.animationOnDataChange:"none",n="none"!=s?new D(this):null,o=this.__cacheChartFocus();this._container&&this.__cleanUp(),this.SetOptions(t),isNaN(i)||isNaN(r)||(this.Width=i,this.Height=r);var l=new e.Container(a);this.addChild(l),J.render(this,l,new e.Rectangle(0,0,this.Width,this.Height)),z.isSpark(this)&&this.EventManager.removeListeners(this),this.StopAnimation();var h=V.getAnimationOnDisplay(this),u=V.getAnimationDuration(this),g=new e.Rectangle(0,0,this.Width,this.Height),d=!1;if(this._container){if("none"!=s&&t)if(this.Animation=e.BlackBoxAnimationHandler.getCombinedAnimation(a,s,this._container,l,g,u),this.Animation)d=!0;else if("auto"==s&&this.getPlotArea()){var c=this.__getPlotAreaSpace();this._delContainer=te.createClippedGroup(this,this._container,new e.Rectangle(0,0,c.w,c.h)),this.Animation=E.createAnimation(n,this,s,u,this._delContainer),this._delContainer.getNumChildren()>0&&this.getPlotArea().addChild(this._delContainer)}}else"none"!=h&&(this.Animation=e.BlackBoxAnimationHandler.getInAnimation(a,h,l,g,u),this.Animation||"auto"!=h||(this.Animation=T.createAnimation(this,h,u)));this.Animation?(this.EventManager.removeListeners(this),e.Playable.appendOnEnd(this.Animation,this._onAnimationEnd,this),this.Animation.play(),this._oldContainer=this._container,!d&&this._oldContainer&&this._oldContainer.removeFromParent()):this._container&&(this._container.removeFromParent(),this._container.destroy(),this._container=null),this._container=l,this._dataCursor=J.renderDataCursor(this),this.UpdateAriaAttributes(),this.__restoreChartFocus(o),this.Animation||this.RenderComplete()},e.Chart.prototype.__cleanUp=function(){this._dataCursor&&(this.removeChild(this._dataCursor),this._dataCursor=null),this.EventManager&&(this.EventManager.hideHoverFeedback(),this.EventManager.setPanZoomHandler(null),this.EventManager.setMarqueeZoomHandler(null),this.EventManager.setMarqueeSelectHandler(null),this.EventManager.panButton=null,this.EventManager.zoomButton=null,this.EventManager.selectButton=null),this.pieCenterDiv&&(this.getCtx().getContainer().removeChild(this.pieCenterDiv),this.pieCenterDiv=null),this.Peers=[],this.xScrollbar=null,this.yScrollbar=null,this.dragButtons&&(this.removeChild(this.dragButtons),this.dragButtons.destroy(),this.dragButtons=null),this._plotArea=null,this._areaContainer=null,this._dataLabels=null,this.getCache().clearCache()},e.Chart.prototype.__cleanUpAxisAndPlotArea=function(){this.EventManager.hideHoverFeedback(),this.Peers=[],this.xAxis&&(this._container.removeChild(this.xAxis),this.xAxis.destroy()),this.yAxis&&(this._container.removeChild(this.yAxis),this.yAxis.destroy()),this.y2Axis&&(this._container.removeChild(this.y2Axis),this.y2Axis.destroy()),this._plotArea&&this._plotArea==this._panZoomTarget?this._plotArea.setVisible(!1):this._plotArea&&(this._container.removeChild(this._plotArea),this._plotArea.destroy()),this._plotArea=null,this.getCache().clearCache()},e.Chart.prototype._onAnimationEnd=function(){this._oldContainer&&(this._oldContainer.removeFromParent(),this._oldContainer.destroy(),this._oldContainer=null),this._delContainer&&(this._delContainer.removeFromParent(),this._delContainer.destroy(),this._delContainer=null),this.AnimationStopped||this.RenderComplete(),this.EventManager.addListeners(this),this.Animation=null,this.AnimationStopped=!1},e.Chart.prototype.CreateKeyboardHandler=function(e){return new r(e,this)},e.Chart.prototype.getAutomation=function(){return new t(this)},e.Chart.prototype.getValuesAt=function(e,t){var i=this.__getPlotAreaSpace(),r=e-i.x,a=t-i.y,s=z.isPolar(this),n=z.isHorizontal(this);if(s){r-=i.w/2,a-=i.h/2;var o=Math.sqrt(r*r+a*a),l=Math.atan2(r,-a);return l<0&&(l+=2*Math.PI),{x:this.xAxis?this.xAxis.getValueAt(l):null,y:this.yAxis?this.yAxis.getValueAt(o):null}}return{x:this.xAxis?this.xAxis.getValueAt(n?a:r):null,y:this.yAxis?this.yAxis.getValueAt(n?r:a):null,y2:this.y2Axis?this.y2Axis.getValueAt(n?r:a):null}},e.Chart.prototype.filter=function(e,t){var i="out"==t?"hidden":"visible";U.setVisibility(this,e,i),this.render(this.Options)},e.Chart.prototype.highlight=function(t){this.getOptions().highlightedCategories=e.JsonUtils.clone(t),e.CategoryRolloverHandler.highlight(t,this.getObjects(),"any"==this.getOptions().highlightMatch),this.legend&&this.legend.highlight(t),this.pieChart&&this.pieChart.highlight(t),this.overview&&this.overview.getBackgroundChart().highlight(t)},e.Chart.prototype.select=function(t){this.getOptions().selection=e.JsonUtils.clone(t);var i=H.getInitialSelection(this);U.setInitialSelection(this,i),this.pieChart&&this.pieChart.setInitialSelection()},e.Chart.prototype.positionDataCursor=function(t){var i=this.getEventManager().getDataCursorHandler();if(i){if(t){var r=this.xAxis&&null!=t.x?this.xAxis.getCoordAt(t.x):null,a=null;if(z.isBLAC(this)?this.yAxis&&null!=t.y?a=this.yAxis.getBoundedCoordAt(t.y):this.y2Axis&&null!=t.y2&&(a=this.yAxis.getBoundedCoordAt(t.y2)):a=this.yAxis&&null!=t.y?this.yAxis.getCoordAt(t.y):null,null!=r&&null!=a){var s=this.__getPlotAreaSpace(),n=te.convertAxisCoord(this,new e.Point(r,a),s);return void i.processMove(new e.Point(s.x+n.x,s.y+n.y),!0)}}i.processEnd(!0)}},e.Chart.prototype.processEvent=function(t,i){var r=t.type;if("categoryHide"==r||"categoryShow"==r)this.filter(t.category,"categoryHide"==r?"out":"in");else if("categoryHighlight"==r)this!=i&&this.highlight(t.categories),this.legend&&this.legend!=i&&this.legend.processEvent(t,i);else if("selection"==r)t=this._processSelectionEvent(t);else if(r==e.PanZoomEvent.TYPE)t=this._processPanZoomEvent(t);else if(r==e.MarqueeEvent.TYPE)t=this._processMarqueeEvent(t);else if(r==e.OverviewEvent.TYPE){var a=t.getSubType();if(a==e.OverviewEvent.SUBTYPE_PRE_RANGECHANGE)return;var s=a==e.OverviewEvent.SUBTYPE_SCROLL_TIME||a==e.OverviewEvent.SUBTYPE_SCROLL_END||a==e.OverviewEvent.SUBTYPE_RANGECHANGE;t=this._processScrollbarEvent(t.getNewStartTime(),t.getNewEndTime(),s,i)}else if(r==e.SimpleScrollbarEvent.TYPE)t=this._processScrollbarEvent(t.getNewMin(),t.getNewMax(),t.getSubtype()==e.SimpleScrollbarEvent.SUBTYPE_END,i);else{if("ready"==r&&this!=i)return;"adfShowPopup"==r&&(t=this._processShowPopupEvent(t))}if(t){if("selection"==(r=t.type)){var n,o,l=this.getOptions(),h=l.selection,u=H.getCurrentSelection(this);t.complete&&(l.selection=u),h=h||[],u=u||[];var g={};for(n=0;n<h.length;n++)g[h[n].id]=!0;var d={};for(o=0;o<u.length;o++)d[u[o].id]=!0;var c={};for(o=0;o<u.length;o++){var p=u[o].id;g[p]||(c[p]=!0)}var _={};for(n=0;n<h.length;n++){var f=h[n].id;d[f]||(_[f]=!0)}t.addedSet=c,t.removedSet=_;for(var S=0;S<t.selection.length;S++)U.addEventData(this,t.selection[S]);t.component=this.getOptions()._widgetConstructor}else"drill"==r&&(U.addEventData(this,t),t.component=this.getOptions()._widgetConstructor);this.dispatchEvent(t)}},e.Chart.prototype._processSelectionEvent=function(t){var i=U.processIds(this,t.selection);return this._updateOverviewSelection(),e.EventFactory.newChartSelectionEvent(i,!0)},e.Chart.prototype._processPanZoomEvent=function(t){var i=t.getSubtype();return i==e.PanZoomEvent.SUBTYPE_PAN_START||i==e.PanZoomEvent.SUBTYPE_PINCH_START?(e.Agent.isTouchDevice()&&this._panZoomTarget!=this._plotArea&&(this._container.removeChild(this._panZoomTarget),this._panZoomTarget=this._plotArea),null):(this._lastPanZoomEvent?(t.dxMin+=this._lastPanZoomEvent.dxMin,t.dxMax+=this._lastPanZoomEvent.dxMax,t.dyMin+=this._lastPanZoomEvent.dyMin,t.dyMax+=this._lastPanZoomEvent.dyMax):e.Context.requestAnimationFrame(e.Obj.createCallback(this,this._animatePanZoomEvent)),this._lastPanZoomEvent=t,null)},e.Chart.prototype._animatePanZoomEvent=function(){var t=this._lastPanZoomEvent;this._lastPanZoomEvent=null;var i,r,a=t.getSubtype(),s=a==e.PanZoomEvent.SUBTYPE_PAN_END||a==e.PanZoomEvent.SUBTYPE_ZOOM||a==e.PanZoomEvent.SUBTYPE_PINCH_END;U.isLiveScroll(this)?(i=U.getAxisBoundsByDelta(this,t.dxMin,t.dxMax,t.dyMin,t.dyMax),this._setScrollbarViewport(i),this._setViewport(i,s)):(i=U.getAxisBoundsByDelta(this,t.dxMinTotal,t.dxMaxTotal,t.dyMinTotal,t.dyMaxTotal),this._setScrollbarViewport(i),s&&this._setViewport(i,s)),s&&(J._setEventHandlers(this),this._panZoomTarget!=this._plotArea&&(this._container.removeChild(this._panZoomTarget),this._panZoomTarget=null)),(s||!i.unchanged)&&(r=z.isBLAC(this)?e.EventFactory.newChartViewportChangeEvent(s,i.xMin,i.xMax,i.startGroup,i.endGroup,null,null):e.EventFactory.newChartViewportChangeEvent(s,i.xMin,i.xMax,null,null,i.yMin,i.yMax),this.dispatchEvent(r))},e.Chart.prototype._processMarqueeEvent=function(t){var r,a=t.getSubtype(),s=this.EventManager;if(U.adjustBounds(t),s.getDragMode()==i.DRAG_MODE_SELECT){var n=s.getSelectionHandler();if(a==e.MarqueeEvent.SUBTYPE_START)this._initSelection=t.ctrlKey?n.getSelectedIds():[];else{var o=U.getBoundedObjects(this,t);n.processInitialSelections(this._initSelection,this.getChartObjPeers()),n.processGroupSelection(o,!0)}var l=n.getSelectedIds();r=U.getAxisBounds(this,t,!1);var h=a==e.MarqueeEvent.SUBTYPE_END,u=e.EventFactory.newChartSelectionEvent(l,h,r.xMin,r.xMax,r.startGroup,r.endGroup,r.yMin,r.yMax,r.y2Min,r.y2Max);return a==e.MarqueeEvent.SUBTYPE_END&&this._updateOverviewSelection(),u}return s.getDragMode()==i.DRAG_MODE_ZOOM?a!=e.MarqueeEvent.SUBTYPE_END?null:(r=U.getAxisBounds(this,t,!0),this._setViewport(r,!0),this._setScrollbarViewport(r),J._setEventHandlers(this),z.isBLAC(this)?e.EventFactory.newChartViewportChangeEvent(!0,r.xMin,r.xMax,r.startGroup,r.endGroup,null,null):e.EventFactory.newChartViewportChangeEvent(!0,r.xMin,r.xMax,null,null,r.yMin,r.yMax)):null},e.Chart.prototype._processScrollbarEvent=function(t,i,r,a){return this._lastScrollbarEvent||e.Context.requestAnimationFrame(e.Obj.createCallback(this,this._animateScrollbarEvent)),this._lastScrollbarEvent={start:t,end:i,actionDone:r,source:a},null},e.Chart.prototype._animateScrollbarEvent=function(){var t=this._lastScrollbarEvent.start,i=this._lastScrollbarEvent.end,r=this._lastScrollbarEvent.actionDone,a=this._lastScrollbarEvent.source;this._lastScrollbarEvent=null;var s=a==this.yScrollbar?this.yAxis:this.xAxis,n=U.getActualMinMax(s,t,i);if(t=n.min,i=n.max,(U.isLiveScroll(this)||r)&&(a==this.yScrollbar?this._setViewport({yMin:t,yMax:i},r):this._setViewport({xMin:t,xMax:i,unchanged:n.unchanged},r)),r||!n.unchanged){var o;if(a==this.yScrollbar)o=e.EventFactory.newChartViewportChangeEvent(r,null,null,null,null,t,i,null,null);else{var l=U.getAxisStartEndGroup(this.xAxis,t,i);o=e.EventFactory.newChartViewportChangeEvent(r,t,i,l.startGroup,l.endGroup,null,null,null,null)}this.dispatchEvent(o)}},e.Chart.prototype._processShowPopupEvent=function(t){if("mouseHover"!=t.triggerType&&this.isSelectionSupported()&&this.getSelectionHandler().getSelectedCount()>0){var i=U.processIds(this,this.getSelectionHandler().getSelectedIds());(t=e.EventFactory.newAdfShowPopupEvent(t.showPopupBehavior,t.launcherBounds,t.launcherId))[e.BaseComponentEvent.CLIENT_ROW_KEY]=i}return t},e.Chart.prototype._updateOverviewSelection=function(){if(this.overview){var e=this.overview.getBackgroundChart();e.getOptions().selection=H.getCurrentSelection(this),e.render()}},e.Chart.prototype.changeOption=function(t,i,r){this.getOptions()[t]=i,this.dispatchEvent(e.EventFactory.newOptionChangeEvent(t,i,r))},e.Chart.prototype.registerObject=function(e){this.Peers.push(e)},e.Chart.prototype.getObjects=function(){return this.Peers},e.Chart.prototype.getChartObjPeers=function(){for(var e=[],t=0;t<this.Peers.length;t++)this.Peers[t]instanceof a&&e.push(this.Peers[t]);return e},e.Chart.prototype.getRefObjPeers=function(){for(var e=[],t=0;t<this.Peers.length;t++)this.Peers[t]instanceof s&&e.push(this.Peers[t]);return e},e.Chart.prototype.getObject=function(e,t){for(var i=0;i<this.Peers.length;i++)if(this.Peers[i]instanceof a&&this.Peers[i].getSeriesIndex()==e&&this.Peers[i].getGroupIndex()==t)return this.Peers[i];return null},e.Chart.prototype.getWidth=function(){return this.Width},e.Chart.prototype.getHeight=function(){return this.Height},e.Chart.prototype.getSeriesStyleArray=function(){return this.SeriesStyleArray},e.Chart.prototype.getPlotArea=function(){return this._plotArea},e.Chart.prototype.setPlotArea=function(e){this._plotArea=e},e.Chart.prototype.getType=function(){return this.getOptions().type},e.Chart.prototype.getSkin=function(){return this.getOptions().skin},e.Chart.prototype.getGapWidthRatio=function(){var e=this.getOptions();return null!==e.layout.gapWidthRatio?e.layout.gapWidthRatio:Math.min(this.Width/400,1)},e.Chart.prototype.getGapHeightRatio=function(){var e=this.getOptions();return null!==e.layout.gapHeightRatio?e.layout.gapHeightRatio:Math.min(this.Height/300,1)},e.Chart.prototype.getSelectionHandler=function(){return this._selectionHandler},e.Chart.prototype.isSelectionSupported=function(){return!!this._selectionHandler},e.Chart.prototype.getShowPopupBehaviors=function(e){return this._popupBehaviors?this._popupBehaviors[e]:null},e.Chart.prototype.bringToFrontOfSelection=function(e){var t=e.getParent();if(t){var i=t.getNumChildren();if(i-this._numFrontObjs>1){t.removeChild(e);var r=i-this._numFrontObjs-1;t.addChildAt(e,r)}}e.isSelected()&&e.isHoverEffectShown()||this._numSelectedObjsInFront++},e.Chart.prototype.pushToBackOfSelection=function(e){this._numSelectedObjsInFront>0&&this._numSelectedObjsInFront--;var t=e.getParent();if(t){var i=t.getNumChildren()-this._numFrontObjs-1-this._numSelectedObjsInFront;i>=0&&(t.removeChild(e),t.addChildAt(e,i))}},e.Chart.prototype.setNumFrontObjs=function(e){this._numFrontObjs=e},e.Chart.prototype.getShapesForViewSwitcher=function(e){var t={};if(this._currentMarkers&&this.Peers)for(var i=0;i<this._currentMarkers.length;i++){var r=this._currentMarkers[i];if(r)for(var a=0;a<r.length;a++){var s=r[a];if(s)for(var n=0;n<this.Peers.length;n++){var o=this.Peers[n],l=o.getDisplayables();if(l&&l.length>0&&l[0]==s){var h=o.getId();if(h){var u=h.getId();if(u){t[u]=s;break}}}}}}else this.pieChart&&(t=this.pieChart.getShapesForViewSwitcher(e));return t},e.Chart.prototype._setViewport=function(e,t){!t&&e.unchanged||(null!=e.xMax&&(this.Options.xAxis.viewportMax=e.xMax),null!=e.xMin&&(this.Options.xAxis.viewportMin=e.xMin),z.isBLAC(this)?(this.Options.xAxis.viewportStartGroup=null,this.Options.xAxis.viewportEndGroup=null,this.Options._initialZoomed=!1):(null!=e.yMax&&(this.Options.yAxis.viewportMax=e.yMax),null!=e.yMin&&(this.Options.yAxis.viewportMin=e.yMin)),this.Options._duringZoomAndScroll=!t,J.rerenderAxisAndPlotArea(this,this._container))},e.Chart.prototype._setScrollbarViewport=function(e){if(this.xAxis&&null!=e.xMin&&null!=e.xMax){var t=this.xAxis.actualToLinear(e.xMin),i=this.xAxis.actualToLinear(e.xMax);this.overview&&this.overview.setViewportRange(t,i),this.xScrollbar&&this.xScrollbar.setViewportRange(t,i)}if(this.yAxis&&null!=e.yMin&&null!=e.yMax){var r=this.yAxis.actualToLinear(e.yMin),a=this.yAxis.actualToLinear(e.yMax);this.yScrollbar&&this.yScrollbar.setViewportRange(r,a)}},e.Chart.prototype.__setAxisSpace=function(e){var t,i;this._axisSpace=e,N.isAxisRendered(this,"x")?(t=.8*e.w,i=e.h-4*N.getTickLabelHeight(this,"x")):N.isAxisRendered(this,"y")?(t=e.w,i=e.h-N.getTickLabelHeight(this,"y")):(t=e.w,i=e.h),this._radius=Math.min(t,i)/2},e.Chart.prototype.__getAxisSpace=function(){return this._axisSpace},e.Chart.prototype.__setPlotAreaSpace=function(e){this._plotAreaSpace=e},e.Chart.prototype.__getPlotAreaSpace=function(){return this._plotAreaSpace},e.Chart.prototype.__setAreaContainer=function(e){this._areaContainer=e},e.Chart.prototype.__getAreaContainer=function(){return this._areaContainer},e.Chart.prototype.getRadius=function(){return this._radius},e.Chart.prototype.showDragButtons=function(){this.dragButtons&&this.dragButtons.setVisible(!0)},e.Chart.prototype.hideDragButtons=function(){this.dragButtons&&this.dragButtons.setVisible(!1)},e.Chart.prototype.addDataLabel=function(e){this.getDataLabels().push(e)},e.Chart.prototype.getDataLabels=function(){return this._dataLabels||(this._dataLabels=[]),this._dataLabels},e.Chart.prototype.__cacheChartFocus=function(){var e=this.EventManager.getFocus();if(e)var t=e.isShowingKeyboardFocusEffect();if(this.xAxis){var i=this.xAxis.getKeyboardFocus();if(i)var r=i.isShowingKeyboardFocusEffect()}if(this.legend){var a=this.legend.getKeyboardFocus();if(a)var s=a.isShowingKeyboardFocusEffect()}return{chartFocus:e,chartShowingFocusEffect:t,axisFocus:i,axisShowingFocusEffect:r,legendFocus:a,legendShowingFocusEffect:s}},e.Chart.prototype.__restoreChartFocus=function(e){if(!z.isOverview(this)&&!z.isSpark(this)){var t=[this];if(this.xAxis&&this.xAxis.isNavigable()&&t.push(this.xAxis),this.legend&&this.legend.isNavigable()&&t.push(this.legend),this.getCtx().setKeyboardFocusArray(t),e.chartFocus){for(var i=U.getKeyboardNavigables(this),r=!1,a=0;a<i.length;a++){var s=i[a].getId();if(s instanceof n&&s.equals(e.chartFocus.getId())){this.EventManager.setFocusObj(i[a]),e.chartShowingFocusEffect&&i[a].showKeyboardFocusEffect(),r=!0;break}}r||this.EventManager.setFocusObj(this.EventManager.getKeyboardHandler().getDefaultNavigable(i))}e.axisFocus&&(this.xAxis.setKeyboardFocus(e.axisFocus,e.axisShowingFocusEffect),e.axisShowingFocusEffect&&this.getCtx().setCurrentKeyboardFocus(this.xAxis)),e.legendFocus&&(this.legend.setKeyboardFocus(e.legendFocus,e.legendShowingFocusEffect),e.legendShowingFocusEffect&&this.getCtx().setCurrentKeyboardFocus(this.legend))}},e.Chart.prototype.getRawOptions=function(){return this._rawOptions},e.Chart.prototype.processActiveDataChanges=function(t){for(var i=e.JsonUtils.clone(this.Options),r=this.Options,a=0;a<t.length;a++)this._processActiveDataChange(t[a]);this.Options=i,this.render(r)},e.Chart.prototype._processActiveDataChange=function(e){var t=e.type;"u"==t?this._processActiveDataUpdate(e):"ia"==t||"ib"==t?this._processActiveDataInsert(e):"d"==t&&this._processActiveDataDelete(e)},e.Chart.prototype._processActiveDataUpdate=function(e){for(var t=e.data,i=0;i<t.length;i++){var r=this._findDataItemById(e.id,t[i]._id);if(r)for(var a in t[i])"_id"!=a&&(r.item[a]=t[i][a])}},e.Chart.prototype._processActiveDataInsert=function(t){for(var i=t.data,r=0;r<i.length;r++){this.clearCache();var a=t.insertId,s=i[r].group,n=i[r].series,o=H.getSeriesCount(this),l=H.getGroupCount(this),h=H.getSeriesIndex(this,n),u=H.getGroupIndex(this,s);if(h>=0&&u>=0)(p=H.getSeriesItem(this,h).items)[u]={id:t.id},e.Chart._copyActiveDataProperties(i[r],p[u]);else if(u>=0){var g=new Array(l);g[u]={id:t.id},e.Chart._copyActiveDataProperties(i[r],g[u]),this.Options.series.push({name:n,items:g})}else{var d=this._findDataItemById(a);u=d?"ia"==t.type?d.groupIndex+1:d.groupIndex:0,h<0&&(this.Options.series.push({name:n,items:new Array(l)}),h=o,o++);for(var c=0;c<o;c++){var p;(p=H.getSeriesItem(this,c).items).splice(u,0,{id:t.id}),c==h&&e.Chart._copyActiveDataProperties(i[r],p[u])}this.Options.groups.splice(u,0,s)}}},e.Chart.prototype._processActiveDataDelete=function(e){this.clearCache();var t=this._findDataItemById(e.id);if(t){var i;for(var r in t.item)t.item[r]=null;t.item._deleted=!0;for(var a=H.getSeriesCount(this),s=H.getGroupCount(this),n=!0,o=0;o<a;o++)if((i=H.getDataItem(this,o,t.groupIndex))&&!i._deleted){n=!1;break}for(var l=!0,h=0;h<s;h++)if((i=H.getDataItem(this,t.seriesIndex,h))&&!i._deleted){l=!1;break}if(n){for(o=0;o<a;o++)H.getSeriesItem(this,o).items.splice(t.groupIndex,1);this.Options.groups.splice(t.groupIndex,1)}l&&this.Options.series.splice(t.seriesIndex,1),this._processActiveDataDelete(e)}},e.Chart._copyActiveDataProperties=function(e,t){for(var i in e)t[i]=e[i]},e.Chart.prototype._findDataItemById=function(e,t){if(null==e)return null;for(var i=H.getSeriesCount(this),r=H.getGroupCount(this),a=0;a<i;a++)for(var s=0;s<r;s++){var n=H.getDataItem(this,a,s);if(null!=n&&n.id===e&&(null==t||t===n._id))return{item:n,seriesIndex:a,groupIndex:s}}return null};var t=function(e){this._chart=e,this._options=this._chart.getOptions(),this._legend=this._chart.legend,this._xAxis=this._chart.xAxis,this._yAxis=this._chart.yAxis,this._y2Axis=this._chart.y2Axis,this._legendAutomation=this._legend?this._legend.getAutomation():null,this._xAxisAutomation=this._xAxis?this._xAxis.getAutomation():null,this._yAxisAutomation=this._yAxis?this._yAxis.getAutomation():null,this._y2AxisAutomation=this._y2Axis?this._y2Axis.getAutomation():null};e.Obj.createSubclass(t,e.Automation),t.PLOT_AREA_SUBID="plotArea",t.PIE_CENTER_LABEL_SUBID="pieCenterLabel",t.prototype.GetSubIdForDomElement=function(i){var r=null;if(i.isDescendantOf(this._xAxis))return(r=this._xAxisAutomation.GetSubIdForDomElement(i))?this._convertAxisSubIdToChartSubId(r,"xAxis"):null;if(i.isDescendantOf(this._yAxis))return(r=this._yAxisAutomation.GetSubIdForDomElement(i))?this._convertAxisSubIdToChartSubId(r,"yAxis"):null;if(i.isDescendantOf(this._y2Axis))return(r=this._y2AxisAutomation.GetSubIdForDomElement(i))?this._convertAxisSubIdToChartSubId(r,"y2Axis"):null;if(i.isDescendantOf(this._legend)){var n=this._legendAutomation.GetSubIdForDomElement(i);return n?this._convertLegendSubIdToChartSubId(n):null}var o=this._chart.getEventManager().GetLogicalObject(i);if(!o)return null;if(o instanceof e.SimpleObjPeer){var l=o.getParams().type;if("pieCenterLabel"==l)return t.PIE_CENTER_LABEL_SUBID;if("plotArea"==l)return t.PLOT_AREA_SUBID}if(o instanceof I)return"dataItem["+o.getSeriesIndex()+"]";if(o instanceof a){var h=o.getSeriesIndex(),u=o.getGroupIndex();if(null!=h&&u>=0&&("funnel"!=this._options.type||"pyramid"!=this._options.type))return"dataItem["+h+"]["+u+"]";if(null!=h&&u==ie._GROUP_INDEX&&("funnel"==this._options.type||"pyramid"==this._options.type))return"dataItem["+h+"]";if(null!=h&&(null==u||u<0))return"series["+h+"]"}else if(o instanceof s){var g=o.getAxisType(),d=o.getIndex();return g&&d>=0?g+":referenceObject["+d+"]":null}return null},t.prototype._convertLegendSubIdToChartSubId=function(e){var t=this._legend.getOptions(),i=this._legendAutomation.getLegendItem(t,e);if(i){for(var r=0;r<this._options.series.length;r++)if(this._options.series[r].name==i.text)return"series["+r+"]";return"legend:"+e}return null},t.prototype._convertAxisSubIdToChartSubId=function(e,t){if("title"==e&&t)return t+":"+e;var i=e.substring(e.indexOf("["));return i?"group"+i:null},t.prototype.getDomElementForSubId=function(i){if(i==e.Automation.TOOLTIP_SUBID)return this.GetTooltipElement(this._chart,W.isDataCursorEnabled(this._chart)?v.TOOLTIP_ID:null);if(i==t.PIE_CENTER_LABEL_SUBID)return this._chart.pieChart.getCenterLabel().getElem();if(i==t.PLOT_AREA_SUBID)return this._chart.getPlotArea().getElem();var r,a,s,n=i.indexOf("["),o=i.indexOf("]"),l=i.indexOf(":");if(n>0&&o>0||l>0){var h=l<0?i.substring(0,n):i.substring(0,l);if("group"==h)return this._xAxisAutomation.getDomElementForSubId(i);if("series"==h)return i=this._convertToLegendSubId(i),this._legendAutomation.getDomElementForSubId(i);if("legend"==i.substring(0,l))return i=i.substring(l+1),this._legendAutomation.getDomElementForSubId(i);var u,g=i.substring(n+1,o);if("xAxis"==h||"yAxis"==h||"y2Axis"==h){var d=i.substring(l+1);if("title"==d){if("xAxis"==h)return this._xAxisAutomation.getDomElementForSubId(d);if("yAxis"==h)return this._yAxisAutomation.getDomElementForSubId(d);if("y2Axis"==h)return this._y2AxisAutomation.getDomElementForSubId(d)}else if(r=d.indexOf("["),a=d.indexOf("]"),"referenceObject"==d.substring(0,r)){var c=d.substring(r+1,a);if(s=this._getRefObjPeer(c))return s.getDisplayables()[0].getElem()}}if("pie"==this._options.type){var p=this._chart.pieChart.getSliceDisplayable(g);if(p)return p.getElem()}if("funnel"==this._options.type?u=ie._GROUP_INDEX:"pyramid"==this._options.type?u=re._GROUP_INDEX:(r=(i=i.substring(o+1)).indexOf("["),a=i.indexOf("]"),r>=0&&a>=0&&(u=i.substring(r+1,a))),s=this._getChartObjPeer(g,u))return s.getDisplayables()[0].getElem()}return null},t.prototype._getChartObjPeer=function(e,t){for(var i=this._chart.getChartObjPeers(),r=0;r<i.length;r++){var a=i[r].getSeriesIndex(),s=i[r].getGroupIndex();if(a==e&&s==t)return i[r]}return null},t.prototype._getRefObjPeer=function(e){for(var t=this._chart.getRefObjPeers(),i=0;i<t.length;i++)if(e==t[i].getIndex())return t[i];return null},t.prototype._convertToLegendSubId=function(e){var t=e.indexOf("["),i=e.indexOf("]"),r=e.substring(t+1,i),a=this._legend.getOptions(),s=this._options.series[r];return"section"+this._legendAutomation.getIndicesFromSeries(s,a)},t.prototype.getDataItem=function(e,t){"pie"!=this._options.type&&"funnel"!=this._options.type&&"pyramid"!=this._options.type||(t=0);var i=H.getDataItem(this._chart,e,t);return i?{borderColor:V.getBorderColor(this._chart,e,t),color:V.getColor(this._chart,e,t),label:H.getDataLabel(this._chart,e,t),targetValue:H.getTargetValue(this._chart,e,t),tooltip:W.getDatatip(this._chart,e,t,null,!1),value:H.getValue(this._chart,e,t),open:i.open,close:i.close,high:H.getHighValue(this._chart,e,t),low:H.getLowValue(this._chart,e,t),volume:i.volume,x:H.getXValue(this._chart,e,t),y:i.y,z:i.z,min:i.min,max:i.max,group:H.getGroup(this._chart,t),series:H.getSeries(this._chart,e),selected:H.isDataSelected(this._chart,e,t)}:null},t.prototype.getGroup=function(e){return H.getGroup(this._chart,e)},t.prototype.getSeries=function(e){return this._options.series[e].name},t.prototype.getGroupCount=function(){return H.getGroupCount(this._chart)},t.prototype.getSeriesCount=function(){return this._options.series.length},t.prototype.getTitle=function(){return this._options.title.text},t.prototype.getLegend=function(){var t=this._legend.__getBounds(),i=this._legend.localToStage(new e.Point(t.x,t.y));return{bounds:{x:i.x,y:i.y,width:t.w,height:t.h},title:this._legend.getOptions().title}},t.prototype.getPlotArea=function(){var e=this._chart.__getPlotAreaSpace();return{bounds:{x:e.x,y:e.y,width:e.w,height:e.h}}},t.prototype.getXAxis=function(){return this._getAxis("x")},t.prototype.getYAxis=function(){return this._getAxis("y")},t.prototype.getY2Axis=function(){return this._getAxis("y2")},t.prototype._getAxis=function(t){var i="x"==t?this._xAxis:"y"==t?this._yAxis:this._y2Axis;if(i){var r=i.__getBounds(),a=i.localToStage(new e.Point(r.x,r.y)),s={x:a.x,y:a.y,width:r.w,height:r.h},n=this._chart;return{bounds:s,title:this._options[t+"Axis"].title,getPreferredSize:function(e,r){var a,s=i.getOptions(),o=s.position,l=N.getTickLabelGapSize(n,t),h=z.isStandaloneXAxis(n)||z.isStandaloneYAxis(n)||z.isStandaloneY2Axis(n)?2:0;return"top"==o||"bottom"==o?(a=i.getPreferredSize(s,e,r-l-h)).h=Math.ceil(a.h+l+h):(a=i.getPreferredSize(s,e-l-h,r)).w=Math.ceil(a.w+l+h),{width:a.w,height:a.h}}}}return null},e.Automation.prototype.IsTooltipElement=function(t){var i=t.getAttribute("id");return!(!i||0!=i.indexOf(v.TOOLTIP_ID)&&0!=i.indexOf(e.HtmlTooltipManager._TOOLTIP_DIV_ID))},e.Bundle.addDefaultStrings(e.Bundle.CHART_PREFIX,{DEFAULT_GROUP_NAME:"Group {0}",LABEL_SERIES:"Series",LABEL_GROUP:"Group",LABEL_VALUE:"Value",LABEL_TARGET_VALUE:"Target",LABEL_X:"X",LABEL_Y:"Y",LABEL_Z:"Z",LABEL_PERCENTAGE:"Percentage",LABEL_MIN:"Min",LABEL_MAX:"Max",LABEL_HIGH:"High",LABEL_LOW:"Low",LABEL_OPEN:"Open",LABEL_CLOSE:"Close",LABEL_VOLUME:"Volume",LABEL_Q1:"Q1",LABEL_Q2:"Q2",LABEL_Q3:"Q3",LABEL_OTHER:"Other",MARQUEE_SELECT:"Marquee select",MARQUEE_ZOOM:"Marquee zoom",PAN:"Pan"});var i=function(t){i.superclass.Init.call(this,t.getCtx(),t.processEvent,t),this._chart=t,this._dragMode=null,this._dragButtonsVisible=e.Agent.isTouchDevice(),this.panButton=null,this.zoomButton=null,this.selectButton=null,this._dataCursorHandler=null,this._panZoomHandler=null,this._marqueeZoomHandler=null,this._marqueeSelectHandler=null};e.Obj.createSubclass(i,e.EventManager),i.DRAG_MODE_PAN="pan",i.DRAG_MODE_ZOOM="zoom",i.DRAG_MODE_SELECT="select",i.DRAG_MODE_OFF="off",i.prototype.getComponent=function(){return this._chart},i.prototype.addListeners=function(t){e.SvgDocumentUtils.addDragListeners(this._chart,this._onDragStart,this._onDragMove,this._onDragEnd,this),i.superclass.addListeners.call(this,t),e.Agent.isTouchDevice()||t.addEvtListener(e.MouseEvent.MOUSEWHEEL,this.OnMouseWheel,!1,this)},i.prototype.RemoveListeners=function(t){i.superclass.RemoveListeners.call(this,t),e.Agent.isTouchDevice()||t.removeEvtListener(e.MouseEvent.MOUSEWHEEL,this.OnMouseWheel,!1,this)},i.prototype.getLogicalObject=function(e){return this.GetLogicalObject(e,!0)},i.prototype._getDragHandler=function(e){return e&&"user"==this._chart.getOptions().dragMode&&z.isBLAC(this._chart)&&(this._dragMode==i.DRAG_MODE_PAN||this._dragMode==i.DRAG_MODE_ZOOM)&&(this._panZoomHandler&&this._panZoomHandler.isWithinBounds(e)?this._dragMode=i.DRAG_MODE_PAN:this._dragMode=i.DRAG_MODE_ZOOM),this._dragMode==i.DRAG_MODE_PAN?this._panZoomHandler:this._dragMode==i.DRAG_MODE_ZOOM?this._marqueeZoomHandler:this._dragMode==i.DRAG_MODE_SELECT?this._marqueeSelectHandler:null},i.prototype._onDragStart=function(t){return e.Agent.isTouchDevice()?this._onTouchDragStart(t):this._onMouseDragStart(t)},i.prototype._onDragMove=function(t){return e.Agent.isTouchDevice()?this._onTouchDragMove(t):this._onMouseDragMove(t)},i.prototype._onDragEnd=function(t){return e.Agent.isTouchDevice()?this._onTouchDragEnd(t):this._onMouseDragEnd(t)},i.prototype._onMouseDragStart=function(e){var t,i=this._context.pageToStageCoords(e.pageX,e.pageY),r=this._getDragHandler(i),a=this.GetLogicalObject(this.GetCurrentTargetForEvent(e))
;return!(a&&a.isSelectable&&a.isSelectable())&&0==e.button&&r&&((t=r.processDragStart(i,e.ctrlKey))&&this._callback.call(this._callbackObj,t),this._chart.setCursor(r.getCursor(i)),this.setDragButtonsVisible(!1),this._chart!=this.getCtx().getCurrentKeyboardFocus()&&this.getCtx().setCurrentKeyboardFocus(this._chart)),!!t&&(this._dataCursorHandler&&this._dataCursorHandler.processEnd(),!0)},i.prototype._onMouseDragMove=function(e){var t,i=this._context.pageToStageCoords(e.pageX,e.pageY),r=this._getDragHandler();r&&(t=r.processDragMove(i,e.ctrlKey))&&(this._callback.call(this._callbackObj,t),this.setDragButtonsVisible(!1)),t&&e.stopPropagation()},i.prototype._onMouseDragEnd=function(e){var t,i=this._context.pageToStageCoords(e.pageX,e.pageY),r=this._getDragHandler();if(r){(t=r.processDragEnd(i,e.ctrlKey))&&(this._callback.call(this._callbackObj,t),this.autoToggleZoomButton()),this._chart.setCursor(r.getCursor(i));var a=this._chart.__getAxisSpace();a&&this.setDragButtonsVisible(a.containsPoint(i.x,i.y))}},i.prototype.OnMouseMove=function(t){i.superclass.OnMouseMove.call(this,t);var r=this._context.pageToStageCoords(t.pageX,t.pageY);this._dataCursorHandler&&(this.GetCurrentTargetForEvent(t)instanceof e.Button?this._dataCursorHandler.processEnd():this._dataCursorHandler.processMove(r));var a=this._getDragHandler(r);a?this._chart.setCursor(a.getCursor(r)):this._chart.setCursor("default")},i.prototype.OnMouseOut=function(e){i.superclass.OnMouseOut.call(this,e);var t=this._context.pageToStageCoords(e.pageX,e.pageY),r=this._chart.__getAxisSpace();r&&this.setDragButtonsVisible(r.containsPoint(t.x,t.y)),this._dataCursorHandler&&this._dataCursorHandler.processOut(t),this.GetLogicalObject(e.target)},i.prototype.OnMouseWheel=function(e){if(U.isZoomable(this._chart)){var t=null!=e.wheelDelta?e.wheelDelta:0,i=this._context.pageToStageCoords(e.pageX,e.pageY);if(this._panZoomHandler){var r=this._panZoomHandler.processMouseWheel(i,t);r&&(e.preventDefault(),e.stopPropagation(),this._callback.call(this._callbackObj,r),this._dataCursorHandler&&this._dataCursorHandler.processMove(i))}}},i.prototype.ShowFocusEffect=function(t,r){if(this._dataCursorHandler){var a=r.getDataPosition();if(a){var s=this._chart.__getPlotAreaSpace();this._dataCursorHandler.processMove(new e.Point(a.x+s.x,a.y+s.y))}}i.superclass.ShowFocusEffect.call(this,t,r)},i.prototype.OnBlur=function(e){this._dataCursorHandler&&this._dataCursorHandler.processEnd(),i.superclass.OnBlur.call(this,e)},i.prototype.OnClickInternal=function(e){var t=this.GetLogicalObject(e.target),i=this._context.pageToStageCoords(e.pageX,e.pageY);this.SeriesFocusHandler&&this.SeriesFocusHandler.processSeriesFocus(i,t),t&&(this.processActionEvent(t),t.isSelectable&&t.isSelectable()||this.processDrillEvent(t))},i.prototype.OnDblClickInternal=function(e){var t=this.GetLogicalObject(e.target);t&&t.isSelectable&&t.isSelectable()&&this.processDrillEvent(t)},i.prototype.HandleTouchHoverStartInternal=function(e){if(this._dataCursorHandler&&!this.isTouchResponseTouchStart()){var t=this._context.pageToStageCoords(e.touch.pageX,e.touch.pageY);return this._dataCursorHandler.processMove(t),!1}var i=this.GetLogicalObject(e.target);return this.TouchManager.setTooltipEnabled(e.touch.identifier,this.getTooltipsEnabled(i)),!1},i.prototype.HandleTouchHoverMoveInternal=function(e){if(this._dataCursorHandler&&!this.isTouchResponseTouchStart()){var t=this._context.pageToStageCoords(e.touch.pageX,e.touch.pageY);return this._dataCursorHandler.processMove(t),!1}var i=this.GetLogicalObject(e.target);return this.TouchManager.setTooltipEnabled(e.touch.identifier,this.getTooltipsEnabled(i)),!1},i.prototype.HandleTouchHoverEndInternal=function(e){this.endDrag();var t=this.GetLogicalObject(e.target);t&&(this.processActionEvent(t),t.isSelectable&&t.isSelectable()||this.processDrillEvent(t))},i.prototype.HandleTouchClickInternal=function(e){var t=this.GetLogicalObject(e.target);t&&(this.processActionEvent(t),t.isSelectable&&t.isSelectable()||this.processDrillEvent(t))},i.prototype.HandleTouchDblClickInternal=function(e){var t=this.GetLogicalObject(e.target);t&&t.isSelectable&&t.isSelectable()&&(e.preventDefault(),e.stopPropagation(),this.processDrillEvent(t))},i.prototype.processActionEvent=function(t){t&&t.getAction&&t.getAction()&&this.FireEvent(e.EventFactory.newActionEvent("action",t.getAction(),t.getId()))},i.prototype.processDrillEvent=function(t){if(t&&t.isDrillable&&t.isDrillable()){var i=t.getId();t instanceof a?this.FireEvent(e.EventFactory.newChartDrillEvent(i.getId?i.getId():i,t.getSeries(),t.getGroup())):t instanceof I&&this.FireEvent(e.EventFactory.newChartDrillEvent(i.getId(),i.getSeries(),i.getGroup()))}},i.prototype.ProcessRolloverEvent=function(t,i,r){var a=this._chart.getOptions();if("dim"==U.getHoverBehavior(this._chart)){var s=i.getCategories?i.getCategories():[];a.highlightedCategories=r?s.slice():null;var n=e.EventFactory.newCategoryHighlightEvent(a.highlightedCategories,r),o=V.getHoverBehaviorDelay(this._chart),l=this._chart.getObjects();this._chart.pieChart&&(l=l.concat(this._chart.pieChart.__getSlices())),this.RolloverHandler.processEvent(n,l,o,"any"==a.highlightMatch)}},i.prototype._onTouchDragStart=function(e){var t,i,r=e.touches;if(1==r.length){var a=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),s=this._getDragHandler();s?t=s.processDragStart(a,!0):this._dataCursorHandler&&this.isTouchResponseTouchStart()&&(this._dataCursorHandler.processMove(a),i=!0)}else if(2==r.length&&this._panZoomHandler&&U.isZoomable(this._chart)){this.endDrag();var n=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),o=this._context.pageToStageCoords(r[1].pageX,r[1].pageY);t=this._panZoomHandler.processPinchStart(n,o)}return t&&(this._callback.call(this._callbackObj,t),this.getCtx().getTooltipManager().hideTooltip()),!(!t&&!i||(e.preventDefault(),e.stopPropagation(),this.setDragButtonsVisible(!1),0))},i.prototype._onTouchDragMove=function(e){var t,i,r=e.touches;if(1==r.length){var a=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),s=this._getDragHandler();s?t=s.processDragMove(a,!0):this._dataCursorHandler&&this.isTouchResponseTouchStart()&&(this._dataCursorHandler.processMove(a),i=!0)}else if(2==r.length&&this._panZoomHandler&&U.isZoomable(this._chart)){var n=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),o=this._context.pageToStageCoords(r[1].pageX,r[1].pageY);t=this._panZoomHandler.processPinchMove(n,o)}(t||i)&&e.preventDefault(),t&&(this._callback.call(this._callbackObj,t),this.getCtx().getTooltipManager().hideTooltip())},i.prototype._onTouchDragEnd=function(e){var t,i=this.endDrag();if(this._panZoomHandler&&U.isZoomable(this._chart)&&(t=this._panZoomHandler.processPinchEnd())&&this._callback.call(this._callbackObj,t),i||t){e.preventDefault(),this.getCtx().getTooltipManager().hideTooltip();var r=this.getTouchManager(),a=1==e.changedTouches.length?e.changedTouches[0].identifier:null,s=null!=a?r.getTouchInfo(a):null;s&&!s.touchMoved||r.reset()}this.setDragButtonsVisible(!0)},i.prototype.endDrag=function(){var e,t=this._getDragHandler();return t&&(e=t.processDragEnd(null,!0)),this._dataCursorHandler&&this._dataCursorHandler.processEnd(),e&&this._callback.call(this._callbackObj,e),e},i.prototype.zoomBy=function(e){if(this._panZoomHandler&&U.isZoomable(this._chart)){var t=this._panZoomHandler.zoomBy(e);t&&this._callback.call(this._callbackObj,t)}},i.prototype.panBy=function(e,t){if(this._panZoomHandler&&U.isScrollable(this._chart)){var i=this._panZoomHandler.panBy(e,t);i&&this._callback.call(this._callbackObj,i)}},i.prototype.hideHoverFeedback=function(){this.hideTooltip(),this._dataCursorHandler&&this._dataCursorHandler.processEnd()},i.prototype.hideTooltip=function(){this._dataCursorHandler&&this._dataCursorHandler.isDataCursorShown()||i.superclass.hideTooltip.call(this)},i.prototype.getTooltipsEnabled=function(e){return(!this._dataCursorHandler||!(e instanceof a||e instanceof s||this._dataCursorHandler.isDataCursorShown()))&&i.superclass.getTooltipsEnabled.call(this)},i.prototype.getDataCursorHandler=function(){return this._dataCursorHandler},i.prototype.setDataCursorHandler=function(e){this._dataCursorHandler=e},i.prototype.setPanZoomHandler=function(e){this._panZoomHandler=e},i.prototype.setMarqueeZoomHandler=function(e){this._marqueeZoomHandler=e},i.prototype.setMarqueeSelectHandler=function(e){this._marqueeSelectHandler=e},i.prototype.getMarqueeGlassPane=function(){return this._dragMode==i.DRAG_MODE_ZOOM?this._marqueeZoomHandler.getGlassPane():this._dragMode==i.DRAG_MODE_SELECT?this._marqueeSelectHandler.getGlassPane():null},i.prototype.cancelMarquee=function(e){this._dragMode==i.DRAG_MODE_ZOOM?this._marqueeZoomHandler.cancelMarquee()&&e.preventDefault():this._dragMode==i.DRAG_MODE_SELECT&&this._marqueeSelectHandler&&this._marqueeSelectHandler.cancelMarquee()&&this._chart.render()},i.prototype.getDragMode=function(){return this._dragMode},i.prototype.setDragMode=function(e){this._dragMode=null==e?this._getDefaultDragMode():e,!this._chart.xAxis.isFullViewport()||this._chart.yAxis&&!this._chart.yAxis.isFullViewport()||this.autoToggleZoomButton()},i.prototype._getDefaultDragMode=function(){return e.Agent.isTouchDevice()?i.DRAG_MODE_OFF:U.isScrollable(this._chart)?i.DRAG_MODE_PAN:"multiple"==this._chart.getOptions().selectionMode?i.DRAG_MODE_SELECT:null},i.prototype.onZoomButtonClick=function(e){this.zoomButton.isToggled()?(this.selectButton&&this.selectButton.setToggled(!1),this.setDragMode(i.DRAG_MODE_ZOOM)):this.setDragMode(null)},i.prototype.onPanButtonClick=function(e){this.panButton.isToggled()?(this.selectButton&&this.selectButton.setToggled(!1),this.setDragMode(i.DRAG_MODE_PAN)):this.setDragMode(null)},i.prototype.onSelectButtonClick=function(e){this.selectButton.isToggled()?(this.zoomButton&&this.zoomButton.setToggled(!1),this.panButton&&this.panButton.setToggled(!1),this.setDragMode(i.DRAG_MODE_SELECT)):this.setDragMode(null)},i.prototype.setDragButtonsVisible=function(e){e&&!this._dragButtonsVisible?(this._chart.showDragButtons(),this._dragButtonsVisible=!0):!e&&this._dragButtonsVisible&&(this._chart.hideDragButtons(),this._dragButtonsVisible=!1)},i.prototype.areDragButtonsVisible=function(){return this._dragButtonsVisible},i.prototype.autoToggleZoomButton=function(){!e.Agent.isTouchDevice()&&this.zoomButton&&(this._chart.xAxis.isFullViewport()&&this._chart.yAxis.isFullViewport()?this._dragMode==i.DRAG_MODE_PAN&&(this.zoomButton.setToggled(!0),this.onZoomButtonClick(null)):this._dragMode==i.DRAG_MODE_ZOOM&&(this.zoomButton.setToggled(!1),this.onZoomButtonClick(null)))},i.prototype.GetTouchResponse=function(){return this._dragMode&&this._dragMode!=i.DRAG_MODE_OFF?e.EventManager.TOUCH_RESPONSE_TOUCH_HOLD:this._chart.getOptions().touchResponse},i.prototype.isDndSupported=function(){return!0},i.prototype.GetDragSourceType=function(e){var t=this.DragSource.getDragObject();return t instanceof a&&t.getSeriesIndex()>=0&&t.getGroupIndex()>=0||t instanceof I?"items":null},i.prototype.GetDragDataContexts=function(){if(this._chart.isSelectionSupported()&&this._chart.getSelectionHandler().getSelectedCount()>1){for(var e=this._chart.getSelectionHandler().getSelection(),t=[],i=0;i<e.length;i++){var r=H.getDataContext(this._chart,e[i].getSeriesIndex(),e[i].getGroupIndex(),e[i].getNestedDataItemIndex());t.push(r)}return t}var s=this.DragSource.getDragObject();return s instanceof a?[H.getDataContext(this._chart,s.getSeriesIndex(),s.getGroupIndex(),s.getNestedDataItemIndex())]:s instanceof I?[H.getDataContext(this._chart,s.getSeriesIndex(),0)]:null},i.prototype.GetDropOffset=function(t){var i=this.DragSource.getDragObject();if(i instanceof a){var r=i.getDataPosition();if(r){r=this._chart.getPlotArea().localToStage(r);var s=this._context.pageToStageCoords(t.pageX,t.pageY);return new e.Point(r.x-s.x,r.y-s.y)}}return null},i.prototype.GetDropTargetType=function(e){var t=this._context.pageToStageCoords(e.pageX,e.pageY),i=this._chart.getOptions().dnd.drop,r=this._chart.__getPlotAreaSpace();return Object.keys(i.plotArea).length>0&&r.containsPoint(t.x,t.y)?"plotArea":Object.keys(i.xAxis).length>0&&N.isAxisRendered(this._chart,"x")&&N.axisContainsPoint(this._chart.xAxis,t)?"xAxis":Object.keys(i.yAxis).length>0&&N.isAxisRendered(this._chart,"y")&&N.axisContainsPoint(this._chart.yAxis,t)?"yAxis":Object.keys(i.y2Axis).length>0&&N.isAxisRendered(this._chart,"y2")&&N.axisContainsPoint(this._chart.y2Axis,t)?"y2Axis":null},i.prototype.GetDropEventPayload=function(t){var i=t.getNativeEvent().dataTransfer,r=Number(i.getData(e.EventManager.DROP_OFFSET_X_DATA_TYPE))||0,a=Number(i.getData(e.EventManager.DROP_OFFSET_Y_DATA_TYPE))||0,s=this._context.pageToStageCoords(t.pageX,t.pageY);return this._chart.getValuesAt(s.x+r,s.y+a)},i.prototype.ShowDropEffect=function(e){var t=this._getDropObject(e);t&&(t.setClassName("oj-active-drop"),t.setSolidFill(this._chart.getOptions()._dropColor))},i.prototype.ClearDropEffect=function(){var t=this._chart.getCache().getFromCache("plotAreaBackground");if(t){var i=V.getBackgroundColor(this._chart);i?t.setSolidFill(i):t.setInvisibleFill(),e.ToolkitUtils.removeClassName(t.getElem(),"oj-invalid-drop"),e.ToolkitUtils.removeClassName(t.getElem(),"oj-active-drop")}var r=function(t){if(t){var i=t.getCache().getFromCache("background");i&&(i.setInvisibleFill(),e.ToolkitUtils.removeClassName(i.getElem(),"oj-invalid-drop"),e.ToolkitUtils.removeClassName(i.getElem(),"oj-active-drop"))}};r(this._chart.xAxis),r(this._chart.yAxis),r(this._chart.y2Axis)},i.prototype.ShowRejectedDropEffect=function(e){var t=this._getDropObject(e);t&&t.setClassName("oj-invalid-drop")},i.prototype._getDropObject=function(e){var t,i=this.GetDropTargetType(e);return"plotArea"==i?t=this._chart.getCache().getFromCache("plotAreaBackground"):"xAxis"==i?t=this._chart.xAxis.getCache().getFromCache("background"):"yAxis"==i?t=this._chart.yAxis.getCache().getFromCache("background"):"y2Axis"==i&&(t=this._chart.y2Axis.getCache().getFromCache("background")),t},i.prototype.isClearMenuAllowed=function(e){return e&&e.getParams&&"plotArea"==e.getParams().type};var r=function(e,t){this.Init(e,t)};e.Obj.createSubclass(r,e.KeyboardHandler),r.prototype.Init=function(e,t){r.superclass.Init.call(this,e),this._chart=t},r.prototype.isSelectionEvent=function(e){return this.isNavigationEvent(e)&&!e.ctrlKey},r.prototype.isMultiSelectEvent=function(t){return t.keyCode==e.KeyboardEvent.SPACE&&t.ctrlKey},r.prototype.processKeyDown=function(t){var i=t.keyCode;if(i==e.KeyboardEvent.TAB){if(s=this._eventManager.getFocus())return e.EventManager.consumeEvent(t),s;var a=U.getKeyboardNavigables(this._chart);if(a.length>0)return e.EventManager.consumeEvent(t),this.getDefaultNavigable(a)}else if(i==e.KeyboardEvent.ENTER){var s;if(s=this._eventManager.getFocus())return this._eventManager.processActionEvent(s),this._eventManager.processDrillEvent(s),e.EventManager.consumeEvent(t),s}else i==e.KeyboardEvent.ESCAPE?this._eventManager.cancelMarquee(t):i==e.KeyboardEvent.PAGE_UP?((t.ctrlKey||t.shiftKey||z.isBLAC(this._chart))&&z.isVertical(this._chart)?this._eventManager.panBy(-.25,0):this._eventManager.panBy(0,-.25),e.EventManager.consumeEvent(t)):i==e.KeyboardEvent.PAGE_DOWN?((t.ctrlKey||t.shiftKey||z.isBLAC(this._chart))&&z.isVertical(this._chart)?this._eventManager.panBy(.25,0):this._eventManager.panBy(0,.25),e.EventManager.consumeEvent(t)):e.KeyboardEvent.isEquals(t)||e.KeyboardEvent.isPlus(t)?this._eventManager.zoomBy(1.5):(e.KeyboardEvent.isMinus(t)||e.KeyboardEvent.isUnderscore(t))&&this._eventManager.zoomBy(1/1.5);return r.superclass.processKeyDown.call(this,t)},r.prototype.getDefaultNavigable=function(e){if(!e||e.length<=0)return null;for(var t,i,r,a,s=z.isPie(this._chart),n=0;n<e.length;n++)a=e[n],!t||a.getSeriesIndex()<i?(t=a,i=a.getSeriesIndex(),s||(r=a.getGroupIndex())):!s&&a.getGroupIndex()<r&&(t=a,i=a.getSeriesIndex(),r=a.getGroupIndex());return t};var a=function(e,t,i,r,a,s){this.Init(e,t,i,r,a,s)};e.Obj.createSubclass(a,e.Obj),a.prototype.Init=function(t,i,r,a,s,n){if(this._chart=t,this._displayables=i,this._seriesIndex=null!=r&&r>=0?r:-1,this._groupIndex=null!=a&&a>=0?a:-1,this._itemIndex=null!=s&&s>=0?s:-1,this._dataPos=n,this._isSelected=!1,this._isShowingKeyboardFocusEffect=!1,this._series=H.getSeries(t,r),this._group=H.getGroup(t,a),this._categories=H.getCategories(t,r,a,s),-1!=this._itemIndex)this._dataItemId=H.getNestedDataItemId(t,r,a,s),this._drillable=U.isDataItemDrillable(t,r,a,s);else if(-1!=this._groupIndex){var o=H.getDataItem(t,r,a);o&&(this._dataItemId=H.getDataItemId(t,r,a),this._action=o.action,this._drillable=U.isDataItemDrillable(t,r,a),this._stampId=o._id)}else{var l=H.getSeriesItem(t,r);l&&(this._action=l.action,this._drillable=U.isSeriesDrillable(t,r),this._stampId=l._id)}if(this._action||this._drillable)for(var h=0;h<this._displayables.length;h++)this._displayables[h].setCursor(e.SelectionEffectUtils.getSelectingCursor());for(var u=0;u<i.length;u++){var g=i[u];g instanceof f||g.setAriaRole("img"),this._updateAriaLabel(g)}},a.associate=function(e,t,i,r,s,n){if(e&&!t.getOptions()._duringZoomAndScroll){var o=new a(t,[e],i,r,s,n);t.registerObject(o),t.getEventManager().associate(e,o)}},a.prototype.getId=function(){return this._seriesIndex>=0&&this._groupIndex>=0?new n(this._dataItemId,this.getSeries(),this.getGroup(),this._chart.getCtx()):this._seriesIndex>=0?this.getSeries():null},a.prototype.getDataItemId=function(){return this._dataItemId},a.prototype.getNestedDataItemIndex=function(){return this._itemIndex},a.prototype.getSeries=function(){return this._series},a.prototype.getSeriesIndex=function(){return this._seriesIndex},a.prototype.getGroup=function(){return this._group},a.prototype.getGroupIndex=function(){return this._groupIndex},a.prototype.getAction=function(){return this._action},a.prototype.isDrillable=function(){return this._drillable},a.prototype.isDoubleClickable=function(){return this.isSelectable()&&this.isDrillable()},a.prototype.getChart=function(){return this._chart},a.prototype.getSeriesType=function(){return V.getSeriesType(this._chart,this._seriesIndex)},a.prototype.getSeriesItem=function(){return H.getSeriesItem(this._chart,this._seriesIndex)},a.prototype.getDatatip=function(e){return W.getDatatip(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex,!0)},a.prototype.getDatatipColor=function(){return W.getDatatipColor(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex)},a.prototype.isSelectable=function(){return V.isSelectable(this.getChart(),this.getSeriesIndex(),this.getGroupIndex())},a.prototype.isSelected=function(){return this._isSelected},a.prototype.setSelected=function(e){this._isSelected=e;for(var t=0;t<this._displayables.length;t++)this._displayables[t].setSelected&&(this._displayables[t].setSelected(e),this._updateAriaLabel(this._displayables[t]))},a.prototype.showHoverEffect=function(){for(var e=0;e<this._displayables.length;e++)this._displayables[e].showHoverEffect&&this._displayables[e].showHoverEffect()},a.prototype.hideHoverEffect=function(){for(var e=0;e<this._displayables.length;e++)this._displayables[e].hideHoverEffect&&this._displayables[e].hideHoverEffect()},a.prototype.getShowPopupBehaviors=function(){return this._chart.getShowPopupBehaviors(this._stampId)},a.prototype.getDisplayables=function(){return this._displayables},a.prototype.getAriaLabel=function(){var t=[],i=this.getChart().getOptions();this.isSelectable()&&t.push(e.Bundle.getTranslation(i,this.isSelected()?"stateSelected":"stateUnselected",e.Bundle.UTIL_PREFIX,this.isSelected()?"STATE_SELECTED":"STATE_UNSELECTED")),this.isDrillable()&&t.push(e.Bundle.getTranslation(i,"stateDrillable",e.Bundle.UTIL_PREFIX,"STATE_DRILLABLE"));var r=W.getDatatip(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex,!1);return null==r&&this._groupIndex<0&&t.length>0&&(r=H.getSeriesLabel(this._chart,this._seriesIndex)),e.Displayable.generateAriaLabel(r,t)},a.prototype._updateAriaLabel=function(t){e.Agent.deferAriaCreation()||t.setAriaProperty("label",this.getAriaLabel())},a.prototype.getCategories=function(e){return this._categories},a.prototype.getDataPosition=function(){return this._dataPos},a.prototype.getNextNavigable=function(t){var i,r;if(i=t.keyCode,t.type==e.MouseEvent.CLICK)return this;if(i==e.KeyboardEvent.SPACE&&t.ctrlKey)return this;for(var a=this._chart,s=a.getChartObjPeers(),n=[],o=0;o<s.length;o++)s[o].isNavigable()&&n.push(s[o]);var l=t.keyCode==e.KeyboardEvent.UP_ARROW||t.keyCode==e.KeyboardEvent.DOWN_ARROW,h=z.isHorizontal(a),u=e.Agent.isRightToLeft(a.getCtx());return z.isScatterBubble(a)||z.isBoxPlot(a)&&(l&&!h||!l&&h)?r=e.KeyboardHandler.getNextAdjacentNavigable(this,t,n):z.isLineArea(a)||z.isStacked(a)||z.isPolar(a)?r=this._findNextNavigable(t):z.isFunnel(a)&&l?(t.keyCode=u?t.keyCode==e.KeyboardEvent.UP_ARROW?e.KeyboardEvent.RIGHT_ARROW:e.KeyboardEvent.LEFT_ARROW:t.keyCode-1,r=e.KeyboardHandler.getNextNavigable(this,t,n)):z.isPyramid(a)&&!l?(t.keyCode=u?t.keyCode==e.KeyboardEvent.RIGHT_ARROW?e.KeyboardEvent.DOWN_ARROW:e.KeyboardEvent.UP_ARROW:t.keyCode==e.KeyboardEvent.RIGHT_ARROW?e.KeyboardEvent.UP_ARROW:e.KeyboardEvent.DOWN_ARROW,r=e.KeyboardHandler.getNextNavigable(this,t,n)):r=e.KeyboardHandler.getNextNavigable(this,t,n,!0),r},a.prototype.getKeyboardBoundingBox=function(t){return this._displayables[0]?this._displayables[0].getDimensions(t):new e.Rectangle(0,0,0,0)},a.prototype.getTargetElem=function(){return this._displayables[0]?this._displayables[0].getElem():null},a.prototype.showKeyboardFocusEffect=function(){this.isNavigable()&&(this._isShowingKeyboardFocusEffect=!0,this.showHoverEffect())},a.prototype.hideKeyboardFocusEffect=function(){this.isNavigable()&&(this._isShowingKeyboardFocusEffect=!1,this.hideHoverEffect())},a.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},a.prototype.isNavigable=function(){return-1!=this.getGroupIndex()&&-1!=this.getSeriesIndex()},a.prototype._findNextNavigable=function(t){var i,r,a=t.keyCode,s=this._chart,n=s.getCtx(),o=this.getSeriesIndex(),l=this.getGroupIndex(),h=H.getGroupCount(s),u=z.isHorizontal(s),g=z.isPolar(s),d=e.Agent.isRightToLeft(n),c=u?d?a==e.KeyboardEvent.LEFT_ARROW:a==e.KeyboardEvent.RIGHT_ARROW:a==e.KeyboardEvent.UP_ARROW,p=u?d?a==e.KeyboardEvent.RIGHT_ARROW:a==e.KeyboardEvent.LEFT_ARROW:a==e.KeyboardEvent.DOWN_ARROW,_=u?a==e.KeyboardEvent.UP_ARROW:d?a==e.KeyboardEvent.RIGHT_ARROW:a==e.KeyboardEvent.LEFT_ARROW,f=u?a==e.KeyboardEvent.DOWN_ARROW:d?a==e.KeyboardEvent.LEFT_ARROW:a==e.KeyboardEvent.RIGHT_ARROW;if(c)r=l,i=this._findNextUpSeries(s,o,l);else if(p)r=l,i=this._findNextDownSeries(s,o,l);else if(f){i=o,r=l;do{r++,g&&r>=h&&(r=0)}while(null==s.getObject(i,r)&&r<h)}else if(_){i=o,r=l;do{r--,g&&r<0&&(r=h-1)}while(null==s.getObject(i,r)&&r>-1)}var S=s.getObject(i,r);return S&&S.isNavigable()?S:this},a.prototype._findNextUpSeries=function(e,t,i){for(var r=H.getSeriesCount(e),a=H.getCumulativeValue(e,t,i),s=null,n=null,o=0;o<r;o++)if(V.isSeriesRendered(e,o)){var l=H.getCumulativeValue(e,o,i);(l>a||l==a&&o>t)&&(null!==s&&l<s||null==s)&&(s=l,n=o)}return n},a.prototype._findNextDownSeries=function(e,t,i){for(var r=H.getSeriesCount(e),a=H.getCumulativeValue(e,t,i),s=null,n=null,o=r-1;o>=0;o--)if(V.isSeriesRendered(e,o)){var l=H.getCumulativeValue(e,o,i);(l<a||l==a&&o<t)&&(null!==s&&l>s||null==s)&&(s=l,n=o)}return n},a.prototype.isDragAvailable=function(e){return!0},a.prototype.getDragTransferable=function(e,t){return[this.getId()]},a.prototype.getDragFeedback=function(e,t){if(this._chart.isSelectionSupported()&&this._chart.getSelectionHandler().getSelectedCount()>1){for(var i=this._chart.getSelectionHandler().getSelection(),r=[],a=0;a<i.length;a++)r=r.concat(i[a].getDisplayables());return r}return this._displayables};var s=function(e,t,i,r,a){this.Init(e,t,i,r,a)};e.Obj.createSubclass(s,e.Obj),s.prototype.Init=function(e,t,i,r,a){this._chart=e,this._displayables=t,this._refObj=i,this._categories=G.getRefObjCategories(this._refObj),this._index=r,this._axisType=a;for(var s=0;s<t.length;s++){var n=t[s];n.setAriaRole("img"),n.setAriaProperty("label",i.shortDesc)}},s.prototype.getCategories=function(){return this._categories},s.prototype.getDisplayables=function(){return this._displayables},s.prototype.getIndex=function(){return this._index},s.prototype.getAxisType=function(){return this._axisType},s.prototype.getDatatip=function(e){return W.getRefObjTooltip(this._chart,this._refObj,this._axisType,this._index)},s.prototype.getDatatipColor=function(){return G.getColor(this._refObj)};var n=function(e,t,i,r){this.id=e,this.series=t,this.group=i,this.context=r};e.Obj.createSubclass(n,e.Obj),n.prototype.getId=function(){return this.id},n.prototype.getSeries=function(){return this.series},n.prototype.getGroup=function(){return this.group},n.prototype.equals=function(e){return e instanceof n&&(null!=this.id||null!=e.id?H.isEqualId(this.id,e.id,this.context):H.isEqualId(this.series,e.series,this.context)&&H.isEqualId(this.group,e.group,this.context))},n.prototype.toString=function(){return null!=this.id&&"object"!=typeof this.id?this.id.toString():H.createDataItemId(this.series,this.group)},n.prototype.valueOf=function(){return this.toString()};var o=function(){this.Init({skyros:o.VERSION_1,alta:o.SKIN_ALTA,next:o.SKIN_NEXT})};e.Obj.createSubclass(o,e.BaseComponentDefaults),o.SKIN_NEXT={skin:e.CSSStyle.SKIN_NEXT,styleDefaults:{dataItemGaps:"auto",markerSize:10,marqueeColor:"rgba(255,255,255,0.4)",marqueeBorderColor:"#0572ce"},yAxis:{axisLine:{rendered:"auto"}},y2Axis:{axisLine:{rendered:"auto"}},layout:{titlePlotAreaGap:16,footnoteGap:10,legendGapWidth:15,legendGapHeight:10,tickLabelGapHeight:8,tickLabelGapWidth:9}},o.SKIN_ALTA={skin:e.CSSStyle.SKIN_ALTA,title:{style:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA_13+"color: #252525;")},subtitle:{style:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA+"color: #252525;")},footnote:{style:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA_11)},_statusMessageStyle:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA_13+"color: #252525;"),pieCenter:{labelStyle:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA)},styleDefaults:{seriesEffect:"color",colors:e.CSSStyle.COLORS_ALTA,dataLabelStyle:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA),stackLabelStyle:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD),stockRisingColor:"#6b6f74",stockFallingColor:"#ED6647"}},o.VERSION_1={skin:e.CSSStyle.SKIN_SKYROS,emptyText:null,type:"bar",stack:"off",stackLabel:"off",orientation:"vertical",polarGridShape:"circle",selectionMode:"none",hideAndShowBehavior:"none",hoverBehavior:"none",zoomAndScroll:"off",zoomDirection:"auto",initialZooming:"none",dragMode:"user",sorting:"off",otherThreshold:0,animationOnDataChange:"none",animationOnDisplay:"none",__sparkBarSpacing:"subpixel",__spark:!1,dataCursor:"auto",dataCursorBehavior:"auto",drilling:"off",highlightMatch:"all",series:[],groups:[],title:{style:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_SKYROS+"font-size: 12px; color: #003d5b; font-weight: bold"),halign:"start"},subtitle:{style:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_SKYROS+"font-size: 12px; color: #003d5b;")},footnote:{style:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_SKYROS+"font-size: 10px; color: #333333;"),halign:"start"},titleSeparator:{upperColor:"#74779A",lowerColor:"#FFFFFF",rendered:"off"},touchResponse:"auto",_statusMessageStyle:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_SKYROS+"font-size: 12px; color: #003d5b; font-weight: bold"),_dropColor:"#D9F4FA",xAxis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"on"},scale:"linear"},yAxis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"on"},scale:"linear"},y2Axis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"on"},scale:"linear",alignTickMarks:"on"},zAxis:{},pieCenter:{labelStyle:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_SKYROS)},plotArea:{backgroundColor:null},legend:{position:"auto",rendered:"auto",layout:{gapRatio:1},seriesSection:{},referenceObjectSection:{},sections:[]},overview:{rendered:"off"},dnd:{drag:{items:{},series:{},groups:{}},drop:{plotArea:{},xAxis:{},yAxis:{},y2Axis:{},legend:{}}},styleDefaults:{colors:e.CSSStyle.COLORS_SKYROS,borderColor:"auto",borderWidth:"auto",patterns:["smallDiagonalRight","smallChecker","smallDiagonalLeft","smallTriangle","smallCrosshatch","smallDiamond","largeDiagonalRight","largeChecker","largeDiagonalLeft","largeTriangle","largeCrosshatch","largeDiamond"],shapes:["square","circle","diamond","plus","triangleDown","triangleUp"],seriesEffect:"gradient",threeDEffect:"off",selectionEffect:"highlight",animationDuration:1e3,animationIndicators:"all",animationUpColor:"#0099FF",animationDownColor:"#FF3300",lineStyle:"solid",lineType:"auto",markerDisplayed:"auto",markerColor:null,markerShape:"auto",markerSize:8,marqueeColor:"rgba(255,255,255,0.5)",marqueeBorderColor:"rgba(0,0,0,0.2)",pieFeelerColor:"#BAC5D6",pieInnerRadius:0,selectedInnerColor:"#ffffff",selectedOuterColor:"#5a5a5a",sliceLabelType:"percent",otherColor:"#4b4b4b",stockRisingColor:"#006666",stockFallingColor:"#CC3300",stockRangeColor:"#B8B8B8",dataItemGaps:"0%",dataLabelStyle:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_SKYROS+e.BaseComponentDefaults.FONT_SIZE_11),dataLabelPosition:"auto",funnelBackgroundColor:"#EDEDED",x1Format:{},y1Format:{},y2Format:{},zFormat:{},_defaultSliceLabelColor:"#333333",_scrollbarHeight:3,_scrollbarTrackColor:"#F0F0F0",_scrollbarHandleColor:"#9E9E9E",hoverBehaviorDelay:200,dataCursor:{markerSize:8,markerDisplayed:"on",lineColor:"#5a5a5a",lineWidth:2,lineStyle:"solid"},groupSeparators:{rendered:"on",color:"rgba(138,141,172,0.4)"},padding:"auto",_tooltipStyle:new e.CSSStyle("border-collapse: separate; border-spacing: 2px; overflow: hidden; display: block;"),tooltipLabelStyle:new e.CSSStyle("color: #666666; padding: 0px 2px; white-space: nowrap;"),tooltipValueStyle:new e.CSSStyle("color: #333333; padding: 0px 2px;"),stackLabelStyle:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_SKYROS+e.BaseComponentDefaults.FONT_SIZE_11),boxPlot:{whiskerSvgStyle:{},whiskerEndSvgStyle:{strokeWidth:2},whiskerEndLength:9,medianSvgStyle:{strokeWidth:3}}},layout:{gapWidthRatio:null,gapHeightRatio:null,outerGapWidth:10,outerGapHeight:8,titleSubtitleGapWidth:14,titleSubtitleGapHeight:4,titleSeparatorGap:6,titlePlotAreaGap:10,footnoteGap:7,verticalAxisGap:6,legendGapWidth:10,legendGapHeight:10,tickLabelGapHeight:5,tickLabelGapWidth:7},_locale:"en-us",_resources:{}},o.getGapWidth=function(e,t){return Math.ceil(t*e.getGapWidthRatio())},o.getGapHeight=function(e,t){return Math.ceil(t*e.getGapHeightRatio())},o.isSkyrosSkin=function(t){return t.getSkin()==e.CSSStyle.SKIN_SKYROS},o.isPostAltaSkin=function(t){return t.getSkin()!=e.CSSStyle.SKIN_SKYROS&&t.getSkin()!=e.CSSStyle.SKIN_ALTA},o.prototype.getNoCloneObject=function(e){return{}};var l=function(e,t){this.Init(e,t)};e.Obj.createSubclass(l,e.Obj),l.prototype.Init=function(e,t){this._context=e.getCtx(),this._dataCursorShown=!1,this._dataCursor=t,this._chart=e},l.prototype.processMove=function(e,t){var i=this._chart.__getPlotAreaSpace();return i&&i.containsPoint(e.x,e.y)&&!this._chart.getOptions()._duringZoomAndScroll?(this._showDataCursor(i,e.x,e.y,t),!0):(this._removeDataCursor(t),!1)},l.prototype.processEnd=function(e){this._removeDataCursor(e)},l.prototype.processOut=function(e,t){var i=this._chart.__getPlotAreaSpace();i&&!i.containsPoint(e.x,e.y)&&this._removeDataCursor(t)},l.prototype._showDataCursor=function(e,t,i,r){if(this._context.isOffscreen())this._removeDataCursor(r);else{var a=this._dataCursor,s=this._getClosestMatch(t,i);if(null!=s){var n=s.matchRegion.getCenter(),o=t,l=i
;a.getBehavior()==v.BEHAVIOR_SNAP&&(a.isHorizontal()?l=Math.min(Math.max(n.y,e.y),e.y+e.h):o=Math.min(Math.max(n.x,e.x),e.x+e.w));var h=s.logicalObject,u=W.getDatatip(this._chart,h.getSeriesIndex(),h.getGroupIndex(),h.getNestedDataItemIndex(),!0);if(null!=u){a.setVisible(!0);var g=W.getDatatipColor(this._chart,h.getSeriesIndex(),h.getGroupIndex(),h.getNestedDataItemIndex()),d=a.isHorizontal()?l:o;if(a.render(e,n.x,n.y,d,u,g),this._dataCursorShown=!0,!r){var c=this._chart.getValuesAt(t,i);this._chart.changeOption("dataCursorPosition",c)}}else a.setVisible(!1)}else this._removeDataCursor(r)}},l.prototype._removeDataCursor=function(e){this._dataCursor.getVisible()&&this._dataCursor.setVisible(!1),this._context.getTooltipManager(v.TOOLTIP_ID).hideTooltip(),this._dataCursorShown=!1,e||this._chart.changeOption("dataCursorPosition",null)},l.prototype.isDataCursorShown=function(){return this._dataCursorShown},l._getClosestMatchSecondDirection=function(e,t,i,r){for(var a=null,s=1/0,n=0;n<e.length;n++){var o=e[n],l=t?i:r,h=((t?o.matchRegion.x:o.matchRegion.y)+(t?o.matchRegion.x+o.matchRegion.w:o.matchRegion.y+o.matchRegion.h))/2,u=Math.round(Math.abs(h-l));u<s&&(s=u,a=o)}return a},l._getClosestMatchesFirstDirection=function(e,t,i,r){for(var a=1/0,s=new Array,n=0;n<e.length;n++){var o=e[n],l=t?r:i,h=((t?o.matchRegion.y:o.matchRegion.x)+(t?o.matchRegion.y+o.matchRegion.h:o.matchRegion.x+o.matchRegion.w))/2,u=Math.round(Math.abs(h-l));u<=a&&(u<a&&(s=new Array),s.push(o),a=u)}return s},l.prototype._findMatches=function(){var e=this._context.getStage(),t=this._chart.getEventManager(),i=[];if(!this._chart._currentMarkers)return null;for(var r=0;r<this._chart._currentMarkers.length;r++)for(var a=this._chart._currentMarkers[r],s=a.length,n=0;n<s;n++){var o=a[n],l=t.GetLogicalObject(o),h={matchRegion:o.getDimensionsSelf?o.getDimensionsSelf(e):o.getDimensions(e),logicalObject:l};i.push(h)}return i},l.prototype._getClosestMatch=function(e,t){var i=z.isHorizontal(this._chart),r=z.isLineArea(this._chart)&&!N.isMixedFrequency(this._chart),a=this._findMatches(),s=l._getClosestMatchesFirstDirection(a,i,e,t);if(!z.isScatterBubble(this._chart)){for(var n=1/0,o=-1/0,h=null,u=0;u<s.length;u++){var g=s[u];n=Math.min(n,i?g.matchRegion.y:g.matchRegion.x),o=Math.max(o,i?g.matchRegion.y+g.matchRegion.h:g.matchRegion.x+g.matchRegion.w),h=g.logicalObject.getGroupIndex()}for(u=0;u<a.length;u++){var d=a[u],c=d.logicalObject.getGroupIndex();if(r)h==c&&s.push(d);else{var p=((i?d.matchRegion.y:d.matchRegion.x)+(i?d.matchRegion.y+d.matchRegion.h:d.matchRegion.x+d.matchRegion.w))/2;o>=p&&n<=p&&s.push(d)}}}return l._getClosestMatchSecondDirection(s,i,e,t)};var h=function(e,t,i,r,a,s,n,o,l,h){this.Init(e,null,h),this.setWedgeParams(t,i,r,a,s,n,o,l)};e.Obj.createSubclass(h,e.Path),h._OUTER_BORDER_WIDTH=2,h._OUTER_BORDER_WIDTH_HOVER=1.25,h._INNER_BORDER_WIDTH=1,h.prototype.Init=function(e,t,i){h.superclass.Init.call(this,e,t,i)},h.prototype.setWedgeParams=function(e,t,i,r,a,s,n,o){this._cx=e,this._cy=t,this._rx=i,this._ry=r,this._sa=a,this._ae=s,this._gap=n,this._ir=o;var l=this._makeWedgePath(0);this.setCmds(l)},h.prototype._makeWedgePath=function(t){var i,r=Math.max(this._rx-t,0),a=Math.max(this._ry-t,0),s=360==this._ae||r<t?0:this._gap+2*t,n=this._ir?this._ir+t:0,o=360==this._ae?e.Math.degreesToRads(359.99):e.Math.degreesToRads(this._ae),l=e.Math.degreesToRads(this._sa),h=s/2,u=h<r?Math.asin(h/r):0,g=-o/2-l,d=Math.min(5*h,o>0?Math.abs(h/Math.sin(o/2)):0),c=0==r?d:d*a/r,p=this._cx+Math.cos(g)*d,_=this._cy+Math.sin(g)*c,f=this._cx+Math.cos(-u-l)*r,S=this._cy+Math.sin(-u-l)*a,C=this._cx+Math.cos(-l-o+u)*r,m=this._cy+Math.sin(-l-o+u)*a,y=e.Math.calculateAngleBetweenTwoVectors(C-this._cx,m-this._cy,f-this._cx,S-this._cy);if(y=Math.min(y,o),n>0){var v=h<n?Math.asin(h/n):0,A=this._cx+Math.cos(-v-l)*n,x=this._cy+Math.sin(-v-l)*n,b=this._cx+Math.cos(-l-o+v)*n,I=this._cy+Math.sin(-l-o+v)*n,T=e.Math.calculateAngleBetweenTwoVectors(b-this._cx,I-this._cy,A-this._cx,x-this._cy);T=Math.min(T,y,o),360==this._ae?(i=e.PathUtils.moveTo(C,m),i+=e.PathUtils.arcTo(r,a,o,1,f,S),i+=e.PathUtils.lineTo(C,m),i+=e.PathUtils.moveTo(A,x),i+=e.PathUtils.arcTo(n,n,o,0,b,I)):(i=e.PathUtils.moveTo(b,I),i+=e.PathUtils.lineTo(C,m),i+=e.PathUtils.arcTo(r,a,y,1,f,S),i+=e.PathUtils.lineTo(A,x),i+=e.PathUtils.arcTo(n,n,T,0,b,I))}else 360==this._ae?(i=e.PathUtils.moveTo(C,m),i+=e.PathUtils.arcTo(r,a,o,1,f,S)):(i=e.PathUtils.moveTo(p,_),i+=e.PathUtils.lineTo(C,m),i+=e.PathUtils.arcTo(r,a,y,1,f,S));return i+e.PathUtils.closePath()},h.prototype._initializeSelectionEffects=function(){var t=this.isSelected()?h._OUTER_BORDER_WIDTH:h._OUTER_BORDER_WIDTH_HOVER,i=this._makeWedgePath(t),r=this._makeWedgePath(t+h._INNER_BORDER_WIDTH);if(this.OuterChild)return this.OuterChild.setCmds(i),void this.InnerChild.setCmds(r);this.OuterChild=new e.Path(this.getCtx(),i),this.OuterChild.setInvisibleFill(),this.OuterChild.setMouseEnabled(!0),this.addChild(this.OuterChild),this.InnerChild=new e.Path(this.getCtx(),r),this.InnerChild.setInvisibleFill(),this.InnerChild.setMouseEnabled(!0),this.addChild(this.InnerChild)},h.prototype._showNestedBorders=function(e,t){this._initializeSelectionEffects(),t?(this.setSolidFill(e),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setSolidFill(t),this.OuterChild.setClassName().setStyle(),this.InnerChild.setFill(this._fill),this.InnerChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle)):e?(this.setSolidFill(e),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setFill(this._fill),this.OuterChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle()):(this.setFill(this._fill),this.setStroke(this._shapeStroke),this.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.OuterChild.setInvisibleFill(),this.OuterChild.setClassName().setStyle(),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle())},h.prototype.setStyleProperties=function(t,i,r,a,s,n,o){this._fill=t,this._shapeStroke=i,this._hoverColor=e.SelectionEffectUtils.getHoverBorderColor(r),this._innerColor=a,this._outerColor=s,this._shapeClassName=n,this._shapeStyle=o,this.setStyle(o).setClassName(n),this.setFill(t),i&&this.setStroke(i)},h.prototype.showHoverEffect=function(){this.IsShowingHoverEffect=!0,this._showNestedBorders(this._hoverColor,this._innerColor)},h.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect=!1,this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders()},h.prototype.setSelected=function(e){this.IsSelected!=e&&(this.IsSelected=e,this.isHoverEffectShown()?this._showNestedBorders(this._hoverColor,this._innerColor):this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders())},h.prototype.UpdateSelectionEffect=function(){};var u=function(e,t,i){this._x1=Math.min(t[0],t[4]),this._x2=Math.max(t[0],t[4]),this._y1=Math.min(t[1],t[5]),this._y2=Math.max(t[1],t[5]),this.Init(e,[this._x1,this._y1,this._x2,this._y1,this._x2,this._y2,this._x1,this._y2],i)};e.Obj.createSubclass(u,e.Polygon),u.OUTER_BORDER_WIDTH=2,u.OUTER_BORDER_WIDTH_HOVER=1.25,u.INNER_BORDER_WIDTH=1,u.prototype.setStyleProperties=function(t,i,r,a,s,n,o){this._fill=t,this._borderStroke=i,this._hoverColor=e.SelectionEffectUtils.getHoverBorderColor(r),this._innerColor=a,this._outerColor=s,this._shapeClassName=n,this._shapeStyle=o,this.setStyle(o).setClassName(n),this.setFill(t),i&&this.setStroke(i)},u.prototype.setAnimationParams=function(e){this._x1=Math.min(e[0],e[4]),this._x2=Math.max(e[0],e[4]),this._y1=Math.min(e[1],e[5]),this._y2=Math.max(e[1],e[5]),this.setPoints(e),this._initializeSelectionEffects()},u.prototype.showHoverEffect=function(){this.IsShowingHoverEffect||(this.IsShowingHoverEffect=!0,this._showNestedBorders(this._hoverColor,this._innerColor))},u.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect&&(this.IsShowingHoverEffect=!1,this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders())},u.prototype.setSelected=function(e){this.IsSelected!=e&&(this.IsSelected=e,this.isHoverEffectShown()?this._showNestedBorders(this._hoverColor,this._innerColor):this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders())},u.prototype.UpdateSelectionEffect=function(){},u.prototype.getPrimaryFill=function(){return this._fill},u.prototype._initializeSelectionEffects=function(){var t=this.isSelected()?u.OUTER_BORDER_WIDTH:u.OUTER_BORDER_WIDTH_HOVER,i=this._createPointsArray(t),r=this._createPointsArray(t+u.INNER_BORDER_WIDTH);if(this.OuterChild)return this.OuterChild.setPoints(i),void this.InnerChild.setPoints(r);this.OuterChild=new e.Polygon(this.getCtx(),i),this.OuterChild.setInvisibleFill(),this.OuterChild.setMouseEnabled(!0),this.addChild(this.OuterChild),this.InnerChild=new e.Polygon(this.getCtx(),r),this.InnerChild.setInvisibleFill(),this.InnerChild.setMouseEnabled(!0),this.addChild(this.InnerChild)},u.prototype._showNestedBorders=function(e,t){this._initializeSelectionEffects(),t?(this.setSolidFill(e),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setSolidFill(t),this.OuterChild.setClassName().setStyle(),this.InnerChild.setFill(this._fill),this.InnerChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle)):e?(this.setSolidFill(e),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setFill(this._fill),this.OuterChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle()):(this.setFill(this._fill),this.setStroke(this._borderStroke),this.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.OuterChild.setInvisibleFill(),this.OuterChild.setClassName().setStyle(),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle())},u.prototype._createPointsArray=function(e){var t=this._x1+e,i=this._x2-e,r=this._y1+e,a=this._y2-e;return[t,r,i,r,i,a,t,a]};var g=function(e,t,i){this.Init(e,t,i)};e.Obj.createSubclass(g,e.Axis),g.prototype.axisToPlotArea=function(e){if("tangential"==this.getOptions().position)return e;if(null==e)return null;var t=e-this.getLeftOverflow();return Math.round(10*t)/10},g.prototype.plotAreaToAxis=function(e,t){if("tangential"==this.getOptions().position)return e;if(null==e)return null;var i=e+this.getLeftOverflow();return!1===t?i:Math.round(i)},g.prototype.linearToActual=function(e){return this.Info.linearToActual(e)},g.prototype.actualToLinear=function(e){return this.Info.actualToLinear(e)},g.prototype.getValueAt=function(e){return this.Info.getValueAt(this.plotAreaToAxis(e))},g.prototype.getCoordAt=function(e){return this.axisToPlotArea(this.Info.getCoordAt(e))},g.prototype.getBoundedValueAt=function(e){return this.Info.getBoundedValueAt(this.plotAreaToAxis(e))},g.prototype.getBoundedCoordAt=function(e){return this.axisToPlotArea(this.Info.getBoundedCoordAt(e))},g.prototype.getUnboundedValueAt=function(e){return this.Info.getUnboundedValueAt(this.plotAreaToAxis(e))},g.prototype.getUnboundedCoordAt=function(e){return this.axisToPlotArea(this.Info.getUnboundedCoordAt(e))},g.prototype.getBaselineCoord=function(){return this.axisToPlotArea(this.Info.getBaselineCoord())},g.prototype.getPosition=function(){return this.getOptions().position},g.prototype.isGroupAxis=function(){return this.Info instanceof e.GroupAxisInfo},g.prototype.isTimeAxis=function(){return this.Info instanceof e.TimeAxisInfo},g.prototype.isDataAxis=function(){return this.Info instanceof e.DataAxisInfo},g.prototype.getMajorTickCoords=function(){for(var e=this.Info?this.Info.getMajorTickCoords():[],t=0;t<e.length;t++)e[t]=this.axisToPlotArea(e[t]);return e},g.prototype.getMinorTickCoords=function(){for(var e=this.Info?this.Info.getMinorTickCoords():[],t=0;t<e.length;t++)e[t]=this.axisToPlotArea(e[t]);return e},g.prototype.getBaselineCoord=function(){return this.axisToPlotArea(this.Info.getBaselineCoord())},g.prototype.getLinearGlobalMin=function(){return this.actualToLinear(this.Info.getGlobalMin())},g.prototype.getLinearGlobalMax=function(){return this.actualToLinear(this.Info.getGlobalMax())},g.prototype.getLinearViewportMin=function(){return this.actualToLinear(this.Info.getViewportMin())},g.prototype.getLinearViewportMax=function(){return this.actualToLinear(this.Info.getViewportMax())},g.prototype.getUnboundedLinearValueAt=function(e){return this.Info.actualToLinear(this.getUnboundedValueAt(e))},g.prototype.isFullViewport=function(){return this.Info.getViewportMin()==this.Info.getGlobalMin()&&this.Info.getViewportMax()==this.Info.getGlobalMax()},g.prototype.getLeftOverflow=function(){return e.Agent.isRightToLeft(this.getCtx())?this.Info.getEndOverflow():this.Info.getStartOverflow()},g.prototype.getRightOverflow=function(){return e.Agent.isRightToLeft(this.getCtx())?this.Info.getStartOverflow():this.Info.getEndOverflow()},g.prototype.getLength=function(){return Math.abs(this.Info.getStartCoord()-this.Info.getEndCoord())},g.prototype.getMinCoord=function(){return this.axisToPlotArea(Math.min(this.Info.getStartCoord(),this.Info.getEndCoord()))},g.prototype.getMaxCoord=function(){return this.axisToPlotArea(Math.max(this.Info.getStartCoord(),this.Info.getEndCoord()))};var d=function(e,t,i,r,a,s,n){n||this.Init(e.getCtx()),this._bHoriz=z.isHorizontal(e),this._bStacked=z.isStacked(e),this._barGapRatio=V.getBarGapRatio(e),this._dataItemGaps=V.getDataItemGaps(e),this._axisCoord=t,this._doNotRender=!!n,this._setBarCoords(i,r,a,s,!0)};e.Obj.createSubclass(d,u),d._INDICATOR_OFFSET=8,d._MIN_BAR_WIDTH_FOR_GAPS=5,d._MIN_BAR_WIDTH_FOR_GAPS_PIXEL_HINTING=15,d._MIN_BAR_LENGTH_FOR_GAPS=5,d._MAX_GAP_SIZE=2,d.prototype.setSelected=function(e){this.IsSelected!=e&&(this.IsSelected=e,this.isSelected()?(this._tempX1=this._x1,this._tempX2=this._x2,this._tempBaselineCoord=this._baselineCoord,this._x1=this._origX1,this._x2=this._origX2,this._baselineCoord=this._origBaselineCoord,this.setPoints(this._createPointsArray()),this._showNestedBorders(this.isHoverEffectShown()?this._hoverColor:this._outerColor,this._innerColor)):(this._x1=this._tempX1,this._x2=this._tempX2,this._baselineCoord=this._tempBaselineCoord,this.setPoints(this._createPointsArray()),this._showNestedBorders(this.isHoverEffectShown()?this._hoverColor:null)))},d.prototype.getAnimationParams=function(e){return e?this._bHoriz?[this._x2,this._x1,this._baselineCoord,this._endCoord]:[this._x1,this._x2,this._endCoord,this._baselineCoord]:[this._baselineCoord,this._endCoord,this._x1,this._x2]},d.prototype.setAnimationParams=function(e,t){if(this._setBarCoords(e[0],e[1],e[2],e[3],!1),t){var i=this.getIndicatorPosition();t.setTranslate(i.x,i.y),t.setAlpha(1),t.getParent().addChild(t)}},d.prototype.getDisplayAnimation=function(t){var i=this.getAnimationParams();this.setAnimationParams([this._axisCoord,this._axisCoord,this._x1,this._x2]);var r=new e.CustomAnimation(this.getCtx(),this,t);return r.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,i),r},d.prototype.getDeleteAnimation=function(t){var i=[this._baselineCoord,this._baselineCoord,this._x1,this._x2],r=new e.CustomAnimation(this.getCtx(),this,t);return r.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,i),r.getAnimator().addProp(e.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),r},d.prototype.getInsertAnimation=function(t){this.setAlpha(0);var i=this.getDisplayAnimation(t);return i.getAnimator().addProp(e.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),i},d.prototype.getIndicatorPosition=function(){var t,i,r=(this._x1+this._x2)/2;if(this._bStacked){var a=(this._endCoord+this._baselineCoord)/2;t=this._bHoriz?a:r,i=this._bHoriz?r:a}else{var s=this._endCoord>=this._baselineCoord?this._endCoord+d._INDICATOR_OFFSET:this._endCoord-d._INDICATOR_OFFSET;t=this._bHoriz?s:r,i=this._bHoriz?r:s}return new e.Point(t,i)},d.prototype._setBarCoords=function(t,i,r,a,s){this._baselineCoord=t,this._endCoord=i,this._x1=r,this._x2=a;var n=this._x2-this._x1;if(n<1&&(this._x1=Math.floor(this._x1),this._x2=this._x1+1,n=1),this._origX1=this._x1,this._origX2=this._x2,this._origBaselineCoord=this._baselineCoord,this._dataItemGaps>0&&s&&!this.isSelected()){var o=Math.ceil(d._MAX_GAP_SIZE*this._dataItemGaps),l=Math.abs(this._baselineCoord-this._endCoord),h=this._axisCoord==this._baselineCoord;l>=d._MIN_BAR_LENGTH_FOR_GAPS&&this._bStacked&&!h&&(this._baselineCoord+=this._endCoord>this._baselineCoord?o:-o),n>=d._MIN_BAR_WIDTH_FOR_GAPS&&(1==e.Agent.getDevicePixelRatio()&&this._barGapRatio>0&&n>d._MIN_BAR_WIDTH_FOR_GAPS_PIXEL_HINTING?(e.Agent.isPlatformGecko()||this._doNotRender||this.setPixelHinting(!0),this._x1=Math.round(this._x1),this._x2=Math.round(this._x2),this._origX1=this._x1,this._origX2=this._x2,this._x2-=o):(this._x1+=o/2,this._x2-=o/2))}if(!this._doNotRender){var g=this._createPointsArray();this.setPoints(g),this.OuterChild&&this.OuterChild.setPoints(this._createPointsArray(u.OUTER_BORDER_WIDTH)),this.InnerChild&&this.InnerChild.setPoints(this._createPointsArray(u.OUTER_BORDER_WIDTH+u.INNER_BORDER_WIDTH))}},d.prototype._createPointsArray=function(e){var t=this._baselineCoord,i=this._endCoord,r=this._x1,a=this._x2;if(e>0){if(Math.abs(r-a)<2*e||Math.abs(t-i)<2*e)return[];r+=e,a-=e,i<t?(t-=e,i+=e):(t+=e,i-=e)}return this._bHoriz?[i,r,i,a,t,a,t,r]:[r,i,a,i,a,t,r,t]},d.prototype.getBoundingBox=function(){var t=Math.min(this._x2,this._x1),i=Math.min(this._endCoord,this._baselineCoord),r=Math.abs(this._x2-this._x1),a=Math.abs(this._endCoord-this._baselineCoord);return this._bHoriz?new e.Rectangle(i,t,a,r):new e.Rectangle(t,i,r,a)},d.prototype.getDimensionsSelf=function(e){return this.ConvertCoordSpaceRect(this.getBoundingBox(),e)};var c=function(t,i,r,a,s,n,o,l,h){this.Init(t.getCtx()),this._chart=t,this._bHoriz=z.isHorizontal(t),this._styleOptions=h,this._innerColor=V.getSelectedInnerColor(this._chart),this._outerColor=V.getSelectedOuterColor(this._chart),this._hoverColor=e.SelectionEffectUtils.getHoverBorderColor(this._styleOptions._color);var u=i-r/2,g=i+r/2;V.getDataItemGaps(t)>0&&r>d._MIN_BAR_WIDTH_FOR_GAPS&&g--,this._render(u,g,a,s,n,o,l)};e.Obj.createSubclass(c,e.Shape),c.prototype._render=function(t,i,r,a,s,n,o){this._cleanUp();var l=this.getCtx();this._x1=Math.round(t),this._x2=Math.round(i),this._low=Math.round(r),this._q1=Math.round(a),this._q2=Math.round(s),this._q3=Math.round(n),this._high=Math.round(o);var h=i-t,u=V.getSizeInPixels(this._styleOptions.whiskerEndLength,h);u=Math.min(h,u),u=2*Math.floor((u-1)/2)+1;var g=Math.floor((t+i)/2)+.5,d=g-Math.floor(u/2)-.5,c=g+Math.floor(u/2)+.5;this._drawLine(g,this._low,g,this._high,"whisker"),this._drawLine(d,this._low,c,this._low,"whiskerEnd"),this._drawLine(d,this._high,c,this._high,"whiskerEnd"),this._q2Box=new e.Polygon(l,this._createQ2PointsArray(0));var p=Y.getRectangleFill(this._chart,this._styleOptions.q2Color,this._styleOptions._q2Pattern,h);this._q2Box.setFill(p),this._applyCustomStyle(this._q2Box,"q2"),this.addChild(this._q2Box),this._q3Box=new e.Polygon(l,this._createQ3PointsArray(0));var _=Y.getRectangleFill(this._chart,this._styleOptions.q3Color,this._styleOptions._q3Pattern,h);this._q3Box.setFill(_),this._applyCustomStyle(this._q3Box,"q3"),this.addChild(this._q3Box),this._drawMedianLine(0),this._borderColor=this._styleOptions.borderColor,this._borderColor&&(this._borderWidth=this._styleOptions.borderWidth,this._drawBorders(this._borderColor,this._borderWidth)),this.IsSelected&&(this.IsSelected=!1,this.setSelected(!0))},c.prototype.showHoverEffect=function(){this.IsShowingHoverEffect||(this.IsShowingHoverEffect=!0,this.isSelected()?this._drawBorders(this._hoverColor,u.OUTER_BORDER_WIDTH,this._innerColor,u.INNER_BORDER_WIDTH):this._drawBorders(this._hoverColor,u.OUTER_BORDER_WIDTH_HOVER,this._innerColor,u.INNER_BORDER_WIDTH))},c.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect&&(this.IsShowingHoverEffect=!1,this.isSelected()?this._drawBorders(this._outerColor,u.OUTER_BORDER_WIDTH,this._innerColor,u.INNER_BORDER_WIDTH):this._drawBorders(this._borderColor,this._borderWidth))},c.prototype.setSelected=function(e){this.IsSelected!=e&&(this.IsSelected=e,this.isHoverEffectShown()?e?this._drawBorders(this._hoverColor,u.OUTER_BORDER_WIDTH,this._innerColor,u.INNER_BORDER_WIDTH):this._drawBorders(this._hoverColor,u.OUTER_BORDER_WIDTH_HOVER,this._innerColor,u.INNER_BORDER_WIDTH):e?this._drawBorders(this._outerColor,u.OUTER_BORDER_WIDTH,this._innerColor,u.INNER_BORDER_WIDTH):this._drawBorders(this._borderColor,this._borderWidth))},c.prototype.UpdateSelectionEffect=function(){},c.prototype.getDisplayAnimation=function(e){return this.getInsertAnimation(e)},c.prototype.getDeleteAnimation=function(t){var i=new e.CustomAnimation(this.getCtx(),this,t),r=[this._x1,this._x2,this._q2,this._q2,this._q2,this._q2,this._q2];return i.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,r),i.getAnimator().addProp(e.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),i},c.prototype.getInsertAnimation=function(t){var i=new e.CustomAnimation(this.getCtx(),this,t),r=this._getAnimationParams();return this._setAnimationParams([this._x1,this._x2,this._q2,this._q2,this._q2,this._q2,this._q2]),i.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,r),this.setAlpha(0),i.getAnimator().addProp(e.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),i},c.prototype.getUpdateAnimation=function(t,i){var r=new e.CustomAnimation(this.getCtx(),this,t),a=i._getQ2Fill(),s=this._getQ2Fill();a.equals(s)||(this._setQ2Fill(a),r.getAnimator().addProp(e.Animator.TYPE_FILL,this,this._getQ2Fill,this._setQ2Fill,s));var n=i._getQ3Fill(),o=this._getQ3Fill();n.equals(o)||(this._setQ3Fill(n),r.getAnimator().addProp(e.Animator.TYPE_FILL,this,this._getQ3Fill,this._setQ3Fill,o));var l=this._getAnimationParams();return this._setAnimationParams(i._getAnimationParams()),r.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,l),r},c.prototype._getAnimationParams=function(){return[this._x1,this._x2,this._low,this._q1,this._q2,this._q3,this._high]},c.prototype._setAnimationParams=function(e){this._render(e[0],e[1],e[2],e[3],e[4],e[5],e[6])},c.prototype._getQ2Fill=function(){return new e.SolidFill(this._styleOptions.q2Color)},c.prototype._setQ2Fill=function(e){this._styleOptions.q2Color=e.getColor()},c.prototype._getQ3Fill=function(){return new e.SolidFill(this._styleOptions.q3Color)},c.prototype._setQ3Fill=function(e){this._styleOptions.q3Color=e.getColor()},c.prototype._drawLine=function(t,i,r,a,s){var n=this._bHoriz?new e.Line(this.getCtx(),i,t,a,r):new e.Line(this.getCtx(),t,i,r,a);return this._applyCustomStyle(n,s),n.setPixelHinting(!0),this.addChild(n),n},c.prototype._drawMedianLine=function(t){if(!this._medianLine){var i=new e.Line(this.getCtx(),0,0,0,0);this._applyCustomStyle(i,"median"),i.setPixelHinting(!0),this.addChild(i),this._medianLine=i}var r=this._x1+t,a=this._x2-t,s=this._q2;this._bHoriz?(this._medianLine.setX1(s),this._medianLine.setX2(s),this._medianLine.setY1(r),this._medianLine.setY2(a)):(this._medianLine.setY1(s),this._medianLine.setY2(s),this._medianLine.setX1(r),this._medianLine.setX2(a))},c.prototype._drawBorders=function(t,i,r,a){if(!this._outerBorderShape){var s=this.getChildIndex(this._q2Box);this._innerBorderShape=new e.Polygon(this.getCtx()),this._innerBorderShape.setInvisibleFill(),this.addChildAt(this._innerBorderShape,s),this._outerBorderShape=new e.Polygon(this.getCtx()),this._outerBorderShape.setInvisibleFill(),this.addChildAt(this._outerBorderShape,s)}var n=0;i?(this._outerBorderShape.setPoints(this._createBoxPointsArray(0)),this._outerBorderShape.setSolidFill(t),n+=i,a?(this._innerBorderShape.setPoints(this._createBoxPointsArray(i)),this._innerBorderShape.setSolidFill(r),n+=a):this._innerBorderShape.setInvisibleFill()):(this._outerBorderShape.setInvisibleFill(),this._innerBorderShape.setInvisibleFill()),this._q2Box.setPoints(this._createQ2PointsArray(n)),this._q3Box.setPoints(this._createQ3PointsArray(n)),this._drawMedianLine(n)},c.prototype._createBoxPointsArray=function(e){var t,i,r=this._x1+e,a=this._x2-e;return this._q1<this._q3?(t=this._q1+e,i=this._q3-e):(t=this._q1-e,i=this._q3+e),this._createPointsArray(r,a,t,i)},c.prototype._createQ3PointsArray=function(e){var t,i=this._x1+e,r=this._x2-e,a=this._q2;return t=this._q2<this._q3?this._q3-e:this._q3+e,this._createPointsArray(i,r,a,t)},c.prototype._createQ2PointsArray=function(e){var t,i=this._x1+e,r=this._x2-e,a=this._q2;return t=this._q2<this._q1?this._q1-e:this._q1+e,this._createPointsArray(i,r,t,a)},c.prototype._createPointsArray=function(e,t,i,r){return this._bHoriz?[i,e,i,t,r,t,r,e]:[e,i,t,i,t,r,e,r]},c.prototype._applyCustomStyle=function(e,t){e.setStyle(this._styleOptions[t+"Style"]||this._styleOptions[t+"SvgStyle"],!0),e.setClassName(this._styleOptions[t+"ClassName"]||this._styleOptions[t+"SvgClassName"],!0)},c.prototype._cleanUp=function(){this.removeChildren(),this._q2Box=null,this._q3Box=null,this._medianLine=null,this._outerBorderShape=null,this._innerBorderShape=null};var p=function(e,t,i,r,a,s,n){this.Init(e),i=Math.max(2*Math.round(i/2),1);var o=Math.min(2*Math.ceil(p._BAR_WIDTH*i/2),i),l=Math.round(t)-i/2,h=l+i;if(null!=s&&null!=n){var g=Math.round(t)-o/2,d=g+o;this._rangeShape=new u(e,[g,s,d,s,d,n,g,n]),this.addChild(this._rangeShape)}this._changeShape=new u(e,[l,r,h,r,h,a,l,a]),this.addChild(this._changeShape),this.setPixelHinting(!0)};e.Obj.createSubclass(p,e.Container),p._BAR_WIDTH=.3,p.prototype.setChangeStyle=function(e,t,i,r,a){this._changeShape.setStyleProperties(e,t,i,r,a)},p.prototype.setRangeStyle=function(e,t,i,r){this._rangeShape&&this._rangeShape.setStyleProperties(e,t,i,null,r)},p.prototype.setSelected=function(e){this._changeShape.setSelected(e),this._rangeShape&&this._rangeShape.setSelected(e)},p.prototype.showHoverEffect=function(){this._changeShape.showHoverEffect(),this._rangeShape&&this._rangeShape.showHoverEffect()},p.prototype.hideHoverEffect=function(){this._changeShape.hideHoverEffect(),this._rangeShape&&this._rangeShape.hideHoverEffect()},p.prototype.getDisplayAnimation=function(t){var i=new e.CustomAnimation(this.getCtx(),this,t),r=this._changeShape.getPoints();if(this._changeShape.setPoints(p._getInitialPoints(r)),i.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimationParams,r),this._rangeShape){var a=this._rangeShape.getPoints();this._rangeShape.setPoints(p._getInitialPoints(a)),i.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimationParams,a)}return i},p.prototype.getDeleteAnimation=function(t){var i=new e.CustomAnimation(this.getCtx(),this,t),r=p._getInitialPoints(this._changeShape.getPoints());if(i.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimationParams,r),this._rangeShape){var a=p._getInitialPoints(this._rangeShape.getPoints());i.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimationParams,a)}return i.getAnimator().addProp(e.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),i},p.prototype.getInsertAnimation=function(t){this.setAlpha(0);var i=this.getDisplayAnimation(t);return i.getAnimator().addProp(e.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),i},p.prototype.getUpdateAnimation=function(t,i){var r=new e.CustomAnimation(this.getCtx(),this,t),a=this._changeShape.getPoints();this._changeShape.setPoints(i._changeShape.getPoints()),r.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimationParams,a);var s=i._changeShape.getPrimaryFill().clone(),n=this._changeShape.getPrimaryFill();if(i._changeShape.isSelected()||this._changeShape.isSelected()||s.equals(n)||(this._changeShape.setFill(s),r.getAnimator().addProp(e.Animator.TYPE_FILL,this._changeShape,this._changeShape.getFill,this._changeShape.setFill,n)),this._rangeShape&&i._rangeShape){var o=this._rangeShape.getPoints();this._rangeShape.setPoints(i._rangeShape.getPoints()),r.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimationParams,o)}return r},p.prototype.UpdateSelectionEffect=function(){},p._getInitialPoints=function(e){var t=e[0],i=e[2],r=(e[1]+e[5])/2;return[t,r,i,r,i,r,t,r]};var _=function(e,t,i,r,a,s){this.x=e,this.y1=t,this.y2=i,this.groupIndex=r,this.group=a,this.filtered=s};e.Obj.createSubclass(_,e.Obj),_.prototype.isUpstep=function(e){return Math.abs(this.y2-e)>Math.abs(this.y1-e)},_.prototype.clone=function(){return new _(this.x,this.y1,this.y2,this.groupIndex,this.group,this.filtered)};var f=function(e,t,i,r,a,s,n,o,l,h,u,g){this.Init(e.getCtx()),this._chart=e,this._bArea=t,this._availSpace=i,this._baseline=r,this._style=a,this._className=s,this._fill=n,this._stroke=o,this._type=l,this._baseType=u||l,this._indicatorMap={},this.setCoords(h,g)};e.Obj.createSubclass(f,e.Container),f._INDICATOR_OFFSET=8,f.prototype.setCoords=function(e,t){this._arCoord=e,t&&(this._arBaseCoord=t),this.removeChildren(),this._bArea?this._renderAreas():this._renderLines(),this._positionIndicators()},f.prototype.getCoords=function(){return this._arCoord},f.prototype.getBaseCoords=function(){return this._arBaseCoord},f.prototype.getBaseline=function(){return this._baseline},f.prototype.isArea=function(){return this._bArea},f.prototype._getPointArrays=function(t,i){var r=[],a=[];r.push(a),t=f._convertToPointCoords(t);var s,n,o,l,h,u=z.isPolar(this._chart),g="centeredStepped"==i||"centeredSegmented"==i,d=g||"stepped"==i||"segmented"==i,c=V.getGroupWidth(this._chart),p=e.Agent.isRightToLeft(this.getCtx())&&z.isVertical(this._chart)?-1:1;u&&(s=t[t.length-1]);for(var _=!1,S=0;S<t.length;S++)null!=t[S]?(n=t[S],l=t[S]._isY2,o=g?n.x-c/2*p:n.x,l&&(_&&d&&(o+=c*p),_=!_),"curved"==i&&l&&a.push(null,null),s&&d&&this._pushCoord(a,o,s.y),this._bArea||"segmented"!=i&&"centeredSegmented"!=i||(a=[],r.push(a)),this._pushCoord(a,o,n.y),s=n):(N.isMixedFrequency(this._chart)||d&&!u&&s&&!l&&(h=g?s.x+.5*c*p:s.x+c*p,this._pushCoord(a,h,s.y)),"jet"!=this._chart.getOptions()._environment&&N.isMixedFrequency(this._chart)||(a=[],r.push(a),s=null));if(d&&!u&&s&&!l&&(h=g?s.x+.5*c*p:s.x+c*p,this._pushCoord(a,h,s.y)),u&&r.length>1){var C=r.pop();r[0]=C.concat(r[0])}return r},f.prototype._pushCoord=function(t,i,r){var a=te.convertAxisCoord(this._chart,new e.Point(i,r),this._availSpace);t.push(Math.round(10*a.x)/10,Math.round(10*a.y)/10)},f.prototype._isRing=function(){if(!z.isPolar(this._chart)||!N.hasGroupAxis(this._chart)||this._arCoord.length<H.getGroupCount(this._chart))return!1;for(var e=0;e<this._arCoord.length;e++)if(null==this._arCoord[e].x)return!1;return!0},f.prototype._getSplineType=function(){return z.isScatterBubble(this._chart)?e.PathUtils.SPLINE_TYPE_CARDINAL:z.isPolar(this._chart)?this._isRing()?e.PathUtils.SPLINE_TYPE_CARDINAL_CLOSED:e.PathUtils.SPLINE_TYPE_CARDINAL:z.isHorizontal(this._chart)?e.PathUtils.SPLINE_TYPE_MONOTONE_HORIZONTAL:e.PathUtils.SPLINE_TYPE_MONOTONE_VERTICAL},f.prototype._renderLines=function(){for(var t,i=this._getPointArrays(this._arCoord,this._type),r=0;r<i.length;r++){var a=i[r];if(a&&a.length>1){if("curved"==this._type){var s=f._getCurvedPathCommands(a,!1,this._getSplineType());(t=new e.Path(this.getCtx(),s)).setFill(null)}else this._isRing()?(t=new e.Polygon(this.getCtx(),a)).setFill(null):t=new e.Polyline(this.getCtx(),a);t.setStroke(this._stroke),t.setClassName(this._className).setStyle(this._style),this.addChild(t)}}},
f.prototype._renderAreas=function(){var t=this._arCoord,i=this._arBaseCoord;!z.isPolar(this._chart)&&t.length>0&&i.length>0&&(t=t.slice(0),i=i.slice(0),null!=t[0].x&&null!=i[0].x&&(f._removeAreaEdge(t,0,this._baseline),f._removeAreaEdge(i,0,this._baseline),i[0].x=t[0].x),null!=t[t.length-1].x&&null!=i[i.length-1].x&&(f._removeAreaEdge(t,t.length-1,this._baseline),f._removeAreaEdge(i,i.length-1,this._baseline),i[i.length-1].x=t[t.length-1].x));var r=this._getPointArrays(t,this._type),a=this._getPointArrays(i,this._baseType);if(r.length==a.length)for(var s,n=0;n<r.length;n++){var o=r[n],l=a[n];if(!(o.length<2)){var h="curved"==this._type,u="curved"==this._baseType;this._isRing()&&(h||o.push(o[0],o[1]),l.length>=2&&!u&&l.push(l[0],l[1]));for(var g=[],d=0;d<l.length;d+=2)g.unshift(l[d],l[d+1]);if(h||u){var c=this._getSplineType(),p=h?f._getCurvedPathCommands(o,!1,c):e.PathUtils.polyline(o,!1);p+=u?f._getCurvedPathCommands(g,!0,c):e.PathUtils.polyline(g,!0),p+=e.PathUtils.closePath(),s=new e.Path(this.getCtx(),p)}else{var _=g.concat(o);s=new e.Polygon(this.getCtx(),_)}s.setFill(this._fill),s.setClassName(this._className).setStyle(this._style),this._stroke&&s.setStroke(this._stroke),this.addChild(s)}}},f.prototype._positionIndicators=function(){for(var t,i,r,a,s,n=0;n<this._arCoord.length;n++)s=this._arCoord[n],(t=this._indicatorMap[s.groupIndex])&&t.indicator&&(a=(s.isUpstep(this._baseline)?s.y2:s.y1)+f._INDICATOR_OFFSET*(t.direction==B.DIR_UP?-1:1),r=te.convertAxisCoord(this._chart,new e.Point(s.x,a),this._availSpace),(i=t.indicator).setTranslate(r.x,r.y),i.setAlpha(1),i.getParent().addChild(i))},f.prototype.getAnimationParams=function(e){return f._coordsToAnimationParams(this._arCoord,e?e._arCoord:null,this._baseline)},f.prototype.setAnimationParams=function(e){var t=f._animationParamsToCoords(e);this.setCoords(t)},f.prototype.getBaseAnimationParams=function(e){return f._coordsToAnimationParams(this._arBaseCoord,e?e._arBaseCoord:null,this._baseline)},f.prototype.setBaseAnimationParams=function(e){this._arBaseCoord=f._animationParamsToCoords(e)},f.prototype.getCommonGroupIndices=function(e){for(var t=[],i=0;i<this._arCoord.length;i++)if(!this._arCoord[i].filtered&&null!=this._arCoord[i].x)for(var r=0;r<e._arCoord.length;r++)if(!e._arCoord[r].filtered&&null!=e._arCoord[r].x&&this._arCoord[i].group==e._arCoord[r].group){t.push(this._arCoord[i].groupIndex);break}return t},f.prototype.addIndicator=function(e,t,i){i.setAlpha(0),this._indicatorMap[e]={direction:t,indicator:i}},f.prototype.removeIndicators=function(){for(var e in this._indicatorMap){var t=this._indicatorMap[e].indicator;t&&t.getParent().removeChild(t)}this._indicatorMap={}},f._convertToPointCoords=function(t){for(var i=[],r=0;r<t.length;r++)if(!t[r].filtered)if(null==t[r].x)i.push(null);else if(i.push(new e.Point(t[r].x,t[r].y1)),t[r].y1!=t[r].y2){var a=new e.Point(t[r].x,t[r].y2);a._isY2=!0,i.push(a)}return i},f._coordsToAnimationParams=function(t,i,r){if(i&&i.length>0)if(t&&t.length>0){t=t.slice(0);for(var a,s,n,o=f._coordsToGroups(i),l=f._coordsToGroups(t),h=t.length,u=o.length-1;u>=0;u--)a=o[u],-1==(s=e.ArrayUtils.getIndex(l,a))?(0==h?(n=t[0].clone(),t[0]=t[0].clone(),f._removeCoordJump(n,t[0],r)):(n=t[h-1].clone(),t[h-1]=t[h-1].clone(),f._removeCoordJump(t[h-1],n,r)),n.groupIndex=-1,t.splice(h,0,n)):h=s}else for(t=[],u=0;u<i.length;u++)t.push(new _(i[u].x,r,r));for(var g=[],d=0;d<t.length;d++)t[d].filtered||(null==t[d].x?(g.push(1/0),g.push(1/0),g.push(1/0)):(g.push(t[d].x),g.push(t[d].y1),g.push(t[d].y2)),g.push(t[d].groupIndex));return g},f._animationParamsToCoords=function(e){for(var t=[],i=0;i<e.length;i+=4)e[i]==1/0||isNaN(e[i])?t.push(new _(null,null,null,e[i+3])):t.push(new _(e[i],e[i+1],e[i+2],e[i+3]));return t},f._coordsToGroups=function(e){for(var t=[],i=0;i<e.length;i++)e[i].filtered||t.push(e[i].group);return t},f._removeCoordJump=function(e,t,i){e.isUpstep(i)?t.y1=t.y2:e.y2=e.y1},f._getCurvedPathCommands=function(t,i,r){var a=[],s=[];a.push(s);for(var n=0;n<t.length;n+=2)null==t[n]?(s=[],a.push(s)):s.push(t[n],t[n+1]);if(r==e.PathUtils.SPLINE_TYPE_CARDINAL_CLOSED&&a.length>1){var o=a.pop();a[0]=o.concat(a[0]),r=e.PathUtils.SPLINE_TYPE_CARDINAL}var l="";for(n=0;n<a.length;n++)s=a[n],l+=e.PathUtils.curveThroughPoints(s,i,r),i=!0;return l},f._removeAreaEdge=function(e,t,i){var r=e[t].clone();r.isUpstep(i)?r.y1=r.y2:r.y2=r.y1,e[t]=r};var S=function(e,t,i,r,a,s){this.Init(e,t,null,i,r,a,a,null,null,!0),s&&this.setStroke(S.DEFAULT_STROKE)};e.Obj.createSubclass(S,e.SimpleMarker),S.DEFAULT_STROKE=new e.SolidStroke("none"),S.SELECTED_FILL=new e.SolidFill("#FFFFFF"),S.SELECTED_STROKE=new e.SolidStroke("#5A5A5A",1,1.5),S.prototype.setDataColor=function(t){this._dataColor=t,this._hoverStroke=new e.SolidStroke(t,1,1.5)},S.prototype.getDataColor=function(){return this._dataColor},S.prototype.showHoverEffect=function(){this.IsShowingHoverEffect=!0,this.setStroke(this._hoverStroke)},S.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect=!1,this.setStroke(this.isSelected()?S.SELECTED_STROKE:S.DEFAULT_STROKE)},S.prototype.setSelected=function(e){this.IsSelected!=e&&(this.IsSelected=e,this.isSelected()?(this.setFill(S.SELECTED_FILL),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:S.SELECTED_STROKE)):(this.setInvisibleFill(),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:S.DEFAULT_STROKE)))},S.prototype.UpdateSelectionEffect=function(){};var C=function(e){this.Init(e.getCtx(),e.processEvent,e),this._parentChart=e,this._chart=e.overview?e.overview.getBackgroundChart():null,this._id=e.getId()+"_overview"};e.Obj.createSubclass(C,e.Overview),C.prototype._renderChart=function(t,i,r){this._chartContainer=new e.Container(this.getCtx()),this.addChild(this._chartContainer),t=e.JsonUtils.merge({legend:{rendered:"off",size:null},xAxis:{viewportMin:null,viewportMax:null,viewportStartGroup:null,viewportEndGroup:null,axisLine:{rendered:"off"},size:null,maxSize:.5,title:null},yAxis:{rendered:"off",size:null},y2Axis:{rendered:"off",size:null},splitDualY:"off",title:{text:null},subtitle:{text:null},footnote:{text:null},titleSeparator:{rendered:"off"},styleDefaults:{animationIndicators:"none"},layout:{outerGapWidth:0,outerGapHeight:0},_isOverview:!0},t),N.hasGroupAxis(this._parentChart)&&(t.xAxis.tickLabel.rendered="off"),z.isStock(this._parentChart)&&t.series&&t.series[0]&&(t.series=[t.series[0]],t.series[0].type="lineWithArea");var a=this._parentChart.getOptions().overview.content;(t=e.JsonUtils.merge(a,t)).zoomAndScroll="off",this._chart||(this._chart=e.Chart.newInstance(this.getCtx()),this._chart.setId(this._id)),this._chartContainer.addChild(this._chart),this._chart.render(t,i,r);var s=new e.Rect(this.getCtx(),0,0,i,r);return s.setInvisibleFill(),this._chartContainer.addChild(s),this._chart.getEventManager().setKeyboardHandler(null),this._chart.__getPlotAreaSpace().h},C.prototype.createBackground=function(e,t){},C.prototype.render=function(e,t,i){e.style={overviewBackgroundColor:"rgba(0,0,0,0)",windowBackgroundColor:"rgba(0,0,0,0)",windowBorderTopColor:"#333333",windowBorderRightColor:"#333333",windowBorderBottomColor:"#333333",windowBorderLeftColor:"#333333",leftFilterPanelColor:"rgba(5,65,135,0.1)",rightFilterPanelColor:"rgba(5,65,135,0.1)",handleBackgroundImage:e.chart._resources.overviewGrippy,handleWidth:3,handleHeight:15,handleFillColor:"rgba(0,0,0,0)"},e.animationOnClick="off";var r=this._renderChart(e.chart,t,i);C.superclass.render.call(this,e,t,r)},C.prototype.destroy=function(){C.superclass.destroy.call(this),this._parentChart=null,this._chart=null},C.prototype.getBackgroundChart=function(){return this._chart},C.prototype.isLeftAndRightFilterRendered=function(){return!0},C.prototype.HandleKeyDown=function(e){},C.prototype.HandleKeyUp=function(e){};var m=function(e,t,i,r,a,s,n){this.Init(e.getCtx()),this._axisCoord=t,this._availSpace=n.clone(),this._bbox=null,this._dataItemGaps=V.getDataItemGaps(e)*m._MAX_DATA_ITEM_GAP,this._setBarCoords(i,r,a,s)};e.Obj.createSubclass(m,h),m._MIN_BAR_LENGTH_FOR_GAPS=4,m._MAX_DATA_ITEM_GAP=3,m.prototype.getAnimationParams=function(){return[this._baselineCoord,this._endCoord,this._x1,this._x2]},m.prototype.setAnimationParams=function(e,t){this._setBarCoords(e[0],e[1],e[2],e[3])},m.prototype.getPrimaryFill=function(){return this.getFill()},m.prototype.getDisplayAnimation=function(t){var i=this.getAnimationParams();this.setAnimationParams([this._axisCoord,this._axisCoord,0,0]);var r=new e.CustomAnimation(this.getCtx(),this,t);return r.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,i),r},m.prototype.getDeleteAnimation=function(t){var i=[this._baselineCoord,this._baselineCoord,this._x1,this._x2],r=new e.CustomAnimation(this.getCtx(),this,t);return r.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,i),r.getAnimator().addProp(e.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),r},m.prototype.getInsertAnimation=function(t){this.setAlpha(0);var i=this.getAnimationParams();this.setAnimationParams([this._baselineCoord,this._baselineCoord,this._x1,this._x2]);var r=new e.CustomAnimation(this.getCtx(),this,t);return r.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,i),r.getAnimator().addProp(e.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),r},m.prototype._setBarCoords=function(t,i,r,a){var s=this._availSpace.x+this._availSpace.w/2,n=this._availSpace.y+this._availSpace.h/2,o=Math.max(i,t),l=Math.abs(i-t)>=m._MIN_BAR_LENGTH_FOR_GAPS&&this._axisCoord!=t?Math.min(i,t)+this._dataItemGaps:Math.min(i,t),h=360-e.Math.radsToDegrees(Math.max(r,a))+90,u=e.Math.radsToDegrees(Math.abs(a-r));this.setWedgeParams(s,n,o,o,h,u,this._dataItemGaps,l);var g=te.polarToCartesian(t,r,this._availSpace),d=te.polarToCartesian(t,a,this._availSpace),c=te.polarToCartesian(i,r,this._availSpace),p=te.polarToCartesian(i,a,this._availSpace),_=Math.min(g.x,d.x,c.x,p.x),f=Math.max(g.x,d.x,c.x,p.x),S=Math.min(g.y,d.y,c.y,p.y),C=Math.max(g.y,d.y,c.y,p.y);this._bbox=new e.Rectangle(_,S,f-_,C-S),this._baselineCoord=t,this._endCoord=i,this._x1=r,this._x2=a},m.prototype.getBoundingBox=function(){return this._bbox};var y=function(e,t,i,r,a,s,n){this.Init(e),this._markerSize=s,this._isInvisible=n,this._drawPath(t,i,r,a)};e.Obj.createSubclass(y,e.Path),y.prototype._drawPath=function(t,i,r,a){var s=Math.atan2(a-i,r-t),n=this._markerSize/2,o=Math.PI/8,l=e.PathUtils.moveTo(t+n*Math.cos(s+o),i+n*Math.sin(s+o))+e.PathUtils.arcTo(n,n,2*(Math.PI-o),1,t+n*Math.cos(s-o),i+n*Math.sin(s-o))+e.PathUtils.lineTo(r-n*Math.cos(s+o),a-n*Math.sin(s+o))+e.PathUtils.arcTo(n,n,2*(Math.PI-o),1,r-n*Math.cos(s-o),a-n*Math.sin(s-o))+e.PathUtils.closePath();this.setCmds(l),this._x1=t,this._y1=i,this._x2=r,this._y2=a},y.prototype.setStyleProperties=function(t,i,r,a,s){this._dataColor=r;var n=e.SelectionEffectUtils.getHoverBorderColor(r);this._isInvisible?(this.setInvisibleFill(),this._hoverStroke=new e.SolidStroke(n,1,1.5)):(this.setFill(t),this.setStroke(i),this.setHoverStroke(new e.SolidStroke(a,1,1),new e.SolidStroke(n,1,3.5)),this.setSelectedStroke(new e.SolidStroke(a,1,1.5),new e.SolidStroke(s,1,4.5)),this.setSelectedHoverStroke(new e.SolidStroke(a,1,1.5),new e.SolidStroke(n,1,4.5)))},y.prototype.getDataColor=function(){return this._dataColor},y.prototype.showHoverEffect=function(){this._isInvisible?(this.IsShowingHoverEffect=!0,this.setStroke(this._hoverStroke)):y.superclass.showHoverEffect.call(this)},y.prototype.hideHoverEffect=function(){this._isInvisible?(this.IsShowingHoverEffect=!1,this.setStroke(this.isSelected()?S.SELECTED_STROKE:S.DEFAULT_STROKE)):y.superclass.hideHoverEffect.call(this)},y.prototype.setSelected=function(e){if(this._isInvisible){if(this.IsSelected==e)return;this.IsSelected=e,this.isSelected()?(this.setFill(S.SELECTED_FILL),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:S.SELECTED_STROKE)):(this.setInvisibleFill(),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:S.DEFAULT_STROKE))}else y.superclass.setSelected.call(this,e)},y.prototype.UpdateSelectionEffect=function(){this._isInvisible||y.superclass.UpdateSelectionEffect.call(this)},y.prototype.getAnimationParams=function(){return[this._x1,this._y1,this._x2,this._y2]},y.prototype.setAnimationParams=function(e){this._drawPath(e[0],e[1],e[2],e[3])},y.prototype.isInvisible=function(){return this._isInvisible},y.prototype.getBoundingBox=function(){return this.getBoundingBox1().getUnion(this.getBoundingBox2())},y.prototype.getBoundingBox1=function(){return new e.Rectangle(this._x1-this._markerSize/2,this._y1-this._markerSize/2,this._markerSize,this._markerSize)},y.prototype.getBoundingBox2=function(){return new e.Rectangle(this._x2-this._markerSize/2,this._y2-this._markerSize/2,this._markerSize,this._markerSize)};var v=function(e,t,i){this.Init(e,t,i)};e.Obj.createSubclass(v,e.Container),v.BEHAVIOR_SNAP="SNAP",v.BEHAVIOR_SMOOTH="SMOOTH",v.BEHAVIOR_AUTO="AUTO",v.TOOLTIP_ID="_dvtDataCursor",v.prototype.Init=function(t,i,r){v.superclass.Init.call(this,t),this._bHoriz=r,this._options=i,this.setMouseEnabled(!1),this.setVisible(!1);var a=i.lineWidth,s=i.lineColor,n=e.Stroke.convertTypeString(i.lineStyle),o=new e.SolidStroke(s,1,a);if(o.setStyle(n),this._cursorLine=new e.Line(this.getCtx(),0,0,0,0,"dcLine"),this._cursorLine.setStroke(o),this.addChild(this._cursorLine),"off"!=i.markerDisplayed){this._marker=new e.Container(this._context),this._marker.setMouseEnabled(!1),this.addChild(this._marker);var l=i.markerSize,h=new e.SimpleMarker(this._context,e.SimpleMarker.CIRCLE,null,0,0,l+4*a,l+4*a);h.setSolidFill(s),this._marker.addChild(h);var u=new e.SimpleMarker(this._context,e.SimpleMarker.CIRCLE,null,0,0,l+2*a,l+2*a);u.setSolidFill("white"),this._marker.addChild(u),this._markerInnerCircle=new e.SimpleMarker(this._context,e.SimpleMarker.CIRCLE,null,0,0,l,l),this._marker.addChild(this._markerInnerCircle)}},v.prototype.render=function(t,i,r,a,s,n){var o,l=this.isHorizontal(),h=e.Agent.isRightToLeft(this.getCtx());if(null!=s&&""!=s){var u=this.getCtx().getStageAbsolutePosition(),g=this.getCtx().getTooltipManager(v.TOOLTIP_ID);g.showDatatip(i+u.x,r+u.y,s,n,!1),o=g.getTooltipBounds();var d,c,p=this._options.markerSize+4*this._options.lineWidth;l?(d=h?t.x-.75*o.w:t.x+t.w-o.w/4,c=a-o.h/2,!h&&d-i<p?d=i+p:h&&i-(d+o.w)<p&&(d=i-p-o.w)):(d=a-o.w/2,r-((c=t.y-.75*o.h)+o.h)<p&&(c=r-p-o.h)),g.positionTip(d+u.x,c+u.y),(o=g.getTooltipBounds()).x-=u.x,o.y-=u.y}if(l?(this._cursorLine.setTranslateY(a),h?(this._cursorLine.setX1(o?o.x+o.w-1:t.x),this._cursorLine.setX2(t.x+t.w)):(this._cursorLine.setX1(t.x),this._cursorLine.setX2(o?o.x+1:t.x+t.w))):(this._cursorLine.setTranslateX(a),this._cursorLine.setY1(o?o.y+o.h-1:t.y),this._cursorLine.setY2(t.y+t.h)),this._marker){this._marker.setTranslate(i,r);var _=this._options.markerColor;this._markerInnerCircle.setSolidFill(_||n),e.Agent.workaroundFirefoxRepaint(this._marker)}},v.prototype.isHorizontal=function(){return this._bHoriz},v.prototype.getBehavior=function(){return this._behavior?this._behavior:v.BEHAVIOR_AUTO},v.prototype.setBehavior=function(e){this._behavior=e};var A=function(e,t,i,r,a,s,n,o,l){this.Init(e,t,i,r,a,s,n,o,l)};e.Obj.createSubclass(A,e.Path),A.prototype.Init=function(t,i,r,a,s,n,o,l,h){A.superclass.Init.call(this,t.getCtx()),this._chart=t;var u=t.getOptions().styleDefaults;this._seriesIndex=i,this._numDrawnSeries=r,this._funnelWidth=a,this._funnelHeight=s,this._startPercent=n,this._valuePercent=o,this._fillPercent=l,this._3dRatio="on"==u.threeDEffect?1:0,this._gap=h;var g=this._getPath();this._dataColor=V.getColor(this._chart,this._seriesIndex,0),this._backgroundColor=u.backgroundColor?u.backgroundColor:u.funnelBackgroundColor,this.setCmds(g.slice),g.bar&&(this._bar=new e.Path(this.getCtx(),g.bar),this.addChild(this._bar),this._bar.setMouseEnabled(!1)),this._setColorProperties(g.sliceBounds),this._label=this._getSliceLabel(g.sliceBounds,g.barBounds),null!=this._label&&(this._label.setMouseEnabled(!1),this.addChild(this._label))},A._FUNNEL_3D_WIDTH_RATIO=.08,A._FUNNEL_ANGLE_2D=36,A._FUNNEL_RATIO=1/3,A._BORDER_COLOR="#FFFFFF",A._MIN_CHARS_DATA_LABEL=3,A._LINE_FRACTION=2/3,A._AREA_FRACTION=.41,A._HEIGHT_FRACTION=.28,A._LINE_FRACTION_2=.4,A._AREA_FRACTION_2=.8,A._HEIGHT_FRACTION_2=.7,A.prototype._getPath=function(){var t=e.Agent.isRightToLeft(this.getCtx()),i=H.getSeriesCount(this._chart),r=(this._numDrawnSeries+1)*this._gap,a=e.Math.degreesToRads(A._FUNNEL_ANGLE_2D-2*this._3dRatio),s=this._funnelWidth-i*this._gap,n=s/Math.sin(e.Math.degreesToRads(A._FUNNEL_ANGLE_2D)),o=this._funnelHeight/Math.sin(a),l=this._3dRatio*this._funnelWidth/this._funnelHeight*A._FUNNEL_3D_WIDTH_RATIO;l<1e-5&&(l=0);var h,u,g,d,c,p,_,f,S,C,m,y,v=this._funnelHeight,x=this._funnelHeight*A._FUNNEL_RATIO;this._startPercent<A._AREA_FRACTION?(h=this._startPercent,g=v,c=this._funnelHeight*A._LINE_FRACTION,_=A._AREA_FRACTION,S=s*A._HEIGHT_FRACTION,m=s*(1-A._HEIGHT_FRACTION)):this._startPercent<A._AREA_FRACTION_2?(h=this._startPercent-A._AREA_FRACTION,g=this._funnelHeight*A._LINE_FRACTION,c=this._funnelHeight*A._LINE_FRACTION_2,_=A._AREA_FRACTION_2-A._AREA_FRACTION,S=s*(A._HEIGHT_FRACTION_2-A._HEIGHT_FRACTION),m=s*(1-A._HEIGHT_FRACTION_2)):(h=this._startPercent-A._AREA_FRACTION_2,g=this._funnelHeight*A._LINE_FRACTION_2,c=x,_=1-A._AREA_FRACTION_2,S=s*(1-A._HEIGHT_FRACTION_2),m=0),this._startPercent+this._valuePercent<A._AREA_FRACTION?(d=v,p=this._funnelHeight*A._LINE_FRACTION,u=this._startPercent+this._valuePercent,f=A._AREA_FRACTION,C=s*A._HEIGHT_FRACTION,y=s*(1-A._HEIGHT_FRACTION)):this._startPercent+this._valuePercent<A._AREA_FRACTION_2?(d=this._funnelHeight*A._LINE_FRACTION,p=this._funnelHeight*A._LINE_FRACTION_2,u=this._startPercent+this._valuePercent-A._AREA_FRACTION,f=A._AREA_FRACTION_2-A._AREA_FRACTION,C=s*(A._HEIGHT_FRACTION_2-A._HEIGHT_FRACTION),y=s*(1-A._HEIGHT_FRACTION_2)):(d=this._funnelHeight*A._LINE_FRACTION_2,p=x,u=this._startPercent+this._valuePercent-A._AREA_FRACTION_2,f=1-A._AREA_FRACTION_2,C=s*(1-A._HEIGHT_FRACTION_2),y=0);var b,I,T,E=Math.sqrt((_-h)/_*g*g+h/_*c*c),D=Math.sqrt((f-u)/f*d*d+u/f*p*p),O=.98*Math.asin(((E-c)*S/(g-c)+m)/n),P=.98*Math.asin(((D-p)*C/(d-p)+y)/n),M=(1+A._FUNNEL_RATIO)/2*this._funnelHeight+o,R=(1-A._FUNNEL_RATIO)/2*this._funnelHeight-o;t?(b=[n*Math.sin(O)+r,M-o*Math.cos(O),n*Math.sin(P)+r,M-o*Math.cos(P),n*Math.sin(P)+r,R+o*Math.cos(P),n*Math.sin(O)+r,R+o*Math.cos(O)],I=0,T=1):(b=[this._funnelWidth-r-n*Math.sin(O),M-o*Math.cos(O),this._funnelWidth-r-n*Math.sin(P),M-o*Math.cos(P),this._funnelWidth-r-n*Math.sin(P),R+o*Math.cos(P),this._funnelWidth-r-n*Math.sin(O),R+o*Math.cos(O)],I=1,T=0);var w=e.PathUtils.moveTo(b[0],b[1]),L=null;w+=e.PathUtils.arcTo(l*(b[1]-b[7])/2,(b[1]-b[7])/2,Math.PI,T,b[6],b[7]),w+=e.PathUtils.arcTo(l*(b[1]-b[7])/2,(b[1]-b[7])/2,Math.PI,T,b[0],b[1]),w+=e.PathUtils.arcTo(n,o,a,I,b[2],b[3]),w+=e.PathUtils.arcTo(l*(b[3]-b[5])/2,(b[3]-b[5])/2,Math.PI,T,b[4],b[5]),w+=e.PathUtils.arcTo(n,o,a,I,b[6],b[7]);var B=new e.Rectangle(Math.min(b[0],b[2]),b[5],Math.abs(b[0]-b[2]),Math.abs(b[3]-b[5]));if(null!=this._fillPercent){var F=Math.max(Math.min(this._fillPercent,1),0),k=t?-F*Math.PI:F*Math.PI;L=e.PathUtils.moveTo(b[0],b[1]),L+=e.PathUtils.arcTo(n,o,a,I,b[2],b[3]),L+=e.PathUtils.arcTo(l*(b[3]-b[5])/2,(b[3]-b[5])/2,k,T,b[2]+l*(b[3]-b[5])/2*Math.sin(k),(b[5]+b[3])/2+(b[3]-b[5])/2*Math.cos(k)),this._fillPercent>.95?L+=e.PathUtils.arcTo(n,o,a,I,b[6],b[1]+F*(b[7]-b[1])):this._fillPercent<.05?L+=e.PathUtils.arcTo(n,o,a,T,b[6],b[1]+F*(b[7]-b[1])):L+=e.PathUtils.lineTo(b[6]+l*(b[1]-b[7])/2*Math.sin(k),(b[7]+b[1])/2+(b[1]-b[7])/2*Math.cos(k)),L+=e.PathUtils.arcTo(l*(b[1]-b[7])/2,(b[1]-b[7])/2,k,I,b[0],b[1]),L+=e.PathUtils.closePath();var N=new e.Rectangle(Math.min(b[0],b[2]),b[5]+Math.abs(b[3]-b[5])*(1-F),Math.abs(b[0]-b[2]),Math.abs(b[3]-b[5])*F)}return{slice:w,bar:L,sliceBounds:B,barBounds:L?N:B}},A.prototype._getSliceLabel=function(t,i){var r=H.getDataLabel(this._chart,this._seriesIndex,0);if(r||(r=H.getSeriesLabel(this._chart,this._seriesIndex)),r&&"none"!=V.getDataLabelPosition(this._chart,this._seriesIndex,0)){var a=new e.MultilineText(this.getCtx(),r,0,0),s=null!=V.getPattern(this._chart,this._seriesIndex,0),n=[this._chart.getOptions().styleDefaults.dataLabelStyle,new e.CSSStyle(H.getDataItem(this._chart,this._seriesIndex,0).labelStyle)],o=e.CSSStyle.mergeStyles(n);if(a.setCSSStyle(o),e.TextUtils.fitText(a,t.h-this._3dRatio*(.8-this._valuePercent)*50,t.w,this,A._MIN_CHARS_DATA_LABEL)){var l=a.getDimensions(),h=this._getLabelPosition(t);if(s){var u=.15*l.h,g=e.Agent.isRightToLeft(this.getCtx())?.5:-.5,d=e.PathUtils.roundedRectangle(l.x-u,l.y,l.w+2*u,l.h,2,2,2,2),c=new e.Path(this.getCtx(),d);c.setSolidFill("#FFFFFF",.9),h.translate(g*l.h,-g*l.w),c.setMatrix(h),this.addChild(c)}var p=s?"#000000":i.containsPoint(t.x,t.y+(t.h-l.w)/2)?e.ColorUtils.getContrastingTextColor(this._dataColor):e.ColorUtils.getContrastingTextColor(this._backgroundColor);return o.getStyle("color")&&!e.Agent.isHighContrast()||a.setCSSStyle(o.setStyle("color",p)),a.setMatrix(this._getLabelPosition(t)),a.alignCenter(),a.alignMiddle(),a}}},A.prototype._getLabelPosition=function(t){var i=this._3dRatio*(t.h*this._funnelWidth/this._funnelHeight*A._FUNNEL_3D_WIDTH_RATIO/2),r=new e.Matrix;return e.Agent.isRightToLeft(this.getCtx())?(r.rotate(Math.PI/2),r.translate(t.x+t.w/2-i,t.y+t.h/2)):(r.rotate(3*Math.PI/2),r.translate(t.x+t.w/2+i,t.y+t.h/2)),r},A.prototype._setColorProperties=function(t){var i=Y.getFunnelPyramidSliceFill(this._chart,this._seriesIndex,this._dataColor,t),r=V.getBorderColor(this._chart,this._seriesIndex,0);null==r&&this._3dRatio>0&&(r=A._BORDER_COLOR);var a=V.getBorderWidth(this._chart,this._seriesIndex,0),s=e.SelectionEffectUtils.getHoverBorderColor(this._dataColor),n=Y.getFunnelPyramidSliceFill(this._chart,this._seriesIndex,this._backgroundColor,t,!0);this._bar?(this.setFill(n),this._bar.setFill(i),this._bar.setStyle(V.getStyle(this._chart,this._seriesIndex,0)),this._bar.setClassName(V.getClassName(this._chart,this._seriesIndex,0))):(this.setFill(i),this.setStyle(V.getStyle(this._chart,this._seriesIndex,0)),this.setClassName(V.getClassName(this._chart,this._seriesIndex,0))),r&&this.setSolidStroke(r,null,a),this.OriginalStroke=this.getStroke();var o=null!=this._bar?this._bar:this;if(o.setHoverStroke(new e.SolidStroke(s,1,2)),this._chart.isSelectionSupported()){var l=V.getSelectedInnerColor(this._chart),h=V.getSelectedOuterColor(this._chart)?V.getSelectedOuterColor(this._chart):this._dataColor;o.setSelectedStroke(new e.SolidStroke(l,1,1.5),new e.SolidStroke(h,1,4.5)),o.setSelectedHoverStroke(new e.SolidStroke(l,1,1.5),new e.SolidStroke(s,1,4.5)),this.setCursor(e.SelectionEffectUtils.getSelectingCursor())}},A.prototype.getAnimationParams=function(){return[this._startPercent,this._valuePercent,this._fillPercent,this.getAlpha(),this._3dRatio]},A.prototype.setAnimationParams=function(e){this._startPercent=e[0],this._valuePercent=e[1],this._fillPercent=null!=this._fillPercent?e[2]:null,this.setAlpha(e[3]),this._3dRatio=e[4];var t=this._getPath();this.setCmds(t.slice),t.bar&&this._bar&&this._bar.setCmds(t.bar),this._label&&this._label.setMatrix(this._getLabelPosition(t.sliceBounds))},A.prototype.setSelected=function(e){if(null!=this._bar){if(this.IsSelected==e)return;this.IsSelected=e,this._bar.setSelected(e)}else A.superclass.setSelected.call(this,e);var t=this.getDimensions(),i=null!=this._bar?this._bar:this,r=t.w;e?(i.setScaleX((r-3)/r),i.setTranslateX(Math.ceil(1.5)+3/r*t.x)):(i.setScaleX(1),i.setTranslateX(0))},A.prototype.showHoverEffect=function(){null!=this._bar?this._bar.showHoverEffect():A.superclass.showHoverEffect.call(this)},A.prototype.hideHoverEffect=function(){null!=this._bar?this._bar.hideHoverEffect():A.superclass.hideHoverEffect.call(this)},A.prototype.copyShape=function(){return new A(this._chart,this._seriesIndex,this._numDrawnSeries,this._funnelWidth,this._funnelHeight,this._startPercent,this._valuePercent,this._fillPercent,this._gap)};var x=function(e,t,i,r,a,s,n,o){this.Init(e,t,i,r,a,s,n,o)};e.Obj.createSubclass(x,e.Path),x.prototype.Init=function(t,i,r,a,s,n,o,l){x.superclass.Init.call(this,t.getCtx()),this._chart=t;var h=t.getOptions().styleDefaults;this._seriesIndex=i,this._numDrawnSeries=r,this._pyramidWidth=a,this._pyramidHeight=s,this._startPercent=n,this._valuePercent=o,this._3dRatio="on"==h.threeDEffect?1:0,this._gap=l;var u=this._getPath();this._dataColor=V.getColor(this._chart,this._seriesIndex,0),this._3dRatio>0?(this.setCmds(u.threeDPathTop),this._threeDPathSide=new e.Path(this.getCtx(),u.threeDPathSide),this._mainFace=new e.Path(this.getCtx(),u.slice),this.addChild(this._threeDPathSide),this.addChild(this._mainFace)):this.setCmds(u.slice),this._setColorProperties(u.sliceBounds),this._label=this._getSliceLabel(u.sliceBounds),null!=this._label&&(this._label.setMouseEnabled(!1),this.addChild(this._label))},x._BORDER_COLOR="#FFFFFF",x._MIN_CHARS_DATA_LABEL=3,x._SLICE_LABEL_HORIZONTAL_PADDING=4,x._3D_WIDTH_FACTOR=.2,x.prototype._getPath=function(){var t,i,r,a,s,n,o=e.Agent.isRightToLeft(this.getCtx()),l=H.getSeriesCount(this._chart),h=(l-this._numDrawnSeries-1)*this._gap,u=this._3dRatio*x._3D_WIDTH_FACTOR*.98*this._pyramidWidth,g=this._chart.getOptions(),d=Math.sqrt(Math.pow(this._pyramidHeight-(l-1)*this._gap,2)*(1-this._startPercent)),c=this._startPercent+this._valuePercent>=1?0:Math.sqrt(Math.pow(this._pyramidHeight-(l-1)*this._gap,2)*(1-this._startPercent-this._valuePercent)),p=.98*(1-this._3dRatio*x._3D_WIDTH_FACTOR)*this._pyramidWidth*(c/this._pyramidHeight),_=0==this._numDrawnSeries?d:d-this._gap,f=.98*(1-this._3dRatio*x._3D_WIDTH_FACTOR)*this._pyramidWidth*(_/this._pyramidHeight);if(o?(i=[this._pyramidWidth-.5*this._pyramidWidth+u/2-p/2,h+c],a=[this._pyramidWidth-.5*this._pyramidWidth+u/2-f/2,h+d],r=[this._pyramidWidth-.5*this._pyramidWidth+u/2+f/2,h+d],t=[this._pyramidWidth-.5*this._pyramidWidth+u/2+p/2,h+c]):(t=[.5*this._pyramidWidth-u/2-p/2,h+c],r=[.5*this._pyramidWidth-u/2-f/2,h+d],a=[.5*this._pyramidWidth-u/2+f/2,h+d],i=[.5*this._pyramidWidth-u/2+p/2,h+c]),"on"==g.styleDefaults.threeDEffect){var S=this._3dRatio*x._3D_WIDTH_FACTOR*f*Math.sqrt(2)/2,C=this._3dRatio*x._3D_WIDTH_FACTOR*p*Math.sqrt(2)/2;s=e.PathUtils.moveTo(i[0],i[1]),s+=e.PathUtils.lineTo(i[0]+(o?-1:1)*Math.max(C,1),i[1]-Math.max(C,.5)),s+=e.PathUtils.lineTo(t[0]+(o?-1:1)*Math.max(C,1),t[1]-Math.max(C,.5)),s+=e.PathUtils.lineTo(t[0],t[1]),s+=e.PathUtils.closePath(),n=e.PathUtils.moveTo(i[0],i[1]),n+=e.PathUtils.lineTo(i[0]+(o?-1:1)*Math.max(C,1),i[1]-Math.max(C,.5)),n+=e.PathUtils.lineTo(a[0]+(o?-1:1)*S,a[1]-S),n+=e.PathUtils.lineTo(a[0],a[1]),n+=e.PathUtils.closePath()}var m=e.PathUtils.moveTo(i[0],i[1]);m+=e.PathUtils.lineTo(a[0],a[1]),m+=e.PathUtils.lineTo(r[0],r[1]),m+=e.PathUtils.lineTo(t[0],t[1]),m+=e.PathUtils.closePath();var y=p/f,v=.5*Math.abs(t[1]-r[1])*(1+y),A=.5*Math.abs(a[0]-r[0])*(1+y)-x._SLICE_LABEL_HORIZONTAL_PADDING,b=r[1]-v,I=r[0]+(f-A)/2*(o?-1:1);return{slice:m,sliceBounds:new e.Rectangle(I,b,A,v),threeDPathTop:s,threeDPathSide:n}},x.prototype._getSliceLabel=function(t){var i=H.getDataLabel(this._chart,this._seriesIndex,0);if(i||(i=H.getSeriesLabel(this._chart,this._seriesIndex)),i&&"none"!=V.getDataLabelPosition(this._chart,this._seriesIndex,0)){var r=new e.MultilineText(this.getCtx(),i,0,0),a=null!=V.getPattern(this._chart,this._seriesIndex,0),s=[this._chart.getOptions().styleDefaults.dataLabelStyle,new e.CSSStyle(H.getDataItem(this._chart,this._seriesIndex,0).labelStyle)],n=e.CSSStyle.mergeStyles(s);if(r.setCSSStyle(n),e.TextUtils.fitText(r,t.w,t.h,this,x._MIN_CHARS_DATA_LABEL)){var o=r.getDimensions(),l=this._getLabelPosition(t);if(a){var h=.15*o.h,u=e.PathUtils.roundedRectangle(o.x-h,o.y,o.w+2*h,o.h,2,2,2,2),g=new e.Path(this.getCtx(),u);g.setSolidFill("#FFFFFF",.9),l.translate(-.5*o.w,-.5*o.h),g.setMatrix(l),this.addChild(g)}var d=a?"#000000":t.containsPoint(t.x+(t.w-o.w)/2,t.y)?e.ColorUtils.getContrastingTextColor(this._dataColor):e.ColorUtils.getContrastingTextColor(null);return n.getStyle("color")&&!e.Agent.isHighContrast()||r.setCSSStyle(n.setStyle("color",d)),r.setMatrix(this._getLabelPosition(t)),r.alignCenter(),r.alignMiddle(),r}}},x.prototype._getLabelPosition=function(t){var i=new e.Matrix;return e.Agent.isRightToLeft(this.getCtx())?i.translate(t.x-t.w/2,t.y+t.h/2):i.translate(t.x+t.w/2,t.y+t.h/2),i},x.prototype._setColorProperties=function(t){var i=Y.getFunnelPyramidSliceFill(this._chart,this._seriesIndex,this._dataColor,t),r=V.getBorderColor(this._chart,this._seriesIndex,0);null==r&&this._3dRatio>0&&(r=x._BORDER_COLOR);var a=V.getBorderWidth(this._chart,this._seriesIndex,0),s=e.SelectionEffectUtils.getHoverBorderColor(this._dataColor);if(this._3dRatio>0){var n=!i.getPattern&&!i.getAlphas;this._mainFace.setFill(i),this._mainFace.setStyle(V.getStyle(this._chart,this._seriesIndex,0)),this._mainFace.setClassName(V.getClassName(this._chart,this._seriesIndex,0)),this._threeDPathSide.setFill(n?new e.SolidFill(e.ColorUtils.getDarker(i.getColor(),.3)):i),this._threeDPathSide.setStyle(V.getStyle(this._chart,this._seriesIndex,0)),this._threeDPathSide.setClassName(V.getClassName(this._chart,this._seriesIndex,0)),this.setFill(n?new e.SolidFill(e.ColorUtils.getDarker(i.getColor(),.3)):i),this.setStyle(V.getStyle(this._chart,this._seriesIndex,0)),this.setClassName(V.getClassName(this._chart,this._seriesIndex,0))}else this.setFill(i),this.setStyle(V.getStyle(this._chart,this._seriesIndex,0)),this.setClassName(V.getClassName(this._chart,this._seriesIndex,0));if(r&&(this.setSolidStroke(r,null,a),this._3dRatio>0&&(this._threeDPathSide.setSolidStroke(r,null,a),this._mainFace.setSolidStroke(r,null,a))),this.OriginalStroke=this.getStroke(),this.setHoverStroke(new e.SolidStroke(s,1,2)),this._3dRatio>0&&(this._threeDPathSide.setHoverStroke(new e.SolidStroke(s,1,2)),this._mainFace.setHoverStroke(new e.SolidStroke(s,1,2))),this._chart.isSelectionSupported()){var o=V.getSelectedInnerColor(this._chart),l=V.getSelectedOuterColor(this._chart)?V.getSelectedOuterColor(this._chart):this._dataColor;this._3dRatio>0?(this._mainFace.setSelectedStroke(new e.SolidStroke(o,1,1.5),new e.SolidStroke(l,1,4.5)),this._mainFace.setSelectedHoverStroke(new e.SolidStroke(o,1,1.5),new e.SolidStroke(s,1,4.5)),this._mainFace.setCursor(e.SelectionEffectUtils.getSelectingCursor()),this._threeDPathSide.setCursor(e.SelectionEffectUtils.getSelectingCursor()),this.setCursor(e.SelectionEffectUtils.getSelectingCursor())):(this.setSelectedStroke(new e.SolidStroke(o,1,1.5),new e.SolidStroke(l,1,4.5)),this.setSelectedHoverStroke(new e.SolidStroke(o,1,1.5),new e.SolidStroke(s,1,4.5)),this.setCursor(e.SelectionEffectUtils.getSelectingCursor()))}},x.prototype.getAnimationParams=function(){return[this._startPercent,this._valuePercent,this.getAlpha(),this._3dRatio]},x.prototype.setAnimationParams=function(e){this._startPercent=e[0],this._valuePercent=e[1],this.setAlpha(e[2]),this._3dRatio=e[3];var t=this._getPath();this._threeDPathSide&&this._mainFace?(this.setCmds(t.threeDPathTop),this._threeDPathSide.setCmds(t.threeDPathSide),this._mainFace.setCmds(t.slice)):this.setCmds(t.slice),this._label&&this._label.setMatrix(this._getLabelPosition(t.sliceBounds))},x.prototype.setSelected=function(e){if(this._3dRatio>0)if(this._mainFace.setSelected(e),e){var t=this.getDimensions(),i=t.w,r=t.h,a=(i-3)/i,s=(r-5)/r;this._mainFace.setScaleX(a),this._mainFace.setScaleY(s),this._mainFace.setTranslateX(Math.ceil(1.5)+3/i*t.x),this._mainFace.setTranslateY(Math.ceil(2.5)+5/r*t.y)}else this._mainFace.setScaleX(1),this._mainFace.setScaleY(1),this._mainFace.setTranslateX(0),this._mainFace.setTranslateY(0);else x.superclass.setSelected.call(this,e)},x.prototype.showHoverEffect=function(){x.superclass.showHoverEffect.call(this),this._3dRatio>0&&(this._threeDPathSide.showHoverEffect(),this._mainFace.showHoverEffect())},x.prototype.hideHoverEffect=function(){x.superclass.hideHoverEffect.call(this),
this._3dRatio>0&&(this._threeDPathSide.hideHoverEffect(),this._mainFace.hideHoverEffect())},x.prototype.copyShape=function(){return new x(this._chart,this._seriesIndex,this._numDrawnSeries,this._pyramidWidth,this._pyramidHeight,this._startPercent,this._valuePercent,this._gap)},x.prototype.getPrimaryFill=function(){return this._mainFace?this._mainFace.getFill():this.getFill()};var b=function(e,t,i,r){this.Init(e,t,i,r)};b._THREED_TILT=.59,b._THREED_DEPTH=.1,b._RADIUS=.45,b._RADIUS_LABELS=.38,b._MIN_ARC_LENGTH=1.5,e.Obj.createSubclass(b,e.Container),b.prototype.Init=function(t,i,r,a){b.superclass.Init.call(this,t.getCtx()),this.chart=t,this._options=t.getOptions(),this._frame=i.clone(),t.pieChart=this;for(var s=this.getLabelPosition(),n=H.getSeriesCount(t),o=0;o<n;o++){var l=H.getDataItem(t,o,0);!l||"center"!=s&&"none"!=s||"outsideSlice"!=l.labelPosition||(s="outsideSlice")}this._center=new e.Point(i.x+Math.floor(i.w/2),i.y+Math.floor(i.h/2));var h="center"==s||"none"==s?b._RADIUS:b._RADIUS_LABELS;this._radiusX=Math.floor(Math.min(i.w,i.h)*h),this._radiusY=this._radiusX,this._depth=0,this._anchorOffset=90,this.is3D()&&(this._depth=i.h*b._THREED_DEPTH,this._center.y-=Math.floor(this._depth/2),this._radiusY*=b._THREED_TILT),this._slices=this._createSlices(),this._centerLabel=null,this._shapesContainer=new e.Container(this.getCtx()),this._numFrontObjs=0,this._numSelectedObjsInFront=0},b.prototype.getOptions=function(){return this._options},b.prototype.highlight=function(t){e.CategoryRolloverHandler.highlight(t,this._slices,"any"==this.getOptions().highlightMatch)},b.prototype._createSlices=function(){for(var t,i,r=[],a=Z.getRenderedSeriesIndices(this.chart),s=Z.getOtherValue(this.chart),n=0;n<a.length;n++)i=a[n],V.isDataItemRendered(this.chart,i)&&((t=new I(this,i)).getValue()<=0||r.push(t));var o=V.getHiddenCategories(this.chart),l=e.ArrayUtils.getIndex(o,Z.OTHER_SLICE_SERIES_ID)>=0;if(s>0&&!l){var h=new I(this);"ascending"==this.chart.getOptions().sorting?r.unshift(h):r.push(h)}return e.Agent.isRightToLeft(this.getCtx())&&r.reverse(),r},b.prototype.setInitialSelection=function(){var e=this.chart.getSelectionHandler();if(e){for(var t=H.getInitialSelection(this.chart),i=[],r=0;r<t.length;r++)for(var a=0;a<this._slices.length;a++){var s=this._slices[a].getId();s&&(t[r].id&&s.getId()==t[r].id||s.getSeries()==t[r].series&&s.getGroup()==t[r].group)&&i.push(s)}if(Z.isOtherSliceSelected(this.chart,t)){var n=Z.getOtherSliceId(this.chart);i.push(n)}e.processInitialSelections(i,this._slices)}},b.prototype.render=function(){var t;if(U.addPlotAreaDnDBackground(this.chart,this,this._frame,!0),!this.contains(this._shapesContainer)&&(this._shapesContainer||(this._shapesContainer=new e.Container(this.getCtx())),this.addChild(this._shapesContainer),!this.is3D()&&this.getSkin()==e.CSSStyle.SKIN_SKYROS)){var i=e.ColorUtils.makeRGBA(78,87,101,.45);t=new e.Shadow(i,4,7,7,54,2,3,!1,!1,!1)}b._layoutSlices(this._slices,this._anchorOffset);for(var r=2*Math.PI*this.getRadiusX(),a=0,s={},n=this.chart.getOptionsCache().getFromCache("hasLargeSeriesCount"),o=0;o<this._slices.length;o++){if(n){var l=this._slices[o].getAngleExtent(),h=l/360*r,u=(this._slices[o].getAngleStart()+l)/360*r;if(h<b._MIN_ARC_LENGTH&&Math.abs(a-u)<b._MIN_ARC_LENGTH){s[this._slices[o].getSeriesIndex()]=!0;continue}a=u}this._slices[o].preRender()}var g=b._orderSlicesForRendering(this._slices);for(this._duringDisplayAnim||(Q.createPieCenter(this),Q.layoutLabelsAndFeelers(this)),o=0;o<g.length;o++)s[g[o].getSeriesIndex()]||g[o].render(this._duringDisplayAnim);e.Agent.isPlatformWebkit()||t&&this._shapesContainer.addDrawEffect(t),this.setInitialSelection(),this.highlight(V.getHighlightedCategories(this.chart))},b.prototype.getTotalValue=function(){for(var e=0,t=0;t<this._slices.length;t++){var i=this._slices[t].getValue();i>=0&&(e+=i)}return e},b._layoutSlices=function(e,t){var i,r,a=0,s=e?e.length:0;t>360&&(t-=360),t<0&&(t+=360);var n=0;s>0&&(n=e[0].getPieChart().getTotalValue());for(var o=0;o<s;o++){var l=(i=e[o]).getValue();(r=t-(a=3.6*(l==n?100:0==n?0:Math.min(l/n*100,99.99))))<0&&(r+=360),i.setAngleStart(r),i.setAngleExtent(a),t=i.getAngleStart()}},b._orderSlicesForRendering=function(e){for(var t,i,r,a,s=[],n=e?e.length:0,o=-1,l=0;l<n;l++)if((r=(i=(t=e[l]).getAngleStart())+t.getAngleExtent())>360&&(r-=360),r<0&&(r+=360),90==r||i<90&&r>90){o=l,a=r-90;break}var h=[];for(l=o;l<n;l++)h.push(e[l]);for(l=0;l<o;l++)h.push(e[l]);var u=0,g=0,d=180+a;for(l=0;l<n;l++)if(t=h[l]){if(u+t.getAngleExtent()>d){g=l;break}s.push(t),u+=t.getAngleExtent()}for(l=n-1;l>=g;l--)(t=h[l])&&s.push(t);return s},b.prototype.is3D=function(){return"on"==this._options.styleDefaults.threeDEffect},b.prototype.__calcMaxExplodeDistance=function(){var e=.5/b._RADIUS-1;return this._radiusX*e},b.prototype.getAnimationDuration=function(){return V.getAnimationDuration(this.chart)},b.prototype.getDisplayAnimation=function(){this._duringDisplayAnim=!0;var t=new e.DataAnimationHandler(this.getCtx(),this),i=this.getAnimationDuration(),r=I.createFillerSlice(this,this.getTotalValue());this._slices.push(r);var a=new e.CustomAnimation(this.getCtx(),r,i);a.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,r,r.GetAnimationParams,r.SetAnimationParams,r.getDeletedAnimationParams()),a.setOnEnd(r._removeDeletedSlice,r),t.add(a,0);for(var s=0;s<this._slices.length-1;s++)this._slices[s].animateInsert(t);var n=new e.CustomAnimation(this.getCtx(),this,i);n.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,this._getAnimationParams()),t.add(n,0);var o=[];for(s=0;s<this._slices.length;s++)o=o.concat(this._slices[s].getLabelAndFeeler());var l=new e.AnimFadeIn(this._context,o,i);t.add(l,0),this._setAnimationParams();var h=t.getAnimation(!0);return h.setOnEnd(this._onEnd,this),h},b.prototype._onEnd=function(){this._duringDisplayAnim=!1,this._setAnimationParams()},b.prototype.getCenter=function(){return this._center},b.prototype.getInnerRadius=function(){return this.is3D()?0:this._options.styleDefaults.pieInnerRadius*Math.min(this._radiusX,this._radiusY)*.95},b.prototype.__getFrame=function(){return this._frame},b.prototype.getRadiusX=function(){return this._radiusX},b.prototype.getRadiusY=function(){return this._radiusY},b.prototype.getDepth=function(){return this._depth},b.prototype.getSliceDisplayable=function(e){var t=Z.getSliceBySeriesIndex(this.chart,e);return t?t.getTopDisplayable():null},b.prototype.__getShapesContainer=function(){return this._shapesContainer},b.prototype.__getSlices=function(){return this._slices},b.prototype.animateUpdate=function(t,i){var r=new e.DataAnimationHandler(this.getCtx(),this);r.constructAnimation(i.__getSlices(),this.__getSlices());var a=r.getAnimation(!0),s=new e.CustomAnimation(this.getCtx(),this,this.getAnimationDuration());s.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,this._getAnimationParams());var n=new e.ParallelPlayable(this.getCtx(),a,s);n.setOnEnd(this._setAnimationParams,this),t.add(n,0),this._setAnimationParams([i.getDepth(),i.getRadiusY(),i.getCenter().y])},b.prototype.animateInsert=function(e){},b.prototype.animateDelete=function(e,t){},b.prototype._getAnimationParams=function(){return[this._depth,this._radiusY,this._center.y]},b.prototype._setAnimationParams=function(e){this.removeChildren(),this._shapesContainer&&this._shapesContainer.destroy(),this._shapesContainer=null,e&&(this._depth=e[0],this._radiusY=e[1],this._center.y=e[2]),this.render()},b.prototype.bringToFrontOfSelection=function(e){var t=e.getPieChart()._shapesContainer;if(t){var i=t.getNumChildren();if(i-this._numFrontObjs>1){t.removeChild(e._topSurface[0]);var r=i-this._numFrontObjs-1;t.addChildAt(e._topSurface[0],r)}}},b.prototype.pushToBackOfSelection=function(e){for(var t=this._slices.length,i=0,r=0;r<t;r++)this._slices[r].isSelected()&&i++;this._numSelectedObjsInFront=i;var a=e.getPieChart()._shapesContainer;if(a){var s=a.getNumChildren()-this._numFrontObjs-1-this._numSelectedObjsInFront;s>=0&&(a.removeChild(e._topSurface[0]),a.addChildAt(e._topSurface[0],s))}},b.prototype.setNumFrontObjs=function(e){this._numFrontObjs=e},b.prototype.getShapesForViewSwitcher=function(e){var t={};if(this._slices)for(var i=0;i<this._slices.length;i++){var r=this._slices[i];if(r){var a=r.getId();if(a){var s=a.getId();if(s&&r._topSurface&&r._topSurface.length>0){var n=r._topSurface[0];t[s]=n}}}}return t},b.prototype.getLabelPosition=function(){return b.parseLabelPosition(this._options.styleDefaults.dataLabelPosition)},b.prototype.getSeriesLabelPosition=function(e){var t=this.getLabelPosition(),i=H.getDataItem(this.chart,e,0);return i&&i.labelPosition&&(t=i.labelPosition),b.parseLabelPosition(t)},b.parseLabelPosition=function(e){return"center"==e||"inside"==e?"center":"outsideSlice"==e||"outside"==e?"outsideSlice":"none"==e?"none":"auto"},b.prototype.getSkin=function(){return this._options.skin},b.prototype.setCenterLabel=function(e){this._centerLabel=e},b.prototype.getCenterLabel=function(){return this._centerLabel};var I=function(e,t){this.Init(e,t)};e.Obj.createSubclass(I,e.Obj),I.prototype.Init=function(t,i){this._pieChart=t,this._chart=t.chart,this._angleStart=0,this._angleExtent=0,this._topSurface=null,this._leftSurface=null,this._rightSurface=null,this._crustSurface=null,this._explodeOffsetX=0,this._explodeOffsetY=0,this._sliceLabel=null,this._sliceLabelString=null,this._hasFeeler=!1,this._feelerRad=null,this._feelerHoriz=null,this._outsideFeelerStart=null,this._outsideFeelerMid=null,this._outsideFeelerEnd=null,this._selected=!1,this._selecting=!1,this._centerX=this._pieChart.getCenter().x,this._centerY=this._pieChart.getCenter().y,this._radiusX=this._pieChart.getRadiusX(),this._radiusY=this._pieChart.getRadiusY(),this._depth=this._pieChart.getDepth();var r=this._chart.getOptions();if(null!=i){var a=H.getDataItem(this._chart,i,0);this._value=H.getValue(this._chart,i,0),this._explode=Z.getSliceExplode(this._chart,i),this._fillColor=V.getColor(this._chart,i,0),this._fillPattern=V.getPattern(this._chart,i,0),this._strokeColor=V.getBorderColor(this._chart,i),this._borderWidth=V.getBorderWidth(this._chart,i),this._customLabel=a.label,this._seriesLabel=H.getSeries(this._chart,i),this._action=a.action,this._drillable=U.isDataItemDrillable(this._chart,i,0),this._showPopupBehaviors=this._chart.getShowPopupBehaviors(a._id),this._id=Z.getSliceId(this._chart,i),this._seriesIndex=i,this._categories=H.getCategories(this._chart,i,0)}else this._value=Z.getOtherValue(this._chart),this._explode=0,this._fillColor=r.styleDefaults.otherColor,this._fillPattern=null,this._strokeColor=r.styleDefaults.borderColor,this._borderWidth=r.styleDefaults.borderWidth,this._customLabel=null,this._seriesLabel=e.Bundle.getTranslatedString(e.Bundle.CHART_PREFIX,"LABEL_OTHER",null),this._action=null,this._drillable=!1,this._showPopupBehaviors=Z.getOtherSliceShowPopupBehaviors(this._chart),this._id=Z.getOtherSliceId(this._chart)},I.prototype.getPieChart=function(){return this._pieChart},I.prototype.render=function(t){for(var i=I._sortPieSurfaces(this._topSurface,this._leftSurface,this._rightSurface,this._crustSurface,this._angleStart,this._angleExtent),r=i.length,a=0;a<r;a++)for(var s=i[a],n=s.length,o=0;o<n;o++)this._pieChart.__getShapesContainer().addChild(s[o]),s[o].render&&s[o].render();if(this._sliceLabel&&(this._pieChart.addChild(this._sliceLabel),K.associate(this,[this._sliceLabel]),t?(this._pieChart.addChild(this._feelerRad),this._pieChart.addChild(this._feelerHoriz)):this._renderOutsideFeeler()),this._explodeSlice(),this._action||this._drillable||this._pieChart.chart.isSelectionSupported()){var l=this.getDisplayables();for(a=0;a<l.length;a++)l[a].setCursor(e.SelectionEffectUtils.getSelectingCursor())}var h=this.getTopDisplayable();h&&(h.setAriaRole("img"),this._updateAriaLabel())},I.prototype._feelerFromPts=function(t,i){var r=new e.Line(this._pieChart.getCtx(),t.x,t.y,i.x,i.y),a=this._pieChart.getOptions().styleDefaults.pieFeelerColor,s=new e.SolidStroke(a);return r.setStroke(s),this._pieChart.addChild(r),r},I.prototype._renderOutsideFeeler=function(){if(this._hasFeeler){var e=this._feelerFromPts(this._outsideFeelerStart,this._outsideFeelerMid),t=this._feelerFromPts(this._outsideFeelerMid,this._outsideFeelerEnd);this._feelerRad=e,this._feelerHoriz=t}},I.prototype.preRender=function(){var t,i=this._bFillerSlice?"color":V.getSeriesEffect(this._chart),r=this.getFillColor(),a=this.getFillPattern();if("pattern"==i||null!=a)t=new e.PatternFill(a,r),i="pattern";else if("gradient"==i){var s=this._pieChart.getSkin(),n=s==e.CSSStyle.SKIN_SKYROS?297:270,o=this._pieChart.is3D()?"3D":"2D",l=K.getGradientColors(e.ColorUtils.getRGB(r),o,s),h=K.getGradientAlphas(e.ColorUtils.getAlpha(r),o),u=K.getGradientRatios(o,s),g=[Math.floor(this._centerX-this._radiusX),Math.floor(this._centerY-this._radiusY),Math.ceil(2*this._radiusX),Math.ceil(2*this._radiusY)];t=new e.LinearGradientFill(n,l,h,u,g)}else t=new e.SolidFill(r);if(this._topSurface=K.createTopSurface(this,t),this._depth>0||this._radiusX!=this._radiusY){var d="gradient"==i,c=new e.SolidFill(e.ColorUtils.getDarker(r,.4)),p=d?K.generateLateralGradientFill(this,K.SIDE):c,_=d?K.generateLateralGradientFill(this,K.CRUST):c;this._leftSurface=K.createLateralSurface(this,K.SURFACE_LEFT,p),this._rightSurface=K.createLateralSurface(this,K.SURFACE_RIGHT,p),this._crustSurface=K.createLateralSurface(this,K.SURFACE_CRUST,_)}this.setSliceLabel(null),this.setNoOutsideFeeler()},I._sortPieSurfaces=function(e,t,i,r,a,s){var n=[];return t&&i&&r&&(a<=270&&a+s>270?(n.push(t),n.push(i),n.push(r)):a>270||a+s<=90?(n.push(t),n.push(r),n.push(i)):(n.push(i),n.push(r),n.push(t))),n.push(e),n},I.oppositeDirection=function(e,t,i){return e-t>0!=e-i>0},I.prototype._explodeSlice=function(){if(0!=this._explode){var t=this._angleExtent,i=(360-(this._angleStart+t/2))*e.Math.RADS_PER_DEGREE,r=this._pieChart.is3D()?b._THREED_TILT:1,a=this._explode*this._pieChart.__calcMaxExplodeDistance();this._explodeOffsetX=Math.cos(i)*a,this._explodeOffsetY=Math.sin(i)*r*a,e.Agent.isPlatformWebkit()&&(this._explodeOffsetX=Math.round(this._explodeOffsetX),this._explodeOffsetY=Math.round(this._explodeOffsetY))}else this._explodeOffsetX=0,this._explodeOffsetY=0;if(this._topSurface){var s=this._pieChart.is3D()&&this._topSurface[0].getSelectionOffset?this._topSurface[0].getSelectionOffset():[];I._translateShapes(this._topSurface,s[0]?s[0]+this._explodeOffsetX:this._explodeOffsetX,s[1]?s[1]+this._explodeOffsetY:this._explodeOffsetY)}if(this._rightSurface&&I._translateShapes(this._rightSurface,this._explodeOffsetX,this._explodeOffsetY),this._leftSurface&&I._translateShapes(this._leftSurface,this._explodeOffsetX,this._explodeOffsetY),this._crustSurface&&I._translateShapes(this._crustSurface,this._explodeOffsetX,this._explodeOffsetY),this._hasFeeler){var n=this._outsideFeelerStart.x,o=this._outsideFeelerStart.y,l=n+this._explodeOffsetX,h=o+this._explodeOffsetY;this._feelerRad.setX1(l),this._feelerRad.setY1(h);var u=this._outsideFeelerMid.x,g=this._outsideFeelerMid.y;I.oppositeDirection(u,n,l)?(this._feelerRad.setX2(l),this._feelerHoriz.setX1(l)):(this._feelerRad.setX2(u),this._feelerHoriz.setX1(u)),I.oppositeDirection(g,o,h)?(this._feelerRad.setY2(h),this._feelerHoriz.setY1(h)):(this._feelerRad.setY2(g),this._feelerHoriz.setY1(g))}this._sliceLabel&&!this._hasFeeler&&this._sliceLabel.setTranslate(this._explodeOffsetX,this._explodeOffsetY)},I._translateShapes=function(e,t,i){if(e)for(var r=e.length,a=0;a<r;a++)e[a].setTranslate(t,i)},I.prototype.getRadiusX=function(){return this._radiusX},I.prototype.getRadiusY=function(){return this._radiusY},I.prototype.getCenter=function(){return new e.Point(this._centerX,this._centerY)},I.prototype.getDepth=function(){return this._depth},I.prototype.getAngleExtent=function(){return this._angleExtent},I.prototype.setAngleExtent=function(e){this._angleExtent=e},I.prototype.getAngleStart=function(){return this._angleStart},I.prototype.setAngleStart=function(e){this._angleStart=e},I.prototype.__getExplodeOffsetX=function(){return this._explodeOffsetX},I.prototype.__getExplodeOffsetY=function(){return this._explodeOffsetY},I.prototype.setOutsideFeelerPoints=function(e,t,i){this._outsideFeelerStart=e,this._outsideFeelerMid=t,this._outsideFeelerEnd=i,this._hasFeeler=!0},I.prototype.setNoOutsideFeeler=function(){this._outsideFeelerStart=null,this._outsideFeelerMid=null,this._outsideFeelerEnd=null,this._hasFeeler=!1},I.prototype.getLabelAndFeeler=function(){var e=[];return this._sliceLabel&&e.push(this._sliceLabel),this._feelerRad&&e.push(this._feelerRad),this._feelerHoriz&&e.push(this._feelerHoriz),e},I.prototype.getSliceLabel=function(){return this._sliceLabel},I.prototype.setSliceLabel=function(e){this._sliceLabel=e},I.prototype.getSliceLabelString=function(){return this._sliceLabelString},I.prototype.setSliceLabelString=function(e){this._sliceLabelString=e},I.prototype.getTopSurface=function(){return this._topSurface},I.prototype.getValue=function(){return this._value},I.prototype.getId=function(){return this._id},I.prototype.getSeriesIndex=function(){return this._seriesIndex},I.containsRect=function(e,t){return t.contains(e.x,e.y)&&t.contains(e.x+e.w,e.y)&&t.contains(e.x+e.w,e.y+e.h)&&t.contains(e.x,e.y+e.h)},I._shapeIsSelectable=function(e){return e instanceof h},I.prototype.contains=function(e,t){for(var i=this._pieChart.getInnerRadius(),r=this._pieChart.getCenter(),a=(e-r.x)/this._radiusX,s=(t-r.y)/this._radiusY,n=-Math.atan2(s,a)*(180/Math.PI);n<this._angleStart;)n+=360;for(;n-this._angleStart>=360;)n-=360;var o=Math.pow(a,2)+Math.pow(s,2),l=Math.sqrt(o)>i/this._radiusX&&o<=1,h=n<=this._angleStart+this._angleExtent;return l&&h},I.prototype.GetAnimationParams=function(){var t=e.ColorUtils.getRed(this._fillColor),i=e.ColorUtils.getGreen(this._fillColor),r=e.ColorUtils.getBlue(this._fillColor),a=e.ColorUtils.getAlpha(this._fillColor);return[this._value,this._radiusX,this._radiusY,this._explode,this._centerX,this._centerY,this._depth,t,i,r,a]},I.prototype.SetAnimationParams=function(t){this._value=t[0],this._radiusX=t[1],this._radiusY=t[2],this._explode=t[3],this._centerX=t[4],this._centerY=t[5],this._depth=t[6];var i=Math.round(t[7]),r=Math.round(t[8]),a=Math.round(t[9]),s=Math.round(t[10]);this._fillColor=e.ColorUtils.makeRGBA(i,r,a,s)},I.prototype.getDeletedAnimationParams=function(){var e=this.GetAnimationParams();return e[0]=0,e[1]=this.getInnerRadius(),e[2]=this.getInnerRadius(),e[3]=0,e},I.prototype.animateUpdate=function(t,i){var r=i.GetAnimationParams(),a=this.GetAnimationParams();if(!e.ArrayUtils.equals(r,a)){var s=new e.CustomAnimation(this._pieChart.getCtx(),this,this.getPieChart().getAnimationDuration());s.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this.GetAnimationParams,this.SetAnimationParams,a),t.add(s,0),this.SetAnimationParams(r)}},I.prototype.animateInsert=function(t){var i=new e.CustomAnimation(this._pieChart.getCtx(),this,this.getPieChart().getAnimationDuration());i.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this.GetAnimationParams,this.SetAnimationParams,this.GetAnimationParams()),t.add(i,0),this.SetAnimationParams(this.getDeletedAnimationParams())},I.prototype.animateDelete=function(t,i){var r=i.__getSlices(),a=this.getPieChart().__getSlices(),s=e.ArrayUtils.getIndex(a,this)-1;if(s>=0){for(var n=a[s].getId(),o=0;o<r.length;o++)if(r[o].getId().equals(n)){r.splice(o+1,0,this);break}}else r.splice(0,0,this);this._pieChart=i;var l=new e.CustomAnimation(i.getCtx(),this,this.getPieChart().getAnimationDuration());l.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this.GetAnimationParams,this.SetAnimationParams,this.getDeletedAnimationParams()),l.setOnEnd(this._removeDeletedSlice,this),t.add(l,0)},I.prototype._removeDeletedSlice=function(){var t=this.getPieChart().__getSlices(),i=e.ArrayUtils.getIndex(t,this);i>=0&&t.splice(i,1)},I.prototype.getDisplayables=function(){var e=new Array;return this._topSurface&&(e=e.concat(this._topSurface)),this._leftSurface&&(e=e.concat(this._leftSurface)),this._rightSurface&&(e=e.concat(this._rightSurface)),this._crustSurface&&(e=e.concat(this._crustSurface)),this._sliceLabel&&e.push(this._sliceLabel),this._feelerRad&&e.push(this._feelerRad),this._feelerHoriz&&e.push(this._feelerHoriz),e},I.prototype.getAriaLabel=function(){var t;t=null==this._seriesIndex?W.getOtherSliceDatatip(this._chart,this._value,!1):W.getDatatip(this._chart,this._seriesIndex,0,null,!1);var i=e.Bundle.getTranslatedString(e.Bundle.CHART_PREFIX,"LABEL_PERCENTAGE",null),r=Q.generateSlicePercentageString(this);t+="; "+e.Bundle.getTranslatedString(e.Bundle.UTIL_PREFIX,"COLON_SEP_LIST",[i,r]);var a=[];return this.isSelectable()&&a.push(e.Bundle.getTranslatedString(e.Bundle.UTIL_PREFIX,this.isSelected()?"STATE_SELECTED":"STATE_UNSELECTED")),U.isDataItemDrillable(this._chart,this._seriesIndex,this._groupIndex)&&a.push(e.Bundle.getTranslation(this._pieChart.getOptions(),"stateDrillable",e.Bundle.UTIL_PREFIX,"STATE_DRILLABLE")),e.Displayable.generateAriaLabel(t,a)},I.prototype._updateAriaLabel=function(){var t=this.getTopDisplayable();t&&!e.Agent.deferAriaCreation()&&t.setAriaProperty("label",this.getAriaLabel())},I.prototype.getTopDisplayable=function(){return this._topSurface&&this._topSurface.length>0?this._topSurface[0]:null},I.prototype.isSelectable=function(){return this._chart.isSelectionSupported()},I.prototype.isSelected=function(){return this._selected},I.prototype.setSelected=function(t,i){if(this._selected=t,this._selected?this._pieChart.bringToFrontOfSelection(this):this._selecting||this._pieChart.pushToBackOfSelection(this),V.isSelectionHighlighted(this._chart))for(var r=this.getDisplayables(),a=0;a<r.length;a++)I._shapeIsSelectable(r[a])&&r[a].setSelected(t);if(V.isSelectionExploded(this._chart)){var s=t?1:0;if(i||"none"==V.getAnimationOnDataChange(this._chart))this.setExplode(s);else{var n=new e.CustomAnimation(this._pieChart.getCtx(),this,this._pieChart.getAnimationDuration()/2);n.getAnimator().addProp(e.Animator.TYPE_NUMBER,this,this.getExplode,this.setExplode,s),n.play()}}this._updateAriaLabel()},I.prototype.showHoverEffect=function(){this._selecting=!0,this._pieChart.bringToFrontOfSelection(this);for(var e=this.getDisplayables(),t=0;t<e.length;t++)I._shapeIsSelectable(e[t])&&e[t].showHoverEffect()},I.prototype.hideHoverEffect=function(){this._selecting=!1,this._selected||this._pieChart.pushToBackOfSelection(this);for(var e=this.getDisplayables(),t=0;t<e.length;t++)I._shapeIsSelectable(e[t])&&e[t].hideHoverEffect()},I.prototype.getDatatip=function(e,t,i){return e==this._sliceLabel&&this._sliceLabel&&this._sliceLabel.isTruncated()?this.getSliceLabelString():this.getTooltip()},I.prototype.getDatatipColor=function(){return this.getFillColor()},I.prototype.getCategories=function(){return this._categories&&this._categories.length>0?this._categories:[this.getId().getSeries()]},I.prototype.getNextNavigable=function(t){var i=t.keyCode;if(t.type==e.MouseEvent.CLICK)return this;if(i==e.KeyboardEvent.SPACE&&t.ctrlKey)return this;var r=e.Agent.isRightToLeft(this._chart.getCtx()),a=this._pieChart.__getSlices(),s=e.ArrayUtils.getIndex(a,this),n=null;return i==e.KeyboardEvent.RIGHT_ARROW||i==e.KeyboardEvent.DOWN_ARROW&&!r||i==e.KeyboardEvent.UP_ARROW&&r?n=s<a.length-1?a[s+1]:a[0]:(i==e.KeyboardEvent.LEFT_ARROW||i==e.KeyboardEvent.DOWN_ARROW&&r||i==e.KeyboardEvent.UP_ARROW&&!r)&&(n=0==s?a[a.length-1]:a[s-1]),n},I.prototype.getKeyboardBoundingBox=function(t){var i=this.getDisplayables();return i[0]?i[0].getDimensions(t):new e.Rectangle(0,0,0,0)},I.prototype.getTargetElem=function(){var e=this.getDisplayables();return e[0]?e[0].getElem():null},I.prototype.showKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!0,this.showHoverEffect()},I.prototype.hideKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!1,this.hideHoverEffect()},I.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},I.prototype.isDragAvailable=function(e){return!0},I.prototype.getDragTransferable=function(e,t){return[this.getId()]},I.prototype.getDragFeedback=function(e,t){if(this._chart.isSelectionSupported()&&this._chart.getSelectionHandler().getSelectedCount()>1){for(var i=this._chart.getSelectionHandler().getSelection(),r=[],a=0;a<i.length;a++)r=r.concat(i[a].getDisplayables());return r}return this.getDisplayables()},I.prototype.getExplode=function(){return this._explode},I.prototype.setExplode=function(e){this._explode=e,this._explodeSlice()},I.prototype.getCustomLabel=function(){return this._customLabel},I.prototype.getSeriesLabel=function(){return this._seriesLabel},I.prototype.getFillColor=function(){return this._fillColor},I.prototype.getFillPattern=function(){return this._fillPattern},I.prototype.getStrokeColor=function(){return this._strokeColor},I.prototype.getBorderWidth=function(){return this._borderWidth},I.prototype.getSliceGaps=function(){return 0==this._depth?3*V.getDataItemGaps(this._chart):0},I.prototype.getInnerRadius=function(){return this._pieChart.getInnerRadius()},I.prototype.getTooltip=function(){return null==this._seriesIndex?W.getOtherSliceDatatip(this._chart,this._value,!0):W.getDatatip(this._chart,this._seriesIndex,0,null,!0)},I.prototype.getAction=function(){return this._action},I.prototype.isDrillable=function(){return this._drillable},I.prototype.getShowPopupBehaviors=function(){return this._showPopupBehaviors},I.createFillerSlice=function(e,t){var i=new I(e);return i._value=t,i._bFillerSlice=!0,i._centerX=e.getCenter().x,i._centerY=e.getCenter().y,i._fillColor="rgba(255,255,255,0)",i._strokeColor="rgba(255,255,255,0)",i._id=new n(null,null,null,null),i},I.prototype.getSeriesIndex=function(){return this._seriesIndex};var T=function(){};e.Obj.createSubclass(T,e.Obj),T.createAnimation=function(t,i,r){var a=[];if(z.isBLAC(t))T._animBarLineArea(t,r,a);else if(z.isScatterBubble(t)||z.isFunnel(t)||z.isPyramid(t))T._animBubbleScatterFunnelPyramid(t,r,a);else if(z.isPie(t)&&t.pieChart)return t.pieChart.getDisplayAnimation();return a.length>0?new e.ParallelPlayable(t.getCtx(),a):null},T._animBarLineArea=function(t,i,r){var a=t.getChartObjPeers(),s=a?a.length:0;if(s)for(var n,o,l,h=0;h<s;h++){n=(o=a[h]).getDisplayables()[0];var u=o.getSeriesType();if(l=null,n instanceof d||n instanceof m||n instanceof p||n instanceof c)l=n.getDisplayAnimation(i);else if(n instanceof f)l="line"==u?T._getLinePlayable(t,n,i):T._getAreaPlayable(t,n,i);else if(n instanceof e.SimpleMarker||n instanceof y){if(n instanceof S&&!n.isSelected())continue;l=new e.AnimFadeIn(t.getCtx(),n,i-.8,.8)}l&&r.push(l)}},T._animBubbleScatterFunnelPyramid=function(t,i,r){var a=t.getObjects(),s=a?a.length:0;if(s)for(var n,o,l=0;l<s;l++)(n=a[l].getDisplayables()[0])instanceof e.SimpleMarker?o=new e.AnimPopIn(t.getCtx(),n,!0,i):(n instanceof A||n instanceof x)&&(o=T._getFunnelPyramidPlayable(t,n,i)),o&&r.push(o)},T._getAreaPlayable=function(t,i,r){var a,s=t.getCtx(),n=i.getBaseline();if(i.isArea()){for(var o=i.getBaseCoords(),l=i.getBaseAnimationParams(),h=l.slice(0),u=0;u<l.length;u++)u%4!=1&&u%4!=2||(l[u]=n);i.setBaseAnimationParams(l),(a=new e.CustomAnimation(s,i,r)).getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,i,i.getBaseAnimationParams,i.setBaseAnimationParams,h)}var g=i.getCoords(),d=i.getAnimationParams(),c=d.slice(0);for(u=0;u<d.length;u++)u%4!=1&&u%4!=2||(d[u]=n);i.setAnimationParams(d);var p=new e.CustomAnimation(s,i,r);p.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,c);var _=new e.ParallelPlayable(t.getCtx(),a,p);return _.setOnEnd(function(){i.setCoords(g,o)}),_},T._getFunnelPyramidPlayable=function(t,i,r){var a=t.getCtx(),s=i.getAnimationParams(),n=s.slice(0),o=s.slice(0);s[0]=0,z.isFunnel(t)&&(s[2]=0,n[2]=0),i.setAnimationParams(s);var l=new e.CustomAnimation(a,i,r/2);l.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,n);var h=new e.CustomAnimation(a,i,r/2);return h.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,o),new e.SequentialPlayable(a,[l,h])},T._getLinePlayable=function(t,i,r){var a=i.getCoords(),s=i.getAnimationParams(),n=s.slice(0);T._getMeanPoints(s),i.setAnimationParams(s);var o=new e.CustomAnimation(t.getCtx(),i,r);return o.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,n),o.setOnEnd(function(){i.setCoords(a)}),o},T._getMeanPoints=function(e){var t,i=0,r=Number.MAX_VALUE,a=Number.MIN_VALUE,s=e.length;for(t=0;t<s;t++){var n=e[t];t%4!=0&&t%4!=3&&n!=1/0&&(n<r&&(r=n),n>a&&(a=n),i+=n)}for(s>8?(i-=2*r,i-=2*a,i/=s/2-4):i/=s/2,t=0;t<s;t++)t%4!=1&&t%4!=2||(e[t]=i)};var E=function(){};e.Obj.createSubclass(E,e.Obj),E.createAnimation=function(t,i,r,a,s){if(!E._canAnimate(t,i))return null;var n,o=i.getCtx(),l=[],h=[];z.isPie(i)?(l.push(t.pieChart),h.push(i.pieChart)):E._buildAnimLists(o,l,t,h,i,a);var u=new e.DataAnimationHandler(o,s);u.constructAnimation(l,h),u.getNumPlayables()>0&&(n=u.getAnimation(!0));var g=i.getDataLabels();if(n&&g.length>0){for(var d=0;d<g.length;d++)g[d].setAlpha(0);n=new e.SequentialPlayable(o,n,new e.AnimFadeIn(o,g,a/4))}return n},E._buildAnimLists=function(t,i,r,a,s,n){var o,l,h,u,g,_=r.getChartObjPeers(),C=i,v=s.getCache().getFromCache("dataFiltered");for(o=0;o<2;o++){var b={};for(l=0;l<_.length;l++){if(g=null,(u=(h=_[l]).getDisplayables()[0])instanceof A)g=new F(h,n);else if(u instanceof x)g=new k(h,n);else if(u instanceof d||u instanceof m){if(g=new P(h,n),v){var I=h.getSeries();b[I]=b[I]?b[I]+1:1,g.setId(I+"/"+b[I]+"/bar")}}else if(u instanceof f)g=new R(h,n);else if(u instanceof e.SimpleMarker){if(u instanceof S&&!u.isSelected())continue;g=new w(h,n)}else if(u instanceof y){if(u.isInvisible()&&!u.isSelected())continue;g=new L(h,n)}else u instanceof p?g=new O(h,n):u instanceof c&&(g=new M(h,n));g&&(C.push(g),g.setOldChart(r))}C=a,_=s.getChartObjPeers()}},E._canAnimate=function(e,t){return z.isPie(e)&&z.isPie(t)?e&&t:!!(z.isPolar(e)==z.isPolar(t)&&(z.isBLAC(e)&&z.isBLAC(t)||z.isScatterBubble(e)&&z.isScatterBubble(t)||e.getType()==t.getType()))};var D=function(t){this.Options=t.Options,this.Peers=t.Peers,this.SeriesStyleArray=t.SeriesStyleArray,this.Cache=t.Cache,this.pieChart=t.pieChart,this._optionsCache=new e.BaseComponentCache,this._cache=new e.BaseComponentCache};e.Obj.createSubclass(D,e.Chart),D.prototype.getCache=function(){return this._cache},D.prototype.getOptionsCache=function(){return this._optionsCache};var O=function(e,t){this.Init(e,t)};e.Obj.createSubclass(O,e.Obj),O.prototype.animateUpdate=function(e,t){var i=t._shape;this._shape&&this._shape.getUpdateAnimation&&e.add(this._shape.getUpdateAnimation(this._updateDuration,i),1)},O.prototype.animateInsert=function(t){if(this._shape&&this._shape.getInsertAnimation)t.add(this._shape.getInsertAnimation(this._insertDuration),2);else{var i=new e.AnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);t.add(i,0)}},O.prototype.animateDelete=function(t,i){if(i.addChild(this._shape),this._shape&&this._shape.getDeleteAnimation)t.add(this._shape.getDeleteAnimation(this._deleteDuration),0);else{var r=new e.AnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);t.add(r,0)}},O.prototype.getId=function(){return this._animId},O.prototype.setId=function(e){this._animId=e},O.prototype.Init=function(e,t){this._peer=e,this._updateDuration=.75*t,this._insertDuration=.5*t,this._deleteDuration=.5*t,this._shape=e.getDisplayables()[0],this._animId=e.getSeries()+"/"+e.getGroup()},O.prototype.setOldChart=function(e){this._oldChart=e};var P=function(e,t){this.Init(e,t)};e.Obj.createSubclass(P,O),P.prototype.Init=function(e,t){P.superclass.Init.call(this,e,t),this._indicator=null,this._animId+="/bar"},P.prototype.animateInsert=function(e){var t=this._shape.getInsertAnimation(this._insertDuration);e.add(t,2)},P.prototype.animateDelete=function(e,t){
t.addChild(this._shape);var i=this._shape.getDeleteAnimation(this._deleteDuration);e.add(i,0)},P.prototype.animateUpdate=function(t,i){var r=this._oldChart,a=this._peer.getChart(),s=z.isHorizontal(r)!=z.isHorizontal(a),n=i._getAnimationParams(s),o=this._getAnimationParams(),l=i._shape.getPrimaryFill().clone(),h=this._shape.getPrimaryFill(),u=i._shape.isSelected()||this._shape.isSelected()||l.equals(h);if(!e.ArrayUtils.equals(n,o)||!l.equals(h)){var g=this._peer.getSeriesIndex(),d=i._peer.getSeriesIndex(),c=this._peer.getGroupIndex(),p=i._peer.getGroupIndex();"none"!==V.getAnimationIndicators(a)&&(this._indicator=B.makeIndicator(r,d,p,a,g,c)),this._setAnimationParams(n),u||this._shape.setFill(l);var _=new e.CustomAnimation(this._shape.getCtx(),this,this._updateDuration);_.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,o),u||_.getAnimator().addProp(e.Animator.TYPE_FILL,this._shape,this._shape.getFill,this._shape.setFill,h),this._indicator&&(_.setOnEnd(this._onEndAnimation,this),this._indicator.setAlpha(0)),t.add(_,1)}},P.prototype._getAnimationParams=function(e){return this._shape.getAnimationParams(e)},P.prototype._setAnimationParams=function(e){this._shape.setAnimationParams(e,this._indicator)},P.prototype._onEndAnimation=function(){this._indicator&&(this._indicator.getParent().removeChild(this._indicator),this._indicator=null)};var M=function(e,t){this.Init(e,t)};e.Obj.createSubclass(M,O),M.prototype.Init=function(e,t){M.superclass.Init.call(this,e,t),this._animId+="/boxAndWhisker"};var R=function(e,t){this.Init(e,t)};e.Obj.createSubclass(R,O),R.prototype.animateUpdate=function(t,i){this._baseCoords=this._shape.getBaseCoords(),this._coords=this._shape.getCoords();var r,a,s=this._shape.isArea(),n=this._oldChart,o=this._chart,l=this._peer.getSeriesIndex(),h=i._peer.getSeriesIndex(),u=this._shape.getCommonGroupIndices(i._shape),g=i._shape.getCommonGroupIndices(this._shape);if(s){var d=i._getBaseAnimationParams(this._shape),c=this._getBaseAnimationParams(i._shape);R._matchGroupIndices(d,c),e.ArrayUtils.equals(d,c)||(this._setBaseAnimationParams(d),(r=new e.CustomAnimation(this._context,this,this._updateDuration)).getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this._getBaseAnimationParams,this._setBaseAnimationParams,c))}var p=i._getAnimationParams(this._shape),_=this._getAnimationParams(i._shape);if(R._matchGroupIndices(p,_),e.ArrayUtils.equals(p,_)||(this._setAnimationParams(p),(a=new e.CustomAnimation(this._context,this,this._updateDuration)).getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,_)),"none"!==V.getAnimationIndicators(o)&&(!s||"lineWithArea"!=this._peer.getSeriesType()))for(var f,S,C=0;C<u.length;C++)f=B.getDirection(n,h,g[C],o,l,u[C]),(S=B.makeIndicator(n,h,g[C],o,l,u[C]))&&this._shape.addIndicator(u[C],f,S);if(r||a){var m=new e.ParallelPlayable(this._context,r,a);m.setOnEnd(this._onAnimationEnd,this),t.add(m,1)}},R.prototype.animateInsert=function(t){this._shape.setAlpha(0);var i=new e.AnimFadeIn(this._context,this._shape,this._insertDuration);t.add(i,2)},R.prototype.animateDelete=function(t,i){var r;if("area"==V.getSeriesType(this._oldChart,this._peer.getSeriesIndex())){var a=this._chart.__getAreaContainer();if(this._deletedAreas=this._shape.getParent().getParent(),!a)return;a.addChild(this._deletedAreas),(r=new e.AnimFadeOut(this._context,this._deletedAreas,this._deleteDuration)).setOnEnd(this._removeDeletedAreas,this),t.add(r,0)}else i.addChild(this._shape),r=new e.AnimFadeOut(this._context,this._shape,this._deleteDuration),t.add(r,0)},R.prototype._removeDeletedAreas=function(){var e=this._chart.__getAreaContainer();e&&e.removeChild(this._deletedAreas)},R.prototype._getAnimationParams=function(e){return this._shape.getAnimationParams(e)},R.prototype._setAnimationParams=function(e){this._shape.setAnimationParams(e)},R.prototype._getBaseAnimationParams=function(e){return this._shape.getBaseAnimationParams(e)},R.prototype._setBaseAnimationParams=function(e){this._shape.setBaseAnimationParams(e)},R.prototype._onAnimationEnd=function(){this._shape.removeIndicators(),this._shape.setCoords(this._coords,this._baseCoords)},R._matchGroupIndices=function(e,t){for(var i=3;i<e.length;i+=4)e[i]=t[i]},R.prototype.Init=function(e,t){R.superclass.Init.call(this,e,t),this._context=this._shape.getCtx(),this._chart=this._peer.getChart(),this._animId+="/"+(this._shape.isArea()?"area":"line")};var w=function(e,t){this.Init(e,t)};e.Obj.createSubclass(w,O),w.prototype.animateUpdate=function(t,i){var r=i._shape.getCenterDimensions(),a=this._shape.getCenterDimensions();if(!a.equals(r)){this._shape.setCenterDimensions(r);var s=new e.CustomAnimation(this._shape.getCtx(),this,this._updateDuration);s.getAnimator().addProp(e.Animator.TYPE_RECTANGLE,this._shape,this._shape.getCenterDimensions,this._shape.setCenterDimensions,a);var n=this._peer.getChart();if(this.isValueChange(i)&&"none"!=V.getAnimationIndicators(n)&&z.isScatterBubble(n)){var o=i._shape;o.setSolidFill("#FFFF2B",.9),o.setCenterDimensions(r),this._peer.getChart().getPlotArea().addChild(o),s.getAnimator().addProp(e.Animator.TYPE_RECTANGLE,o,o.getCenterDimensions,o.setCenterDimensions,a),s.getAnimator().addProp(e.Animator.TYPE_NUMBER,o,o.getAlpha,o.setAlpha,0),this._overlay=o,s.setOnEnd(this._onEndAnimation,this)}t.add(s,1)}},w.prototype.animateInsert=function(t){this._shape.setAlpha(0);var i=new e.AnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);t.add(i,2)},w.prototype.animateDelete=function(t,i){i.addChild(this._shape);var r=new e.AnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);t.add(r,0)},w.prototype.isValueChange=function(e){var t=!1;if(e){var i=e._peer.getSeriesIndex(),r=e._peer.getGroupIndex(),a=this._peer.getSeriesIndex(),s=this._peer.getGroupIndex(),n=e._oldChart.getOptions(),o=this._peer.getChart().getOptions(),l=n.series[i].items[r].x,h=n.series[i].items[r].y,u=n.series[i].items[r].z,g=o.series[a].items[s].x,d=o.series[a].items[s].y,c=o.series[a].items[s].z;t=g!==l||d!==h||c!==u}return t},w.prototype._onEndAnimation=function(){this._overlay&&(this._peer.getChart().getPlotArea().removeChild(this._overlay),this._overlay=null)},w.prototype.Init=function(e,t){w.superclass.Init.call(this,e,t),this._animId+="/marker"};var L=function(e,t){this.Init(e,t)};e.Obj.createSubclass(L,O),L.prototype.Init=function(e,t){L.superclass.Init.call(this,e,t),this._animId+="/rangeMarker"},L.prototype.animateInsert=function(t){this._shape.setAlpha(0);var i=new e.AnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);t.add(i,2)},L.prototype.animateDelete=function(t,i){i.addChild(this._shape);var r=new e.AnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);t.add(r,0)},L.prototype.animateUpdate=function(t,i){var r=i._shape.getAnimationParams(),a=this._shape.getAnimationParams();this._shape.setAnimationParams(r);var s=new e.CustomAnimation(this._shape.getCtx(),this,this._updateDuration);s.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this._shape,this._shape.getAnimationParams,this._shape.setAnimationParams,a),t.add(s,1)};var B=new Object;e.Obj.createSubclass(B,e.Obj),B.DIR_UP=0,B.DIR_DOWN=1,B.DIR_NOCHANGE=2,B.makeIndicator=function(e,t,i,r,a,s){if(z.isPolar(r))return null;var n=B.getDirection(e,t,i,r,a,s);if(n==B.DIR_NOCHANGE)return null;var o=n===B.DIR_DOWN,l=o?V.getAnimationDownColor(r):V.getAnimationUpColor(r),h=B._drawIndicator(r.getCtx(),o,z.isHorizontal(r),l);return r.getPlotArea().addChild(h),h},B.getDirection=function(e,t,i,r,a,s){var n=H.getValue(e,t,i),o=H.getValue(r,a,s);return null==o||null==n||o==n?B.DIR_NOCHANGE:o>n?B.DIR_UP:B.DIR_DOWN},B._drawIndicator=function(t,i,r,a){var s;s=r?(e.Agent.isRightToLeft(t)?!i:i)?"M3.5,-5L3.5,5L-3.5,0L3.5,-5":"M-3.5,-5L-3.5,5L3.5,0L-3.5,-5":i?"M-5,-3.5L5,-3.5L0,3.5L-5,-3.5Z":"M-5,3.5L5,3.5L0,-3.5L-5,3.5Z";var n=new e.Path(t,s);return n.setSolidFill(a),n};var F=function(e,t){this.Init(e,t)};e.Obj.createSubclass(F,O),F.prototype.animateUpdate=function(t,i){var r=this._shape,a=i._shape.getAnimationParams(),s=r.getAnimationParams(),n=i._shape.getFill().clone(),o=this._shape.getFill();if(!e.ArrayUtils.equals(a,s)||!n.equals(o)){r.setAnimationParams(a);var l=new e.CustomAnimation(r.getCtx(),this,this._updateDuration);l.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimationParams,r.setAnimationParams,s),n.equals(o)||(this._shape.setFill(n),l.getAnimator().addProp(e.Animator.TYPE_FILL,r,r.getFill,r.setFill,o)),this._indicator&&l.setOnEnd(this._onEndAnimation,this),t.add(l,1)}},F.prototype.animateInsert=function(t){var i=this._shape,r=i.getAnimationParams(),a=r.slice(0);a[0]+=a[1]/2,a[1]=0,a[3]=0,i.setAnimationParams(a);var s=new e.CustomAnimation(i.getCtx(),this,this._insertDuration);s.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,r),t.add(s,2)},F.prototype.animateDelete=function(t,i){var r=this._shape;i.setClipPath(null),i.addChild(r);var a=r.getAnimationParams(),s=a.slice(0);s[0]+=a[1]/2,s[1]=0,s[3]=0;var n=new e.CustomAnimation(r.getCtx(),this,this._deleteDuration);n.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimationParams,r.setAnimationParams,s),t.add(n,0)},F.prototype.Init=function(e,t){F.superclass.Init.call(this,e,t),this._animId+="/funnel"};var k=function(e,t){this.Init(e,t)};e.Obj.createSubclass(k,O),k.prototype.animateUpdate=function(t,i){var r=this._shape,a=i._shape.getAnimationParams(),s=r.getAnimationParams(),n=i._shape.getPrimaryFill(),o=this._shape.getPrimaryFill();if(!e.ArrayUtils.equals(a,s)||!n.equals(o)){r.setAnimationParams(a);var l=new e.CustomAnimation(r.getCtx(),this,this._updateDuration);l.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimationParams,r.setAnimationParams,s),n.equals(o)||(this._shape.setFill(n),l.getAnimator().addProp(e.Animator.TYPE_FILL,r,r.getFill,r.setFill,o)),t.add(l,1)}},k.prototype.animateInsert=function(t){var i=this._shape,r=i.getAnimationParams(),a=r.slice(0);a[1]=0,a[2]=0,i.setAnimationParams(a);var s=new e.CustomAnimation(i.getCtx(),this,this._insertDuration);s.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,r),t.add(s,2)},k.prototype.animateDelete=function(t,i){var r=this._shape;i.setClipPath(null),i.addChild(r);var a=r.getAnimationParams().slice(0);a[1]=0,a[2]=0;var s=new e.CustomAnimation(r.getCtx(),this,this._deleteDuration);s.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimationParams,r.setAnimationParams,a),t.add(s,0)},k.prototype.Init=function(e,t){k.superclass.Init.call(this,e,t),this._animId+="/pyramid"};var N=new Object;e.Obj.createSubclass(N,e.Obj),N.getXAxisPosition=function(t){return z.isPolar(t)?"tangential":z.isHorizontal(t)?e.Agent.isRightToLeft(t.getCtx())?"right":"left":"bottom"},N.getBaselineScaling=function(e,t){var i=t+"Axis",r=e.getOptions()[i].baselineScaling;return!r||"zero"!=r&&"min"!=r?z.isStock(e)?"min":"zero":r},N.getYAxisPosition=function(t){var i=t.getOptions().yAxis.position;return z.isPolar(t)?"radial":z.isHorizontal(t)?!i||"top"!=i&&"bottom"!=i?"bottom":i:(z.isStock(t)&&(i=i||"end"),e.Agent.isRightToLeft(t.getCtx())?i&&"end"==i?"left":"right":i&&"end"==i?"right":"left")},N.getY2AxisPosition=function(t){var i=t.getOptions().y2Axis.position;return z.isHorizontal(t)?!i||"top"!=i&&"bottom"!=i?"top":i:e.Agent.isRightToLeft(t.getCtx())?i&&"start"==i?"right":"left":i&&"start"==i?"left":"right"},N.hasTimeAxis=function(e){return z.isBLAC(e)&&"disabled"!=N.getTimeAxisType(e)},N.hasGroupAxis=function(e){return z.isBLAC(e)&&"disabled"==N.getTimeAxisType(e)},N.getTimeAxisType=function(e){var t=e.getOptions().timeAxisType;return t&&"auto"!=t&&z.isBLAC(e)&&!z.isPolar(e)?t:z.isStock(e)?"skipGaps":"disabled"},N.isMixedFrequency=function(e){return"mixedFrequency"==N.getTimeAxisType(e)},N.getAxisOffset=function(e){var t=e.getCache().getFromCache("axisOffset");if(null!=t)return t;var i=e.getOptions().styleDefaults.groupSeparators;if(N.hasGroupAxis(e)&&H.getNumLevels(e)>1&&"on"==i.rendered)t=.5;else if(z.hasBarSeries(e)||z.hasCenteredSeries(e)||z.hasCandlestickSeries(e)||z.hasBoxPlotSeries(e)||z.isBLAC(e)&&1==H.getGroupCount(e))t=.5;else if(!o.isPostAltaSkin(e)||z.isSpark(e)||U.isScrollable(e)||z.isOverview(e))t=0;else{var r=z.isHorizontal(e)?.2:.5;t=r-r/Math.sqrt(H.getGroupCount(e))}return e.getCache().putToCache("axisOffset",t),t},N.isGridShifted=function(e){if(!z.isBLAC(e))return!1;if(H.getNumLevels(e)>1)return!0;for(var t=H.getSeriesCount(e),i=0;i<t;i++)if(V.isSeriesRendered(e,i)){var r=V.getSeriesType(e,i),a=V.getLineType(e,i);if("bar"!=r&&"centeredSegmented"!=a&&"centeredStepped"!=a)return!1}return!0},N.isGridPolygonal=function(e){return!(!z.isBLAC(e)||z.hasBarSeries(e))&&"polygon"==e.getOptions().polarGridShape},N.isAxisRendered=function(e,t){if("y"==t&&z.hasY2DataOnly(e))return!1;if("y2"==t&&!z.hasY2Data(e))return!1;var i=e.getOptions()[t+"Axis"];return"off"!=i.rendered&&!("off"==i.tickLabel.rendered&&!i.title)},N.isAxisLineRendered=function(e,t){var i=e.getOptions()[t+"Axis"];return"off"!=i.rendered&&"off"!=i.axisLine.rendered&&!("auto"==i.axisLine.rendered&&"x"!=t&&z.isBLAC(e)&&!z.isPolar(e))},N.isMajorTickRendered=function(e,t){var i=e.getOptions()[t+"Axis"];return"off"!=i.rendered&&"off"!=i.majorTick.rendered&&!("auto"==i.majorTick.rendered&&"x"==t&&z.isBLAC(e)&&!z.isPolar(e))},N.isMinorTickRendered=function(e,t){var i=e.getOptions()[t+"Axis"];return"off"!=i.rendered&&"off"!=i.minorTick.rendered&&("on"==i.minorTick.rendered||N.isLog(e,t))},N.isLog=function(e,t){return"log"==e.getOptions()[t+"Axis"].scale},N.getTickLabelHeight=function(t,i){var r=t.getOptions(),a=r[i+"Axis"].tickLabel.style;return a instanceof e.CSSStyle||(a=new e.CSSStyle(a)),a.mergeUnder(e.Axis.getDefaults(r.skin).tickLabel.style),e.TextUtils.getTextStringHeight(t.getCtx(),a)},N.getTickLabelGapSize=function(e,t){if(N.isTickLabelInside(e,t))return 0;var i=e.getOptions(),r=z.isHorizontal(e),a=N.getGapScalingFactor(e,t),s=Math.ceil(i.layout.tickLabelGapWidth*a),n=Math.ceil(i.layout.tickLabelGapHeight*a);return"x"==t?r?s:n:r?n:s},N.getGapScalingFactor=function(e,t){return N.isAxisRendered(e,t)?N.getTickLabelHeight(e,t)/14:0},N.isTickLabelInside=function(e,t){return!(z.isPolar(e)||z.isScatterBubble(e)||z.isBLAC(e)&&"x"==t)&&"inside"==e.getOptions()[t+"Axis"].tickLabel.position},N.getXAxisViewportMinMax=function(e,t){var i=t?"xAxisViewportMinMaxUG":"xAxisViewportMinMax",r=e.getCache().getFromCache(i);if(r)return r;var a=e.getOptions().xAxis,s=N.hasGroupAxis(e),n=N.getAxisOffset(e);if(t)var o=N.getXAxisGlobalMinMax(e);var l=null;null!=a.viewportMin?l=a.viewportMin:null!=a.viewportStartGroup?l=s?H.getGroupIndex(e,a.viewportStartGroup)-n:a.viewportStartGroup:t&&(l=o.min);var h=null;return null!=a.viewportMax?h=a.viewportMax:null!=a.viewportEndGroup?h=s?H.getGroupIndex(e,a.viewportEndGroup)+n:a.viewportEndGroup:t&&(h=o.max),r={min:l,max:h},e.getCache().putToCache(i,r),r},N.getXAxisGlobalMinMax=function(e){var t=e.getOptions().xAxis,i=N.hasGroupAxis(e),r=N.getAxisOffset(e);if(!i)var a=H.getMinMaxValue(e,"x");return{min:null!=t.min?t.min:i?0-r:a.min,max:null!=t.max?t.max:i?H.getGroupCount(e)-1+r:a.max}},N.applyInitialZooming=function(e,t){var i=e.getOptions(),r=i.xAxis,a=i.initialZooming;if(z.isBLAC(e)&&"off"!=i.zoomAndScroll&&"none"!=a){i._initialZoomed&&("last"==a?r.viewportMin=null:r.viewportMax=null);var s=N.getXAxisViewportMinMax(e,!1),n=s.min,o=s.max;if(!("last"==a&&null!=n||"first"==a&&null!=o)){var l=z.isHorizontal(e)?t.h:t.w,h=Math.floor(l/(2*N.getTickLabelHeight(e,"x")))+N.getAxisOffset(e),u=H.getGroupCount(e)-1;if(!(u<=h)){var g,d;if(N.hasGroupAxis(e))g=0,d=u;else{var c=H.getMinMaxValue(e,"x");g=c.min,d=c.max}var p=h/u*(d-g);"last"==i.initialZooming?(null==o&&(o=d),r.viewportMin=Math.max(o-p,g)):(null==n&&(n=g),r.viewportMax=Math.min(n+p,d)),i._initialZoomed=!0}}}},N.getGroupWidthRatios=function(t){if(!z.hasBarSeries(t)&&!z.hasCandlestickSeries(t)&&!z.hasBoxPlotSeries(t))return null;var i=t.getOptions(),r=V.getBarGapRatio(t);if(r>=1)return i._averageGroupZ=1/0,null;i._averageGroupZ=0;var a,s,n,o,l,h,u=H.getGroupCount(t),g=z.isSplitDualY(t),d=H.getStackCategories(t,"bar"),c=d.y.length,p=d.y2.length;if(t.getOptionsCache().getFromCache("hasConstantZValue")){var _=t.getOptionsCache().getFromCache("constantZValue")*(g?Math.max(c,p):c+p);h=(l=_*u)*r/(1-r),a=null}else{for(var f=[],S=0;S<u;S++){for(s=0,o=0;o<c;o++)s+=H.getBarCategoryZ(t,d.y[o],S,!1);for(n=0,o=0;o<p;o++)n+=H.getBarCategoryZ(t,d.y2[o],S,!0);f.push(g?Math.max(s,n):s+n)}l=e.ArrayUtils.reduce(f,function(e,t){return e+t}),h=l*r/(1-r),a=e.ArrayUtils.map(f,function(e){return e+h/u})}return i._averageGroupZ=(l+h)/u,a},N.isYAdjustmentNeeded=function(e){var t=e.getOptions().styleDefaults.dataLabelPosition,i=V.isStackLabelRendered(e);return!(!z.hasBarSeries(e)||"outsideBarEdge"!=t&&!i)},N.axisContainsPoint=function(e,t){if(!e)return!1;var i=e.getOptions().position,r="top"==i||"bottom"==i,a=r?4:10,s=r?10:4,n=e.__getBounds().clone();n.x-=s,n.y-=a,n.w+=2*s,n.h+=2*a;var o=e.stageToLocal(t);return n.containsPoint(o.x,o.y)};var H=new Object;e.Obj.createSubclass(H,e.Obj),H.hasData=function(e){var t=e.getOptions();if(!t||!t.series||t.series.length<1)return!1;for(var i=H.getSeriesCount(e),r=0;r<i;r++){var a=H.getSeriesItem(e,r);if(a&&a.items&&a.items.length>=1)return!0}return!1},H.hasInvalidData=function(e){return!H.hasData(e)||H.hasInvalidTimeData(e)},H.hasInvalidTimeData=function(e){if(z.isFunnel(e)||z.isPie(e)||z.isPyramid(e))return!1;var t,i,r=e.getOptions(),a=H.getGroupCount(e);if(!r||!r.series||r.series.length<1)return!0;if(a<1)return!0;var s=H.getSeriesCount(e);if(N.isMixedFrequency(e))for(t=0;t<s;t++)for(i=0;i<a;i++){var n=H.getDataItem(e,t,i);if(n&&(null==n.x||isNaN(n.x)))return!0}else if(N.hasTimeAxis(e))for(i=0;i<a;i++){var o=H.getGroup(e,i);if(null==o||isNaN(o))return!0}return!1},H.hasSeriesData=function(e,t){var i=H.getSeriesItem(e,t).items;if(i)for(var r=0;r<i.length;r++)if(null!=i[r])return!0;return!1},H.processDataObject=function(t){if(H.hasData(t)){var i=t.getOptions(),r=t.getOptionsCache(),a=H.getSeriesCount(t);z.isValidType(t)||(i.type="bar");var s=!1,n=!1,o=!0,l=null,h=!1,u=!1,g=z.isStock(t);g&&a>1&&(i.series=i.series.slice(0,1),a=1);var d=N.isMixedFrequency(t),c=a>100;r.putToCache("hasLargeSeriesCount",c);for(var p=0,_=t.getSeriesStyleArray(),f=0;f<a;f++){var S=H.getSeries(t,f);!c&&null!=S&&e.ArrayUtils.getIndex(_,S)<0&&_.push(S);var C=H.getSeriesItem(t,f);if(C.items&&C.items.length>p&&(p=C.items.length),"hidden"==C.visibility){var m=V.getHiddenCategories(t);e.ArrayUtils.getIndex(m,S)<0&&m.push(S)}if(C.visibility=null,"on"==C.assignedToY2&&(s=!0),C&&C.items)for(var y=C.items,v=0;v<y.length;v++)null!=y[v]&&("object"!=typeof(E=y[v])&&(E={y:E},y[v]=E),d||null==E.x||(E.x=Number(E.x)),null!=E.y&&(E.y=Number(E.y),E.y<0&&(u=!0)),null!=E.z?(E.z=Number(E.z),null==l?l=E.z:l!=E.z&&(o=!1)):l=1,null!=E.value&&(E.value=Number(E.value),E.value<0&&(u=!0)),null!=E.targetValue&&(E.targetValue=Number(E.targetValue)),null!=E.open&&(E.open=Number(E.open),h=!0),null!=E.close&&(E.close=Number(E.close),h=!0,E.close<0&&(u=!0)),null!=E.low&&(E.low=Number(E.low),h=!0),null!=E.high&&(E.high=Number(E.high),h=!0),null!=E.volume&&(E.volume=Number(E.volume),n=!0),(E.color||E.borderColor||E.borderWidth||E.style||E.svgStyle||E.className||E.svgClassName)&&r.putToCachedMap("itemStyleSet",f,!0))}if(r.putToCache("hasVolume",n),r.putToCache("hasConstantZValue",o),r.putToCache("constantZValue",o?l:null),r.putToCache("hasLowHighSeries",h),r.putToCache("hasNegativeValues",u),g&&H.hasVolumeSeries(t)&&!z.isOverview(t)){var A=e.JsonUtils.clone(H.getSeriesItem(t,0));A.assignedToY2="on",s=!0,A.type="bar",A.categories=H.getCategories(t,0),A.id="_volume",A._selectable="off",A.items=[];for(var x=0;x<C.items.length;x++){var b={};b.color=V.getStockVolumeColor(t,0,x),b.x=C.items[x].x,b.value=C.items[x].volume,b.drilling="off",A.items.push(b)}i.series.push(A),r.putToCachedMap("itemStyleSet",i.series.length-1,!0)}r.putToCache("hasY2Assignment",s);for(var I=G.getRefObjs(t),T=0;T<I.length;T++)if(y=I[T].items)for(v=0;v<y.length;v++){var E;(E=y[v])&&("object"!=typeof E?y[v]=Number(E):(!N.isMixedFrequency(t)&&E.x&&(E.x=Number(E.x)),E.max&&(E.max=Number(E.max)),E.min&&(E.min=Number(E.min)),E.value&&(E.value=Number(E.value))))}i.groups||(i.groups=new Array);var D=H.getGroupCount(t);for(T=0;T<p-D;T++){var O=e.Bundle.getTranslation(i,"labelDefaultGroupName",e.Bundle.CHART_PREFIX,"DEFAULT_GROUP_NAME",i.groups.length+1);i.groups.push(O)}r.putToCache("groupsArray",null),H._processTimeAxis(t);var P=i.sorting;if(P="on"==P?"descending":"ascending"!=P&&"descending"!=P?"off":P,z.isBLAC(t)&&N.hasGroupAxis(t)&&"off"!=P&&1==H.getNumLevels(t)){var M=H.getGroups(t),R={};for(v=0;v<M.length;v++){var w=0;for(T=0;T<=a;T++)if(V.isSeriesRendered(t,T)&&!H.isAssignedToY2(t,T)){var L=H.getValue(t,T,v);w+=null==L||isNaN(L)?0:L}R[M[v]]={index:v,total:w,group:i.groups[v]}}for("ascending"==P?M.sort(function(e,t){return R[e].total-R[t].total}):M.sort(function(e,t){return R[t].total-R[e].total}),T=0;T<a;T++){var B=[];for(v=0;v<M.length;v++)B.push(H.getDataItem(t,T,R[M[v]].index));i.series[T].items=B}var F=[];for(v=0;v<M.length;v++)F.push(R[M[v]].group);i.groups=F,r.putToCache("groupsArray",null),r.putToCache("value",null)}H._sanitizeAxis(i.xAxis),H._sanitizeAxis(i.yAxis),H._sanitizeAxis(i.y2Axis)}},H._sanitizeAxis=function(e){e.min==e.max&&(e.min=null,e.max=null)},H._sanitizeDateTime=function(e,t){var i=null,r=e.getLocaleHelpers().isoToDateConverter;if(r){try{i=r(t)}catch(e){i=null}i=null!=i&&i.getTime?i.getTime():null}return null==i&&(i=Date.parse(t)),isNaN(i)&&(i=Number(t)),i},H._processTimeAxis=function(e){var t,i,r=e.getCtx(),a=e.getOptions(),s=H.getSeriesCount(e),n=H.getGroupCount(e);if(N.isMixedFrequency(e))for(t=0;t<s;t++)for(i=0;i<n;i++){var o=H.getDataItem(e,t,i);null!=o&&"string"==typeof o.x&&null!=o.x&&(o.x=H._sanitizeDateTime(r,o.x))}else if(N.hasTimeAxis(e)){for(i=0;i<n;i++){var l=H.getGroup(e,i);null!=l&&(a.groups[i]=H._sanitizeDateTime(r,l))}e.getOptionsCache().putToCache("groupsArray",null)}if(N.hasTimeAxis(e)){var h=a.xAxis;null!=h.dataMin&&(h.dataMin=H._sanitizeDateTime(r,h.dataMin)),null!=h.dataMax&&(h.dataMax=H._sanitizeDateTime(r,h.dataMax)),null!=h.min&&(h.min=H._sanitizeDateTime(r,h.min)),null!=h.max&&(h.max=H._sanitizeDateTime(r,h.max)),null!=h.viewportMin&&(h.viewportMin=H._sanitizeDateTime(r,h.viewportMin)),null!=h.viewportMax&&(h.viewportMax=H._sanitizeDateTime(r,h.viewportMax)),null!=h.viewportStartGroup&&(h.viewportStartGroup=H._sanitizeDateTime(r,h.viewportStartGroup)),null!=h.viewportEndGroup&&(h.viewportEndGroup=H._sanitizeDateTime(r,h.viewportEndGroup));for(var u=G.getRefObjs(e),g=0;g<u.length;g++){var d=u[g].items;if(d)for(var c=0;c<d.length;c++)d[c]&&null!=d[c].x&&(d[c].x=H._sanitizeDateTime(r,d[c].x))}}},H.isEqualId=function(t,i,r){var a=r.oj?r.oj.Object.compareValues:null;return a?a(t,i):null!=t&&null!=i&&(t==i||!!(e.ArrayUtils.isArray(t)&&e.ArrayUtils.isArray(i)&&e.ArrayUtils.equals(t,i)))},H.getSeriesCount=function(e){var t=e.getOptions().series;return t?t.length:0},H.getY2SeriesCount=function(e,t,i){for(var r=0,a=H.getSeriesCount(e),s=0;s<a;s++)t&&V.getSeriesType(e,s)!=t||(i||V.isSeriesRendered(e,s))&&H.isAssignedToY2(e,s)&&r++;return r},H.getSeries=function(e,t){var i=H.getSeriesItem(e,t);return i?i.id?i.id:i.name||""==i.name?i.name:String(t):null},H.getSeriesLabel=function(e,t){var i=H.getSeriesItem(e,t);return i&&(i.name||""==i.name)?i.name:null},H.getSeriesIndex=function(e,t){for(var i=H.getSeriesCount(e),r=0;r<i;r++)if(H.getSeries(e,r)==t)return r;return-1},H.getSeriesStyleIndex=function(t,i){if(t.getOptionsCache().getFromCache("hasLargeSeriesCount"))return i;var r=H.getSeries(t,i);return r?e.ArrayUtils.getIndex(t.getSeriesStyleArray(),r):i},H.getSeriesItem=function(e,t){if(isNaN(t)||null==t||t<0)return null;var i=e.getOptions();return i.series&&i.series.length>t?i.series[t]:void 0},H.getDataItem=function(e,t,i){if(isNaN(i)||null==i||i<0)return null;var r=H.getSeriesItem(e,t);return r&&r.items&&r.items.length>i?r.items[i]:null},H.getDataItemId=function(e,t,i){var r=H.getDataItem(e,t,i);return r?null!=r.id?r.id:H.createDataItemId(H.getSeries(e,t),H.getGroup(e,i)):null},H.createDataItemId=function(e,t){return e+"; "+t},H.getNestedDataItem=function(e,t,i,r){if(isNaN(r)||null==r||r<0)return null;var a=H.getDataItem(e,t,i);return a&&a.items&&a.items.length>r?a.items[r]:null},H.getNestedDataItemCount=function(e,t,i){var r=H.getDataItem(e,t,i);return r&&r.items?r.items.length:0},H.getNestedDataItemId=function(e,t,i,r){var a=H.getNestedDataItem(e,t,i,r);return a?null!=a.id?a.id:H.getDataItemId(e,t,i)+"; "+String(r):null},H.getNestedDataItemIndex=function(e,t,i,r){for(var a=H.getNestedDataItemCount(e,t,i),s=0;s<a;s++){var n=H.getNestedDataItemId(e,t,i,s);if(H.isEqualId(n,r))return s}return-1},H.getGroupCount=function(e){return H._getGroupsArray(e).length},H.getGroup=function(e,t){if(null!=t&&t>=0&&t<H.getGroupCount(e)){var i=H._getGroupsArray(e)[t];if(i)return i.id?i.id:i.name||""==i.name?i.name:String(t)}return null},H.getGroupIndex=function(t,i){for(var r=H.getGroups(t),a=0;a<r.length;a++)if(i instanceof Array&&r[a]instanceof Array?e.ArrayUtils.equals(i,r[a]):i==r[a])return a;return-1},H.getGroupLabel=function(e,t){if(t>=0&&t<H.getGroupCount(e)){var i=H._getGroupsArray(e)[t];if(i)return i.name?i.name:null!=i.id?"":i}return null},H.getGroups=function(e){var t=e.getOptionsCache().getFromCache("groups");if(!t){var i=H.getGroupCount(e);t=[];for(var r=0;r<i;r++)t.push(H.getGroup(e,r));e.getOptionsCache().putToCache("groups",t)}return t},H._getGroupsArray=function(e){var t=e.getOptions(),i=e.getOptionsCache().getFromCache("groupsArray");if(!i){i=[],t.groups&&(i=H._getNestedGroups(t.groups,i));for(var r=0;r<i.length;r++)1==i[r].id.length&&(i[r].id=i[r].id[0],i[r].name=i[r].name[0]);e.getOptionsCache().putToCache("groupsArray",i)}return i},H._getNestedGroups=function(e,t){if(!e||e&&0==e.length)return[];for(var i=0;i<e.length;i++){var r=e[i],a=null,s=null;if(null!=r&&(a=r.id?r.id:r.name?r.name:r,s=r.name?r.name:r),"object"==typeof a&&(a=null),"object"==typeof s&&(s=null),r&&r.groups){var n=H._getNestedGroups(r.groups,[]);0==n.length&&n.push({id:[],name:[]});for(var o=0;o<n.length;o++)n[o].id.unshift(a),n[o].name.unshift(s);t=t.concat(n)}else t.push({id:[a],name:[s]})}return t},H.getNumLevels=function(t){var i=t.getOptionsCache().getFromCache("groupsNumLevels");if(null!=i)return i;i=0;for(var r=H._getGroupsArray(t),a=0;a<r.length;a++){var s=r[a];if(s&&s.id){var n=e.ArrayUtils.isArray(s.id)?s.id.length:1;i=Math.max(i,n)}}return t.getOptionsCache().putToCache("groupsNumLevels",i),i},H.getValue=function(e,t,i,r){var a,s="number"==typeof r&&r>=0;if(!s&&void 0!==(a=e.getOptionsCache().getFromCachedMap2D("value",t,i)))return a;var n=s?H.getNestedDataItem(e,t,i,r):H.getDataItem(e,t,i);return a=null,null!=n&&("object"!=typeof n?a=n:z.isStock(e)&&null!=n.close?a=n.close:null!=n.value?a=n.value:null!=n.y&&(a=n.y)),a=a||(0===a?0:null),s||e.getOptionsCache().putToCachedMap2D("value",t,i,a),a},H.getCumulativeValue=function(e,t,i,r){if(!z.isStacked(e))return H.getValue(e,t,i);var a=r?"cumValueH":"cumValue",s=e.getCache().getFromCachedMap2D(a,t,i);if(void 0!==s)return s;var n=V.getSeriesType(e,t),o=H.isAssignedToY2(e,t),l=H.getValue(e,t,i),h=H.getStackCategory(e,t),u="bar"==n?l<0:H.isSeriesNegative(e,t);s=0;for(var g=t;g>=0;g--)if((r||V.isDataItemRendered(e,g,i))&&n==V.getSeriesType(e,g)&&o==H.isAssignedToY2(e,g)&&H.getStackCategory(e,g)==h){var d=H.getValue(e,g,i),c="bar"==n?d<0:H.isSeriesNegative(e,g);if(u&&c||!u&&!c){var p=e.getCache().getFromCachedMap2D(a,g,i);if(void 0!==p){s=l+(p||0);break}s+=null==d||isNaN(d)?0:d}}return e.getCache().putToCachedMap2D(a,t,i,s),s},H.getLowValue=function(e,t,i){var r=H.getDataItem(e,t,i);return null==r?null:"candlestick"==V.getSeriesType(e,t)?null==r.low&&null!=r.close?null!=r.open?Math.min(r.close,r.open):r.close:r.low:null!=r.low&&null==r.close?r.low:null},H.getHighValue=function(e,t,i){var r=H.getDataItem(e,t,i);return null==r?null:"candlestick"==V.getSeriesType(e,t)?null==r.high?null!=r.open?Math.max(r.close,r.open):r.close:r.high:null!=r.high&&null==r.close?r.high:null},H.getXValue=function(e,t,i){var r=H.getDataItem(e,t,i);return H.getXValueFromItem(e,r,i)},H.getXValueFromItem=function(e,t,i){return null!=t&&null!=t.x?t.x:N.hasGroupAxis(e)?i:N.hasTimeAxis(e)&&!N.isMixedFrequency(e)?H.getGroupLabel(e,i):null},H.getTargetValue=function(e,t){var i=H.getDataItem(e,t,0);return null==i||"object"!=typeof i?null:i.targetValue},H.getZValue=function(e,t,i,r){var a=H.getDataItem(e,t,i);return null==a||"object"!=typeof a?r:null!=a.z?Math.max(0,a.z):r},H.isStockValueRising=function(e,t,i){var r=H.getDataItem(e,t,i);return!r||r.open<=r.close},H.getCategories=function(e,t,i,r){var a=H.getNestedDataItem(e,t,i,r);if(a&&a.categories)return a.categories;var s=H.getDataItem(e,t,i);if(s&&s.categories)return s.categories;var n=H.getSeriesItem(e,t);if(n&&n.categories)return n.categories;var o=H.getSeries(e,t);return o?[o]:[]},H.getViewportMinMaxGroupIndex=function(e,t){var i=N.getXAxisViewportMinMax(e,!0),r=N.hasGroupAxis(e),a=H.getGroupCount(e),s=i.min,n=0;if(null!=s)if(r)n=Math.ceil(s);else for(var o=0;o<a;o++)if(H.getXValue(e,t,o)>=s){n=o;break}var l=i.max,h=a-1;if(null!=h)if(r)h=Math.floor(l);else for(o=a-1;o>=n;o--)if(H.getXValue(e,t,o)<=l){h=o;break}return{min:n,max:h}},H.getViewportGroupCount=function(e){var t=N.getXAxisViewportMinMax(e,!0),i=N.getXAxisGlobalMinMax(e),r=(t.max-t.min)/(i.max-i.min);return isNaN(r)?1:r*H.getGroupCount(e)},H._computeYAlongLine=function(t,i,r,a,s,n){t&&(r=e.Math.log10(r),s=e.Math.log10(s));var o=r+(s-r)*(n-i)/(a-i);return t?Math.pow(10,o):o},H.getMinMaxValue=function(e,t,i){var r=t+(i?"MinMaxDO":"MinMax"),a=e.getCache().getFromCache(r);if(a)return a;var s=e.getOptions()[t+"Axis"];if(null!=s.dataMax&&null!=s.dataMin&&i)return a={min:s.dataMin,max:s.dataMax},e.getCache().putToCache(r,a),a;var n=N.hasTimeAxis(e);if(null!=s.max&&null!=s.min&&!i&&!n)return a={min:s.min,max:s.max},e.getCache().putToCache(r,a),a;var o="z"!=t&&N.isLog(e,t),l="y2"==t;l&&(t="y");for(var h="y"==t,u=!i&&h&&z.isBLAC(e),g="withoutRescale"==U.getHideAndShowBehavior(e)||"x"==t&&N.hasTimeAxis(e),d=-1/0,c=1/0,p=H.getSeriesCount(e),_=0;_<p;_++){var f=H.getSeriesItem(e,_),S=V.getSeriesType(e,_),C=h&&(V.isRangeSeries(e,_)||"candlestick"==S||"boxPlot"==S);if(g||V.isSeriesRendered(e,_)){var m=H.isAssignedToY2(e,_);if(!h||l==m){var y=f.items;if(y){var v=0,A=y.length-1;if(u){var x=H.getViewportMinMaxGroupIndex(e,_);v=x.min,A=x.max}for(var b=v;b<=A;b++)if(g||V.isDataItemRendered(e,_,b)){var I=y[b],T=null;if(h?C||(T=H.getCumulativeValue(e,_,b,g)):"x"==t&&n&&!N.isMixedFrequency(e)?(T=H.getGroupLabel(e,b),null!=I&&(I.x=T)):null!=I&&(T=I[t]),!("z"==t&&T<=0)){if(!(C||null==T||"number"!=typeof T||o&&T<=0)){var E=0;z.isBubble(e)&&!i&&"z"!=t&&(E=X.getBubbleAxisRadius(e,t,I.markerSize)),d=Math.max(d,o?T*Math.pow(10,E):T+E),c=Math.min(c,o?T/Math.pow(10,E):T-E)}if(C){var D=H.getHighValue(e,_,b),O=H.getLowValue(e,_,b);o&&(D<=0||O<=0)||(d=Math.max(d,D,O),c=Math.min(c,D,O))}if(u&&!C){var P=null,M=null;if(v>0&&b==v?(P=b-1,M=N.getXAxisViewportMinMax(e,!0).min):A<y.length-1&&b==A&&(P=b+1,M=N.getXAxisViewportMinMax(e,!0).max),null!=P){var R=H.getXValue(e,_,b),w=H.getXValue(e,_,P),L=H.getCumulativeValue(e,_,P),B=H._computeYAlongLine(o,R,T||0,w,L||0,M);d=Math.max(d,B),c=Math.min(c,B)}}}}}}}}var F=null;if("x"==t?F=G.getAxisRefObjs(e,"x"):l?F=G.getAxisRefObjs(e,"y2"):h&&(F=G.getAxisRefObjs(e,"y")),null!=F)for(var k=0;k<F.length;k++){var Y=F[k],j=Y.items,W="withRescale"==U.getHideAndShowBehavior(e)&&"hidden"==Y.visibility;if(!W)if(j&&!W){var Z=0,K=j.length-1;if(u){var q=G.getViewportMinMaxIndex(e,j);Z=q.min,K=q.max}for(var Q=Z;Q<=K;Q++)if(null!=j[Q]){O=G.getLowValue(j[Q]),D=G.getHighValue(j[Q]);var J=isNaN(j[Q])?j[Q].value:j[Q]
;null!=O&&isFinite(O)&&(c=Math.min(c,O),d=Math.max(d,O)),null!=D&&isFinite(D)&&(c=Math.min(c,D),d=Math.max(d,D)),null!=J&&isFinite(J)&&(c=Math.min(c,J),d=Math.max(d,J))}}else O=G.getLowValue(Y),D=G.getHighValue(Y),J=Y.value,null!=O&&isFinite(O)&&(c=Math.min(c,O),d=Math.max(d,O)),null!=D&&isFinite(D)&&(c=Math.min(c,D),d=Math.max(d,D)),null!=J&&isFinite(J)&&(c=Math.min(c,J),d=Math.max(d,J))}return a={min:c,max:d},e.getCache().putToCache(r,a),a},H.isAssignedToY2=function(e,t){if(!e.getOptionsCache().getFromCache("hasY2Assignment"))return!1;var i=H.getSeriesItem(e,t);return!(!i||"on"!=i.assignedToY2||!z.isDualY(e))},H.getInitialSelection=function(e){var t=e.getOptions().selection,i=null!=e.getOptions().data;t||(t=[]);for(var r=e.getChartObjPeers(),a=0;a<t.length;a++){var s=t[a].id&&!i?t[a].id:t[a];if(t[a].id||t[a].series||t[a].group||(t[a]={id:s}),!(null==s||t[a].series&&t[a].group))for(var n=0;n<r.length;n++){var o=r[n];if(H.isEqualId(s,o.getDataItemId(),e.getCtx())){t[a].series=o.getSeries(),t[a].group=o.getGroup();break}}}return t},H.getCurrentSelection=function(e){var t=[],i=e.getSelectionHandler();if(i)for(var r=i.getSelectedIds(),a=0;a<r.length;a++){var s=r[a];t.push({series:s.getSeries(),group:s.getGroup(),id:s.getId()})}return t},H.hasVolumeSeries=function(e){return e.getOptionsCache().getFromCache("hasVolume")||!1},H.isDataSelected=function(e,t,i,r){var a=!isNaN(r)&&null!=r&&r>=0?H.getNestedDataItemId(e,t,i,r):H.getDataItemId(e,t,i),s=H.getSeries(e,t),n=H.getGroup(e,i),o=e.getOptions().selection;o||(o=[]);for(var l=0;l<o.length;l++){if(H.isEqualId(a,o[l],e.getCtx())||H.isEqualId(a,o[l].id,e.getCtx()))return!0;if(null==o[l].id&&H.isEqualId(s,o[l].series,e.getCtx())&&H.isEqualId(n,o[l].group,e.getCtx()))return!0}return!1},H.getDataLabel=function(e,t,i,r,a,s){var n,o=H.getDefaultDataLabel(e,t,i,r,a,s),l=e.getOptions().dataLabel;if(l&&!s){var h=H.getDataContext(e,t,i,r);if(h.label=o,"number"==typeof(n=l(h))){var u=W.getValueFormat(e,"label");n=W.formatValue(e.getCtx(),u,n)}}return n||o},H.getDefaultDataLabel=function(e,t,i,r,a,s){var n;if(s)n=H.getCumulativeValue(e,t,i);else{var o=!isNaN(r)&&null!=r&&r>=0?H.getNestedDataItem(e,t,i,r):H.getDataItem(e,t,i);if(!o)return null;n=o.label,"low"==a?n=n instanceof Array?n[0]:n:"high"==a&&(n=n instanceof Array?n[1]:null)}if(null!=n){if("number"==typeof n){var l,h,u,g=H.isAssignedToY2(e,t)&&e.y2Axis?e.y2Axis:e.yAxis;if(g){var d=g.getInfo();l=d.getGlobalMin(),h=d.getGlobalMax(),u=d.getMajorIncrement()}var c=W.getValueFormat(e,"label");return W.formatValue(e.getCtx(),c,n,l,h,u)}return n}return null},H.getStackCategory=function(e,t){var i=e.getCache().getFromCachedMap("stackCategory",t);return void 0!==i?i:(i=z.isStacked(e)?H.getSeriesItem(e,t).stackCategory||null:H.getSeries(e,t)||null,e.getCache().putToCachedMap("stackCategory",t,i),i)},H.getStackCategories=function(e,t,i){var r=[],a=[],s={},n={},o=e.getCache().getFromCachedMap2D("stackCategories",t,i);if(o)return o;for(var l=H.getSeriesCount(e),h=0;h<l;h++)if(V.isSeriesRendered(e,h)||i){if(t){var u=V.getSeriesType(e,h);if("candlestick"!=u&&"boxPlot"!=u||(u="bar"),t!=u)continue}var g=H.getStackCategory(e,h);H.isAssignedToY2(e,h)?n[g]||(a.push(g),n[g]=!0):s[g]||(r.push(g),s[g]=!0)}return o={y:r,y2:a},e.getCache().putToCachedMap2D("stackCategories",t,i,o),o},H.getBarCategoryZ=function(e,t,i,r){for(var a=0,s=H.getSeriesCount(e),n=0;n<s;n++){var o=V.getSeriesType(e,n);if(("bar"==o||"candlestick"==o||"boxPlot"==o)&&H.getStackCategory(e,n)==t&&V.isSeriesRendered(e,n)){var l=H.isAssignedToY2(e,n);(r&&l||!r&&!l)&&(a=Math.max(a,H.getZValue(e,n,i,1)))}}return a},H.getBarInfo=function(t,i,r,a){var s,n,o=z.isHorizontal(t),l=z.isStacked(t),h=e.Agent.isRightToLeft(t.getCtx()),u=t.xAxis,g=V.isRangeSeries(t,i),d=V.getBarCategoryOffsetMap(t,r),c=H.getXValue(t,i,r),p=u.getUnboundedCoordAt(c),_=H.isAssignedToY2(t,i),f=_?t.y2Axis:t.yAxis,S=f.getBaselineCoord();if(g){var C=H.getLowValue(t,i,r),m=H.getHighValue(t,i,r);if(null==C||isNaN(C)||null==m||isNaN(m))return null;if((s=f.getBoundedCoordAt(C))==(n=f.getBoundedCoordAt(m))&&null==f.getCoordAt(C))return null}else{var y=H.getValue(t,i,r),v=H.getCumulativeValue(t,i,r);if(null==y||isNaN(y))return null;if((s=f.getBoundedCoordAt(v))==(n=l?f.getBoundedCoordAt(v-y):S)&&null==f.getCoordAt(v))return null}var A=H.getStackCategory(t,i),x=V.getBarWidth(t,i,r),b=l?V.getBarStackWidth(t,A,r,_):x;if("pixel"==V.getBarSpacing(t)&&e.Agent.isPlatformGecko()){var I=x/(1-V.getBarGapRatio(t));x>1&&I-x<2&&(b=--x)}var T=d[_?"y2":"y"][A]+.5*(b-x),E=h&&!o?p-T-x:p+T,D=E+x,O=(E+D)/2,P=g?(s+n)/2:s;return{x1:E,x2:D,axisCoord:S,baseCoord:n,yCoord:s,dataPos:te.convertAxisCoord(t,new e.Point(O,P),a),barWidth:x}},H.getMarkerPosition=function(t,i,r,a,s){var n,o,l=t.xAxis,h=H.isAssignedToY2(t,i)?t.y2Axis:t.yAxis,u=z.isPolar(t),g=V.isRangeSeries(t,i),d=!isNaN(a)&&null!=a&&a>=0,c=H.getXValue(t,i,r),p=d?H.getValue(t,i,r,a):H.getCumulativeValue(t,i,r);if(z.isBubble(t)){if(u&&p<h.getInfo().getViewportMin())return null;n=u?l.getCoordAt(c):l.getUnboundedCoordAt(c),o=h.getUnboundedCoordAt(p)}else if(g){var _=h.getCoordAt(H.getLowValue(t,i,r)),f=h.getCoordAt(H.getHighValue(t,i,r));n=l.getCoordAt(H.getXValue(t,i,r)),o=(_+f)/2}else n=l.getCoordAt(c),o=h.getCoordAt(p);return null==n||null==o?null:te.convertAxisCoord(t,new e.Point(n,o),s)},H.getScatterBubbleMarkerPosition=function(t,i,r){var a=t.xAxis,s=t.yAxis,n=H.getXValue(t,i,r),o=H.getValue(t,i,r),l=a.getCoordAt(n),h=s.getCoordAt(o);return null==l||null==h?null:new e.Point(l,h)},H.isSeriesNegative=function(e,t){if(!e.getOptionsCache().getFromCache("hasNegativeValues"))return!1;var i=e.getOptionsCache().getFromCachedMap("isSeriesNegative",t);if(null!=i)return i;var r=H.getGroupCount(e);i=!0;for(var a=0;a<r;a++)if(H.getValue(e,t,a)>0){i=!1;break}return e.getOptionsCache().putToCachedMap("isSeriesNegative",t,i),i},H.getDataContext=function(t,i,r,a){var s,n=H.getSeriesItem(t,i),o=H.getDataItem(t,i,r),l=H.getNestedDataItem(t,i,r,a),h=t.getRawOptions(),u=z.isPie(t)&&(null==i||i<0),g=t.getOptions();if(u){var d=e.Bundle.getTranslatedString(e.Bundle.CHART_PREFIX,"LABEL_OTHER",null);s={id:d,series:d,value:Z.getOtherValue(t),color:g.styleDefaults.otherColor}}else if(l)delete(c=h.series[i].items[r])._itemData,s={id:H.getNestedDataItemId(t,i,r,a),data:[c,c.items[a]],value:H.getValue(t,i,r,a),y:H.getValue(t,i,r,a),color:V.getMarkerColor(t,i,r,a),itemData:g.series[i].items[r]._itemData};else if(o){var c;delete(c=h.series[i].items[r])._itemData,s={id:H.getDataItemId(t,i,r),data:c,value:H.getValue(t,i,r),targetValue:H.getTargetValue(t,i,r),x:H.getXValue(t,i,r),y:H.getValue(t,i,r),z:H.getZValue(t,i,r),low:H.getLowValue(t,i,r),high:H.getHighValue(t,i,r),open:o.open,close:o.close,volume:o.volume,color:V.getColor(t,i,r),itemData:g.series[i].items[r]._itemData}}else n&&(s={id:H.getSeries(t,i),color:V.getColor(t,i)});return s&&(s.component=g._widgetConstructor,(u||l||o)&&(s.group=H.getGroup(t,r),s.groupData=H.getGroupsDataForContext(t)[r]),!u&&(l||o||n)&&(s.series=H.getSeries(t,i),s.seriesData=h.series[i]),z.isPie(t)&&t.pieChart&&(s.totalValue=t.pieChart.getTotalValue())),s||{}},H.getGroupsDataForContext=function(e){var t=e.getOptionsCache().getFromCache("groupsDataArray");if(!t){var i=e.getRawOptions();t=H._getNestedGroupsData(i.groups),e.getOptionsCache().putToCache("groupsDataArray",t)}return t},H._getNestedGroupsData=function(e){if(!e)return[];for(var t=[],i=0;i<e.length;i++){var r=e[i];if(r.groups){for(var a=H._getNestedGroupsData(r.groups),s=0;s<a.length;s++)a[s].unshift(r);t=t.concat(a)}else t.push([r])}return t},H._computeOutermostBarMap=function(e){if(!e.getOptionsCache().getFromCache("outermostBar")){for(var t={},i=H.getSeriesCount(e),r=e.getOptionsCache().getFromCache("hasNegativeValues"),a=i-1;a>=0;a--)if(V.isSeriesRendered(e,a)&&"bar"==V.getSeriesType(e,a)){var s=(H.getStackCategory(e,a)||"")+H.isAssignedToY2(e,a);t[s]?t[s].push(a):t[s]=[a]}var n=H.getGroupCount(e);for(var o in t)for(var l=t[o],h=0;h<n;h++)for(var u=!1,g=!1,d=0;d<l.length&&!(!r&&u||u&&g);d++)if(a=l[d],V.isDataItemRendered(e,a,h)){var c=H.getValue(e,a,h);!u&&c>=0?(u=!0,e.getOptionsCache().putToCachedMap2D("outermostBar",a,h,!0)):!g&&c<0&&(g=!0,e.getOptionsCache().putToCachedMap2D("outermostBar",a,h,!0))}}},H.isOutermostBar=function(e,t,i){return H._computeOutermostBarMap(e),e.getOptionsCache().getFromCachedMap2D("outermostBar",t,i)||!1},H.isDataItemFiltered=function(e,t,i){var r=H.getDataItem(e,t,i);return!(!r||!r._filtered)},H.getFilteredChartObjPeers=function(e){if(!e.getCache().getFromCache("dataFiltered"))return[];var t=e.getCache().getFromCache("filteredChartObjPeers");if(!t){t=[];for(var i=0;i<H.getSeriesCount(e);i++)for(var r=0;r<H.getGroupCount(e);r++){var s;H.isDataItemFiltered(e,i,r)&&(s="bar"==V.getSeriesType(e,i)?H.getBarInfo(e,i,r).dataPos:H.getMarkerPosition(e,i,r),t.push(new a(e,[],i,r,null,s)))}e.getCache().putToCache("filteredChartObjPeers",t)}return t};var U=new Object;e.Obj.createSubclass(U,e.Obj),U.getHideAndShowBehavior=function(e){return e.getOptions().hideAndShowBehavior},U.getHoverBehavior=function(e){return e.getOptions().hoverBehavior},U.setVisibility=function(t,i,r){var a=G.getRefObj(t,i);null!=a&&(a.visibility=r);var s=V.getHiddenCategories(t),n=e.ArrayUtils.getIndex(s,i);"hidden"==r&&n<0?s.push(i):"visible"==r&&n>=0&&s.splice(n,1);var o=t.getOptions();if(o&&o.legend&&o.legend.sections){for(var l=0;l<o.legend.sections.length;l++){var h=o.legend.sections[l];if(h&&h.items)for(var u=0;u<h.items.length;u++)h.items[u].id==i&&(h.items[u].categoryVisibility=r)}return!0}return!1},U.isScrollable=function(e){return!!z.isScrollSupported(e)&&"off"!=e.getOptions().zoomAndScroll},U.isZoomable=function(e){if(!z.isScrollSupported(e))return!1;var t=e.getOptions().zoomAndScroll;return"live"==t||"delayed"==t},U.getZoomDirection=function(e){return z.isScatterBubble(e)?e.getOptions().zoomDirection:"auto"},U.isLiveScroll=function(e){if(!z.isScrollSupported(e))return!1;var t=e.getOptions().zoomAndScroll;return"live"==t||"liveScrollOnly"==t},U.isDelayedScroll=function(e){if(!z.isScrollSupported(e))return!1;var t=e.getOptions().zoomAndScroll;return"delayed"==t||"delayedScrollOnly"==t},U.processIds=function(e,t){for(var i=[],r=0;r<t.length;r++){var a=t[r];if(a.getSeries()==Z.OTHER_SLICE_SERIES_ID){var s=Z.getOtherSliceIds(e);i=i.concat(s)}else i.push(a)}return i},U.adjustBounds=function(e){null!=e.x&&(e.x-=1),null!=e.w&&(e.w+=2),null!=e.y&&(e.y-=1),null!=e.h&&(e.h+=2)},U.getBoundedObjects=function(e,t){for(var i=e.getChartObjPeers().concat(H.getFilteredChartObjPeers(e)),r=[],a=0;a<i.length;a++){var s=i[a],n=s.getDataPosition();if(n){n=e.getPlotArea().localToStage(n);var o=null==t.x||n.x>=t.x&&n.x<=t.x+t.w,l=null==t.y||n.y>=t.y&&n.y<=t.y+t.h;o&&l&&r.push(s)}}return r},U.getAxisBounds=function(t,i,r){var a=t.getPlotArea(),s=a.stageToLocal(new e.Point(i.x,i.y)),n=a.stageToLocal(new e.Point(i.x+i.w,i.y+i.h));null==i.x&&(s.x=null,n.x=null),null==i.y&&(s.y=null,n.y=null);var o=U._convertToAxisCoord(t,s.x,n.x,s.y,n.y),l={},h={},u={},g={};return t.xAxis&&(l=U._getAxisMinMax(t.xAxis,o.xMin,o.xMax,r),g=U.getAxisStartEndGroup(t.xAxis,l.min,l.max)),t.yAxis&&(h=U._getAxisMinMax(t.yAxis,o.yMin,o.yMax,r)),t.y2Axis&&(u=U._getAxisMinMax(t.y2Axis,o.yMin,o.yMax,r)),{xMin:l.min,xMax:l.max,unchanged:l.unchanged,yMin:h.min,yMax:h.max,y2Min:u.min,y2Max:u.max,startGroup:g.startGroup,endGroup:g.endGroup}},U._getAxisMinMax=function(e,t,i,r){if(null==t||null==i)return{min:null,max:null};var a=e.getUnboundedLinearValueAt(t),s=e.getUnboundedLinearValueAt(i);if(r){var n=e.getInfo().getMinimumExtent();if(s-a<n){var o=(s+a)/2;s=o+n/2,a=o-n/2}return U._limitToGlobal(e,a,s)}return U.getActualMinMax(e,a,s)},U.getAxisBoundsByDelta=function(e,t,i,r,a){var s=U._convertToAxisCoord(e,t,i,r,a),n=U.getZoomDirection(e),o={},l={},h={},u={};return e.xAxis&&"y"!=n&&(o=U._getAxisMinMaxByDelta(e.xAxis,s.xMin,s.xMax),u=U.getAxisStartEndGroup(e.xAxis,o.min,o.max)),e.yAxis&&"x"!=n&&(l=U._getAxisMinMaxByDelta(e.yAxis,s.yMin,s.yMax)),e.y2Axis&&(h=U._getAxisMinMaxByDelta(e.y2Axis,s.yMin,s.yMax)),{xMin:o.min,xMax:o.max,unchanged:o.unchanged,yMin:l.min,yMax:l.max,y2Min:h.min,y2Max:h.max,startGroup:u.startGroup,endGroup:u.endGroup}},U._getAxisMinMaxByDelta=function(e,t,i){var r=e.getLinearViewportMin(),a=e.getLinearViewportMax();if(i==t&&e.isFullViewport())return U.getActualMinMax(e,r,a);var s=e.getUnboundedLinearValueAt(t)-e.getUnboundedLinearValueAt(0),n=e.getUnboundedLinearValueAt(i)-e.getUnboundedLinearValueAt(0),o=1,l=a+n-(r+s),h=e.getInfo().getMinimumExtent();return t!=i&&l<h&&(o=(a-r-h)/(s-n)),r+=s*o,a+=n*o,U._limitToGlobal(e,r,a)},U._convertToAxisCoord=function(t,i,r,a,s){var n={},o=e.Agent.isRightToLeft(t.getCtx());return z.isHorizontal(t)?(n.xMin=a,n.xMax=s,n.yMin=o?r:i,n.yMax=o?i:r):(n.xMin=o?r:i,n.xMax=o?i:r,n.yMin=s,n.yMax=a),n},U._limitToGlobal=function(e,t,i){var r=e.getLinearGlobalMin(),a=e.getLinearGlobalMax();return i-t>=a-r?(t=r,i=a):t<r?(i+=r-t,t=r):i>a&&(t-=i-a,i=a),U.getActualMinMax(e,t,i)},U.getActualMinMax=function(e,t,i){var r={min:e.linearToActual(t),max:e.linearToActual(i)};if(e.isGroupAxis()){var a=e.getLinearViewportMin(),s=e.getLinearViewportMax();Math.abs(t-a)<1e-4&&Math.abs(i-s)<1e-4&&(r.unchanged=!0)}return r},U.getAxisStartEndGroup=function(e,t,i){if(e.isGroupAxis()&&null!=t&&null!=i){var r=Math.ceil(t),a=Math.floor(i);if(a>=r)return{startGroup:e.getInfo().getGroup(r),endGroup:e.getInfo().getGroup(a)}}return{startGroup:null,endGroup:null}},U.setInitialSelection=function(e,t){var i=e.getSelectionHandler();if(i)if(t&&0!=t.length){for(var r=[],a=0;a<t.length;a++)null!=t[a].id?r.push(t[a].id):null!=t[a].series&&null!=t[a].group&&r.push(H.createDataItemId(t[a].series,t[a].group));for(var s=new(e.getCtx().oj.KeySetImpl)(r),n=e.getChartObjPeers(),o=[],l=0;l<n.length;l++){var h=n[l];if(h.isSelectable()){var u=h.getDataItemId(),g=H.createDataItemId(h.getSeries(),h.getGroup());(s.has(u)||s.has(g))&&o.push(h.getId())}}i.processInitialSelections(o,n)}else i.clearSelection()},U.getKeyboardNavigables=function(e){var t=[];if(z.isPie(e))for(var i=e.pieChart.__getSlices(),r=0;r<i.length;r++)V.isSeriesRendered(e,i[r].getSeriesIndex())&&t.push(i[r]);else{var a=e.getChartObjPeers();for(r=0;r<a.length;r++)a[r].isNavigable()&&t.push(a[r])}return t},U.isSeriesDrillable=function(e,t){var i=H.getSeriesItem(e,t),r=null!=i?i.drilling:"inherit";return"on"==r||"off"!=r&&("on"==(r=e.getOptions().drilling)||"seriesOnly"==r)},U.isDataItemDrillable=function(e,t,i,r){var a=H.getNestedDataItem(e,t,i,r);a||(a=H.getDataItem(e,t,i));var s=null!=a?a.drilling:"inherit";return"on"==s||"off"!=s&&"on"==e.getOptions().drilling},U.addEventData=function(e,t){var i=H.getSeriesIndex(e,t.series),r=H.getGroupIndex(e,t.group),a=H.getNestedDataItemIndex(e,i,r,t.id),s=H.getDataContext(e,i,r,a);s&&(t.data=s.data,t.itemData=s.itemData,t.seriesData=s.seriesData,s.groupData?t.groupData=s.groupData:null!=r&&(t.groupData=H.getGroupsDataForContext(e)[r]))},U.isPlotAreaDraggable=function(e){var t=e.getOptions(),i=t.dnd?t.dnd.drag.items:{};return Object.keys(i).length>0},U.isPlotAreaDropTarget=function(e){var t=e.getOptions(),i=t.dnd?t.dnd.drop.plotArea:{};return Object.keys(i).length>0},U.addPlotAreaDnDBackground=function(t,i,r,a){var s=U.isPlotAreaDraggable(t);(U.isPlotAreaDropTarget(t)||s)&&(background=new e.Rect(t.getCtx(),0,0,a?r.w:r.h,a?r.h:r.w),background.setInvisibleFill(),i.addChild(background),t.getCache().putToCache("plotAreaBackground",background),s&&background.setClassName("oj-draggable"))};var G=new Object;e.Obj.createSubclass(G,e.Obj),G.getRefObjs=function(e){var t=G.getAxisRefObjs(e,"x"),i=G.getAxisRefObjs(e,"y"),r=G.getAxisRefObjs(e,"y2");return t.concat(i,r)},G.getAxisRefObjs=function(e,t){var i=e.getOptions();return i&&i[t+"Axis"]&&i[t+"Axis"].referenceObjects?i[t+"Axis"].referenceObjects:[]},G.getType=function(e){return"area"==e.type?"area":"line"},G.getLocation=function(e){return"front"==e.location?"front":"back"},G.getColor=function(e){return e.color?e.color:"#333333"},G.getLineWidth=function(e){return e.lineWidth?e.lineWidth:1},G.getLineType=function(e){return e.lineType?e.lineType:"straight"},G.isObjectRendered=function(t,i){var r=V.getHiddenCategories(t);if(r.length>0){var a=G.getRefObjCategories(i);if(a&&e.ArrayUtils.hasAnyItem(r,a))return!1}return!("hidden"==i.visibility)},G.getId=function(e){return null!=e.id?e.id:e.text},G.getRefObjCategories=function(e){return e.categories?e.categories:[G.getId(e)]},G.getRefObj=function(e,t){for(var i=G.getRefObjs(e),r=0;r<i.length;r++)if(G.getId(i[r])==t)return i[r]},G.getLowValue=function(e){return null==e?null:e.low},G.getHighValue=function(e){return null==e?null:e.high},G.getXValue=function(e,t,i){return H.getXValueFromItem(e,t[i],i)},G.getViewportMinMaxIndex=function(e,t){var i=N.getXAxisViewportMinMax(e,!0),r=N.hasGroupAxis(e),a=i.min,s=0;if(null!=a)if(r)s=Math.ceil(a);else for(var n=0;n<t.length;n++)if(G.getXValue(e,t,n)>=a){s=n;break}var o=i.max,l=t.length-1;if(null!=l)if(r)l=Math.floor(o);else for(n=t.length-1;n>=s;n--)if(H.getXValue(e,t,n)<=o){l=n;break}return{min:s,max:l}};var Y=new Object;e.Obj.createSubclass(Y,e.Obj),Y.getBarFill=function(e,t,i,r){var a=V.getColor(e,t,i),s=V.getPattern(e,t,i);return Y.getRectangleFill(e,a,s,r)},Y.getRectangleFill=function(t,i,r,a){var s=V.getSeriesEffect(t);if(r)return new e.PatternFill(r,i);if("gradient"==s&&a>3){var n,o,l=z.isHorizontal(t)?270:0;return Y._useAltaGradients(t)?(n=[e.ColorUtils.adjustHSL(i,0,-.09,.04),e.ColorUtils.adjustHSL(i,0,-.04,-.05)],o=[0,1]):(n=[e.ColorUtils.getBrighter(i,.15),e.ColorUtils.getBrighter(i,.45),e.ColorUtils.getBrighter(i,.25),i,e.ColorUtils.getBrighter(i,.15),e.ColorUtils.getDarker(i,.1)],o=[0,.15,.3,.65,.85,1]),new e.LinearGradientFill(l,n,null,o)}return new e.SolidFill(i)},Y.getAreaFill=function(t,i){var r,a="lineWithArea"==V.getSeriesType(t,i),s=H.getSeriesItem(t,i);s&&s.areaColor?r=s.areaColor:(r=V.getColor(t,i),a&&(r=e.ColorUtils.setAlpha(r,.2)));var n=V.getPattern(t,i),o=V.getSeriesEffect(t);if(n)return new e.PatternFill(n,r);if("gradient"==o){var l,h,u=z.isHorizontal(t)?180:270;if(a){var g=e.ColorUtils.getAlpha(r);l=[e.ColorUtils.setAlpha(r,Math.min(g+.2,1)),e.ColorUtils.setAlpha(r,Math.max(g-.15,0))],h=[0,1]}else Y._useAltaGradients(t)?(l=[e.ColorUtils.adjustHSL(r,0,-.09,.04),e.ColorUtils.adjustHSL(r,0,-.04,-.05)],h=[0,1]):z.isSpark(t)?(l=[e.ColorUtils.getDarker(r,.5),r,e.ColorUtils.getBrighter(r,.5)],h=[0,.5,1]):(l=[e.ColorUtils.getBrighter(r,.5),r,e.ColorUtils.getDarker(r,.3)],h=[0,.5,1]);return new e.LinearGradientFill(u,l,null,h)}return new e.SolidFill(r)},Y.getMarkerFill=function(t,i,r,a){var s=V.getMarkerColor(t,i,r,a),n=V.getPattern(t,i,r,a);if(n)return new e.PatternFill(n,s);if(z.isBubble(t)&&"gradient"==V.getSeriesEffect(t)){if(Y._useAltaGradients(t)){var o=[e.ColorUtils.adjustHSL(s,0,-.09,.04),e.ColorUtils.adjustHSL(s,0,-.04,-.05)];return new e.LinearGradientFill(270,o,null,[0,1])}if("human"==V.getMarkerShape(t,i,r,a)){var l=[e.ColorUtils.getBrighter(s,.2),e.ColorUtils.getBrighter(s,.1),s,e.ColorUtils.getDarker(s,.2)];return new e.LinearGradientFill(315,l,null,[0,.3,.7,1])}var h=[e.ColorUtils.getBrighter(s,.15),s,e.ColorUtils.getDarker(s,.1),e.ColorUtils.getDarker(s,.2)];return new e.RadialGradientFill(h,null,[0,.5,.75,1])}return new e.SolidFill(s)},Y.getFunnelPyramidSliceFill=function(t,i,r,a,s){var n=V.getPattern(t,i,0),o=V.getSeriesEffect(t);if(n&&!s){var l=new e.PatternFill(n,r);return("vertical"==t.getOptions().orientation||z.isPyramid(t))&&(e.Agent.isRightToLeft(t.getCtx())?l.setMatrix(new e.Matrix(0,-1,1,0)):l.setMatrix(new e.Matrix(0,1,-1,0))),l}if("gradient"==o){var h,u,g=z.isPyramid(t)?180:90;return"on"==t.getOptions().styleDefaults.threeDEffect?(h=[e.ColorUtils.adjustHSL(r,0,0,-.1),e.ColorUtils.adjustHSL(r,0,0,.12),r],u=[0,.65,1]):(h=[e.ColorUtils.adjustHSL(r,0,-.09,.04),e.ColorUtils.adjustHSL(r,0,-.04,-.05)],u=[0,1]),new e.LinearGradientFill(g,h,null,u,[a.x,a.y,a.w,a.h])}return new e.SolidFill(r)},Y._useAltaGradients=function(e){return!o.isSkyrosSkin(e)};var V=new Object;e.Obj.createSubclass(V,e.Obj),V._SERIES_TYPE_RAMP=["bar","line","area"],V.getSeriesType=function(e,t){var i=e.getOptionsCache().getFromCachedMap("seriesType",t);if(i)return i;if(!z.isBLAC(e))return e.getOptionsCache().putToCachedMap("seriesType",t,"auto"),"auto";var r=H.getSeriesItem(e,t);if(i=r?r.type:null,z.isStock(e)||"candlestick"!=i||(i="auto"),!i||"auto"==i)if(z.isBar(e))i="bar";else if(z.isLine(e))i="line";else if(z.isArea(e))i="area";else if(z.isLineWithArea(e))i="lineWithArea";else if(z.isStock(e))i="candlestick";else if(z.isBoxPlot(e))i="boxPlot";else if(z.isCombo(e)){var a=H.getSeriesStyleIndex(e,t)%V._SERIES_TYPE_RAMP.length;i=V._SERIES_TYPE_RAMP[a]}return e.getOptionsCache().putToCachedMap("seriesType",t,i),i},V.isRangeSeries=function(e,t){var i=e.getOptionsCache();if(!i.getFromCache("hasLowHighSeries"))return!1;var r=i.getFromCachedMap("isRange",t);if(null!=r)return r;r=!1;var a=V.getSeriesType(e,t);if("bar"==a||"area"==a)for(var s=0;s<H.getGroupCount(e);s++)if(null!=H.getLowValue(e,t,s)||null!=H.getHighValue(e,t,s)){r=!0;break}return e.getOptionsCache().putToCachedMap("isRange",t,r),r},V.getSeriesEffect=function(e){return e.getOptions().styleDefaults.seriesEffect},V.getColor=function(e,t,i){var r=H.getDataItem(e,t,i);if(r&&r.color)return r.color;var a=H.getSeriesItem(e,t);if(a&&a.color)return a.color;if("candlestick"==V.getSeriesType(e,t))return V.getStockItemColor(e,t,i);var s=e.getOptions().styleDefaults.colors;return s[H.getSeriesStyleIndex(e,t)%s.length]},V.getStockItemColor=function(e,t,i){var r=e.getOptions();return H.isStockValueRising(e,t,i)?r.styleDefaults.stockRisingColor:r.styleDefaults.stockFallingColor},V.getStockVolumeColor=function(e,t,i){var r=H.getDataItem(e,t,i);if(r&&r.color)return r.color;var a=e.getOptions();return a.styleDefaults.stockVolumeColor?a.styleDefaults.stockVolumeColor:V.getStockItemColor(e,t,i)},V.getSplitterPosition=function(e){var t=e.getOptions().splitterPosition;return null!=t?t:z.isStock(e)?.8:.5},V.getPattern=function(t,i,r,a){var s=H.getNestedDataItem(t,i,r,a);if(s&&s.pattern&&"auto"!=s.pattern)return s.pattern;var n=H.getDataItem(t,i,r);if(n&&n.pattern&&"auto"!=n.pattern)return n.pattern;var o=V.getSeriesType(t,i);if(("line"==o||"area"==o)&&null!=r)return null;var l=H.getSeriesItem(t,i);if(l&&l.pattern&&"auto"!=l.pattern)return l.pattern;if("pattern"==V.getSeriesEffect(t)){if(z.isStock&&"candlestick"==V.getSeriesType(t,i)){var h=H.isStockValueRising(t,i,r),u=e.Agent.isRightToLeft(t.getCtx());return h?u?"smallDiagonalLeft":"smallDiagonalRight":u?"smallDiagonalRight":"smallDiagonalLeft"}var g=t.getOptions().styleDefaults.patterns;return g[H.getSeriesStyleIndex(t,i)%g.length]}return null},V.getMarkerBorderColor=function(t,i,r,a){var s=V.getBorderColor(t,i,r,a);if(s)return s;if(V.getDataItemGaps(t)>0&&"lineWithArea"!=V.getSeriesType(t,i))return V.getBackgroundColor(t,!0);if(z.isBubble(t)&&!o.isSkyrosSkin(t)&&"gradient"!=V.getSeriesEffect(t)){var n=V.getMarkerColor(t,i,r);if(n)return e.ColorUtils.adjustHSL(n,0,.15,-.25)}return null},V.getBorderColor=function(e,t,i,r){var a=H.getNestedDataItem(e,t,i,r);if(a&&a.borderColor)return a.borderColor;var s=H.getDataItem(e,t,i);if(s&&s.borderColor)return s.borderColor;var n=H.getSeriesItem(e,t);if(n&&n.borderColor)return n.borderColor;var o=e.getOptions().styleDefaults;return"auto"!=o.borderColor?o.borderColor:null},V.getBorderWidth=function(e,t,i,r){var a=H.getNestedDataItem(e,t,i,r);if(a&&null!=a.borderWidth)return a.borderWidth;var s=H.getDataItem(e,t,i);if(s&&null!=s.borderWidth)return s.borderWidth;var n=H.getSeriesItem(e,t);if(n&&null!=n.borderWidth)return n.borderWidth;var o=e.getOptions().styleDefaults;return"auto"!=o.borderWidth?o.borderWidth:z.isScatterBubble(e)||z.isLineArea(e)?1.25:1},V.getMarkerColor=function(e,t,i,r){if(!V.isMarkerDisplayed(e,t,i,r))return V.getColor(e,t,i);var a=H.getNestedDataItem(e,t,i,r);if(a&&a.color)return a.color;var s=H.getDataItem(e,t,i);if(s&&s.color)return s.color;var n=H.getSeriesItem(e,t);return n&&n.markerColor?n.markerColor:e.getOptions().styleDefaults.markerColor||V.getColor(e,t,i)},V.getMarkerShape=function(e,t,i,r){var a=e.getOptions(),s=a.styleDefaults.markerShape,n=H.getSeriesItem(e,t);n&&n.markerShape&&(s=n.markerShape);var o=H.getDataItem(e,t,i);o&&o.markerShape&&(s=o.markerShape);var l=H.getNestedDataItem(e,t,i,r);if(l&&l.markerShape&&(s=l.markerShape),"auto"==s)if(z.isBubble(e)||"boxPlot"==V.getSeriesType(e,t)||V.isRangeSeries(e,t))s="circle";else{var h=H.getSeriesStyleIndex(e,t),u=a.styleDefaults.shapes;s=u[h%u.length]}return s},V.getMarkerSize=function(e,t,i,r){var a,s=H.getNestedDataItem(e,t,i,r);if(s&&null!=s.markerSize)a=Number(s.markerSize);else{var n=H.getDataItem(e,t,i);if(n&&null!=n.markerSize)a=Number(n.markerSize);else{var o=H.getSeriesItem(e,t);a=o&&null!=o.markerSize?Number(o.markerSize):Number(e.getOptions().styleDefaults.markerSize)}}return z.isOverview(e)&&(a=Math.ceil(.6*a)),a},V.isMarkerDisplayed=function(e,t,i,r){var a,s=H.getNestedDataItem(e,t,i,r);if(s&&null!=s.markerDisplayed)a=s.markerDisplayed;else{var n=H.getDataItem(e,t,i);if(n&&null!=n.markerDisplayed)a=n.markerDisplayed;else{var o=H.getSeriesItem(e,t);a=o&&null!=o.markerDisplayed?o.markerDisplayed:e.getOptions().styleDefaults.markerDisplayed}}return"on"==a||"off"!=a&&(z.isScatterBubble(e)||"boxPlot"==V.getSeriesType(e,t)||"none"==V.getLineType(e,t))},V.getImageSource=function(e,t,i,r,a){var s=H.getNestedDataItem(e,t,i,r);if(s&&s[a])return s[a];var n=H.getDataItem(e,t,i);if(n&&n[a])return n[a];var o=H.getSeriesItem(e,t);return o&&o[a]?o[a]:void 0},V.getLineWidth=function(e,t){var i,r=H.getSeriesItem(e,t),a=e.getOptions();return i=r&&r.lineWidth?r.lineWidth:a.styleDefaults.lineWidth?a.styleDefaults.lineWidth:"lineWithArea"==V.getSeriesType(e,t)?2:3,z.isOverview(e)&&(i=Math.ceil(.6*i)),i},V.getLineStyle=function(e,t){var i=H.getSeriesItem(e,t);return i&&i.lineStyle?i.lineStyle:e.getOptions().styleDefaults.lineStyle},V.getLineType=function(e,t){var i,r=H.getSeriesItem(e,t);return"auto"==(i=r&&r.lineType?r.lineType:e.getOptions().styleDefaults.lineType)&&(i=z.isScatterBubble(e)?"none":"straight"),(z.isPolar(e)||z.isScatterBubble(e))&&("centeredSegmented"==i&&(i="segmented"),"centeredStepped"==i&&(i="stepped")),i},V.getBarSpacing=function(e){return e.getOptions().__sparkBarSpacing},V.getBarGapRatio=function(e){var t=e.getCache().getFromCache("barGapRatio");if(t)return t;if("string"==typeof(t=e.getOptions().styleDefaults.barGapRatio)&&"%"==t.slice(-1)&&(t=Number(t.slice(0,-1))/100),null!=t&&!isNaN(t))return t;var i=H.getStackCategories(e,"bar"),r=i.y.length,a=i.y2.length,s=z.isSplitDualY(e)?Math.max(r,a):r+a;return t=z.isPolar(e)?1==s?0:.25:1==s?.37+.26/H.getViewportGroupCount(e):.25,e.getCache().putToCache("barGapRatio",t),t},V.getMaxBarWidth=function(e){var t=e.getOptions().styleDefaults.maxBarWidth;return null==t||z.isPolar(e)?1/0:t},V.getBarWidth=function(e,t,i){e.getOptionsCache().getFromCache("hasConstantZValue")&&(t=0,i=0);var r=e.getCache().getFromCachedMap2D("barWidth",t,i);if(null!=r)return r;var a=H.getZValue(e,t,i,1)/e.getOptions()._averageGroupZ;return r=Math.min(a*V.getGroupWidth(e),V.getMaxBarWidth(e)),e.getCache().putToCachedMap2D("barWidth",t,i,r),r},V.getBarStackWidth=function(e,t,i,r){e.getOptionsCache().getFromCache("hasConstantZValue")&&(i=0);var a=r?"y2BarStackWidth":"yBarStackWidth",s=e.getCache().getFromCachedMap2D(a,t,i);if(null!=s)return s;var n=H.getBarCategoryZ(e,t,i,r)/e.getOptions()._averageGroupZ;return s=Math.min(n*V.getGroupWidth(e),V.getMaxBarWidth(e)),e.getCache().putToCachedMap2D(a,t,i,s),s},V.getBarCategoryOffsetMap=function(e,t){e.getOptionsCache().getFromCache("hasConstantZValue")&&(t=0);var i=e.getCache().getFromCachedMap("barCategoryOffsetMap",t);if(i)return i;var r,a=z.isStacked(e),s=H.getStackCategories(e,"bar"),n=N.isMixedFrequency(e),o=z.isSplitDualY(e),l={},h={},u=0,g=0;if(a){for(c=0;c<s.y.length;c++)r=V.getBarStackWidth(e,s.y[c],t,!1),n?l[s.y[c]]=-.5*r:(l[s.y[c]]=u,u+=r);for(o||(g=u),c=0;c<s.y2.length;c++)r=V.getBarStackWidth(e,s.y2[c],t,!0),n?h[s.y2[c]]=-.5*r:(h[s.y2[c]]=g,g+=r);o||(u=g)}else for(var d=H.getSeriesCount(e),c=0;c<d;c++){var p=V.getSeriesType(e,c);if(("bar"==p||"candlestick"==p||"boxPlot"==p)&&V.isSeriesRendered(e,c)){var _=H.isAssignedToY2(e,c),f=H.getStackCategory(e,c);r=V.getBarWidth(e,c,t),_?n?h[f]=-.5*r:(h[f]=g,g+=r):n?l[f]=-.5*r:(l[f]=u,u+=r)}}for(var f in l)l[f]-=o||a?u/2:(u+g)/2;for(var f in h)h[f]-=o||a?g/2:(u+g)/2-u;return i={y:l,y2:h},e.getCache().putToCachedMap("barCategoryOffsetMap",t,i),i},V.getDataItemGaps=function(e){var t=e.getOptionsCache().getFromCache("dataItemGaps");if(null!=t)return t;var i=e.getOptions();if(z.isFunnel(e)&&"on"==i.styleDefaults.funnelSliceGaps)t=1;else if(null!=i.styleDefaults.sliceGaps)t=i.styleDefaults.sliceGaps;else{var r=i.styleDefaults.dataItemGaps;"auto"==r&&(r="on"==i.styleDefaults.threeDEffect?"0%":"50%");var a=r&&r.indexOf?r.indexOf("%"):-1;t=a>=0?(r=r.substring(0,a))/100:0}return e.getOptionsCache().putToCache("dataItemGaps",t),t},V.isSelectable=function(e,t,i){var r=H.getSeriesItem(e,t);return(!r||"off"!=r._selectable)&&e.isSelectionSupported()&&null!=t&&t>=0&&null!=i&&i>=0},V.isSeriesRendered=function(t,i){var r=V.getHiddenCategories(t);return!(r.length>0&&e.ArrayUtils.hasAnyItem(r,H.getCategories(t,i)))},V.isDataItemRendered=function(t,i,r,a){var s,n=!isNaN(a)&&null!=a&&a>=0;if(!n&&void 0!==(s=t.getOptionsCache().getFromCachedMap2D("isDataItemRendered",i,r)))return s;if(s=!0,V.isSeriesRendered(t,i)){var o=V.getHiddenCategories(t);o.length>0&&((z.isPie(t)||z.isFunnel(t)||z.isPyramid(t))&&(r=0),e.ArrayUtils.hasAnyItem(o,H.getCategories(t,i,r))&&(s=!1),e.ArrayUtils.hasAnyItem(o,H.getCategories(t,i,r,a))&&(s=!1))}else s=!1;return n||t.getOptionsCache().putToCachedMap2D("isDataItemRendered",i,r,s),s},V.getAnimationOnDisplay=function(e){return e.getOptions().animationOnDisplay},V.getAnimationOnDataChange=function(e){return e.getOptions().animationOnDataChange},V.getAnimationDuration=function(t){return e.StyleUtils.getTimeMilliseconds(t.getOptions().styleDefaults.animationDuration)/1e3},V.getAnimationIndicators=function(e){return e.getOptions().styleDefaults.animationIndicators},V.getAnimationUpColor=function(e){return e.getOptions().styleDefaults.animationUpColor},V.getAnimationDownColor=function(e){return e.getOptions().styleDefaults.animationDownColor},V.getHiddenCategories=function(e){var t=e.getOptions();return t.hiddenCategories||(t.hiddenCategories=[]),t.hiddenCategories},V.getHighlightedCategories=function(e){var t=e.getOptions();return t.highlightedCategories||(t.highlightedCategories=[]),t.highlightedCategories},V.getSelectedInnerColor=function(e){return e.getOptions().styleDefaults.selectedInnerColor},V.getSelectedOuterColor=function(e){return e.getOptions().styleDefaults.selectedOuterColor},V.isSelectionHighlighted=function(e){var t=e.getOptions().styleDefaults.selectionEffect;return"highlight"==t||"highlightAndExplode"==t},V.isSelectionExploded=function(e){var t=e.getOptions().styleDefaults.selectionEffect;return"explode"==t||"highlightAndExplode"==t},V.getDataLabelStyle=function(t,i,r,a,s,n,o){var l,h=[];!s||"bar"!=V.getSeriesType(t,i)&&!z.isBubble(t)||"center"!=n&&"inBottom"!=n&&"inTop"!=n&&"inRight"!=n&&"inLeft"!=n?h.push(new e.CSSStyle("color: #333333;")):(l=null!=V.getPattern(t,i,r,a)?"#000000":e.ColorUtils.getContrastingTextColor(s),h.push(new e.CSSStyle("color: "+l+";"))),h.push(V._parseLowHighArray(t.getOptions().styleDefaults.dataLabelStyle,o));var u=H.getDataItem(t,i,r);u&&h.push(new e.CSSStyle(V._parseLowHighArray(u.labelStyle,o)));var g=H.getNestedDataItem(t,i,r,a);return g&&h.push(new e.CSSStyle(V._parseLowHighArray(g.labelStyle,o))),l&&e.Agent.isHighContrast()&&h.push(new e.CSSStyle("color: "+l+";")),e.CSSStyle.mergeStyles(h)},V.getDataLabelPosition=function(t,i,r,a,s,n){var o,l=H.getNestedDataItem(t,i,r,a),h=H.getDataItem(t,i,r)
;if(n)o="outsideBarEdge";else if((o=l&&l.labelPosition?l.labelPosition:h.labelPosition)||(o=t.getOptions().styleDefaults.dataLabelPosition),"none"==(o=V._parseLowHighArray(o,s)))return"none";var u=e.Agent.isRightToLeft(t.getCtx()),g=z.isHorizontal(t),d=z.isPolar(t);if(z.isFunnel(t)||z.isPyramid(t))return"center";if("bar"==V.getSeriesType(t,i)){if("center"==o||d)return"center";var c,p=z.isStacked(t);if("insideBarEdge"!=o){if(p&&!n)return"center";"outsideBarEdge"!=o&&(o="insideBarEdge")}if("insideBarEdge"==o&&!p){var _,f=t.getOptions().styleDefaults.dataLabelStyle;if(g){var S=H.getDataLabel(t,i,r,a,s);_=e.TextUtils.getTextStringWidth(t.getCtx(),S,f)}else _=e.TextUtils.getTextStringHeight(t.getCtx(),f);var C=H.getBarInfo(t,i,r);(C?Math.abs(C.baseCoord-C.yCoord):0)<=_&&(o="outsideBarEdge")}return c="low"==s?h.low<=h.high:"high"==s?h.high<h.low:H.getValue(t,i,r,a)<0,"outsideBarEdge"==o?g?!c&&!u||c&&u?"right":"left":c?"bottom":"top":g?!c&&!u||c&&u?"inRight":"inLeft":c?"inBottom":"inTop"}if("center"==o)return"center";if("belowMarker"==o)return"bottom";if("aboveMarker"==o)return"top";if("afterMarker"!=o&&"beforeMarker"!=o){if(z.isBubble(t))return"center";if("low"!=s||d)if("high"!=s||d)o="afterMarker";else{if(!g)return"top";o="afterMarker"}else{if(!g)return"bottom";o="beforeMarker"}}return!u&&"afterMarker"==o||u&&"beforeMarker"==o?"right":"left"},V._parseLowHighArray=function(e,t){return e instanceof Array?"high"==t?e[1]:e[0]:e},V.isOverviewRendered=function(e){var t=e.getOptions();return z.isOverviewSupported(e)&&"off"!=t.overview.rendered},V.getOverviewHeight=function(e){var t=e.getOptions().overview.height;return null==t&&(t=N.hasTimeAxis(e)?.25:.2),V.getSizeInPixels(t,e.getHeight())},V.getSizeInPixels=function(e,t){if("string"==typeof e){if("%"==e.slice(-1))return t*Number(e.slice(0,-1))/100;if("px"==e.slice(-2))return Number(e.slice(0,-2));e=Number(e)}return"number"==typeof e?e<=1?t*e:e:0},V.getBackgroundColor=function(e,t){var i=e.getOptions();return i.plotArea.backgroundColor?i.plotArea.backgroundColor:t?"#FFFFFF":null},V.getHoverBehaviorDelay=function(t){var i=t.getOptions().styleDefaults.hoverBehaviorDelay;return i?(i=e.StyleUtils.getTimeMilliseconds(i),z.isScatterBubble(t)||z.isLine(t)?.75*i:1.25*i):0},V.optimizeMarkerStroke=function(e){return z.isScatterBubble(e)||z.isBoxPlot(e)},V.getGroupWidth=function(e){var t=e.getCache().getFromCache("groupWidth");return null==t&&(t=e.xAxis.getInfo().getGroupWidth(),e.getCache().putToCache("groupWidth",t)),t},V.isStackLabelRendered=function(e){var t=e.getOptions();return!(!z.isStacked(e)||"on"!=t.stackLabel)},V.optimizeMarkerFill=function(e){return z.isLineArea(e)},V.getClassName=function(e,t,i){var r=H.getDataItem(e,t,i);if(r&&(r.className||r.svgClassName))return r.className||r.svgClassName;var a=H.getSeriesItem(e,t);return a&&(a.className||a.svgClassName)?a.className||a.svgClassName:null},V.getAreaClassName=function(e,t){var i=H.getSeriesItem(e,t);return i&&(i.areaClassName||i.areaSvgClassName)?i.areaClassName||i.areaSvgClassName:i&&(i.className||i.svgClassName)?i.className||i.svgClassName:null},V.getMarkerClassName=function(e,t,i,r){var a=H.getNestedDataItem(e,t,i,r);if(a&&(a.className||a.svgClassName))return a.className||a.svgClassName;var s=H.getDataItem(e,t,i);if(s&&(s.className||s.svgClassName))return s.className||s.svgClassName;var n=H.getSeriesItem(e,t);return n&&(n.markerClassName||n.markerSvgClassName)?n.markerClassName||n.markerSvgClassName:z.isScatterBubble(e)&&n&&(n.className||n.svgClassName)?n.className||n.svgClassName:null},V.getStyle=function(e,t,i){var r=H.getDataItem(e,t,i);if(r&&(r.style||r.svgStyle))return r.style||r.svgStyle;var a=H.getSeriesItem(e,t);return a&&(a.style||a.svgStyle)?a.style||a.svgStyle:null},V.getAreaStyle=function(e,t){var i=H.getSeriesItem(e,t);return i&&(i.areaStyle||i.areaSvgStyle)?i.areaStyle||i.areaSvgStyle:i&&(i.style||i.svgStyle)?i.style||i.svgStyle:null},V.getMarkerStyle=function(e,t,i,r){var a=H.getNestedDataItem(e,t,i,r);if(a&&(a.style||a.svgStyle))return a.style||a.svgStyle;var s=H.getDataItem(e,t,i);if(s&&(s.style||s.svgStyle))return s.style||s.svgStyle;var n=H.getSeriesItem(e,t);return n&&(n.markerStyle||n.markerSvgStyle)?n.markerStyle||n.markerSvgStyle:z.isScatterBubble(e)&&n&&(n.style||n.svgStyle)?n.style||n.svgStyle:null},V.getBoxPlotStyleOptions=function(t,i,r){var a=H.getDataItem(t,i,r),s=a&&a.boxPlot?a.boxPlot:{},n=H.getSeriesItem(t,i),o=n&&n.boxPlot?n.boxPlot:{},l=t.getOptions().styleDefaults.boxPlot,h=e.JsonUtils.merge(s,e.JsonUtils.merge(o,l)),u=V.getColor(t,i,r);h._color=u;var g=e.ColorUtils.getBrighter(u,.8);if(h.q2Color||(h.q2Color=g),h.q3Color||(h.q3Color=g),"pattern"==V.getSeriesEffect(t)){var d=V.getPattern(t,i,r);h._q2Pattern=d,h._q3Pattern=d}var c=V.getBorderColor(t,i,r);h.borderColor=c||u,h.borderWidth=V.getBorderWidth(t,i,r);var p=e.ColorUtils.getDarker(u,.1);return V._setBoxPlotDefaultLineColor(h,"whisker",p),V._setBoxPlotDefaultLineColor(h,"whiskerEnd",p),V._setBoxPlotDefaultLineColor(h,"median",p),h},V._setBoxPlotDefaultLineColor=function(t,i,r){var a=e.JsonUtils.merge(t[i+"Style"],t[i+"SvgStyle"]);t[i+"SvgStyle"]=a,t[i+"Style"]=null,a.stroke||t[i+"ClassName"]||t[i+"SvgClassName"]||(t[i+"SvgStyle"].stroke=r)};var j=new Object;e.Obj.createSubclass(j,e.Obj),j.createText=function(t,i,r,a,s,n,o,l){var h=new e.OutputText(i.getCtx(),r,s,n);return h.setCSSStyle(a),e.TextUtils.fitText(h,o,l,i)?(t.associate(h,new e.SimpleObjPeer(h.getUntruncatedTextString())),h):null},j.areTitlesRendered=function(e){var t=e.getOptions();return t.title.text||t.subtitle.text||t.footnote.text};var W=new Object;e.Obj.createSubclass(W,e.Obj),W.getDatatipColor=function(e,t,i,r){return z.isStock(e)?V.getColor(e,0,i):null!=r&&r>=0?V.getMarkerColor(e,t,i,r):V.getColor(e,t,i)},W.getDatatip=function(e,t,i,r,a){if(z.isSpark(e)||z.isOverview(e))return null;if(t<0||i<0)return null;var s=H.getDataItem(e,t,i),n=e.getOptions().tooltip,o=n?n.renderer:null;if(a&&o){var l=e.getCtx().getTooltipManager(W.isDataCursorEnabled(e)?v.TOOLTIP_ID:null),h=H.getDataContext(e,t,i,r);if(z.isPie(e)){var u=Z.getSliceBySeriesIndex(e,t);h.label=u.getSliceLabelString()}else h.label=H.getDataLabel(e,t,i,r);return l.getCustomTooltip(o,h)}if(s&&null!=s.shortDesc)return s.shortDesc;var g="";return z.isStock(e)?g+=W.getStockDatatip(e,0,i,a):(g=W._addSeriesDatatip(g,e,t,i,a),g=W._addGroupDatatip(g,e,t,i,a),g=W._addValueDatatip(g,e,t,i,r,a)),W._processDatatip(g,e,a)},W.getOtherSliceDatatip=function(t,i,r){var a=e.Bundle.getTranslatedString(e.Bundle.CHART_PREFIX,"LABEL_OTHER",null),s=t.getOptions().tooltip,n=s?s.renderer:null;if(r&&n){var o=Z.getSliceBySeriesIndex(t,null),l=H.getDataContext(t,null,0);return l.label=o.getSliceLabelString(),t.getCtx().getTooltipManager().getCustomTooltip(n,l)}var h="";return h=W._addDatatipRow(h,t,"series","SERIES",a,r),h=W._addGroupDatatip(h,t,0,0,r),h=W._addDatatipRow(h,t,"value","VALUE",i,r),W._processDatatip(h,t,r)},W._processDatatip=function(t,i,r){return""==t?null:r?e.HtmlTooltipManager.createStartTag("table",i.getOptions().styleDefaults._tooltipStyle)+t+"</table>":t},W.getRefObjTooltip=function(e,t,i,r){var a=e.getOptions().tooltip,s=a?a.renderer:null;if(s&&null!=t.id){var n=e.getCtx().getTooltipManager(W.isDataCursorEnabled(e)?v.TOOLTIP_ID:null),o={id:G.getId(t),label:t.text,data:e.getRawOptions()[i].referenceObjects[r],value:t.value,low:G.getLowValue(t),high:G.getHighValue(t),color:G.getColor(t)};return n.getCustomTooltip(s,o)}return t.shortDesc},W.getStockDatatip=function(e,t,i,r){var a=H.getDataItem(e,t,i),s=W._addGroupDatatip("",e,t,i,r);return a&&(s=W._addDatatipRow(s,e,"open","OPEN",a.open,r),s=W._addDatatipRow(s,e,"close","CLOSE",a.close,r),s=W._addDatatipRow(s,e,"high","HIGH",a.high,r),s=W._addDatatipRow(s,e,"low","LOW",a.low,r),s=W._addDatatipRow(s,e,"volume","VOLUME",a.volume,r)),s},W._addSeriesDatatip=function(e,t,i,r,a){var s=H.getSeriesLabel(t,i);return W._addDatatipRow(e,t,"series","SERIES",s,a)},W._addGroupDatatip=function(t,i,r,a,s){var n;if(N.hasTimeAxis(i)){var o=W.getValueFormat(i,"group"),l=H.getXValue(i,r,a);null==(n=W.formatDateValue(o,new Date(l)))&&(n=i.xAxis.getInfo().formatLabel(l))}else n=H.getGroupLabel(i,a);var h=H.getNumLevels(i),u="GROUP";if(1!=h&&e.ArrayUtils.isArray(n))for(var g=h-1;g>=0;g--)t=W._addDatatipRow(t,i,"group",u,n[g],s,g),n[g]&&(u=null);else t=W._addDatatipRow(t,i,"group",u,n,s);return t},W._addValueDatatip=function(e,t,i,r,a,s){var n=H.getValue(t,i,r,a),o=H.getXValue(t,i,r),l=H.getZValue(t,i,r),h=H.getLowValue(t,i,r),u=H.getHighValue(t,i,r),g=null!=a&&a>=0;if(z.isScatterBubble(t))e=W._addDatatipRow(e,t,"x","X",o,s),e=W._addDatatipRow(e,t,"y","Y",n,s),z.isBubble(t)&&(e=W._addDatatipRow(e,t,"z","Z",l,s));else if(z.isPie(t)||z.isPyramid(t))e=W._addDatatipRow(e,t,"value","VALUE",n,s);else if(z.isFunnel(t)){e=W._addDatatipRow(e,t,"value","VALUE",n,s);var d=H.getTargetValue(t,i);null!=d&&(e=W._addDatatipRow(e,t,"targetValue","TARGET_VALUE",d,s))}else if("boxPlot"!=V.getSeriesType(t,i)||g){if(z.isBLAC(t)){var c=H.isAssignedToY2(t,i)?"y2":"y";null==h&&null==u||g?null==l||g?e=W._addDatatipRow(e,t,c,"VALUE",n,s):(e=W._addDatatipRow(e,t,c,"Y",n,s),e=W._addDatatipRow(e,t,"z","Z",l,s)):(e=W._addDatatipRow(e,t,"high","HIGH",u,s),e=W._addDatatipRow(e,t,"low","LOW",h,s),null!=l&&(e=W._addDatatipRow(e,t,"z","Z",l,s)))}}else{var p=H.getDataItem(t,i,r);e=W._addDatatipRow(e,t,"high","HIGH",u,s),e=W._addDatatipRow(e,t,"q3","Q3",p.q3,s),e=W._addDatatipRow(e,t,"q2","Q2",p.q2,s),e=W._addDatatipRow(e,t,"q1","Q1",p.q1,s),e=W._addDatatipRow(e,t,"low","LOW",h,s),null!=l&&(e=W._addDatatipRow(e,t,"z","Z",l,s))}return e},W._addDatatipRow=function(t,i,r,a,s,n,o){if(null==s||""===s)return t;var l,h=i.getOptions().styleDefaults,u=W.getValueFormat(i,r),g=u.tooltipDisplay;if(g&&"auto"!=g||"group"==r&&(z.isPie(i)||z.isFunnel(i))&&(g="off"),"off"==g)return t;if("string"==typeof u.tooltipLabel?l=u.tooltipLabel:e.ArrayUtils.isArray(u.tooltipLabel)&&(l=u.tooltipLabel[o||0]),null==l&&(l=null==a?"":"GROUP"==a&&N.hasTimeAxis(i)?e.Bundle.getTranslation(i.getOptions(),"labelDate",e.Bundle.CHART_PREFIX,"LABEL_GROUP"):e.Bundle.getTranslatedString(e.Bundle.CHART_PREFIX,"LABEL_"+a,"")),"series"!=r&&"group"!=r&&(s=W.formatValue(i.getCtx(),u,s)),n){var d=e.Agent.isRightToLeft(i.getCtx());return h.tooltipLabelStyle.setStyle(e.CSSStyle.TEXT_ALIGN,d?"left":"right"),h.tooltipValueStyle.setStyle(e.CSSStyle.TEXT_ALIGN,d?"right":"left"),t+"<tr>"+e.HtmlTooltipManager.createStartTag("td",h.tooltipLabelStyle)+l+"</td>"+e.HtmlTooltipManager.createStartTag("td",h.tooltipValueStyle)+s+"</td></tr>"}return t.length>0&&(t+="<br>"),t+e.Bundle.getTranslatedString(e.Bundle.UTIL_PREFIX,"COLON_SEP_LIST",[l,s])},W.getValueFormat=function(e,t){var i=e.getOptions().valueFormats;if(!i)return{};if(i instanceof Array){for(var r={},a=0;a<i.length;a++){var s=i[a];r[s.type]=s}e.getOptions().valueFormats=r,i=r}return i[t]?i[t]:"group"==t&&N.hasTimeAxis(e)?W.getValueFormat(e,"x"):"y"!=t&&"y2"!=t&&"min"!=t&&"max"!=t||!z.isBLAC(e)?{}:W.getValueFormat(e,"value")},W.formatValue=function(t,i,r,a,s,n){var o,l="auto",h="on";i.scaling&&(l=i.scaling),i.autoPrecision&&(h=i.autoPrecision),i.converter&&(o=i.converter),a=null!=a?a:r,s=null!=s?s:r,n=null!=n?n:0;var u=new e.LinearScaleAxisValueFormatter(t,a,s,n,l,h);return o&&(o.getAsString||o.format)?u.format(r,o):u.format(r)},W.formatDateValue=function(e,t){var i=e.converter;return i?i.getAsString?i.getAsString(t):i.format?i.format(t):null:null},W.isDataCursorEnabled=function(t){if(z.isPie(t)||z.isFunnel(t)||z.isPolar(t)||z.isPyramid(t))return!1;var i=t.getOptions();return"on"==i.dataCursor||"off"!=i.dataCursor&&e.Agent.isTouchDevice()&&z.isLineArea(t)},W.getDataCursorBehavior=function(e){var t=e.getOptions().dataCursorBehavior;return"snap"==t?v.BEHAVIOR_SNAP:"smooth"==t?v.BEHAVIOR_SMOOTH:z.isLineArea(e)?v.BEHAVIOR_SMOOTH:v.BEHAVIOR_SNAP};var z=new Object;e.Obj.createSubclass(z,e.Obj),z._SUPPORTED_TYPES=["bar","line","area","lineWithArea","combo","pie","bubble","scatter","funnel","pyramid","stock","boxPlot"],z.isValidType=function(t){return e.ArrayUtils.getIndex(z._SUPPORTED_TYPES,t.getType())>=0},z.isSpark=function(e){return e.getOptions().__spark},z.isOverview=function(e){return e.getOptions()._isOverview},z.isVertical=function(e){return!z.isHorizontal(e)&&!z.isPolar(e)},z.isHorizontal=function(e){return"horizontal"==e.getOptions().orientation&&!z.isPolar(e)&&!z.isStock(e)&&(z.isBLAC(e)||z.isFunnel(e))},z.isPolar=function(e){return"polar"==e.getOptions().coordinateSystem&&!z.isStock(e)&&!z.isBoxPlot(e)},z.isStacked=function(e){return!("on"!=e.getOptions().stack||N.isMixedFrequency(e)||H.getSeriesCount(e)<2)&&z.isBLAC(e)},z.isCombo=function(e){return"combo"==e.getType()},z.isBar=function(e){return"bar"==e.getType()},z.isLine=function(e){return"line"==e.getType()},z.isLineWithArea=function(e){return"lineWithArea"==e.getType()},z.isArea=function(e){return"area"==e.getType()},z.isStock=function(e){return"stock"==e.getType()},z.isBoxPlot=function(e){return"boxPlot"==e.getType()},z.isScatter=function(e){return"scatter"==e.getType()},z.isBubble=function(e){return"bubble"==e.getType()},z.isPie=function(e){return"pie"==e.getType()},z.isFunnel=function(e){return"funnel"==e.getType()},z.isPyramid=function(e){return"pyramid"==e.getType()},z.isDualY=function(e){return!(!z.hasAxes(e)||z.isScatterBubble(e)||z.isPolar(e))},z.isSplitDualY=function(e){return!(!z.isStock(e)||!H.hasVolumeSeries(e)||z.isOverview(e))||"on"==e.getOptions().splitDualY&&z.hasY2Data(e)&&!z.hasY2DataOnly(e)},z.isBLAC=function(e){var t=e.getType();return"bar"==t||"line"==t||"area"==t||"lineWithArea"==t||"combo"==t||"stock"==t||"boxPlot"==t},z.isScatterBubble=function(e){var t=e.getType();return"scatter"==t||"bubble"==t},z.isLineArea=function(e){var t=e.getType();return"line"==t||"area"==t||"lineWithArea"==t},z.isScrollSupported=function(e){return!(z.isPie(e)||z.isFunnel(e)||z.isPolar(e)||z.isPyramid(e))},z.isOverviewSupported=function(e){return z.isBLAC(e)&&z.isVertical(e)},z.isHorizScrollbarSupported=function(e){var t=U.getZoomDirection(e);return!z.isPolar(e)&&(z.isBLAC(e)&&z.isVertical(e)||z.isScatterBubble(e)&&"y"!=t)},z.isVertScrollbarSupported=function(e){var t=U.getZoomDirection(e);return!z.isPolar(e)&&(z.isBLAC(e)&&z.isHorizontal(e)||z.isScatterBubble(e)&&"x"!=t)},z.hasAxes=function(e){return!("pie"==e.getType()||"funnel"==e.getType()||"pyramid"==e.getType())},z.hasY2DataOnly=function(e){return!!z.isDualY(e)&&H.getY2SeriesCount(e,null,!0)==H.getSeriesCount(e)},z.hasY2Data=function(e,t){return!!z.isDualY(e)&&H.getY2SeriesCount(e,null,!0)>0},z.hasY2BarData=function(e){return z.hasY2Data(e,"bar")},z.hasBarSeries=function(e){return z._hasSeriesType(e,"bar")},z.hasLineSeries=function(e){return z._hasSeriesType(e,"line")},z.hasAreaSeries=function(e){return z._hasSeriesType(e,"area")},z.hasLineWithAreaSeries=function(e){return z._hasSeriesType(e,"lineWithArea")},z.hasCandlestickSeries=function(e){return z._hasSeriesType(e,"candlestick")},z.hasBoxPlotSeries=function(e){return z._hasSeriesType(e,"boxPlot")},z._hasSeriesType=function(e,t){if(z.isBLAC(e))for(var i=H.getSeriesCount(e),r=0;r<i;r++)if(V.isSeriesRendered(e,r)&&V.getSeriesType(e,r)==t)return!0;return!1},z.hasCenteredSeries=function(e){if(!z.isBLAC(e))return!1;for(var t=H.getSeriesCount(e),i=0;i<t;i++)if(V.isSeriesRendered(e,i)&&"bar"!=V.getSeriesType(e,i)){var r=V.getLineType(e,i);if("centeredSegmented"==r||"centeredStepped"==r)return!0}return!1},z.hasUncenteredSeries=function(e){if(!z.isBLAC(e))return!1;for(var t=H.getSeriesCount(e),i=0;i<t;i++)if(V.isSeriesRendered(e,i)&&"bar"!=V.getSeriesType(e,i)){var r=V.getLineType(e,i);if("segmented"==r||"stepped"==r)return!0}return!1},z.isStandalonePlotArea=function(e){var t=e.getOptions();return!(j.areTitlesRendered(e)||"off"!=t.legend.rendered||N.isAxisRendered(e,"x")||N.isAxisRendered(e,"y")||N.isAxisRendered(e,"y2"))},z.isStandaloneXAxis=function(e){var t=e.getOptions();return!j.areTitlesRendered(e)&&"off"==t.legend.rendered&&"off"==t.plotArea.rendered&&!N.isAxisRendered(e,"y")&&!N.isAxisRendered(e,"y2")},z.isStandaloneYAxis=function(e){var t=e.getOptions();return!j.areTitlesRendered(e)&&"off"==t.legend.rendered&&!N.isAxisRendered(e,"x")&&"off"==t.plotArea.rendered&&!N.isAxisRendered(e,"y2")},z.isStandaloneY2Axis=function(e){var t=e.getOptions();return!j.areTitlesRendered(e)&&"off"==t.legend.rendered&&!N.isAxisRendered(e,"x")&&!N.isAxisRendered(e,"y")&&"off"==t.plotArea.rendered};var X=new Object;e.Obj.createSubclass(X,e.Obj),X._MIN_BUBBLE_SIZE=6,X._MAX_BUBBLE_SIZE_RATIO=.5,X.calcBubbleSizes=function(t,i){for(var r,a,s=H.getMinMaxValue(t,"z"),n=s.min,o=s.max,l=X._MIN_BUBBLE_SIZE,h=X._MAX_BUBBLE_SIZE_RATIO*Math.min(i.w,i.h),u=H.getSeriesCount(t),g="withoutRescale"==U.getHideAndShowBehavior(t),d=0;d<u;d++)if(g||V.isSeriesRendered(t,d))for(var c=H.getSeriesItem(t,d),p=c.items?c.items.length:0,_=0;_<p;_++){var f=c.items[_];if(f){var S=e.LayoutUtils.getBubbleSize(f.z,n,o,l,h);f.markerSize=S}}z.isPolar(t)?(r=1/0,a=t.getRadius()):(r=i.w-2.4*N.getTickLabelHeight(t,"y"),a=i.h-1.6*N.getTickLabelHeight(t,"x")),r-=.5*h,a-=.5*h;var C=t.getCache(),m=X._getAxisValueRange(t,"x");C.putToCache("_xAxisBubbleRatio",m/r);var y=X._getAxisValueRange(t,"y");C.putToCache("_yAxisBubbleRatio",y/a)},X.getBubbleAxisRadius=function(e,t,i){if(!i)return 0;var r="x"==t?"_xAxisBubbleRatio":"_yAxisBubbleRatio";return i/2*e.getCache().getFromCache(r)},X._getAxisValueRange=function(t,i){var r=t.getOptions()[i+"Axis"],a=N.isLog(t,i),s=!a&&"zero"==N.getBaselineScaling(t,i),n=H.getMinMaxValue(t,i,!0),o=r.min;null==o&&(o=s?Math.min(0,n.min):n.min);var l=r.max;return null==l&&(l=s?Math.max(0,n.max):n.max),a&&l>0&&o>0?l==o?6:e.Math.log10(l/o):l==o?60:l-o},X.sortMarkers=function(e){e.sort(X._compareSize)},X.sortMarkerInfos=function(e){e.sort(X._compareInfoSize)},X._compareSize=function(e,t){return t.getSize()-e.getSize()},X._compareInfoSize=function(e,t){return t.size-e.size},X.checkPixelMap=function(e,t,i,r){var a=r/2,s=Math.max(Math.floor(t-a),0),n=Math.max(Math.floor(i-a),0),o=Math.max(Math.ceil(t+a),0),l=Math.max(Math.ceil(i+a),0);return e.isObscured(s,n,o,l)},X.updatePixelMap=function(e,t,i,r,a){var s=.4*r,n=Math.max(Math.round(t-s),0),o=Math.max(Math.round(t+s),0),l=Math.max(Math.round(i-s),0),h=Math.max(Math.round(i+s),0);e.obscure(n,l,o,h,a)};var Z=new Object;e.Obj.createSubclass(Z,e.Obj),Z.OTHER_SLICE_SERIES_ID="_dvtOther",Z.getSliceId=function(e,t){var i=H.getDataItem(e,t,0),r=i?i.id:null,a=H.getSeries(e,t),s=H.getGroup(e,0);return new n(r,a,s,e.getCtx())},Z.getOtherSliceId=function(e){var t=H.getGroup(e,0);return new n(null,Z.OTHER_SLICE_SERIES_ID,t,e.getCtx())},Z.getRenderedSeriesIndices=function(e){return Z._getSeriesIndicesArrays(e).rendered},Z.hasOtherSeries=function(e){return Z._getSeriesIndicesArrays(e).other.length>0},Z.getOtherValue=function(e){for(var t=Z._getSeriesIndicesArrays(e).other,i=0,r=0;r<t.length;r++){var a=t[r];if(V.isSeriesRendered(e,a)){var s=H.getValue(e,a,0);s>0&&(i+=s)}}return i},Z.getOtherSliceIds=function(e){for(var t=Z._getSeriesIndicesArrays(e).other,i=[],r=0;r<t.length;r++){var a=t[r];i.push(Z.getSliceId(e,a))}return i},Z.isOtherSliceSelected=function(e,t){for(var i=Z.getOtherSliceIds(e),r=0;r<i.length;r++){for(var a=i[r],s=!1,n=0;n<t.length;n++)if(t[n].id&&a.getId()===t[n].id||a.getSeries()===t[n].series&&a.getGroup()===t[n].group){s=!0;break}if(!s)return!1}return!0},Z._getSeriesIndicesArrays=function(e){for(var t=[],i=[],r=H.getSeriesCount(e),a=e.getOptions(),s=a.otherThreshold*Z.getTotalValue(e),n=0;n<r;n++){var o=H.getValue(e,n,0);s>0&&o<s?i.push(n):t.push(n)}return"ascending"==a.sorting?t.sort(function(t,i){return H.getValue(e,t,0)-H.getValue(e,i,0)}):"on"!=a.sorting&&"descending"!=a.sorting||t.sort(function(t,i){return H.getValue(e,i,0)-H.getValue(e,t,0)}),{rendered:t,other:i}},Z.getTotalValue=function(e){for(var t=H.getSeriesCount(e),i=0,r=0;r<t;r++){var a=H.getValue(e,r,0);a>0&&(i+=a)}return i},Z.getSliceExplode=function(e,t){var i=H.getSeriesItem(e,t);return i&&i.pieSliceExplode?i.pieSliceExplode:0},Z.getOtherSliceShowPopupBehaviors=function(e){var t=Z.getOtherSliceIds(e);if(t&&t.length>=1){var i=t[0],r=H.getSeriesIndex(e,i.getSeries()),a=H.getDataItem(e,r,0)._id;return e.getShowPopupBehaviors(a)}},Z.getSliceBySeriesIndex=function(e,t){for(var i=e.pieChart.__getSlices(),r=0;r<i.length;r++)if(i[r].getSeriesIndex()==t)return i[r];return null};var K=function(){};e.Obj.createSubclass(K,e.Obj),K.TWOD="2D",K.THREED="3D",K.CRUST="CRUST",K.SIDE="SIDE",K.BORDER="BORDER",K.SURFACE_CRUST=0,K.SURFACE_LEFT=1,K.SURFACE_RIGHT=2,K.SURFACE_TOP=3,K.reflectAngleOverYAxis=function(t,i,r,a,s){var n=e.Math.degreesToRads(360-t);return{x:i+Math.cos(n)*a,y:r+Math.sin(n)*s}},K.getGradientColors=function(t,i,r){if(r&&r!=e.CSSStyle.SKIN_SKYROS){if(i==K.TWOD||i==K.THREED)return[e.ColorUtils.adjustHSL(t,0,-.04,-.05),e.ColorUtils.adjustHSL(t,0,-.09,.04)];if(i==K.CRUST)return[e.ColorUtils.adjustHSL(t,0,-.04,-.05),e.ColorUtils.adjustHSL(t,0,0,-.14)];if(i==K.SIDE)return[e.ColorUtils.adjustHSL(t,0,-.1,.06),e.ColorUtils.adjustHSL(t,0,-.04,-.05)]}else{if(i==K.TWOD){var a=[];return a[0]=e.ColorUtils.getRGB(e.ColorUtils.getBrighter(t,.1)),a[1]=a[0],a[2]=e.ColorUtils.getRGB(e.ColorUtils.getDarker(t,.1)),a}if(i==K.BORDER)return["#FFFFFF","#000000","#000000"];var s=e.ColorUtils.getRGB(e.ColorUtils.getDarker(t,.12)),n=e.ColorUtils.getRGB(e.ColorUtils.getBrighter(t,.05)),o=e.ColorUtils.getRGB(e.ColorUtils.getBrighter(t,.15)),l=e.ColorUtils.getRGB(e.ColorUtils.getBrighter(t,.35));if(i==K.CRUST)return[s,o,l,s];if("SIDE"==i)return[s,l];if("3D"==i)return[l,o,s,n,l]}},K.getGradientAlphas=function(e,t){var i=null==e||isNaN(e)||0==e?1:e;return t==K.TWOD?[i,i,i]:t==K.BORDER?[i/1.59375,i/5.3125,i/(255/96)]:t==K.THREED?[i,i,i,i,i]:t==K.CRUST?[i,i,i,i]:t==K.SIDE?[i,i]:void 0},K.getGradientRatios=function(t,i){return i&&i!=e.CSSStyle.SKIN_SKYROS?[0,1]:t==K.TWOD?[.2,.5,1]:t==K.BORDER?[0,.5,1]:t==K.THREED?[0,.29,.55,.84,1]:t==K.CRUST?[0,.43,.91,1]:t==K.SIDE?[0,1]:void 0},K.createTopSurface=function(t,i){var r=t.getPieChart(),a=r.getCtx(),s=t.getCenter(),n=t.getInnerRadius(),o=r.is3D()||t.getSliceGaps()>Math.sin(e.Math.degreesToRads(t.getAngleExtent()))*t._radiusX+1?null:t.getSliceGaps(),l=new h(a,s.x,s.y,t._radiusX,t._radiusY,t.getAngleStart(),t.getAngleExtent(),o,n),u=V.getSelectedInnerColor(r.chart),g=V.getSelectedOuterColor(r.chart),d=new e.SolidStroke(t.getStrokeColor(),null,t.getBorderWidth()),c=t.getSeriesIndex(),p=V.getClassName(r.chart,c,0),_=V.getStyle(r.chart,c,0);l.setStyleProperties(i,d,t.getFillColor(),u,g,p,_);var f=[l];if(!t.getStrokeColor()&&r.getSkin()==e.CSSStyle.SKIN_SKYROS&&r.is3D()&&t.getDepth()>0&&"gradient"==V.getSeriesEffect(r.chart)&&(t.getAngleStart()>=180||t.getAngleStart()+t.getAngleExtent()>=180||360==t.getAngleExtent())){var S=K._createGradientPieBorder(t,i);S.setTranslate(t.__getExplodeOffsetX(),t.__getExplodeOffsetY()),f.push(S)}return K.associate(t,f),f},K.associate=function(e,t){if(t)for(var i=0;i<t.length;i++)e.getPieChart().chart.getEventManager().associate(t[i],e)},K._createGradientPieBorder=function(t,i){var r=K.BORDER,a=K.getGradientColors(null,r),s=K.getGradientAlphas(null,r),n=K.getGradientRatios(r),o=i.getBounds(),l=new e.LinearGradientStroke(120,a,s,n,o);l.setWidth(1);var h=t.getAngleStart(),u=h<180?180-h:0,g=u>0?180:h,d=t.getAngleExtent()-u;g+d>360&&(d=360-g);var c=t.getPieChart(),p=t.getCenter(),_=new e.Arc(c.getCtx(),p.x,p.y,c.getRadiusX(),c.getRadiusY(),g,d,e.Arc.OPEN);return _.setStroke(l),_},K.createLateralSurface=function(t,i,r){if(0==t.getAngleExtent())return[];var a=[];if(e.ColorUtils.getAlpha(t.getFillColor())>0)if(i==K.SURFACE_LEFT||i==K.SURFACE_RIGHT)a.push(K._generateLateralShape(t,i,null,r));else if(i==K.SURFACE_CRUST)for(var s=K._createCrustPathCommands(t),n=s.length,o=0;o<n;o++)a.push(K._generateLateralShape(t,i,s[o],r));return K.associate(t,a),a},K.generateLateralGradientFill=function(t,i){var r=t.getPieChart(),a=r.getSkin(),s=i==K.CRUST?t.getDepth():0,n=a==e.CSSStyle.SKIN_SKYROS?0:270,o=K.getGradientColors(e.ColorUtils.getRGB(t.getFillColor()),i,a),l=K.getGradientAlphas(e.ColorUtils.getAlpha(t.getFillColor()),i),h=K.getGradientRatios(i,a),u=null;return a==e.CSSStyle.SKIN_SKYROS&&(u=[Math.floor(t.getCenter().x-r.getRadiusX()),Math.floor(t.getCenter().y-r.getRadiusY())+s,Math.ceil(2*r.getRadiusX()),Math.ceil(2*r.getRadiusY())]),new e.LinearGradientFill(n,o,l,h,u)},K._generateLateralShape=function(t,i,r,a){var s=t.getPieChart().getCtx();if(i==K.SURFACE_LEFT||i==K.SURFACE_RIGHT){for(var n=t.getAngleStart(),o=t.getAngleExtent(),l=t.getCenter().x,h=t.getCenter().y,u=t._radiusX,g=t._radiusY,d=t.getDepth(),c=i==K.SURFACE_LEFT?K.reflectAngleOverYAxis(n+o,l,h,u,g):K.reflectAngleOverYAxis(n,l,h,u,g),p=K._generateInnerPoints(l,h,c.x,c.y,d),_=[],f=0;f<p.length;f++)_.push(p[f].x,p[f].y);var S=new e.Polygon(s,_);return S.setFill(a),t.getStrokeColor()&&S.setSolidStroke(t.getStrokeColor()),S}if(r){var C=new e.Path(s,null);return C.setCmds(r),C.setTranslate(t.__getExplodeOffsetX(),t.__getExplodeOffsetY()),C.setFill(a),t.getStrokeColor()&&C.setSolidStroke(t.getStrokeColor()),C}return null},K._createCrustPathCommands=function(e){var t=e.getAngleStart(),i=e.getAngleExtent(),r=t+i,a=e.getCenter().x,s=e.getCenter().y,n=e._radiusX,o=e._radiusY,l=e.getDepth(),h=[];return t<180&&r>360?(h.push(K._makeOuterPath(a,s,n,o,l,t,180-t)),h.push(K._makeOuterPath(a,s,n,o,l,360,r-360)),h.push(K._makeOuterPath(a,s,n,o,l,180,180))):r>360?(h.push(K._makeOuterPath(a,s,n,o,l,t,360-t)),h.push(K._makeOuterPath(a,s,n,o,l,360,r-360))):t<180&&r>180?(h.push(K._makeOuterPath(a,s,n,o,l,t,180-t)),h.push(K._makeOuterPath(a,s,n,o,l,180,r-180))):h.push(K._makeOuterPath(a,s,n,o,l,t,i)),h},K._makeOuterPath=function(t,i,r,a,s,n,o){var l=e.Math.degreesToRads(o),h=-(e.Math.degreesToRads(n)+l),u=K.reflectAngleOverYAxis(n,t,i,r,a),g=t+Math.cos(h)*r,d=i+Math.sin(h)*a,c=e.PathUtils.moveTo(u.x,u.y);return c+=e.PathUtils.arcTo(r,a,l,0,g,d),c+=e.PathUtils.lineTo(g,d+s),(c+=e.PathUtils.arcTo(r,a,l,1,u.x,u.y+s))+e.PathUtils.lineTo(u.x,u.y)},K._generateInnerPoints=function(e,t,i,r,a){var s=[];return s.push({x:e,y:t}),s.push({x:i,y:r}),s.push({x:i,y:r+a}),s.push({x:e,y:t+a}),s};var q=function(){this._init()};e.Obj.createSubclass(q,e.Obj),q.prototype._init=function(){this._sliceLabel=null,this._slice=null,this._angle=-1,this._position=-1,this._width=-1,this._height=-1,this._x=-1,this._y=-1,this._initialNumLines=-1,this._hasFeeler=!1,this._maxY=-1,this._minY=-1},q.prototype.getAngle=function(){return this._angle},q.prototype.setAngle=function(e){this._angle=e},q.prototype.getHeight=function(){return this._height},q.prototype.setHeight=function(e){this._height=e},q.prototype.getInitialNumLines=function(){return this._initialNumLines},q.prototype.setInitialNumLines=function(e){this._initialNumLines=e},q.prototype.getMaxY=function(){return this._maxY},q.prototype.setMaxY=function(e){this._maxY=e},q.prototype.getMinY=function(){return this._minY},q.prototype.setMinY=function(e){this._minY=e},q.prototype.boundY=function(e){return this._minY<=this._maxY&&(e=Math.max(e,this._minY),e=Math.min(e,this._maxY)),e},q.prototype.hasFeeler=function(){return this._hasFeeler},q.prototype.setHasFeeler=function(e){this._hasFeeler=e},q.prototype.getPosition=function(){return this._position},q.prototype.setPosition=function(e){this._position=e},q.prototype.getSlice=function(){return this._slice},q.prototype.setSlice=function(e){this._slice=e},q.prototype.getSliceLabel=function(){return this._sliceLabel},q.prototype.setSliceLabel=function(e){this._sliceLabel=e},q.prototype.getWidth=function(){return this._width},q.prototype.setWidth=function(e){this._width=e},q.prototype.getX=function(){return this._x},q.prototype.setX=function(e){this._x=e},q.prototype.getY=function(){return this._y},q.prototype.setY=function(e){this._y=e};var Q=function(){};e.Obj.createSubclass(Q,e.Obj),Q._MAX_LINES_PER_LABEL=3,Q._COLLISION_MARGIN=1,Q._LEFT_SIDE_LABELS=1,Q._RIGHT_SIDE_LABELS=2,Q._OUTSIDE_LABEL_DISTANCE=1.04,Q._FEELER_RAD_MINSIZE=.1,Q._FEELER_HORIZ_MINSIZE=.1,Q._LABEL_TO_FEELER_OFFSET=.5,Q._LABEL_TO_FEELER_DISTANCE=3,Q._NO_COLLISION=0,Q._HALF_COLLISION=1,Q._ALL_COLLISION=2,Q.layoutLabelsAndFeelers=function(e){var t=e.getLabelPosition();Q._layoutInsideLabels(e,"auto"==t),Q._layoutOutsideLabelsAndFeelers(e)},Q._layoutInsideLabels=function(t,i){for(var r=t.__getSlices(),a=0;a<r.length;a++){var s=r[a],n=t.getSeriesLabelPosition(s.getSeriesIndex());if("none"!=n&&"outsideSlice"!=n&&!Q._skipSliceLabel(t,s)){var o=s.getAngleStart()+s.getAngleExtent()/2,l=s.getInnerRadius(),h=s.getCenter(),u=0,g=0,d=Q._createLabel(s,!0);if(1==r.length)u=h.x,g=h.y;else{var c=Math.max(.45,.65-.45*l/Math.max(s.getRadiusY(),.001)),p=K.reflectAngleOverYAxis(o,h.x,h.y,l+(s.getRadiusX()-l)*c,l+(s.getRadiusY()-l)*c);u=p.x,g=p.y}d.setX(u),d.setY(g),d.alignMiddle(),d.alignCenter();for(var _=d.getDimensions(),f=u,S=u,C=g-_.h/2,m=g+_.h/2;s.contains(f,C)&&s.contains(f,m);)f--;for(;s.contains(S,C)&&s.contains(S,m);)S++;f=Math.ceil(f+3),S=Math.floor(S-3);var y=2*Math.min(u-f,S-u);if(y<_.w&&(d.setX((f+S)/2),y=S-f),i&&"center"!=n)d.getDimensions().w<y?s.setSliceLabel(d):s.setSliceLabel(null);else{var v=t.getCtx().getStage(),A=Q._isTextLabel(t,s)?null:d.getTextString().length;e.TextUtils.fitText(d,y,_.h,v,A)&&(v.removeChild(d),s.setSliceLabel(d))}null!=s.getSliceLabel()&&s.setNoOutsideFeeler()}}},Q._layoutOutsideLabelsAndFeelers=function(e){var t,i,r=Q._generateInitialLayout(e);t=r[0],i=r[1];var a=Q._refineInitialLayout(e,t,Q._LEFT_SIDE_LABELS),s=Q._refineInitialLayout(e,i,Q._RIGHT_SIDE_LABELS);a==Q._HALF_COLLISION&&s!=Q._NO_COLLISION&&Q._columnLabels(e,t,!0,!0,!0),a!=Q._NO_COLLISION&&s==Q._HALF_COLLISION&&Q._columnLabels(e,i,!1,!0,!0),Q._setLabelsAndFeelers(e,t,Q._LEFT_SIDE_LABELS),Q._setLabelsAndFeelers(e,i,Q._RIGHT_SIDE_LABELS)},Q._createLabel=function(t,i){var r=t.getPieChart(),a=r.getCtx(),s=i?new e.OutputText(a):new e.MultilineText(a),n=r.getOptions().styleDefaults,o=[n.dataLabelStyle],l=H.getDataItem(r.chart,t.getSeriesIndex(),0);l&&o.push(new e.CSSStyle(l.labelStyle));var h=e.CSSStyle.mergeStyles(o),u=null!=h.getStyle("color");if(!i||u&&!e.Agent.isHighContrast())u||h.setStyle("color",n._defaultSliceLabelColor);else{var g=e.ColorUtils.getContrastingTextColor(t.getFillColor());h.setStyle("color",g)}s.setCSSStyle(h);var d=Q.generateSliceLabelString(t,n.sliceLabelType);return s.setTextString(d),t.setSliceLabelString(d),s},Q.createPieCenter=function(t){var i=t.getOptions(),r=t.getCtx(),a=Q.getPieCenterOptions(i),s=a.label,n=a.renderer,o=t.getLabelPosition(),l=i.tooltip,h=l?l.renderer:null,u=t.getCenter(),g=t.getInnerRadius();if(s||n){var d=t.getRadiusX(),c=(g=g>0?g:"outsideSlice"==o?.9*d:.5*d)*Math.sqrt(2);if(s){var p=new e.MultilineText(r),_=a.labelStyle;if(p.setCSSStyle(_),"number"==typeof s&&(s=W.formatValue(r,a,s,s,s,0)),p.setTextString(s),e.TextUtils.fitText(p,c,c,t)){var f=p.getDimensions();p.setY(u.y-f.h/2),p.setX(u.x),p.alignCenter(),h||t.chart.getEventManager().associate(p,new e.SimpleObjPeer(p.getTextString(),null,null,{type:"pieCenterLabel"})),t.addChild(p),t.setCenterLabel(p)}}if(h){var S=new e.Circle(r,u.x,u.y,g);S.setInvisibleFill(),t.addChild(S);var C=t.getCtx().getTooltipManager();t.chart.getEventManager().associate(S,new e.CustomDatatipPeer(C,h,"#4b4b4b",{component:i._widgetConstructor,label:s}))}if(n){var m={outerBounds:{x:u.x-g,y:u.y-g,width:2*g,height:2*g},innerBounds:{x:u.x-c/2,y:u.y-c/2,width:c,height:c},label:s,component:i._widgetConstructor},y=r.getContainer(),v=t.chart.pieCenterDiv;v&&y.removeChild(v);var A=n(m);if(!A)return;var x=r.createOverlayDiv();x.appendChild(A),t.chart.pieCenterDiv=x,y.appendChild(x);var b=r.getOverlayAttachedCallback();b&&b(x)}}},Q.generateSliceLabelString=function(e,t){var i,r=Q.getDefaultSliceLabelString(e,t),a=e.getPieChart().getOptions().dataLabel;if(a){var s=H.getDataContext(e._chart,e.getSeriesIndex(),0);if(s.label=r,"number"==typeof(i=a(s))){var n=W.getValueFormat(e.getPieChart().chart,"label")
;i=W.formatValue(e.getPieChart().getCtx(),n,i)}}return i||r},Q.getDefaultSliceLabelString=function(e,t){var i=e.getPieChart(),r=e.getCustomLabel(),a=W.getValueFormat(i.chart,"label");return null!=r?"number"==typeof r?W.formatValue(i.getCtx(),a,r):r:"percent"==t?Q.generateSlicePercentageString(e):"number"==t?W.formatValue(i.getCtx(),a,e.getValue()):"text"==t?e.getSeriesLabel():"textAndPercent"==t?e.getSeriesLabel()+", "+Q.generateSlicePercentageString(e):null},Q.generateSlicePercentageString=function(e){var t=e.getPieChart(),i=t.getTotalValue(),r=0==i?0:e.getValue()/i,a=r<.01?3:r<.1?2:r<1?1:0;2*t.getRadiusX()<150&&(a=Math.max(a-1,0));var s=t.getCtx().getNumberConverter({style:"percent",maximumFractionDigits:a,minimumFractionDigits:a}),n="";return s&&s.getAsString?n=s.getAsString(r):s&&s.format?n=s.format(r):(r*=100,n=W.formatValue(t.getCtx(),{},r,null,null,100==r?1:Math.pow(10,-1*a))+"%"),n},Q._refineInitialLayout=function(e,t,i){if(t&&t.length>0){for(var r,a=e.__getFrame().y,s=!1,n=!1,o=!1,l=0,h=!1,u=h,g=i==Q._LEFT_SIDE_LABELS,d=0;d<t.length;d++)u=h,(r=t[d]).getPosition()>90&&(h=!0),l=r.getY()+r.getHeight(),a-r.getY()>Q._COLLISION_MARGIN&&(h?h&&!u?n=!0:o=!0:s=!0),l>a&&(a=l);return s&&o||n?(Q._columnLabels(e,t,g,!0,!0),Q._ALL_COLLISION):s?(Q._columnLabels(e,t,g,!0,!1),Q._HALF_COLLISION):o?(Q._columnLabels(e,t,g,!1,!0),Q._HALF_COLLISION):Q._NO_COLLISION}},Q._setLabelsAndFeelers=function(t,i,r){if(!(null==i||i.length<=0)){var a,s,n,o,l,h=r==Q._LEFT_SIDE_LABELS,u=t.__getFrame(),g=1/0;for(a=0;a<i.length;a++)if(s=(o=i[a]).getSlice(),o.hasFeeler()){l=Q._calculateFeeler(o,s,h);var d=e.TextUtils.getTextStringHeight(t.getCtx(),o.getSliceLabel().getCSSStyle()),c=o.getWidth(),p=Q._isTextLabel(t,s)?Math.min(2*d,c):c;if(Q.getMaxLabelWidth(t,o.getX(),h)+l<p||0==o.getWidth()){o.setSliceLabel(null),s.setNoOutsideFeeler();continue}g=Math.min(g,l)}else s.setNoOutsideFeeler();for(a=0;a<i.length;a++)s=(o=i[a]).getSlice(),(n=o.getSliceLabel())&&(o.hasFeeler()&&(h?o.setX(o.getX()+g):o.setX(o.getX()-g),Q._calculateFeeler(o,s,h)),n.setY(o.getY()),n.setX(o.getX()),o.getY()<u.y||o.getY()+o.getHeight()>u.y+u.h?(s.setSliceLabel(null),s.setNoOutsideFeeler()):(Q._truncateSliceLabel(t,s,o,h),0==o.getWidth()||0==o.getHeight()?(s.setSliceLabel(null),s.setNoOutsideFeeler()):s.setSliceLabel(n)))}},Q._calculateFeeler=function(t,i,r){var a,s=t.getX(),n=t.getY()+t.getHeight()*Q._LABEL_TO_FEELER_OFFSET,o=Q._FEELER_HORIZ_MINSIZE*i.getRadiusX(),l={x:r?(s+=Q._LABEL_TO_FEELER_DISTANCE)+o:(s-=Q._LABEL_TO_FEELER_DISTANCE)-o,y:n},h={x:s,y:n},u=t.getAngle(),g=Q._adjustForDepth(u,i.getDepth());a=K.reflectAngleOverYAxis(u,i.getCenter().x,i.getCenter().y+g,i.getRadiusX(),i.getRadiusY());var d=e.Math.degreesToRads(t.getPosition()),c=Math.abs(Math.atan2(l.x-a.x,a.y-l.y)),p=(a.y-l.y)*Math.tan(d);return(d>Math.PI/2&&c>Math.PI/2&&c<d||d<Math.PI/2&&c<Math.PI/2&&c>d)&&(l.x=r?a.x-p:a.x+p),i.setOutsideFeelerPoints(a,l,h),Math.abs(h.x-l.x)-o},Q._adjustForDepth=function(e,t){var i=0;return e>189&&e<351&&(i=t),i},Q._getMiddleLabel=function(e){for(var t=91,i=-1,r=0;r<e.length;r++){var a=e[r].getPosition();Math.abs(a-90)<t&&(t=Math.abs(a-90),i=r)}return i},Q._setOptimalLabelPosition=function(t,i,r,a){i.setX(r);var s=t.getRadiusY()*(1+Q._FEELER_RAD_MINSIZE),n=e.Math.degreesToRads(i.getPosition()),o=s*Math.cos(n),l=Q._adjustForDepth(i.getAngle(),t.getDepth()),h=t.getCenter().y-o-i.getHeight()*Q._LABEL_TO_FEELER_OFFSET+l;i.setY(i.boundY(h))},Q._getRadFeelerAngle=function(e,t,i){var r=e.getSlice(),a=r.getCenter(),s=e.getAngle(),n=Q._adjustForDepth(s,r.getDepth()),o=K.reflectAngleOverYAxis(s,a.x,a.y+n,r.getRadiusX(),r.getRadiusY());return Math.atan2(Math.abs(t-o.x),o.y-i)},Q._columnLabels=function(t,i,r,a,s){var n,o,l,h=t.__getFrame(),u=h.y,g=h.y+h.h,d=0,c=t.getCenter().x,p=t.getRadiusX()*(1+Q._FEELER_RAD_MINSIZE+Q._FEELER_HORIZ_MINSIZE);for(l=r?(c-=p)+t.getRadiusX()*Q._FEELER_HORIZ_MINSIZE:(c+=p)-t.getRadiusX()*Q._FEELER_HORIZ_MINSIZE,n=0;n<i.length;n++)o=i[n],d=e.Math.degreesToRads(o.getPosition()),Q._getRadFeelerAngle(o,l,u)-d>.45*Math.PI||Q._skipSliceLabel(t,o.getSlice())?(i.splice(n,1),n--):(i[n].setMinY(u),u+=i[n].getHeight());for(n=i.length-1;n>=0;n--)o=i[n],(d=e.Math.degreesToRads(o.getPosition()))-Q._getRadFeelerAngle(o,l,g)>.45*Math.PI||Q._skipSliceLabel(t,o.getSlice())?i.splice(n,1):(g-=i[n].getHeight(),i[n].setMaxY(g));if(0!=i.length){var _=Q._getMiddleLabel(i),f=i[_];a&&!s&&f.getMinY()+f.getHeight()>t.getCenter().y&&(s=!0),s&&!a&&f.getMaxY()<t.getCenter().y&&(a=!0);var S=f.getPosition();(s&&a||S>90&&s||S<=90&&a)&&(Q._setOptimalLabelPosition(t,f,c,r),f.setHasFeeler(!0));var C,m,y=f.getY(),v=f.getY()+f.getHeight();if(a)for(n=_-1;n>=0;n--)m=(o=i[n]).getHeight(),Q._setOptimalLabelPosition(t,o,c,r),o.setHasFeeler(!0),(C=o.getY())+m<y?y=C:y-=m,o.setY(y);if(s)for(n=_+1;n<i.length;n++)m=(o=i[n]).getHeight(),Q._setOptimalLabelPosition(t,o,c,r),o.setHasFeeler(!0),(C=o.getY())>v?v=C+m:v+=m,o.setY(v-m)}},Q._truncateSliceLabel=function(e,t,i,r){var a,s,n=i.getSliceLabel(),o=n.getCSSStyle(),l=e.getNumChildren(),h=!1;e.contains(n)||(e.addChild(n),h=!0),n.setCSSStyle(o);var u=t.getSliceLabelString();return n.setTextString(u),h&&e.removeChildAt(l),a=Q.getMaxLabelWidth(e,i.getX(),r),s=Q._getTextDimension(e,t,n,a,i.getInitialNumLines()),i.setWidth(s.x),i.getHeight()!=s.y&&(i.setHeight(s.y),!0)},Q._generateInitialLayout=function(e){for(var t=new Array(2),i=[],r=[],a=e.__getSlices(),s=e.__getFrame(),n=0;n<a.length;n++){var o=a[n],l=e.getSeriesLabelPosition(o.getSeriesIndex());if(null==o.getSliceLabel()&&"none"!=l&&"center"!=l&&!Q._skipSliceLabel(e,o)){var h=Q._createLabel(o,!1),u=o.getAngleStart()+o.getAngleExtent()/2;u>360&&(u-=360),u<0&&(u+=360);var g=K.reflectAngleOverYAxis(u,e.getCenter().x,e.getCenter().y,e.getRadiusX()*Q._OUTSIDE_LABEL_DISTANCE,e.getRadiusY()*Q._OUTSIDE_LABEL_DISTANCE),d=u>=90&&u<270,c=Q.getMaxLabelWidth(e,g.x,d),p=Q._getTextDimension(e,o,h,c,Q._MAX_LINES_PER_LABEL);u<165&&u>15?g.y-=1*p.y:u<15||u>345?(g.y-=.5*p.y,g.x+=.2*p.y):u>165&&u<195&&(g.y-=.5*p.y,g.x-=.2*p.y);var _,f=Q._adjustForDepth(u,e.getDepth());g.y+=f,1==a.length&&(g.x-=p.x/2),g.y<s.y||g.y+p.y>s.y+s.h||(u>=90&&u<270?(h.alignRight(),_=u-90,Q._createLabelInfo(o,h,u,_,p,g,i)):(_=u<=90?Math.abs(90-u):180-(u-270),Q._createLabelInfo(o,h,u,_,p,g,r)))}}return t[0]=i,t[1]=r,t},Q._createLabelInfo=function(e,t,i,r,a,s,n){for(var o,l=-1,h=t,u=0;u<n.length;u++)if((o=n[u]).getPosition()>r){l=u;break}-1==l&&(l=n.length),(o=new q).setPosition(r),o.setAngle(i),o.setSliceLabel(h),o.setSlice(e),o.setWidth(a.x),o.setHeight(a.y),o.setX(s.x),o.setY(s.y),o.setInitialNumLines(h.getLineCount()),n.splice(l,0,o)},Q._getTextDimension=function(t,i,r,a,s){r.setMaxLines(s);var n=Q._isTextLabel(t,i)?null:r.getTextString().length;if(e.TextUtils.fitText(r,a,1/0,t,n)){t.addChild(r);var o=r.getDimensions();return t.removeChild(r),{x:o.w,y:o.h}}return{x:0,y:0}},Q._isTextLabel=function(e,t){var i=t.getCustomLabel(),r=null!=e.getOptions().dataLabel;return-1!=e.getOptions().styleDefaults.sliceLabelType.indexOf("text")||null!=i&&"number"!=typeof i||r},Q.getMaxLabelWidth=function(e,t,i){var r=e.__getFrame();return i?t-r.x:r.x+r.w-t},Q.getPieCenterOptions=function(t){var i=e.JsonUtils.clone(t.pieCenter),r=t.pieCenterLabel;if(r){var a=r.style,s=r.text;s&&(i.label=s),a&&(i.labelStyle=new e.CSSStyle(a))}return i},Q._skipSliceLabel=function(e,t){return t.getAngleExtent()<3&&H.getSeriesCount(e.chart)>120};var J=new Object;e.Obj.createSubclass(J,e.Obj),J._BUTTON_SIZE=16,J._BUTTON_PADDING=5,J._BUTTON_CORNER_DIST=4,J._BUTTON_OPACITY=.8,J._MOUSE_WHEEL_ZOOM_RATE_SLOW=.05,J._MOUSE_WHEEL_ZOOM_RATE_FAST=.2,J.render=function(e,t,i){if(J._renderBackground(e,t,i),H.hasInvalidData(e))J.renderEmptyText(e,t,i);else{z.isOverview(e)||(e.getOptions()._maxOverflowCoord=i.x+i.w,e.getOptions()._minOverflowCoord=i.x),J._addOuterGaps(e,i);var r=i.clone();J._renderTitles(e,t,i),J._adjustAvailSpace(i),ee.render(e,t,i),J._adjustAvailSpace(i);var a=J._prerenderHorizScrollbar(e,t,i),s=J._prerenderVertScrollbar(e,t,i);J._adjustAvailSpace(i),e.__setAxisSpace(i.clone()),$.render(e,t,i),J._adjustAvailSpace(i),J._positionLegend(e.legend,i),e.__setPlotAreaSpace(i.clone()),J._setEventHandlers(e),J._renderScrollbars(e,a,s),J._updateTitles(e,t,r,i),J._renderPlotArea(e,t,i),z.isPolar(e)&&t.addChild(e.yAxis),J._renderDragButtons(e,t)}},J._setEventHandlers=function(t){var i=t.getOptions(),r=t.getEventManager();if(z.hasAxes(t)&&!z.isOverview(t)){var a,s,n=new e.Rectangle(0,0,t.getWidth(),t.getHeight()),o=t.__getPlotAreaSpace(),l=t.__getAxisSpace(),h=new e.Rectangle(o.x,l.y,o.w,l.h),u=new e.Rectangle(l.x,o.y,l.w,o.h),g=new e.SolidFill(i.styleDefaults.marqueeColor),d=new e.SolidStroke(i.styleDefaults.marqueeBorderColor);if(U.isScrollable(t)){var c=U.isDelayedScroll(t)?J._MOUSE_WHEEL_ZOOM_RATE_FAST:J._MOUSE_WHEEL_ZOOM_RATE_SLOW;if((s=new e.PanZoomHandler(t,o,n,c)).setPanCursor(i._resources.panCursorUp,i._resources.panCursorDown),r.setPanZoomHandler(s),U.isZoomable(t)){var p=U.getZoomDirection(t);a=z.isHorizontal(t)||"y"==p?new e.MarqueeHandler(t,o,n,g,d,!1,!0,null,u):z.isBLAC(t)||"x"==p?new e.MarqueeHandler(t,o,n,g,d,!0,!1,h,null):new e.MarqueeHandler(t,o,n,g,d,!0,!0,h,u),r.setMarqueeZoomHandler(a)}}"multiple"==i.selectionMode&&(a=new e.MarqueeHandler(t,o,n,g,d,!0,!0,h,u),r.setMarqueeSelectHandler(a))}},J.rerenderAxisAndPlotArea=function(e,t){if(!H.hasInvalidData(e)){var i=e.__getAxisSpace().clone(),r=e.getSelectionHandler();if(r)var a=r.getSelectedIds();var s=e.__cacheChartFocus();e.__cleanUpAxisAndPlotArea(),$.render(e,t,i),J._adjustAvailSpace(i),e.__setPlotAreaSpace(i.clone()),J._renderPlotArea(e,t,i),r&&r.processInitialSelections(a,e.getChartObjPeers()),e.getEventManager().autoToggleZoomButton(),J.positionDragButtons(e),e.highlight(V.getHighlightedCategories(e)),e.__restoreChartFocus(s)}},J._renderBackground=function(t,i,r){var a=new e.Rect(t.getCtx(),r.x,r.y,r.w,r.h);a.setInvisibleFill(),i.addChild(a)},J._addOuterGaps=function(e,t){var i=e.getOptions(),r=o.getGapWidth(e,i.layout.outerGapWidth),a=o.getGapHeight(e,i.layout.outerGapHeight);("none"==i.styleDefaults.padding||z.isStandalonePlotArea(e)||z.isStandaloneXAxis(e)||z.isStandaloneYAxis(e)||z.isStandaloneY2Axis(e))&&(r=Math.min(r,1),a=Math.min(a,1)),t.x+=r,t.w-=2*r,t.y+=a,t.h-=2*a},J._renderTitles=function(t,i,r){var a=t.getOptions();if(a.title.text){var s,n,l=j.createText(t.getEventManager(),i,a.title.text,a.title.style,r.x,r.y,r.w,r.h),h=null!=a.title.hAlign?a.title.hAlign:a.title.halign,u="plotArea"==h.substring(0,8);if(l?(s=(n=l.getDimensions()).h,l.setAriaProperty("hidden",null)):(s=0,n=new e.Rectangle(0,0,0,0)),a.subtitle.text){var g=new e.OutputText(t.getCtx(),a.subtitle.text,r.x,r.y);if(g){g.setCSSStyle(a.subtitle.style),i.addChild(g);var d=g.getDimensions(),c=o.getGapWidth(t,a.layout.titleSubtitleGapWidth),p=n.w+c+d.w;if(p>r.w||u)c=o.getGapHeight(t,a.layout.titleSubtitleGapHeight),g.setY(r.y+s+c),e.TextUtils.fitText(g,r.w,r.h,i)&&(s+=(d=g.getDimensions()).h+c,e.Agent.isRightToLeft(t.getCtx())&&(g&&g.setX(r.w-d.w),l&&l.setX(r.w-n.w)));else{var _=n.h-d.h;g.setY(_+r.y),l&&(e.LayoutUtils.align(r,h,l,p),e.Agent.isRightToLeft(t.getCtx())?(g.setX(l.getX()),l&&l.setX(l.getX()+d.w+c)):g.setX(l.getX()+p-d.w))}g.setAriaProperty("hidden",null),t.getEventManager().associate(g,new e.SimpleObjPeer(g.getUntruncatedTextString()))}}else e.LayoutUtils.align(r,h,l,n.w);u&&(t.getCache().putToCache("title",l),t.getCache().putToCache("subtitle",g));var f="on"==a.titleSeparator.rendered?a.layout.titleSeparatorGap:a.layout.titlePlotAreaGap;if(r.y+=s+o.getGapHeight(t,f),r.h-=s+o.getGapHeight(t,f),"on"==a.titleSeparator.rendered){var S=new e.Line(t.getCtx(),r.x,r.y,r.x+r.w,r.y),C=new e.Line(t.getCtx(),r.x,r.y+1,r.x+r.w,r.y+1);S.setSolidStroke(a.titleSeparator.upperColor),C.setSolidStroke(a.titleSeparator.lowerColor),i.addChild(S),i.addChild(C);var m=2+o.getGapHeight(t,a.layout.titlePlotAreaGap);r.y+=m,r.h-=m}}if(a.footnote.text){var y=j.createText(t.getEventManager(),i,a.footnote.text,a.footnote.style,r.x,0,r.w,r.h),v=null!=a.footnote.hAlign?a.footnote.hAlign:a.footnote.halign,A="plotArea"==v.substring(0,8);if(y){var x=y.getDimensions();y.setY(r.y+r.h-x.h),r.h-=x.h+o.getGapHeight(t,a.layout.footnoteGap),e.LayoutUtils.align(r,v,y,x.w),y.setAriaProperty("hidden",null)}A&&t.getCache().putToCache("footnote",y)}},J._updateTitles=function(e,t,i,r){var a=e.getOptions(),s=null!=a.title.hAlign?a.title.hAlign:a.title.halign,n=null!=a.footnote.hAlign?a.footnote.hAlign:a.footnote.halign,o=a.title.text&&"plotArea"==s.substring(0,8),l=a.footnote.text&&"plotArea"==n.substring(0,8);if(i.x=r.x,i.w=r.w,o){var h,u=e.getCache().getFromCache("title"),g=e.getCache().getFromCache("subtitle"),d=u.getDimensions();J._alignTextToPlotArea(t,i,s,u,d.w),g&&(h=g.getDimensions(),J._alignTextToPlotArea(t,i,s,g,h.w))}if(l){var c=e.getCache().getFromCache("footnote"),p=c.getDimensions();J._alignTextToPlotArea(t,i,n,c,p.w)}},J._alignTextToPlotArea=function(t,i,r,a,s){e.TextUtils.fitText(a,i.w,i.h,t)&&("plotAreaStart"==r?e.LayoutUtils.align(i,"start",a,s):"plotAreaCenter"==r?e.LayoutUtils.align(i,"center",a,s):"plotAreaEnd"==r&&e.LayoutUtils.align(i,"end",a,s))},J._renderPlotArea=function(t,i,r){if(z.hasAxes(t)){var a=new e.Container(t.getCtx());a.setTranslate(r.x,r.y),i.addChild(a),t.setPlotArea(a),t.getEventManager().associate(a,new e.SimpleObjPeer(null,null,null,{type:"plotArea"}));var s=new e.Rectangle(0,0,r.w,r.h);te.render(t,a,s)}else if(z.isPie(t)){var n=new b(t,r);n.__getSlices().length>0?(i.addChild(n),t.setPlotArea(n),n.render()):J.renderEmptyText(t,i,r)}else z.isFunnel(t)?ie.render(t,i,r):z.isPyramid(t)&&re.render(t,i,r);r.w=0,r.h=0},J.renderEmptyText=function(t,i,r){var a=t.getOptions();if(H.hasInvalidTimeData(t)&&H.hasData(t))var s=e.Bundle.getTranslation(a,"labelInvalidData",e.Bundle.UTIL_PREFIX,"INVALID_DATA");else(s=a.emptyText)||(s=e.Bundle.getTranslation(a,"labelNoData",e.Bundle.UTIL_PREFIX,"NO_DATA"));e.TextUtils.renderEmptyText(i,s,new e.Rectangle(r.x,r.y,r.w,r.h),t.getEventManager(),a._statusMessageStyle)},J._prerenderHorizScrollbar=function(t,i,r){var a=r.w,s=0;return U.isScrollable(t)&&z.isHorizScrollbarSupported(t)?V.isOverviewRendered(t)?(s=Math.min(V.getOverviewHeight(t),r.h))>0&&(t.overview=new C(t),i.addChild(t.overview),e.LayoutUtils.position(r,"bottom",t.overview,a,s,10)):(s=t.getOptions().styleDefaults._scrollbarHeight,t.xScrollbar=new e.SimpleScrollbar(t.getCtx(),t.processEvent,t),i.addChild(t.xScrollbar),e.LayoutUtils.position(r,"bottom",t.xScrollbar,a,s,8),t.overview=null):t.overview=null,new e.Dimension(a,s)},J._prerenderVertScrollbar=function(t,i,r){var a=0,s=r.h;if(U.isScrollable(t)&&z.isVertScrollbarSupported(t)){a=t.getOptions().styleDefaults._scrollbarHeight;var n=new e.SimpleScrollbar(t.getCtx(),t.processEvent,t);i.addChild(n),e.LayoutUtils.position(r,e.Agent.isRightToLeft(t.getCtx())?"right":"left",n,a,s,8),z.isHorizontal(t)?t.xScrollbar=n:t.yScrollbar=n}return new e.Dimension(a,s)},J._renderScrollbars=function(t,i,r){var a=t.getOptions(),s={color:a.styleDefaults._scrollbarHandleColor,backgroundColor:a.styleDefaults._scrollbarTrackColor},n=t.__getPlotAreaSpace();if(t.xScrollbar&&(s.min=t.xAxis.getLinearGlobalMin(),s.max=t.xAxis.getLinearGlobalMax(),z.isHorizontal(t)?(s.isHorizontal=!1,s.isReversed=!1,t.xScrollbar.setTranslateY(n.y),t.xScrollbar.render(s,r.w,n.h)):(s.isHorizontal=!0,s.isReversed=e.Agent.isRightToLeft(t.getCtx()),t.xScrollbar.setTranslateX(n.x),t.xScrollbar.render(s,n.w,i.h)),t.xScrollbar.setViewportRange(t.xAxis.getLinearViewportMin(),t.xAxis.getLinearViewportMax())),t.yScrollbar&&(s.min=t.yAxis.getLinearGlobalMin(),s.max=t.yAxis.getLinearGlobalMax(),s.isHorizontal=!1,s.isReversed=!0,t.yScrollbar.setTranslateY(n.y),t.yScrollbar.render(s,r.w,n.h),t.yScrollbar.setViewportRange(t.yAxis.getLinearViewportMin(),t.yAxis.getLinearViewportMax())),t.overview){var o={startTime:t.xAxis.getLinearGlobalMin(),endTime:t.xAxis.getLinearGlobalMax(),viewportStartTime:t.xAxis.getLinearViewportMin(),viewportEndTime:t.xAxis.getLinearViewportMax(),minimumWindowSize:t.xAxis.getInfo().getMinimumExtent(),chart:e.JsonUtils.clone(a)};U.isZoomable(t)||(o.featuresOff="zoom"),o.chart._minOverflowCoord=a._minOverflowCoord-n.x,o.chart._maxOverflowCoord=a._maxOverflowCoord-n.x,t.overview.setTranslateX(n.x),t.overview.render(o,n.w,i.h),t.overview.setViewportRange(t.xAxis.getLinearViewportMin(),t.xAxis.getLinearViewportMax())}},J._positionLegend=function(e,t){if(e){var i=e.getDimensions(),r=e.getOptions().orientation;"vertical"==r&&i.h<=t.h?e.setTranslateY(Math.round(t.y+t.h/2-i.h/2)):"horizontal"==r&&i.w<=t.w&&e.setTranslateX(Math.round(t.x+t.w/2-i.w/2))}},J._renderDragButtons=function(t,r){var a=J._BUTTON_SIZE+2*(J._BUTTON_PADDING+J._BUTTON_CORNER_DIST),s=t.__getPlotAreaSpace();if(!(!z.hasAxes(t)||z.isOverview(t)||s.w<a||s.h<a)){var n=t.getOptions(),o=t.getEventManager(),l=n.dragMode;if("user"==l){var h,u,g=e.Agent.isTouchDevice(),d=U.isScrollable(t);t.dragButtons=new e.Container(t.getCtx());var c="multiple"==n.selectionMode&&(g||d),p=d&&g,_=d&&!g&&U.isZoomable(t)&&z.isScatterBubble(t);c&&(u=p||_?"end":"solo",o.selectButton=J._createDragButton(t,t.dragButtons,"select",o.onSelectButtonClick,o,u),h=e.Bundle.getTranslation(n,"tooltipSelect",e.Bundle.CHART_PREFIX,"MARQUEE_SELECT"),o.selectButton.setTooltip(h),o.associate(o.selectButton,o.selectButton)),p&&(u=c?"start":"solo",o.panButton=J._createDragButton(t,t.dragButtons,"pan",o.onPanButtonClick,o,u),h=e.Bundle.getTranslation(n,"tooltipPan",e.Bundle.CHART_PREFIX,"PAN"),o.panButton.setTooltip(h),o.associate(o.panButton,o.panButton)),_&&(u=c?"start":"solo",o.zoomButton=J._createDragButton(t,t.dragButtons,"zoom",o.onZoomButtonClick,o,u),h=e.Bundle.getTranslation(n,"tooltipZoom",e.Bundle.CHART_PREFIX,"MARQUEE_ZOOM"),o.zoomButton.setTooltip(h),o.associate(o.zoomButton,o.zoomButton)),J.positionDragButtons(t),o.setDragMode(null),t.dragButtons.getNumChildren()>0&&(t.addChild(t.dragButtons),g?d&&(o.panButton.setToggled(!0),o.onPanButtonClick(null)):t.hideDragButtons(),t.dragButtons.setCursor("default"))}else"pan"==l?o.setDragMode(i.DRAG_MODE_PAN):"zoom"==l?o.setDragMode(i.DRAG_MODE_ZOOM):"select"==l?o.setDragMode(i.DRAG_MODE_SELECT):o.setDragMode(i.DRAG_MODE_OFF)}},J._positionDragButton=function(t,i,r){var a;e.Agent.isRightToLeft(t.getCtx())?(a=r.x+J._BUTTON_PADDING,r.x+=J._BUTTON_SIZE+2*J._BUTTON_PADDING):a=r.x+r.w-J._BUTTON_SIZE-J._BUTTON_PADDING,r.w-=J._BUTTON_SIZE+2*J._BUTTON_PADDING,i.setTranslate(a,r.y+J._BUTTON_PADDING)},J.positionDragButtons=function(e){var t=e.__getPlotAreaSpace().clone();t.x+=J._BUTTON_CORNER_DIST,t.w-=2*J._BUTTON_CORNER_DIST,t.y+=J._BUTTON_CORNER_DIST;var i=e.getEventManager();i.selectButton&&J._positionDragButton(e,i.selectButton,t),i.panButton&&J._positionDragButton(e,i.panButton,t),i.zoomButton&&J._positionDragButton(e,i.zoomButton,t)},J._createDragButtonBackground=function(t,i,r){var a=2,s=2,n=e.Agent.isRightToLeft(t);"start"==i?n?a=0:s=0:"end"==i&&(n?s=0:a=0);var o=a,l=s,h=-J._BUTTON_PADDING,u=J._BUTTON_SIZE+2*J._BUTTON_PADDING,g=e.PathUtils.roundedRectangle(h,h,u,u,o,s,l,a),d=new e.Path(t,g);return e.Agent.getDevicePixelRatio()>1?(d.setSolidStroke(r,J._BUTTON_OPACITY,1),d.setPixelHinting(!0)):d.setSolidStroke(r,J._BUTTON_OPACITY,1),d},J._createDragButton=function(t,i,r,a,s,n){var o=t.getCtx(),l=t.getOptions()._resources,h=J._createDragButtonBackground(o,n,"#C4CED7"),u=l[r+"Up"];h.setFill(new e.LinearGradientFill(270,["#FFFFFF","#F1F3F4","#E8EBED","#E4E8EA"],[J._BUTTON_OPACITY,J._BUTTON_OPACITY,J._BUTTON_OPACITY,J._BUTTON_OPACITY],[0,.0364,.5,1])),h.addChild(new e.Image(o,u,0,0,J._BUTTON_SIZE,J._BUTTON_SIZE));var g=J._createDragButtonBackground(o,n,"#C4CED7"),d=l[r+"UpHover"]?l[r+"UpHover"]:u;g.setSolidFill("#F7F8F9",J._BUTTON_OPACITY),g.addChild(new e.Image(o,d,0,0,J._BUTTON_SIZE,J._BUTTON_SIZE));var c=J._createDragButtonBackground(o,n,"#0572CE"),p=l[r+"Down"];c.setSolidFill("#0572CE",J._BUTTON_OPACITY),c.addChild(new e.Image(o,p,0,0,J._BUTTON_SIZE,J._BUTTON_SIZE));var _=J._createDragButtonBackground(o,n,"#0572CE"),f=l[r+"DownHover"]?l[r+"DownHover"]:p;_.setSolidFill("#0572CE",J._BUTTON_OPACITY),_.addChild(new e.Image(o,f,0,0,J._BUTTON_SIZE,J._BUTTON_SIZE));var S=new e.Button(o,h,g,c,null,null,a,s);if(S.setOverDownState(_),S.setToggleEnabled(!0),i.addChild(S),S.addEvtListener(e.MouseEvent.MOUSEDOWN,function(e){e.stopPropagation()}),e.Agent.isTouchDevice()){var C,m=e.Agent.isRightToLeft(o),y=2*J._BUTTON_PADDING;(C="solo"==n?new e.Rect(o,-y,-y,J._BUTTON_SIZE+2*y,J._BUTTON_SIZE+2*y):"start"==n&&!m||"end"==n&&m?new e.Rect(o,-y,-y,J._BUTTON_SIZE+1.5*y,J._BUTTON_SIZE+2*y):new e.Rect(o,-.5*y,-y,J._BUTTON_SIZE+1.5*y,J._BUTTON_SIZE+2*y)).setInvisibleFill(),S.addChild(C)}return S},J._adjustAvailSpace=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y),e.w=Math.round(e.w),e.h=Math.round(e.h)},J.renderDataCursor=function(e){var t=null,i=e.getOptions(),r=e.getEventManager();if(W.isDataCursorEnabled(e)){(t=new v(e.getCtx(),i.styleDefaults.dataCursor,z.isHorizontal(e))).setBehavior(W.getDataCursorBehavior(e)),e.addChild(t);var a=new l(e,t);r.setDataCursorHandler(a),e.positionDataCursor(i.dataCursorPosition)}else r.setDataCursorHandler(null);return t};var $=new Object;e.Obj.createSubclass($,e.Obj),$._DEFAULT_AXIS_MAX_SIZE=.33,$.render=function(e,t,i){z.hasAxes(e)&&(N.applyInitialZooming(e,i),z.isBubble(e)&&X.calcBubbleSizes(e,i),z.isPolar(e)?$._renderPolar(e,t,i):$._renderCartesian(e,t,i))},$._renderCartesian=function(t,i,r){var a=t.getOptions(),s=z.isHorizontal(t),n=z.isSplitDualY(t),o=r.clone(),l=N.getYAxisPosition(t),h=N.getY2AxisPosition(t);$._addAxisGaps(t,r),n&&l==h&&(a.yAxis._skipHighestTick=s,a.y2Axis._skipHighestTick=!s);var u=$._createYAxis(t,i,r,o),g=$._createY2Axis(t,i,r,o),d=!n&&"on"==a.y2Axis.alignTickMarks&&null==a.y2Axis.step;d&&u&&g&&($._alignYAxes(t,u,g),s||(g.dim=$._getPreferredSize(t,g.axis,t.y2Axis,g.options,"y2",r,o)));var c,p=N.getTickLabelGapSize(t,"y"),_=N.getTickLabelGapSize(t,"y2");n&&l==h?(s?(c=Math.max(u.dim.h+p,g.dim.h+_),u.dim.h=c-p,g.dim.h=c-_):(c=Math.max(u.dim.w+p,g.dim.w+_),u.dim.w=c-p,g.dim.w=c-_),$._positionAxis(r.clone(),u,p),$._positionAxis(r,g,_)):($._positionAxis(r,u,p),$._positionAxis(r,g,_));var f=H.getGroupCount(t);if("pixel"==V.getBarSpacing(t)&&z.isBar(t)&&r.w>f){var S=Math.floor(r.w/f)*f;r.x+=(r.w-S)/2,r.w=S}var C=$._createXAxis(t,i,r,o);C.axis.render(C.options,C.dim.w,C.dim.h),$._positionAxis(r,C,N.getTickLabelGapSize(t,"x"));var m=V.getSplitterPosition(t),y=e.Agent.isRightToLeft(t.getCtx()),v=$._getSplitAvailSpace(r,m,s,s&&y),A=$._getSplitAvailSpace(r,1-m,s,!s||!y);s?(u&&(u.axis.setTranslateX(r.x),n?u.axis.render(u.options,v.w,u.dim.h,v.x,0):u.axis.render(u.options,r.w,u.dim.h)),d&&u&&g&&$._alignYAxes(t,u,g),g&&(g.axis.setTranslateX(r.x),n?g.axis.render(g.options,A.w,g.dim.h,A.x,0):g.axis.render(g.options,r.w,g.dim.h)),$._setOverflow(r,u,C)):(u&&(n?u.axis.render(u.options,u.dim.w,v.h,0,v.y):u.axis.render(u.options,u.dim.w,r.h)),d&&u&&g&&$._alignYAxes(t,u,g),g&&(n?g.axis.render(g.options,g.dim.w,A.h,0,A.y):g.axis.render(g.options,g.dim.w,r.h)),$._setOverflow(r,C,u,g)),$._storeAxes(t,C,u,g)},$._renderPolar=function(e,t,i){var r=$._createXAxis(e,t,i,i);r.axis.setTranslateX(i.x),r.axis.setTranslateY(i.y),r.axis.render(r.options,i.w,i.h);var a=$._createYAxis(e,t,i,i);a.axis.setTranslateX(i.x),a.axis.setTranslateY(i.y),a.axis.render(a.options,i.w,i.h),$._storeAxes(e,r,a)},$._createXAxis=function(t,i,r,a){var s=t.getOptions(),n=N.getXAxisPosition(t),o=e.JsonUtils.clone(s.xAxis);o.position=n,o.isStandalone=z.isStandaloneXAxis(t),o.groupSeparators=s.styleDefaults.groupSeparators,$._addCommonAxisAttributes(o,"x",t),o.groups=s.groups,o._groupWidthRatios=N.getGroupWidthRatios(t),o.timeAxisType=N.getTimeAxisType(t),o._environment=s._environment,o._locale=s._locale,o.drilling=s.drilling,o._isGroupAxis=N.hasGroupAxis(t);var l="top"==n||"bottom"==n,h=N.isGridShifted(t);if("tangential"==n&&N.hasGroupAxis(t))h?(o.startGroupOffset=.5,o.endGroupOffset=.5):o.endGroupOffset=1;else{var u=N.getAxisOffset(t);if(o.startGroupOffset=u,o.endGroupOffset=u,z.hasUncenteredSeries(t)&&(o.endGroupOffset+=1),!U.isScrollable(t)&&!z.isOverview(t)){var d=H.getGroupCount(t);N.isAxisRendered(t,"y")&&N.isTickLabelInside(t,"y")&&(o[(l?"start":"end")+"GroupOffset"]+=.04*d),N.isAxisRendered(t,"y2")&&N.isTickLabelInside(t,"y2")&&(o[(l?"end":"start")+"GroupOffset"]+=.04*d)}}o.leftBuffer=l?r.x-a.x:0,o.rightBuffer=l?a.w+a.x-(r.w+r.x):0,o._renderGridAtLabels=!h||N.hasTimeAxis(t);var c=new g(t.getCtx(),t.processEvent,t);i.addChild(c);var p=$._getPreferredSize(t,c,t.xAxis,o,"x",r,a);return o._minOverflowCoord=s._minOverflowCoord-r.x,o._maxOverflowCoord=s._maxOverflowCoord-r.x,{axis:c,options:o,dim:p}},$._createYAxis=function(t,i,r,a){var s=t.getOptions();if(z.hasY2DataOnly(t))return null;var n=e.JsonUtils.clone(s.yAxis);n.position=N.getYAxisPosition(t),n.isStandalone=z.isStandaloneYAxis(t),$._addCommonAxisAttributes(n,"y",t),$._addCommonYAxisAttributes(n,t);var o=new g(t.getCtx(),t.processEvent,t);i.addChild(o);var l=$._getPreferredSize(t,o,t.yAxis,n,"y",r,a);return $._adjustYAxisForLabels(o,n,t,"y"),s.yAxis.min=n.min,s.yAxis.max=n.max,{axis:o,options:n,dim:l}},$._createY2Axis=function(t,i,r,a){var s=t.getOptions();if(z.hasY2Data(t)){var n=e.JsonUtils.clone(s.y2Axis);n.position=N.getY2AxisPosition(t),n.isStandalone=z.isStandaloneY2Axis(t),$._addCommonAxisAttributes(n,"y2",t),$._addCommonYAxisAttributes(n,t);var o=new g(t.getCtx(),t.processEvent,t);i.addChild(o);var l=$._getPreferredSize(t,o,t.y2Axis,n,"y2",r,a);return $._adjustYAxisForLabels(o,n,t,"y2"),s.y2Axis.min=n.min,s.y2Axis.max=n.max,{axis:o,options:n,dim:l}}},$._addCommonAxisAttributes=function(e,t,i){var r=i.getOptions();if(e.skin=r.skin,e.tickLabel.position=N.isTickLabelInside(i,t)?"inside":"outside",e.baselineScaling=N.getBaselineScaling(i,t),(N.isTickLabelInside(i,t)||"tangential"==e.position)&&(e._skipHighestTick=!0),e.zoomAndScroll=z.isPolar(i)?"off":r.zoomAndScroll,e._isOverview=z.isOverview(i),e._duringZoomAndScroll=r._duringZoomAndScroll,"x"!=t||!N.hasGroupAxis(i)){var a=H.getMinMaxValue(i,t);e.dataMin=null!=e.dataMin?e.dataMin:a.min,e.dataMax=null!=e.dataMax?e.dataMax:a.max}z.isPolar(i)&&(e.polarGridShape=N.isGridPolygonal(i)?"polygon":"circle",e._radius=i.getRadius()),e.dnd=r.dnd},$._addCommonYAxisAttributes=function(t,i){if(t.timeAxisType="disabled",U.isLiveScroll(i)&&z.isBLAC(i)&&!z.isPolar(i)&&(t._continuousExtent="on"),t.isStandalone)t.leftBuffer=0,t.rightBuffer=0;else if(z.isSplitDualY(i))t.leftBuffer=1/0,t.rightBuffer=1/0;else{var r=e.Agent.isRightToLeft(i.getCtx());t.leftBuffer=r?0:e.Axis.MINIMUM_AXIS_BUFFER,t.rightBuffer=r?e.Axis.MINIMUM_AXIS_BUFFER:0}},$._adjustYAxisForLabels=function(t,i,r,a){var s=r.getOptions();if(N.isYAdjustmentNeeded(r)){var n=s.styleDefaults.dataLabelStyle,o=s.styleDefaults.stackLabelStyle,l=t.getInfo(),h=V.isStackLabelRendered(r),u=e.TextUtils.getTextStringHeight(r.getCtx(),h?o:n),g=0;if("log"==i.scale)g=t.getUnboundedValueAt(t.getUnboundedCoordAt(l.getDataMax())-u)-l.getDataMax();else{var d=1;z.isSplitDualY(r)&&(d="y"==a?V.getSplitterPosition(r):1-V.getSplitterPosition(r));var c=Math.abs(l.getEndCoord()-l.getStartCoord())*d;g=Math.abs(l.getViewportMax()-l.getViewportMin())/c*u}z.isHorizontal(r)?g*=4:g*=2,l.getDataMin()-l.getGlobalMin()<=g&&l.getDataMin()<0&&(i.dataMin-=g),l.getGlobalMax()-l.getDataMax()<=g&&l.getDataMax()>0&&(i.dataMax+=g)}},$._getPreferredSize=function(t,i,r,a,s,n,o){var l=a.isStandalone,h=a.position,u="top"==h||"bottom"==h,g=N.getTickLabelGapSize(t,s),d=a.maxSize,c=a.size,p=n.w,_=n.h;if("radial"==h||"tangential"==h)p=0,_=0;else if("off"==a.rendered)u?_=0:p=0;else if(l)u?_=n.h-g:p=n.w-g;else if(null!=c)u?(_=V.getSizeInPixels(c,o.h)-g,null!=d&&(_=Math.min(_,V.getSizeInPixels(d,o.h)-g))):(p=V.getSizeInPixels(c,o.w)-g,null!=d&&(p=Math.min(p,V.getSizeInPixels(d,o.w)-g)));else{if(!t.getOptions()._duringZoomAndScroll||!r)return d=null==d?$._DEFAULT_AXIS_MAX_SIZE:d,u?i.getPreferredSize(a,n.w,V.getSizeInPixels(d,o.h)-g):i.getPreferredSize(a,V.getSizeInPixels(d,o.w)-g,n.h);if(u){var f=e.Agent.isRightToLeft(t.getCtx());a._startOverflow=f?r.getRightOverflow():r.getLeftOverflow(),a._endOverflow=f?r.getLeftOverflow():r.getRightOverflow(),_=r.getHeight()}else p=r.getWidth()}return N.isYAdjustmentNeeded(t)&&i.getPreferredSize(a,p,_),new e.Dimension(p,_)},$._addAxisGaps=function(e,t){var i=z.isHorizontal(e),r=N.getYAxisPosition(e),a=N.getY2AxisPosition(e),s=N.isAxisRendered(e,"x"),n=N.isAxisRendered(e,"y"),o=N.isAxisRendered(e,"y2"),l=e.getOptions().layout.verticalAxisGap;l*=i?N.getGapScalingFactor(e,"x"):Math.max(N.getGapScalingFactor(e,"y"),N.getGapScalingFactor(e,"y2")),l=Math.ceil(l),(!i||"top"==r&&n||"top"==a&&o)&&i||(t.y+=l,t.h-=l),(!i||"bottom"==r&&n||"bottom"==a&&o)&&(i||s)||(t.h-=l)},$._positionAxis=function(t,i,r){i&&e.LayoutUtils.position(t,i.options.position,i.axis,i.dim.w,i.dim.h,r)},$._alignYAxes=function(e,t,i){var r=t.axis.getInfo();if(r){var a=r.getMajorTickCount(),s=r.getMinorTickCount(),n=i.options,o=i.axis.getInfo();o&&N.isLog(e,"y")&&N.isLog(e,"y2")&&a<o.getMajorTickCount()&&(n._logScaleUnit=o.alignLogScaleToTickCount(o.getLogScaleUnit(),a)),n._majorTickCount=a,n._minorTickCount=s}},$._getSplitAvailSpace=function(e,t,i,r){var a=e.clone();return i?(a.w=e.w*t,a.x=r?e.w*(1-t):0):(a.h=e.h*t,a.y=r?e.h*(1-t):0),a},$._setOverflow=function(e,t,i,r){if(t){var a=t.axis.getLeftOverflow(),s=t.axis.getRightOverflow();e.x+=a,e.w-=a+s,i&&i.axis.setTranslateX(i.axis.getTranslateX()+("left"==i.options.position?a:-s)),r&&r.axis.setTranslateX(r.axis.getTranslateX()+("left"==r.options.position?a:-s))}},$._storeAxes=function(e,t,i,r){e.xAxis&&(e.xAxis.destroy(),e.removeChild(e.xAxis)),e.yAxis&&(e.yAxis.destroy(),e.removeChild(e.yAxis)),e.y2Axis&&(e.y2Axis.destroy(),e.removeChild(e.y2Axis)),e.xAxis=t.axis,e.yAxis=i?i.axis:null,e.y2Axis=r?r.axis:null};var ee=new Object;e.Obj.createSubclass(ee,e.Obj),ee._DEFAULT_LINE_WIDTH_WITH_MARKER=2,ee._DEFAULT_MAX_SIZE=.3,ee._PIE_SIZE_RATIO=1.2,ee.render=function(t,i,r){var a=t.getOptions(),s=a.legend.position;if(!("off"==a.legend.rendered||"auto"==a.legend.rendered&&t.getOptionsCache().getFromCache("hasLargeSeriesCount"))){var n=e.JsonUtils.clone(a.legend);delete n.position,n.skin=a.skin,n.hideAndShowBehavior=U.getHideAndShowBehavior(t),n.hoverBehavior=U.getHoverBehavior(t),n.hoverBehaviorDelay=V.getHoverBehaviorDelay(t),n.hiddenCategories=V.getHiddenCategories(t),n.highlightedCategories=V.getHighlightedCategories(t),n.dnd=a.dnd,n._dropColor=a._dropColor,"auto"==s&&(s=r.w>=r.h?"end":"bottom");var l="top"==s||"bottom"==s;if(n.orientation=l?"horizontal":"vertical","start"==s&&(n.halign="end"),"start"!=s&&"end"!=s||(n.valign="middle"),"top"==s&&(n.valign="bottom"),"top"!=s&&"bottom"!=s||(n.halign="center"),ee._addLegendData(t,n),0!=n.sections.length){var h,u=e.Legend.newInstance(t.getCtx(),t.processEvent,t);if(null!=t.getId()&&u.setId(t.getId()+"legend"),i.addChild(u),null!=n.size)h=l?new e.Dimension(r.w,V.getSizeInPixels(n.size,r.h)):new e.Dimension(V.getSizeInPixels(n.size,r.w),r.h);else{var g=n.maxSize;if(null==g&&(g=ee._DEFAULT_MAX_SIZE,z.isPie(t))){var d=1-ee._PIE_SIZE_RATIO*(l?r.w/r.h:r.h/r.w);g=Math.max(g,d)}var c=l?r.w:V.getSizeInPixels(g,r.w),p=l?V.getSizeInPixels(g,r.h):r.h;h=u.getPreferredSize(n,c,p)}u.render(n,h.w,h.h);var _=l?o.getGapHeight(t,a.layout.legendGapHeight):o.getGapWidth(t,a.layout.legendGapWidth);e.LayoutUtils.position(r,s,u,h.w,h.h,_);var f=Object.keys(n.dnd.drag.series).length>0,S=u.getCache().getFromCache("background");f&&S&&S.setClassName("oj-draggable");var C=u.__getBounds(),m=u.localToStage(new e.Point(C.x,C.y));if(!z.isOverview(t)){var y=e.Agent.isRightToLeft(t.getCtx());"end"==s?y?a._minOverflowCoord=m.x+C.w+_/2:a._maxOverflowCoord=m.x-_/2:"start"==s&&(y?a._maxOverflowCoord=m.x-_/2:a._minOverflowCoord=m.x+C.w+_/2)}t.legend&&(t.legend.destroy(),i.removeChild(t.legend)),t.legend=u}}},ee._addLegendData=function(e,t){var i=ee._getSeriesItems(e,"vertical"==t.orientation);if(i.length>0){var r=t.seriesSection
;r.items=i,t.sections.unshift(r),delete t.seriesSection}var a=ee._getRefObjItems(e);if(a.length>0){var s=t.referenceObjectSection;s.items=a,t.sections.push(s),delete t.referenceObjectSection}},ee._getSeriesItems=function(t,i){var r,a,s=[];if("pie"==t.getType()||"pyramid"==t.getType()||"funnel"==t.getType()){var n=Z.getRenderedSeriesIndices(t);"pyramid"==t.getType()&&i&&(n=n.reverse());for(var o=0;o<n.length;o++){a=n[o];var l=H.getValue(t,a,0);l>=0&&null!=l&&(r=ee._createLegendItem(t,a))&&s.push(r)}Z.hasOtherSeries(t)&&(r={id:Z.OTHER_SLICE_SERIES_ID,text:e.Bundle.getTranslation(t.getOptions(),"labelOther",e.Bundle.CHART_PREFIX,"LABEL_OTHER"),categoryVisibility:e.ArrayUtils.getIndex(V.getHiddenCategories(t),Z.OTHER_SLICE_SERIES_ID)>=0?"hidden":"visible",symbolType:"marker",color:t.getOptions().styleDefaults.otherColor,borderColor:t.getOptions().styleDefaults.borderColor},s.push(r))}else{var h={},u={},g=H.getSeriesCount(t);for(a=0;a<g;a++)if(r=ee._createLegendItem(t,a)){var d=H.getStackCategory(t,a);H.isAssignedToY2(t,a)?u[d]?u[d].push(r):u[d]=[r]:h[d]?h[d].push(r):h[d]=[r]}var c=H.getStackCategories(t,null,!0),p=z.isStacked(t)&&z.isVertical(t)&&i;s=ee._getSeriesItemsForAxis(h,c.y,p,s),s=ee._getSeriesItemsForAxis(u,c.y2,p,s)}return s},ee._getSeriesItemsForAxis=function(e,t,i,r){for(var a,s=0;s<t.length;s++)(a=e[t[s]])&&(r=i?r.concat(a.reverse()):r.concat(a));return r},ee._createLegendItem=function(t,i){var r=H.getSeriesItem(t,i),a=t.getType(),s=V.getSeriesType(t,i),n=V.getLineType(t,i),o=r.displayInLegend;if(!r||"off"==o)return null;if("on"!=o&&(z.isFunnel(t)||z.isPyramid(t)||z.isStock(t)))return null;if("on"!=o&&!H.hasSeriesData(t,i))return null;var l=H.getSeriesLabel(t,i);if("on"!=o&&(null==l||"string"==typeof l&&e.StringUtils.trim(l).length<=0))return null;var h={id:H.getSeries(t,i),text:l,categories:H.getCategories(t,i),categoryVisibility:V.isSeriesRendered(t,i)?"visible":"hidden",_dataContext:H.getDataContext(t,i,-1)};if("line"==s||"lineWithArea"==s||"scatter"==a||"bubble"==a)if(h.lineStyle=V.getLineStyle(t,i),h.lineWidth=V.getLineWidth(t,i),V.isMarkerDisplayed(t,i)){var u=V.getImageSource(t,i,null,null,"source");u?(h.symbolType="image",h.source=u):(h.symbolType="none"==n?"marker":"lineWithMarker","lineWithMarker"==h.symbolType&&(h.lineWidth=Math.min(ee._DEFAULT_LINE_WIDTH_WITH_MARKER,h.lineWidth)),h.markerShape=V.getMarkerShape(t,i),h.markerColor=V.getMarkerColor(t,i))}else h.symbolType="line";else if("boxPlot"==s){var g=V.getBoxPlotStyleOptions(t,i);g.q2Color!=g.q3Color?(h.symbolType=z.isHorizontal(t)?"_horizontalBoxPlot":"_verticalBoxPlot",h._boxPlot=g):h.symbolType="marker"}else h.symbolType="marker","none"==V.getLineType(t,i)&&(h.markerShape=V.getMarkerShape(t,i));return h.color=V.getColor(t,i),h.borderColor=V.getBorderColor(t,i),h.pattern=V.getPattern(t,i),h.svgStyle="area"==s?V.getAreaStyle(t,i):V.getStyle(t,i),h.svgClassName="area"==s?V.getAreaClassName(t,i):V.getClassName(t,i),h.markerSvgStyle=V.getMarkerStyle(t,i),h.markerSvgClassName=V.getMarkerClassName(t,i),h.action=r.action,h._spb=t.getShowPopupBehaviors(r._id),h.drilling=U.isSeriesDrillable(t,i)?"on":"off",h.shortDesc=r.shortDesc,h},ee._getRefObjItems=function(e){var t=G.getRefObjs(e);if(t.length<=0)return[];for(var i=[],r=0;r<t.length;r++){var a=t[r];if(a&&"on"==a.displayInLegend&&a.text){var s=G.getType(a);i.push({symbolType:"area"==s?"square":"line",text:a.text,color:G.getColor(a),lineStyle:a.lineStyle,lineWidth:G.getLineWidth(a),categories:G.getRefObjCategories(a),categoryVisibility:G.isObjectRendered(e,a)?"visible":"hidden",shortDesc:a.shortDesc,svgStyle:a.style||a.svgStyle,svgClassName:a.className||a.svgClassName})}}return i};var te=new Object;e.Obj.createSubclass(te,e.Obj),te._MIN_TOUCH_MARKER_SIZE=16,te._MARKER_DATA_LABEL_GAP=4,te._MIN_CHARS_DATA_LABEL=3,te.FILTER_THRESHOLD_SCATTER_BUBBLE=1e4,te.render=function(e,t,i){"off"==e.getOptions().plotArea.rendered?te._renderAxisLines(e,t,i):i.w>0&&i.h>0&&(e._currentMarkers=new Array,e._currentAreas=new Array,te._renderBackgroundObjects(e,t,i),te._renderTicks(e,t,i),te._renderForegroundObjects(e,t,i))},te._renderBackgroundObjects=function(t,i,r){var a=t.getOptions(),s=te._getBackgroundShape(t,r),n=V.getBackgroundColor(t);if(n?s.setSolidFill(n):s.setInvisibleFill(),i.addChild(s),t.getCache().putToCache("plotAreaBackground",s),U.isPlotAreaDraggable(t)&&s.setClassName("oj-draggable"),a.xAxis.referenceObjects||a.yAxis.referenceObjects||a.y2Axis.referenceObjects){var o=te.createClippedGroup(t,i,r);ae.renderBackgroundObjects(t,o,r)}if(z.isBLAC(t)){var l=new e.Container(t.getCtx());i.addChild(l),t.__setAreaContainer(l),z.hasAreaSeries(t)&&te._renderAreas(t,l,r,!1)}},te._getBackgroundShape=function(t,i){var r,a=t.getCtx();if(z.isPolar(t)){var s=i.x+i.w/2,n=i.y+i.h/2;if(N.isGridPolygonal(t)){var o=e.PolygonUtils.getRegularPolygonPoints(s,n,H.getGroupCount(t),t.getRadius(),0);r=new e.Polygon(a,o)}else r=new e.Circle(a,s,n,t.getRadius())}else r=new e.Rect(a,i.x,i.y,i.w,i.h);return r},te._renderTicks=function(e,t,i){e.xAxis&&N.isMinorTickRendered(e,"x")&&te._renderMinorTicks(e,t,e.xAxis,i),e.yAxis&&N.isMinorTickRendered(e,"y")&&te._renderMinorTicks(e,t,e.yAxis,i),e.y2Axis&&N.isMinorTickRendered(e,"y2")&&te._renderMinorTicks(e,t,e.y2Axis,i),e.xAxis&&N.isMajorTickRendered(e,"x")&&te._renderMajorTicks(e,t,e.xAxis,i),e.yAxis&&N.isMajorTickRendered(e,"y")&&te._renderMajorTicks(e,t,e.yAxis,i),e.y2Axis&&N.isMajorTickRendered(e,"y2")&&te._renderMajorTicks(e,t,e.y2Axis,i)},te._renderAxisLines=function(e,t,i){e.xAxis&&e.yAxis&&N.isAxisLineRendered(e,"x")&&te._renderAxisLine(e,t,e.xAxis,e.yAxis,i),e.xAxis&&e.y2Axis&&N.isAxisLineRendered(e,"x")&&(e.yAxis&&!z.isSplitDualY(e)||te._renderAxisLine(e,t,e.xAxis,e.y2Axis,i)),e.yAxis&&e.xAxis&&N.isAxisLineRendered(e,"y")&&te._renderAxisLine(e,t,e.yAxis,e.xAxis,i),e.y2Axis&&e.xAxis&&N.isAxisLineRendered(e,"y2")&&te._renderAxisLine(e,t,e.y2Axis,e.xAxis,i)},te._renderMajorTicks=function(e,t,i,r){te._renderGridlines(e,t,i.getOptions().majorTick,i.getPosition(),i.getMajorTickCoords(),i.getBaselineCoord(),r)},te._renderMinorTicks=function(e,t,i,r){te._renderGridlines(e,t,i.getOptions().minorTick,i.getPosition(),i.getMinorTickCoords(),null,r)},te._renderAxisLine=function(e,t,i,r,a){var s=i.getOptions(),n=s.position,o="bottom"==n||"right"==n||"tangential"==n?r.getMaxCoord():r.getMinCoord();te._renderGridlines(e,t,s.axisLine,r.getPosition(),[o],null,a)},te._renderGridlines=function(t,i,r,a,s,n,o){var l=r.lineColor,h=new e.SolidStroke(l,1,r.lineWidth);r.lineStyle&&h.setStyle(e.Stroke.convertTypeString(r.lineStyle));var u,g=h.clone();"inherit"!=r.baselineColor&&(u="auto"==r.baselineColor?e.ColorUtils.getDarker(l,.6):r.baselineColor,g.setColor(u)),g.setWidth(null!=r.baselineWidth?r.baselineWidth:r.lineWidth),g.setStyle(e.Stroke.convertTypeString(r.baselineStyle?r.baselineStyle:r.lineStyle));for(var d="",c=0;c<s.length;c++){var p=null!=n&&s[c]==n;"radial"==a||"tangential"==a||p?te._renderGridline(t,i,a,s[c],p?g:h,o):d+="top"==a||"bottom"==a?e.PathUtils.moveTo(s[c],o.y)+e.PathUtils.verticalLineTo(o.y+o.h):e.PathUtils.moveTo(o.x,s[c])+e.PathUtils.horizontalLineTo(o.x+o.w)}if(""!=d){var _=new e.Path(t.getCtx(),d);(!e.Agent.isTouchDevice()||e.Agent.getDevicePixelRatio()>1)&&_.setPixelHinting(!0),_.setStroke(h),_.setMouseEnabled(!1),i.addChild(_)}},te._renderGridline=function(t,i,r,a,s,n){var o,l=i.getCtx(),h=!e.Agent.isTouchDevice()||e.Agent.getDevicePixelRatio()>1;if("radial"==r){if(N.isGridPolygonal(t)){var u=e.PolygonUtils.getRegularPolygonPoints(0,0,H.getGroupCount(t),a,0);o=new e.Polygon(l,u)}else o=new e.Circle(l,0,0,a);o.setInvisibleFill(),o.setTranslate(n.x+n.w/2,n.y+n.h/2)}else if("tangential"==r){o=new e.Line(l,0,0,t.getRadius()*Math.sin(a),-t.getRadius()*Math.cos(a));var g=a%(Math.PI/2);(g<.001||g>Math.PI/2-.001)&&h&&o.setPixelHinting(!0),o.setTranslate(n.x+n.w/2,n.y+n.h/2)}else o="top"==r||"bottom"==r?new e.Line(l,a,n.y,a,n.y+n.h):new e.Line(l,n.x,a,n.x+n.w,a),h&&o.setPixelHinting(!0);o.setStroke(s),o.setMouseEnabled(!1),i.addChild(o)},te._renderForegroundObjects=function(e,t,i){var r=e.getOptions(),a=te.createClippedGroup(e,t,i);te._renderAxisLines(e,t,i);var s=r.plotArea.borderColor,n=r.plotArea.borderWidth;if(s&&0!=n){var o=te._getBackgroundShape(e,i);o.setInvisibleFill(),o.setSolidStroke(s,null,n),o.setMouseEnabled(!1),t.addChild(o)}z.isBLAC(e)?(z.hasLineWithAreaSeries(e)&&te._renderAreas(e,t,i,!0),z.hasBarSeries(e)&&te._renderBars(e,a,i),z.hasCandlestickSeries(e)&&te._renderStock(e,a,i),z.hasBoxPlotSeries(e)&&te._renderBoxPlot(e,a,i),z.hasLineSeries(e)&&te._renderLines(e,t,a,i)):z.isScatterBubble(e)&&te._renderScatterBubble(e,t,a,!0,i),(r.xAxis.referenceObjects||r.yAxis.referenceObjects||r.y2Axis.referenceObjects)&&(a=te.createClippedGroup(e,t,i),ae.renderForegroundObjects(e,a,i));var l=H.getInitialSelection(e);U.setInitialSelection(e,l),e.highlight(V.getHighlightedCategories(e))},te._renderDataLabel=function(t,i,r,a,s,n,o,l,h){if(!z.isOverview(t)){var u=H.getDataLabel(t,a,s,n,l,h);if(null!=u){var g=V.getDataLabelPosition(t,a,s,n,l,h);if("none"!=g){var d=new e.OutputText(t.getCtx(),u,0,0);d.setMouseEnabled(!1);var c=h?t.getOptions().styleDefaults.stackLabelStyle:V.getDataLabelStyle(t,a,s,n,o,g,l);d.setCSSStyle(c),d.setY(r.y+r.h/2),d.setX(r.x+r.w/2),d.alignCenter(),d.alignMiddle();var p=d.getDimensions();if("left"==g)d.setX(r.x-p.w/2-te._MARKER_DATA_LABEL_GAP);else if("right"==g)d.setX(r.x+r.w+p.w/2+te._MARKER_DATA_LABEL_GAP);else if("top"==g)d.setY(r.y-p.h/2);else if("bottom"==g)d.setY(r.y+r.h+p.h/2+te._MARKER_DATA_LABEL_GAP/2);else{if("bar"==V.getSeriesType(t,a)){if(p.w>r.w||p.h>r.h)return;"inLeft"==g?d.setX(r.x+p.w/2+te._MARKER_DATA_LABEL_GAP):"inRight"==g?d.setX(r.x+r.w-p.w/2-te._MARKER_DATA_LABEL_GAP):"inTop"==g?d.setY(r.y+p.h/2+te._MARKER_DATA_LABEL_GAP):"inBottom"==g&&d.setY(r.y+r.h-p.h/2-te._MARKER_DATA_LABEL_GAP/2)}else if(z.isBubble(t)){r.x+=te._MARKER_DATA_LABEL_GAP,r.y+=te._MARKER_DATA_LABEL_GAP,r.h-=2*te._MARKER_DATA_LABEL_GAP,r.w-=2*te._MARKER_DATA_LABEL_GAP;var _=e.TextUtils.getOptimalFontSize(d.getCtx(),d.getTextString(),d.getCSSStyle(),r);if(d.setFontSize(_),!e.TextUtils.fitText(d,r.w,r.h,i,te._MIN_CHARS_DATA_LABEL))return}if(null!=V.getPattern(t,a,s)){var f=.15*(p=d.getDimensions()).h,S=e.PathUtils.roundedRectangle(p.x-f,p.y,p.w+2*f,p.h,2,2,2,2),C=new e.Path(t.getCtx(),S);C.setSolidFill("#FFFFFF",.9),i.addChild(C)}}if(z.isBar(t)){var m,y=d.getDimensions(),v=!1,A=t.getPlotArea().getDimensions();if("left"==g&&y.x<0)v=!0,m=r.x-te._MARKER_DATA_LABEL_GAP;else if("right"==g&&y.x+y.w>A.w+te._MARKER_DATA_LABEL_GAP)v=!0,m=A.w-r.w-te._MARKER_DATA_LABEL_GAP;else{if("top"==g&&y.y<0)return;if("bottom"==g&&y.y+y.h>A.y+A.h+te._MARKER_DATA_LABEL_GAP)return}if(v){if(!isNaN(u))return;if(!e.TextUtils.fitText(d,m,r.h,i,1))return;p=d.getDimensions(),"left"==g?d.setX(r.x-p.w/2-te._MARKER_DATA_LABEL_GAP):"right"==g&&d.setX(r.x+r.w+p.w/2+te._MARKER_DATA_LABEL_GAP)}}V.optimizeMarkerStroke(t)&&d.setSolidStroke("none"),i.addChild(d),t.addDataLabel(d)}}}},te._renderDataLabelForMarker=function(t,i,r){var a=t.getEventManager().getLogicalObject(r);if(a){var s=a.getSeriesIndex(),n=a.getGroupIndex(),o=a.getNestedDataItemIndex();if(r instanceof e.SimpleMarker){var l=new e.Rectangle(r.getCx()-r.getWidth()/2,r.getCy()-r.getHeight()/2,r.getWidth(),r.getHeight());te._renderDataLabel(t,i,l,s,n,o,r.getDataColor())}else r instanceof y&&(te._renderDataLabel(t,i,r.getBoundingBox1(),s,n,o,r.getDataColor(),"low"),te._renderDataLabel(t,i,r.getBoundingBox2(),s,n,o,r.getDataColor(),"high"))}},te._renderScatterBubble=function(t,i,r,a,s){var n,o=te._filterScatterBubble(t,a,s),l=H.getSeriesCount(t);for(n=0;n<l;n++)"none"!=V.getLineType(t,n)&&te._renderLinesForSeries(t,r,n,s);var h=V.getMarkerBorderColor(t),u=V.getBorderWidth(t),g=new e.SolidStroke(h,null,u),d=[];if(o)for(var c=V.optimizeMarkerStroke(t),p=c?g.getColor():null,_=c?g.getWidth():null,f=0;f<o.length;f++){var S=o[f],C=te._createMarker(t,S,p,_);d.push(C)}else{for(n=0;n<l;n++){var m=te._getMarkersForSeries(t,n,s,g);d=d.concat(m)}a&&X.sortMarkers(d)}z.isBubble(t)?te._addMarkersToContainer(t,r,d,g):te._addMarkersToContainer(t,i,d,g)},te._renderMarkersForSeries=function(t,i,r,a){var s,n=V.getMarkerBorderColor(t,r),o=V.getBorderWidth(t,r),l=new e.SolidStroke(n,null,o);s=V.isRangeSeries(t,r)?te._getRangeMarkersForSeries(t,r,a):te._getMarkersForSeries(t,r,a,l),te._addMarkersToContainer(t,i,s,l)},te._addMarkersToContainer=function(t,i,r,a){var s=i,n=V.optimizeMarkerStroke(t),o=V.optimizeMarkerFill(t);(n||o)&&(s=new e.Container(t.getCtx()),n?s.setStroke(a):s.setInvisibleFill(),i.addChild(s));for(var l=0;l<r.length;l++)s.addChild(r[l]),te._renderDataLabelForMarker(t,s,r[l]);t._currentMarkers.push(r)},te._getMarkerInfo=function(t,i,r,a,s){var n=t.getOptions(),o=H.getValue(t,i,r,a);if(null==o||isNaN(o))return null;if(H.isDataItemFiltered(t,i,r))return null;var l=H.getGroupCount(t),h=V.isMarkerDisplayed(t,i,r,a);if(!h&&(null==a||a<0))if("jet"!=n._environment&&N.isMixedFrequency(t))l<2&&(h=!0);else{var u=l-1,g=z.isPolar(t),d=g&&u>0&&0==r?u:r-1,c=g&&u>0&&r==u?0:r+1,p=H.getValue(t,i,d),_=H.getValue(t,i,c);null!=p&&!isNaN(p)||null!=_&&!isNaN(_)||(h=!0)}if(!h){if(z.isSpark(t))return null;if((n._duringZoomAndScroll||z.isOverview(t))&&!H.isDataSelected(t,i,r,a))return null}if(!V.isDataItemRendered(t,i,r,a))return!1;var f=!0,S=H.getMarkerPosition(t,i,r,a,s),C=V.getMarkerSize(t,i,r,a);return s&&S&&C&&(f=s.intersects(new e.Rectangle(S.x-C/2,S.y-C/2,C,C))),S&&f?{seriesIndex:i,groupIndex:r,itemIndex:a,x:S.x,y:S.y,size:C,markerDisplayed:h}:null},te._getScatterBubbleMarkerInfo=function(e,t,i,r){if(!V.isDataItemRendered(e,t,i))return!1;var a=H.getScatterBubbleMarkerPosition(e,t,i);if(!a)return null;var s=V.getMarkerSize(e,t,i);return s?{seriesIndex:t,groupIndex:i,x:a.x,y:a.y,size:s}:null},te._getMarkersForSeries=function(e,t,i,r){if(!V.isSeriesRendered(e,t))return[];for(var a=V.optimizeMarkerStroke(e),s=a?r.getColor():null,n=a?r.getWidth():null,o=[],l=H.getGroupCount(e),h=0;h<l;h++){var u=te._getMarkerInfo(e,t,h,null,i);if(u){var g=te._createMarker(e,u,s,n);null!=g&&o.push(g)}}return o},te._createMarker=function(t,i,r,s){var n,o=e.Agent.isTouchDevice(),l=t.getCtx(),h=V.optimizeMarkerStroke(t),u=V.optimizeMarkerFill(t),g=i.seriesIndex,d=i.groupIndex,c=i.itemIndex,p=V.getMarkerColor(t,g,d,c),_=V.getMarkerShape(t,g,d,c),f=i.markerDisplayed;if(null==f&&(f=V.isMarkerDisplayed(t,g,d,c)),f){var C=V.getImageSource(t,g,d,c,"source");if(C){var m=V.getImageSource(t,g,d,c,"sourceSelected"),y=V.getImageSource(t,g,d,c,"sourceHover"),v=V.getImageSource(t,g,d,c,"sourceHoverSelected");n=new e.ImageMarker(l,i.x,i.y,i.size,i.size,null,C,m,y,v)}else{(n=new e.SimpleMarker(l,_,t.getSkin(),i.x,i.y,i.size,i.size,null,null,!0)).setFill(Y.getMarkerFill(t,g,d,c));var A=V.getMarkerBorderColor(t,g,d,c),x=V.getBorderWidth(t,g,d,c);A==r&&x==s||n.setSolidStroke(A,null,x),n.setDataColor(p,!0);var b=e.SelectionEffectUtils.getHoverBorderColor(p),I=V.getSelectedInnerColor(t),T=V.getSelectedOuterColor(t);n.setHoverStroke(new e.SolidStroke(I,1,1),new e.SolidStroke(b,1,3.5)),n.setSelectedStroke(new e.SolidStroke(I,1,1.5),new e.SolidStroke(T,1,4.5)),n.setSelectedHoverStroke(new e.SolidStroke(I,1,1.5),new e.SolidStroke(b,1,4.5)),n.setClassName(V.getMarkerClassName(t,g,d,c)),n.setStyle(V.getMarkerStyle(t,g,d,c))}V.isSelectable(t,g,d)&&n.setCursor(e.SelectionEffectUtils.getSelectingCursor()),o&&i.size<te._MIN_TOUCH_MARKER_SIZE&&te._addMarkerHitArea(n,i.x,i.y,h)}else V.isSelectable(t,g,d)?((n=new S(l,_,i.x,i.y,i.size,h)).setCursor(e.SelectionEffectUtils.getSelectingCursor()),o&&te._addMarkerHitArea(n,i.x,i.y,h)):(o&&(i.size=te._MIN_TOUCH_MARKER_SIZE),n=new S(l,e.SimpleMarker.SQUARE,i.x,i.y,i.size,h)),null!=n&&(u||n.setInvisibleFill(),n.setDataColor(p));return null!=n&&a.associate(n,t,g,d,c,i),n},te._addMarkerHitArea=function(t,i,r,a){var s=new e.Rect(t.getCtx(),i-te._MIN_TOUCH_MARKER_SIZE/2,r-te._MIN_TOUCH_MARKER_SIZE/2,te._MIN_TOUCH_MARKER_SIZE,te._MIN_TOUCH_MARKER_SIZE);a&&s.setSolidStroke("none"),s.setInvisibleFill(),t.addChild(s)},te._getRangeMarkersForSeries=function(t,i,r){if(!V.isSeriesRendered(t,i))return[];for(var s=e.Agent.isTouchDevice(),n=t.getCtx(),o=t.xAxis,l=H.isAssignedToY2(t,i)?t.y2Axis:t.yAxis,h=t.getOptions(),u=H.getGroupCount(t),g=[],d=0;d<u;d++)if(!H.isDataItemFiltered(t,i,d)&&V.isDataItemRendered(t,i,d)){var c=o.getCoordAt(H.getXValue(t,i,d)),p=l.getUnboundedCoordAt(H.getLowValue(t,i,d)),_=l.getUnboundedCoordAt(H.getHighValue(t,i,d));if(null!=c&&null!=p&&null!=_){var f=V.isMarkerDisplayed(t,i,d);if(!f){var S=u-1,C=z.isPolar(t),m=C&&S>0&&0==d?S:d-1,v=C&&S>0&&d==S?0:d+1,A=H.getLowValue(t,i,m),x=H.getHighValue(t,i,m),b=H.getLowValue(t,i,v),I=H.getHighValue(t,i,m);null==A&&null==x&&null==b&&null==I&&(f=!0)}if(!(h._duringZoomAndScroll||z.isOverview(t)||z.isSpark(t))||f||H.isDataSelected(t,i,d)){var T=te.convertAxisCoord(t,new e.Point(c,p),r),E=te.convertAxisCoord(t,new e.Point(c,_),r),D=new e.Point((T.x+E.x)/2,(T.y+E.y)/2),O=V.getMarkerSize(t,i,d),P=new y(n,T.x,T.y,E.x,E.y,O,!f),M=Y.getMarkerFill(t,i,d),R=V.getMarkerBorderColor(t,i,d),w=V.getBorderWidth(t,i,d),L=new e.SolidStroke(R,null,w),B=V.getMarkerColor(t,i,d),F=V.getSelectedInnerColor(t),k=V.getSelectedOuterColor(t);P.setStyleProperties(M,L,B,F,k),V.isSelectable(t,i,d)&&P.setCursor(e.SelectionEffectUtils.getSelectingCursor());var N=new e.Line(n,T.x,T.y,E.x,E.y);N.setSolidStroke("rgba(0,0,0,0)",null,s?Math.max(O,te._MIN_TOUCH_MARKER_SIZE):O),P.addChild(N),g.push(P),a.associate(P,t,i,d,null,D)}}}return g},te._renderBars=function(t,i,r){for(var s=z.isHorizontal(t),n=z.isPolar(t),o=z.isStock(t),l="pixel"==V.getBarSpacing(t),h=e.Agent.isRightToLeft(t.getCtx()),u=V.isStackLabelRendered(t),g=z.isStacked(t),c=V.getSelectedInnerColor(t),p=V.getSelectedOuterColor(t),_=t.getOptions()._duringZoomAndScroll,f=V.getGroupWidth(t),S={},C=0;C<H.getSeriesCount(t);C++)if("bar"==V.getSeriesType(t,C)){te._filterPointsForSeries(t,C);for(var y="",v=t.getOptionsCache().getFromCachedMap("itemStyleSet",C),A=H.getStackCategory(t,C)||"",x=H.isAssignedToY2(t,C),b=H.getViewportMinMaxGroupIndex(t,C),I=b.min-1;I<=b.max+1;I++)if(!H.isDataItemFiltered(t,C,I)&&V.isDataItemRendered(t,C,I)&&0!=H.getZValue(t,C,I)){var T=H.getBarInfo(t,C,I,r);if(null!=T){var E=T.yCoord,D=T.baseCoord,O=T.axisCoord,P=T.x1,M=T.x2,R=T.barWidth;if(g){var w=""+I+A+x+(H.getValue(t,C,I)<0);if(Math.abs(D-E)<.5&&Math.abs(E-S[w])<.5&&!H.isOutermostBar(t,C,I))continue;S[w]&&(D=S[w]),S[w]=E}var L,B=!1;if(Math.abs(E-D)<1&&(V.isRangeSeries(t,C)?E--:g&&!H.isOutermostBar(t,C,I)||(B=!0,E=E>D||s&&!h&&E==D?D+3:D-3)),n)L=new m(t,O,D,E,P,M,r);else{var F=_&&f<5&&!v;if(L=new d(t,O,D,E,P,M,F),F){var k=L.getBoundingBox();y+=e.PathUtils.moveTo(k.x,k.y)+e.PathUtils.horizontalLineTo(k.x+k.w)+e.PathUtils.verticalLineTo(k.y+k.h)+e.PathUtils.horizontalLineTo(k.x)+e.PathUtils.closePath();continue}}i.addChild(L),V.isSelectable(t,C,I)&&L.setCursor(e.SelectionEffectUtils.getSelectingCursor());var N,U=null;if(B)N=e.SolidFill.invisibleFill();else{N=Y.getBarFill(t,C,I,R);var G=V.getBorderColor(t,C,I),j=V.getBorderWidth(t,C,I);G&&(U=new e.SolidStroke(G,null,j))}var W=V.getColor(t,C,I),X=V.getClassName(t,C,I),Z=V.getStyle(t,C,I);L.setStyleProperties(N,U,W,c,p,X,Z),l&&L.setPixelHinting(!0),a.associate(L,t,C,I,null,T.dataPos),V.isRangeSeries(t,C)?(te._renderDataLabel(t,i,L.getBoundingBox(),C,I,null,W,"low"),te._renderDataLabel(t,i,L.getBoundingBox(),C,I,null,W,"high")):te._renderDataLabel(t,i,L.getBoundingBox(),C,I,null,W);var K=new Array;K.push(L),o&&0!=C||t._currentMarkers.push(K),u&&H.isOutermostBar(t,C,I)&&te._renderDataLabel(t,i,L.getBoundingBox(),C,I,null,null,null,!0)}}if(y){var q=new e.Path(t.getCtx(),y),Q=V.getColor(t,C);q.setSolidFill(Q);var J=V.getBorderColor(t,C);if(J){var $=V.getBorderWidth(t,C);q.setSolidStroke(J,null,$)}var ee=V.getClassName(t,C),ie=V.getStyle(t,C);q.setClassName(ee).setStyle(ie),l&&q.setPixelHinting(!0),i.addChild(q)}}},te._renderStock=function(t,i,r){var s=t.getOptions(),n=t.xAxis,o=t.yAxis;if("candlestick"==V.getSeriesType(t,0))for(var l=H.getViewportMinMaxGroupIndex(t,0),h=l.min-1;h<=l.max+1;h++)if(V.isDataItemRendered(t,0,h)){var u=H.getDataItem(t,0,h);if(u){var g=u.open,d=u.close,c=u.low,_=u.high,f=null!=c&&null!=_;if(null!=g&&null!=d){var S,C=H.getXValue(t,0,h),m=n.getUnboundedCoordAt(C),y=V.getBarWidth(t,0,h),v=o.getBoundedCoordAt(g),A=o.getBoundedCoordAt(d),x=null;f&&(S=o.getBoundedCoordAt(c),x=o.getBoundedCoordAt(_));var b=new p(t.getCtx(),m,y,v,A,S,x);i.addChild(b),V.isSelectable(t,0,h)&&b.setCursor(e.SelectionEffectUtils.getSelectingCursor());var I=Y.getBarFill(t,0,h,y),T=null,E=V.getBorderColor(t,0,h),D=V.getBorderWidth(t,0,h);E?T=new e.SolidStroke(E,null,D):I instanceof e.PatternFill&&(T=new e.SolidStroke(I.getColor(),null,D));var O=V.getColor(t,0,h),P=V.getSelectedInnerColor(t),M=V.getSelectedOuterColor(t),R=s.styleDefaults.stockRangeColor;b.setChangeStyle(I,T,O,P,M),b.setRangeStyle(new e.SolidFill(R),T,R,M);var w=new e.Point(m,(v+A)/2);a.associate(b,t,0,h,null,w);var L=new Array;L.push(b._changeShape),t._currentMarkers.push(L)}}}},te._renderBoxPlot=function(t,i,r){for(var s=t.xAxis,n=0;n<H.getSeriesCount(t);n++)for(var o=H.getViewportMinMaxGroupIndex(t,n),l=o.min-1;l<=o.max+1;l++)if(V.isDataItemRendered(t,n,l)&&"boxPlot"==V.getSeriesType(t,n)){var h=H.getDataItem(t,n,l);if(h){var u=h.low,g=h.q1,d=h.q2,p=h.q3,_=h.high;if(null!=u&&null!=g&&null!=d&&null!=p&&null!=_){var f=V.getBarWidth(t,n,l),S=V.getBarCategoryOffsetMap(t,l),C=H.isAssignedToY2(t,n),m=H.getStackCategory(t,n),y=S[C?"y2":"y"][m]+f/2;e.Agent.isRightToLeft(t.getCtx())&&z.isVertical(t)&&(y*=-1);var v=H.getXValue(t,n,l),A=s.getUnboundedCoordAt(v)+y,x=C?t.y2Axis:t.yAxis,b=x.getBoundedCoordAt(u),I=x.getBoundedCoordAt(g),T=x.getBoundedCoordAt(d),E=x.getBoundedCoordAt(p),D=x.getBoundedCoordAt(_),O=V.getBoxPlotStyleOptions(t,n,l),P=new c(t,A,f,b,I,T,E,D,O);i.addChild(P),V.isSelectable(t,n,l)&&P.setCursor(e.SelectionEffectUtils.getSelectingCursor());var M=te.convertAxisCoord(t,new e.Point(A,T),r);a.associate(P,t,n,l,null,M),te._renderBoxPlotMarkers(t,i,n,l,r,A),t._currentMarkers.push([P._medianLine])}}}},te._renderBoxPlotMarkers=function(t,i,r,a,s,n){for(var o=V.getMarkerBorderColor(t,r,a),l=V.getBorderWidth(t,r,a),h=new e.SolidStroke(o,null,l),u=[],g=H.getNestedDataItemCount(t,r,a),d=0;d<g;d++){var c=te._getMarkerInfo(t,r,a,d,s);if(c){z.isHorizontal(t)?c.y=n:c.x=n;var p=te._createMarker(t,c,o,l);null!=p&&u.push(p)}}te._addMarkersToContainer(t,i,u,h)},te._renderLines=function(e,t,i,r){var a,s=[],n=H.getSeriesCount(e);for(a=0;a<n;a++)V.isSeriesRendered(e,a)&&"line"==V.getSeriesType(e,a)&&s.push(a);for(var o=0;o<s.length;o++)a=s[o],"none"!=V.getLineType(e,a)&&(te._filterPointsForSeries(e,a),te._renderLinesForSeries(e,i,a,r));for(o=0;o<s.length;o++)te._renderMarkersForSeries(e,t,s[o],r)},te._renderAreas=function(e,t,i,r){for(var a=H.getSeriesCount(e),s=r?"lineWithArea":"area",n=[],o=[],l=0;l<a;l++)V.isSeriesRendered(e,l)&&V.getSeriesType(e,l)==s&&(H.isAssignedToY2(e,l)?o.push(l):n.push(l));n.length>0&&te._renderAreasForAxis(e,t,n,e.yAxis.getBaselineCoord(),i,r),o.length>0&&te._renderAreasForAxis(e,t,o,e.y2Axis.getBaselineCoord(),i,r)},te._renderAreasForAxis=function(t,i,r,s,n,o){for(var l=z.isStacked(t),h=te.createClippedGroup(t,i,n),u={},g={},d={},c={},p=[],S=H.getGroupCount(t),C=0;C<S;C++)p.push(new _(null,s,s,C,H.getGroup(t,C),!0));for(var m=0;m<r.length;m++){var y=r[m],v=H.getStackCategory(t,y),A=H.isSeriesNegative(t,y),x=u[v],b=g[v],I=d[v],T=c[v];if("none"!=V.getLineType(t,y)){var E,D,O,P=Y.getAreaFill(t,y),M=V.getBorderColor(t,y),R=V.getBorderWidth(t,y),w=V.getAreaClassName(t,y),L=V.getAreaStyle(t,y),B=M?new e.SolidStroke(M,null,R):null,F=V.getLineType(t,y);te._filterPointsForSeries(t,y),V.isRangeSeries(t,y)?(E=te._getCoordsForSeries(t,y,n,"high"),D=te._getCoordsForSeries(t,y,n,"low"),O=F):A?(E=te._getAreaCoordsForSeries(t,y,n,I||p),D=I||[],O=T):(E=te._getAreaCoordsForSeries(t,y,n,x||p),D=x||[],O=b);var k=new f(t,!0,n,s,L,w,P,B,F,E,O,D);h.addChild(k),t._currentAreas.push(k),a.associate(k,t,y),A?(d[v]=E,c[v]=F):(u[v]=E,g[v]=F),l||((o||V.getDataItemGaps(t)>0&&!M)&&te._renderLinesForSeries(t,h,y,n,!o),o||te._renderMarkersForSeries(t,i,y,n),m+1<r.length&&(h=te.createClippedGroup(t,i,n)))}else te._renderMarkersForSeries(t,i,y,n)}for(m=0;m<r.length;m++)if(y=r[m],"none"!=V.getLineType(t,y)){var N=V.getBorderColor(t,y)||V.getBorderColor(t,y+1);l&&(o||V.getDataItemGaps(t)>0&&!N)&&te._renderLinesForSeries(t,h,y,n,!o),(l||o)&&te._renderMarkersForSeries(t,i,y,n)}},te._getAreaCoordsForSeries=function(e,t,i,r){for(var a=te._getCoordsForSeries(e,t,i),s=[],n=0;n<r.length;n++)s.push(r[n].clone());var o=a.length-1,l=z.isPolar(e);for(n=0;n<a.length;n++)if(null!=a[n].x){var h=s[a[n].groupIndex],u=l&&0==n?o:n-1,g=l&&n==o?0:n+1;u>=0&&null!=a[u].x&&(h.y1=a[n].y1),g<=o&&null!=a[g].x&&(h.y2=a[n].y2),h.x=a[n].x,h.filtered=h.y1==h.y2&&a[n].filtered}return s},te._renderLinesForSeries=function(t,i,r,s,n){var o;if(n){var l=2.5*V.getDataItemGaps(t);o=new e.SolidStroke(V.getBackgroundColor(t,!0),1,l)}else{var h=V.getColor(t,r),u=V.getLineWidth(t,r),g=e.Stroke.convertTypeString(V.getLineStyle(t,r));(o=new e.SolidStroke(h,1,u)).setStyle(g)}var d=H.isAssignedToY2(t,r)?t.y2Axis.getBaselineCoord():t.yAxis.getBaselineCoord(),c=V.getLineType(t,r),p=V.getClassName(t,r),_=V.getStyle(t,r),S=function(e){var n=te._getCoordsForSeries(t,r,s,e),l=new f(t,!1,s,d,_,p,null,o,c,n);i.addChild(l),a.associate(l,t,r)};V.isRangeSeries(t,r)?(S("high"),S("low")):S("value")},te._filterScatterBubble=function(t,i,r){var a,s=H.getSeriesCount(t),n=H.getGroupCount(t);if(s*n<te.FILTER_THRESHOLD_SCATTER_BUBBLE)return null;for(var o=[],l=0;l<s;l++)if(V.isSeriesRendered(t,l))for(var h=0;h<n;h++)null!=(a=te._getScatterBubbleMarkerInfo(t,l,h,r))&&o.push(a);if(o.length<te.FILTER_THRESHOLD_SCATTER_BUBBLE)return null;i&&X.sortMarkerInfos(o);for(var u=new e.PixelMap(25,new e.PixelMap(5,new e.PixelMap)),g=[],d=o.length-1;d>=0;d--)if(a=o[d],!X.checkPixelMap(u,a.x,a.y,a.size)){var c=V.getColor(t,a.seriesIndex,a.groupIndex),p=V.isMarkerDisplayed(t,l,h)?e.ColorUtils.getAlpha(c):0;p>0&&(X.updatePixelMap(u,a.x,a.y,a.size,p),g.push(a))}return t.getCache().putToCache("dataFiltered",!0),g.reverse(),g},te._filterPointsForSeries=function(e,t){if(!z.isPolar(e)&&!V.isRangeSeries(e,t)){var i=e.__getPlotAreaSpace().w,r=H.getSeriesItem(e,t).items,a="bar"==V.getSeriesType(e,t),s=e.xAxis.getInfo(),n=(s.getDataMax()-s.getDataMin())/(s.getViewportMax()-s.getViewportMin()),o=a?.5:2,l=n?Math.round(o*(r.length/n)/i):1;if(l<(a?2:3))for(var h=0;h<r.length;h++)(p=r[h])&&(p._filtered=!1);else{var u,g,d,c,p,_,f=!1;for(h=0;h<r.length;h+=l){u=-1,g=-1/0,d=-1,c=1/0;for(var S=h;S<Math.min(h+l,r.length);S++)_=H.getCumulativeValue(e,t,S),p=r[S],null!=_&&null!=p&&((!a||_>0)&&_>g&&(u=S,g=_),(!a||_<0)&&_<c&&(d=S,c=_),p._filtered=!0,f=!0);for(S=h;S<Math.min(h+l,r.length);S++)null!=(p=r[S])&&(S!=u&&S!=d||(p._filtered=!1))}e.getCache().putToCache("dataFiltered",f)}}},te._getCoordsForSeries=function(e,t,i,r){var a=e.xAxis,s=e.yAxis;H.isAssignedToY2(e,t)&&(s=e.y2Axis);for(var n=[],o=H.getViewportMinMaxGroupIndex(e,t),l=o.min-1;l<=o.max+1;l++){var h=H.getGroup(e,l);if(null!=h){var u=H.getXValue(e,t,l),g=null;if("low"==r?g=H.getLowValue(e,t,l):"high"==r?g=H.getHighValue(e,t,l):null!=H.getValue(e,t,l)&&(g=H.getCumulativeValue(e,t,l)),null!=g&&!isNaN(g)&&V.isDataItemRendered(e,t,l)){z.isPolar(e)&&(g=Math.max(g,s.getInfo().getViewportMin()));var d=a.getUnboundedCoordAt(u),c=s.getUnboundedCoordAt(g);if(null!=d&&null!=c){var p=new _(d,c,c,l,h,H.isDataItemFiltered(e,t,l));n.push(p)}else n.push(new _(null,null,null,l,h,!1))}else n.push(new _(null,null,null,l,h,!1))}}return n},te.createClippedGroup=function(t,i,r){var a=new e.Container(i.getCtx());i.addChild(a);var s=new e.ClipPath(t.getId()),n=te._extendClipGroup(t);if(z.isPolar(t)){var o=r.x+r.w/2,l=r.y+r.h/2;if(N.isGridPolygonal(t)){var h=e.PolygonUtils.getRegularPolygonPoints(o,l,H.getGroupCount(t),t.getRadius(),0);s.addPolygon(h)}else s.addCircle(o,l,t.getRadius())}else z.isHorizontal(t)?s.addRect(r.x-n,r.y,r.w+2*n,r.h):s.addRect(r.x,r.y-n,r.w,r.h+2*n);return a.setClipPath(s),a},te.polarToCartesian=function(t,i,r){var a=r.x+r.w/2+t*Math.sin(i),s=r.y+r.h/2-t*Math.cos(i);return new e.Point(a,s)},te.convertAxisCoord=function(t,i,r){if(z.isPolar(t)){var a=te.polarToCartesian(i.y,i.x,r);return new e.Point(a.x,a.y)}return z.isHorizontal(t)?new e.Point(i.y,i.x):new e.Point(i.x,i.y)},te._extendClipGroup=function(e){if((z.hasLineSeries(e)||z.hasLineWithAreaSeries(e))&&!z.isSpark(e)){var t=V.getLineWidth(e),i=function(e){var i=e.getInfo(),r=i.getCoordAt(i.getGlobalMax()),a=i.getCoordAt(i.getDataMax()),s=i.getCoordAt(i.getGlobalMin()),n=i.getCoordAt(i.getDataMin());return null!=r&&null!=a&&a-r<=t/2||null!=s&&null!=n&&s-n<=t/2};if(e.yAxis&&i(e.yAxis)||e.y2Axis&&i(e.y2Axis))return Math.ceil(t/2)}return 0};var ie=new Object;e.Obj.createSubclass(ie,e.Obj),ie._DEFAULT_3D_GAP_RATIO=1/36,ie._DEFAULT_2D_GAP_RATIO=1/70,ie._MAX_WIDTH_FOR_GAPS=.25,ie._GROUP_INDEX=0,ie._SLICE_VALUE_THRESHOLD=1e-4,ie.render=function(t,i,r){var a=new e.Container(t.getCtx());a.setTranslate(r.x,r.y),i.addChild(a),t.setPlotArea(a);var s,n=z.isHorizontal(t);if(n)s=new e.Rectangle(0,0,r.w,r.h);else{var o=new e.Matrix,l=e.Agent.isRightToLeft(t.getCtx())?-1:1;o.translate(-r.h/2,-r.w/2),o.rotate(l*Math.PI/2),o.translate(r.x+r.w/2,r.y+r.h/2),s=new e.Rectangle(0,0,r.h,r.w),a.setMatrix(o)}U.addPlotAreaDnDBackground(t,a,r,n),ie._renderFunnelSlices(t,a,s)||J.renderEmptyText(t,i,r);var h=H.getInitialSelection(t);U.setInitialSelection(t,h),t.highlight(V.getHighlightedCategories(t))},ie._renderFunnelSlices=function(e,t,i){for(var r=e.getOptions(),s=H.getSeriesCount(e),n=V.getDataItemGaps(e),o=("on"==r.styleDefaults.threeDEffect?ie._DEFAULT_3D_GAP_RATIO:ie._DEFAULT_2D_GAP_RATIO)*i.w,l=n*Math.min(ie._MAX_WIDTH_FOR_GAPS*i.w/(s-1),o),h=0,u=0,g=0,d=0;d<s;d++)V.isDataItemRendered(e,d)&&(null==(p=H.getTargetValue(e,d))&&(p=H.getValue(e,d,ie._GROUP_INDEX)),p<=0||(h+=p));if(0==h)return!1;for(d=s-1;d>=0;d--)if(V.isDataItemRendered(e,d)){var c,p=H.getValue(e,d,ie._GROUP_INDEX),_=H.getTargetValue(e,d);p<=0&&null==_||null!=_&&_<=0||(null!=_?_:p)<ie._SLICE_VALUE_THRESHOLD*h||(null!=_?(g+=_/h,c=new A(e,d,u,i.w,i.h,1-g,_/h,p/_,l)):(g+=p/h,c=new A(e,d,u,i.w,i.h,1-g,p/h,null,l)),u++,t.addChild(c),a.associate(c,e,d,ie._GROUP_INDEX))}return!0};var re=new Object;e.Obj.createSubclass(re,e.Obj),re._DEFAULT_GAP_RATIO=1/70,re._MAX_HEIGHT_FOR_GAPS=.25,re._GROUP_INDEX=0,re.render=function(t,i,r){var a=new e.Container(t.getCtx());a.setTranslate(r.x,r.y),i.addChild(a),t.setPlotArea(a);var s=new e.Rectangle(0,0,r.w,r.h);U.addPlotAreaDnDBackground(t,a,r,!0),re._renderPyramidSlices(t,a,s)||J.renderEmptyText(t,i,r);var n=H.getInitialSelection(t);U.setInitialSelection(t,n),t.highlight(V.getHighlightedCategories(t))},re._renderPyramidSlices=function(e,t,i){for(var r=H.getSeriesCount(e),s=V.getDataItemGaps(e),n=re._DEFAULT_GAP_RATIO*i.h,o=s*Math.min(re._MAX_HEIGHT_FOR_GAPS*i.h/(r-1),n),l=0,h=0,u=0,g=0;g<r;g++)V.isDataItemRendered(e,g)&&((d=H.getValue(e,g,re._GROUP_INDEX))<=0||(l+=d));if(0==l)return!1;for(g=0;g<r;g++){var d;if(V.isDataItemRendered(e,g)&&!((d=H.getValue(e,g,re._GROUP_INDEX))<=0)){var c=new x(e,g,h,i.w,i.h,u,d/l,o);u+=d/l,h++,t.addChild(c),a.associate(c,e,g,re._GROUP_INDEX)}}return!0};var ae=new Object;e.Obj.createSubclass(ae,e.Obj),ae.renderBackgroundObjects=function(e,t,i){ae._renderObjects(e,t,i,"back")},ae.renderForegroundObjects=function(e,t,i){ae._renderObjects(e,t,i,"front")},ae._renderObjects=function(e,t,i,r){ae._renderObjectsForAxis(e,t,i,r,e.xAxis,G.getAxisRefObjs(e,"x")),ae._renderObjectsForAxis(e,t,i,r,e.yAxis,G.getAxisRefObjs(e,"y")),ae._renderObjectsForAxis(e,t,i,r,e.y2Axis,G.getAxisRefObjs(e,"y2"))},ae._renderObjectsForAxis=function(e,t,i,r,a,n){if(n&&a)for(var o=0;o<n.length;o++){var l=n[o];if(G.isObjectRendered(e,l)&&l&&G.getLocation(l)==r){var h,u=G.getType(l)
;if("area"==u?h=ae._createReferenceArea(l,e,i,a):"line"==u&&(h=ae._createReferenceLine(l,e,i,a)),null!=h){var g=a==e.xAxis?"xAxis":a==e.yAxis?"yAxis":"y2Axis",d=new s(e,[h],l,o,g);e.registerObject(d),e.getEventManager().associate(h,d),t.addChild(h)}}}},ae._createReferenceArea=function(t,i,r,a){var s,n=i.getCtx(),o=a.getPosition(),l="top"==o||"bottom"==o,h="radial"==o,u=G.getColor(t),g=G.getLineType(t),d=t.style||t.svgStyle,c=t.className||t.svgClassName;if(null==t.items||a!=i.yAxis&&a!=i.y2Axis){var p=G.getLowValue(t),S=G.getHighValue(t);null!=p&&p!=-1/0||(p=a.getInfo().getGlobalMin()),null!=S&&S!=1/0||(S=a.getInfo().getGlobalMax());var C=ae._getAxisCoord(i,a,p),m=ae._getAxisCoord(i,a,S);if(z.isPolar(i)){var y,v=r.x+r.w/2,A=r.y+r.h/2;if(h)if(N.isGridPolygonal(i)){var x=H.getGroupCount(i),b=e.PolygonUtils.getRegularPolygonPoints(v,A,x,m,0,1),I=e.PolygonUtils.getRegularPolygonPoints(v,A,x,C,0,0);y=e.PathUtils.polyline(b)+e.PathUtils.polyline(I)+e.PathUtils.closePath()}else y=e.PathUtils.moveTo(v,A-m)+e.PathUtils.arcTo(m,m,Math.PI,1,v,A+m)+e.PathUtils.arcTo(m,m,Math.PI,1,v,A-m)+e.PathUtils.moveTo(v,A-C)+e.PathUtils.arcTo(C,C,Math.PI,0,v,A+C)+e.PathUtils.arcTo(C,C,Math.PI,0,v,A-C)+e.PathUtils.closePath();else{var T=i.getRadius(),E=te.polarToCartesian(T,C,r),D=te.polarToCartesian(T,m,r);y=e.PathUtils.moveTo(v,A)+e.PathUtils.lineTo(E.x,E.y)+e.PathUtils.arcTo(T,T,m-C,e.Agent.isRightToLeft(n)?0:1,D.x,D.y)+e.PathUtils.lineTo(D.x,D.y)+e.PathUtils.closePath()}s=new e.Path(n,y)}else{var O;O=l?[C,0,m,0,m,r.h,C,r.h]:[0,C,0,m,r.w,m,r.w,C],s=new e.Polygon(n,O)}s.setSolidFill(u),s.setStyle(d).setClassName(c)}else{var P=t.items,M=[],R=[];if(i.xAxis.isGroupAxis())for(;P.length<H.getGroupCount(i);)P.push(null);for(var w=0;w<P.length;w++){var L=P[w],B=G.getLowValue(L),F=G.getHighValue(L);if(null!=B&&null!=F){var k=a.getUnboundedCoordAt(B),U=a.getUnboundedCoordAt(F),Y=i.xAxis.getUnboundedCoordAt(G.getXValue(i,P,w));M.push(new _(Y,U,U)),R.push(new _(Y,k,k))}else M.push(new _),R.push(new _)}s=new f(i,!0,r,null,d,c,new e.SolidFill(u),null,g,M,g,R)}return s},ae._createReferenceLine=function(t,i,r,a){var s=a.getPosition(),n="top"==s||"bottom"==s,o="radial"==s,l="tangential"==s,h=G.getLineWidth(t),u=G.getLineType(t),g=G.getColor(t),d=new e.SolidStroke(g,1,h),c=t.style||t.svgStyle,p=t.className||t.svgClassName;t.lineStyle&&d.setStyle(e.Stroke.convertTypeString(t.lineStyle));var S,C=i.getCtx();if(null==t.items||a!=i.yAxis&&a!=i.y2Axis){if(!t.value)return null;var m=ae._getAxisCoord(i,a,t.value);if(null==m||m==1/0||m==-1/0)return null;var y=r.x+r.w/2,v=r.y+r.h/2;if(o)N.isGridPolygonal(i)?(x=e.PolygonUtils.getRegularPolygonPoints(y,v,H.getGroupCount(i),m,0),S=new e.Polygon(C,x)):S=new e.Circle(C,y,v,m),S.setFill(null);else if(l){var A=te.polarToCartesian(i.getRadius(),m,r);S=new e.Line(C,y,v,A.x,A.y)}else(S=n?new e.Line(C,m,0,m,r.h):new e.Line(C,0,m,r.w,m)).setPixelHinting(!0);S.setStroke(d),S.setStyle(c).setClassName(p)}else{var x,b=t.items;if([].push(x=[]),i.xAxis.isGroupAxis())for(;b.length<H.getGroupCount(i);)b.push(null);for(var I=[],T=0;T<b.length;T++){var E=b[T],D=null;if(null!=E&&("object"!=typeof E?D=E:null!=E.value&&(D=E.value)),null!=D){var O=a.getUnboundedCoordAt(D),P=i.xAxis.getUnboundedCoordAt(G.getXValue(i,b,T));I.push(new _(P,O,O))}else I.push(new _)}S=new f(i,!1,r,null,c,p,null,d,u,I)}return S},ae._getAxisCoord=function(e,t,i){if(t.isGroupAxis()){var r=H.getGroupIndex(e,i);if(r>=0)return t.getUnboundedCoordAt(r)}return isNaN(i)?null:t.getUnboundedCoordAt(i)},e.SparkChart=function(){},e.Obj.createSubclass(e.SparkChart,e.BaseComponent),e.SparkChart.newInstance=function(t,i,r){var a=new e.SparkChart;return t.getStage().setCursor(""),a.Init(t,i,r),a},e.SparkChart.getDefaults=function(e){return(new ne).getDefaults(e)},e.SparkChart.prototype.Init=function(t,i,r){e.SparkChart.superclass.Init.call(this,t,i,r),this.Defaults=new ne,this.EventManager=new oe(this),this.EventManager.addListeners(this),this._chart=e.Chart.newInstance(t,this._onRenderEnd,this),this.addChild(this._chart),e.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(new e.KeyboardHandler(this.EventManager,this)),this._tooltipMask=new e.Rect(t),this.addChild(this._tooltipMask),this.setId("sparkChart1000"+Math.floor(1e9*Math.random()))},e.SparkChart.prototype.SetOptions=function(t){t?(this.Options=this.Defaults.calcOptions(t),e.Agent.isEnvironmentBrowser()||(this.Options.animationOnDisplay="none",this.Options.animationOnDataChange="none")):this.Options||(this.Options=this.GetDefaults())},e.SparkChart.prototype.setId=function(t){e.SparkChart.superclass.setId.call(this,t),this._chart&&this._chart.setId(t+"chart")},e.SparkChart.prototype.render=function(t,i,r){this.SetOptions(t),isNaN(i)||isNaN(r)||(this.Width=i,this.Height=r),this._eventReceived=!1,this._isDoneRendering=!1,le.render(this,this.Width,this.Height);var a=this.Options.shortDesc;this._tooltipMask.setWidth(this.Width),this._tooltipMask.setHeight(this.Height),this._tooltipMask.setInvisibleFill();var s=this.Options.tooltip,n=s?s.renderer:null,o=this.Options.color;if(n){var l={component:this.Options._widgetConstructor,color:o};this._peer=new e.CustomDatatipPeer(this.getCtx().getTooltipManager(),n,o,l),this.EventManager.associate(this._tooltipMask,this._peer)}else a?(this._peer=new e.SimpleObjPeer(null,a,o),this.EventManager.associate(this._tooltipMask,this._peer)):this._peer=null;this.Options._selectingCursor&&this.setCursor(e.SelectionEffectUtils.getSelectingCursor()),this.UpdateAriaAttributes(),this._eventReceived&&this.RenderComplete(),this._isDoneRendering=!0},e.SparkChart.prototype._onRenderEnd=function(e){this._eventReceived=!0,"ready"==e.type&&this._isDoneRendering&&this.RenderComplete()},e.SparkChart.prototype.__getChart=function(){return this._chart},e.SparkChart.prototype.getAutomation=function(){return new se(this)},e.SparkChart.prototype.GetComponentDescription=function(){return e.Bundle.getTranslation(this.getOptions(),"componentName",e.Bundle.UTIL_PREFIX,"CHART")},e.SparkChart.prototype.UpdateAriaAttributes=function(){var t=e.Displayable.generateAriaLabel(e.StringUtils.processAriaLabel(this.GetComponentDescription()),this.Options.shortDesc?[this.Options.shortDesc]:null);this.IsParentRoot()?(this.getCtx().setAriaRole("img"),this.getCtx().setAriaLabel(e.Bundle.getTranslatedString(e.Bundle.UTIL_PREFIX,"COLON_SEP_LIST",[e.Bundle.getTranslatedString(e.Bundle.UTIL_PREFIX,"DATA_VISUALIZATION"),t]))):(this.setAriaRole("img"),this.setAriaProperty("label",t))},e.SparkChart.prototype.__getLogicalObject=function(){return this._peer};var se=function(e){this._sparkChart=e};e.Obj.createSubclass(se,e.Automation),se.prototype.getDataItem=function(e){var t=this._sparkChart.__getChart().getAutomation().getDataItem(0,e);return t?{borderColor:t.borderColor,color:t.color,date:t.x,low:t.low,high:t.high,value:null==t.low||null==t.high?t.value:t.high-t.low}:null};var ne=function(){this.Init({skyros:ne.VERSION_1,alta:ne.SKIN_ALTA})};e.Obj.createSubclass(ne,e.BaseComponentDefaults),ne.SKIN_ALTA={skin:e.CSSStyle.SKIN_ALTA,color:"#267db3"},ne.VERSION_1={skin:e.CSSStyle.SKIN_SKYROS,type:"line",animationOnDisplay:"none",animationOnDataChange:"none",areaSvgClassName:"",emptyText:null,color:"#666699",firstColor:"",lastColor:"",highColor:"",lowColor:"",visualEffects:"auto",baselineScaling:"min",barSpacing:"auto",lineWidth:1,lineStyle:"solid",lineType:"straight",markerSize:5,markerShape:"auto",barGapRatio:.25,referenceObjects:[],svgClassName:"",_statusMessageStyle:new e.CSSStyle("font-size: 12px; color: #404259;")},ne.prototype.getAnimationDuration=function(e){return e.animationDuration};var oe=function(e){this.Init(e.getCtx(),e.dispatchEvent,e),this._sparkChart=e};e.Obj.createSubclass(oe,e.EventManager),oe.prototype.ProcessKeyboardEvent=function(t){if(!this.KeyboardHandler)return!1;if(t.keyCode==e.KeyboardEvent.TAB){var i=this._sparkChart.getCtx().getStageAbsolutePosition();this.ProcessObjectTooltip(t,i.x,i.y,this._sparkChart.__getLogicalObject(),this._sparkChart)}return!1},oe.prototype.OnBlur=function(e){oe.superclass.OnBlur.call(this,e),this.hideTooltip()};var le=new Object;e.Obj.createSubclass(le,e.Obj),le.render=function(e,t,i){var r=e.__getChart(),a=le._convertOptionsObj(e),s=e.getOptions();if("area"==s.type||"line"==s.type||"lineWithArea"==s.type){var n=le._getDataItems(e),o=!1;if(s.firstColor||s.lastColor||s.highColor||s.lowColor)o=!0;else for(var l=0;l<n.length;l++)if(n[l]&&"on"==n[l].markerDisplayed){o=!0;break}if(o&&n.length>0||"none"==s.lineType){var h=s.markerSize/2;t-=2*h,i-=2*h,r.setTranslate(h,h)}}r.render(a,t,i)},le._getDataItems=function(e){var t=e.getOptions();return t&&t.items?t.items:[]},le._convertOptionsObj=function(t){var i=t.getOptions(),r={styleDefaults:{},xAxis:{},yAxis:{},groups:[]};r.translations=i.translations;for(var a=[],s=-1,n=-1,o=-1/0,l=1/0,h=le._getDataItems(t),u=0;u<h.length;u++){var g=h[u],d={};g instanceof Object?(d.value=g.value,d.low=g.low,d.high=g.high,g.date&&(r.timeAxisType="enabled",r.groups.push(g.date)),"on"==g.markerDisplayed&&(d.markerDisplayed="on"),g.color&&(d.color=g.color),g.borderColor&&(d.borderColor=g.borderColor),g.markerShape&&(d.markerShape=g.markerShape),g.markerSize&&(d.markerSize=g.markerSize),(g.className||g.svgClassName)&&(d.svgClassName=g.className||g.svgClassName),(g.style||g.svgStyle)&&(d.svgStyle=g.style||g.svgStyle)):d.value=g,a.push(d);var c=null!=d.value?d.value:Math.max(d.low,d.high);o<c&&(o=c,s=u);var p=null!=d.value?d.value:Math.min(d.low,d.high);l>p&&(l=p,n=u)}i.highColor&&s>=0&&(a[s].markerDisplayed="on",a[s].color||(a[s].color=i.highColor)),i.lowColor&&n>=0&&(a[n].markerDisplayed="on",a[n].color||(a[n].color=i.lowColor)),i.firstColor&&a.length>0&&(a[0].markerDisplayed="on",a[0].color||(a[0].color=i.firstColor)),i.lastColor&&a.length>0&&(a[a.length-1].markerDisplayed="on",a[a.length-1].color||(a[a.length-1].color=i.lastColor)),r.series=[{items:a,areaColor:i.areaColor,svgClassName:i.className||i.svgClassName,svgStyle:i.style||i.svgStyle,areaSvgClassName:i.areaClassName||i.areaSvgClassName,areaStyle:i.areaStyle||i.areaSvgStyle}],i.referenceObjects&&i.referenceObjects.length>0&&(r.yAxis.referenceObjects=i.referenceObjects),r.__spark=!0;var _=i.barSpacing;"auto"==_&&(_=e.Agent.getDevicePixelRatio()>1?"subpixel":"pixel"),r.__sparkBarSpacing=_,r.type=i.type,r.animationOnDataChange=i.animationOnDataChange,r.animationOnDisplay=i.animationOnDisplay,r.emptyText=i.emptyText,i.color&&(r.styleDefaults.colors=[i.color]),r.styleDefaults.animationDuration=i.animationDuration,r.styleDefaults.animationIndicators="none",r.styleDefaults.lineWidth=i.lineWidth,r.styleDefaults.lineStyle=i.lineStyle,r.styleDefaults.lineType=i.lineType,r.styleDefaults.markerSize=i.markerSize,r.styleDefaults.markerShape=i.markerShape,r.styleDefaults.barGapRatio=i.barGapRatio,r.styleDefaults.dataItemGaps="0%",r.xAxis.rendered="off",r.yAxis.rendered="off";var f="zero"==i.baselineScaling,S=o!=l?.1*(o-l):.1*Math.abs(o);return r.yAxis.min=f&&l>=0?0:l-S,r.yAxis.max=f&&o<=0?0:o+S,"none"==i.visualEffects||"area"!=i.type&&"lineWithArea"!=i.type?r.styleDefaults.seriesEffect="color":r.styleDefaults.seriesEffect="gradient",r.layout={gapWidthRatio:0,gapHeightRatio:0},r.legend={rendered:"off"},r._statusMessageStyle=i._statusMessageStyle,r},e.exportProperty(e,"Chart",e.Chart),e.exportProperty(e.Chart,"newInstance",e.Chart.newInstance),e.exportProperty(e.Chart.prototype,"destroy",e.Chart.prototype.destroy),e.exportProperty(e.Chart.prototype,"getAutomation",e.Chart.prototype.getAutomation),e.exportProperty(e.Chart.prototype,"getDefaults",e.Chart.prototype.getDefaults),e.exportProperty(e.Chart.prototype,"getValuesAt",e.Chart.prototype.getValuesAt),e.exportProperty(e.Chart.prototype,"highlight",e.Chart.prototype.highlight),e.exportProperty(e.Chart.prototype,"positionDataCursor",e.Chart.prototype.positionDataCursor),e.exportProperty(e.Chart.prototype,"render",e.Chart.prototype.render),e.exportProperty(e.Chart.prototype,"select",e.Chart.prototype.select),e.exportProperty(t.prototype,"getDomElementForSubId",t.prototype.getDomElementForSubId),e.exportProperty(t.prototype,"getDataItem",t.prototype.getDataItem),e.exportProperty(t.prototype,"getGroup",t.prototype.getGroup),e.exportProperty(t.prototype,"getSeries",t.prototype.getSeries),e.exportProperty(t.prototype,"getGroupCount",t.prototype.getGroupCount),e.exportProperty(t.prototype,"getSeriesCount",t.prototype.getSeriesCount),e.exportProperty(t.prototype,"getTitle",t.prototype.getTitle),e.exportProperty(t.prototype,"getLegend",t.prototype.getLegend),e.exportProperty(t.prototype,"getPlotArea",t.prototype.getPlotArea),e.exportProperty(t.prototype,"getXAxis",t.prototype.getXAxis),e.exportProperty(t.prototype,"getYAxis",t.prototype.getYAxis),e.exportProperty(t.prototype,"getY2Axis",t.prototype.getY2Axis),e.exportProperty(n.prototype,"getId",n.prototype.getId),e.exportProperty(n.prototype,"getSeries",n.prototype.getSeries),e.exportProperty(n.prototype,"getGroup",n.prototype.getGroup),e.exportProperty(e,"SparkChart",e.SparkChart),e.exportProperty(e.SparkChart,"newInstance",e.SparkChart.newInstance),e.exportProperty(e.SparkChart.prototype,"destroy",e.SparkChart.prototype.destroy),e.exportProperty(e.SparkChart.prototype,"getAutomation",e.SparkChart.prototype.getAutomation),e.exportProperty(e.SparkChart.prototype,"getDefaults",e.SparkChart.prototype.getDefaults),e.exportProperty(e.SparkChart.prototype,"render",e.SparkChart.prototype.render),e.exportProperty(se.prototype,"getDataItem",se.prototype.getDataItem)}(e),e});
define('ojs/ojchart',["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojdvt-base","ojs/internal-deps/dvt/DvtChart"],function(e,t,r,n,o){e.ChartDataProviderHandler=function(t,r,n){this._component=t,this._templateEngine=n,this._templates=t.getTemplates(),this._data=r,this._templates.itemTemplate?this.Init():e.Logger.error("No itemTemplate slot specified.")},e.Object.createSubclass(e.ChartDataProviderHandler,e.Object,"oj.ChartDataProviderHandler"),e.ChartDataProviderHandler.prototype.Init=function(){this._parentElement=this._component.element[0],this._itemTemplate=this._templates.itemTemplate[0],this._seriesTemplate=this._templates.seriesTemplate?this._templates.seriesTemplate[0]:null,this._groupTemplate=this._templates.groupTemplate?this._templates.groupTemplate[0]:null,this._alias=this._component.options.as,this._seriesComparator=this._component.options.seriesComparator,this._groupComparator=this._component.options.groupComparator,this._itemMap={},this._seriesContexts={},this._groupContexts={},this._itemContexts={};var t=this._data.data,r=this._data.keys,n=0,o=0,i=Object.keys(e.CustomElementBridge.getMetadata("oj-chart-item").properties),a=[],s=document.createElement("div");s.setAttribute("data-oj-context","");for(var l=document.createDocumentFragment(),p=0;p<t.length;p++){var u,g;u={data:t[p],key:r[p],index:p,componentElement:this._parentElement};try{for(var y=this._templateEngine.execute(this._parentElement,this._itemTemplate,u,this._alias),d=0;d<y.length;d++)if(y[d].tagName&&"oj-chart-item"===y[d].tagName.toLowerCase()){g=y[d];break}}catch(t){e.Logger.error(t),a=[];break}this._itemContexts[p]=u,a.push(g),l.appendChild(g)}s.appendChild(l),document.body.appendChild(s);var m=this,c=e.Context.getContext(s).getBusyContext().whenReady().then(function(){for(var e=[],l=0;l<a.length;l++){for(var p=a[l],u=m._itemContexts[l],g={id:r[l],_itemData:t[l]},y=0;y<i.length;y++){var d=p.getProperty(i[y]);void 0!==d&&(g[i[y]]=d)}if(!m._itemMap[g.seriesId]||!m._itemMap[g.seriesId][g.groupId]){e.push(g),delete u.componentElement;var c,h=g.seriesId;if(m._seriesContexts[h])m._seriesContexts[h].items.push(u);else c={componentElement:m._parentElement,id:h,items:[u],index:n},m._seriesContexts[h]=c,n++;var b=g.groupId,v=o;m._groupContexts[b.slice(0,b.length-1)]||o++,m._groupContexts=m._addToGroupContexts(m._groupContexts,u,b,1,v),m._itemMap[g.seriesId]||(m._itemMap[g.seriesId]={}),m._itemMap[g.seriesId][g.groupId]=g}}return m._templateEngine.clean(s),document.body.removeChild(s),s=null,e});this._groups=c.then(function(e){return m._createGroups(e).then(function(e){return m._groupComparator&&(e=m._sortGroups(e)),e})}),this._series=this._groups.then(function(e){return m._createSeries(e).then(function(e){return m._seriesComparator&&(e=m._sortSeries(e)),e})})},e.ChartDataProviderHandler.prototype.getSeries=function(){return this._series||Promise.resolve([])},e.ChartDataProviderHandler.prototype.getGroups=function(){return this._groups||Promise.resolve([])},e.ChartDataProviderHandler.prototype._addToGroupContexts=function(e,t,r,n,o){var i=n-1;if(i<r.length){var a=r[i],s=e[a];s?s.items.push(t):(e[a]={},e[a]={ids:r,componentElement:this._parentElement,items:[t],depth:n,leaf:n==r.length,index:o}),o=s?s.items.length-1:0,e=this._addToGroupContexts(e,t,r,n+1,o)}return e},e.ChartDataProviderHandler.prototype._createSeries=function(t){var r,n,o=Object.keys(this._seriesContexts),i=Object.keys(e.CustomElementBridge.getMetadata("oj-chart-series").properties),a=[];if(this._seriesTemplate){(r=document.createElement("div")).setAttribute("data-oj-context","");for(var s=document.createDocumentFragment(),l=0;l<o.length;l++){var p,u=o[l],g=this._seriesContexts[u];try{for(var y=this._templateEngine.execute(this._parentElement,this._seriesTemplate,g,this._alias),d=0;d<y.length;d++)if(y[d].tagName&&"oj-chart-series"===y[d].tagName.toLowerCase()){p=y[d];break}}catch(t){e.Logger.error(t),a=[];break}a.push(p),s.appendChild(p)}r.appendChild(s),document.body.appendChild(r),n=e.Context.getContext(r).getBusyContext().whenReady()}else n=Promise.resolve();var m=this;return n.then(function(){for(var e=[],n=0;n<o.length;n++){var s=o[n],l={id:s,name:s};if(a.length>0)for(var p=a[n],u=0;u<i.length;u++){var g=p.getProperty(i[u]);void 0!==g&&(l[i[u]]=g)}e.push(l)}return r&&(m._templateEngine.clean(r),document.body.removeChild(r),r=null),m._addItemsToSeries(e,t)})},e.ChartDataProviderHandler.prototype._addItemsToSeries=function(e,t){for(var r=function(e){if(e.groups){for(var t=[],n=0;n<e.groups.length;n++)t.push([e.id].concat(r(e.groups[n])));return t}return[e.id]},n=[],o=0;o<t.length;o++){var i=t[o],a=r(i);n=n.concat(a)}for(o=0;o<e.length;o++){for(var s=e[o],l=[],p=0;p<n.length;p++){var u=n[p],g=this._itemMap[s.id][u]||null;g&&(delete g.groupId,delete g.seriesId),l.push(g)}e[o].items=l}return e},e.ChartDataProviderHandler.prototype._createGroups=function(t){var r,n,o=Object.keys(e.CustomElementBridge.getMetadata("oj-chart-group").properties),i={};if(this._groupTemplate){(r=document.createElement("div")).setAttribute("data-oj-context","");for(var a=document.createDocumentFragment(),s=Object.keys(this._groupContexts),l=0;l<s.length;l++){var p,u=s[l],g=this._groupContexts[u];try{for(var y=this._templateEngine.execute(this._parentElement,this._groupTemplate,g,this._alias),d=0;d<y.length;d++)if(y[d].tagName&&"oj-chart-group"===y[d].tagName.toLowerCase()){p=y[d];break}}catch(t){e.Logger.error(t),i={};break}r.appendChild(p),i[u]=p}r.appendChild(a),document.body.appendChild(r),n=e.Context.getContext(r).getBusyContext().whenReady()}else n=Promise.resolve();var m=this;return n.then(function(){for(var e=[],n=0;n<t.length;n++){var a=t[n];e=m._addGroupItem(a,a.groupId,e,o,i)}return r&&(m._templateEngine.clean(r),document.body.removeChild(r),r=null),e})},e.ChartDataProviderHandler.prototype._addGroupItem=function(e,t,r,n,o){r||(r=[]);for(var i,a=t[0],s=null,l=0;l<r.length;l++)r[l].id==a&&(s=l);if(null!=s)i=r[s];else{i={id:a,name:a};var p=o[a];if(p)for(var u=0;u<n.length;u++){var g=p.getProperty(n[u]);void 0!==g&&(i[n[u]]=g)}r.push(i)}return t.length>1&&(i.groups=this._addGroupItem(e,t.slice(1),i.groups,n,o)),r},e.ChartDataProviderHandler.prototype._sortSeries=function(e){var t,r;e.sort((t=this._seriesContexts,r=this._seriesComparator,function(e,n){return r(t[e.id],t[n.id])}));for(var n=0;n<e.length;n++){var o=e[n].id;this._seriesContexts[o].index=n}return e},e.ChartDataProviderHandler.prototype._sortGroups=function(e){var t,r;e.sort((t=this._groupContexts,r=this._groupComparator,function(e,n){var o=e.id,i=n.id,a=t[o],s=t[i];return r(a,s)}));for(var n=0;n<e.length;n++){var o=e[n].id;this._groupContexts[o].index=n,e[n].groups&&(e[n].groups=this._sortGroups(e[n].groups))}return e},e.__registerWidget("oj.ojChart",t.oj.dvtBaseComponent,{widgetEventPrefix:"oj",options:{data:null,selectInput:null,viewportChange:null,viewportChangeInput:null,drill:null},_CreateDvtComponent:function(e,t,r){return o.Chart.newInstance(e,t,r)},_ConvertLocatorToSubId:function(e){var t=e.subId;return"oj-chart-item"===t?t="dataItem["+e.seriesIndex+"]["+e.itemIndex+"]":"oj-chart-group"===t?t="group"+this._GetStringFromIndexPath(e.indexPath):"oj-chart-series"===t?t="series["+e.index+"]":"oj-chart-axis-title"===t?t=e.axis+":title":"oj-chart-reference-object"===t?t=e.axis+":referenceObject["+e.index+"]":"oj-legend-item"===t?(t="legend:section"+this._GetStringFromIndexPath(e.sectionIndexPath),t+=":item["+e.itemIndex+"]"):"oj-chart-tooltip"===t?t="tooltip":"oj-chart-pie-center-label"===t&&(t="pieCenterLabel"),t},_ProcessTemplates:function(t,r){var n=new e.ChartDataProviderHandler(this,t,r);return Promise.all([n.getSeries(),n.getGroups(),t]).then(function(e){return{paths:["series","groups","data"],values:e}})},_ProcessOptions:function(){this._super();var e=this.options.pieCenter;e&&e._renderer&&(e.renderer=this._GetTemplateRenderer(e._renderer,"center"));var t=this.options.selection;this._IsCustomElement()&&t&&"object"==typeof t[0]&&!this.options.data&&(this.options.selection=null)},_ConvertSubIdToLocator:function(e){var t={};if(0===e.indexOf("dataItem")){var r=this._GetIndexPath(e);t.subId="oj-chart-item",t.seriesIndex=r[0],t.itemIndex=r[1]}else if(0===e.indexOf("group"))t.subId="oj-chart-group",t.indexPath=this._GetIndexPath(e);else if(0===e.indexOf("series"))t.subId="oj-chart-series",t.index=this._GetFirstIndex(e);else if(e.indexOf("Axis:title")>0)t.subId="oj-chart-axis-title",t.axis=e.substring(0,e.indexOf(":"));else if(e.indexOf("Axis:referenceObject")>0)t.subId="oj-chart-reference-object",t.axis=e.substring(0,e.indexOf(":")),t.index=this._GetFirstIndex(e);else if(0===e.indexOf("legend")){if(e.indexOf(":item")>0){var n=e.indexOf(":item"),o=e.substring(0,n),i=e.substring(n);t.subId="oj-legend-item",t.sectionIndexPath=this._GetIndexPath(o),t.itemIndex=this._GetFirstIndex(i)}}else"tooltip"===e?t.subId="oj-chart-tooltip":"pieCenterLabel"===e&&(t.subId="oj-chart-pie-center-label");return t},_ProcessStyles:function(){if(this._super(),this.options.styleDefaults||(this.options.styleDefaults={}),!this.options.styleDefaults.colors){var t=new e.ColorAttributeGroupHandler;this.options.styleDefaults.colors=t.getValueRamp()}},_GetComponentRendererOptions:function(){return["tooltip/renderer","pieCenter/renderer"]},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-chart"),e},_GetChildStyleClasses:function(){var e=this._super();return e["oj-chart-data-label"]={path:"styleDefaults/dataLabelStyle",property:"TEXT"},e["oj-chart-data-cursor-line"]={path:"styleDefaults/dataCursor/lineColor",property:"color"},e["oj-chart-stack-label"]={path:"styleDefaults/stackLabelStyle",property:"TEXT"},e["oj-chart-pie-center-label"]={path:"pieCenter/labelStyle",property:"TEXT"},e["oj-chart-slice-label"]={path:"styleDefaults/sliceLabelStyle",property:"TEXT"},e["oj-chart-stock-falling"]={path:"styleDefaults/stockFallingColor",property:"background-color"},e["oj-chart-stock-range"]={path:"styleDefaults/stockRangeColor",property:"background-color"},e["oj-chart-stock-rising"]={path:"styleDefaults/stockRisingColor",property:"background-color"},e["oj-chart-tooltip-label"]={path:"styleDefaults/tooltipLabelStyle",property:"TEXT"},e["oj-chart-xaxis-tick-label"]={path:"xAxis/tickLabel/style",property:"TEXT"},e["oj-chart-xaxis-title"]={path:"xAxis/titleStyle",property:"TEXT"},e["oj-chart-yaxis-tick-label"]={path:"yAxis/tickLabel/style",property:"TEXT"},e["oj-chart-yaxis-title"]={path:"yAxis/titleStyle",property:"TEXT"},e["oj-chart-y2axis-tick-label"]={path:"y2Axis/tickLabel/style",property:"TEXT"},e["oj-chart-y2axis-title"]={path:"y2Axis/titleStyle",property:"TEXT"},e["oj-legend"]={path:"legend/textStyle",property:"TEXT"},e["oj-legend-title"]={path:"legend/titleStyle",property:"TEXT"},e},_GetEventTypes:function(){return["drill","optionChange","selectInput","viewportChange","viewportChangeInput"]},_GetTranslationMap:function(){var e=this.options.translations,t=this._super();return t["DvtChartBundle.DEFAULT_GROUP_NAME"]=e.labelDefaultGroupName,t["DvtChartBundle.LABEL_SERIES"]=e.labelSeries,t["DvtChartBundle.LABEL_GROUP"]=e.labelGroup,t["DvtChartBundle.LABEL_VALUE"]=e.labelValue,t["DvtChartBundle.LABEL_TARGET_VALUE"]=e.labelTargetValue,t["DvtChartBundle.LABEL_X"]=e.labelX,t["DvtChartBundle.LABEL_Y"]=e.labelY,t["DvtChartBundle.LABEL_Z"]=e.labelZ,t["DvtChartBundle.LABEL_PERCENTAGE"]=e.labelPercentage,t["DvtChartBundle.LABEL_LOW"]=e.labelLow,t["DvtChartBundle.LABEL_HIGH"]=e.labelHigh,t["DvtChartBundle.LABEL_OPEN"]=e.labelOpen,t["DvtChartBundle.LABEL_CLOSE"]=e.labelClose,t["DvtChartBundle.LABEL_VOLUME"]=e.labelVolume,t["DvtChartBundle.LABEL_Q1"]=e.labelQ1,t["DvtChartBundle.LABEL_Q2"]=e.labelQ2,t["DvtChartBundle.LABEL_Q3"]=e.labelQ3,t["DvtChartBundle.LABEL_MIN"]=e.labelMin,t["DvtChartBundle.LABEL_MAX"]=e.labelMax,t["DvtChartBundle.LABEL_OTHER"]=e.labelOther,t["DvtChartBundle.PAN"]=e.tooltipPan,t["DvtChartBundle.MARQUEE_SELECT"]=e.tooltipSelect,t["DvtChartBundle.MARQUEE_ZOOM"]=e.tooltipZoom,t["DvtUtilBundle.CHART"]=e.componentName,t},_HandleEvent:function(e){var t=e.type;if("selection"===t){var r=e.selection;if(r){for(var n=[],o=[],i=0;i<r.length;i++){var a;a=this._IsCustomElement()?r[i].id:{id:r[i].id,series:r[i].series,group:r[i].group};var s={data:r[i].data,seriesData:r[i].seriesData,groupData:r[i].groupData,itemData:r[i].itemData};n.push(a),o.push(s)}var l={endGroup:e.endGroup,startGroup:e.startGroup,xMax:e.xMax,xMin:e.xMin,yMax:e.yMax,yMin:e.yMin,y2Max:e.y2Max,y2Min:e.y2Min,selectionData:o};this._IsCustomElement()||(l.component=e.component),e.complete?this._UserOptionChange("selection",n,l):(l.items=n,this._trigger("selectInput",null,l))}}else if("viewportChange"===t){var p={endGroup:e.endGroup,startGroup:e.startGroup,xMax:e.xMax,xMin:e.xMin,yMax:e.yMax,yMin:e.yMin};e.complete&&(this.options.xAxis||(this.options.xAxis={}),this.options.yAxis||(this.options.yAxis={}),this.options.xAxis.viewportStartGroup=null,this.options.xAxis.viewportEndGroup=null,null!=e.xMin&&null!=e.xMax&&(this.options.xAxis.viewportMin=e.xMin,this.options.xAxis.viewportMax=e.xMax),null!=e.yMin&&null!=e.yMax&&(this.options.yAxis.viewportMin=e.yMin,this.options.yAxis.viewportMax=e.yMax)),this._trigger(e.complete?"viewportChange":"viewportChangeInput",null,p)}else"drill"===t?this._trigger("drill",null,{id:e.id,series:e.series,group:e.group,data:e.data,seriesData:e.seriesData,groupData:e.groupData,itemData:e.itemData,component:e.component}):this._super(e)},_LoadResources:function(){null==this.options._resources&&(this.options._resources={});var t=this.options._resources;t.overviewGrippy=e.Config.getResourceUrl("resources/internal-deps/dvt/chart/drag_horizontal.png"),t.panCursorDown=e.Config.getResourceUrl("resources/internal-deps/dvt/chart/hand-closed.cur"),t.panCursorUp=e.Config.getResourceUrl("resources/internal-deps/dvt/chart/hand-open.cur"),t.panUp="oj-chart-pan-icon",t.panUpHover="oj-chart-pan-icon oj-hover",t.panDown="oj-chart-pan-icon oj-active",t.panDownHover="oj-chart-pan-icon oj-hover oj-active",t.selectUp="oj-chart-select-icon",t.selectUpHover="oj-chart-select-icon oj-hover",t.selectDown="oj-chart-select-icon oj-active",t.selectDownHover="oj-chart-select-icon oj-hover oj-active",t.zoomUp="oj-chart-zoom-icon",t.zoomUpHover="oj-chart-zoom-icon oj-hover",t.zoomDown="oj-chart-zoom-icon oj-active",t.zoomDownHover="oj-chart-zoom-icon oj-hover oj-active"},getTitle:function(){return this._component.getAutomation().getTitle()},getGroup:function(e){return this._component.getAutomation().getGroup(e)},getSeries:function(e){return this._component.getAutomation().getSeries(e)},getGroupCount:function(){return this._component.getAutomation().getGroupCount()},getSeriesCount:function(){return this._component.getAutomation().getSeriesCount()},getDataItem:function(e,t){return this._component.getAutomation().getDataItem(e,t)},getLegend:function(){return this._component.getAutomation().getLegend()},getPlotArea:function(){return this._component.getAutomation().getPlotArea()},getXAxis:function(){return this._component.getAutomation().getXAxis()},getYAxis:function(){return this._component.getAutomation().getYAxis()},getY2Axis:function(){return this._component.getAutomation().getY2Axis()},getValuesAt:function(e,t){return this._component.getValuesAt(e,t)},getContextByNode:function(e){var t=this.getSubIdByNode(e);return t&&"oj-chart-tooltip"!==t.subId?t:null},_GetComponentDeferredDataPaths:function(){return{root:["groups","series","data"]}},_CompareOptionValues:function(t,r,n){return"dataCursorPosition"===t?e.Object.compareValues(r,n):this._super(t,r,n)}}),e.__registerWidget("oj.ojSparkChart",t.oj.dvtBaseComponent,{widgetEventPrefix:"oj",options:{data:null,items:null,referenceObjects:[],tooltip:{renderer:null},type:"line",color:"#267DB3",areaColor:"",areaSvgClassName:"",areaSvgStyle:{},svgClassName:"",svgStyle:{},firstColor:"",lastColor:"",highColor:"",lowColor:"",animationDuration:void 0,animationOnDataChange:"none",animationOnDisplay:"none",visualEffects:"auto",baselineScaling:"min",lineWidth:1,lineStyle:"solid",lineType:"straight",markerShape:"auto",markerSize:5,barGapRatio:.25},_CreateDvtComponent:function(e,t,r){return this._focusable({element:this.element,applyHighlight:!0}),o.SparkChart.newInstance(e,t,r)},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-sparkchart"),e},_GetChildStyleClasses:function(){var e=this._super();return e["oj-dvtbase oj-sparkchart"]={path:"animationDuration",property:"ANIM_DUR"},e},_GetTranslationMap:function(){var e=this.options.translations,t=this._super();return t["DvtUtilBundle.CHART"]=e.componentName,t},_Render:function(){this.element.attr("title")?(this.options.shortDesc=this.element.attr("title"),this.element.data(this.element,"title",this.element.attr("title")),this.element.removeAttr("title")):this.element.data("title")&&(this.options.shortDesc=this.element.data("title")),this._super()},getDataItem:function(e){var t=this._component.getAutomation().getDataItem(e);return this._AddAutomationGetters(t),t&&(t.getFloatValue=t.getLow),t},_GetComponentDeferredDataPaths:function(){return{root:["items","data"]}},_AddAutomationGetters:function(e){if(e){var t={};for(var r in e)this._addGetter(e,r,t);Object.defineProperties(e,t)}},_addGetter:function(e,t,r){r[("selected"==t?"is":"get")+t.charAt(0).toUpperCase()+t.slice(1)]={value:function(){return e[t]}}}}),function(){e.CustomElementBridge.registerMetadata("oj-chart","dvtBaseComponent",{properties:{animationOnDataChange:{type:"string",enumValues:["auto","slideToLeft","slideToRight","none"]},animationOnDisplay:{type:"string",enumValues:["auto","alphaFade","zoom","none"]},as:{type:"string"},coordinateSystem:{type:"string",enumValues:["polar","cartesian"]},data:{type:"DataProvider"},dataCursor:{type:"string",enumValues:["on","off","auto"]},dataCursorBehavior:{type:"string",enumValues:["smooth","snap","auto"]},dataCursorPosition:{type:"object",properties:{x:{type:"number|string"},y:{type:"number"},y2:{type:"number"}},writeback:!0},dataLabel:{},dnd:{type:"object",properties:{drag:{type:"object",properties:{groups:{type:"object",properties:{dataTypes:{type:"Array<string>"},drag:{},dragEnd:{},dragStart:{}}},items:{type:"object",properties:{dataTypes:{type:"Array<string>"},drag:{},dragEnd:{},dragStart:{}}},series:{type:"object",properties:{dataTypes:{type:"Array<string>"},drag:{},dragEnd:{},dragStart:{}}}}},drop:{type:"object",properties:{legend:{type:"object",properties:{dataTypes:{type:"Array<string>"},dragEnter:{},dragLeave:{},dragOver:{},drop:{}}},plotArea:{type:"object",properties:{dataTypes:{type:"Array<string>"},dragEnter:{},dragLeave:{},dragOver:{},drop:{}}},xAxis:{type:"object",properties:{dataTypes:{type:"Array<string>"},dragEnter:{},dragLeave:{},dragOver:{},drop:{}}},y2Axis:{type:"object",properties:{dataTypes:{type:"Array<string>"},dragEnter:{},dragLeave:{},dragOver:{},drop:{}}},yAxis:{type:"object",properties:{dataTypes:{type:"Array<string>"},dragEnter:{},dragLeave:{},dragOver:{},drop:{}}}}}}},dragMode:{type:"string",enumValues:["pan","zoom","select","off","user"]},drilling:{type:"string",enumValues:["on","seriesOnly","groupsOnly","off"]},groupComparator:{},groups:{type:"Array<any>|Promise"},hiddenCategories:{type:"Array<string>",writeback:!0},hideAndShowBehavior:{type:"string",enumValues:["withRescale","withoutRescale","none"]},highlightedCategories:{type:"Array<string>",writeback:!0},highlightMatch:{type:"string",enumValues:["any","all"]},hoverBehavior:{type:"string",enumValues:["dim","none"]},initialZooming:{type:"string",enumValues:["first","last","none"]},legend:{type:"object",properties:{backgroundColor:{type:"string"},borderColor:{type:"string"},maxSize:{type:"string"},position:{type:"string",enumValues:["start","end","bottom","top","auto"]},referenceObjectSection:{type:"object",properties:{title:{type:"string"},titleHalign:{type:"string",enumValues:["center","end","start"]},titleStyle:{type:"object"}}},rendered:{type:"string",enumValues:["on","off","auto"]},scrolling:{type:"string",enumValues:["off","asNeeded"]},sections:{type:"Array<object>"},seriesSection:{type:"object",properties:{title:{type:"string"},titleHalign:{type:"string",enumValues:["center","end","start"]},titleStyle:{type:"object"}}},size:{type:"string"},symbolHeight:{type:"number"},symbolWidth:{type:"number"},textStyle:{type:"object"},title:{type:"string"},titleHalign:{type:"string",enumValues:["center","end","start"]},titleStyle:{type:"object"}}},orientation:{type:"string",enumValues:["horizontal","vertical"]},otherThreshold:{type:"number"},overview:{type:"object",properties:{content:{type:"object"},height:{type:"string"},rendered:{type:"string",enumValues:["on","off"]}}},pieCenter:{type:"object",properties:{converter:{type:"object"},label:{type:"string"},labelStyle:{type:"object"},renderer:{},scaling:{type:"string",enumValues:["none","auto","thousand","million","billion","trillion","quadrillion"]}}},pieCenterLabel:{type:"object",properties:{style:{type:"object"},text:{type:"string"}}},plotArea:{type:"object",properties:{backgroundColor:{type:"string"},borderColor:{type:"string"},borderWidth:{type:"number"},rendered:{type:"string",enumValues:["on","off"]}}},polarGridShape:{type:"string",enumValues:["polygon","circle"]},selection:{type:"Array<any>",writeback:!0},selectionMode:{type:"string",enumValues:["single","multiple","none"]},seriesComparator:{},series:{type:"Array<object>|Promise"},sorting:{type:"string",enumValues:["ascending","descending","off"]},splitDualY:{type:"string",enumValues:["on","off","auto"]},splitterPosition:{type:"number"},stack:{type:"string",enumValues:["on","off"]},stackLabel:{type:"string",enumValues:["on","off"]},styleDefaults:{type:"object",properties:{animationDownColor:{type:"string"},animationDuration:{type:"number"},animationIndicators:{type:"string",enumValues:["none","all"]},animationUpColor:{type:"string"},barGapRatio:{type:"number"},borderColor:{type:"string"},borderWidth:{type:"number"},boxPlot:{type:"object",properties:{medianSvgClassName:{type:"string"},medianSvgStyle:{type:"object"},whiskerSvgClassName:{type:"string"},whiskerEndSvgClassName:{type:"string"},whiskerEndLength:{type:"string"},whiskerEndSvgStyle:{type:"object"},whiskerSvgStyle:{type:"object"}}},colors:{type:"Array<string>"},dataCursor:{type:"object",properties:{lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dotted","dashed","solid"]},lineWidth:{type:"number"},markerColor:{type:"string"},markerDisplayed:{type:"string",enumValues:["on","off"]},markerSize:{type:"number"}}},dataItemGaps:{type:"string"},dataLabelPosition:{type:"string|Array<string>",enumValues:["center","outsideSlice","aboveMarker","belowMarker","beforeMarker","afterMarker","insideBarEdge","outsideBarEdge","none","auto"]},dataLabelStyle:{type:"object|Array<object>"},funnelBackgroundColor:{type:"string"},groupSeparators:{type:"object",properties:{color:{type:"string"},rendered:{type:"string",enumValues:["auto","off"]}}},hoverBehaviorDelay:{type:"number"},lineStyle:{type:"string",enumValues:["dotted","dashed","solid"]},lineType:{type:"string",enumValues:["straight","curved","stepped","centeredStepped","segmented","centeredSegmented","none","auto"]},lineWidth:{type:"number"},markerColor:{type:"string"},markerDisplayed:{type:"string",enumValues:["on","off","auto"]},markerShape:{type:"string"},markerSize:{type:"number"},marqueeBorderColor:{type:"string"},marqueeColor:{type:"string"},maxBarWidth:{type:"number"},otherColor:{type:"string"},patterns:{type:"Array<string>"},pieFeelerColor:{type:"string"},pieInnerRadius:{type:"number"},selectionEffect:{type:"string",enumValues:["explode","highlightAndExplode","highlight"]},seriesEffect:{type:"string",enumValues:["color","pattern","gradient"]},shapes:{type:"Array<string>"},stackLabelStyle:{type:"object"},stockFallingColor:{type:"string"},stockRangeColor:{type:"string"},stockRisingColor:{type:"string"},stockVolumeColor:{type:"string"},threeDEffect:{type:"string",enumValues:["on","off"]},tooltipLabelStyle:{type:"object"},tooltipValueStyle:{type:"object"}}},timeAxisType:{type:"string",enumValues:["enabled","mixedFrequency","skipGaps","disabled","auto"]},tooltip:{type:"object",properties:{renderer:{}}},touchResponse:{type:"string",enumValues:["touchStart","auto"]},translations:{type:"Object",properties:{componentName:{type:"string",value:"Chart"},labelAndValue:{type:"string",value:"{0}: {1}"},labelClearSelection:{type:"string",value:"Clear Selection"},labelClose:{type:"string",value:"Close"},labelCountWithTotal:{type:"string",value:"{0} of {1}"},labelDataVisualization:{type:"string",value:"Data Visualization"},labelDate:{type:"string",value:"Value"},labelDefaultGroupName:{type:"string",value:"Group {0}"},labelGroup:{type:"string",value:"Group"},labelHigh:{type:"string",value:"High"},labelInvalidData:{type:"string",value:"Invalid data"},labelLow:{type:"string",value:"Low"},labelNoData:{type:"string",value:"No data to display"},labelOpen:{type:"string",value:"Open"},labelOther:{type:"string",value:"Other"},labelPercentage:{type:"string",value:"Percentage"},labelQ1:{type:"string",value:"Q1"},labelQ2:{type:"string",value:"Q2"},labelQ3:{type:"string",value:"Q3"},labelSeries:{type:"string",value:"Series"},labelTargetValue:{type:"string",value:"Target"},labelValue:{type:"string",value:"Value"},labelVolume:{type:"string",value:"Volume"},labelX:{type:"string",value:"X"},labelY:{type:"string",value:"Y"},labelZ:{type:"string",value:"Z"},stateCollapsed:{type:"string",value:"Collapsed"},stateDrillable:{type:"string",value:"Drillable"},stateExpanded:{type:"string",value:"Expanded"},stateHidden:{type:"string",value:"Hidden"},stateIsolated:{type:"string",value:"Isolated"},stateMaximized:{type:"string",value:"Maximized"},stateMinimized:{type:"string",value:"Minimized"},stateSelected:{type:"string",value:"Selected"},stateUnselected:{type:"string",value:"Unselected"},stateVisible:{type:"string",value:"Visible"},tooltipPan:{type:"string",value:"Pan"},tooltipSelect:{type:"string",value:"Marquee select"},tooltipZoom:{type:"string",value:"Marquee zoom"}}},type:{type:"string",enumValues:["line","area","lineWithArea","stock","boxPlot","combo","pie","scatter","bubble","funnel","pyramid","bar"]},valueFormats:{type:"object",properties:{series:{type:"object",properties:{tooltipDisplay:{type:"string",enumValues:["auto","off"]},tooltipLabel:{type:"string"}}},group:{type:"object",properties:{tooltipDisplay:{type:"string",enumValues:["auto","off"]},tooltipLabel:{type:"string"}}},x:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["none","auto","thousand","million","billion","trillion","quadrillion"]},tooltipDisplay:{type:"string",enumValues:["auto","off"]},tooltipLabel:{type:"string"}}},y:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["none","auto","thousand","million","billion","trillion","quadrillion"]},tooltipDisplay:{type:"string",enumValues:["auto","off"]},tooltipLabel:{type:"string"}}},y2:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["none","auto","thousand","million","billion","trillion","quadrillion"]},tooltipDisplay:{type:"string",enumValues:["auto","off"]},tooltipLabel:{type:"string"}}},z:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["none","auto","thousand","million","billion","trillion","quadrillion"]},tooltipDisplay:{type:"string",enumValues:["auto","off"]},tooltipLabel:{type:"string"}}},value:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["none","auto","thousand","million","billion","trillion","quadrillion"]},tooltipDisplay:{type:"string",enumValues:["auto","off"]},tooltipLabel:{type:"string"}}},targetValue:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["none","auto","thousand","million","billion","trillion","quadrillion"]},tooltipDisplay:{type:"string",enumValues:["auto","off"]},tooltipLabel:{type:"string"}}},low:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["none","auto","thousand","million","billion","trillion","quadrillion"]},tooltipDisplay:{type:"string",enumValues:["auto","off"]},tooltipLabel:{type:"string"}}},high:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["none","auto","thousand","million","billion","trillion","quadrillion"]},tooltipDisplay:{type:"string",enumValues:["auto","off"]},tooltipLabel:{type:"string"}}},open:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["none","auto","thousand","million","billion","trillion","quadrillion"]},tooltipDisplay:{type:"string",enumValues:["auto","off"]},tooltipLabel:{type:"string"}}},close:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["none","auto","thousand","million","billion","trillion","quadrillion"]},tooltipDisplay:{type:"string",enumValues:["auto","off"]},tooltipLabel:{type:"string"}}},volume:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["none","auto","thousand","million","billion","trillion","quadrillion"]},tooltipDisplay:{type:"string",enumValues:["auto","off"]},tooltipLabel:{type:"string"}}},q1:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["none","auto","thousand","million","billion","trillion","quadrillion"]},tooltipDisplay:{type:"string",enumValues:["auto","off"]},tooltipLabel:{type:"string"}}},q2:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["none","auto","thousand","million","billion","trillion","quadrillion"]},tooltipDisplay:{type:"string",enumValues:["auto","off"]},tooltipLabel:{type:"string"}}},q3:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["none","auto","thousand","million","billion","trillion","quadrillion"]},tooltipDisplay:{type:"string",enumValues:["auto","off"]},tooltipLabel:{type:"string"}}},label:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["none","auto","thousand","million","billion","trillion","quadrillion"]},tooltipDisplay:{type:"string",enumValues:["auto","off"]},tooltipLabel:{type:"string"}}}}},xAxis:{type:"object",properties:{axisLine:{type:"object",properties:{lineColor:{type:"string"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["on","off"]}}},baselineScaling:{type:"string",enumValues:["min","zero"]},dataMax:{type:"number"},dataMin:{type:"number"},majorTick:{type:"object",properties:{baselineColor:{type:"string",enumValues:["inherit","auto"]},baselineStyle:{type:"string",enumValues:["dotted","dashed","solid"]},baselineWidth:{type:"number"},lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dotted","dashed","solid"]},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["on","off","auto"]}}},max:{type:"number|string"},maxSize:{type:"string"},min:{type:"number|string"},minorStep:{type:"number"},minorTick:{type:"object",properties:{lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dotted","dashed","solid"]},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["on","off","auto"]}}},minStep:{type:"number"},referenceObjects:{type:"Array<object>"},rendered:{type:"string",enumValues:["off","on"]},scale:{type:"string",enumValues:["log","linear"]},size:{type:"string"},step:{type:"number"},tickLabel:{type:"object",properties:{converter:{type:"object"},rendered:{type:"string",enumValues:["off","on"]},rotation:{type:"string",enumValues:["none","auto"]},scaling:{type:"string",enumValues:["none","auto","thousand","million","billion","trillion","quadrillion"]},style:{type:"object"}}},title:{type:"string"},titleStyle:{type:"object"},viewportEndGroup:{type:"number|string"},viewportMax:{type:"number|string"},viewportMin:{type:"number|string"},viewportStartGroup:{type:"number|string"}}},y2Axis:{type:"object",properties:{alignTickMarks:{type:"string",
enumValues:["off","on"]},axisLine:{type:"object",properties:{lineColor:{type:"string"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["on","off","auto"]}}},baselineScaling:{type:"string",enumValues:["min","zero"]},dataMax:{type:"number"},dataMin:{type:"number"},majorTick:{type:"object",properties:{baselineColor:{type:"string",enumValues:["inherit","auto"]},baselineStyle:{type:"string",enumValues:["dotted","dashed","solid"]},baselineWidth:{type:"number"},lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dotted","dashed","solid"]},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["off","on","auto"]}}},max:{type:"number"},maxSize:{type:"string"},min:{type:"number"},minorStep:{type:"number"},minorTick:{type:"object",properties:{lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dotted","dashed","solid"]},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["on","auto","off"]}}},minStep:{type:"number"},position:{type:"string",enumValues:["start","end","top","bottom","auto"]},referenceObjects:{type:"Array<object>"},rendered:{type:"string",enumValues:["off","on"]},scale:{type:"string",enumValues:["log","linear"]},size:{type:"string"},step:{type:"number"},tickLabel:{type:"object",properties:{converter:{type:"object"},position:{type:"string",enumValues:["inside","outside"]},rendered:{type:"string",enumValues:["off","on"]},scaling:{type:"string",enumValues:["none","auto","thousand","million","billion","trillion","quadrillion"]},style:{type:"object"}}},title:{type:"string"},titleStyle:{type:"object"}}},yAxis:{type:"object",properties:{axisLine:{type:"object",properties:{lineColor:{type:"string"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["off","on","auto"]}}},baselineScaling:{type:"string",enumValues:["min","zero"]},dataMax:{type:"number"},dataMin:{type:"number"},majorTick:{type:"object",properties:{baselineColor:{type:"string",enumValues:["inherit","auto"]},baselineStyle:{type:"string",enumValues:["dotted","dashed","solid"]},baselineWidth:{type:"number"},lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dotted","dashed","solid"]},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["on","off","auto"]}}},max:{type:"number"},maxSize:{type:"string"},min:{type:"number"},minorStep:{type:"number"},minorTick:{type:"object",properties:{lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dotted","dashed","solid"]},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["on","off","auto"]}}},minStep:{type:"number"},position:{type:"string",enumValues:["start","end","top","bottom","auto"]},referenceObjects:{type:"Array<object>"},rendered:{type:"string",enumValues:["off","on"]},scale:{type:"string",enumValues:["log","linear"]},size:{type:"string"},step:{type:"number"},tickLabel:{type:"object",properties:{converter:{type:"object"},position:{type:"string",enumValues:["inside","outside"]},rendered:{type:"string",enumValues:["off","on"]},scaling:{type:"string",enumValues:["none","auto","thousand","million","billion","trillion","quadrillion"]},style:{type:"object"}}},title:{type:"string"},titleStyle:{type:"object"},viewportMax:{type:"number"},viewportMin:{type:"number"}}},zoomAndScroll:{type:"string",enumValues:["delayedScrollOnly","liveScrollOnly","delayed","live","off"]},zoomDirection:{type:"string",enumValues:["x","y","auto"]}},methods:{getContextByNode:{},getDataItem:{},getGroup:{},getGroupCount:{},getLegend:{},getPlotArea:{},getSeries:{},getSeriesCount:{},getValuesAt:{},getXAxis:{},getY2Axis:{},getYAxis:{}},events:{drill:{},viewportChange:{},selectInput:{},viewportChangeInput:{}},extension:{_WIDGET_NAME:"ojChart"}});var t=e.CustomElementBridge.getMetadata("oj-chart"),r=t.extension._DVT_PARSE_FUNC({"style-defaults.marker-shape":!0},{square:!0,circle:!0,diamond:!0,plus:!0,triangleDown:!0,triangleUp:!0,human:!0,star:!0,auto:!0});e.CustomElementBridge.register("oj-chart",{metadata:t,parseFunction:function(e,t,n,o){return"number|string"===n.type?isNaN(e)?e:Number(e):"style-defaults.data-label-style"===t?JSON.parse(e):r(e,t,n,o)}})}(),function(){e.CustomElementBridge.registerMetadata("oj-spark-chart","dvtBaseComponent",{properties:{animationDuration:{type:"number"},animationOnDataChange:{type:"string",enumValues:["auto","none"]},animationOnDisplay:{type:"string",enumValues:["auto","none"]},areaSvgClassName:{type:"string"},areaColor:{type:"string"},areaSvgStyle:{type:"object"},barGapRatio:{type:"number"},baselineScaling:{type:"string",enumValues:["zero","min"]},svgClassName:{type:"string"},color:{type:"string"},firstColor:{type:"string"},highColor:{type:"string"},items:{type:"Array<number>|Promise"},lastColor:{type:"string"},lineStyle:{type:"string",enumValues:["dotted","dashed","solid"]},lineType:{type:"string",enumValues:["curved","stepped","centeredStepped","segmented","centeredSegmented","none","straight"]},lineWidth:{type:"number"},lowColor:{type:"string"},markerShape:{type:"string"},markerSize:{type:"number"},referenceObjects:{type:"Array<object>"},svgStyle:{type:"object"},tooltip:{type:"object",properties:{renderer:{}}},translations:{type:"Object",properties:{componentName:{type:"string",value:"Chart"},labelAndValue:{type:"string",value:"{0}: {1}"},labelClearSelection:{type:"string",value:"Clear Selection"},labelCountWithTotal:{type:"string",value:"{0} of {1}"},labelDataVisualization:{type:"string",value:"Data Visualization"},labelInvalidData:{type:"string",value:"Invalid data"},labelNoData:{type:"string",value:"No data to display"},stateCollapsed:{type:"string",value:"Collapsed"},stateDrillable:{type:"string",value:"Drillable"},stateExpanded:{type:"string",value:"Expanded"},stateHidden:{type:"string",value:"Hidden"},stateIsolated:{type:"string",value:"Isolated"},stateMaximized:{type:"string",value:"Maximized"},stateMinimized:{type:"string",value:"Minimized"},stateSelected:{type:"string",value:"Selected"},stateUnselected:{type:"string",value:"Unselected"},stateVisible:{type:"string",value:"Visible"}}},type:{type:"string",enumValues:["area","lineWithArea","bar","line"]},visualEffects:{type:"string",enumValues:["none","auto"]}},methods:{getDataItem:{}},extension:{_WIDGET_NAME:"ojSparkChart"}});var t=e.CustomElementBridge.getMetadata("oj-spark-chart");e.CustomElementBridge.register("oj-spark-chart",{metadata:t,parseFunction:t.extension._DVT_PARSE_FUNC({"marker-shape":!0},{square:!0,circle:!0,diamond:!0,plus:!0,triangleDown:!0,triangleUp:!0,human:!0,star:!0,auto:!0})})}(),function(){e.CustomElementBridge.registerMetadata("oj-chart-item",null,{properties:{borderColor:{type:"string"},borderWidth:{type:"number"},boxPlot:{type:"object",properties:{medianSvgClassName:{type:"string"},medianSvgStyle:{type:"object"},q2Color:{type:"string"},q2SvgClassName:{type:"string"},q2SvgStyle:{type:"object"},q3SvgClassName:{type:"string"},q3SvgStyle:{type:"object"},whiskerEndLength:{type:"string"},whiskerEndSvgClassName:{type:"string"},whiskerEndSvgStyle:{type:"object"},whiskerSvgClassName:{type:"string"},whiskerSvgStyle:{type:"object"}}},categories:{type:"Array<string>"},close:{type:"number"},color:{type:"string"},drilling:{type:"string",enumValues:["on","off","inherit"]},groupId:{type:"Array<string>"},high:{type:"number"},items:{type:"Array<object>|Array<number>"},label:{type:"string|Array<string>"},labelPosition:{type:"string|Array<string>",enumValues:["center","outsideSlice","aboveMarker","belowMarker","beforeMarker","afterMarker","insideBarEdge","outsideBarEdge","none","auto"]},labelStyle:{type:"object|Array<object>"},low:{type:"number"},markerDisplayed:{type:"string",enumValues:["on","off","auto"]},markerShape:{type:"string"},markerSize:{type:"number"},open:{type:"number"},pattern:{type:"string",enumValues:["auto","largeChecker","largeCrosshatch","largeDiagonalLeft","largeDiagonalRight","largeDiamond","largeTriangle","smallChecker","smallCrosshatch","smallDiagonalLeft","smallDiagonalRight","smallDiamond","smallTriangle"]},q1:{type:"number"},q2:{type:"number"},q3:{type:"number"},seriesId:{type:"string"},shortDesc:{type:"string"},source:{type:"string"},sourceHover:{type:"string"},sourceHoverSelected:{type:"string"},sourceSelected:{type:"string"},svgClassName:{type:"string"},svgStyle:{type:"object"},targetValue:{type:"number"},value:{type:"number"},volume:{type:"number"},x:{type:"number|string"},y:{type:"number"},z:{type:"number"}},extension:{_CONSTRUCTOR:function(){}}});var t=e.CustomElementBridge.getMetadata("dvtBaseComponent");e.CustomElementBridge.register("oj-chart-item",{metadata:e.CustomElementBridge.getMetadata("oj-chart-item"),parseFunction:t.extension._DVT_PARSE_FUNC({"marker-shape":!0},{square:!0,circle:!0,diamond:!0,plus:!0,triangleDown:!0,triangleUp:!0,human:!0,star:!0,auto:!0})})}(),function(){e.CustomElementBridge.registerMetadata("oj-chart-series",null,{properties:{areaColor:{type:"string"},areaSvgClassName:{type:"string"},areaSvgStyle:{type:"object"},assignedToY2:{type:"string",enumValues:["on","off"]},borderColor:{type:"string"},borderWidth:{type:"number"},boxPlot:{type:"object",properties:{medianSvgClassName:{type:"string"},medianSvgStyle:{type:"object"},q2Color:{type:"string"},q2SvgClassName:{type:"string"},q2SvgStyle:{type:"object"},q3Color:{type:"string"},q3SvgClassName:{type:"string"},q3SvgStyle:{type:"object"},whiskerEndLength:{type:"string"},whiskerEndSvgClassName:{type:"string"},whiskerEndSvgStyle:{type:"object"},whiskerSvgClassName:{type:"string"},whiskerSvgStyle:{type:"object"}}},categories:{type:"Array<string>"},color:{type:"string"},displayInLegend:{type:"string",enumValues:["auto","off","on"]},drilling:{type:"string",enumValues:["on","off","inherit"]},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"]},lineType:{type:"string",enumValues:["auto","centeredSegmented","centeredStepped","curved","none","segmented","stepped","straight"]},lineWidth:{type:"number"},markerColor:{type:"string"},markerDisplayed:{type:"string",enumValues:["on","off","auto"]},markerShape:{type:"string"},markerSize:{type:"number"},markerSvgClassName:{type:"string"},markerSvgStyle:{type:"object"},name:{type:"string"},pattern:{type:"string",enumValues:["auto","largeChecker","largeCrosshatch","largeDiagonalLeft","largeDiagonalRight","largeDiamond","largeTriangle","smallChecker","smallCrosshatch","smallDiagonalLeft","smallDiagonalRight","smallDiamond","smallTriangle"]},pieSliceExplode:{type:"number"},shortDesc:{type:"string"},source:{type:"string"},sourceHover:{type:"string"},sourceHoverSelected:{type:"string"},sourceSelected:{type:"string"},stackCategory:{type:"string"},svgClassName:{type:"string"},svgStyle:{type:"object"},type:{type:"string",enumValues:["area","auto","bar","boxPlot","candlestick","line","lineWithArea"]}},extension:{_CONSTRUCTOR:function(){}}});var t=e.CustomElementBridge.getMetadata("dvtBaseComponent");e.CustomElementBridge.register("oj-chart-series",{metadata:e.CustomElementBridge.getMetadata("oj-chart-series"),parseFunction:t.extension._DVT_PARSE_FUNC({"marker-shape":!0},{square:!0,circle:!0,diamond:!0,plus:!0,triangleDown:!0,triangleUp:!0,human:!0,star:!0,auto:!0})})}(),e.CustomElementBridge.registerMetadata("oj-chart-group",null,{properties:{drilling:{type:"string",enumValues:["on","inherit","off"]},labelStyle:{type:"object"},name:{type:"string"},shortDesc:{type:"string"}},extension:{_CONSTRUCTOR:function(){}}}),e.CustomElementBridge.register("oj-chart-group",{metadata:e.CustomElementBridge.getMetadata("oj-chart-group")})});
define('ojs/ojmasonrylayout',["ojs/ojcore","jquery","ojs/ojcomponentcore","ojdnd","ojs/ojanimation"],function(e,t){function i(e,t,n,s,r,a){var o=i;null==o._agentTypeAndVersion&&(o._agentTypeAndVersion=o._getAgentTypeAndVersion(navigator.userAgent)),this._elem=e,this._rtl=t,this._automationEnabled=n,s&&s.tiles&&(this._tilesSelector=s.tiles),r&&r.transitionShowFromStyleClass&&(this._transitionShowFromStyleClass=r.transitionShowFromStyleClass),a&&(a.addStyleClassName&&(this._addStyleClassNameFunc=a.addStyleClassName),a.removeStyleClassName&&(this._removeStyleClassNameFunc=a.removeStyleClassName),a.getSizeStyleClassName&&(this._getSizeStyleClassNameFunc=a.getSizeStyleClassName),a.getTileSpan&&(this._getTileSpanFunc=a.getTileSpan),a.showTileOnEndFunc&&(this._showTileOnEndFunc=a.showTileOnEndFunc),a.hideTileOnEndFunc&&(this._hideTileOnEndFunc=a.hideTileOnEndFunc),a.startAnimationFunc&&(this._startAnimationFunc=a.startAnimationFunc),a.layoutOnEndFunc&&(this._layoutOnEndFunc=a.layoutOnEndFunc),a.layoutCycleOnStartFunc&&(this._layoutCycleOnStartFunc=a.layoutCycleOnStartFunc),a.layoutCycleOnEndFunc&&(this._layoutCycleOnEndFunc=a.layoutCycleOnEndFunc),a.sortTilesOriginalOrderFunc&&(this._sortTilesOriginalOrderFunc=a.sortTilesOriginalOrderFunc),a.subtreeAttached&&(this._subtreeAttachedFunc=a.subtreeAttached),a.subtreeDetached&&(this._subtreeDetachedFunc=a.subtreeDetached),a.addBusyState&&(this._addBusyStateFunc=a.addBusyState));var l=document.createElement("div"),h=l.style;h.display="inline-block",h.overflow="hidden",h.visibility="hidden";var u=document.createElement("div");(h=u.style).display="inline-block",l.appendChild(u),e.insertBefore(l,e.firstChild),this._sizeDivWrapper=l,this._sizeDiv=u;var d=this;this._hideTilesFunc=function(){d._hideTiles()},this._resolveBusyStateFunc=function(){d._resolveBusyState()}}i.prototype.setup=function(e,t){var i=!1;return e?(i=!!this._layout(),this._reorderTilesForLayout()):(this._addBusyStateFunc&&(this._busyStateResolveFunc=this._addBusyStateFunc("performing layout (setup)")),this._layoutCycleOnStartFunc&&this._layoutCycleOnStartFunc(),this._transitionStart(t),i=this._transitionLayout()),i},i.prototype.destroy=function(){this._resolveBusyState();for(var e=this._elem,t=this._getTileChildren(),i=0;i<t.length;i++){var n=t[i].style;this._rtl?n.right="":n.left="",n.top=""}e.removeChild(this._sizeDivWrapper),this._sizeDivWrapper=null,this._sizeDiv=null,this._hideTilesFunc=null,this._resolveBusyStateFunc=null,this._arMovedInfolets=null,this._arInfoletsToResize=null,this._arInfoletsToShow=null,this._arInfoletsToHide=null,this._arFireHideOnEnd=null,this._elem=null,this._addStyleClassNameFunc=null,this._removeStyleClassNameFunc=null,this._getSizeStyleClassNameFunc=null,this._getTileSpanFunc=null,this._showTileOnEndFunc=null,this._hideTileOnEndFunc=null,this._startAnimationFunc=null,this._layoutOnEndFunc=null,this._layoutCycleOnStartFunc=null,this._layoutCycleOnEndFunc=null,this._sortTilesOriginalOrderFunc=null,this._subtreeAttachedFunc=null,this._subtreeDetachedFunc=null,this._addBusyStateFunc=null},i.prototype.resizeTile=function(e,t){var i=this._elem.querySelector(e);if(i){this._arInfoletsToResize||(this._arInfoletsToResize=[]);var n=this._arInfoletsToResize;n.push(i),n.push(t),this._resizingInfolet=!0,this._queueRelayout()}},i.prototype.insertTileDomElem=function(e,t){var i=this._getTileChildren();this._sortTilesOriginalOrderFunc&&this._sortTilesOriginalOrderFunc(i);var n=null;t>=0&&t<i.length&&(n=i[t]),this._elem.insertBefore(e,n),this._queueRelayout()},i.prototype.showTile=function(e){var t=this._elem.querySelector(e);if(t){this._arInfoletsToShow||(this._arInfoletsToShow=[]),this._arInfoletsToShow.push(t),this._showingInfolets=!0;var n=i;this._layoutPhase!==n._PHASE_HIDE&&this._layoutPhase!==n._PHASE_LAYOUT?this._queueRelayout():this._showingInfolets=!1}},i.prototype.hideTile=function(e){var t=this._elem.querySelector(e);t&&(this._arInfoletsToHide||(this._arInfoletsToHide=[]),this._arInfoletsToHide.push(t),this._hidingInfolets=!0,this._queueRelayout())},i.prototype.resizeNotify=function(){this._resizingInfolet||this._hidingInfolets||this._showingInfolets||(this._addBusyStateFunc&&(this._busyStateResolveFunc=this._addBusyStateFunc("performing layout (resizeNotify)")),this._layoutCycleOnStartFunc&&this._layoutCycleOnStartFunc(),this._transitionStart(!1),this._transitionLayout())},i.prototype.getCellSize=function(){return this._cellSize},i.prototype.isAnimationEnabled=function(){if(this._temporarilyDisableAnimation)return!1;if(!this._cachedAnimationEnabled){if(this._automationEnabled)this._animationEnabled=!1;else{var e=i,t=e._agentTypeAndVersion[0],n=e._agentTypeAndVersion[1];this._animationEnabled=e._isMinimumAgentMet(t,n,["gecko",16,"trident",6,"webkit",533.1])}this._cachedAnimationEnabled=!0}return this._animationEnabled},i.prototype.isInLayoutCycle=function(){return null!=this._layoutPhase||null!=this._arMovedInfolets&&this._arMovedInfolets.length>0},i.prototype.finishLayoutCycle=function(){this._temporarilyDisableAnimation=!0,this._removeStyleClassFromTiles(this._transitionShowFromStyleClass);for(var e=i,t=this._getTileChildren(),n=0;n<t.length;n++){var s=t[n];s._afrCellSize&&delete s._afrCellSize}this._hideTilesInternalTimeout?(clearTimeout(this._hideTilesInternalTimeout),this._hideTilesInternalTimeout=null,this._handleHideTransitionEnd(null)):this._hideTilesAnimationStarted?(this._hideTilesAnimationStarted=!1,this._handleHideTransitionEnd(null)):this._showTilesTimeout?(clearTimeout(this._showTilesTimeout),this._showTilesTimeout=null,this._showTiles()):this._layoutPhase===e._PHASE_LAYOUT||null!=this._arMovedInfolets&&this._arMovedInfolets.length>0?this._handleTransitionEnd(null):this._layoutPhase===e._PHASE_SHOW&&this._handleShowTransitionEnd(null),this._temporarilyDisableAnimation=!1},i._getElemSize=function(e){var t=i,n=t._getComputedStyle(e),s=t._getCSSLengthAsInt(n.marginLeft)+t._getCSSLengthAsInt(n.marginRight),r=t._getCSSLengthAsInt(n.marginTop)+t._getCSSLengthAsInt(n.marginBottom);return{w:e.offsetWidth+s,h:e.offsetHeight+r}},i._getElemInsets=function(e){var t=i,n=t._getComputedStyle(e);return{paddingLeft:t._getCSSLengthAsInt(n.paddingLeft),paddingRight:t._getCSSLengthAsInt(n.paddingRight),paddingTop:t._getCSSLengthAsInt(n.paddingTop),paddingBottom:t._getCSSLengthAsInt(n.paddingBottom),borderLeftWidth:t._getCSSLengthAsInt(n.borderLeftWidth),borderRightWidth:t._getCSSLengthAsInt(n.borderRightWidth),borderTopWidth:t._getCSSLengthAsInt(n.borderTopWidth),borderBottomWidth:t._getCSSLengthAsInt(n.borderBottomWidth)}},i._getComputedStyle=function(e){var t=e.ownerDocument.defaultView;return t?t.getComputedStyle(e,null):e.currentStyle},i._getCSSLengthAsInt=function(e){if(e.length>0&&"auto"!=e){var t=parseInt(e,10);return isNaN(t)&&(t=0),t}return 0},i._arrayIndexOf=function(e,t){if(e)for(var i=0;i<e.length;i++)if(e[i]==t)return i;return-1},i._isMinimumAgentMet=function(e,t,i){var n=i.length;if(n%2==0)for(var s=0;s<=n-2;s+=2)if(e==i[s])return t>=i[1+s];return!1},i._getAgentTypeAndVersion=function(e){var t=i._parseFloatVersion,n=null,s=-1,r=e.toLowerCase();if(-1!=r.indexOf("msie")||-1!=r.indexOf("trident")){n="trident";var a=t(r,/trident\/(\d+[.]\d+)/);-1!=a?s=a:(-1==(a=t(r,/msie (\d+\.\d+);/))&&(a=t(r,/msie (\d+\.\d+)b;/)),s=a-4),null!=document.documentMode&&(s=Math.min(s,document.documentMode-4))}else-1!=r.indexOf("applewebkit")?(n="webkit",s=t(r,/applewebkit\/(\d+([.]\d+)*)/)):-1!=r.indexOf("gecko/")&&(n="gecko",s=t(r,/rv:(\d+[.]\d+)/));return[n,s]},i._parseFloatVersion=function(e,t){var i=e.match(t);if(i){var n=i[1];if(n)return parseFloat(n)}return-1},i._compareTilePositions=function(e,t){return e.startRow>t.startRow?1:e.startRow<t.startRow?-1:e.startCol>t.startCol?1:e.startCol<t.startCol?-1:0},i.prototype._queueRelayout=function(){this._hideTilesTimeout||(this._layoutPhase?this._queuedRelayout||(this._queuedRelayout=!0):(this._addBusyStateFunc&&(this._busyStateResolveFunc=this._addBusyStateFunc("performing layout")),this._hideTilesTimeout=setTimeout(this._hideTilesFunc,0)))},i.prototype._getTileChildren=function(){for(var e=this._elem.querySelectorAll(this._tilesSelector),t=[],i=0;i<e.length;i++){var n=e[i],s=n.style;n.offsetWidth>0&&n.offsetHeight>0&&"hidden"!=s.visibility&&t.push(n)}return t},i.prototype._transitionLayout=function(){var e=this._arMovedInfolets,t=this._layout();if(this._arInfoletsToResize){var n=this._arInfoletsToResize;t||(t=[]);for(var s=i,r=0;r<n.length;r+=2){var a=n[r];s._arrayIndexOf(t,a)<0&&t.push(a)}}var o=!1;!t||t.length<1?(!e||e.length<1)&&(this._arMovedInfolets=null,this._handleTransitionEnd(null),o=!0):this._arMovedInfolets=t;var l=null!=t&&t.length>0;return this.isAnimationEnabled()||o||this._handleTransitionEnd(null),l},i.prototype._layout=function(){var e=this._elem,t=this._getTileChildren();this._sortTilesOriginalOrderFunc&&this._sortTilesOriginalOrderFunc(t),this._cellSize=null;var n=null;this._cols=0,this._rows=1,this._occupancyMap=null;var s=[],r=[],a=[],o=[],l=this._rtl,h=i,u=h._getElemInsets(e),d=0,_=[];this._arTilePositions=_;for(var c=0;c<t.length;c++){(b=t[c])._afrCellSize&&(this._cellSize=b._afrCellSize,delete b._afrCellSize);var f=this._getTileSpanFunc(b);if(this._cellSize||(this._cellSize=this._calcCellSize(b,f)),n=this._cellSize,!this._occupancyMap){var m=e.offsetWidth-u.paddingLeft-u.paddingRight-u.borderLeftWidth-u.borderRightWidth;this._cols=Math.max(Math.floor(m/n.w),1),this._initOccupancyMap(this._cols,this._rows),d=this._cols}f.colSpan>d&&(d=f.colSpan),f.colSpan>this._cols&&(f.colSpan=this._cols);for(var g=!1,p=0;p<this._rows;p++){for(var v=0;v<this._cols;v++)if(this._fits(v,p,f)){var y={top:(D=b.style).top};l?y.right=D.right:y.left=D.left,r.push(y);var T=this._calcPosition(b,v,p,f,n,u);a.push(T),l&&o.push(v),g=!0,_.push({startCol:v,startRow:p,tile:b});break}if(g)break;p===this._rows-1&&this._addRow()}}if(n){var S=this._sizeDiv.style;if(S){var C=d*n.w,O=this._rows*n.h,E=S.width?i._getCSSLengthAsInt(S.width.toString()):0,F=S.height?i._getCSSLengthAsInt(S.height.toString()):0;(E>C||F>O)&&(this._afrSizeDivDims={},this._afrSizeDivDims.width=C+"px",this._afrSizeDivDims.height=O+"px"),S.width=(E>C?E:C)+"px",S.height=(F>O?F:O)+"px"}}for(c=0;c<t.length;c++){var b,D=(b=t[c]).style;T=a[c],""!=(y=r[c]).top&&(l&&parseInt(T.right,10)!==parseInt(y.right,10)||!l&&parseInt(T.left,10)!==parseInt(y.left,10)||parseInt(T.top,10)!==parseInt(y.top,10))&&(s.push(b),this._layoutTransition&&h._arrayIndexOf(this._arInfoletsToResize,b)<0&&this._animateLayout(b,this._reorderTransitionStarted?"reorder":"move")),D.top=T.top,this._rtl?D.right=T.right:D.left=T.left}return s.length<1&&(s=null),s},i.prototype._updateSizeDivOnEnd=function(){if(this._afrSizeDivDims){var e=this._sizeDiv.style;e.width=this._afrSizeDivDims.width,e.height=this._afrSizeDivDims.height,delete this._afrSizeDivDims}},i.prototype._reorderTilesForLayout=function(){var e=this._arTilePositions;this._arTilePositions=null;var t=i;e=e.sort(t._compareTilePositions);for(var n=this._getTileChildren(),s=0;s<n.length;s++){var r=n[s],a=e[s].tile;if(r!=a){this._subtreeDetachedFunc(a),r.parentNode.insertBefore(a,r),this._subtreeAttachedFunc(a);var o=t._arrayIndexOf(n,a);o>s&&(n.splice(o,1),n.splice(s,0,a))}}},i.prototype._initOccupancyMap=function(e,t){this._occupancyMap=[];for(var i=this._occupancyMap,n=0;n<t;n++){var s=[];i.push(s);for(var r=0;r<e;r++)s[r]=!1}},i.prototype._addRow=function(){this._rows++;var e=[];this._occupancyMap.push(e);for(var t=0;t<this._cols;t++)e[t]=!1},i.prototype._fits=function(e,t,i){for(var n=i.colSpan,s=i.rowSpan,r=t;r<t+s;r++){r>=this._rows&&this._addRow();for(var a=e;a<e+n;a++){if(a>=this._cols)return!1;if(this._occupancyMap[r][a])return!1}}return!0},i.prototype._calcPosition=function(e,t,i,n,s,r){for(var a=n.colSpan,o=n.rowSpan,l=this._occupancyMap,h=i;h<i+o;h++)for(var u=t;u<t+a;u++)l[h][u]=!0;var d={},_=r.paddingTop+i*s.h;if(d.top=_+"px",this._rtl){var c=r.paddingRight+t*s.w;d.right=c+"px"}else{var f=r.paddingLeft+t*s.w;d.left=f+"px"}return d},i.prototype._removeStyleClassFromTiles=function(e){for(var t=this._getTileChildren(),i=0;i<t.length;i++)this._removeStyleClassNameFunc(t[i],e)},i.prototype._animateLayout=function(e,t){if(this.isAnimationEnabled()){var i=this;i._startAnimationFunc(e,t).then(function(){i._layoutTransition&&i._handleTransitionEnd(e)})}},i.prototype._transitionStart=function(e){this._layoutTransition||(this._reorderTransitionStarted=e,this._layoutTransition=!0)},i.prototype._handleTransitionEnd=function(e){var t=!0;if(this._arMovedInfolets){var n=this._arMovedInfolets;if(e){for(var s=0;s<n.length;s++)if(e===n[s]){this._arMovedInfolets=[],n=this._arMovedInfolets;break}}else this.isAnimationEnabled()||(this._arMovedInfolets=[],n=this._arMovedInfolets);n.length>0&&(t=!1)}if(t){if(this._arInfoletsToResize){var r=this._arInfoletsToResize;if(this._arInfoletsToResize=null,this.isAnimationEnabled())for(s=0;s<r.length;s+=2)r[s]}this._reorderTransitionStarted&&(this._reorderTransitionStarted=!1);var a=i;if(this._layoutTransition=!1,this._resizingInfolet=!1,this._hidingInfolets=!1,this._showingInfolets=!1,this._reorderTilesForLayout(),this._layoutOnEndFunc&&this._layoutOnEndFunc(),this._updateSizeDivOnEnd(),this._layoutPhase===a._PHASE_LAYOUT)if(this.isAnimationEnabled()){var o=this;this._showTilesTimeout=setTimeout(function(){o._showTiles()},0)}else this._showTiles();else this._layoutPhase||this._layoutCycleOnEndFunc&&this._layoutCycleOnEndFunc(this._resolveBusyStateFunc)}},i.prototype._calcCellSize=function(e,t){var n=i._getElemSize(e);return{w:n.w/t.colSpan,h:n.h/t.rowSpan}},i.prototype._hideTiles=function(){this._hideTilesTimeout&&(clearTimeout(this._hideTilesTimeout),this._hideTilesTimeout=null),this._layoutCycleOnStartFunc&&this._layoutCycleOnStartFunc();var e=i;if(this._layoutPhase=e._PHASE_HIDE,this._arInfoletsToHide&&this.isAnimationEnabled()){var t=this._arInfoletsToHide,n=this;this._hideTilesAnimationStarted=!0;for(var s=0;s<t.length;s++){var r=t[s];this._startAnimationFunc(r,"remove").then(function(){n._handleHideTransitionEnd(r)})}}else this._handleHideTransitionEnd(null)},i.prototype._handleHideTransitionEnd=function(e){this._hideTilesInternalTimeout?(clearTimeout(this._hideTilesInternalTimeout),this._hideTilesInternalTimeout=null):this._hideTilesAnimationStarted&&(this._hideTilesAnimationStarted=!1);var t=i;if(e){var n=e;if(r=this._arInfoletsToHide){for(var s=0;s<r.length;s++)if((a=r[s])===n){r.splice(s,1),this._arFireHideOnEnd||(this._arFireHideOnEnd=[]),(o=this._arFireHideOnEnd).push(n);break}r.length<1&&(this._arInfoletsToHide=null)}}else if(!this.isAnimationEnabled()){var r;if(r=this._arInfoletsToHide){for(s=0;s<r.length;s++){var a=r[s];this._arFireHideOnEnd||(this._arFireHideOnEnd=[]),(o=this._arFireHideOnEnd).push(a)}this._arInfoletsToHide=null}}if(!this._arInfoletsToHide){if(this._arFireHideOnEnd){var o=this._arFireHideOnEnd;for(s=0;s<o.length;s++){var l=(n=o[s]).style;this._rtl?l.right="":l.left="",l.top="",this._hideTileOnEndFunc&&this._hideTileOnEndFunc(n)}this._arFireHideOnEnd=null}if(this._layoutPhase=t._PHASE_LAYOUT,this._transitionStart(!1),this._arInfoletsToResize){var h=this._arInfoletsToResize;for(s=0;s<h.length;s+=2){n=h[s];var u=h[s+1],d=this._getSizeStyleClassNameFunc(n);this.isAnimationEnabled()&&(n._afrCellSize=this._cellSize,this._animateLayout(n,"resize")),this._removeStyleClassNameFunc(n,d),this._addStyleClassNameFunc(n,u)}}this._transitionLayout()}},i.prototype._showTiles=function(){this._showTilesTimeout&&(clearTimeout(this._showTilesTimeout),this._showTilesTimeout=null);var e=i;if(this._layoutPhase=e._PHASE_SHOW,this._arInfoletsToShow&&this.isAnimationEnabled())for(var t=this,n=this._arInfoletsToShow,s=0;s<n.length;s++){var r=n[s];this._removeStyleClassNameFunc(r,this._transitionShowFromStyleClass),this._startAnimationFunc(r,"insert").then(function(){t._handleShowTransitionEnd(r)})}else{if(this._arInfoletsToShow)for(n=this._arInfoletsToShow,s=0;s<n.length;s++)r=n[s],this._removeStyleClassNameFunc(r,this._transitionShowFromStyleClass);this._handleShowTransitionEnd(null)}},i.prototype._handleShowTransitionEnd=function(e){if(e){var t=e;if(n=this._arInfoletsToShow){for(var i=0;i<n.length;i++)if((s=n[i])===t){n.splice(i,1),this._showTileOnEndFunc&&this._showTileOnEndFunc(t);break}n.length<1&&(this._arInfoletsToShow=null)}}else if(!this.isAnimationEnabled()){var n;if(n=this._arInfoletsToShow){for(i=0;i<n.length;i++){var s=n[i];this._showTileOnEndFunc&&this._showTileOnEndFunc(s)}this._arInfoletsToShow=null}}this._arInfoletsToShow||(this._layoutPhase=null,this._layoutCycleOnEndFunc&&this._layoutCycleOnEndFunc(this._resolveBusyStateFunc),this._queuedRelayout&&(this._queuedRelayout=!1,this._queueRelayout()))},i.prototype._resolveBusyState=function(){this._busyStateResolveFunc&&(this._busyStateResolveFunc(),this._busyStateResolveFunc=null)},i._PHASE_HIDE=1,i._PHASE_LAYOUT=2,i._PHASE_SHOW=3,function(){e.__registerWidget("oj.ojMasonryLayout",t.oj.baseComponent,{defaultElement:"<div>",widgetEventPrefix:"oj",options:{reorderHandle:null,animateStart:null,animateEnd:null,beforeInsert:null,insert:null,beforeRemove:null,remove:null,beforeResize:null,resize:null,beforeReorder:null,reorder:null},_ComponentCreate:function(){this._super(),this.element.addClass("oj-masonrylayout oj-component"),this.options.disabled&&e.Logger.warn(c),this.reorderHandleEventNamespace=this.eventNamespace+"ReorderHandle",this._menu={},this._menu.usermenu=!1,this._menu.$container=!1,this._menu.$elemCut=!1,this._menu.$elemPasteBefore=!1,this._menu.$elemPasteAfter=!1,this._initMenu(),this._applyMenu(),this._setup(!0)},refresh:function(){this._super();var e="rtl"===this._GetReadingDirection()!==this._bRTL;e&&this._destroyMLCommon(),this._setup(e)},_NotifyShown:function(){this._super(),this._needsSetup?this._setup(this._needsSetup[0]):this._mlCommon.setup(!0)},_NotifyAttached:function(){this._super(),this._needsSetup?this._setup(this._needsSetup[0]):this._mlCommon.setup(!0)},_NotifyContextMenuGesture:function(e,i,n){this._prepareContextMenuBeforeOpen(i);var s=this._menu.$container.children().not(".oj-helper-hidden");s&&s.length>0&&this._OpenContextMenu(i,n,{launcher:t(i.target).closest(":tabbable")})},_setup:function(t){if(!this._canCalculateSizes()){var n=!1;return this._needsSetup&&(n=this._needsSetup[0]),void(this._needsSetup=[t||n])}this._needsSetup=null,this._bRTL="rtl"===this._GetReadingDirection(),this._bTouchSupported=e.DomUtils.isTouchSupported();var s=this.element,r=this.options;if(t){var a=this;if(this._showTileOnEndFunc=function(e){a._showTileOnEnd(e)},this._hideTileOnEndFunc=function(e){a._hideTileOnEnd(e)},this._startAnimationFunc=function(e,t){return a._startAnimation(e,t)},this._layoutOnEndFunc=function(){a._layoutOnEnd()},this._layoutCycleOnStartFunc=function(){a._layoutCycleOnStart()},this._layoutCycleOnEndFunc=function(e){a._layoutCycleOnEnd(e)},!this._mlCommon){var o={};o.tiles=d;var l={};l.transitionShowFromStyleClass=_;var h={};h.addStyleClassName=S,h.removeStyleClassName=C,h.getSizeStyleClassName=O,h.getTileSpan=E,h.showTileOnEndFunc=this._showTileOnEndFunc,h.hideTileOnEndFunc=this._hideTileOnEndFunc,h.startAnimationFunc=this._startAnimationFunc,h.layoutOnEndFunc=this._layoutOnEndFunc,h.layoutCycleOnStartFunc=this._layoutCycleOnStartFunc,h.layoutCycleOnEndFunc=this._layoutCycleOnEndFunc,h.sortTilesOriginalOrderFunc=F,h.subtreeAttached=e.Components.subtreeAttached,h.subtreeDetached=e.Components.subtreeDetached,h.addBusyState=function(e){return a._addBusyState(e)},this._applyTileStyleClass(),this._saveTilesOriginalOrder(),this._mlCommon=new i(s[0],this._bRTL,"enabled"===e.Config.getAutomationMode(),o,l,h)}this._handleDragStartFunc=function(e){a._handleDragStart(e)},this._handleDragEnterFunc=function(e){a._handleDragEnter(e)},this._handleDragOverFunc=function(e){a._handleDragOver(e)},this._handleDragLeaveFunc=function(e){a._handleDragLeave(e)},this._handleDragEndFunc=function(e){a._handleDragEnd(e)},this._handleDropFunc=function(e){a._handleDrop(e)},r.reorderHandle&&this._setupReorderHandles()}else{this._applyTileStyleClass();var u=s.children();this._tearDownReorderHandlesForElem(u),this._setupReorderHandlesForElem(u),this._checkTilesOriginalOrder()}this._mlCommon.setup(t),t&&(this._handleResizeFunc=function(e,t){a._handleResize()},e.DomUtils.addResizeListener(s[0],this._handleResizeFunc,y))},_destroy:function(){this._clearMenu();var t=this.element;e.DomUtils.removeResizeListener(t[0],this._handleResizeFunc),this._handleResizeFunc=null,this._restoreTilesOriginalOrder();for(var i=this._getTileElements(),n=i.length,s=0;s<n;s++)delete i[s]._jetDataMasonryOriginalOrder;this._destroyMLCommon(),t.removeClass("oj-masonrylayout oj-component"),this.options.reorderHandle&&this._tearDownReorderHandles(),t.children("."+h).removeClass(h),this._handleDragStartFunc=null,this._handleDragEnterFunc=null,this._handleDragOverFunc=null,this._handleDragLeaveFunc=null,this._handleDragEndFunc=null,this._handleDropFunc=null,this._showTileOnEndFunc=null,this._hideTileOnEndFunc=null,this._startAnimationFunc=null,this._layoutOnEndFunc=null,this._layoutCycleOnStartFunc=null,this._layoutCycleOnEndFunc=null,this._arTilesToInsert=null,this._super()},_setOption:function(t,i,n){this.element,this.options;var s=!1,r=!1;switch(t){case"reorderHandle":this._tearDownReorderHandles(),s=!0;break;case"disabled":e.Logger.warn(c);break;case"contextMenu":e.DomUtils.isTouchSupported()||(this._clearMenu(),i&&this._initMenu(i));break;case"translations":e.Object.compareValues(i,this.options[t])||(r=!0)}this._super(t,i,n),r&&this._refreshMenu(),s&&i&&this._setupReorderHandles()},resizeTile:function(e,i){var n=this._mlCommon;n.isInLayoutCycle()&&n.finishLayoutCycle();var s=t(e),r=s[0],a=O(r);if(i==a)throw new Error("JET MasonryLayout: Unable to resize child "+e+" to style class "+i+" because "+i+" is already applied.");var o={tile:s,previousSizeStyleClass:a,sizeStyleClass:i};!1!==this._trigger("beforeResize",null,o)&&(this._arResizingTiles||(this._arResizingTiles=[]),this._arResizingTiles.push(r,a,i),n.resizeTile(e,i))},insertTile:function(i,n){var s=this._mlCommon;s.isInLayoutCycle()&&s.finishLayoutCycle(),isNaN(n)&&(n=-1);var r=t(i),a=r[0];r.addClass(h);var o={tile:r,index:n};if(!1!==this._trigger("beforeInsert",null,o)){a._jetDataTileInsertIndex=n,s.isAnimationEnabled()&&r.addClass(_);var l=a.style;l.top="-1px",this._bRTL?l.right="-1px":l.left="-1px",this._insertTileOriginalOrder(a,n),s.insertTileDomElem(a,n),e.Components.subtreeAttached(a),this._arTilesToInsert||(this._arTilesToInsert=[]),this._arTilesToInsert.push(i)}},removeTile:function(i){var n=this._mlCommon;n.isInLayoutCycle()&&n.finishLayoutCycle();var s=t(i),r=s[0];if(e.FocusUtils.containsFocus(r)){var a=this._getTileElements(!0),o=a.indexOf(r);o>0&&(this._deletingTileWithFocusPrev=a[o-1])}var l={tile:s};!1!==this._trigger("beforeRemove",null,l)&&n.hideTile(i)},_handleResize:function(){this._bDragging||this._inLayoutCycle||this._mlCommon.resizeNotify()},_showTileOnEnd:function(e){var i=t(e),n=e._jetDataTileInsertIndex;delete e._jetDataTileInsertIndex,this.options.reorderHandle&&this._setupReorderHandlesForElem(i);var s={tile:i,index:n};this._eventsToFire.push("insert",s)},_hideTileOnEnd:function(i){var n=t(i);this.options.reorderHandle&&this._tearDownReorderHandlesForElem(n),n.removeClass(h),e.Components.subtreeDetached(i),i.parentNode.removeChild(i),this._removeTileOriginalOrder(i);var s={tile:n};this._eventsToFire.push("remove",s)},_startAnimation:function(t,i){var n=(e.ThemeUtils.parseJSONFromFontFamily("oj-masonrylayout-option-defaults")||{}).animation,s=n?n[i]:null;return e.AnimationUtils.startAnimation(t,i,s,this)},_layoutOnEnd:function(){if(this._arTilesToInsert){for(var e=this._mlCommon,i=this._arTilesToInsert,n=0;n<i.length;n++){var s=i[n];e.showTile(s)}this._arTilesToInsert=null}if(this._arResizingTiles){var r=this._arResizingTiles;for(n=0;n<r.length;n+=3){var a=r[n],o=r[n+1],l=r[n+2],h={tile:t(a),previousSizeStyleClass:o,sizeStyleClass:l};this._eventsToFire.push("resize",h)}this._arResizingTiles=null}this._bDragging&&(this._bDragMoveTransition?this._handleDragMoveTransitionEnd():this._bDragEndTransition&&this._handleDragEndTransitionEnd())},_layoutCycleOnStart:function(){this._inLayoutCycle=!0,this._layoutStartActiveDomElem=null,this._eventsToFire=[];var t=document.activeElement;t&&e.DomUtils.isAncestor(this.element[0],t)&&(this._layoutStartActiveDomElem=t)},_layoutCycleOnEnd:function(t){this._inLayoutCycle=!1;var i=this.element[0];if(this._layoutStartActiveDomElem){var n=this._layoutStartActiveDomElem;if(this._layoutStartActiveDomElem=null,this._deletingTileWithFocusPrev){var s=this._deletingTileWithFocusPrev;if(this._deletingTileWithFocusPrev=null,s&&e.DomUtils.isAncestor(i,s)){var r=this._getTileElements(i,!0),a=r.indexOf(s);a>=0&&a<r.length-1?e.FocusUtils.focusFirstTabStop(r[a+1]):e.FocusUtils.focusFirstTabStop(s)}}else e.DomUtils.isAncestor(i,n)?e.FocusUtils.focusElement(n):e.FocusUtils.focusFirstTabStop(i)}if(t&&t(),this._eventsToFire){var o=this._eventsToFire;this._eventsToFire=null;for(var l=0;l<o.length;l+=2){var h=o[l],u=o[l+1];this._trigger(h,null,u)}}},_destroyMLCommon:function(){var e=this._mlCommon;e&&e.destroy(),this._mlCommon=null},_canCalculateSizes:function(){var e=document.createElement("div"),t=e.style;t.width="10px",t.height="10px";var i=this.element[0];i.appendChild(e);var n=!1;try{n=e.offsetWidth>0&&e.offsetHeight>0}catch(e){}return i.removeChild(e),n},_getTileElements:function(e){for(var t=this.element.children(d),i=t.length,n=[],a=0;a<i;a++){var o=t[a];if(!e||e&&o!==this._dropSite){var l=o.style;l.visibility!==s&&l.display!==r&&n.push(o)}}return n},_saveTilesOriginalOrder:function(){var e=this._getTileElements();if(e)for(var t=0;t<e.length;t++){var i=e[t];i._jetDataMasonryOriginalOrder||(i._jetDataMasonryOriginalOrder=t+1)}},_checkTilesOriginalOrder:function(){var e=this._getTileElements();if(e)for(var t=0;t<e.length;t++){var i=e[t];i._jetDataMasonryOriginalOrder||this._insertTileOriginalOrder(i,t)}},_restoreTilesOriginalOrder:function(){var t=this._getTileElements(),i=this._getTileElements();F(i);for(var n=0;n<t.length;n++){var s=t[n],r=i[n];if(s!=r){e.Components.subtreeDetached(r),s.parentNode.insertBefore(r,s),e.Components.subtreeAttached(r);var a=t.indexOf(r);a>n&&(t.splice(a,1),t.splice(n,0,r))}}},_insertTileOriginalOrder:function(e,t){var i=this._getTileElements();if(t<0&&(t=i.length),i)for(var n=0;n<i.length;n++){var s=i[n];s._jetDataMasonryOriginalOrder&&s._jetDataMasonryOriginalOrder>=t+1&&s._jetDataMasonryOriginalOrder++}e._jetDataMasonryOriginalOrder=t+1},_removeTileOriginalOrder:function(e){if(e._jetDataMasonryOriginalOrder){var t=this._getTileElements();if(t)for(var i=0;i<t.length;i++){var n=t[i];n._jetDataMasonryOriginalOrder&&n._jetDataMasonryOriginalOrder>e._jetDataMasonryOriginalOrder&&n._jetDataMasonryOriginalOrder--}delete e._jetDataMasonryOriginalOrder}},_applyTileStyleClass:function(){var e=this.element.children();(e=(e=e.not("."+h)).filter(function(e,t){return t.className.match(u)})).addClass(h)},_initMenu:function(e){var i=this._GetContextMenu();if(e||i||this._IsCustomElement()||(i=this.element.attr("contextmenu"))&&(this.options.contextMenu="#"+i),e||i){if(i=e||i,"function"==t.type(i)){try{i=i()}catch(e){i=null}t.type(i)}if(i){var n=t(i);if(n){n.css("display",r);var s=this._menu;if(!s)return;s.$container=n,s.usermenu=!0}this._menu.usermenu&&e&&this._applyMenu()}}},_applyMenu:function(){if(this._menu&&this._menu.usermenu&&this.options.reorderHandle){var e=this._menu.$container,i=this;"OJ-MENU"===e[0].tagName?e[0].addEventListener("ojAction",this._handleContextMenuSelect.bind(this)):e.on("ojselect",this._handleContextMenuSelect.bind(this));var n=!1;e.find("[data-oj-command]").each(function(){var s=t(this).attr("data-oj-command");s.indexOf("oj-masonrylayout-")>=0&&(s=s.slice("oj-masonrylayout-".length));var r="OJ-MENU"===e[0].tagName?this.tagName:"li",a=i._buildContextMenuItem(s,r);t(this).attr("id",a.attr("id")),"OJ-OPTION"===this.tagName?(this.innerHTML=a.get(0).innerHTML,t(this).attr("data-oj-command",a.attr("data-oj-command"))):(a.get(0).className=t(this).get(0).className,t(this).replaceWith(a)),n=!0}),n&&("OJ-MENU"===e[0].tagName?e[0].refresh():e.ojMenu("refresh")),this._menu.$elemCut=e.find("#"+f),this._menu.$elemPasteBefore=e.find("#"+m),this._menu.$elemPasteAfter=e.find("#"+g)}},_clearMenu:function(){var e=this._menu;e&&e.usermenu&&(e.usermenu=!1,"OJ-MENU"===e.$container[0].tagName?e.$container[0].removeEventListener("ojAction",this._handleContextMenuSelect):e.$container.off("ojselect"),e.$container=null)},_refreshMenu:function(){this._clearMenu(),this._initMenu(),this._applyMenu()},_prepareContextMenuBeforeOpen:function(e){var i=this.element,n=e.originalEvent.target,s=this.options.reorderHandle,r=!1;if(s){var a=t(n).closest(s);a&&a.length>0&&(r=!0)}var l=D(n,i[0]);if(this._menu.tile=l,this._menu.usermenu){var h=this._menu.cutTile,u=!1,d=this._menu.$elemCut;if(d){var _=d.hasClass("oj-helper-hidden");r||_?r&&_&&(d.removeClass("oj-helper-hidden"),u=!0):(d.addClass("oj-helper-hidden"),u=!0);var c=d.hasClass(o),f=!1;h&&l===h&&(f=!0),f&&!c?(d.addClass(o),u=!0):!f&&c&&(d.removeClass(o),u=!0)}var m=this._menu.$elemPasteBefore;if(m){var g=m.hasClass("oj-helper-hidden");r||g?r&&g&&(m.removeClass("oj-helper-hidden"),u=!0):(m.addClass("oj-helper-hidden"),u=!0);var p=m.hasClass(o);f=!1,h&&l!==h&&l!==I(h)||(f=!0),f&&!p?(m.addClass(o),u=!0):!f&&p&&(m.removeClass(o),u=!0)}var v=this._menu.$elemPasteAfter;if(v){var y=v.hasClass("oj-helper-hidden");r||y?r&&y&&(v.removeClass("oj-helper-hidden"),u=!0):(v.addClass("oj-helper-hidden"),u=!0);var T=v.hasClass(o);f=!1,h&&h!==l&&h!==I(l)||(f=!0),f&&!T?(v.addClass(o),u=!0):!f&&T&&(v.removeClass(o),u=!0)}if(u){var S=this._menu.$container;"OJ-MENU"===S[0].tagName?S[0].refresh():S.ojMenu("refresh")}}},_buildContextMenuItem:function(e,i){var n=p[e],s=t(document.createElement(i));return s.attr("id",n),s.attr("data-oj-command",e),s.append(this._buildContextMenuLabel(e,"OJ-OPTION"===i)),s},_buildContextMenuLabel:function(e,i){var n=v[e],s=document.createTextNode(this.getTranslatedString(n));return i?s:t('<a href="#"></a>').append(s)},_menuCut:function(e){e&&(this._menu.cutTile=e)},_menuPaste:function(e,t){if(e&&this._menu.cutTile){var i=this._menu.cutTile;this._menu.cutTile=!1,this._doPaste(i,e,t)}},_doPaste:function(e,i,n){var s=e._jetDataMasonryOriginalOrder-1,r=t(e),a={tile:r,fromIndex:s};if(!1!==this._trigger("beforeReorder",null,a)){this._removeTileOriginalOrder(e);var o=i._jetDataMasonryOriginalOrder-1;n||o++;var l=this.element[0];if(n)this._insertTileOriginalOrder(e,o),l.insertBefore(e,i);else{var h=I(i);this._insertTileOriginalOrder(e,o),l.insertBefore(e,h)}this._mlCommon.setup(!0);var u={tile:r,fromIndex:s,toIndex:o};this._trigger("reorder",null,u)}},_handleContextMenuSelect:function(e,i){var n=(i?i.item:t(e.target)).attr("id");n===f?this._menuCut(this._menu.tile):n===m?this._menuPaste(this._menu.tile,!0):n===g&&this._menuPaste(this._menu.tile,!1)},_getTileIndex:function(e){var t=this._getTileElements(!0);F(t);for(var i=t.length,n=0;n<i;n++)if(t[n]===e)return n;return-1},_setupReorderHandles:function(){var e=this.element,t=e.children();this._setupReorderHandlesForElem(t),e.on("dragstart"+this.reorderHandleEventNamespace,this._handleDragStartFunc).on("dragenter"+this.reorderHandleEventNamespace,this._handleDragEnterFunc).on("dragover"+this.reorderHandleEventNamespace,this._handleDragOverFunc).on("dragleave"+this.reorderHandleEventNamespace,this._handleDragLeaveFunc).on("dragend"+this.reorderHandleEventNamespace,this._handleDragEndFunc).on("drop"+this.reorderHandleEventNamespace,this._handleDropFunc)},_setupReorderHandlesForElem:function(e){var t=this.options;e.filter(t.reorderHandle).attr(a,"true").addClass(l),e.find(t.reorderHandle).attr(a,"true").addClass(l)},_tearDownReorderHandles:function(){var e=this.element,t=e.children();this._tearDownReorderHandlesForElem(t),e.off(this.reorderHandleEventNamespace)},
_tearDownReorderHandlesForElem:function(e){var t=this.options;e.filter(t.reorderHandle).removeAttr(a).removeClass(l),e.find(t.reorderHandle).removeAttr(a).removeClass(l)},_handleDragStart:function(e){var i=this.options;if(i.reorderHandle){var n=e.originalEvent.target,s=t(n).closest(i.reorderHandle);if(!s||s.length<1)return}if(i.reorderHandle&&!this._bDragging){n=e.target;var r=this.element,a=D(n,r[0]);if(a){var o=this._getTileIndex(a);a._jetDataMasonryDragSourceIndex=o;var l={tile:t(a),fromIndex:o};if(!1!==this._trigger("beforeReorder",null,l)){var h=e.originalEvent;this._dragStart(a,h.pageX,h.pageY,h.dataTransfer)}}}},_handleDragEnter:function(i){if(this._bDragging){var n=i.originalEvent,s=n.relatedTarget,r=this.element[0],a=!1;if(s)a=r!=s&&!e.DomUtils.isAncestor(r,s);else if(this._dragLeftMasonryLayout){var o=document.elementFromPoint(n.clientX,n.clientY);a=o&&(o==r||e.DomUtils.isAncestor(r,o))}a&&(this._dragLeftMasonryLayout=!1,this._draggedTile?this._dropSite&&(t(this._dropSite).css("display",""),this._mlCommon.setup(!1,!0)):n.dataTransfer.dropEffect="none")}},_handleDragOver:function(e){if(!this._bDragging)return!1;var t=e.originalEvent;return t.dataTransfer.dropEffect="move",this._dragMove(t.pageX,t.clientX,t.clientY),e.preventDefault(),!1},_handleDragLeave:function(i){if(this._bDragging){var n=i.originalEvent,s=n.relatedTarget,a=this.element[0],o=!1;if(s)o=a!=s&&!e.DomUtils.isAncestor(a,s);else{var l=document.elementFromPoint(n.clientX,n.clientY);o=l&&l!=a&&!e.DomUtils.isAncestor(a,l)}o&&(this._dragLeftMasonryLayout=!0,this._dropSite&&(t(this._dropSite).css("display",r),this._mlCommon.setup(!1,!0)))}},_clearDragStartHideTileTimeout:function(){if(this._dragStartHideTileTimeout){clearTimeout(this._dragStartHideTileTimeout),this._dragStartHideTileTimeout=null;var e=this._draggedTile;e&&t(e).removeClass("oj-drag")}},_handleDragEnd:function(i){if(this._clearDragStartHideTileTimeout(),this._bDragging&&!this._bDropping){var n=this._draggedTile;if(n&&this._dropSite){var s=this._dropSite,r=this.element[0];e.DomUtils.isAncestor(r,n)&&(t(s).css("display",""),this._removeTileOriginalOrder(s),s.parentNode.removeChild(s),t(n).css("display",""),this._insertTileOriginalOrder(n,n._jetDataMasonryOriginalOrder-1),this._mlCommon.setup(!1,!0)),delete n._jetDataMasonryDragSourceIndex}this._draggedTile=null,this._dropSite=null,this._prevTileUnderPoint=null,this._prevCellUnderPoint=null,this._bDragMoveTransition=!1,this._bMouseMoved=!1,this._dragOffset=null,this._bDragEndTransition=!1,this._bDragging=!1}},_handleDrop:function(e){if(!this._bDragging)return!1;var t=this._mlCommon;t.isInLayoutCycle()&&t.finishLayoutCycle(),this._clearDragStartHideTileTimeout();var i=e.originalEvent;return this._drop(this._draggedTile,i.pageX,i.pageY),e.stopPropagation(),!1},_dragStart:function(i,n,s,a){this._bDragging=!0,this._bDropping=!1,this._bMouseMoved=!1,this._bDragStartTileHidden=!1,this._draggedTile=i;var o=this.element[0],l=O(i);this._dropSite=document.createElement("div");var u=this._dropSite;u._jetDataMasonryOriginalOrder=i._jetDataMasonryOriginalOrder,u.className=l+" oj-drop "+h;var d=u.style,_=i.style;d.top=_.top,this._bRTL?d.right=_.right:d.left=_.left;var c=T(i);o.insertBefore(u,i);var f={left:n-c.left,top:s-c.top};this._dragOffset=f,t(i).addClass("oj-drag"),a.effectAllowed="move",a.setData("text/html",i.outerHTML),a.setDragImage(i,f.left,f.top);var m=this;this._dragStartHideTileTimeout=setTimeout(function(){m._bDragStartTileHidden=!0,_.display=r,t(i).removeClass("oj-drag"),m._dragStartHideTileTimeout=null,e.Components.subtreeHidden(i)},0)},_dragMove:function(e,i,n){if(this._bMouseMoved=!0,this._bDragStartTileHidden&&!this._bDragMoveTransition){var s=this.element[0],r=document.elementFromPoint(i,n),a=D(r,s),o=!1;if(a){var l=t(a),h=this.options.reorderHandle;if(h)if(l.is(h))o=!0;else{var u=l.find(h);o=u&&u.length>0}}var d=!1;if(null==a||a===this._dropSite||a===this._draggedTile)this._prevTileUnderPoint=null,this._prevCellUnderPoint=null;else if(this._prevTileUnderPoint&&this._prevCellUnderPoint&&this._prevTileUnderPoint!=a){var _=this._getCellPosition(i,n);_&&_.row==this._prevCellUnderPoint.row&&_.col==this._prevCellUnderPoint.col&&(d=!0)}if(a&&!d&&a!==this._dropSite&&a!==this._draggedTile&&o){var c=e-T(s).left,f=I(this._dropSite),m=c>=a.offsetLeft+.5*a.offsetWidth;if(this._removeTileOriginalOrder(this._dropSite),m&&!this._bRTL||!m&&this._bRTL){var g=I(a);g?(this._insertTileOriginalOrder(this._dropSite,g._jetDataMasonryOriginalOrder-1),s.insertBefore(this._dropSite,g)):(this._insertTileOriginalOrder(this._dropSite,a._jetDataMasonryOriginalOrder),s.appendChild(this._dropSite))}else this._insertTileOriginalOrder(this._dropSite,a._jetDataMasonryOriginalOrder-1),s.insertBefore(this._dropSite,a);if(f!==I(this._dropSite)){var p=this._mlCommon,v=a,y=this._getCellPosition(i,n);this._bDragMoveTransition=p.setup(!1,!0),this._bDragMoveTransition&&(this._prevTileUnderPoint=v,this._prevCellUnderPoint=y)}}}},_handleDragMoveTransitionEnd:function(){this._bDragMoveTransition=!1},_drop:function(i,s,r){this._bDropping=!0;var a=this.element[0],o=this._dropSite;this._dropSite=null,this._prevTileUnderPoint=null,this._prevCellUnderPoint=null,e.Components.subtreeDetached(i),a.insertBefore(i,o),a.removeChild(o),e.Components.subtreeAttached(i),i._jetDataMasonryOriginalOrder=o._jetDataMasonryOriginalOrder;var l=i.style;l.display="",e.Components.subtreeShown(i);var h=T(a),u=this._dragOffset;l.top=r-u.top-h.top+n;var d=s-u.left-h.left;if(this._bRTL?(l.right=a.offsetWidth-(d+t(i).outerWidth(!0))+n,l.left=""):l.left=d+n,this._dragOffset=null,this._bMouseMoved){var _=this._mlCommon;this._bDragEndTransition=_.setup(!1,!0)}else this._handleDragEndTransitionEnd()},_handleDragEndTransitionEnd:function(){this._bDragEndTransition=!1,this._bDragging=!1,this._bDropping=!1,this._bMouseMoved=!1,this._bDragStartTileHidden=!1;var e=this._draggedTile;this._draggedTile=null;var i=e._jetDataMasonryDragSourceIndex;delete e._jetDataMasonryDragSourceIndex;var n=this._getTileIndex(e),s={tile:t(e),fromIndex:i,toIndex:n};this._trigger("reorder",null,s)},_getCellPosition:function(e,t){var i=this._mlCommon.getCellSize(),n=null;return i&&(n={col:parseInt(e/i.w,10),row:parseInt(t/i.h,10)}),n},_addBusyState:function(t){var i=this.element,n=e.Context.getContext(i[0]).getBusyContext(),s="MasonryLayout";s+=" (id='"+i.attr("id")+"')";var r={description:s+=": "+t};return n.addBusyState(r)},getNodeBySubId:function(e){return this._super(e)},getSubIdByNode:function(e){return this._super(e)}});var n="px",s="hidden",r="none",a="draggable",o="oj-disabled",l="oj-draggable",h="oj-masonrylayout-tile",u=/oj-masonrylayout-tile-[0-9]+x[0-9]+/,d="."+h,_="oj-masonrylayout-tile-transition-show-from",c="JET MasonryLayout: 'disabled' property not supported",f="ojmasonrylayoutcut",m="ojmasonrylayoutpastebefore",g="ojmasonrylayoutpasteafter",p={cut:f,"paste-before":m,"paste-after":g},v={cut:"labelCut","paste-before":"labelPasteBefore","paste-after":"labelPasteAfter"},y=25,T=function(e){return t(e).offset()},S=function(e,i){t(e).addClass(i)},C=function(e,i){t(e).removeClass(i)},O=function(e){var i=null,n=t(e).attr("class").match(u);return n&&(i=n[0]),i},E=function(e){var n=null,s=t(e).attr("class").match(u);if(s){var r=s[0].substring(h.length+1),a=r.indexOf("x"),o=r.substring(0,a),l=r.substring(a+1);n={colSpan:i._getCSSLengthAsInt(o),rowSpan:i._getCSSLengthAsInt(l)}}return n},F=function(e){return e&&e.sort(b),e},b=function(e,t){return t._jetDataMasonryOriginalOrder<e._jetDataMasonryOriginalOrder?1:e._jetDataMasonryOriginalOrder<t._jetDataMasonryOriginalOrder?-1:0},D=function(e,t){for(var i=e;i;){var n=i.style;if(n&&(n.visibility===s||n.display===r))break;var a=i.parentNode;if(a===t)return i;i=a}return null},I=function(e){for(var t=e;t;){var i=t.nextSibling,n=!0;if(i){var a=i.style;!a||a.visibility!==s&&a.display!==r||(n=!1)}if(i&&1===i.nodeType&&n)return i;t=i}return null}}(),e.CustomElementBridge.registerMetadata("oj-masonry-layout","baseComponent",{properties:{reorderHandle:{type:"string"},translations:{type:"Object",properties:{labelCut:{type:"string",value:"Cut"},labelPasteAfter:{type:"string",value:"Paste After"},labelPasteBefore:{type:"string",value:"Paste Before"}}}},methods:{insertTile:{},removeTile:{},resizeTile:{}},events:{animateEnd:{},animateStart:{},beforeInsert:{},beforeRemove:{},beforeReorder:{},beforeResize:{},insert:{},remove:{},reorder:{},resize:{}},extension:{_WIDGET_NAME:"ojMasonryLayout"}}),e.CustomElementBridge.register("oj-masonry-layout",{metadata:e.CustomElementBridge.getMetadata("oj-masonry-layout")})});
define('text',["module"],function(e){"use strict";var n,t,r,o,i,a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,u=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,l="undefined"!=typeof location&&location.href,c=l&&location.protocol&&location.protocol.replace(/\:/,""),f=l&&location.hostname,p=l&&(location.port||void 0),d={},m=e.config&&e.config()||{};function v(e,n){return void 0===e||""===e?n:e}return n={version:"2.0.15",strip:function(e){if(e){var n=(e=e.replace(s,"")).match(u);n&&(e=n[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:m.createXhr||function(){var e,n,t;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(n=0;n<3;n+=1){t=a[n];try{e=new ActiveXObject(t)}catch(e){}if(e){a=[t];break}}return e},parseName:function(e){var n,t,r,o=!1,i=e.lastIndexOf("."),a=0===e.indexOf("./")||0===e.indexOf("../");return-1!==i&&(!a||i>1)?(n=e.substring(0,i),t=e.substring(i+1)):n=e,-1!==(i=(r=t||n).indexOf("!"))&&(o="strip"===r.substring(i+1),r=r.substring(0,i),t?t=r:n=r),{moduleName:n,ext:t,strip:o}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,r,o){var i,a,s,u=n.xdRegExp.exec(e);return!u||(i=u[2],s=(a=(a=u[3]).split(":"))[1],a=a[0],(!i||i===t)&&(!a||a.toLowerCase()===r.toLowerCase())&&(!s&&!a||function(e,n,t,r){if(n===r)return!0;if(e===t){if("http"===e)return v(n,"80")===v(r,"80");if("https"===e)return v(n,"443")===v(r,"443")}return!1}(i,s,t,o)))},finishLoad:function(e,t,r,o){r=t?n.strip(r):r,m.isBuild&&(d[e]=r),o(r)},load:function(e,t,r,o){if(o&&o.isBuild&&!o.inlineText)r();else{m.isBuild=o&&o.isBuild;var i=n.parseName(e),a=i.moduleName+(i.ext?"."+i.ext:""),s=t.toUrl(a),u=m.useXhr||n.useXhr;0!==s.indexOf("empty:")?!l||u(s,c,f,p)?n.get(s,function(t){n.finishLoad(e,i.strip,t,r)},function(e){r.error&&r.error(e)}):t([a],function(e){n.finishLoad(i.moduleName+"."+i.ext,i.strip,e,r)}):r()}},write:function(e,t,r,o){if(d.hasOwnProperty(t)){var i=n.jsEscape(d[t]);r.asModule(e+"!"+t,"define(function () { return '"+i+"';});\n")}},writeFile:function(e,t,r,o,i){var a=n.parseName(t),s=a.ext?"."+a.ext:"",u=a.moduleName+s,l=r.toUrl(a.moduleName+s)+".js";n.load(u,r,function(t){var r=function(e){return o(l,e)};r.asModule=function(e,n){return o.asModule(e,l,n)},n.write(e,u,r,i)},i)}},"node"===m.env||!m.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(t=require.nodeRequire("fs"),n.get=function(e,n,r){try{var o=t.readFileSync(e,"utf8");"\ufeff"===o[0]&&(o=o.substring(1)),n(o)}catch(e){r&&r(e)}}):"xhr"===m.env||!m.env&&n.createXhr()?n.get=function(e,t,r,o){var i,a=n.createXhr();if(a.open("GET",e,!0),o)for(i in o)o.hasOwnProperty(i)&&a.setRequestHeader(i.toLowerCase(),o[i]);m.onXhr&&m.onXhr(a,e),a.onreadystatechange=function(n){var o,i;4===a.readyState&&((o=a.status||0)>399&&o<600?((i=new Error(e+" HTTP status: "+o)).xhr=a,r&&r(i)):t(a.responseText),m.onXhrComplete&&m.onXhrComplete(a,e))},a.send(null)}:"rhino"===m.env||!m.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?n.get=function(e,n){var t,r,o=new java.io.File(e),i=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),"utf-8")),s="";try{for(t=new java.lang.StringBuffer,(r=a.readLine())&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),null!==r&&t.append(r);null!==(r=a.readLine());)t.append(i),t.append(r);s=String(t.toString())}finally{a.close()}n(s)}:("xpconnect"===m.env||!m.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(r=Components.classes,o=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),i="@mozilla.org/windows-registry-key;1"in r,n.get=function(e,n){var t,a,s,u={};i&&(e=e.replace(/\//g,"\\")),s=new FileUtils.File(e);try{(t=r["@mozilla.org/network/file-input-stream;1"].createInstance(o.nsIFileInputStream)).init(s,1,0,!1),(a=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(o.nsIConverterInputStream)).init(t,"utf-8",t.available(),o.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),a.readString(t.available(),u),a.close(),t.close(),n(u.value)}catch(e){throw new Error((s&&s.path||"")+": "+e)}}),n});

define('text!customComponents/dashboard-masonry-tile/view.html',[],function () { return '<div class="oj-flex tile-content" style="height:100%">\r\n    <div class="oj-flex-item">\r\n        <div class="oj-flex" style="position:absolute;width:90%;">\r\n            <div class="oj-flex-item">\r\n                <oj-bind-text value="[[$properties.content.chartName]]"></oj-bind-text>\r\n            </div>\r\n            <div class="oj-flex-item">\r\n                <oj-button id="refresh" style="float:right">\r\n                    Refresh\r\n                </oj-button>\r\n            </div>\r\n        </div>\r\n        <oj-bind-if test=\'[[$properties.content.chartType === "pie"]]\'>\r\n            <oj-chart id="pieChart"\r\n                type="pie" \r\n                series="[[chartData]]"\r\n                animation-on-display="auto"\r\n                animation-on-data-change="auto"\r\n                style-defaults.three-d-effect="[[threeDValue]]"\r\n                hover-behavior="dim"\r\n                style="width:100%;">\r\n            </oj-chart>\r\n            <!-- 2D/3D toggle button -->\r\n            <!-- <demo-chart-three-d-effect-control id="threeDControl" three-d-effect="{{threeDValue}}" aria-controls="pieChart">\r\n            </demo-chart-three-d-effect-control> -->\r\n        </oj-bind-if>\r\n        <oj-bind-if test=\'[[$properties.content.chartType === "line"]]\'>\r\n\r\n        </oj-bind-if>\r\n        <oj-bind-if test=\'[[$properties.content.chartType === "bar"]]\'>\r\n\r\n        </oj-bind-if>\r\n    </div>\r\n</div>';});

define('customComponents/dashboard-masonry-tile/viewModel',["knockout","ojs/ojcore","jquery","ojs/ojknockout"],function(e,t,o){return function(t){var o=this,n=t.properties.content,i=t.properties.index;function a(e){e.classList.add("tile-loaded")}o.threeDValue=e.observable("off"),o.chartData=e.observableArray([]),o.activated=function(e){return new Promise(function(e,t){getRestData(n.serviceUrl,null,null,function(t){"ERROR"!==t?t.data.forEach(function(e){o.chartData.push(e)}):o.chartData([]),e(!0)})})},o.bindingsApplied=function(e){var t=e.element;t.id||t.setAttribute("id",e.unique);var o=t.parentElement,n="";if("oj-masonrylayout-tile-1x1"!=(n=0===i?"oj-masonrylayout-tile-4x4":1===i?"oj-masonrylayout-tile-4x2":2===i?"oj-masonrylayout-tile-4x2":"oj-masonrylayout-tile-1x1")){var r=function(e){e.detail.tile===t&&(o.removeEventListener("ojResize",r),a(t))};o.addEventListener("ojResize",r),o.resizeTile("#"+t.id,n)}else a(t)}}});

define('text!customComponents/dashboard-masonry-tile/component.json',[],function () { return '{\r\n    "name": "masonry-tile",\r\n    "description": "A masonry tile element with tile size determined on runtime based on the content.",\r\n    "version": "1.0.0",\r\n    "jetVersion": ">=4.0.0 <5.0.0",\r\n    "properties": {\r\n      "content": {\r\n        "description": "Masonry tile content.",\r\n        "type": "application/json"\r\n      },\r\n      "index": {\r\n        "description": "Masonry tile index.",\r\n        "type": "integer"\r\n      }\r\n    }\r\n  }';});

define('libs/require-css/normalize',[],function(){var t=/([^:])\/+/g,r=function(r){return r.replace(t,"$1/")},s=/[^\:\/]*:\/\/([^\/])*/,u=/^(\/|data:)/;function n(t,n,i){if(t.match(u)||t.match(s))return t;t=r(t);var o=i.match(s),c=n.match(s);return!c||o&&o[1]==c[1]&&o[2]==c[2]?e(a(t,n),i):a(t,n)}function a(t,r){if("./"==t.substr(0,2)&&(t=t.substr(2)),t.match(u)||t.match(s))return t;var n=r.split("/"),a=t.split("/");for(n.pop();curPart=a.shift();)".."==curPart?n.pop():n.push(curPart);return n.join("/")}function e(t,r){var s=r.split("/");for(s.pop(),r=s.join("/")+"/",i=0;r.substr(i,1)==t.substr(i,1);)i++;for(;"/"!=r.substr(i,1);)i--;r=r.substr(i+1),t=t.substr(i+1),s=r.split("/");var u=t.split("/");for(out="";s.shift();)out+="../";for(;curPart=u.shift();)out+=curPart+"/";return out.substr(0,out.length-1)}var o=function(t,s,u){s=r(s),u=r(u);for(var a,i,e=/@import\s*("([^"]*)"|'([^']*)')|url\s*\((?!#)\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/gi;a=e.exec(t);){var o;o=n(i=a[3]||a[2]||a[5]||a[6]||a[4],s,u);var c=a[5]||a[6]?1:0;t=t.substr(0,e.lastIndex-i.length-c-1)+o+t.substr(e.lastIndex-c-1),e.lastIndex=e.lastIndex+(o.length-i.length)}return t};return o.convertURIBase=n,o.absoluteURI=a,o.relativeURI=e,o});
define('css',[],function(){if("undefined"==typeof window)return{load:function(e,t,n){n()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,n=!1,r=!0;t[1]||t[7]?n=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]||t[8]?r=!1:t[4]&&(n=parseInt(t[4])<18);var o,i,s,l={pluginBuilder:"libs/require-css/css-builder"},a=function(){o=document.createElement("style"),e.appendChild(o),i=o.styleSheet||o.sheet},u=0,c=[],d=function(e){i.addImport(e),o.onload=function(){f()},31==++u&&(a(),u=0)},f=function(){s();var e=c.shift();return e?(s=e[1],void d(e[0])):void(s=null)},h=function(t,n){var o=document.createElement("link");if(o.type="text/css",o.rel="stylesheet",r)o.onload=function(){o.onload=function(){},setTimeout(n,7)};else var i=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){if(document.styleSheets[e].href==o.href)return clearInterval(i),n()}},10);o.href=t,e.appendChild(o)};return l.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},l.load=function(e,t,r,l){(n?function(e,t){if(i&&i.addImport||a(),i&&i.addImport)s?c.push([e,t]):(d(e),s=t);else{o.textContent='@import "'+e+'";';var n=setInterval(function(){try{o.sheet.cssRules,clearInterval(n),t()}catch(e){}},10)}}:h)(t.toUrl(e+".css"),r)},l});

define('css!customComponents/dashboard-masonry-tile/styles',[],function(){});
define('customComponents/dashboard-masonry-tile/loader',["ojs/ojcore","text!./view.html","./viewModel","text!./component.json","css!./styles","ojs/ojcomposite"],function(e,o,t,s){e.Composite.register("dashboard-masonry-tile",{view:o,viewModel:t,metadata:JSON.parse(s)})});

define('text!customComponents/oc-table/view.html',[],function () { return '<!DOCTYPE html>\n<div id="my-special-list-template">\n    <div class="dropBtnBar">\n        \n        <oj-bind-if test="[[showPrint() === true]]">\n            <oj-button id="refresh" on-oj-action=\'[[printData]]\'>Print</oj-button>\n        </oj-bind-if>\n        <oj-bind-if test="[[showExport() === true]]">\n            <oj-button id="refresh" on-oj-action=\'[[exportxls]]\'>Export</oj-button>\n        </oj-bind-if>\n        <oj-bind-if test="[[showColDisp() === true]]">\n            <div class="dropdown">\n                <oj-button class="dropbtn ">Column to Display</oj-button>\n                <div class="dropdown-content">\n                    <div id="colDisplay" data-bind="ojComponent: {component: \'ojCheckboxset\', value: columnDisplayed, optionChange: onChangedSelection}">\n                        <!-- ko foreach: columnList -->\n                        <span class="oj-choice-row">\n                            <input type="checkbox" data-bind="value: field" />\n                            <label data-bind="text: label"></label>\n                        </span>\n                        <!-- /ko -->\n                    </div>\n                </div>\n\n            </div>\n        </oj-bind-if>\n        <oj-bind-slot name="fetchSizeArea"></oj-bind-slot>\n    </div>\n    <table class="myPrint" data-bind="attr: {id: \'myTable_\'+$properties.id}, ojComponent: componentOptions">\n    </table>\n    <oj-bind-if test="[[showPagination() === true]]">\n        <div class="oj-flex">\n            <div class="oj-flex-item">\n                <!--<span>Rows to display: </span>\n                <oj-select-one id="basicSelect" value="{{displaySizeTemp}}" style="max-width:1.3em">\n                    <oj-option value="10">10</oj-option>\n                    <oj-option value="25">25</oj-option>\n                    <oj-option value="25">50</oj-option>\n                </oj-select-one>-->\n                \n            </div>\n            <!-- <oj-paging-control id="paging" data=\'[[dataSource]]\' page-size=\'[[displaySize]]\' slot=\'bottom\'></oj-paging-control> -->\n            <div id="paging" data-bind="ojComponent: {component: \'ojPagingControl\', data: dataSource, pageSize: pageSize,\n            pageOptions: {layout: [\'auto\', \'input\', \'rangeText\']}}"></div>\n        </div>\n    </oj-bind-if>\n</div>';});

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define('jzip',[],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.JSZip=t()}}(function(){return function t(e,r,n){function i(s,o){if(!r[s]){if(!e[s]){var d="function"==typeof require&&require;if(!o&&d)return d(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+s+"'")}var h=r[s]={exports:{}};e[s][0].call(h.exports,function(t){var r=e[s][1][t];return i(r||t)},h,h.exports,t,e,r,n)}return r[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(t,e){for(var r,i,a,s,o,d,h,l="",f=0;f<t.length;)s=(r=t.charCodeAt(f++))>>2,o=(3&r)<<4|(i=t.charCodeAt(f++))>>4,d=(15&i)<<2|(a=t.charCodeAt(f++))>>6,h=63&a,isNaN(i)?d=h=64:isNaN(a)&&(h=64),l=l+n.charAt(s)+n.charAt(o)+n.charAt(d)+n.charAt(h);return l},r.decode=function(t,e){var r,i,a,s,o,d,h="",l=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<t.length;)r=n.indexOf(t.charAt(l++))<<2|(s=n.indexOf(t.charAt(l++)))>>4,i=(15&s)<<4|(o=n.indexOf(t.charAt(l++)))>>2,a=(3&o)<<6|(d=n.indexOf(t.charAt(l++))),h+=String.fromCharCode(r),64!=o&&(h+=String.fromCharCode(i)),64!=d&&(h+=String.fromCharCode(a));return h}},{}],2:[function(t,e,r){"use strict";function n(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}n.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},e.exports=n},{}],3:[function(t,e,r){"use strict";r.STORE={magic:"\0\0",compress:function(t){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},r.DEFLATE=t("./flate")},{"./flate":8}],4:[function(t,e,r){"use strict";var n=t("./utils"),i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];e.exports=function(t,e){if(void 0===t||!t.length)return 0;var r="string"!==n.getTypeOf(t);void 0===e&&(e=0);var a=0;e^=-1;for(var s=0,o=t.length;s<o;s++)a=r?t[s]:t.charCodeAt(s),e=e>>>8^i[255&(e^a)];return-1^e}},{"./utils":21}],5:[function(t,e,r){"use strict";var n=t("./utils");function i(t){this.data=null,this.length=0,this.index=0}i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,r=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)r=(r<<8)+this.byteAt(e);return this.index+=t,r},readString:function(t){return n.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},e.exports=i},{"./utils":21}],6:[function(t,e,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!1,r.date=null,r.compression=null,r.comment=null},{}],7:[function(t,e,r){"use strict";var n=t("./utils");r.string2binary=function(t){return n.string2binary(t)},r.string2Uint8Array=function(t){return n.transformTo("uint8array",t)},r.uint8Array2String=function(t){return n.transformTo("string",t)},r.string2Blob=function(t){var e=n.transformTo("arraybuffer",t);return n.arrayBuffer2Blob(e)},r.arrayBuffer2Blob=function(t){return n.arrayBuffer2Blob(t)},r.transformTo=function(t,e){return n.transformTo(t,e)},r.getTypeOf=function(t){return n.getTypeOf(t)},r.checkSupport=function(t){return n.checkSupport(t)},r.MAX_VALUE_16BITS=n.MAX_VALUE_16BITS,r.MAX_VALUE_32BITS=n.MAX_VALUE_32BITS,r.pretty=function(t){return n.pretty(t)},r.findCompression=function(t){return n.findCompression(t)},r.isRegExp=function(t){return n.isRegExp(t)}},{"./utils":21}],8:[function(t,e,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=t("pako");r.uncompressInputType=n?"uint8array":"array",r.compressInputType=n?"uint8array":"array",r.magic="\b\0",r.compress=function(t){return i.deflateRaw(t)},r.uncompress=function(t){return i.inflateRaw(t)}},{pako:24}],9:[function(t,e,r){"use strict";var n=t("./base64");function i(t,e){if(!(this instanceof i))return new i(t,e);this.files={},this.comment=null,this.root="",t&&this.load(t,e),this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}i.prototype=t("./object"),i.prototype.load=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.utils=t("./deprecatedPublicUtils"),i.base64={encode:function(t){return n.encode(t)},decode:function(t){return n.decode(t)}},i.compressions=t("./compressions"),e.exports=i},{"./base64":1,"./compressions":3,"./defaults":6,"./deprecatedPublicUtils":7,"./load":10,"./object":13,"./support":17}],10:[function(t,e,r){"use strict";var n=t("./base64"),i=t("./zipEntries");e.exports=function(t,e){var r,a,s,o;for((e=e||{}).base64&&(t=n.decode(t)),r=(a=new i(t,e)).files,s=0;s<r.length;s++)o=r[s],this.file(o.fileName,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileComment.length?o.fileComment:null,createFolders:e.createFolders});return a.zipComment.length&&(this.comment=a.zipComment),this}},{"./base64":1,"./zipEntries":22}],11:[function(t,e,r){(function(t){"use strict";e.exports=function(e,r){return new t(e,r)},e.exports.test=function(e){return t.isBuffer(e)}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],12:[function(t,e,r){"use strict";var n=t("./uint8ArrayReader");function i(t){this.data=t,this.length=this.data.length,this.index=0}i.prototype=new n,i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.index,this.index+t);return this.index+=t,e},e.exports=i},{"./uint8ArrayReader":18}],13:[function(t,e,r){"use strict";var n=t("./support"),i=t("./utils"),a=t("./crc32"),s=t("./signature"),o=t("./defaults"),d=t("./base64"),h=t("./compressions"),l=t("./compressedObject"),f=t("./nodeBuffer"),u=t("./utf8"),c=t("./stringWriter"),_=t("./uint8ArrayWriter"),p=function(t){if(t._data instanceof l&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===i.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},m=function(t){var e=p(t);return"string"===i.getTypeOf(e)?!t.options.binary&&n.nodebuffer?f(e,"utf-8"):t.asBinary():e},g=function(t){var e=p(this);return null===e||void 0===e?"":(this.options.base64&&(e=d.decode(e)),e=t&&this.options.binary?A.utf8decode(e):i.transformTo("string",e),t||this.options.binary||(e=i.transformTo("string",A.utf8encode(e))),e)},b=function(t,e,r){this.name=t,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this._data=e,this.options=r,this._initialMetadata={dir:r.dir,date:r.date}};b.prototype={asText:function(){return g.call(this,!0)},asBinary:function(){return g.call(this,!1)},asNodeBuffer:function(){var t=m(this);return i.transformTo("nodebuffer",t)},asUint8Array:function(){var t=m(this);return i.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var w=function(t,e){var r,n="";for(r=0;r<e;r++)n+=String.fromCharCode(255&t),t>>>=8;return n},v=function(){var t,e,r={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===r[e]&&(r[e]=arguments[t][e]);return r},y=function(t,e,r){var n,a=i.getTypeOf(e);if((r=function(t){return!0!==(t=t||{}).base64||null!==t.binary&&void 0!==t.binary||(t.binary=!0),(t=v(t,o)).date=t.date||new Date,null!==t.compression&&(t.compression=t.compression.toUpperCase()),t}(r)).createFolders&&(n=k(t))&&x.call(this,n,!0),r.dir||null===e||void 0===e)r.base64=!1,r.binary=!1,e=null;else if("string"===a)r.binary&&!r.base64&&!0!==r.optimizedBinaryString&&(e=i.string2binary(e));else{if(r.base64=!1,r.binary=!0,!(a||e instanceof l))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===a&&(e=i.transformTo("uint8array",e))}var s=new b(t,e,r);return this.files[t]=s,s},k=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},x=function(t,e){return"/"!=t.slice(-1)&&(t+="/"),e=void 0!==e&&e,this.files[t]||y.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},z=function(t,e){var r,n=new l;return t._data instanceof l?(n.uncompressedSize=t._data.uncompressedSize,n.crc32=t._data.crc32,0===n.uncompressedSize||t.dir?(e=h.STORE,n.compressedContent="",n.crc32=0):t._data.compressionMethod===e.magic?n.compressedContent=t._data.getCompressedContent():(r=t._data.getContent(),n.compressedContent=e.compress(i.transformTo(e.compressInputType,r)))):((r=m(t))&&0!==r.length&&!t.dir||(e=h.STORE,r=""),n.uncompressedSize=r.length,n.crc32=a(r),n.compressedContent=e.compress(i.transformTo(e.compressInputType,r))),n.compressedSize=n.compressedContent.length,n.compressionMethod=e.magic,n},C=function(t,e,r,n){r.compressedContent;var o,d,h,l,f=i.transformTo("string",u.utf8encode(e.name)),c=e.comment||"",_=i.transformTo("string",u.utf8encode(c)),p=f.length!==e.name.length,m=_.length!==c.length,g=e.options,b="",v="",y="";h=e._initialMetadata.dir!==e.dir?e.dir:g.dir,o=(l=e._initialMetadata.date!==e.date?e.date:g.date).getHours(),o<<=6,o|=l.getMinutes(),o<<=5,o|=l.getSeconds()/2,d=l.getFullYear()-1980,d<<=4,d|=l.getMonth()+1,d<<=5,d|=l.getDate(),p&&(v=w(1,1)+w(a(f),4)+f,b+="up"+w(v.length,2)+v),m&&(y=w(1,1)+w(this.crc32(_),4)+_,b+="uc"+w(y.length,2)+y);var k="";return k+="\n\0",k+=p||m?"\0\b":"\0\0",k+=r.compressionMethod,k+=w(o,2),k+=w(d,2),k+=w(r.crc32,4),k+=w(r.compressedSize,4),k+=w(r.uncompressedSize,4),k+=w(f.length,2),k+=w(b.length,2),{fileRecord:s.LOCAL_FILE_HEADER+k+f+b,dirRecord:s.CENTRAL_FILE_HEADER+"\0"+k+w(_.length,2)+"\0\0\0\0"+(!0===h?"\0\0\0":"\0\0\0\0")+w(n,4)+f+b+_,compressedObject:r}},A={load:function(t,e){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,r,n,i,a=[];for(e in this.files)this.files.hasOwnProperty(e)&&(n=this.files[e],i=new b(n.name,n._data,v(n.options)),r=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(r,i)&&a.push(i));return a},file:function(t,e,r){if(1===arguments.length){if(i.isRegExp(t)){var n=t;return this.filter(function(t,e){return!e.dir&&n.test(t)})}return this.filter(function(e,r){return!r.dir&&e===t})[0]||null}return t=this.root+t,y.call(this,t,e,r),this},folder:function(t){if(!t)return this;if(i.isRegExp(t))return this.filter(function(e,r){return r.dir&&t.test(e)});var e=this.root+t,r=x.call(this,e),n=this.clone();return n.root=r.name,n},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!=t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var r=this.filter(function(e,r){return r.name.slice(0,t.length)===t}),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(t){t=v(t||{},{base64:!0,compression:"STORE",type:"base64",comment:null}),i.checkSupport(t.type);var e,r,n=[],a=0,o=0,l=i.transformTo("string",this.utf8encode(t.comment||this.comment||""));for(var f in this.files)if(this.files.hasOwnProperty(f)){var u=this.files[f],p=u.options.compression||t.compression.toUpperCase(),m=h[p];if(!m)throw new Error(p+" is not a valid compression method !");var g=z.call(this,u,m),b=C.call(this,f,u,g,a);a+=b.fileRecord.length+g.compressedSize,o+=b.dirRecord.length,n.push(b)}var y;y=s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+w(n.length,2)+w(n.length,2)+w(o,4)+w(a,4)+w(l.length,2)+l;var k=t.type.toLowerCase();for(e="uint8array"===k||"arraybuffer"===k||"blob"===k||"nodebuffer"===k?new _(a+o+y.length):new c(a+o+y.length),r=0;r<n.length;r++)e.append(n[r].fileRecord),e.append(n[r].compressedObject.compressedContent);for(r=0;r<n.length;r++)e.append(n[r].dirRecord);e.append(y);var x=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return i.transformTo(t.type.toLowerCase(),x);case"blob":return i.arrayBuffer2Blob(i.transformTo("arraybuffer",x));case"base64":return t.base64?d.encode(x):x;default:return x}},crc32:function(t,e){return a(t,e)},utf8encode:function(t){return i.transformTo("string",u.utf8encode(t))},utf8decode:function(t){return u.utf8decode(t)}};e.exports=A},{"./base64":1,"./compressedObject":2,"./compressions":3,"./crc32":4,"./defaults":6,"./nodeBuffer":11,"./signature":14,"./stringWriter":16,"./support":17,"./uint8ArrayWriter":19,"./utf8":20,"./utils":21}],14:[function(t,e,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],15:[function(t,e,r){"use strict";var n=t("./dataReader"),i=t("./utils");function a(t,e){this.data=t,e||(this.data=i.string2binary(this.data)),this.length=this.data.length,this.index=0}a.prototype=new n,a.prototype.byteAt=function(t){return this.data.charCodeAt(t)},a.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)},a.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.index,this.index+t);return this.index+=t,e},e.exports=a},{"./dataReader":5,"./utils":21}],16:[function(t,e,r){"use strict";var n=t("./utils"),i=function(){this.data=[]};i.prototype={append:function(t){t=n.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},e.exports=i},{"./utils":21}],17:[function(t,e,r){(function(t){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer=void 0!==t,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var e=new ArrayBuffer(0);try{r.blob=0===new Blob([e],{type:"application/zip"}).size}catch(t){try{var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);n.append(e),r.blob=0===n.getBlob("application/zip").size}catch(t){r.blob=!1}}}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],18:[function(t,e,r){"use strict";var n=t("./dataReader");function i(t){t&&(this.data=t,this.length=this.data.length,this.index=0)}i.prototype=new n,i.prototype.byteAt=function(t){return this.data[t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),r=t.charCodeAt(1),n=t.charCodeAt(2),i=t.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===e&&this.data[a+1]===r&&this.data[a+2]===n&&this.data[a+3]===i)return a;return-1},i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.index,this.index+t);return this.index+=t,e},e.exports=i},{"./dataReader":5}],19:[function(t,e,r){"use strict";var n=t("./utils"),i=function(t){this.data=new Uint8Array(t),this.index=0};i.prototype={append:function(t){0!==t.length&&(t=n.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},e.exports=i},{"./utils":21}],20:[function(t,e,r){"use strict";for(var n=t("./utils"),i=t("./support"),a=t("./nodeBuffer"),s=new Array(256),o=0;o<256;o++)s[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;s[254]=s[254]=1;var d=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;r>=0&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+s[t[r]]>e?r:e},h=function(t){var e,r,i,a,o=t.length,d=new Array(2*o);for(r=0,e=0;e<o;)if((i=t[e++])<128)d[r++]=i;else if((a=s[i])>4)d[r++]=65533,e+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&e<o;)i=i<<6|63&t[e++],a--;a>1?d[r++]=65533:i<65536?d[r++]=i:(i-=65536,d[r++]=55296|i>>10&1023,d[r++]=56320|1023&i)}return d.length!==r&&(d.subarray?d=d.subarray(0,r):d.length=r),n.applyFromCharCode(d)};r.utf8encode=function(t){return i.nodebuffer?a(t,"utf-8"):function(t){var e,r,n,a,s,o=t.length,d=0;for(a=0;a<o;a++)55296==(64512&(r=t.charCodeAt(a)))&&a+1<o&&56320==(64512&(n=t.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),d+=r<128?1:r<2048?2:r<65536?3:4;for(e=i.uint8array?new Uint8Array(d):new Array(d),s=0,a=0;s<d;a++)55296==(64512&(r=t.charCodeAt(a)))&&a+1<o&&56320==(64512&(n=t.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|63&r):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|63&r):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|63&r);return e}(t)},r.utf8decode=function(t){if(i.nodebuffer)return n.transformTo("nodebuffer",t).toString("utf-8");for(var e=[],r=0,a=(t=n.transformTo(i.uint8array?"uint8array":"array",t)).length;r<a;){var s=d(t,Math.min(r+65536,a));i.uint8array?e.push(h(t.subarray(r,s))):e.push(h(t.slice(r,s))),r=s}return e.join("")}},{"./nodeBuffer":11,"./support":17,"./utils":21}],21:[function(t,e,r){"use strict";var n=t("./support"),i=t("./compressions"),a=t("./nodeBuffer");function s(t){return t}function o(t,e){for(var r=0;r<t.length;++r)e[r]=255&t.charCodeAt(r);return e}function d(t){var e=65536,n=[],i=t.length,s=r.getTypeOf(t),o=0,d=!0;try{switch(s){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,a(0))}}catch(t){d=!1}if(!d){for(var h="",l=0;l<t.length;l++)h+=String.fromCharCode(t[l]);return h}for(;o<i&&e>1;)try{"array"===s||"nodebuffer"===s?n.push(String.fromCharCode.apply(null,t.slice(o,Math.min(o+e,i)))):n.push(String.fromCharCode.apply(null,t.subarray(o,Math.min(o+e,i)))),o+=e}catch(t){e=Math.floor(e/2)}return n.join("")}function h(t,e){for(var r=0;r<t.length;r++)e[r]=t[r];return e}r.string2binary=function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(255&t.charCodeAt(r));return e},r.arrayBuffer2Blob=function(t){r.checkSupport("blob");try{return new Blob([t],{type:"application/zip"})}catch(r){try{var e=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return e.append(t),e.getBlob("application/zip")}catch(t){throw new Error("Bug : can't construct the Blob.")}}},r.applyFromCharCode=d;var l={};l.string={string:s,array:function(t){return o(t,new Array(t.length))},arraybuffer:function(t){return l.string.uint8array(t).buffer},uint8array:function(t){return o(t,new Uint8Array(t.length))},nodebuffer:function(t){return o(t,a(t.length))}},l.array={string:d,array:s,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return a(t)}},l.arraybuffer={string:function(t){return d(new Uint8Array(t))},array:function(t){return h(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:s,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return a(new Uint8Array(t))}},l.uint8array={string:d,array:function(t){return h(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:s,nodebuffer:function(t){return a(t)}},l.nodebuffer={string:d,array:function(t){return h(t,new Array(t.length))},arraybuffer:function(t){return l.nodebuffer.uint8array(t).buffer},uint8array:function(t){return h(t,new Uint8Array(t.length))},nodebuffer:s},r.transformTo=function(t,e){if(e||(e=""),!t)return e;r.checkSupport(t);var n=r.getTypeOf(e);return l[n][t](e)},r.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":n.nodebuffer&&a.test(t)?"nodebuffer":n.uint8array&&t instanceof Uint8Array?"uint8array":n.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(t){if(!n[t.toLowerCase()])throw new Error(t+" is not supported by this browser")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(t){var e,r,n="";for(r=0;r<(t||"").length;r++)n+="\\x"+((e=t.charCodeAt(r))<16?"0":"")+e.toString(16).toUpperCase();return n},r.findCompression=function(t){for(var e in i)if(i.hasOwnProperty(e)&&i[e].magic===t)return i[e];return null},r.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)}},{"./compressions":3,"./nodeBuffer":11,"./support":17}],22:[function(t,e,r){"use strict";var n=t("./stringReader"),i=t("./nodeBufferReader"),a=t("./uint8ArrayReader"),s=t("./utils"),o=t("./signature"),d=t("./zipEntry"),h=t("./support"),l=t("./object");function f(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}f.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+s.pretty(e)+", expected "+s.pretty(t)+")")},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2),this.zipComment=this.reader.readString(this.zipCommentLength),this.zipComment=l.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,r,n=this.zip64EndOfCentralSize-44;0<n;)t=this.reader.readInt(2),e=this.reader.readInt(4),r=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===o.CENTRAL_FILE_HEADER;)(t=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(-1===t)throw new Error("Corrupted zip : can't find end of central directory");if(this.reader.setIndex(t),this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,-1===(t=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR)))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.reader.setIndex(t),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}},prepareReader:function(t){var e=s.getTypeOf(t);"string"!==e||h.uint8array?this.reader="nodebuffer"===e?new i(t):new a(s.transformTo("uint8array",t)):this.reader=new n(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=f},{"./nodeBufferReader":12,"./object":13,"./signature":14,"./stringReader":15,"./support":17,"./uint8ArrayReader":18,"./utils":21,"./zipEntry":23}],23:[function(t,e,r){"use strict";var n=t("./stringReader"),i=t("./utils"),a=t("./compressedObject"),s=t("./object");function o(t,e){this.options=t,this.loadOptions=e}o.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(t,e,r){return function(){var n=t.index;t.setIndex(e);var i=t.readData(r);return t.setIndex(n),i}},prepareContent:function(t,e,r,n,a){return function(){var t=i.transformTo(n.uncompressInputType,this.getCompressedContent()),e=n.uncompress(t);if(e.length!==a)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,r;if(t.skip(22),this.fileNameLength=t.readInt(2),r=t.readInt(2),this.fileName=t.readString(this.fileNameLength),t.skip(r),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(null===(e=i.findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")");if(this.decompressed=new a,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=i.transformTo("string",this.decompressed.getContent()),s.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readString(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readString(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readString(this.fileCommentLength),this.dir=!!(16&this.externalFileAttributes)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=new n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,r,n,i=t.index;for(this.extraFields=this.extraFields||{};t.index<i+this.extraFieldsLength;)e=t.readInt(2),r=t.readInt(2),n=t.readString(r),this.extraFields[e]={id:e,length:r,value:n}},handleUTF8:function(){if(this.useUTF8())this.fileName=s.utf8decode(this.fileName),this.fileComment=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();null!==t&&(this.fileName=t);var e=this.findExtraFieldUnicodeComment();null!==e&&(this.fileComment=e)}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new n(t.value);return 1!==e.readInt(1)?null:s.crc32(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new n(t.value);return 1!==e.readInt(1)?null:s.crc32(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readString(t.length-5))}return null}},e.exports=o},{"./compressedObject":2,"./object":13,"./stringReader":15,"./utils":21}],24:[function(t,e,r){"use strict";var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=n},{"./lib/deflate":25,"./lib/inflate":26,"./lib/utils/common":27,"./lib/zlib/constants":30}],25:[function(t,e,r){"use strict";var n=t("./zlib/deflate.js"),i=t("./utils/common"),a=t("./utils/strings"),s=t("./zlib/messages"),o=t("./zlib/zstream"),d=function(t){this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==r)throw new Error(s[r]);e.header&&n.deflateSetHeader(this.strm,e.header)};function h(t,e){var r=new d(e);if(r.push(t,!0),r.err)throw r.msg;return r.result}d.prototype.push=function(t,e){var r,s,o=this.strm,d=this.options.chunkSize;if(this.ended)return!1;s=e===~~e?e:!0===e?4:0,o.input="string"==typeof t?a.string2buf(t):t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new i.Buf8(d),
o.next_out=0,o.avail_out=d),1!==(r=n.deflate(o,s))&&0!==r)return this.onEnd(r),this.ended=!0,!1;(0===o.avail_out||0===o.avail_in&&4===s)&&("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(o.output,o.next_out))):this.onData(i.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==r);return 4!==s||(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r)},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Deflate=d,r.deflate=h,r.deflateRaw=function(t,e){return(e=e||{}).raw=!0,h(t,e)},r.gzip=function(t,e){return(e=e||{}).gzip=!0,h(t,e)}},{"./utils/common":27,"./utils/strings":28,"./zlib/deflate.js":32,"./zlib/messages":37,"./zlib/zstream":39}],26:[function(t,e,r){"use strict";var n=t("./zlib/inflate.js"),i=t("./utils/common"),a=t("./utils/strings"),s=t("./zlib/constants"),o=t("./zlib/messages"),d=t("./zlib/zstream"),h=t("./zlib/gzheader"),l=function(t){this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,e.windowBits);if(r!==s.Z_OK)throw new Error(o[r]);this.header=new h,n.inflateGetHeader(this.strm,this.header)};function f(t,e){var r=new l(e);if(r.push(t,!0),r.err)throw r.msg;return r.result}l.prototype.push=function(t,e){var r,o,d,h,l,f=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?s.Z_FINISH:s.Z_NO_FLUSH,f.input="string"==typeof t?a.binstring2buf(t):t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(u),f.next_out=0,f.avail_out=u),(r=n.inflate(f,s.Z_NO_FLUSH))!==s.Z_STREAM_END&&r!==s.Z_OK)return this.onEnd(r),this.ended=!0,!1;f.next_out&&(0===f.avail_out||r===s.Z_STREAM_END||0===f.avail_in&&o===s.Z_FINISH)&&("string"===this.options.to?(d=a.utf8border(f.output,f.next_out),h=f.next_out-d,l=a.buf2string(f.output,d),f.next_out=h,f.avail_out=u-h,h&&i.arraySet(f.output,f.output,d,h,0),this.onData(l)):this.onData(i.shrinkBuf(f.output,f.next_out)))}while(f.avail_in>0&&r!==s.Z_STREAM_END);return r===s.Z_STREAM_END&&(o=s.Z_FINISH),o!==s.Z_FINISH||(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===s.Z_OK)},l.prototype.onData=function(t){this.chunks.push(t)},l.prototype.onEnd=function(t){t===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Inflate=l,r.inflate=f,r.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},r.ungzip=f},{"./utils/common":27,"./utils/strings":28,"./zlib/constants":30,"./zlib/gzheader":33,"./zlib/inflate.js":35,"./zlib/messages":37,"./zlib/zstream":39}],27:[function(t,e,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])}}return t},r.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),i);else for(var a=0;a<n;a++)t[i+a]=e[r+a]},flattenChunks:function(t){var e,r,n,i,a,s;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(s=new Uint8Array(n),i=0,e=0,r=t.length;e<r;e++)a=t[e],s.set(a,i),i+=a.length;return s}},a={arraySet:function(t,e,r,n,i){for(var a=0;a<n;a++)t[i+a]=e[r+a]},flattenChunks:function(t){return[].concat.apply([],t)}};r.setTyped=function(t){t?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(n)},{}],28:[function(t,e,r){"use strict";var n=t("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var s=new n.Buf8(256),o=0;o<256;o++)s[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function d(t,e){if(e<65537&&(t.subarray&&a||!t.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var r="",s=0;s<e;s++)r+=String.fromCharCode(t[s]);return r}s[254]=s[254]=1,r.string2buf=function(t){var e,r,i,a,s,o=t.length,d=0;for(a=0;a<o;a++)55296==(64512&(r=t.charCodeAt(a)))&&a+1<o&&56320==(64512&(i=t.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),d+=r<128?1:r<2048?2:r<65536?3:4;for(e=new n.Buf8(d),s=0,a=0;s<d;a++)55296==(64512&(r=t.charCodeAt(a)))&&a+1<o&&56320==(64512&(i=t.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|63&r):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|63&r):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|63&r);return e},r.buf2binstring=function(t){return d(t,t.length)},r.binstring2buf=function(t){for(var e=new n.Buf8(t.length),r=0,i=e.length;r<i;r++)e[r]=t.charCodeAt(r);return e},r.buf2string=function(t,e){var r,n,i,a,o=e||t.length,h=new Array(2*o);for(n=0,r=0;r<o;)if((i=t[r++])<128)h[n++]=i;else if((a=s[i])>4)h[n++]=65533,r+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&r<o;)i=i<<6|63&t[r++],a--;a>1?h[n++]=65533:i<65536?h[n++]=i:(i-=65536,h[n++]=55296|i>>10&1023,h[n++]=56320|1023&i)}return d(h,n)},r.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;r>=0&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+s[t[r]]>e?r:e}},{"./common":27}],29:[function(t,e,r){"use strict";e.exports=function(t,e,r,n){for(var i=65535&t|0,a=t>>>16&65535|0,s=0;0!==r;){r-=s=r>2e3?2e3:r;do{a=a+(i=i+e[n++]|0)|0}while(--s);i%=65521,a%=65521}return i|a<<16|0}},{}],30:[function(t,e,r){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],31:[function(t,e,r){"use strict";var n=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e,r,i){var a=n,s=i+r;t^=-1;for(var o=i;o<s;o++)t=t>>>8^a[255&(t^e[o])];return-1^t}},{}],32:[function(t,e,r){"use strict";var n=t("../utils/common"),i=t("./trees"),a=t("./adler32"),s=t("./crc32"),o=t("./messages"),d=0,h=1,l=3,f=4,u=5,c=0,_=1,p=-2,m=-3,g=-5,b=-1,w=1,v=2,y=3,k=4,x=0,z=2,C=8,A=9,E=15,S=8,B=286,I=30,T=19,R=2*B+1,O=15,L=3,D=258,N=D+L+1,U=32,F=42,Z=69,M=73,P=91,j=103,H=113,X=666,K=1,V=2,Y=3,W=4,q=3;function G(t,e){return t.msg=o[e],e}function J(t){return(t<<1)-(t>4?9:0)}function Q(t){for(var e=t.length;--e>=0;)t[e]=0}function $(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(n.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function tt(t,e){i._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,$(t.strm)}function et(t,e){t.pending_buf[t.pending++]=e}function rt(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function nt(t,e){var r,n,i=t.max_chain_length,a=t.strstart,s=t.prev_length,o=t.nice_match,d=t.strstart>t.w_size-N?t.strstart-(t.w_size-N):0,h=t.window,l=t.w_mask,f=t.prev,u=t.strstart+D,c=h[a+s-1],_=h[a+s];t.prev_length>=t.good_match&&(i>>=2),o>t.lookahead&&(o=t.lookahead);do{if(h[(r=e)+s]===_&&h[r+s-1]===c&&h[r]===h[a]&&h[++r]===h[a+1]){a+=2,r++;do{}while(h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&a<u);if(n=D-(u-a),a=u-D,n>s){if(t.match_start=e,s=n,n>=o)break;c=h[a+s-1],_=h[a+s]}}}while((e=f[e&l])>d&&0!=--i);return s<=t.lookahead?s:t.lookahead}function it(t){var e,r,i,o,d,h,l,f,u,c,_=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=_+(_-N)){n.arraySet(t.window,t.window,_,_,0),t.match_start-=_,t.strstart-=_,t.block_start-=_,e=r=t.hash_size;do{i=t.head[--e],t.head[e]=i>=_?i-_:0}while(--r);e=r=_;do{i=t.prev[--e],t.prev[e]=i>=_?i-_:0}while(--r);o+=_}if(0===t.strm.avail_in)break;if(h=t.strm,l=t.window,f=t.strstart+t.lookahead,u=o,c=void 0,(c=h.avail_in)>u&&(c=u),r=0===c?0:(h.avail_in-=c,n.arraySet(l,h.input,h.next_in,c,f),1===h.state.wrap?h.adler=a(h.adler,l,c,f):2===h.state.wrap&&(h.adler=s(h.adler,l,c,f)),h.next_in+=c,h.total_in+=c,c),t.lookahead+=r,t.lookahead+t.insert>=L)for(d=t.strstart-t.insert,t.ins_h=t.window[d],t.ins_h=(t.ins_h<<t.hash_shift^t.window[d+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[d+L-1])&t.hash_mask,t.prev[d&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=d,d++,t.insert--,!(t.lookahead+t.insert<L)););}while(t.lookahead<N&&0!==t.strm.avail_in)}function at(t,e){for(var r,n;;){if(t.lookahead<N){if(it(t),t.lookahead<N&&e===d)return K;if(0===t.lookahead)break}if(r=0,t.lookahead>=L&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-N&&(t.match_length=nt(t,r)),t.match_length>=L)if(n=i._tr_tally(t,t.strstart-t.match_start,t.match_length-L),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=L){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(tt(t,!1),0===t.strm.avail_out))return K}return t.insert=t.strstart<L-1?t.strstart:L-1,e===f?(tt(t,!0),0===t.strm.avail_out?Y:W):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?K:V}function st(t,e){for(var r,n,a;;){if(t.lookahead<N){if(it(t),t.lookahead<N&&e===d)return K;if(0===t.lookahead)break}if(r=0,t.lookahead>=L&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=L-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-N&&(t.match_length=nt(t,r),t.match_length<=5&&(t.strategy===w||t.match_length===L&&t.strstart-t.match_start>4096)&&(t.match_length=L-1)),t.prev_length>=L&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-L,n=i._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-L),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=a&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=L-1,t.strstart++,n&&(tt(t,!1),0===t.strm.avail_out))return K}else if(t.match_available){if((n=i._tr_tally(t,0,t.window[t.strstart-1]))&&tt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return K}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=i._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<L-1?t.strstart:L-1,e===f?(tt(t,!0),0===t.strm.avail_out?Y:W):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?K:V}var ot,dt=function(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i};function ht(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=z,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?F:H,t.adler=2===e.wrap?0:1,e.last_flush=d,i._tr_init(e),c):G(t,p)}function lt(t){var e,r=ht(t);return r===c&&((e=t.state).window_size=2*e.w_size,Q(e.head),e.max_lazy_match=ot[e.level].max_lazy,e.good_match=ot[e.level].good_length,e.nice_match=ot[e.level].nice_length,e.max_chain_length=ot[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=L-1,e.match_available=0,e.ins_h=0),r}function ft(t,e,r,i,a,s){if(!t)return p;var o=1;if(e===b&&(e=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),a<1||a>A||r!==C||i<8||i>15||e<0||e>9||s<0||s>k)return G(t,p);8===i&&(i=9);var d=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*R),this.dyn_dtree=new n.Buf16(2*(2*I+1)),this.bl_tree=new n.Buf16(2*(2*T+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(O+1),this.heap=new n.Buf16(2*B+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*B+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return t.state=d,d.strm=t,d.wrap=o,d.gzhead=null,d.w_bits=i,d.w_size=1<<d.w_bits,d.w_mask=d.w_size-1,d.hash_bits=a+7,d.hash_size=1<<d.hash_bits,d.hash_mask=d.hash_size-1,d.hash_shift=~~((d.hash_bits+L-1)/L),d.window=new n.Buf8(2*d.w_size),d.head=new n.Buf16(d.hash_size),d.prev=new n.Buf16(d.w_size),d.lit_bufsize=1<<a+6,d.pending_buf_size=4*d.lit_bufsize,d.pending_buf=new n.Buf8(d.pending_buf_size),d.d_buf=d.lit_bufsize>>1,d.l_buf=3*d.lit_bufsize,d.level=e,d.strategy=s,d.method=r,lt(t)}ot=[new dt(0,0,0,0,function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(it(t),0===t.lookahead&&e===d)return K;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,tt(t,!1),0===t.strm.avail_out))return K;if(t.strstart-t.block_start>=t.w_size-N&&(tt(t,!1),0===t.strm.avail_out))return K}return t.insert=0,e===f?(tt(t,!0),0===t.strm.avail_out?Y:W):(t.strstart>t.block_start&&(tt(t,!1),t.strm.avail_out),K)}),new dt(4,4,8,4,at),new dt(4,5,16,8,at),new dt(4,6,32,32,at),new dt(4,4,16,16,st),new dt(8,16,32,32,st),new dt(8,16,128,128,st),new dt(8,32,128,256,st),new dt(32,128,258,1024,st),new dt(32,258,258,4096,st)],r.deflateInit=function(t,e){return ft(t,e,C,E,S,x)},r.deflateInit2=ft,r.deflateReset=lt,r.deflateResetKeep=ht,r.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?p:(t.state.gzhead=e,c):p},r.deflate=function(t,e){var r,n,a,o;if(!t||!t.state||e>u||e<0)return t?G(t,p):p;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||n.status===X&&e!==f)return G(t,0===t.avail_out?g:p);if(n.strm=t,r=n.last_flush,n.last_flush=e,n.status===F)if(2===n.wrap)t.adler=0,et(n,31),et(n,139),et(n,8),n.gzhead?(et(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),et(n,255&n.gzhead.time),et(n,n.gzhead.time>>8&255),et(n,n.gzhead.time>>16&255),et(n,n.gzhead.time>>24&255),et(n,9===n.level?2:n.strategy>=v||n.level<2?4:0),et(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(et(n,255&n.gzhead.extra.length),et(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=s(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Z):(et(n,0),et(n,0),et(n,0),et(n,0),et(n,0),et(n,9===n.level?2:n.strategy>=v||n.level<2?4:0),et(n,q),n.status=H);else{var m=C+(n.w_bits-8<<4)<<8;m|=(n.strategy>=v||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(m|=U),m+=31-m%31,n.status=H,rt(n,m),0!==n.strstart&&(rt(n,t.adler>>>16),rt(n,65535&t.adler)),t.adler=1}if(n.status===Z)if(n.gzhead.extra){for(a=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>a&&(t.adler=s(t.adler,n.pending_buf,n.pending-a,a)),$(t),a=n.pending,n.pending!==n.pending_buf_size));)et(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>a&&(t.adler=s(t.adler,n.pending_buf,n.pending-a,a)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=M)}else n.status=M;if(n.status===M)if(n.gzhead.name){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(t.adler=s(t.adler,n.pending_buf,n.pending-a,a)),$(t),a=n.pending,n.pending===n.pending_buf_size)){o=1;break}o=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,et(n,o)}while(0!==o);n.gzhead.hcrc&&n.pending>a&&(t.adler=s(t.adler,n.pending_buf,n.pending-a,a)),0===o&&(n.gzindex=0,n.status=P)}else n.status=P;if(n.status===P)if(n.gzhead.comment){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(t.adler=s(t.adler,n.pending_buf,n.pending-a,a)),$(t),a=n.pending,n.pending===n.pending_buf_size)){o=1;break}o=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,et(n,o)}while(0!==o);n.gzhead.hcrc&&n.pending>a&&(t.adler=s(t.adler,n.pending_buf,n.pending-a,a)),0===o&&(n.status=j)}else n.status=j;if(n.status===j&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&$(t),n.pending+2<=n.pending_buf_size&&(et(n,255&t.adler),et(n,t.adler>>8&255),t.adler=0,n.status=H)):n.status=H),0!==n.pending){if($(t),0===t.avail_out)return n.last_flush=-1,c}else if(0===t.avail_in&&J(e)<=J(r)&&e!==f)return G(t,g);if(n.status===X&&0!==t.avail_in)return G(t,g);if(0!==t.avail_in||0!==n.lookahead||e!==d&&n.status!==X){var b=n.strategy===v?function(t,e){for(var r;;){if(0===t.lookahead&&(it(t),0===t.lookahead)){if(e===d)return K;break}if(t.match_length=0,r=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(tt(t,!1),0===t.strm.avail_out))return K}return t.insert=0,e===f?(tt(t,!0),0===t.strm.avail_out?Y:W):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?K:V}(n,e):n.strategy===y?function(t,e){for(var r,n,a,s,o=t.window;;){if(t.lookahead<=D){if(it(t),t.lookahead<=D&&e===d)return K;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=L&&t.strstart>0&&(n=o[a=t.strstart-1])===o[++a]&&n===o[++a]&&n===o[++a]){s=t.strstart+D;do{}while(n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&a<s);t.match_length=D-(s-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=L?(r=i._tr_tally(t,1,t.match_length-L),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(tt(t,!1),0===t.strm.avail_out))return K}return t.insert=0,e===f?(tt(t,!0),0===t.strm.avail_out?Y:W):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?K:V}(n,e):ot[n.level].func(n,e);if(b!==Y&&b!==W||(n.status=X),b===K||b===Y)return 0===t.avail_out&&(n.last_flush=-1),c;if(b===V&&(e===h?i._tr_align(n):e!==u&&(i._tr_stored_block(n,0,0,!1),e===l&&(Q(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),$(t),0===t.avail_out))return n.last_flush=-1,c}return e!==f?c:n.wrap<=0?_:(2===n.wrap?(et(n,255&t.adler),et(n,t.adler>>8&255),et(n,t.adler>>16&255),et(n,t.adler>>24&255),et(n,255&t.total_in),et(n,t.total_in>>8&255),et(n,t.total_in>>16&255),et(n,t.total_in>>24&255)):(rt(n,t.adler>>>16),rt(n,65535&t.adler)),$(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?c:_)},r.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==F&&e!==Z&&e!==M&&e!==P&&e!==j&&e!==H&&e!==X?G(t,p):(t.state=null,e===H?G(t,m):c):p},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./messages":37,"./trees":38}],33:[function(t,e,r){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],34:[function(t,e,r){"use strict";e.exports=function(t,e){var r,n,i,a,s,o,d,h,l,f,u,c,_,p,m,g,b,w,v,y,k,x,z,C,A;r=t.state,n=t.next_in,C=t.input,i=n+(t.avail_in-5),a=t.next_out,A=t.output,s=a-(e-t.avail_out),o=a+(t.avail_out-257),d=r.dmax,h=r.wsize,l=r.whave,f=r.wnext,u=r.window,c=r.hold,_=r.bits,p=r.lencode,m=r.distcode,g=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;t:do{_<15&&(c+=C[n++]<<_,_+=8,c+=C[n++]<<_,_+=8),w=p[c&g];e:for(;;){if(c>>>=v=w>>>24,_-=v,0===(v=w>>>16&255))A[a++]=65535&w;else{if(!(16&v)){if(0==(64&v)){w=p[(65535&w)+(c&(1<<v)-1)];continue e}if(32&v){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}y=65535&w,(v&=15)&&(_<v&&(c+=C[n++]<<_,_+=8),y+=c&(1<<v)-1,c>>>=v,_-=v),_<15&&(c+=C[n++]<<_,_+=8,c+=C[n++]<<_,_+=8),w=m[c&b];r:for(;;){if(c>>>=v=w>>>24,_-=v,!(16&(v=w>>>16&255))){if(0==(64&v)){w=m[(65535&w)+(c&(1<<v)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(k=65535&w,_<(v&=15)&&(c+=C[n++]<<_,(_+=8)<v&&(c+=C[n++]<<_,_+=8)),(k+=c&(1<<v)-1)>d){t.msg="invalid distance too far back",r.mode=30;break t}if(c>>>=v,_-=v,k>(v=a-s)){if((v=k-v)>l&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(x=0,z=u,0===f){if(x+=h-v,v<y){y-=v;do{A[a++]=u[x++]}while(--v);x=a-k,z=A}}else if(f<v){if(x+=h+f-v,(v-=f)<y){y-=v;do{A[a++]=u[x++]}while(--v);if(x=0,f<y){y-=v=f;do{A[a++]=u[x++]}while(--v);x=a-k,z=A}}}else if(x+=f-v,v<y){y-=v;do{A[a++]=u[x++]}while(--v);x=a-k,z=A}for(;y>2;)A[a++]=z[x++],A[a++]=z[x++],A[a++]=z[x++],y-=3;y&&(A[a++]=z[x++],y>1&&(A[a++]=z[x++]))}else{x=a-k;do{A[a++]=A[x++],A[a++]=A[x++],A[a++]=A[x++],y-=3}while(y>2);y&&(A[a++]=A[x++],y>1&&(A[a++]=A[x++]))}break}}break}}while(n<i&&a<o);n-=y=_>>3,c&=(1<<(_-=y<<3))-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=a<o?o-a+257:257-(a-o),r.hold=c,r.bits=_}},{}],35:[function(t,e,r){"use strict";var n=t("../utils/common"),i=t("./adler32"),a=t("./crc32"),s=t("./inffast"),o=t("./inftrees"),d=0,h=1,l=2,f=4,u=5,c=6,_=0,p=1,m=2,g=-2,b=-3,w=-4,v=-5,y=8,k=1,x=2,z=3,C=4,A=5,E=6,S=7,B=8,I=9,T=10,R=11,O=12,L=13,D=14,N=15,U=16,F=17,Z=18,M=19,P=20,j=21,H=22,X=23,K=24,V=25,Y=26,W=27,q=28,G=29,J=30,Q=31,$=32,tt=852,et=592,rt=15;function nt(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function it(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=k,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(tt),e.distcode=e.distdyn=new n.Buf32(et),e.sane=1,e.back=-1,_):g}function at(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,it(t)):g}function st(t,e){var r,n;return t&&t.state?(n=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?g:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,at(t))):g}function ot(t,e){var r,i;return t?(i=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},t.state=i,i.window=null,(r=st(t,e))!==_&&(t.state=null),r):g}var dt,ht,lt=!0;function ft(t){if(lt){var e;for(dt=new n.Buf32(512),ht=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(o(h,t.lens,0,288,dt,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;o(l,t.lens,0,32,ht,0,t.work,{bits:5}),lt=!1}t.lencode=dt,t.lenbits=9,t.distcode=ht,t.distbits=5}r.inflateReset=at,r.inflateReset2=st,r.inflateResetKeep=it,r.inflateInit=function(t){return ot(t,rt)},r.inflateInit2=ot,r.inflate=function(t,e){var r,tt,et,rt,it,at,st,ot,dt,ht,lt,ut,ct,_t,pt,mt,gt,bt,wt,vt,yt,kt,xt,zt,Ct=0,At=new n.Buf8(4),Et=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return g;(r=t.state).mode===O&&(r.mode=L),it=t.next_out,et=t.output,st=t.avail_out,rt=t.next_in,tt=t.input,at=t.avail_in,ot=r.hold,dt=r.bits,ht=at,lt=st,kt=_;t:for(;;)switch(r.mode){case k:if(0===r.wrap){r.mode=L;break}for(;dt<16;){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}if(2&r.wrap&&35615===ot){r.check=0,At[0]=255&ot,At[1]=ot>>>8&255,r.check=a(r.check,At,2,0),ot=0,dt=0,r.mode=x;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&ot)<<8)+(ot>>8))%31){t.msg="incorrect header check",r.mode=J;break}if((15&ot)!==y){t.msg="unknown compression method",r.mode=J;break}if(dt-=4,yt=8+(15&(ot>>>=4)),0===r.wbits)r.wbits=yt;else if(yt>r.wbits){t.msg="invalid window size",r.mode=J;break}r.dmax=1<<yt,t.adler=r.check=1,r.mode=512&ot?T:O,ot=0,dt=0;break;case x:for(;dt<16;){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}if(r.flags=ot,(255&r.flags)!==y){t.msg="unknown compression method",r.mode=J;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=J;break}r.head&&(r.head.text=ot>>8&1),512&r.flags&&(At[0]=255&ot,At[1]=ot>>>8&255,r.check=a(r.check,At,2,0)),ot=0,dt=0,r.mode=z;case z:for(;dt<32;){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}r.head&&(r.head.time=ot),512&r.flags&&(At[0]=255&ot,At[1]=ot>>>8&255,At[2]=ot>>>16&255,At[3]=ot>>>24&255,r.check=a(r.check,At,4,0)),ot=0,dt=0,r.mode=C;case C:for(;dt<16;){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}r.head&&(r.head.xflags=255&ot,r.head.os=ot>>8),512&r.flags&&(At[0]=255&ot,At[1]=ot>>>8&255,r.check=a(r.check,At,2,0)),ot=0,dt=0,r.mode=A;case A:if(1024&r.flags){for(;dt<16;){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}r.length=ot,r.head&&(r.head.extra_len=ot),512&r.flags&&(At[0]=255&ot,At[1]=ot>>>8&255,r.check=a(r.check,At,2,0)),ot=0,dt=0}else r.head&&(r.head.extra=null);r.mode=E;case E:if(1024&r.flags&&((ut=r.length)>at&&(ut=at),ut&&(r.head&&(yt=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,tt,rt,ut,yt)),512&r.flags&&(r.check=a(r.check,tt,ut,rt)),at-=ut,rt+=ut,r.length-=ut),r.length))break t;r.length=0,r.mode=S;case S:if(2048&r.flags){if(0===at)break t;ut=0;do{yt=tt[rt+ut++],r.head&&yt&&r.length<65536&&(r.head.name+=String.fromCharCode(yt))}while(yt&&ut<at);if(512&r.flags&&(r.check=a(r.check,tt,ut,rt)),at-=ut,rt+=ut,yt)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=B;case B:if(4096&r.flags){if(0===at)break t;ut=0;do{yt=tt[rt+ut++],r.head&&yt&&r.length<65536&&(r.head.comment+=String.fromCharCode(yt))}while(yt&&ut<at);if(512&r.flags&&(r.check=a(r.check,tt,ut,rt)),at-=ut,rt+=ut,yt)break t}else r.head&&(r.head.comment=null);r.mode=I;case I:if(512&r.flags){for(;dt<16;){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}if(ot!==(65535&r.check)){t.msg="header crc mismatch",r.mode=J;break}ot=0,dt=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=O;break;case T:for(;dt<32;){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}t.adler=r.check=nt(ot),ot=0,dt=0,r.mode=R;case R:if(0===r.havedict)return t.next_out=it,t.avail_out=st,t.next_in=rt,t.avail_in=at,r.hold=ot,r.bits=dt,m;t.adler=r.check=1,r.mode=O;case O:if(e===u||e===c)break t;case L:if(r.last){ot>>>=7&dt,dt-=7&dt,r.mode=W;break}for(;dt<3;){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}switch(r.last=1&ot,dt-=1,3&(ot>>>=1)){case 0:r.mode=D;break;case 1:if(ft(r),r.mode=P,e===c){ot>>>=2,dt-=2;break t}break;case 2:r.mode=F;break;case 3:t.msg="invalid block type",r.mode=J}ot>>>=2,dt-=2;break;case D:for(ot>>>=7&dt,dt-=7&dt;dt<32;){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}if((65535&ot)!=(ot>>>16^65535)){t.msg="invalid stored block lengths",r.mode=J;break}if(r.length=65535&ot,ot=0,dt=0,r.mode=N,e===c)break t;case N:r.mode=U;case U:if(ut=r.length){if(ut>at&&(ut=at),ut>st&&(ut=st),0===ut)break t;n.arraySet(et,tt,rt,ut,it),at-=ut,rt+=ut,st-=ut,it+=ut,r.length-=ut;break}r.mode=O;break;case F:for(;dt<14;){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}if(r.nlen=257+(31&ot),ot>>>=5,dt-=5,r.ndist=1+(31&ot),ot>>>=5,dt-=5,r.ncode=4+(15&ot),ot>>>=4,dt-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=J;break}r.have=0,r.mode=Z;case Z:for(;r.have<r.ncode;){for(;dt<3;){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}r.lens[Et[r.have++]]=7&ot,ot>>>=3,dt-=3}for(;r.have<19;)r.lens[Et[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,xt={bits:r.lenbits},kt=o(d,r.lens,0,19,r.lencode,0,r.work,xt),r.lenbits=xt.bits,kt){t.msg="invalid code lengths set",r.mode=J;break}r.have=0,r.mode=M;case M:for(;r.have<r.nlen+r.ndist;){for(;mt=(Ct=r.lencode[ot&(1<<r.lenbits)-1])>>>16&255,gt=65535&Ct,!((pt=Ct>>>24)<=dt);){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}if(gt<16)ot>>>=pt,dt-=pt,r.lens[r.have++]=gt;else{if(16===gt){for(zt=pt+2;dt<zt;){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}if(ot>>>=pt,dt-=pt,0===r.have){t.msg="invalid bit length repeat",r.mode=J;break}yt=r.lens[r.have-1],ut=3+(3&ot),ot>>>=2,dt-=2}else if(17===gt){for(zt=pt+3;dt<zt;){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}dt-=pt,yt=0,ut=3+(7&(ot>>>=pt)),ot>>>=3,dt-=3}else{for(zt=pt+7;dt<zt;){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}dt-=pt,yt=0,ut=11+(127&(ot>>>=pt)),ot>>>=7,dt-=7}if(r.have+ut>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=J;break}for(;ut--;)r.lens[r.have++]=yt}}if(r.mode===J)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=J;break}if(r.lenbits=9,xt={bits:r.lenbits},kt=o(h,r.lens,0,r.nlen,r.lencode,0,r.work,xt),r.lenbits=xt.bits,kt){t.msg="invalid literal/lengths set",r.mode=J;break}if(r.distbits=6,r.distcode=r.distdyn,xt={bits:r.distbits},kt=o(l,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,xt),r.distbits=xt.bits,kt){t.msg="invalid distances set",r.mode=J;break}if(r.mode=P,e===c)break t;case P:r.mode=j;case j:if(at>=6&&st>=258){t.next_out=it,t.avail_out=st,t.next_in=rt,t.avail_in=at,r.hold=ot,r.bits=dt,s(t,lt),it=t.next_out,et=t.output,st=t.avail_out,rt=t.next_in,tt=t.input,at=t.avail_in,ot=r.hold,dt=r.bits,r.mode===O&&(r.back=-1);break}for(r.back=0;mt=(Ct=r.lencode[ot&(1<<r.lenbits)-1])>>>16&255,gt=65535&Ct,!((pt=Ct>>>24)<=dt);){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}if(mt&&0==(240&mt)){for(bt=pt,wt=mt,vt=gt;mt=(Ct=r.lencode[vt+((ot&(1<<bt+wt)-1)>>bt)])>>>16&255,gt=65535&Ct,!(bt+(pt=Ct>>>24)<=dt);){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}ot>>>=bt,dt-=bt,r.back+=bt}if(ot>>>=pt,dt-=pt,r.back+=pt,r.length=gt,0===mt){r.mode=Y;break}if(32&mt){r.back=-1,r.mode=O;break}if(64&mt){t.msg="invalid literal/length code",r.mode=J;break}r.extra=15&mt,r.mode=H;case H:if(r.extra){for(zt=r.extra;dt<zt;){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}r.length+=ot&(1<<r.extra)-1,ot>>>=r.extra,dt-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=X;case X:for(;mt=(Ct=r.distcode[ot&(1<<r.distbits)-1])>>>16&255,gt=65535&Ct,!((pt=Ct>>>24)<=dt);){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}if(0==(240&mt)){for(bt=pt,wt=mt,vt=gt;mt=(Ct=r.distcode[vt+((ot&(1<<bt+wt)-1)>>bt)])>>>16&255,gt=65535&Ct,!(bt+(pt=Ct>>>24)<=dt);){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}ot>>>=bt,dt-=bt,r.back+=bt}if(ot>>>=pt,dt-=pt,r.back+=pt,64&mt){t.msg="invalid distance code",r.mode=J;break}r.offset=gt,r.extra=15&mt,r.mode=K;case K:if(r.extra){for(zt=r.extra;dt<zt;){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}r.offset+=ot&(1<<r.extra)-1,ot>>>=r.extra,dt-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){
t.msg="invalid distance too far back",r.mode=J;break}r.mode=V;case V:if(0===st)break t;if(ut=lt-st,r.offset>ut){if((ut=r.offset-ut)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=J;break}ut>r.wnext?(ut-=r.wnext,ct=r.wsize-ut):ct=r.wnext-ut,ut>r.length&&(ut=r.length),_t=r.window}else _t=et,ct=it-r.offset,ut=r.length;ut>st&&(ut=st),st-=ut,r.length-=ut;do{et[it++]=_t[ct++]}while(--ut);0===r.length&&(r.mode=j);break;case Y:if(0===st)break t;et[it++]=r.length,st--,r.mode=j;break;case W:if(r.wrap){for(;dt<32;){if(0===at)break t;at--,ot|=tt[rt++]<<dt,dt+=8}if(lt-=st,t.total_out+=lt,r.total+=lt,lt&&(t.adler=r.check=r.flags?a(r.check,et,lt,it-lt):i(r.check,et,lt,it-lt)),lt=st,(r.flags?ot:nt(ot))!==r.check){t.msg="incorrect data check",r.mode=J;break}ot=0,dt=0}r.mode=q;case q:if(r.wrap&&r.flags){for(;dt<32;){if(0===at)break t;at--,ot+=tt[rt++]<<dt,dt+=8}if(ot!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=J;break}ot=0,dt=0}r.mode=G;case G:kt=p;break t;case J:kt=b;break t;case Q:return w;case $:default:return g}return t.next_out=it,t.avail_out=st,t.next_in=rt,t.avail_in=at,r.hold=ot,r.bits=dt,(r.wsize||lt!==t.avail_out&&r.mode<J&&(r.mode<W||e!==f))&&function(t,e,r,i){var a,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new n.Buf8(s.wsize)),i>=s.wsize?(n.arraySet(s.window,e,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((a=s.wsize-s.wnext)>i&&(a=i),n.arraySet(s.window,e,r-i,a,s.wnext),(i-=a)?(n.arraySet(s.window,e,r-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0}(t,t.output,t.next_out,lt-t.avail_out)?(r.mode=Q,w):(ht-=t.avail_in,lt-=t.avail_out,t.total_in+=ht,t.total_out+=lt,r.total+=lt,r.wrap&&lt&&(t.adler=r.check=r.flags?a(r.check,et,lt,t.next_out-lt):i(r.check,et,lt,t.next_out-lt)),t.data_type=r.bits+(r.last?64:0)+(r.mode===O?128:0)+(r.mode===P||r.mode===N?256:0),(0===ht&&0===lt||e===f)&&kt===_&&(kt=v),kt)},r.inflateEnd=function(t){if(!t||!t.state)return g;var e=t.state;return e.window&&(e.window=null),t.state=null,_},r.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?g:(r.head=e,e.done=!1,_):g},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./inffast":34,"./inftrees":36}],36:[function(t,e,r){"use strict";var n=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,r,d,h,l,f,u){var c,_,p,m,g,b,w,v,y,k=u.bits,x=0,z=0,C=0,A=0,E=0,S=0,B=0,I=0,T=0,R=0,O=null,L=0,D=new n.Buf16(16),N=new n.Buf16(16),U=null,F=0;for(x=0;x<=15;x++)D[x]=0;for(z=0;z<d;z++)D[e[r+z]]++;for(E=k,A=15;A>=1&&0===D[A];A--);if(E>A&&(E=A),0===A)return h[l++]=20971520,h[l++]=20971520,u.bits=1,0;for(C=1;C<A&&0===D[C];C++);for(E<C&&(E=C),I=1,x=1;x<=15;x++)if(I<<=1,(I-=D[x])<0)return-1;if(I>0&&(0===t||1!==A))return-1;for(N[1]=0,x=1;x<15;x++)N[x+1]=N[x]+D[x];for(z=0;z<d;z++)0!==e[r+z]&&(f[N[e[r+z]]++]=z);if(0===t?(O=U=f,b=19):1===t?(O=i,L-=257,U=a,F-=257,b=256):(O=s,U=o,b=-1),R=0,z=0,x=C,g=l,S=E,B=0,p=-1,m=(T=1<<E)-1,1===t&&T>852||2===t&&T>592)return 1;for(;;){0,w=x-B,f[z]<b?(v=0,y=f[z]):f[z]>b?(v=U[F+f[z]],y=O[L+f[z]]):(v=96,y=0),c=1<<x-B,C=_=1<<S;do{h[g+(R>>B)+(_-=c)]=w<<24|v<<16|y|0}while(0!==_);for(c=1<<x-1;R&c;)c>>=1;if(0!==c?(R&=c-1,R+=c):R=0,z++,0==--D[x]){if(x===A)break;x=e[r+f[z]]}if(x>E&&(R&m)!==p){for(0===B&&(B=E),g+=C,I=1<<(S=x-B);S+B<A&&!((I-=D[S+B])<=0);)S++,I<<=1;if(T+=1<<S,1===t&&T>852||2===t&&T>592)return 1;h[p=R&m]=E<<24|S<<16|g-l|0}}return 0!==R&&(h[g+R]=x-B<<24|64<<16|0),u.bits=E,0}},{"../utils/common":27}],37:[function(t,e,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],38:[function(t,e,r){"use strict";var n=t("../utils/common"),i=4,a=0,s=1,o=2;function d(t){for(var e=t.length;--e>=0;)t[e]=0}var h=0,l=1,f=2,u=29,c=256,_=c+1+u,p=30,m=19,g=2*_+1,b=15,w=16,v=7,y=256,k=16,x=17,z=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=new Array(2*(_+2));d(B);var I=new Array(2*p);d(I);var T=new Array(512);d(T);var R=new Array(256);d(R);var O=new Array(u);d(O);var L=new Array(p);d(L);var D,N,U,F=function(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length},Z=function(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e};function M(t){return t<256?T[t]:T[256+(t>>>7)]}function P(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function j(t,e,r){t.bi_valid>w-r?(t.bi_buf|=e<<t.bi_valid&65535,P(t,t.bi_buf),t.bi_buf=e>>w-t.bi_valid,t.bi_valid+=r-w):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function H(t,e,r){j(t,r[2*e],r[2*e+1])}function X(t,e){var r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1}function K(t,e,r){var n,i,a=new Array(b+1),s=0;for(n=1;n<=b;n++)a[n]=s=s+r[n-1]<<1;for(i=0;i<=e;i++){var o=t[2*i+1];0!==o&&(t[2*i]=X(a[o]++,o))}}function V(t){var e;for(e=0;e<_;e++)t.dyn_ltree[2*e]=0;for(e=0;e<p;e++)t.dyn_dtree[2*e]=0;for(e=0;e<m;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*y]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function Y(t){t.bi_valid>8?P(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function W(t,e,r,n){var i=2*e,a=2*r;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]}function q(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&W(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!W(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function G(t,e,r){var n,i,a,s,o=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],i=t.pending_buf[t.l_buf+o],o++,0===n?H(t,i,e):(H(t,(a=R[i])+c+1,e),0!==(s=C[a])&&j(t,i-=O[a],s),H(t,a=M(--n),r),0!==(s=A[a])&&j(t,n-=L[a],s))}while(o<t.last_lit);H(t,y,e)}function J(t,e){var r,n,i,a=e.dyn_tree,s=e.stat_desc.static_tree,o=e.stat_desc.has_stree,d=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=g,r=0;r<d;r++)0!==a[2*r]?(t.heap[++t.heap_len]=h=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)a[2*(i=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[i]=0,t.opt_len--,o&&(t.static_len-=s[2*i+1]);for(e.max_code=h,r=t.heap_len>>1;r>=1;r--)q(t,a,r);i=d;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],q(t,a,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,a[2*i]=a[2*r]+a[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,a[2*r+1]=a[2*n+1]=i,t.heap[1]=i++,q(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,n,i,a,s,o,d=e.dyn_tree,h=e.max_code,l=e.stat_desc.static_tree,f=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,_=e.stat_desc.max_length,p=0;for(a=0;a<=b;a++)t.bl_count[a]=0;for(d[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<g;r++)(a=d[2*d[2*(n=t.heap[r])+1]+1]+1)>_&&(a=_,p++),d[2*n+1]=a,n>h||(t.bl_count[a]++,s=0,n>=c&&(s=u[n-c]),o=d[2*n],t.opt_len+=o*(a+s),f&&(t.static_len+=o*(l[2*n+1]+s)));if(0!==p){do{for(a=_-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[_]--,p-=2}while(p>0);for(a=_;0!==a;a--)for(n=t.bl_count[a];0!==n;)(i=t.heap[--r])>h||(d[2*i+1]!==a&&(t.opt_len+=(a-d[2*i+1])*d[2*i],d[2*i+1]=a),n--)}}(t,e),K(a,h,t.bl_count)}function Q(t,e,r){var n,i,a=-1,s=e[1],o=0,d=7,h=4;for(0===s&&(d=138,h=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=e[2*(n+1)+1],++o<d&&i===s||(o<h?t.bl_tree[2*i]+=o:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[2*k]++):o<=10?t.bl_tree[2*x]++:t.bl_tree[2*z]++,o=0,a=i,0===s?(d=138,h=3):i===s?(d=6,h=3):(d=7,h=4))}function $(t,e,r){var n,i,a=-1,s=e[1],o=0,d=7,h=4;for(0===s&&(d=138,h=3),n=0;n<=r;n++)if(i=s,s=e[2*(n+1)+1],!(++o<d&&i===s)){if(o<h)do{H(t,i,t.bl_tree)}while(0!=--o);else 0!==i?(i!==a&&(H(t,i,t.bl_tree),o--),H(t,k,t.bl_tree),j(t,o-3,2)):o<=10?(H(t,x,t.bl_tree),j(t,o-3,3)):(H(t,z,t.bl_tree),j(t,o-11,7));o=0,a=i,0===s?(d=138,h=3):i===s?(d=6,h=3):(d=7,h=4)}}var tt=!1;function et(t,e,r,i){j(t,(h<<1)+(i?1:0),3),function(t,e,r,i){Y(t),i&&(P(t,r),P(t,~r)),n.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r,!0)}r._tr_init=function(t){tt||(function(){var t,e,r,n,i,a=new Array(b+1);for(r=0,n=0;n<u-1;n++)for(O[n]=r,t=0;t<1<<C[n];t++)R[r++]=n;for(R[r-1]=n,i=0,n=0;n<16;n++)for(L[n]=i,t=0;t<1<<A[n];t++)T[i++]=n;for(i>>=7;n<p;n++)for(L[n]=i<<7,t=0;t<1<<A[n]-7;t++)T[256+i++]=n;for(e=0;e<=b;e++)a[e]=0;for(t=0;t<=143;)B[2*t+1]=8,t++,a[8]++;for(;t<=255;)B[2*t+1]=9,t++,a[9]++;for(;t<=279;)B[2*t+1]=7,t++,a[7]++;for(;t<=287;)B[2*t+1]=8,t++,a[8]++;for(K(B,_+1,a),t=0;t<p;t++)I[2*t+1]=5,I[2*t]=X(t,5);D=new F(B,C,c+1,_,b),N=new F(I,A,0,p,b),U=new F(new Array(0),E,0,m,v)}(),tt=!0),t.l_desc=new Z(t.dyn_ltree,D),t.d_desc=new Z(t.dyn_dtree,N),t.bl_desc=new Z(t.bl_tree,U),t.bi_buf=0,t.bi_valid=0,V(t)},r._tr_stored_block=et,r._tr_flush_block=function(t,e,r,n){var d,h,u=0;t.level>0?(t.strm.data_type===o&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return a;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return s;for(e=32;e<c;e++)if(0!==t.dyn_ltree[2*e])return s;return a}(t)),J(t,t.l_desc),J(t,t.d_desc),u=function(t){var e;for(Q(t,t.dyn_ltree,t.l_desc.max_code),Q(t,t.dyn_dtree,t.d_desc.max_code),J(t,t.bl_desc),e=m-1;e>=3&&0===t.bl_tree[2*S[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),d=t.opt_len+3+7>>>3,(h=t.static_len+3+7>>>3)<=d&&(d=h)):d=h=r+5,r+4<=d&&-1!==e?et(t,e,r,n):t.strategy===i||h===d?(j(t,(l<<1)+(n?1:0),3),G(t,B,I)):(j(t,(f<<1)+(n?1:0),3),function(t,e,r,n){var i;for(j(t,e-257,5),j(t,r-1,5),j(t,n-4,4),i=0;i<n;i++)j(t,t.bl_tree[2*S[i]+1],3);$(t,t.dyn_ltree,e-1),$(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,u+1),G(t,t.dyn_ltree,t.dyn_dtree)),V(t),n&&Y(t)},r._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(R[r]+c+1)]++,t.dyn_dtree[2*M(e)]++),t.last_lit===t.lit_bufsize-1},r._tr_align=function(t){j(t,l<<1,3),H(t,y,B),function(t){16===t.bi_valid?(P(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":27}],39:[function(t,e,r){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}]},{},[9])(9)});
!function(e,t){"function"==typeof define&&define.amd?define('xlsx-js',["exports","jzip"],t):"object"==typeof exports&&"string"!=typeof exports.nodeName?module.exports=t(exports,require("jzip")):t(e,e.JSZip)}(this,function(e,t){var r={version:"0.8.8"},n=1200;function a(){s(1200)}"undefined"!=typeof module&&"undefined"!=typeof require&&("undefined"==typeof cptable&&(cptable=require("./cpexcel")),cptable[n]);var s=function(e){n=e};function i(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}var c=function(e){return e},o=function(e){return String.fromCharCode(e)};"undefined"!=typeof cptable&&(s=function(e){n=e,cptable[e]},c=function(e){return 255===e.charCodeAt(0)&&254===e.charCodeAt(1)?cptable.utils.decode(1200,i(e.substr(2))):e},o=function(e){return 1200===n?String.fromCharCode(e):cptable.utils.decode(n,[255&e,e>>8])[0]});var f,l=(f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",{encode:function(e,t){for(var r,n,a,s,i,c,o,l="",u=0;u<e.length;)s=(r=e.charCodeAt(u++))>>2,i=(3&r)<<4|(n=e.charCodeAt(u++))>>4,c=(15&n)<<2|(a=e.charCodeAt(u++))>>6,o=63&a,isNaN(n)?c=o=64:isNaN(a)&&(o=64),l+=f.charAt(s)+f.charAt(i)+f.charAt(c)+f.charAt(o);return l},decode:function(e,t){var r,n,a,s,i,c,o="";e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var l=0;l<e.length;)r=f.indexOf(e.charAt(l++))<<2|(s=f.indexOf(e.charAt(l++)))>>4,n=(15&s)<<4|(i=f.indexOf(e.charAt(l++)))>>2,a=(3&i)<<6|(c=f.indexOf(e.charAt(l++))),o+=String.fromCharCode(r),64!=i&&(o+=String.fromCharCode(n)),64!=c&&(o+=String.fromCharCode(a));return o}}),u="undefined"!=typeof Buffer;function h(e){return new(u?Buffer:Array)(e)}function d(e){return u?new Buffer(e,"binary"):e.split("").map(function(e){return 255&e.charCodeAt(0)})}var B=function(e){return[].concat.apply([],e)},E=/\u0000/g,p=/[\u0001-\u0006]/,m={},S=function(e){function t(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function r(e,t){for(var r="";r.length<t;)r+=e;return r}function n(e,t){var n=""+e;return n.length>=t?n:r("0",t-n.length)+n}function a(e,t){var n=""+e;return n.length>=t?n:r(" ",t-n.length)+n}function s(e,t){var n=""+e;return n.length>=t?n:n+r(" ",t-n.length)}e.version="0.8.1";var i=Math.pow(2,32);function c(e,t){return e>i||e<-i?function(e,t){var n=""+Math.round(e);return n.length>=t?n:r("0",t-n.length)+n}(e,t):function(e,t){var n=""+e;return n.length>=t?n:r("0",t-n.length)+n}(Math.round(e),t)}function o(e,t){return e.length>=7+t&&103==(32|e.charCodeAt(t))&&101==(32|e.charCodeAt(t+1))&&110==(32|e.charCodeAt(t+2))&&101==(32|e.charCodeAt(t+3))&&114==(32|e.charCodeAt(t+4))&&97==(32|e.charCodeAt(t+5))&&108==(32|e.charCodeAt(t+6))}var f=[["date1904",0],["output",""],["WTF",!1]];function l(e){for(var t=0;t!=f.length;++t)void 0===e[f[t][0]]&&(e[f[t][0]]=f[t][1])}e.opts=f;var u={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "',65535:"General"},h=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],d=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function B(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,c=0,o=1,f=0,l=0,u=Math.floor(a);f<t&&(c=(u=Math.floor(a))*i+s,l=u*f+o,!(a-u<5e-10));)a=1/(a-u),s=i,i=c,o=f,f=l;if(l>t&&(l=f,c=i),l>t&&(l=o,c=s),!r)return[0,n*c,l];if(0===l)throw"Unexpected state: "+c+" "+i+" "+s+" "+l+" "+f+" "+o;var h=Math.floor(n*c/l);return[h,n*c-h*l,l]}function E(e,t){return""+e}e._general_int=E;var p=function(){var e=/\.(\d*[1-9])0+$/,t=/\.0*$/,r=/\.(\d*[1-9])0+/,n=/\.0*[Ee]/,a=/(E[+-])(\d)$/;function s(r){return r.indexOf(".")>-1?r.replace(t,"").replace(e,".$1"):r}return function(t,i){var c=Math.floor(Math.log(Math.abs(t))*Math.LOG10E);return s(function(e){for(var t=0;t!=e.length;++t)if(101==(32|e.charCodeAt(t)))return e.replace(r,".$1").replace(n,"E").replace("e","E").replace(a,"$10$2");return e}(c>=-4&&c<=-1?t.toPrecision(10+c):Math.abs(c)<=9?function(e){var t=e<0?12:11,r=s(e.toFixed(12));return r.length<=t?r:(r=e.toPrecision(10)).length<=t?r:e.toExponential(5)}(t):10===c?t.toFixed(10).substr(0,12):function(t){var r=t.toFixed(11).replace(e,".$1");return r.length>(t<0?12:11)&&(r=t.toPrecision(6)),r}(t)))}}();function m(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?E(e):p(e,t)}throw new Error("unsupported value in General format: "+e)}function S(e,t,r){if(e>2958465||e<0)return null;var n=0|e,a=Math.floor(86400*(e-n)),s=0,i=[],c={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),l(null!=t?t:t=[]),t.date1904&&(n+=1462),c.u>.999&&(c.u=0,86400==++a&&(a=0,++n)),60===n)i=r?[1317,10,29]:[1900,2,29],s=3;else if(0===n)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var o=new Date(1900,0,1);o.setDate(o.getDate()+n-1),i=[o.getFullYear(),o.getMonth()+1,o.getDate()],s=o.getDay(),n<60&&(s=(s+6)%7),r&&(s=0)}return c.y=i[0],c.m=i[1],c.d=i[2],c.S=a%60,a=Math.floor(a/60),c.M=a%60,a=Math.floor(a/60),c.H=a,c.q=s,c}function g(e,t,r,a){var s,i="",c=0,o=0,f=r.y,l=0;switch(e){case 98:f=r.y+543;case 121:switch(t.length){case 1:case 2:s=f%100,l=2;break;default:s=f%1e4,l=4}break;case 109:switch(t.length){case 1:case 2:s=r.m,l=t.length;break;case 3:return d[r.m-1][1];case 5:return d[r.m-1][0];default:return d[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:s=r.d,l=t.length;break;case 3:return h[r.q][0];default:return h[r.q][1]}break;case 104:switch(t.length){case 1:case 2:s=1+(r.H+11)%12,l=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:s=r.H,l=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:s=r.M,l=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(0===r.u)switch(t){case"s":case"ss":return n(r.S,t.length)}switch(t){case"s":case"ss":case".0":case".00":case".000":return o=a>=2?3===a?1e3:100:1===a?10:1,(c=Math.round(o*(r.S+r.u)))>=60*o&&(c=0),"s"===t?0===c?"0":""+c/o:(i=n(c,2+a),"ss"===t?i.substr(0,2):"."+i.substr(2,t.length-1));default:throw"bad second format: "+t}case 90:switch(t){case"[h]":case"[hh]":s=24*r.D+r.H;break;case"[m]":case"[mm]":s=60*(24*r.D+r.H)+r.M;break;case"[s]":case"[ss]":s=60*(60*(24*r.D+r.H)+r.M)+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}l=3===t.length?1:2;break;case 101:s=f,l=1}return l>0?n(s,l):""}function C(e){if(e.length<=3)return e;for(var t=e.length%3,r=e.substr(0,t);t!=e.length;t+=3)r+=(r.length>0?",":"")+e.substr(t,3);return r}e._general_num=p,e._general=m,e.parse_date_code=S;var T=function(){var e=/%/g;var i=/# (\?+)( ?)\/( ?)(\d+)/;var o=/^#*0*\.(0+)/,f=/\).*[0#]/,l=/\(###\) ###\\?-####/;function u(e){for(var t,r="",n=0;n!=e.length;++n)switch(t=e.charCodeAt(n)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(t)}return r}function h(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function d(e,t){return Math.round((e-Math.floor(e))*Math.pow(10,t))}function E(p,m,S){if(40===p.charCodeAt(0)&&!m.match(f)){var g=m.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return S>=0?E("n",g,S):"("+E("n",g,-S)+")"}if(44===m.charCodeAt(m.length-1))return function(e,t,r){for(var n=t.length-1;44===t.charCodeAt(n-1);)--n;return T(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}(p,m,S);if(-1!==m.indexOf("%"))return function(t,n,a){var s=n.replace(e,""),i=n.length-s.length;return T(t,s,a*Math.pow(10,2*i))+r("%",i)}(p,m,S);if(-1!==m.indexOf("E"))return function(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var s=Math.floor(Math.log(Math.abs(t))*Math.LOG10E)%a;if(s<0&&(s+=a),-1===(r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a)).indexOf("e")){var i=Math.floor(Math.log(Math.abs(t))*Math.LOG10E);for(-1===r.indexOf(".")?r=r[0]+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);"0."===r.substr(0,2);)r=(r=r[0]+r.substr(2,a)+"."+r.substr(2+a)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,r,n){return t+r+n.substr(0,(a+s)%a)+"."+n.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r[r.length-1]),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}(m,S);if(36===m.charCodeAt(0))return"$"+E(p,m.substr(" "==m[1]?2:1),S);var b,v,I,R,D=Math.abs(S),O=S<0?"-":"";if(m.match(/^00+$/))return O+c(D,m.length);if(m.match(/^[#?]+$/))return"0"===(b=c(S,0))&&(b=""),b.length>m.length?b:u(m.substr(0,m.length-b.length))+b;if(null!==(v=m.match(i)))return function(e,t,s){var i=parseInt(e[4]),c=Math.round(t*i),o=Math.floor(c/i),f=c-o*i,l=i;return s+(0===o?"":""+o)+" "+(0===f?r(" ",e[1].length+1+e[4].length):a(f,e[1].length)+e[2]+"/"+e[3]+n(l,e[4].length))}(v,D,O);if(null!==m.match(/^#+0+$/))return O+c(D,m.length-m.indexOf("0"));if(null!==(v=m.match(o)))return b=h(S,v[1].length).replace(/^([^\.]+)$/,"$1."+v[1]).replace(/\.$/,"."+v[1]).replace(/\.(\d*)$/,function(e,t){return"."+t+r("0",v[1].length-t.length)}),-1!==m.indexOf("0.")?b:b.replace(/^0\./,".");if(m=m.replace(/^#+([0.])/,"$1"),null!==(v=m.match(/^(0*)\.(#*)$/)))return O+h(D,v[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,v[1].length?"0.":".");if(null!==(v=m.match(/^#,##0(\.?)$/)))return O+C(c(D,0));if(null!==(v=m.match(/^#,##0\.([#0]*0)$/)))return S<0?"-"+E(p,m,-S):C(""+Math.floor(S))+"."+n(d(S,v[1].length),v[1].length);if(null!==(v=m.match(/^#,#*,#0/)))return E(p,m.replace(/^#,#*,/,""),S);if(null!==(v=m.match(/^([0#]+)(\\?-([0#]+))+$/)))return b=t(E(p,m.replace(/[\\-]/g,""),S)),I=0,t(t(m.replace(/\\/g,"")).replace(/[0#]/g,function(e){return I<b.length?b[I++]:"0"===e?"0":""}));if(null!==m.match(l))return"("+(b=E(p,"##########",S)).substr(0,3)+") "+b.substr(3,3)+"-"+b.substr(6);var A="";if(null!==(v=m.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/)))return I=Math.min(v[4].length,7),R=B(D,Math.pow(10,I)-1,!1),b=""+O," "==(A=T("n",v[1],R[1]))[A.length-1]&&(A=A.substr(0,A.length-1)+"0"),b+=A+v[2]+"/"+v[3],(A=s(R[2],I)).length<v[4].length&&(A=u(v[4].substr(v[4].length-A.length))+A),b+=A;if(null!==(v=m.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/)))return I=Math.min(Math.max(v[1].length,v[4].length),7),O+((R=B(D,Math.pow(10,I)-1,!0))[0]||(R[1]?"":"0"))+" "+(R[1]?a(R[1],I)+v[2]+"/"+v[3]+s(R[2],I):r(" ",2*I+1+v[2].length+v[3].length));if(null!==(v=m.match(/^[#0?]+$/)))return b=c(S,0),m.length<=b.length?b:u(m.substr(0,m.length-b.length))+b;if(null!==(v=m.match(/^([#0?]+)\.([#0]+)$/))){b=""+S.toFixed(Math.min(v[2].length,10)).replace(/([^0])0+$/,"$1"),I=b.indexOf(".");var P=m.indexOf(".")-I,x=m.length-b.length-P;return u(m.substr(0,P)+b+m.substr(m.length-x))}if(null!==(v=m.match(/^00,000\.([#0]*0)$/)))return I=d(S,v[1].length),S<0?"-"+E(p,m,-S):C(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(S)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?n(0,3-e.length):"")+e})+"."+n(I,v[1].length);switch(m){case"#,###":var k=C(c(D,0));return"0"!==k?O+k:""}throw new Error("unsupported format |"+m+"|")}function p(c,h,d){if(40===c.charCodeAt(0)&&!h.match(f)){var E=h.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return d>=0?p("n",E,d):"("+p("n",E,-d)+")"}if(44===h.charCodeAt(h.length-1))return function(e,t,r){for(var n=t.length-1;44===t.charCodeAt(n-1);)--n;return T(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}(c,h,d);if(-1!==h.indexOf("%"))return function(t,n,a){var s=n.replace(e,""),i=n.length-s.length;return T(t,s,a*Math.pow(10,2*i))+r("%",i)}(c,h,d);if(-1!==h.indexOf("E"))return function(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var s=Math.floor(Math.log(Math.abs(t))*Math.LOG10E)%a;if(s<0&&(s+=a),!(r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a)).match(/[Ee]/)){var i=Math.floor(Math.log(Math.abs(t))*Math.LOG10E);-1===r.indexOf(".")?r=r[0]+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,r,n){return t+r+n.substr(0,(a+s)%a)+"."+n.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r[r.length-1]),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}(h,d);if(36===h.charCodeAt(0))return"$"+p(c,h.substr(" "==h[1]?2:1),d);var m,S,g,b,v=Math.abs(d),I=d<0?"-":"";if(h.match(/^00+$/))return I+n(v,h.length);if(h.match(/^[#?]+$/))return m=""+d,0===d&&(m=""),m.length>h.length?m:u(h.substr(0,h.length-m.length))+m;if(null!==(S=h.match(i)))return function(e,t,n){return n+(0===t?"":""+t)+r(" ",e[1].length+2+e[4].length)}(S,v,I);if(null!==h.match(/^#+0+$/))return I+n(v,h.length-h.indexOf("0"));if(null!==(S=h.match(o)))return m=(""+d).replace(/^([^\.]+)$/,"$1."+S[1]).replace(/\.$/,"."+S[1]).replace(/\.(\d*)$/,function(e,t){return"."+t+r("0",S[1].length-t.length)}),-1!==h.indexOf("0.")?m:m.replace(/^0\./,".");if(h=h.replace(/^#+([0.])/,"$1"),null!==(S=h.match(/^(0*)\.(#*)$/)))return I+(""+v).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,S[1].length?"0.":".");if(null!==(S=h.match(/^#,##0(\.?)$/)))return I+C(""+v);if(null!==(S=h.match(/^#,##0\.([#0]*0)$/)))return d<0?"-"+p(c,h,-d):C(""+d)+"."+r("0",S[1].length);if(null!==(S=h.match(/^#,#*,#0/)))return p(c,h.replace(/^#,#*,/,""),d);if(null!==(S=h.match(/^([0#]+)(\\?-([0#]+))+$/)))return m=t(p(c,h.replace(/[\\-]/g,""),d)),g=0,t(t(h.replace(/\\/g,"")).replace(/[0#]/g,function(e){return g<m.length?m[g++]:"0"===e?"0":""}));if(null!==h.match(l))return"("+(m=p(c,"##########",d)).substr(0,3)+") "+m.substr(3,3)+"-"+m.substr(6);var R="";if(null!==(S=h.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/)))return g=Math.min(S[4].length,7),b=B(v,Math.pow(10,g)-1,!1),m=""+I," "==(R=T("n",S[1],b[1]))[R.length-1]&&(R=R.substr(0,R.length-1)+"0"),m+=R+S[2]+"/"+S[3],(R=s(b[2],g)).length<S[4].length&&(R=u(S[4].substr(S[4].length-R.length))+R),m+=R;if(null!==(S=h.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/)))return g=Math.min(Math.max(S[1].length,S[4].length),7),I+((b=B(v,Math.pow(10,g)-1,!0))[0]||(b[1]?"":"0"))+" "+(b[1]?a(b[1],g)+S[2]+"/"+S[3]+s(b[2],g):r(" ",2*g+1+S[2].length+S[3].length));if(null!==(S=h.match(/^[#0?]+$/)))return m=""+d,h.length<=m.length?m:u(h.substr(0,h.length-m.length))+m;if(null!==(S=h.match(/^([#0]+)\.([#0]+)$/))){m=""+d.toFixed(Math.min(S[2].length,10)).replace(/([^0])0+$/,"$1"),g=m.indexOf(".");var D=h.indexOf(".")-g,O=h.length-m.length-D;return u(h.substr(0,D)+m+h.substr(h.length-O))}if(null!==(S=h.match(/^00,000\.([#0]*0)$/)))return d<0?"-"+p(c,h,-d):C(""+d).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?n(0,3-e.length):"")+e})+"."+n(0,S[1].length);switch(h){case"#,###":var A=C(""+v);return"0"!==A?I+A:""}throw new Error("unsupported format |"+h+"|")}return function(e,t,r){return(0|r)===r?p(e,t,r):E(e,t,r)}}();function b(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),!0===r)throw new Error("Format |"+e+"| unterminated string ");return t}e._split=b;var v=/\[[HhMmSs]*\]/;function I(e,t,r,n){for(var a,s,i,c,f=[],l="",u=0,h="",d="t",B="H";u<e.length;)switch(h=e[u]){case"G":if(!o(e,u))throw new Error("unrecognized character "+h+" in "+e);f[f.length]={t:"G",v:"General"},u+=7;break;case'"':for(l="";34!==(c=e.charCodeAt(++u))&&u<e.length;)l+=String.fromCharCode(c);f[f.length]={t:"t",v:l},++u;break;case"\\":var E=e[++u],p="("===E||")"===E?E:"t";f[f.length]={t:p,v:E},++u;break;case"_":f[f.length]={t:"t",v:" "},u+=2;break;case"@":f[f.length]={t:"T",v:t},++u;break;case"B":case"b":if("1"===e[u+1]||"2"===e[u+1]){if(null==s&&null==(s=S(t,r,"2"===e[u+1])))return"";f[f.length]={t:"X",v:e.substr(u,2)},d=h,u+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":h=h.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==s&&null==(s=S(t,r)))return"";for(l=h;++u<e.length&&e[u].toLowerCase()===h;)l+=h;"m"===h&&"h"===d.toLowerCase()&&(h="M"),"h"===h&&(h=B),f[f.length]={t:h,v:l},d=h;break;case"A":if(a={t:h,v:"A"},null==s&&(s=S(t,r)),"A/P"===e.substr(u,3)?(null!=s&&(a.v=s.H>=12?"P":"A"),a.t="T",B="h",u+=3):"AM/PM"===e.substr(u,5)?(null!=s&&(a.v=s.H>=12?"PM":"AM"),a.t="T",u+=5,B="h"):(a.t="t",++u),null==s&&"T"===a.t)return"";f[f.length]=a,d=h;break;case"[":for(l=h;"]"!==e[u++]&&u<e.length;)l+=e[u];if("]"!==l.substr(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(v)){if(null==s&&null==(s=S(t,r)))return"";f[f.length]={t:"Z",v:l.toLowerCase()}}else l="";break;case".":if(null!=s){for(l=h;"0"===(h=e[++u]);)l+=h;f[f.length]={t:"s",v:l};break}case"0":case"#":for(l=h;"0#?.,E+-%".indexOf(h=e[++u])>-1||"\\"==h&&"-"==e[u+1]&&"0#".indexOf(e[u+2])>-1;)l+=h;f[f.length]={t:"n",v:l};break;case"?":for(l=h;e[++u]===h;)l+=h;a={t:h,v:l},f[f.length]=a,d=h;break;case"*":" "!=e[++u]&&"*"!=e[u]||++u;break;case"(":case")":f[f.length]={t:1===n?"t":h,v:h},++u;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=h;"0123456789".indexOf(e[++u])>-1;)l+=e[u];f[f.length]={t:"D",v:l};break;case" ":f[f.length]={t:h,v:h},++u;break;default:if(-1===",$-+/():!^&'~{}<>=acfijklopqrtuvwxz".indexOf(h))throw new Error("unrecognized character "+h+" in "+e);f[f.length]={t:"t",v:h},++u}var C,b=0,I=0;for(u=f.length-1,d="t";u>=0;--u)switch(f[u].t){case"h":case"H":f[u].t=B,d="h",b<1&&(b=1);break;case"s":(C=f[u].v.match(/\.0+$/))&&(I=Math.max(I,C[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":d=f[u].t;break;case"m":"s"===d&&(f[u].t="M",b<2&&(b=2));break;case"X":f[u].v;break;case"Z":b<1&&f[u].v.match(/[Hh]/)&&(b=1),b<2&&f[u].v.match(/[Mm]/)&&(b=2),b<3&&f[u].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:s.u>=.5&&(s.u=0,++s.S),s.S>=60&&(s.S=0,++s.M),s.M>=60&&(s.M=0,++s.H);break;case 2:s.u>=.5&&(s.u=0,++s.S),s.S>=60&&(s.S=0,++s.M)}var R,D="";for(u=0;u<f.length;++u)switch(f[u].t){case"t":case"T":case" ":case"D":break;case"X":f[u]=void 0;break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":f[u].v=g(f[u].t.charCodeAt(0),f[u].v,s,I),f[u].t="t";break;case"n":case"(":case"?":for(R=u+1;null!=f[R]&&("?"===(h=f[R].t)||"D"===h||(" "===h||"t"===h)&&null!=f[R+1]&&("?"===f[R+1].t||"t"===f[R+1].t&&"/"===f[R+1].v)||"("===f[u].t&&(" "===h||"n"===h||")"===h)||"t"===h&&("/"===f[R].v||"$".indexOf(f[R].v)>-1||" "===f[R].v&&null!=f[R+1]&&"?"==f[R+1].t));)f[u].v+=f[R].v,f[R]=void 0,++R;D+=f[u].v,u=R-1;break;case"G":f[u].t="t",f[u].v=m(t,r)}var O,A,P="";if(D.length>0){O=t<0&&45===D.charCodeAt(0)?-t:t,R=(A=T(40===D.charCodeAt(0)?"(":"n",D,O)).length-1;var x=f.length;for(u=0;u<f.length;++u)if(null!=f[u]&&f[u].v.indexOf(".")>-1){x=u;break}var k=f.length;if(x===f.length&&-1===A.indexOf("E")){for(u=f.length-1;u>=0;--u)null!=f[u]&&-1!=="n?(".indexOf(f[u].t)&&(R>=f[u].v.length-1?(R-=f[u].v.length,f[u].v=A.substr(R+1,f[u].v.length)):R<0?f[u].v="":(f[u].v=A.substr(0,R+1),R=-1),f[u].t="t",k=u);R>=0&&k<f.length&&(f[k].v=A.substr(0,R+1)+f[k].v)}else if(x!==f.length&&-1===A.indexOf("E")){for(R=A.indexOf(".")-1,u=x;u>=0;--u)if(null!=f[u]&&-1!=="n?(".indexOf(f[u].t)){for(i=f[u].v.indexOf(".")>-1&&u===x?f[u].v.indexOf(".")-1:f[u].v.length-1,P=f[u].v.substr(i+1);i>=0;--i)R>=0&&("0"===f[u].v[i]||"#"===f[u].v[i])&&(P=A[R--]+P);f[u].v=P,f[u].t="t",k=u}for(R>=0&&k<f.length&&(f[k].v=A.substr(0,R+1)+f[k].v),R=A.indexOf(".")+1,u=x;u<f.length;++u)if(null!=f[u]&&(-1!=="n?(".indexOf(f[u].t)||u===x)){for(i=f[u].v.indexOf(".")>-1&&u===x?f[u].v.indexOf(".")+1:0,P=f[u].v.substr(0,i);i<f[u].v.length;++i)R<A.length&&(P+=A[R++]);f[u].v=P,f[u].t="t",k=u}}}for(u=0;u<f.length;++u)null!=f[u]&&"n(?".indexOf(f[u].t)>-1&&(O=n>1&&t<0&&u>0&&"-"===f[u-1].v?-t:t,f[u].v=T(f[u].t,f[u].v,O),f[u].t="t");var F="";for(u=0;u!==f.length;++u)null!=f[u]&&(F+=f[u].v);return F}e._eval=I;var R=/\[[=<>]/,D=/\[([=<>]*)(-?\d+\.?\d*)\]/;function O(e,t){if(null==t)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0}return!1}e._table=u,e.load=function(e,t){u[t]=e},e.format=function(e,t,r){l(null!=r?r:r=[]);var n="";switch(typeof e){case"string":n=e;break;case"number":n=(null!=r.table?r.table:u)[e]}if(o(n,0))return m(t,r);var a=function(e,t){var r=b(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw"cannot find right format for |"+r+"|";if("number"!=typeof t)return[4,4===r.length||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"]}var s=t>0?r[0]:t<0?r[1]:r[2];if(-1===r[0].indexOf("[")&&-1===r[1].indexOf("["))return[n,s];if(null!=r[0].match(R)||null!=r[1].match(R)){var i=r[0].match(D),c=r[1].match(D);return O(t,i)?[n,r[0]]:O(t,c)?[n,r[1]]:[n,r[null!=i&&null!=c?2:1]]}return[n,s]}(n,t);if(o(a[1]))return m(t,r);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return I(a[1],t,r,a[0])},e.get_table=function(){return u},e.load_table=function(t){for(var r=0;392!=r;++r)void 0!==t[r]&&e.load(t[r],r)}};S(m);var g,C={"General Number":"General","General Date":m._table[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":m._table[15],"Short Date":m._table[14],"Long Time":m._table[19],"Medium Time":m._table[18],"Short Time":m._table[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:m._table[2],Standard:m._table[4],Percent:m._table[10],Scientific:m._table[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'},T=function(){var e,t={};function r(e){var t,r,f,l,u,h,d=512,B=[],m=e.slice(0,512);switch(Fe(m,0),t=function(e){e.chk(c,"Header Signature: "),e.chk(o,"CLSID: ");var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(m)[0]){case 3:d=512;break;case 4:d=4096;break;default:throw"Major Version: Expected 3 or 4 saw "+t}512!==d&&Fe(m=e.slice(0,d),28);var S=e.slice(0,d);!function(e,t){var r=9;switch(e.chk("feff","Byte Order: "),r=e.read_shift(2)){case 9:if(3!==t)throw"MajorVersion/SectorShift Mismatch";break;case 12:if(4!==t)throw"MajorVersion/SectorShift Mismatch";break;default:throw"Sector Shift: Expected 9 or 12 saw "+r}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(m,t);var g=m.read_shift(4,"i");if(3===t&&0!==g)throw"# Directory Sectors: Expected 0 saw "+g;m.l+=4,l=m.read_shift(4,"i"),m.l+=4,m.chk("00100000","Mini Stream Cutoff Size: "),u=m.read_shift(4,"i"),r=m.read_shift(4,"i"),h=m.read_shift(4,"i"),f=m.read_shift(4,"i");for(var C,T=0;T<109&&!((C=m.read_shift(4,"i"))<0);++T)B[T]=C;var b=function(e,t){for(var r=Math.ceil(e.length/t)-1,n=new Array(r),a=1;a<r;++a)n[a-1]=e.slice(a*t,(a+1)*t);return n[r-1]=e.slice(r*t),n}(e,d);!function e(t,r,n,a,s){var c;if(t===i){if(0!==r)throw"DIFAT chain shorter than expected"}else if(-1!==t){for(var o=n[t],f=(a>>>2)-1,l=0;l<f&&(c=Oe(o,4*l))!==i;++l)s.push(c);e(Oe(o,a-4),r-1,n,a,s)}}(h,f,b,d,B);var v=function(e,t,r,n){var a,s,i,c,o,f,l=e.length,u=new Array(l),h=new Array(l),d=n-1;for(i=0;i<l;++i)if(a=[],(o=i+t)>=l&&(o-=l),!0!==h[o]){for(s=[],c=o;c>=0;){h[c]=!0,a[a.length]=c,s.push(e[c]);var B=r[Math.floor(4*c/n)];if(n<4+(f=4*c&d))throw"FAT boundary crossed: "+c+" 4 "+n;c=Oe(e[B],f)}u[o]={nodes:a,data:ce([s])}}return u}(b,l,B,d);v[l].name="!Directory",r>0&&u!==i&&(v[u].name="!MiniFAT"),v[B[0]].name="!FAT",v.fat_addrs=B,v.ssz=d;var I={},R=[],D=[],O=[],A={};!function(e,t,r,c,o,f,l){for(var u,h,d,B,E,p=0,m=c.length?2:0,S=t[e].data,g=0,C=0;g<S.length;g+=128)Fe(u=S.slice(g,g+128),64),0!==(C=u.read_shift(2))&&(h=fe(u,0,C-m),c.push(h),d={name:h,type:u.read_shift(1),color:u.read_shift(1),L:u.read_shift(4,"i"),R:u.read_shift(4,"i"),C:u.read_shift(4,"i"),clsid:u.read_shift(16),state:u.read_shift(4,"i")},0!==(B=u.read_shift(2)+u.read_shift(2)+u.read_shift(2)+u.read_shift(2))&&(d.ctime=B,d.ct=a(u,u.l-8)),0!==(E=u.read_shift(2)+u.read_shift(2)+u.read_shift(2)+u.read_shift(2))&&(d.mtime=E,d.mt=a(u,u.l-8)),d.start=u.read_shift(4,"i"),d.size=u.read_shift(4,"i"),5===d.type?(p=d.start,o>0&&p!==i&&(t[p].name="!StreamData")):d.size>=4096?(d.storage="fat",void 0===t[d.start]&&(t[d.start]=n(r,d.start,t.fat_addrs,t.ssz)),t[d.start].name=d.name,d.content=t[d.start].data.slice(0,d.size),Fe(d.content,0)):(d.storage="minifat",p!==i&&d.start!==i&&(d.content=t[p].data.slice(d.start*s,d.start*s+d.size),Fe(d.content,0))),f[h]=d,l.push(d))}(l,v,b,R,r,I,D),function(e,t,r,n){for(var a=0,s=0,i=0,c=0,o=0,f=n.length,l=new Array(f),u=new Array(f);a<f;++a)l[a]=u[a]=a,r[a]=n[a];for(;o<u.length;++o)a=u[o],s=e[a].L,i=e[a].R,c=e[a].C,l[a]===a&&(-1!==s&&l[s]!==s&&(l[a]=l[s]),-1!==i&&l[i]!==i&&(l[a]=l[i])),-1!==c&&(l[c]=a),-1!==s&&(l[s]=l[a],u.push(s)),-1!==i&&(l[i]=l[a],u.push(i));for(a=1;a!==f;++a)l[a]===a&&(-1!==i&&l[i]!==i?l[a]=l[i]:-1!==s&&l[s]!==s&&(l[a]=l[s]));for(a=1;a<f;++a)if(0!==e[a].type){if(0===(o=l[a]))r[a]=r[0]+"/"+r[a];else for(;0!==o;)r[a]=r[o]+"/"+r[a],o=l[o];l[a]=0}for(r[0]+="/",a=1;a<f;++a)2!==e[a].type&&(r[a]+="/"),t[r[a]]=e[a]}(D,A,O,R);var P=R.shift();return R.root=P,{raw:{header:S,sectors:b},FileIndex:D,FullPaths:O,FullPathDir:A,find:function(e,t,r,n,a){var s,i=new Array(e.length),c=new Array(t.length);for(s=0;s<e.length;++s)i[s]=e[s].toUpperCase().replace(E,"").replace(p,"!");for(s=0;s<t.length;++s)c[s]=t[s].toUpperCase().replace(E,"").replace(p,"!");return function(e){var s;47===e.charCodeAt(0)?(s=!0,e=a+e):s=-1!==e.indexOf("/");var o=e.toUpperCase().replace(E,"").replace(p,"!"),f=!0===s?i.indexOf(o):c.indexOf(o);return-1===f?null:!0===s?r[f]:n[t[f]]}}(O,R,D,I,P)}}function n(e,t,r,n,a){var s,i,c=e.length;a||(a=new Array(c));var o,f,l=n-1;for(s=[],i=[],o=t;o>=0;){a[o]=!0,s[s.length]=o,i.push(e[o]);var u=r[Math.floor(4*o/n)];if(n<4+(f=4*o&l))throw"FAT boundary crossed: "+o+" 4 "+n;o=Oe(e[u],f)}return{nodes:s,data:ce([i])}}function a(e,t){return new Date(1e3*(De(e,t+4)/1e7*Math.pow(2,32)+De(e,t)/1e7-11644473600))}t.version="0.10.2";var s=64,i=-2,c="d0cf11e0a1b11ae1",o="00000000000000000000000000000000",f={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:i,FREESECT:-1,HEADER_SIGNATURE:c,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:o,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};return t.read=function(t,n){switch(void 0!==n&&void 0!==n.type?n.type:"base64"){case"file":return a=t,void 0===e&&(e=require("fs")),r(e.readFileSync(a));case"base64":return r(d(l.decode(t)));case"binary":return r(d(t))}var a;return r(t)},t.parse=r,t.utils={ReadShift:Pe,CheckField:ke,prep_blob:Fe,bconcat:B,consts:f},t}();function b(e){return void 0!==e&&null!==e}function v(e){return Object.keys(e)}function I(e){for(var t=[],r=v(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function R(e,t){return t&&(e+=1462),(Date.parse(e)+22091616e5)/864e5}function D(e){if(!e)return null;if(".bin"===e.name.substr(-4)){if(e.data)return i(e.data);if(e.asNodeBuffer&&u)return e.asNodeBuffer();if(e._data&&e._data.getContent)return Array.prototype.slice.call(e._data.getContent())}else{if(e.data)return".bin"!==e.name.substr(-4)?c(e.data):i(e.data);if(e.asNodeBuffer&&u)return c(e.asNodeBuffer().toString("binary"));if(e.asBinary)return c(e.asBinary());if(e._data&&e._data.getContent)return c(function(e){for(var t="",r=0;r!=e.length;++r)t+=String.fromCharCode(e[r]);return t}(Array.prototype.slice.call(e._data.getContent(),0)))}return null}function O(e,t){var r=t;return e.files[r]?e.files[r]:(r=t.toLowerCase(),e.files[r]?e.files[r]:(r=r.replace(/\//g,"\\"),e.files[r]?e.files[r]:null))}function A(e,t){var r=O(e,t);if(null==r)throw new Error("Cannot find file "+t+" in zip");return r}function P(e,t,r){if(!r)return D(A(e,t));if(!t)return null;try{return P(e,t)}catch(e){return null}}var x=t,k=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,F=/<[^>]*>/g,w=/<\w*:/,N=/<(\/?)\w+:/;function L(e,t){for(var r=[],n=0,a=0;n!==e.length&&(32!==(a=e.charCodeAt(n))&&10!==a&&13!==a);++n);if(t||(r[0]=e.substr(0,n)),n===e.length)return r;var s=e.match(k),i=0,c="",o=0,f="",l="";if(s)for(o=0;o!=s.length;++o){for(l=s[o],a=0;a!=l.length&&61!==l.charCodeAt(a);++a);for(f=l.substr(0,a),c=l.substring(a+2,l.length-1),i=0;i!=f.length&&58!==f.charCodeAt(i);++i);i===f.length?r[f]=c:r[(5===i&&"xmlns"===f.substr(0,5)?"xmlns":"")+f.substr(i+1)]=c}return r}var M,y,_={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},V=function(e){for(var t=[],r=v(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}(_),U=("&<>'\"".split(""),M=/&[a-z]*;/g,y=/_x([\da-fA-F]+)_/g,function(e){return(e+"").replace(M,function(e){return _[e]}).replace(y,function(e,t){return String.fromCharCode(parseInt(t,16))})}),H=/[&<>'"]/g,X=/[\u0000-\u0008\u000b-\u001f]/g;function G(e){return(e+"").replace(H,function(e){return V[e]}).replace(X,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).substr(-4)+"_"})}var W=function(){var e=/&#(\d+);/g;function t(e,t){return String.fromCharCode(parseInt(t,10))}return function(r){return r.replace(e,t)}}();function K(e,t){switch(e){case"1":case"true":case"TRUE":return!0;default:return!1}}var j=function(e){for(var t="",r=0,n=0,a=0,s=0,i=0;r<e.length;)(n=e.charCodeAt(r++))<128?t+=String.fromCharCode(n):(a=e.charCodeAt(r++),n>191&&n<224?t+=String.fromCharCode((31&n)<<6|63&a):(s=e.charCodeAt(r++),n<240?t+=String.fromCharCode((15&n)<<12|(63&a)<<6|63&s):(i=((7&n)<<18|(63&a)<<12|(63&s)<<6|63&e.charCodeAt(r++))-65536,t+=String.fromCharCode(55296+(i>>>10&1023)),t+=String.fromCharCode(56320+(1023&i)))));return t};if(u){var Y=function(e){var t,r,n,a=new Buffer(2*e.length),s=1,i=0,c=0;for(r=0;r<e.length;r+=s)s=1,(n=e.charCodeAt(r))<128?t=n:n<224?(t=64*(31&n)+(63&e.charCodeAt(r+1)),s=2):n<240?(t=4096*(15&n)+64*(63&e.charCodeAt(r+1))+(63&e.charCodeAt(r+2)),s=3):(s=4,t=262144*(7&n)+4096*(63&e.charCodeAt(r+1))+64*(63&e.charCodeAt(r+2))+(63&e.charCodeAt(r+3)),c=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==c&&(a[i++]=255&c,a[i++]=c>>>8,c=0),a[i++]=t%256,a[i++]=t>>>8;return a.length=i,a.toString("ucs2")},z="foo bar baz";j(z)==Y(z)&&(j=Y);var $=function(e){return Buffer(e,"binary").toString("utf8")};j(z)==$(z)&&(j=$)}var Q,Z,q=(Q={},function(e,t){var r=e+"|"+t;return void 0!==Q[r]?Q[r]:Q[r]=new RegExp("<(?:\\w+:)?"+e+'(?: xml:space="preserve")?(?:[^>]*)>([^]*)</(?:\\w+:)?'+e+">",t||"")}),J=(Z={},function(e){return void 0!==Z[e]?Z[e]:Z[e]=new RegExp("<vt:"+e+">(.*?)</vt:"+e+">","g")}),ee=/<\/?vt:variant>/g,te=/<vt:([^>]*)>(.*)</;function re(e){var t=L(e),r=e.match(J(t.baseType))||[];if(r.length!=t.size)throw"unexpected vector length "+r.length+" != "+t.size;var n=[];return r.forEach(function(e){var t=e.replace(ee,"").match(te);n.push({v:t[2],t:t[1]})}),n}var ne=/(^\s|\s$|\n)/;function ae(e,t){return"<"+e+(t.match(ne)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function se(e,t,r){return"<"+e+(b(r)?function(e){return v(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}(r):"")+(b(t)?(t.match(ne)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function ie(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(e){if(t)throw e}}var ce,oe,fe,le,ue,he,de,Be,Ee,pe,me,Se,ge,Ce='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',Te={dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",
mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"};Te.main=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ce=oe=function(e){for(var t=[],r=0;r<e[0].length;++r)t.push.apply(t,e[0][r]);return t},fe=le=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Ie(e,a)));return n.join("")},ue=he=function(e,t,r){return e.slice(t,t+r).map(function(e){return(e<16?"0":"")+e.toString(16)}).join("")},de=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(ve(e,a)));return n.join("")},Be=Ee=function(e,t){var r=De(e,t);return r>0?de(e,t+4,t+4+r-1):""},pe=me=function(e,t){var r=2*De(e,t);return r>0?de(e,t+4,t+4+r-1):""},Se=ge=function(e,t){return function(e,t,r,n,a){void 0===r&&(r=!0),n||(n=8),a||8!==n||(a=52);var s,i,c=8*n-a-1,o=(1<<c)-1,f=o>>1,l=-7,u=r?-1:1,h=r?n-1:0,d=e[t+h];for(h+=u,s=d&(1<<-l)-1,d>>>=-l,l+=c;l>0;s=256*s+e[t+h],h+=u,l-=8);for(i=s&(1<<-l)-1,s>>>=-l,l+=a;l>0;i=256*i+e[t+h],h+=u,l-=8);return s===o?i?NaN:1/0*(d?-1:1):(0===s?s=1-f:(i+=Math.pow(2,a),s-=f),(d?-1:1)*i*Math.pow(2,s-a))}(e,t)};var be=function(e){return Array.isArray(e)};u&&(fe=function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r):le(e,t,r)},ue=function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):he(e,t,r)},Be=function(e,t){if(!Buffer.isBuffer(e))return Ee(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},pe=function(e,t){if(!Buffer.isBuffer(e))return me(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},de=function(e,t){return this.toString("utf8",e,t)},ce=function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0]):oe(e)},B=function(e){return Buffer.isBuffer(e[0])?Buffer.concat(e):[].concat.apply([],e)},Se=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):ge(e,t)},be=function(e){return Buffer.isBuffer(e)||Array.isArray(e)}),"undefined"!=typeof cptable&&(fe=function(e,t,r){return cptable.utils.decode(1200,e.slice(t,r))},de=function(e,t,r){return cptable.utils.decode(65001,e.slice(t,r))},Be=function(e,t){var r=De(e,t);return r>0?cptable.utils.decode(n,e.slice(t+4,t+4+r-1)):""},pe=function(e,t){var r=2*De(e,t);return r>0?cptable.utils.decode(1200,e.slice(t+4,t+4+r-1)):""});var ve=function(e,t){return e[t]},Ie=function(e,t){return 256*e[t+1]+e[t]},Re=function(e,t){var r=256*e[t+1]+e[t];return r<32768?r:-1*(65535-r+1)},De=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Oe=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Ae=function(e){return e.match(/../g).map(function(e){return parseInt(e,16)})};function Pe(e,t){var r,n,a,s,i,c,f="",l=[];switch(t){case"dbcs":if(c=this.l,u&&Buffer.isBuffer(this))f=this.slice(this.l,this.l+2*e).toString("utf16le");else for(i=0;i!=e;++i)f+=String.fromCharCode(Ie(this,c)),c+=2;e*=2;break;case"utf8":f=de(this,this.l,this.l+e);break;case"utf16le":e*=2,f=fe(this,this.l,this.l+e);break;case"lpstr":e=5+(f=Be(this,this.l)).length;break;case"lpwstr":e=5+(f=pe(this,this.l)).length,"\0"==f[f.length-1]&&(e+=2);break;case"cstr":for(e=0,f="";0!==(a=ve(this,this.l+e++));)l.push(o(a));f=l.join("");break;case"wstr":for(e=0,f="";0!==(a=Ie(this,this.l+e));)l.push(o(a)),e+=2;e+=2,f=l.join("");break;case"dbcs-cont":for(f="",c=this.l,i=0;i!=e;++i){if(this.lens&&-1!==this.lens.indexOf(c))return a=ve(this,c),this.l=c+1,s=Pe.call(this,e-i,a?"dbcs-cont":"sbcs-cont"),l.join("")+s;l.push(o(Ie(this,c))),c+=2}f=l.join(""),e*=2;break;case"sbcs-cont":for(f="",c=this.l,i=0;i!=e;++i){if(this.lens&&-1!==this.lens.indexOf(c))return a=ve(this,c),this.l=c+1,s=Pe.call(this,e-i,a?"dbcs-cont":"sbcs-cont"),l.join("")+s;l.push(o(ve(this,c))),c+=1}f=l.join("");break;default:switch(e){case 1:return r=ve(this,this.l),this.l++,r;case 2:return r=("i"===t?Re:Ie)(this,this.l),this.l+=2,r;case 4:return"i"===t||0==(128&this[this.l+3])?(r=Oe(this,this.l),this.l+=4,r):(n=De(this,this.l),this.l+=4,n);case 8:if("f"===t)return n=Se(this,this.l),this.l+=8,n;case 16:f=ue(this,this.l,e)}}return this.l+=e,f}function xe(e,t,r){var n,a;if("dbcs"===r){for(a=0;a!=t.length;++a)this.writeUInt16LE(t.charCodeAt(a),this.l+2*a);n=2*t.length}else switch(e){case 1:n=1,this[this.l]=255&t;break;case 3:n=3,this[this.l+2]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l]=255&t;break;case 4:n=4,this.writeUInt32LE(t,this.l);break;case 8:if(n=8,"f"===r){this.writeDoubleLE(t,this.l);break}case 16:break;case-4:n=4,this.writeInt32LE(t,this.l)}return this.l+=n,this}function ke(e,t){var r=ue(this,this.l,e.length>>1);if(r!==e)throw t+"Expected "+e+" saw "+r;this.l+=e.length>>1}function Fe(e,t){e.l=t,e.read_shift=Pe,e.chk=ke,e.write_shift=xe}function we(e,t){e.l+=t}function Ne(e){var t=h(e);return Fe(t,0),t}function Le(e,t,r){var n,a,s;for(Fe(e,e.l||0);e.l<e.length;){var i=e.read_shift(1);128&i&&(i=(127&i)+((127&e.read_shift(1))<<7));var c=Hl[i]||Hl[65535];for(s=127&(n=e.read_shift(1)),a=1;a<4&&128&n;++a)s+=(127&(n=e.read_shift(1)))<<7*a;if(t(c.f(e,s,r),c,i))return}}function Me(){var e=[],t=function(e){var t=Ne(e);return Fe(t,0),t},r=t(2048),n=function(){r.length=r.l,r.length>0&&e.push(r),r=null},a=function(e){return e<r.length-r.l?r:(n(),r=t(Math.max(e+1,2048)))};return{next:a,push:function(e){n(),r=e,a(2048)},end:function(){return n(),ce([e])},_bufs:e}}function ye(e,t,r,n){var a,s=Xl[t];n||(n=Hl[s].p||(r||[]).length||0),a=1+(s>=128?1:0)+1+n,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var i=e.next(a);s<=127?i.write_shift(1,s):(i.write_shift(1,128+(127&s)),i.write_shift(1,s>>7));for(var c=0;4!=c;++c){if(!(n>=128)){i.write_shift(1,n);break}i.write_shift(1,128+(127&n)),n>>=7}n>0&&be(r)&&e.push(r)}function _e(e,t){for(t.s?(e.cRel&&(e.c+=t.s.c),e.rRel&&(e.r+=t.s.r)):(e.c+=t.c,e.r+=t.r),e.cRel=e.rRel=0;e.c>=256;)e.c-=256;for(;e.r>=65536;)e.r-=65536;return e}function Ve(e,t){return e.s=_e(e.s,t.s),e.e=_e(e.e,t.s),e}function Ue(e,t){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function He(e,t){var r=e.l,n=e.read_shift(1),a=We(e),s=[],i={t:a,h:a};if(0!=(1&n)){for(var c=e.read_shift(4),o=0;o!=c;++o)s.push(Ue(e));i.r=s}else i.r="<t>"+G(a)+"</t>";return e.l=r+t,i}function Xe(e){var t=e.read_shift(4),r=e.read_shift(2);r+=e.read_shift(1)<<16;e.read_shift(1);return{c:t,iStyleRef:r}}function Ge(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function We(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function Ke(e,t){return null==t&&(t=Ne(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),t}!function(e,t){var r;if(void 0!==t)r=t;else if("undefined"!=typeof require)try{r=require("crypto")}catch(e){r=null}e.rc4=function(e,t){var r=new Array(256),n=0,a=0,s=0,i=0;for(a=0;256!=a;++a)r[a]=a;for(a=0;256!=a;++a)s=s+r[a]+e[a%e.length].charCodeAt(0)&255,i=r[a],r[a]=r[s],r[s]=i;for(a=s=0,out=Buffer(t.length),n=0;n!=t.length;++n)s=(s+r[a=a+1&255])%256,i=r[a],r[a]=r[s],r[s]=i,out[n]=t[n]^r[r[a]+r[s]&255];return out},e.md5=r?function(e){return r.createHash("md5").update(e).digest("hex")}:function(e){throw"unimplemented"}}({},"undefined"!=typeof crypto?crypto:void 0);var je=Ge,Ye=function(e,t){return t||(t=Ne(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),t};function ze(e){var t=e.slice(e.l,e.l+4),r=1&t[0],n=2&t[0];e.l+=4,t[0]&=252;var a=0===n?Se([0,0,0,0,t[0],t[1],t[2],t[3]],0):Oe(t,0)>>2;return r?a/100:a}function $e(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Qe(e,t){return e.read_shift(8,"f")}var Ze={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},qe=I(Ze);var Je=2,et=3,tt=12,rt=81,nt=[80,rt],at={1:{n:"CodePage",t:Je},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:et},5:{n:"LineCount",t:et},6:{n:"ParagraphCount",t:et},7:{n:"SlideCount",t:et},8:{n:"NoteCount",t:et},9:{n:"HiddenCount",t:et},10:{n:"MultimediaClipCount",t:et},11:{n:"Scale",t:11},12:{n:"HeadingPair",t:4096|tt},13:{n:"DocParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksDirty",t:11},17:{n:"CharacterCount",t:et},19:{n:"SharedDoc",t:11},22:{n:"HLinksChanged",t:11},23:{n:"AppVersion",t:et,p:"version"},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{}},st={1:{n:"CodePage",t:Je},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:et},15:{n:"WordCount",t:et},16:{n:"CharCount",t:et},17:{n:"Thumbnail",t:71},18:{n:"ApplicationName",t:30},19:{n:"DocumentSecurity",t:et},255:{}},it={2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};!function(){for(var e in it)it.hasOwnProperty(e)&&(at[e]=st[e]=it[e])}();var ct={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},ot=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];var ft,lt=[0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0].map(function(e){return[e>>16&255,e>>8&255,255&e]}),ut={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.ms-excel.chartsheet":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"TODO","application/vnd.ms-excel.dialogsheet":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"TODO","application/vnd.ms-excel.macrosheet":"TODO","application/vnd.ms-excel.macrosheet+xml":"TODO","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.ms-excel.comments":"comments","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"TODO","application/vnd.ms-excel.sheetMetadata":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"TODO","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"vba","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO",sheet:"js"},ht=(v(ft={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}}).forEach(function(e){ft[e].xlsm||(ft[e].xlsm=ft[e].xlsx)}),v(ft).forEach(function(e){v(ft[e]).forEach(function(t){ut[ft[e][t]]=e})}),ft),dt=function(e){for(var t=[],r=v(e),n=0;n!==r.length;++n)null==t[e[r[n]]]&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}(ut);Te.CT="http://schemas.openxmlformats.org/package/2006/content-types";var Bt=se("Types",null,{xmlns:Te.CT,"xmlns:xsd":Te.xsd,"xmlns:xsi":Te.xsi}),Et=[["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["rels",dt.rels[0]]].map(function(e){return se("Default",null,{Extension:e[0],ContentType:e[1]})});var pt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument"};function mt(e,t){if(!e)return e;"/"!==t.charAt(0)&&(t="/"+t);var r={},n={};return e.match(F).forEach(function(e){var a=L(e);if("<Relationship"===a[0]){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,s.TargetMode=a.TargetMode;var i="External"===a.TargetMode?a.Target:function(e){var r=t.split("/");r.pop();for(var n=e.split("/");0!==n.length;){var a=n.shift();".."===a?r.pop():"."!==a&&r.push(a)}return r.join("/")}(a.Target);r[i]=s,n[a.Id]=s}}),r["!id"]=n,r}Te.RELS="http://schemas.openxmlformats.org/package/2006/relationships";var St=se("Relationships",null,{xmlns:Te.RELS});function gt(e){var t=[];return t[t.length]=Ce,t[t.length]=St,v(e["!id"]).forEach(function(r){var n=e["!id"][r];t[t.length]=se("Relationship",null,n)}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}var Ct=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];Te.CORE_PROPS="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",pt.CORE_PROPS="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties";var Tt=function(){for(var e=new Array(Ct.length),t=0;t<Ct.length;++t){var r=Ct[t],n="(?:"+r[0].substr(0,r[0].indexOf(":"))+":)"+r[0].substr(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>(.*)</"+n+">")}return e}();var bt=se("cp:coreProperties",null,{"xmlns:cp":Te.CORE_PROPS,"xmlns:dc":Te.dc,"xmlns:dcterms":Te.dcterms,"xmlns:dcmitype":Te.dcmitype,"xmlns:xsi":Te.xsi});function vt(e,t,r,n,a){null==a[e]&&null!=t&&""!==t&&(a[e]=t,n[n.length]=r?se(e,t,r):ae(e,t))}var It=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];Te.EXT_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",pt.EXT_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties";var Rt=se("Properties",null,{xmlns:Te.EXT_PROPS,"xmlns:vt":Te.vt});Te.CUST_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",pt.CUST_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties";var Dt=/<[^>]+>[^<]*/g;var Ot=se("Properties",null,{xmlns:Te.CUST_PROPS,"xmlns:vt":Te.vt});function At(e,t){var r=[Ce,Ot];if(!e)return r.join("");var n=1;return v(e).forEach(function(t){++n,r[r.length]=se("property",function(e){switch(typeof e){case"string":return se("vt:lpwstr",e);case"number":return se((0|e)==e?"vt:i4":"vt:r8",String(e));case"boolean":return se("vt:bool",e?"true":"false")}if(e instanceof Date)return se("vt:filetime",ie(e));throw new Error("Unable to serialize "+e)}(e[t]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:t})}),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}function Pt(e,t,r){switch(t){case"Description":t="Comments"}e[t]=r}function xt(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date(1e3*(r/1e7*Math.pow(2,32)+t/1e7-11644473600)).toISOString().replace(/\.000/,"")}function kt(e,t,r){var n=e.read_shift(0,"lpstr");return r&&(e.l+=4-(n.length+1&3)&3),n}function Ft(e,t,r){var n=e.read_shift(0,"lpwstr");return r&&(e.l+=4-(n.length+1&3)&3),n}function wt(e,t,r){return 31===t?Ft(e):kt(e,0,r)}function Nt(e,t,r){return wt(e,t,!1===r?0:4)}function Lt(e){return[Vt(e,rt),Vt(e,et)]}function Mt(e){return function(e){for(var t=e.read_shift(4),r=[],n=0;n!=t/2;++n)r.push(Lt(e));return r}(e)}function yt(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,1200===t?"utf16le":"utf8").replace(E,"").replace(p,"!")}return 3&e.l&&(e.l=e.l>>3<<2),n}function _t(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return!0&t&&(e.l+=4-(3&t)&3),r}function Vt(e,t,r){var n,a=e.read_shift(2),s=r||{};if(e.l+=2,t!==tt&&a!==t&&-1===nt.indexOf(t))throw new Error("Expected type "+t+" saw "+a);switch(t===tt?a:t){case 2:return n=e.read_shift(2,"i"),s.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i");case 11:return 0!==e.read_shift(4);case 19:return n=e.read_shift(4);case 30:return kt(e,0,4).replace(E,"");case 31:return Ft(e);case 64:return xt(e);case 65:return _t(e);case 71:return function(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size,t}(e);case 80:return Nt(e,a,!s.raw&&4).replace(E,"");case 81:return function(e,t){if(!t)throw new Error("dafuq?");return wt(e,t,0)}(e,a).replace(E,"");case 4108:return Mt(e);case 4126:return function(e){return function(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr");return r}(e)}(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+a)}}function Ut(e,t){var r,n=e.l,a=e.read_shift(4),i=e.read_shift(4),c=[],o=0,f=0,l=-1;for(o=0;o!=i;++o){var u=e.read_shift(4),h=e.read_shift(4);c[o]=[u,h+n]}var d={};for(o=0;o!=i;++o){if(e.l!==c[o][1]){var B=!0;if(o>0&&t)switch(t[c[o-1][0]].t){case 2:e.l+2===c[o][1]&&(e.l+=2,B=!1);break;case 80:case 4108:e.l<=c[o][1]&&(e.l=c[o][1],B=!1)}if(!t&&e.l<=c[o][1]&&(B=!1,e.l=c[o][1]),B)throw new Error("Read Error: Expected address "+c[o][1]+" at "+e.l+" :"+o)}if(t){var E=t[c[o][0]];if(d[E.n]=Vt(e,E.t,{raw:!0}),"version"===E.p&&(d[E.n]=String(d[E.n]>>16)+"."+String(65535&d[E.n])),"CodePage"==E.n)switch(d[E.n]){case 0:d[E.n]=1252;case 1e4:case 1252:case 874:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 932:case 936:case 949:case 950:case 1200:case 1201:case 65e3:case-536:case 65001:case-535:s(f=d[E.n]);break;default:throw new Error("Unsupported CodePage: "+d[E.n])}}else if(1===c[o][0]){if(f=d.CodePage=Vt(e,Je),s(f),-1!==l){var p=e.l;e.l=c[l][1],r=yt(e,f),e.l=p}}else if(0===c[o][0]){if(0===f){l=o,e.l=c[o+1][1];continue}r=yt(e,f)}else{var m,S=r[c[o][0]];switch(e[e.l]){case 65:e.l+=4,m=_t(e);break;case 30:case 31:e.l+=4,m=Nt(e,e[e.l-4]);break;case 3:e.l+=4,m=e.read_shift(4,"i");break;case 19:e.l+=4,m=e.read_shift(4);break;case 5:e.l+=4,m=e.read_shift(8,"f");break;case 11:e.l+=4,m=Gt(e,4);break;case 64:e.l+=4,m=new Date(xt(e));break;default:throw new Error("unparsed value: "+e[e.l])}d[S]=m}}return e.l=n+a,d}function Ht(e,t){var r,n,a,s,i,c=e.content;Fe(c,0),c.chk("feff","Byte Order: ");c.read_shift(2);var o=c.read_shift(4);if(c.chk(T.utils.consts.HEADER_CLSID,"CLSID: "),1!==(r=c.read_shift(4))&&2!==r)throw"Unrecognized #Sets: "+r;if(n=c.read_shift(16),s=c.read_shift(4),1===r&&s!==c.l)throw"Length mismatch";2===r&&(a=c.read_shift(16),i=c.read_shift(4));var f,l=Ut(c,t),u={SystemIdentifier:o};for(var h in l)u[h]=l[h];if(u.FMTID=n,1===r)return u;if(c.l!==i)throw"Length mismatch 2: "+c.l+" !== "+i;try{f=Ut(c,null)}catch(e){}for(h in f)u[h]=f[h];return u.FMTID=[n,a],u}function Xt(e,t){return e.read_shift(t),null}function Gt(e,t){return 1===e.read_shift(t)}function Wt(e){return e.read_shift(2,"u")}function Kt(e,t){return function(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}(e,t,Wt)}function jt(e,t,r){var a=e.read_shift(1),s="sbcs-cont",i=n;(r&&r.biff>=8&&(n=1200),void 0===r||5!==r.biff)&&(e.read_shift(1)&&(2,s="dbcs-cont"));var c=a?e.read_shift(a,s):"";return n=i,c}function Yt(e){var t=n;n=1200;var r,a,s=e.read_shift(2),i=e.read_shift(1),c=4&i,o=8&i,f={};o&&(r=e.read_shift(2)),c&&(a=e.read_shift(4));var l=1&i?"dbcs-cont":"sbcs-cont",u=0===s?"":e.read_shift(s,l);return o&&(e.l+=4*r),c&&(e.l+=a),f.t=u,o||(f.raw="<t>"+f.t+"</t>",f.r=f.t),n=t,f}function zt(e,t,r){return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function $t(e,t,r){var n=e.read_shift(void 0!==r&&r.biff>0&&r.biff<8?1:2);return 0===n?(e.l++,""):zt(e,n)}function Qt(e,t,r){if(5!==r.biff&&2!==r.biff)return $t(e,0,r);var n=e.read_shift(1);return 0===n?(e.l++,""):e.read_shift(n,"sbcs-cont")}var Zt=we,qt=function(e,t){var r=e.read_shift(16);switch(16,r){case"e0c9ea79f9bace118c8200aa004ba90b":return function(e,t){var r=e.read_shift(4),n=e.l,a=!1;r>24&&(e.l+=r-24,"795881f43b1d7f48af2c825dc4852763"===e.read_shift(16)&&(a=!0),e.l=n);var s=e.read_shift((a?r-24:r)>>1,"utf16le").replace(E,"");return a&&(e.l+=24),s}(e);case"0303000000000000c000000000000046":return function(e,t){e.read_shift(2);var r=e.read_shift(4),n=e.read_shift(r,"cstr");e.read_shift(2),e.read_shift(2);if(0===e.read_shift(4))return n.replace(/\\/g,"/");var a=e.read_shift(4);e.read_shift(2);return e.read_shift(a>>1,"utf16le").replace(E,"")}(e);default:throw"unsupported moniker "+r}},Jt=function(e,t){var r=e.read_shift(4);return e.read_shift(r,"utf16le").replace(E,"")};function er(e,t){return[e.read_shift(1),e.read_shift(1),e.read_shift(1),e.read_shift(1)]}function tr(e,t){var r=er(e);return r[3]=0,r}function rr(e,t){return{r:e.read_shift(2),c:e.read_shift(2),ixfe:e.read_shift(2)}}function nr(e,t){return[e.read_shift(2),e.read_shift(2,"i"),e.read_shift(2,"i")]}function ar(e,t){return[e.read_shift(2),ze(e)]}function sr(e,t){var r=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(2),r:r},e:{c:e.read_shift(2),r:n}}}function ir(e,t){var r=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(1),r:r},e:{c:e.read_shift(1),r:n}}}var cr=ir;function or(e,t){e.l+=4;var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return e.l+=12,[n,r,a]}var fr={21:or,19:we,18:function(e,t){e.l+=12},17:function(e,t){e.l+=8},16:we,15:we,13:function(e,t){var r={};return e.l+=4,e.l+=16,r.fSharedNote=e.read_shift(2),e.l+=4,r},12:function(e,t){e.l+=24},11:function(e,t){e.l+=10},10:function(e,t){e.l+=16},9:we,8:function(e,t){e.l+=6},7:function(e,t){return e.l+=4,e.cf=e.read_shift(2),{}},6:function(e,t){e.l+=6},4:we,0:function(e,t){e.l+=4}};var lr=Wt;function ur(e,t){var r={};switch(r.BIFFVer=e.read_shift(2),t-=2,r.BIFFVer){case 1536:case 1280:case 2:case 7:break;default:throw"Unexpected BIFF Ver "+r.BIFFVer}return e.read_shift(t),r}var hr=Xt;function dr(e,t,r){var n=rr(e),a=$t(e,0,r);return n.val=a,n}function Br(e,t,r){var n={},a=(e.read_shift(4),e.read_shift(4),e.read_shift(4)),s=e.read_shift(2);return n.patternType=ot[a>>26],n.icvFore=127&s,n.icvBack=s>>7&127,n}var Er=function(e,t,r){return 0===t?"":Qt(e,0,r)};function pr(e,t,r){var n,a=e.read_shift(2),s={fBuiltIn:1&a,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return 14849===r.sbcch&&(n=function(e,t){e.l+=4,t-=4;var r=e.l+t,n=jt(e),a=e.read_shift(2);if(a!==(r-=e.l))throw"Malformed AddinUdf: padding = "+r+" != "+a;return e.l+=a,n}(e,t-2)),s.body=n||e.read_shift(t-2),s}var mr=we,Sr=we,gr=we,Cr=we,Tr=Gt,br=rr,vr=Qe,Ir=Wt,Rr=Wt,Dr=Qe,Or=Gt,Ar=Wt,Pr=Gt,xr=Xt,kr=Gt,Fr=Wt,wr=Gt,Nr=Gt,Lr=Wt,Mr=Xt,yr=Xt,_r=Xt,Vr=Xt,Ur=Xt,Hr=Wt,Xr=Er,Gr=Wt,Wr=Gt,Kr=Er,jr=Wt,Yr=Xt,zr=Qe,$r=Xt,Qr=Gt,Zr=Wt,qr=Gt,Jr=Gt,en=Wt,tn=Gt,rn=Wt,nn=Gt,an=Gt,sn=Qe,cn=Kt,on=Gt,fn=Kt,ln=$t,un=Gt,hn=Qe,dn=Gt,Bn=Gt,En=Gt,pn=we,mn=we,Sn=we,gn=we,Cn=we,Tn=we,bn=we,vn=we,In=we,Rn=we,Dn=we,On=we,An=we,Pn=we,xn=we,kn=we,Fn=we,wn=we,Nn=we,Ln=we,Mn=we,yn=we,_n=we,Vn=we,Un=we,Hn=we,Xn=we,Gn=we,Wn=we,Kn=we,jn=we,Yn=we,zn=we,$n=we,Qn=we,Zn=we,qn=we,Jn=we,ea=we,ta=we,ra=we,na=we,aa=we,sa=we,ia=we,ca=we,oa=we,fa=we,la=we,ua=we,ha=we,da=we,Ba=we,Ea=we,pa=we,ma=we,Sa=we,ga=we,Ca=we,Ta=we,ba=we,va=we,Ia=we,Ra=we,Da=we,Oa=we,Aa=we,Pa=we,xa=we,ka=we,Fa=we,wa=we,Na=we,La=we,Ma=we,ya=we,_a=we,Va=we,Ua=we,Ha=we,Xa=we,Ga=we,Wa=we,Ka=we,ja=we,Ya=we,za=we,$a=we,Qa=we,Za=we,qa=we,Ja=we,es=we,ts=we,rs=we,ns=we,as=we,ss=we,is=we,cs=we,os=we,fs=we,ls=we,us=we,hs=we,ds=we,Bs=we,Es=we,ps=we,ms=we,Ss=we,gs=we,Cs=$t,Ts=we,bs=we,vs=we,Is=we,Rs=we,Ds=we,Os=we,As=we,Ps=we,xs=we,ks=we,Fs=we,ws=we,Ns=we,Ls=we,Ms=we,ys=we,_s=we,Vs=we,Us=we,Hs=we,Xs=we,Gs=we,Ws=we,Ks=we,js=we,Ys=we,zs=we,$s=we,Qs=we,Zs=we,qs=we,Js=we,ei=we,ti=we,ri=we,ni=we,ai=we,si=we,ii=we,ci=we,oi=we,fi=we,li=we,ui=we,hi=we,di=we,Bi=we,Ei=we,pi=we,mi=we,Si=we,gi=we,Ci=we,Ti=we,bi=we,vi=we,Ii=we,Ri=we,Di=we,Oi=we,Ai=we,Pi=we,xi=we,ki=we,Fi=we,wi=we,Ni=we,Li=we,Mi=we,yi=we,_i=we,Vi=we,Ui=we,Hi=we,Xi=we,Gi=we,Wi=we,Ki=we,ji=we,Yi=we,zi=we,$i=we,Qi=we,Zi=we,qi=we,Ji=we,ec=we,tc=we,rc=we,nc=we,ac=we,sc=we,ic=we,cc=we,oc=we,fc=we,lc=we,uc=we,hc=we,dc=we,Bc=we,Ec=we,pc=we,mc=we,Sc=we,gc=we,Cc=we,Tc=we,bc=we,vc=we,Ic=we,Rc=we,Dc=we,Oc=we,Ac=we,Pc=we,xc=we,kc=we,Fc=we,wc=we,Nc=we,Lc=we,Mc=we,yc=we,_c=we,Vc=we,Uc=we,Hc=we,Xc=we,Gc=we,Wc=we,Kc=we,jc=we,Yc=we,zc=we,$c=we,Qc=we,Zc=we,qc=we,Jc=we,eo=we,to=we,ro=we;var no={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},ao=function(){var e=q("t"),t=q("rPr"),r=/<r>/g,n=/<\/r>/,a=/\r\n/g,s=function(e,t,r){var n={},a=65001,s=e.match(F),i=0;if(s)for(;i!=s.length;++i){var c=L(s[i]);switch(c[0]){case"<condense":case"<extend":break;case"<shadow":case"<shadow/>":break;case"<charset":if("1"==c.val)break;a=no[parseInt(c.val,10)];break;case"<outline":case"<outline/>":break;case"<rFont":n.name=c.val;break;case"<sz":n.sz=c.val;break;case"<strike":if(!c.val)break;case"<strike/>":n.strike=1;break;case"</strike>":break;case"<u":if(!c.val)break;case"<u/>":n.u=1;break;case"</u>":break;case"<b":if(!c.val)break;case"<b/>":n.b=1;break;case"</b>":break;case"<i":if(!c.val)break;case"<i/>":n.i=1;break;case"</i>":break;case"<color":c.rgb&&(n.color=c.rgb.substr(2,6));break;case"<family":n.family=c.val;break;case"<vertAlign":case"<scheme":break;default:if(47!==c[0].charCodeAt(1))throw"Unrecognized rich format "+c[0]}}var o=[];return n.b&&o.push("font-weight: bold;"),n.i&&o.push("font-style: italic;"),t.push('<span style="'+o.join("")+'">'),r.push("</span>"),a};function i(r){var n=[[],"",[]],i=r.match(e);if(!b(i))return"";n[1]=i[1];var c=r.match(t);return b(c)&&s(c[1],n[0],n[2]),n[0].join("")+n[1].replace(a,"<br/>")+n[2].join("")}return function(e){return e.replace(r,"").split(n).map(i).join("")}}(),so=/<t[^>]*>([^<]*)<\/t>/g,io=/<r>/;function co(e,t){var r=!t||t.cellHTML,n={};return e?(116===e.charCodeAt(1)?(n.t=j(U(e.substr(e.indexOf(">")+1).split(/<\/t>/)[0])),n.r=e,r&&(n.h=n.t)):e.match(io)&&(n.r=e,n.t=j(U(e.match(so).join("").replace(F,""))),r&&(n.h=ao(e))),n):null}var oo=/<sst([^>]*)>([\s\S]*)<\/sst>/,fo=/<(?:si|sstItem)>/g,lo=/<\/(?:si|sstItem)>/;pt.SST="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings";var uo=/^\s|\s$|[\t\n\r]/;var ho=function(e,t){return null==t&&(t=Ne(5+2*e.t.length)),t.write_shift(1,0),Ke(e.t,t),t};function Bo(e,t){var r=Me();ye(r,"BrtBeginSst",function(e,t){return t||(t=Ne(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var n=0;n<e.length;++n)ye(r,"BrtSSTItem",ho(e[n]));return ye(r,"BrtEndSst"),r.end()}function Eo(e){return"undefined"!=typeof cptable?cptable.utils.encode(1252,e):e.split("").map(function(e){return e.charCodeAt(0)})}function po(e,t){var r={}
;return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),r}function mo(e,t){var r={},n=r.EncryptionVersionInfo=po(e);if(t-=4,2!=n.Minor)throw"unrecognized minor version code: "+n.Minor;if(n.Major>4||n.Major<2)throw"unrecognized major version code: "+n.Major;r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=function(e,t){var r={};r.Flags=e.read_shift(4);var n=e.read_shift(4);if(0!==n)throw"Unrecognized SizeExtra: "+n;switch(r.AlgID=e.read_shift(4),r.AlgID){case 0:case 26625:case 26126:case 26127:case 26128:break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}return we(e,t-12),r}(e,a),t-=a,r.EncryptionVerifier=function(e,t){return we(e,t)}(e,t),r}var So,go,Co,To,bo=(So=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],go=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],Co=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],To=function(e,t){return 255&((r=e^t)/2|128*r);var r},function(e){for(var t,r,n,a=Eo(e),s=function(e){for(var t=go[e.length-1],r=104,n=e.length-1;n>=0;--n)for(var a=e[n],s=0;7!=s;++s)64&a&&(t^=Co[r]),a*=2,--r;return t}(a),i=a.length,c=h(16),o=0;16!=o;++o)c[o]=0;for(1==(1&i)&&(t=s>>8,c[i]=To(So[0],t),--i,t=255&s,r=a[a.length-1],c[i]=To(r,t));i>0;)t=s>>8,c[--i]=To(a[i],t),t=255&s,c[--i]=To(a[i],t);for(i=15,n=15-a.length;n>0;)t=s>>8,c[i]=To(So[n],t),--n,t=255&s,c[--i]=To(a[i],t),--i,--n;return c}),vo=function(e){var t=0,r=bo(e);return function(e){var n=function(e,t,r,n,a){var s,i;for(a||(a=t),n||(n=bo(e)),s=0;s!=t.length;++s)i=t[s],i=255&((i^=n[r])>>5|i<<3),a[s]=i,++r;return[a,r,n]}(null,e,t,r);return t=n[1],n[0]}};function Io(e,t,r,n){var a={key:Wt(e),verificationBytes:Wt(e)};return r.password&&(a.verifier=function(e){var t,r,n,a=0,s=Eo(e),i=s.length+1;for((t=h(i))[0]=s.length,r=1;r!=i;++r)t[r]=s[r-1];for(r=i-1;r>=0;--r)n=t[r],a=((0==(16384&a)?0:1)|a<<1&32767)^n;return 52811^a}(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu_decrypt=vo(r.password)),a}function Ro(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,1===n.Info?n.Data=function(e,t){var r={},n=r.EncryptionVersionInfo=po(e);if(1!=n.Major||1!=n.Minor)throw"unrecognized version code "+n.Major+" : "+n.Minor;return r.Salt=e.read_shift(16),r.EncryptedVerifier=e.read_shift(16),r.EncryptedVerifierHash=e.read_shift(16),r}(e):n.Data=mo(e,t),n}function Do(e){for(var t=0,r=1;3!=t;++t)r=256*r+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().substr(1)}function Oo(e,t){if(0===t)return e;var r,n,a=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(0===i)return[0,0,t];var c,o=0,f=a+s;switch(c=i/(f>1?2-f:f),a){case t:o=((r-n)/i+6)%6;break;case r:o=(n-t)/i+2;break;case n:o=(t-r)/i+4}return[o/6,c,f/2]}((n=(r=e).substr("#"===r[0]?1:0,6),[parseInt(n.substr(0,2),16),parseInt(n.substr(0,2),16),parseInt(n.substr(0,2),16)]));return a[2]=t<0?a[2]*(1+t):1-(1-a[2])*(1-t),Do(function(e){var t,r=e[0],n=e[1],a=e[2],s=2*n*(a<.5?a:1-a),i=a-s/2,c=[i,i,i],o=6*r;if(0!==n)switch(0|o){case 0:case 6:t=s*o,c[0]+=s,c[1]+=t;break;case 1:t=s*(2-o),c[0]+=t,c[1]+=s;break;case 2:t=s*(o-2),c[1]+=s,c[2]+=t;break;case 3:t=s*(4-o),c[1]+=t,c[2]+=s;break;case 4:t=s*(o-4),c[2]+=s,c[0]+=t;break;case 5:t=s*(6-o),c[2]+=t,c[0]+=s}for(var f=0;3!=f;++f)c[f]=Math.round(255*c[f]);return c}(a))}var Ao=7,Po=15,xo=1,ko=Ao;function Fo(e){return(e+(128/ko|0)/256)*ko|0}function wo(e){return((e-5)/ko*100+.5|0)/100}function No(e){return((e*ko+5)/ko*256|0)/256}function Lo(e){return No(wo(Fo(e)))}function Mo(e,t){if(Lo(e)!=e){for(ko=Ao;ko>xo&&Lo(e)!==e;--ko);if(ko===xo)for(ko=Ao+1;ko<Po&&Lo(e)!==e;++ko);ko===Po&&(ko=Ao)}}var yo={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"},_o={},Vo={};var Uo,Ho,Xo,Go=(Uo=/<numFmts([^>]*)>.*<\/numFmts>/,Ho=/<cellXfs([^>]*)>.*<\/cellXfs>/,Xo=/<fills([^>]*)>.*<\/fills>/,function(e,t){var r;return(r=e.match(Uo))&&function(e,t){_o.NumberFmt=[];for(var r=v(m._table),n=0;n<r.length;++n)_o.NumberFmt[r[n]]=m._table[r[n]];var a=e[0].match(F);for(n=0;n<a.length;++n){var s=L(a[n]);switch(s[0]){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":var i=U(j(s.formatCode)),c=parseInt(s.numFmtId,10);_o.NumberFmt[c]=i,c>0&&m.load(i,c);break;default:if(t.WTF)throw"unrecognized "+s[0]+" in numFmts"}}}(r,t),(r=e.match(Xo))&&function(e,t){_o.Fills=[];var r={};e[0].match(F).forEach(function(e){var n=L(e);switch(n[0]){case"<fills":case"<fills>":case"</fills>":case"<fill>":break;case"</fill>":_o.Fills.push(r),r={};break;case"<patternFill":n.patternType&&(r.patternType=n.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":r.bgColor||(r.bgColor={}),n.indexed&&(r.bgColor.indexed=parseInt(n.indexed,10)),n.theme&&(r.bgColor.theme=parseInt(n.theme,10)),n.tint&&(r.bgColor.tint=parseFloat(n.tint)),n.rgb&&(r.bgColor.rgb=n.rgb.substring(n.rgb.length-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":r.fgColor||(r.fgColor={}),n.theme&&(r.fgColor.theme=parseInt(n.theme,10)),n.tint&&(r.fgColor.tint=parseFloat(n.tint)),n.rgb&&(r.fgColor.rgb=n.rgb.substring(n.rgb.length-6));break;case"<fgColor/>":case"</fgColor>":break;default:if(t.WTF)throw"unrecognized "+n[0]+" in fills"}})}(r,t),(r=e.match(Ho))&&function(e,t){_o.CellXf=[],e[0].match(F).forEach(function(e){var r=L(e);switch(r[0]){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":delete r[0],r.numFmtId&&(r.numFmtId=parseInt(r.numFmtId,10)),r.fillId&&(r.fillId=parseInt(r.fillId,10)),_o.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":break;case"<protection":case"</protection>":case"<protection/>":break;case"<extLst":case"</extLst>":case"<ext":break;default:if(t.WTF)throw"unrecognized "+r[0]+" in cellXfs"}})}(r,t),_o}),Wo=se("styleSheet",null,{xmlns:Te.main[0],"xmlns:vt":Te.vt});function Ko(e,t){var r,n=[Ce,Wo];return null!=(r=function(e,t){var r=["<numFmts>"];return[[5,8],[23,26],[41,44],[63,66],[164,392]].forEach(function(t){for(var n=t[0];n<=t[1];++n)void 0!==e[n]&&(r[r.length]=se("numFmt",null,{numFmtId:n,formatCode:G(e[n])}))}),1===r.length?"":(r[r.length]="</numFmts>",r[0]=se("numFmts",null,{count:r.length-2}).replace("/>",">"),r.join(""))}(e.SSF))&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=function(e){var t=[];return t[t.length]=se("cellXfs",null),e.forEach(function(e){t[t.length]=se("xf",null,e)}),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=se("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}pt.STY="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",pt.THEME="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme";var jo=/<a:clrScheme([^>]*)>[^\u2603]*<\/a:clrScheme>/,Yo=/<a:fontScheme([^>]*)>[^\u2603]*<\/a:fontScheme>/,zo=/<a:fmtScheme([^>]*)>[^\u2603]*<\/a:fmtScheme>/;function $o(e,t){var r;Vo.themeElements={},[["clrScheme",jo,function(e,t){Vo.themeElements.clrScheme=[];var r={};e[0].match(F).forEach(function(e){var n=L(e);switch(n[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=n.val;break;case"<a:sysClr":r.rgb=n.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt1>":case"</a:lt1>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":"/"===n[0][1]?(Vo.themeElements.clrScheme.push(r),r={}):r.name=n[0].substring(3,n[0].length-1);break;default:if(t.WTF)throw"unrecognized "+n[0]+" in clrScheme"}})}],["fontScheme",Yo,function(e,t){}],["fmtScheme",zo,function(e,t){}]].forEach(function(n){if(!(r=e.match(n[1])))throw n[0]+" not found in themeElements";n[2](r,t)})}var Qo=/<a:themeElements([^>]*)>[^\u2603]*<\/a:themeElements>/;function Zo(e,t){var r={};switch(r.xclrType=e.read_shift(2),r.nTintShade=e.read_shift(2),r.xclrType){case 0:e.l+=4;break;case 1:r.xclrValue=function(e,t){return we(e,t)}(e,4);break;case 2:r.xclrValue=er(e);break;case 3:r.xclrValue=function(e,t){return e.read_shift(4)}(e);break;case 4:e.l+=4}return e.l+=8,r}function qo(e,t){var r=e.read_shift(2),n=e.read_shift(2),a=[r];switch(r){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:a[1]=Zo(e);break;case 6:a[1]=function(e,t){return we(e,t)}(e,n);break;case 14:case 15:a[1]=e.read_shift(5===n?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+r+" "+n)}return a}function Jo(e,t,r){r.forEach(function(e){var r=t[e.ref];if(!r){r={},t[e.ref]=r;var n=hu(t["!ref"]||"BDWGO1000001:A1"),a=fu(e.ref);n.s.r>a.r&&(n.s.r=a.r),n.e.r<a.r&&(n.e.r=a.r),n.s.c>a.c&&(n.s.c=a.c),n.e.c<a.c&&(n.e.c=a.c);var s=uu(n);s!==t["!ref"]&&(t["!ref"]=s)}r.c||(r.c=[]);var i={a:e.author,t:e.t,r:e.r};e.h&&(i.h=e.h),r.c.push(i)})}var ef=We,tf=He;var rf=function(){var e,t=/(^|[^A-Za-z])R(\[?)(-?\d+|)\]?C(\[?)(-?\d+|)\]?/g;function r(t,r,n,a,s,i){var c=a.length>0?0|parseInt(a,10):0,o=i.length>0?0|parseInt(i,10):0;return o<0&&0===s.length&&(o=0),s.length>0&&(o+=e.c),n.length>0&&(c+=e.r),r+iu(o)+nu(c)}return function(n,a){return e=a,n.replace(t,r)}}();function nf(e,t){e.l+=1}function af(e,t){var r=e.read_shift(2);return[16383&r,r>>14&1,r>>15&1]}function sf(e,t){var r=e.read_shift(2),n=e.read_shift(2),a=af(e),s=af(e);return{s:{r:r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:n,c:s[0],cRel:s[1],rRel:s[2]}}}function cf(e,t){var r=e.read_shift(2),n=af(e);return{r:r,c:n[0],cRel:n[1],rRel:n[2]}}function of(e,t){return[e.read_shift(1),e.read_shift(1)]}var ff,lf=(ff=4,function(e,t){e.l+=ff});function uf(e){var t=[];switch(t[0]=e.read_shift(1)){case 4:t[1]=Gt(e,1)?"TRUE":"FALSE",e.l+=7;break;case 16:t[1]=Ze[e[e.l]],e.l+=8;break;case 0:e.l+=8;break;case 1:t[1]=Qe(e);break;case 2:t[1]=$t(e)}return t}function hf(e,t){for(var r=e.read_shift(2),n=[],a=0;a!=r;++a)n.push(sr(e));return n}function df(e){for(var t=1+e.read_shift(1),r=1+e.read_shift(2),n=0,a=[];n!=r&&(a[n]=[]);++n)for(var s=0;s!=t;++s)a[n][s]=uf(e);return a}var Bf={1:{n:"PtgExp",f:function(e,t){return e.l++,[e.read_shift(2),e.read_shift(2)]}},2:{n:"PtgTbl",f:we},3:{n:"PtgAdd",f:nf},4:{n:"PtgSub",f:nf},5:{n:"PtgMul",f:nf},6:{n:"PtgDiv",f:nf},7:{n:"PtgPower",f:nf},8:{n:"PtgConcat",f:nf},9:{n:"PtgLt",f:nf},10:{n:"PtgLe",f:nf},11:{n:"PtgEq",f:nf},12:{n:"PtgGe",f:nf},13:{n:"PtgGt",f:nf},14:{n:"PtgNe",f:nf},15:{n:"PtgIsect",f:nf},16:{n:"PtgUnion",f:nf},17:{n:"PtgRange",f:nf},18:{n:"PtgUplus",f:nf},19:{n:"PtgUminus",f:nf},20:{n:"PtgPercent",f:nf},21:{n:"PtgParen",f:nf},22:{n:"PtgMissArg",f:nf},23:{n:"PtgStr",f:function(e,t){return e.l++,jt(e)}},28:{n:"PtgErr",f:function(e,t){return e.l++,Ze[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e,t){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e,t){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e,t){return e.l++,Qe(e)}},32:{n:"PtgArray",f:function(e,t){var r=(96&e[e.l++])>>5;return e.l+=7,[r]}},33:{n:"PtgFunc",f:function(e,t){e[e.l],e[e.l],e.l+=1;var r=e.read_shift(2);return[Df[r],Rf[r]]}},34:{n:"PtgFuncVar",f:function(e,t){e.l++;var r=e.read_shift(1),n=function(e,t){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[r,(0===n[0]?Rf:If)[n[1]]]}},35:{n:"PtgName",f:function(e,t){return[e.read_shift(1)>>>5&3,0,e.read_shift(4)]}},36:{n:"PtgRef",f:function(e,t){e[e.l];var r=(96&e[e.l])>>5;return e.l+=1,[r,cf(e)]}},37:{n:"PtgArea",f:function(e,t){return[(96&e[e.l++])>>5,sf(e)]}},38:{n:"PtgMemArea",f:function(e,t){var r=e.read_shift(1)>>>5&3;return e.l+=4,[r,e.read_shift(2)]}},39:{n:"PtgMemErr",f:we},40:{n:"PtgMemNoMem",f:we},41:{n:"PtgMemFunc",f:function(e,t){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},42:{n:"PtgRefErr",f:function(e,t){var r=e.read_shift(1)>>>5&3;return e.l+=4,[r]}},43:{n:"PtgAreaErr",f:function(e,t){var r=(96&e[e.l++])>>5;return e.l+=8,[r]}},44:{n:"PtgRefN",f:function(e,t){e[e.l];var r=(96&e[e.l])>>5;return e.l+=1,[r,function(e,t){var r=e.read_shift(2),n=e.read_shift(2),a=(32768&n)>>15,s=(16384&n)>>14;if(n&=16383,0!==a)for(;n>=256;)n-=256;return{r:r,c:n,cRel:a,rRel:s}}(e)]}},45:{n:"PtgAreaN",f:function(e,t){return[(96&e[e.l++])>>5,function(e,t){var r=e.read_shift(2),n=e.read_shift(2),a=af(e),s=af(e);return{s:{r:r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:n,c:s[0],cRel:s[1],rRel:s[2]}}}(e)]}},57:{n:"PtgNameX",f:function(e,t){return[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t){e[e.l];var r=(96&e[e.l])>>5;return e.l+=1,[r,e.read_shift(2),cf(e)]}},59:{n:"PtgArea3d",f:function(e,t){return[(96&e[e.l++])>>5,e.read_shift(2),sf(e)]}},60:{n:"PtgRefErr3d",f:we},61:{n:"PtgAreaErr3d",f:function(e,t){var r=(96&e[e.l++])>>5,n=e.read_shift(2);return e.l+=8,[r,n]}},255:{}},Ef={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61};!function(){for(var e in Ef)Bf[e]=Bf[Ef[e]]}();var pf={},mf={1:{n:"PtgAttrSemi",f:function(e,t){var r=255&e[e.l+1]?1:0;return e.l+=4,[r]}},2:{n:"PtgAttrIf",f:function(e,t){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(2)]}},4:{n:"PtgAttrChoose",f:function(e,t){e.l+=2;for(var r=e.read_shift(2),n=[],a=0;a<=r;++a)n.push(e.read_shift(2));return n}},8:{n:"PtgAttrGoto",f:function(e,t){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(2)]}},16:{n:"PtgAttrSum",f:lf},32:{n:"PtgAttrBaxcel",f:function(e,t){var r=1&e[e.l+1];return e.l+=4,[r,1]}},64:{n:"PtgAttrSpace",f:function(e,t){return e.read_shift(2),of(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e,t){return e.read_shift(2),of(e)}},255:{}};function Sf(e,t,r){var n=rr(e),a=function(e){var t;if(65535!==Ie(e,e.l+6))return[Qe(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=1===e[e.l+2],e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}}(e),s=e.read_shift(1);e.read_shift(1);e.read_shift(4);var i="";return 5===r.biff?e.l+=t-20:i=function(e,t,r){e.l;var n,a=e.read_shift(2);if(65535==a)return[[],we(e,t-2)];var s=Cf(e,a);t!==a+2&&(n=gf(e,t-a-2,s,r));return[s,n]}(e,t-20,r),{cell:n,val:a[0],formula:i,shared:s>>3&1,tt:a[1]}}function gf(e,t,r,n){if(n.biff<8)return we(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=df(e),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=hf(e,r[i][1]),s.push(r[i][2])}return 0!==(t=a-e.l)&&s.push(we(e,t)),s}function Cf(e,t){for(var r,n,a=e.l+t,s=[];a!=e.l;)t=a-e.l,n=e[e.l],r=Bf[n],24!==n&&25!==n||(r=(24===(n=e[e.l+1])?pf:mf)[n]),r&&r.f?s.push([r.n,r.f(e,t)]):s.push(we(e,t));return s}function Tf(e){return e.map(function(e){return e[1]}).join(",")}function bf(e,t,r,n,a){if(void 0!==a&&5===a.biff)return"BIFF5??";var s,i,c,o,f,l,u=void 0!==t?t:{s:{c:0,r:0}},h=[];if(!e[0]||!e[0][0])return"";for(var d=0,B=e[0].length;d<B;++d){var E=e[0][d];switch(E[0]){case"PtgUminus":h.push("-"+h.pop());break;case"PtgUplus":h.push("+"+h.pop());break;case"PtgPercent":h.push(h.pop()+"%");break;case"PtgAdd":s=h.pop(),i=h.pop(),h.push(i+"+"+s);break;case"PtgSub":s=h.pop(),i=h.pop(),h.push(i+"-"+s);break;case"PtgMul":s=h.pop(),i=h.pop(),h.push(i+"*"+s);break;case"PtgDiv":s=h.pop(),i=h.pop(),h.push(i+"/"+s);break;case"PtgPower":s=h.pop(),i=h.pop(),h.push(i+"^"+s);break;case"PtgConcat":s=h.pop(),i=h.pop(),h.push(i+"&"+s);break;case"PtgLt":s=h.pop(),i=h.pop(),h.push(i+"<"+s);break;case"PtgLe":s=h.pop(),i=h.pop(),h.push(i+"<="+s);break;case"PtgEq":s=h.pop(),i=h.pop(),h.push(i+"="+s);break;case"PtgGe":s=h.pop(),i=h.pop(),h.push(i+">="+s);break;case"PtgGt":s=h.pop(),i=h.pop(),h.push(i+">"+s);break;case"PtgNe":s=h.pop(),i=h.pop(),h.push(i+"<>"+s);break;case"PtgIsect":s=h.pop(),i=h.pop(),h.push(i+" "+s);break;case"PtgUnion":s=h.pop(),i=h.pop(),h.push(i+","+s);break;case"PtgRange":case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":break;case"PtgRef":E[1][0],c=_e(fu(lu(E[1][1])),u),h.push(lu(c));break;case"PtgRefN":E[1][0],c=_e(fu(lu(E[1][1])),r),h.push(lu(c));break;case"PtgRef3d":E[1][0],o=E[1][1],c=_e(E[1][2],u),h.push(n[1][o+1]+"!"+lu(c));break;case"PtgFunc":case"PtgFuncVar":var p=E[1][0],m=E[1][1];p||(p=0);var S=h.slice(-p);h.length-=p,"User"===m&&(m=S.shift()),h.push(m+"("+S.join(",")+")");break;case"PtgBool":h.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":h.push(E[1]);break;case"PtgNum":h.push(String(E[1]));break;case"PtgStr":h.push('"'+E[1]+'"');break;case"PtgErr":h.push(E[1]);break;case"PtgArea":E[1][0],l=Ve(E[1][1],u),h.push(uu(l));break;case"PtgArea3d":E[1][0],o=E[1][1],l=E[1][2],h.push(n[1][o+1]+"!"+uu(l));break;case"PtgAttrSum":h.push("SUM("+h.pop()+")");break;case"PtgAttrSemi":break;case"PtgName":f=E[1][2];var g=n[0][f].Name;g in Of&&(g=Of[g]),h.push(g);break;case"PtgNameX":var C,T=E[1][1];f=E[1][2],n[T+1]?C=n[T+1][f]:n[T-1]&&(C=n[T-1][f]),C||(C={body:"??NAMEX??"}),h.push(C.body);break;case"PtgParen":h.push("("+h.pop()+")");break;case"PtgRefErr":h.push("#REF!");break;case"PtgExp":c={c:E[1][1],r:E[1][0]};var b={c:r.c,r:r.r};if(n.sharedf[lu(c)]){var v=n.sharedf[lu(c)];h.push(bf(v,u,b,n,a))}else{for(s=0;s!=n.arrayf.length;++s)i=n.arrayf[s],c.c<i[0].s.c||c.c>i[0].e.c||c.r<i[0].s.r||c.r>i[0].e.r||h.push(bf(i[1],u,b,n,a));h.push(E[1])}break;case"PtgArray":h.push("{"+E[1].map(Tf).join(";")+"}");break;case"PtgMemArea":case"PtgAttrSpace":case"PtgTbl":case"PtgMemErr":break;case"PtgMissArg":h.push("");break;case"PtgAreaErr":break;case"PtgAreaN":h.push("");break;case"PtgRefErr3d":case"PtgMemFunc":break;default:throw"Unrecognized Formula Token: "+E}}return h[0]}function vf(e,t){e.read_shift(4);return we(e,t-4)}var If={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Rf={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD"},Df={2:1,3:1,15:1,16:1,17:1,18:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,65:3,66:3,67:1,68:1,69:1,71:1,72:1,73:1,75:1,76:1,77:1,79:2,80:2,83:1,86:1,90:1,97:2,98:1,99:1,105:1,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,
131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,189:3,190:1,195:3,196:3,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,65535:0},Of={"_xlfn.ACOT":"ACOT","_xlfn.ACOTH":"ACOTH","_xlfn.AGGREGATE":"AGGREGATE","_xlfn.ARABIC":"ARABIC","_xlfn.AVERAGEIF":"AVERAGEIF","_xlfn.AVERAGEIFS":"AVERAGEIFS","_xlfn.BASE":"BASE","_xlfn.BETA.DIST":"BETA.DIST","_xlfn.BETA.INV":"BETA.INV","_xlfn.BINOM.DIST":"BINOM.DIST","_xlfn.BINOM.DIST.RANGE":"BINOM.DIST.RANGE","_xlfn.BINOM.INV":"BINOM.INV","_xlfn.BITAND":"BITAND","_xlfn.BITLSHIFT":"BITLSHIFT","_xlfn.BITOR":"BITOR","_xlfn.BITRSHIFT":"BITRSHIFT","_xlfn.BITXOR":"BITXOR","_xlfn.CEILING.MATH":"CEILING.MATH","_xlfn.CEILING.PRECISE":"CEILING.PRECISE","_xlfn.CHISQ.DIST":"CHISQ.DIST","_xlfn.CHISQ.DIST.RT":"CHISQ.DIST.RT","_xlfn.CHISQ.INV":"CHISQ.INV","_xlfn.CHISQ.INV.RT":"CHISQ.INV.RT","_xlfn.CHISQ.TEST":"CHISQ.TEST","_xlfn.COMBINA":"COMBINA","_xlfn.CONFIDENCE.NORM":"CONFIDENCE.NORM","_xlfn.CONFIDENCE.T":"CONFIDENCE.T","_xlfn.COT":"COT","_xlfn.COTH":"COTH","_xlfn.COUNTIFS":"COUNTIFS","_xlfn.COVARIANCE.P":"COVARIANCE.P","_xlfn.COVARIANCE.S":"COVARIANCE.S","_xlfn.CSC":"CSC","_xlfn.CSCH":"CSCH","_xlfn.DAYS":"DAYS","_xlfn.DECIMAL":"DECIMAL","_xlfn.ECMA.CEILING":"ECMA.CEILING","_xlfn.ERF.PRECISE":"ERF.PRECISE","_xlfn.ERFC.PRECISE":"ERFC.PRECISE","_xlfn.EXPON.DIST":"EXPON.DIST","_xlfn.F.DIST":"F.DIST","_xlfn.F.DIST.RT":"F.DIST.RT","_xlfn.F.INV":"F.INV","_xlfn.F.INV.RT":"F.INV.RT","_xlfn.F.TEST":"F.TEST","_xlfn.FILTERXML":"FILTERXML","_xlfn.FLOOR.MATH":"FLOOR.MATH","_xlfn.FLOOR.PRECISE":"FLOOR.PRECISE","_xlfn.FORMULATEXT":"FORMULATEXT","_xlfn.GAMMA":"GAMMA","_xlfn.GAMMA.DIST":"GAMMA.DIST","_xlfn.GAMMA.INV":"GAMMA.INV","_xlfn.GAMMALN.PRECISE":"GAMMALN.PRECISE","_xlfn.GAUSS":"GAUSS","_xlfn.HYPGEOM.DIST":"HYPGEOM.DIST","_xlfn.IFNA":"IFNA","_xlfn.IFERROR":"IFERROR","_xlfn.IMCOSH":"IMCOSH","_xlfn.IMCOT":"IMCOT","_xlfn.IMCSC":"IMCSC","_xlfn.IMCSCH":"IMCSCH","_xlfn.IMSEC":"IMSEC","_xlfn.IMSECH":"IMSECH","_xlfn.IMSINH":"IMSINH","_xlfn.IMTAN":"IMTAN","_xlfn.ISFORMULA":"ISFORMULA","_xlfn.ISO.CEILING":"ISO.CEILING","_xlfn.ISOWEEKNUM":"ISOWEEKNUM","_xlfn.LOGNORM.DIST":"LOGNORM.DIST","_xlfn.LOGNORM.INV":"LOGNORM.INV","_xlfn.MODE.MULT":"MODE.MULT","_xlfn.MODE.SNGL":"MODE.SNGL","_xlfn.MUNIT":"MUNIT","_xlfn.NEGBINOM.DIST":"NEGBINOM.DIST","_xlfn.NETWORKDAYS.INTL":"NETWORKDAYS.INTL","_xlfn.NIGBINOM":"NIGBINOM","_xlfn.NORM.DIST":"NORM.DIST","_xlfn.NORM.INV":"NORM.INV","_xlfn.NORM.S.DIST":"NORM.S.DIST","_xlfn.NORM.S.INV":"NORM.S.INV","_xlfn.NUMBERVALUE":"NUMBERVALUE","_xlfn.PDURATION":"PDURATION","_xlfn.PERCENTILE.EXC":"PERCENTILE.EXC","_xlfn.PERCENTILE.INC":"PERCENTILE.INC","_xlfn.PERCENTRANK.EXC":"PERCENTRANK.EXC","_xlfn.PERCENTRANK.INC":"PERCENTRANK.INC","_xlfn.PERMUTATIONA":"PERMUTATIONA","_xlfn.PHI":"PHI","_xlfn.POISSON.DIST":"POISSON.DIST","_xlfn.QUARTILE.EXC":"QUARTILE.EXC","_xlfn.QUARTILE.INC":"QUARTILE.INC","_xlfn.QUERYSTRING":"QUERYSTRING","_xlfn.RANK.AVG":"RANK.AVG","_xlfn.RANK.EQ":"RANK.EQ","_xlfn.RRI":"RRI","_xlfn.SEC":"SEC","_xlfn.SECH":"SECH","_xlfn.SHEET":"SHEET","_xlfn.SHEETS":"SHEETS","_xlfn.SKEW.P":"SKEW.P","_xlfn.STDEV.P":"STDEV.P","_xlfn.STDEV.S":"STDEV.S","_xlfn.SUMIFS":"SUMIFS","_xlfn.T.DIST":"T.DIST","_xlfn.T.DIST.2T":"T.DIST.2T","_xlfn.T.DIST.RT":"T.DIST.RT","_xlfn.T.INV":"T.INV","_xlfn.T.INV.2T":"T.INV.2T","_xlfn.T.TEST":"T.TEST","_xlfn.UNICHAR":"UNICHAR","_xlfn.UNICODE":"UNICODE","_xlfn.VAR.P":"VAR.P","_xlfn.VAR.S":"VAR.S","_xlfn.WEBSERVICE":"WEBSERVICE","_xlfn.WEIBULL.DIST":"WEIBULL.DIST","_xlfn.WORKDAY.INTL":"WORKDAY.INTL","_xlfn.XOR":"XOR","_xlfn.Z.TEST":"Z.TEST"},Af={},Pf={};function xf(e,t){for(var r=0,n=e.length;r<n;++r)if(e[r].t===t)return e.Count++,r;return e[n]={t:t},e.Count++,e.Unique++,n}function kf(e,t,r){for(var n=r.revssf[null!=t.z?t.z:"General"],a=0,s=e.length;a!=s;++a)if(e[a].numFmtId===n)return a;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function Ff(e,t,r,n){try{if("e"===e.t)e.w=e.w||Ze[e.v];else if(0===t)if("n"===e.t)(0|e.v)===e.v?e.w=m._general_int(e.v,Pf):e.w=m._general_num(e.v,Pf);else if("d"===e.t){var a=R(e.v);e.w=(0|a)===a?m._general_int(a,Pf):m._general_num(a,Pf)}else{if(void 0===e.v)return"";e.w=m._general(e.v,Pf)}else"d"===e.t?e.w=m.format(t,R(e.v),Pf):e.w=m.format(t,e.v,Pf);n.cellNF&&(e.z=m._table[t])}catch(e){if(n.WTF)throw e}if(r)try{e.s=_o.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&(e.s.fgColor.rgb=Oo(Vo.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=Vo.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Oo(Vo.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=Vo.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(e){if(n.WTF)throw e}}pt.WS="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet";var wf=/<mergeCell ref="[A-Z0-9:]+"\s*\/>/g,Nf=/<(?:\w+:)?sheetData>([^\u2603]*)<\/(?:\w+:)?sheetData>/,Lf=/<hyperlink[^>]*\/>/g,Mf=/"(\w*:\w*)"/,yf=/<col[^>]*\/>/g;function _f(e,t,r){if(!e)return e;var n={},a=e.indexOf("<dimension");if(a>0){var s=e.substr(a,50).match(Mf);null!=s&&function(e,t){var r=hu(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=uu(r))}(n,s[1])}var i=[];if(-1!==e.indexOf("</mergeCells>")){var c=e.match(wf);for(a=0;a!=c.length;++a)i[a]=hu(c[a].substr(c[a].indexOf('"')+1))}var o=[];t.cellStyles&&-1!==e.indexOf("</cols>")&&function(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=L(t[n],!0),s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(delete a.min,delete a.max,!r&&a.width&&(r=!0,Mo(+a.width)),a.width&&(a.wpx=Fo(+a.width),a.wch=wo(a.wpx),a.MDW=ko);s<=i;)e[s++]=a}}(o,e.match(yf));var f={s:{r:1e6,c:1e6},e:{r:0,c:0}},l=e.match(Nf);if(l&&jf(l[1],n,t,f),-1!==e.indexOf("</hyperlinks>")&&function(e,t,r){for(var n=0;n!=t.length;++n){var a=L(t[n],!0);if(!a.ref)return;var s=r?r["!id"][a.id]:null;s?(a.Target=s.Target,a.location&&(a.Target+="#"+a.location),a.Rel=s):(a.Target=a.location,s={Target:a.location,TargetMode:"Internal"},a.Rel=s);for(var i=hu(a.ref),c=i.s.r;c<=i.e.r;++c)for(var o=i.s.c;o<=i.e.c;++o){var f=lu({c:o,r:c});e[f]||(e[f]={t:"stub",v:void 0}),e[f].l=a}}}(n,e.match(Lf),r),!n["!ref"]&&f.e.c>=f.s.c&&f.e.r>=f.s.r&&(n["!ref"]=uu(f)),t.sheetRows>0&&n["!ref"]){var u=hu(n["!ref"]);t.sheetRows<+u.e.r&&(u.e.r=t.sheetRows-1,u.e.r>f.e.r&&(u.e.r=f.e.r),u.e.r<u.s.r&&(u.s.r=u.e.r),u.e.c>f.e.c&&(u.e.c=f.e.c),u.e.c<u.s.c&&(u.s.c=u.e.c),n["!fullref"]=n["!ref"],n["!ref"]=uu(u))}return i.length>0&&(n["!merges"]=i),o.length>0&&(n["!cols"]=o),n}function Vf(e,t,r,n,a,s){if(void 0===e.v)return"";var i="",c=e.t,o=e.v;switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=Ze[e.v];break;case"d":n.cellDates?i=new Date(e.v).toISOString():(e.t="n",i=""+(e.v=R(e.v)),void 0===e.z&&(e.z=m._table[14]));break;default:i=e.v}var f=ae("v",G(i)),l={r:t},u=kf(n.cellXfs,e,n);switch(0!==u&&(l.s=u),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(n.bookSST){f=ae("v",""+xf(n.Strings,e.v)),l.t="s";break}l.t="str"}return e.t!=c&&(e.t=c,e.v=o),se("c",f,l)}var Uf,Hf,Xf,Gf,Wf,Kf,jf=(Uf=/<(?:\w+:)?c[ >]/,Hf=/<\/(?:\w+:)?row>/,Xf=/r=["']([^"']*)["']/,Gf=/<is>([\S\s]*?)<\/is>/,Wf=q("v"),Kf=q("f"),function(e,t,r,n){for(var a,s,i,c,o=0,f="",l=[],u=[],h=0,d=0,B=0,E="",p=0,m=0,S=0,g=0,C=Array.isArray(_o.CellXf),T=e.split(Hf),b=0,v=T.length;b!=v;++b){var I=(f=T[b].trim()).length;if(0!==I){for(o=0;o<I&&62!==f.charCodeAt(o);++o);if(++o,p=void 0!==(s=L(f.substr(0,o),!0)).r?parseInt(s.r,10):p+1,m=-1,!(r.sheetRows&&r.sheetRows<p))for(n.s.r>p-1&&(n.s.r=p-1),n.e.r<p-1&&(n.e.r=p-1),l=f.substr(o).split(Uf),o=void 0===s.r?0:1;o!=l.length;++o)if(0!==(f=l[o].trim()).length){if(u=f.match(Xf),h=o,d=0,B=0,f="<c "+("<"==f.substr(0,1)?">":"")+f,null!==u&&2===u.length){for(h=0,E=u[1],d=0;d!=E.length&&!((B=E.charCodeAt(d)-64)<1||B>26);++d)h=26*h+B;m=--h}else++m;for(d=0;d!=f.length&&62!==f.charCodeAt(d);++d);if(++d,(s=L(f.substr(0,d),!0)).r||(s.r=Su.encode_cell({r:p-1,c:m})),a={t:""},null!==(u=(E=f.substr(d)).match(Wf))&&""!==u[1]&&(a.v=U(u[1])),r.cellFormula&&null!==(u=E.match(Kf))&&(a.f=U(u[1])),void 0===s.t&&void 0===a.v){if(!r.sheetStubs)continue;a.t="stub"}else a.t=s.t||"n";switch(n.s.c>h&&(n.s.c=h),n.e.c<h&&(n.e.c=h),a.t){case"n":a.v=parseFloat(a.v);break;case"s":i=Af[parseInt(a.v,10)],a.v=i.t,a.r=i.r,r.cellHTML&&(a.h=i.h);break;case"str":a.t="s",a.v=null!=a.v?j(a.v):"",r.cellHTML&&(a.h=a.v);break;case"inlineStr":u=E.match(Gf),a.t="s",null!==u?(i=co(u[1]),a.v=i.t):a.v="";break;case"b":a.v=K(a.v);break;case"d":r.cellDates||(a.v=R(a.v),a.t="n");break;case"e":a.w=a.v,a.v=qe[a.v]}S=g=0,C&&void 0!==s.s&&null!=(c=_o.CellXf[s.s])&&(null!=c.numFmtId&&(S=c.numFmtId),r.cellStyles&&null!=c.fillId&&(g=c.fillId)),Ff(a,S,g,r),t[s.r]=a}}}});var Yf=se("worksheet",null,{xmlns:Te.main[0],"xmlns:r":Te.r});function zf(e,t,r){var n,a=[Ce,Yf],s=r.SheetNames[e],i="",c=r.Sheets[s];void 0===c&&(c={});var o=c["!ref"];return void 0===o&&(o="A1"),a[a.length]=se("dimension",null,{ref:o}),void 0!==c["!cols"]&&c["!cols"].length>0&&(a[a.length]=function(e,t){for(var r,n,a=["<cols>"],s=0;s!=t.length;++s)if(r=t[s]){var i={min:s+1,max:s+1};n=-1,r.wpx?n=wo(r.wpx):r.wch&&(n=r.wch),n>-1&&(i.width=No(n),i.customWidth=1),a[a.length]=se("col",null,i)}return a[a.length]="</cols>",a.join("")}(0,c["!cols"])),a[n=a.length]="<sheetData/>",void 0!==c["!ref"]&&(i=function(e,t,r,n){var a,s,i,c,o=[],f=[],l=hu(e["!ref"]),u="",h=[];for(c=l.s.c;c<=l.e.c;++c)h[c]=iu(c);for(i=l.s.r;i<=l.e.r;++i){for(f=[],u=nu(i),c=l.s.c;c<=l.e.c;++c)void 0!==e[s=h[c]+u]&&null!=(a=Vf(e[s],s,0,t))&&f.push(a);f.length>0&&(o[o.length]=se("row",f.join(""),{r:u}))}return o.join("")}(c,t)).length>0&&(a[a.length]=i),a.length>n+1&&(a[a.length]="</sheetData>",a[n]=a[n].replace("/>",">")),void 0!==c["!merges"]&&c["!merges"].length>0&&(a[a.length]=function(e){if(0==e.length)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+uu(e[r])+'"/>';return t+"</mergeCells>"}(c["!merges"])),a.length>2&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}var $f=$e,Qf=function(e,t){return t||(t=Ne(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function Zf(e,t,r){return null==r&&(r=Ne(8)),function(e,t){return null==t&&(t=Ne(8)),t.write_shift(-4,e.c),t.write_shift(3,void 0===e.iStyleRef?e.iStyleRef:e.s),t.write_shift(1,0),t}(t,r)}var qf=$e;function Jf(e,t,r,n,a){if(void 0===t.v)return"";switch(t.t){case"b":t.v?"1":"0";break;case"n":case"e":""+t.v;break;default:t.v}var s={r:r,c:n};switch(s.s=kf(a.cellXfs,t,a),t.t){case"s":case"str":if(a.bookSST){xf(a.Strings,t.v),s.t="s";break}s.t="str";break;case"n":break;case"b":s.t="b";break;case"e":s.t="e"}ye(e,"BrtCellBlank",Zf(0,s))}function el(e,t,r){var n=Me(),a=r.SheetNames[e],s=r.Sheets[a]||{},i=hu(s["!ref"]||"A1");return ye(n,"BrtBeginSheet"),ye(n,"BrtWsDim",Qf(i)),function(e,t,r,n,a){var s,i=hu(t["!ref"]||"A1"),c="",o=[];ye(e,"BrtBeginSheetData");for(var f=i.s.r;f<=i.e.r;++f){c=nu(f);for(var l=i.s.c;l<=i.e.c;++l)f===i.s.r&&(o[l]=iu(l)),t[s=o[l]+c]&&Jf(e,t[s],f,l,n)}ye(e,"BrtEndSheetData")}(n,s,0,t),ye(n,"BrtEndSheet"),n.end()}var tl=[["allowRefreshQuery","0"],["autoCompressPictures","1"],["backupFile","0"],["checkCompatibility","0"],["codeName",""],["date1904","0"],["dateCompatibility","1"],["filterPrivacy","0"],["hidePivotFieldList","0"],["promptedSolutions","0"],["publishItems","0"],["refreshAllConnections",!1],["saveExternalLinkValues","1"],["showBorderUnselectedTables","1"],["showInkAnnotation","1"],["showObjects","all"],["showPivotChartFilter","0"]],rl=[["activeTab","0"],["autoFilterDateGrouping","1"],["firstSheet","0"],["minimized","0"],["showHorizontalScroll","1"],["showSheetTabs","1"],["showVerticalScroll","1"],["tabRatio","600"],["visibility","visible"]],nl=[["state","visible"]],al=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function sl(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];null==n[s[0]]&&(n[s[0]]=s[1])}}function il(e,t){for(var r=0;r!=t.length;++r){var n=t[r];null==e[n[0]]&&(e[n[0]]=n[1])}}function cl(e){il(e.WBProps,tl),il(e.CalcPr,al),sl(e.WBView,rl),sl(e.Sheets,nl),Pf.date1904=K(e.WBProps.date1904)}var ol=/<\w+:workbook/;function fl(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=!1,a="xmlns";if(e.match(F).forEach(function(e){var s=L(e);switch(function(e){return e.replace(N,"<$1")}(s[0])){case"<?xml":break;case"<workbook":e.match(ol)&&(a="xmlns"+e.match(/<(\w+):/)[1]),r.xmlns=s[a];break;case"</workbook>":break;case"<fileVersion":delete s[0],r.AppVersion=s;break;case"<fileVersion/>":break;case"<fileSharing":case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":delete s[0],r.WBProps=s;break;case"<workbookProtection":case"<workbookProtection/>":break;case"<bookViews>":case"</bookViews>":break;case"<workbookView":delete s[0],r.WBView.push(s);break;case"<sheets>":case"</sheets>":break;case"<sheet":delete s[0],s.name=j(s.name),r.Sheets.push(s);break;case"<functionGroups":case"<functionGroups/>":case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":case"<externalReference":case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":case"<definedName/>":case"</definedName>":break;case"<calcPr":case"<calcPr/>":delete s[0],r.CalcPr=s;break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":case"<webPublishObject":break;case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;default:if(!n&&t.WTF)throw"unrecognized "+s[0]+" in workbook"}}),-1===Te.main.indexOf(r.xmlns))throw new Error("Unknown Namespace: "+r.xmlns);return cl(r),r}var ll=se("workbook",null,{xmlns:Te.main[0],"xmlns:r":Te.r});function ul(e,t){var r=[Ce];r[r.length]=ll,r[r.length]=se("workbookPr",null,{date1904:function(e){try{return K(e.Workbook.WBProps.date1904)?"true":"false"}catch(e){return"false"}}(e)}),r[r.length]="<sheets>";for(var n=0;n!=e.SheetNames.length;++n)r[r.length]=se("sheet",null,{name:e.SheetNames[n].substr(0,31),sheetId:""+(n+1),"r:id":"rId"+(n+1)});return r[r.length]="</sheets>",r.length>2&&(r[r.length]="</workbook>",r[1]=r[1].replace("/>",">")),r.join("")}function hl(e,t){return t||(t=Ne(26)),t.write_shift(4,0),t.write_shift(4,1),t.write_shift(4,0),function(e,t){(t||Ne(8)).write_shift(8,"f",e)}(0,t),t.write_shift(-4,1023),t.write_shift(1,51),t.write_shift(1,0),t}function dl(e,t){var n,a=Me();return ye(a,"BrtBeginBook"),ye(a,"BrtFileVersion",function(e,t){t||(t=Ne(127));for(var n=0;4!=n;++n)t.write_shift(4,0);return Ke("SheetJS",t),Ke(r.version,t),Ke(r.version,t),Ke("7262",t),t.length=t.l,t}()),ye(a,"BrtWbProp",(n||(n=Ne(8)),n.write_shift(4,0),n.write_shift(4,0),n)),function(e,t,r){ye(e,"BrtBeginBookViews"),ye(e,"BrtEndBookViews")}(a),function(e,t,r){ye(e,"BrtBeginBundleShs");for(var n=0;n!=t.SheetNames.length;++n){var a={hsState:0,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]};ye(e,"BrtBundleSh",(s=a,(i=void 0)||(i=Ne(127)),i.write_shift(4,s.hsState),i.write_shift(4,s.iTabID),Ye(s.strRelID,i),Ke(s.name.substr(0,31),i),i))}var s,i;ye(e,"BrtEndBundleShs")}(a,e),ye(a,"BrtCalcProp",hl()),ye(a,"BrtFileRecover",function(e,t){return t||(t=Ne(1)),t.write_shift(1,0),t}()),ye(a,"BrtEndBook"),a.end()}function Bl(e,t,r){return(".bin"===t.substr(-4)?function(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=!1;return Le(e,function(e,a){switch(a.n){case"BrtBundleSh":r.Sheets.push(e);break;case"BrtBeginBook":case"BrtFileVersion":case"BrtWbProp":case"BrtACBegin":case"BrtAbsPath15":case"BrtACEnd":case"BrtWbFactoid":case"BrtBookProtection":case"BrtBeginBookViews":case"BrtBookView":case"BrtEndBookViews":case"BrtBeginBundleShs":case"BrtEndBundleShs":case"BrtBeginFnGroup":case"BrtEndFnGroup":case"BrtBeginExternals":case"BrtSupSelf":case"BrtSupBookSrc":case"BrtExternSheet":case"BrtEndExternals":case"BrtName":case"BrtCalcProp":case"BrtUserBookView":case"BrtBeginPivotCacheIDs":case"BrtBeginPivotCacheID":case"BrtEndPivotCacheID":case"BrtEndPivotCacheIDs":case"BrtWebOpt":case"BrtFileRecover":case"BrtFileSharing":case"BrtBeginSmartTagTypes":case"BrtSmartTagType":case"BrtEndSmartTagTypes":break;case"BrtFRTBegin":n=!0;break;case"BrtFRTArchID$":case"BrtWorkBookPr15":break;case"BrtFRTEnd":n=!1;break;case"BrtEndBook":break;default:if(!n||t.WTF)throw new Error("Unexpected record "+a.n)}}),cl(r),r}:fl)(e,r)}function El(e,t,r,n){return(".bin"===t.substr(-4)?function(e,t,r){if(!e)return e;r||(r={"!id":{}});var n,a,s,i,c,o,f,l,u={},h={s:{r:1e6,c:1e6},e:{r:0,c:0}},d=!1,B=!1,E=[];if(Le(e,function(e,p){if(!B)switch(p.n){case"BrtWsDim":n=e;break;case"BrtRowHdr":a=e,t.sheetRows&&t.sheetRows<=a.r&&(B=!0),l=nu(a.r);break;case"BrtFmlaBool":case"BrtFmlaError":case"BrtFmlaNum":case"BrtFmlaString":case"BrtCellBool":case"BrtCellError":case"BrtCellIsst":case"BrtCellReal":case"BrtCellRk":case"BrtCellSt":switch(s={t:e[2]},e[2]){case"n":s.v=e[1];break;case"s":f=Af[e[1]],s.v=f.t,s.r=f.r;break;case"b":s.v=!!e[1];break;case"e":s.v=e[1],s.w=Ze[s.v];break;case"str":s.t="s",s.v=j(e[1])}t.cellFormula&&e.length>3&&(s.f=e[3]),(i=_o.CellXf[e[0].iStyleRef])&&Ff(s,i.ifmt,null,t),u[iu(c=e[0].c)+l]=s,h.s.r>a.r&&(h.s.r=a.r),h.s.c>c&&(h.s.c=c),h.e.r<a.r&&(h.e.r=a.r),h.e.c<c&&(h.e.c=c);break;case"BrtCellBlank":if(!t.sheetStubs)break;s={t:"s",v:void 0},u[iu(c=e[0].c)+l]=s,h.s.r>a.r&&(h.s.r=a.r),h.s.c>c&&(h.s.c=c),h.e.r<a.r&&(h.e.r=a.r),h.e.c<c&&(h.e.c=c);break;case"BrtBeginMergeCells":case"BrtEndMergeCells":break;case"BrtMergeCell":E.push(e);break;case"BrtHLink":var m=r["!id"][e.relId];for(m&&(e.Target=m.Target,e.loc&&(e.Target+="#"+e.loc),e.Rel=m),p=e.rfx.s.r;p<=e.rfx.e.r;++p)for(c=e.rfx.s.c;c<=e.rfx.e.c;++c)o=lu({c:c,r:p}),u[o]||(u[o]={t:"s",v:void 0}),u[o].l=e;break;case"BrtArrFmla":case"BrtShrFmla":case"BrtBeginSheet":case"BrtWsProp":case"BrtSheetCalcProp":case"BrtBeginWsViews":case"BrtBeginWsView":case"BrtPane":case"BrtSel":case"BrtEndWsView":case"BrtEndWsViews":case"BrtACBegin":case"BrtRwDescent":case"BrtACEnd":case"BrtWsFmtInfoEx14":case"BrtWsFmtInfo":case"BrtBeginColInfos":case"BrtColInfo":case"BrtEndColInfos":case"BrtBeginSheetData":case"BrtEndSheetData":case"BrtSheetProtection":case"BrtPrintOptions":case"BrtMargins":case"BrtPageSetup":break;case"BrtFRTBegin":d=!0;break;case"BrtFRTEnd":d=!1;break;case"BrtEndSheet":case"BrtDrawing":case"BrtLegacyDrawing":case"BrtLegacyDrawingHF":case"BrtPhoneticInfo":case"BrtBeginHeaderFooter":case"BrtEndHeaderFooter":case"BrtBrk":case"BrtBeginRwBrk":case"BrtEndRwBrk":case"BrtBeginColBrk":case"BrtEndColBrk":case"BrtBeginUserShViews":case"BrtBeginUserShView":case"BrtEndUserShView":case"BrtEndUserShViews":case"BrtBkHim":case"BrtBeginOleObjects":case"BrtOleObject":case"BrtEndOleObjects":case"BrtBeginListParts":case"BrtListPart":case"BrtEndListParts":case"BrtBeginSortState":case"BrtBeginSortCond":case"BrtEndSortCond":case"BrtEndSortState":case"BrtBeginConditionalFormatting":case"BrtEndConditionalFormatting":case"BrtBeginCFRule":case"BrtEndCFRule":case"BrtBeginDVals":case"BrtDVal":case"BrtEndDVals":case"BrtRangeProtection":case"BrtBeginDCon":case"BrtEndDCon":case"BrtBeginDRefs":case"BrtDRef":case"BrtEndDRefs":case"BrtBeginActiveXControls":case"BrtActiveX":case"BrtEndActiveXControls":case"BrtBeginAFilter":case"BrtEndAFilter":case"BrtBeginFilterColumn":case"BrtBeginFilters":case"BrtFilter":case"BrtEndFilters":case"BrtEndFilterColumn":case"BrtDynamicFilter":case"BrtTop10Filter":case"BrtBeginCustomFilters":case"BrtCustomFilter":case"BrtEndCustomFilters":case"BrtBeginSmartTags":case"BrtBeginCellSmartTags":case"BrtBeginCellSmartTag":case"BrtCellSmartTagProperty":case"BrtEndCellSmartTag":case"BrtEndCellSmartTags":case"BrtEndSmartTags":case"BrtBeginCellWatches":case"BrtCellWatch":case"BrtEndCellWatches":case"BrtTable":case"BrtBeginCellIgnoreECs":case"BrtCellIgnoreEC":case"BrtEndCellIgnoreECs":break;default:if(!d||t.WTF)throw new Error("Unexpected record "+p.n)}},t),!u["!ref"]&&(h.s.r<1e6||n.e.r>0||n.e.c>0||n.s.r>0||n.s.c>0)&&(u["!ref"]=uu(n)),t.sheetRows&&u["!ref"]){var p=hu(u["!ref"]);t.sheetRows<+p.e.r&&(p.e.r=t.sheetRows-1,p.e.r>h.e.r&&(p.e.r=h.e.r),p.e.r<p.s.r&&(p.s.r=p.e.r),p.e.c>h.e.c&&(p.e.c=h.e.c),p.e.c<p.s.c&&(p.s.c=p.e.c),u["!fullref"]=u["!ref"],u["!ref"]=uu(p))}return E.length>0&&(u["!merges"]=E),u}:_f)(e,r,n)}function pl(e,t,r){return(".bin"===t.substr(-4)?function(e,t){for(var r in _o.NumberFmt=[],m._table)_o.NumberFmt[r]=m._table[r];_o.CellXf=[];var n="",a=!1;return Le(e,function(e,r,s){switch(r.n){case"BrtFmt":_o.NumberFmt[e[0]]=e[1],m.load(e[1],e[0]);break;case"BrtFont":case"BrtKnownFonts":case"BrtFill":case"BrtBorder":break;case"BrtXF":"CELLXFS"===n&&_o.CellXf.push(e);break;case"BrtStyle":case"BrtDXF":case"BrtMRUColor":case"BrtIndexedColor":case"BrtBeginStyleSheet":case"BrtEndStyleSheet":case"BrtBeginTableStyle":case"BrtTableStyleElement":case"BrtEndTableStyle":break;case"BrtBeginFmts":n="FMTS";break;case"BrtEndFmts":n="";break;case"BrtBeginFonts":n="FONTS";break;case"BrtEndFonts":n="";break;case"BrtACBegin":n="ACFONTS";break;case"BrtACEnd":n="";break;case"BrtBeginFills":n="FILLS";break;case"BrtEndFills":n="";break;case"BrtBeginBorders":n="BORDERS";break;case"BrtEndBorders":n="";break;case"BrtBeginCellStyleXFs":n="CELLSTYLEXFS";break;case"BrtEndCellStyleXFs":n="";break;case"BrtBeginCellXFs":n="CELLXFS";break;case"BrtEndCellXFs":n="";break;case"BrtBeginStyles":n="STYLES";break;case"BrtEndStyles":n="";break;case"BrtBeginDXFs":n="DXFS";break;case"BrtEndDXFs":n="";break;case"BrtBeginTableStyles":n="TABLESTYLES";break;case"BrtEndTableStyles":n="";break;case"BrtBeginColorPalette":n="COLORPALETTE";break;case"BrtEndColorPalette":n="";break;case"BrtBeginIndexedColors":n="INDEXEDCOLORS";break;case"BrtEndIndexedColors":n="";break;case"BrtBeginMRUColors":n="MRUCOLORS";break;case"BrtEndMRUColors":n="";break;case"BrtFRTBegin":a=!0;break;case"BrtFRTEnd":a=!1;break;case"BrtBeginStyleSheetExt14":case"BrtBeginSlicerStyles":case"BrtEndSlicerStyles":case"BrtBeginTimelineStylesheetExt15":case"BrtEndTimelineStylesheetExt15":case"BrtBeginTimelineStyles":case"BrtEndTimelineStyles":case"BrtEndStyleSheetExt14":break;default:if(!a||t.WTF)throw new Error("Unexpected record "+s+" "+r.n)}}),_o}:Go)(e,r)}function ml(e,t,r){return function(e,t){if(!e||0===e.length)return Vo;var r;if(!(r=e.match(Qo)))throw"themeElements not found in theme";return $o(r[0],t),Vo}(e,r)}function Sl(e,t,r){return(".bin"===t.substr(-4)?function(e,t){var r=[],n=!1;return Le(e,function(e,a,s){switch(a.n){case"BrtBeginSst":r.Count=e[0],r.Unique=e[1];break;case"BrtSSTItem":r.push(e);break;case"BrtEndSst":return!0;case"BrtFRTBegin":n=!0;break;case"BrtFRTEnd":n=!1;break;default:if(!n||t.WTF)throw new Error("Unexpected record "+s+" "+a.n)}}),r}:function(e,t){var r,n=[],a=e.match(oo);if(b(a)){r=a[2].replace(fo,"").split(lo);for(var s=0;s!=r.length;++s){var i=co(r[s],t);null!=i&&(n[n.length]=i)}a=L(a[1]),n.Count=a.count,n.Unique=a.uniqueCount}return n})(e,r)}function gl(e,t,r){return(".bin"===t.substr(-4)?function(e,t){var r=[],n=[],a={};return Le(e,function(e,s,i){switch(s.n){case"BrtCommentAuthor":n.push(e);break;case"BrtBeginComment":a=e;break;case"BrtCommentText":a.t=e.t,a.h=e.h,a.r=e.r;break;case"BrtEndComment":if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&t.sheetRows<=a.rfx.r)break;delete a.rfx,r.push(a);break;case"BrtBeginComments":case"BrtEndComments":case"BrtBeginCommentAuthors":case"BrtEndCommentAuthors":case"BrtBeginCommentList":case"BrtEndCommentList":break;default:throw new Error("Unexpected record "+i+" "+s.n)}}),r}:function(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[];return e.match(/<(?:\w+:)?authors>([^\u2603]*)<\/(?:\w+:)?authors>/)[1].split(/<\/\w*:?author>/).forEach(function(e){""!==e&&""!==e.trim()&&r.push(e.match(/<(?:\w+:)?author[^>]*>(.*)/)[1])}),(e.match(/<(?:\w+:)?commentList>([^\u2603]*)<\/(?:\w+:)?commentList>/)||["",""])[1].split(/<\/\w*:?comment>/).forEach(function(e,a){if(""!==e&&""!==e.trim()){var s=L(e.match(/<(?:\w+:)?comment[^>]*>/)[0]),i={author:s.authorId&&r[s.authorId]?r[s.authorId]:void 0,ref:s.ref,guid:s.guid},c=fu(s.ref);if(!(t.sheetRows&&t.sheetRows<=c.r)){var o=e.match(/<text>([^\u2603]*)<\/text>/);if(o&&o[1]){var f=co(o[1]);i.r=f.r,i.t=f.t,t.cellHTML&&(i.h=f.h),n.push(i)}}}}),n})(e,r)}function Cl(e,t,r){return(".bin"===t.substr(-4)?function(e,t){var r=[];return Le(e,function(e,t,n){switch(t.n){case"BrtCalcChainItem$":r.push(e);break;case"BrtBeginCalcChain$":case"BrtEndCalcChain$":break;default:throw new Error("Unexpected record "+n+" "+t.n)}}),r}:function(e,t){var r=[],n=1;return(e.match(F)||[]).forEach(function(e){var t=L(e);switch(t[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete t[0],t.i?n=t.i:t.i=n,r.push(t)}}),r})(e,r)}function Tl(e,t,r,n){return(".bin"===t.substr(-4)?el:zf)(e,r,n)}function bl(e,t,r){return(".bin"===t.substr(-4)?function(e,t){var r=Me();return ye(r,"BrtBeginStyleSheet"),ye(r,"BrtEndStyleSheet"),r.end()}:Ko)(e,r)}function vl(e,t,r){return(".bin"===t.substr(-4)?Bo:function(e,t){if(!t.bookSST)return"";var r=[Ce];r[r.length]=se("sst",null,{xmlns:Te.main[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(null!=e[n]){var a=e[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t.match(uo)&&(s+=' xml:space="preserve"'),s+=">"+G(a.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")})(e,r)}var Il=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Rl=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/,Dl=function(e){return String.fromCharCode(e)};function Ol(e,t){var r=e.split(/\s+/),n=[];if(t||(n[0]=r[0]),1===r.length)return n;var a,s,i,c=e.match(Il);if(c)for(i=0;i!=c.length;++i)-1===(s=(a=c[i].match(Rl))[1].indexOf(":"))?n[a[1]]=a[2].substr(1,a[2].length-2):n["xmlns:"===a[1].substr(0,6)?"xmlns"+a[1].substr(6):a[1].substr(s+1)]=a[2].substr(1,a[2].length-2);return n}function Al(e){var t={};if(1===e.split(/\s+/).length)return t;var r,n,a,s=e.match(Il);if(s)for(a=0;a!=s.length;++a)-1===(n=(r=s[a].match(Rl))[1].indexOf(":"))?t[r[1]]=r[2].substr(1,r[2].length-2):t["xmlns:"===r[1].substr(0,6)?"xmlns"+r[1].substr(6):r[1].substr(n+1)]=r[2].substr(1,r[2].length-2);return t}function Pl(e,t,r,n){switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=K(n);break;case"i2":case"int":n=parseInt(n,10);break;case"r4":case"float":n=parseFloat(n);break;case"date":case"dateTime.tz":n=new Date(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw"bad custprop:"+r[0]}e[U(t[3])]=n}function xl(e,t,r){try{"e"===e.t?e.w=e.w||Ze[e.v]:"General"===t?"n"===e.t?(0|e.v)===e.v?e.w=m._general_int(e.v):e.w=m._general_num(e.v):e.w=m._general(e.v):e.w=(n=t||"General",a=e.v,"General"===(s=C[n]||U(n))?m._general(a):m.format(s,a)),r.cellNF&&(e.z=C[t]||t||"General")}catch(e){if(r.WTF)throw e}var n,a,s}function kl(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=yo[n.Pattern]||n.Pattern)}e[t.ID]=t}function Fl(e,t,r,n,a,s,i,c,o){var f="General",l=n.StyleID,u={};o=o||{};var h=[];for(void 0===l&&c&&(l=c.StyleID),void 0===l&&i&&(l=i.StyleID);void 0!==s[l]&&(s[l].nf&&(f=s[l].nf),s[l].Interior&&h.push(s[l].Interior),s[l].Parent);)l=s[l].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=K(e);break;case"String":n.t="s",n.r=W(U(e)),n.v=e.indexOf("<")>-1?t:n.r;break;case"DateTime":n.v=(Date.parse(e)-new Date(Date.UTC(1899,11,30)))/864e5,n.v!=n.v?n.v=U(e):n.v>=1&&n.v<60&&(n.v=n.v-1),f&&"General"!=f||(f="yyyy-mm-dd");case"Number":void 0===n.v&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=qe[e],n.w=e;break;default:n.t="s",n.v=W(t)}xl(n,f,o),null!=o.cellFormula&&n.Formula&&(n.f=rf(U(n.Formula),a),n.Formula=void 0),o.cellStyles&&(h.forEach(function(e){!u.patternType&&e.patternType&&(u.patternType=e.patternType)}),n.s=u),n.ixfe=void 0!==n.StyleID?n.StyleID:"Default"}function wl(e){e.t=e.v,e.v=e.w=e.ixfe=void 0}var Nl=/<(\/?)([a-z0-9]*:|)(\w+)[^>]*>/gm;function Ll(e,t){var r,n,a,s,i,c=function(e){if(u&&Buffer.isBuffer(e))return e.toString("utf8");if("string"==typeof e)return e;throw"badf"}(e),o=[],f={},l=[],h={},d="",B={},E={},p=0,S=0,g={s:{r:1e6,c:1e6},e:{r:0,c:0}},C={},T={},b="",v=0,I=[],R={},D={},O=0,A={},P=[],x={},k=[];for(Nl.lastIndex=0;r=Nl.exec(c);)switch(r[3]){case"Data":if(o[o.length-1][1])break;"/"===r[1]?Fl(c.slice(s,r.index),b,a,"Comment"==o[o.length-1][0]?x:B,{c:p,r:S},C,k[p],E,t):(b="",a=Ol(r[0]),s=r.index+r[0].length);break;case"Cell":if("/"===r[1]){if(P.length>0&&(B.c=P),(!t.sheetRows||t.sheetRows>S)&&void 0!==B.v&&(h[iu(p)+nu(S)]=B),B.HRef&&(B.l={Target:B.HRef,tooltip:B.HRefScreenTip},B.HRef=B.HRefScreenTip=void 0),B.MergeAcross||B.MergeDown){var F=p+(0|parseInt(B.MergeAcross,10)),w=S+(0|parseInt(B.MergeDown,10));I.push({s:{c:p,r:S},e:{c:F,r:w}})}++p,B.MergeAcross&&(p+=+B.MergeAcross)}else(B=Al(r[0])).Index&&(p=+B.Index-1),p<g.s.c&&(g.s.c=p),p>g.e.c&&(g.e.c=p),"/>"===r[0].substr(-2)&&++p,P=[];break;case"Row":"/"===r[1]||"/>"===r[0].substr(-2)?(S<g.s.r&&(g.s.r=S),S>g.e.r&&(g.e.r=S),"/>"===r[0].substr(-2)&&(E=Ol(r[0])).Index&&(S=+E.Index-1),p=0,++S):(E=Ol(r[0])).Index&&(S=+E.Index-1);break;case"Worksheet":if("/"===r[1]){if((n=o.pop())[0]!==r[3])throw"Bad state: "+n;l.push(d),g.s.r<=g.e.r&&g.s.c<=g.e.c&&(h["!ref"]=uu(g)),I.length&&(h["!merges"]=I),f[d]=h}else g={s:{r:1e6,c:1e6},e:{r:0,c:0}},S=p=0,o.push([r[3],!1]),d=(n=Ol(r[0])).Name,h={},I=[];break;case"Table":if("/"===r[1]){if((n=o.pop())[0]!==r[3])throw"Bad state: "+n}else{if("/>"==r[0].slice(-2))break;Ol(r[0]),o.push([r[3],!1]),k=[]}break;case"Style":"/"===r[1]?kl(C,T,t):T=Ol(r[0]);break;case"NumberFormat":T.nf=Ol(r[0]).Format||"General";break;case"Column":if("Table"!==o[o.length-1][0])break;k[(i=Ol(r[0])).Index-1||k.length]=i;for(var N=0;N<+i.Span;++N)k[k.length]=i;break;case"NamedRange":case"NamedCell":case"B":case"I":case"U":case"S":case"Sub":case"Sup":case"Span":case"Border":case"Alignment":case"Borders":break;case"Font":if("/>"===r[0].substr(-2))break;"/"===r[1]?b+=c.slice(v,r.index):v=r.index+r[0].length;break;case"Interior":if(!t.cellStyles)break;T.Interior=Ol(r[0]);break;case"Protection":break;case"Author":case"Title":case"Description":case"Created":case"Keywords":case"Subject":case"Category":case"Company":case"LastAuthor":case"LastSaved":case"LastPrinted":case"Version":case"Revision":case"TotalTime":case"HyperlinkBase":case"Manager":if("/>"===r[0].substr(-2))break;"/"===r[1]?Pt(R,r[3],c.slice(O,r.index)):O=r.index+r[0].length;break;case"Paragraphs":break;case"Styles":case"Workbook":
if("/"===r[1]){if((n=o.pop())[0]!==r[3])throw"Bad state: "+n}else o.push([r[3],!1]);break;case"Comment":if("/"===r[1]){if((n=o.pop())[0]!==r[3])throw"Bad state: "+n;wl(x),P.push(x)}else o.push([r[3],!1]),x={a:(n=Ol(r[0])).Author};break;case"Name":break;case"ComponentOptions":case"DocumentProperties":case"CustomDocumentProperties":case"OfficeDocumentSettings":case"PivotTable":case"PivotCache":case"Names":case"MapInfo":case"PageBreaks":case"QueryTable":case"DataValidation":case"AutoFilter":case"Sorting":case"Schema":case"data":case"ConditionalFormatting":case"SmartTagType":case"SmartTags":case"ExcelWorkbook":case"WorkbookOptions":case"WorksheetOptions":if("/"===r[1]){if((n=o.pop())[0]!==r[3])throw"Bad state: "+n}else"/"!==r[0].charAt(r[0].length-2)&&o.push([r[3],!0]);break;default:var L=!0;switch(o[o.length-1][0]){case"OfficeDocumentSettings":switch(r[3]){case"AllowPNG":case"RemovePersonalInformation":case"DownloadComponents":case"LocationOfComponents":case"Colors":case"Color":case"Index":case"RGB":case"PixelsPerInch":case"TargetScreenSize":case"ReadOnlyRecommended":break;default:L=!1}break;case"ComponentOptions":switch(r[3]){case"Toolbar":case"HideOfficeLogo":case"SpreadsheetAutoFit":case"Label":case"Caption":case"MaxHeight":case"MaxWidth":case"NextSheetNumber":break;default:L=!1}break;case"ExcelWorkbook":switch(r[3]){case"WindowHeight":case"WindowWidth":case"WindowTopX":case"WindowTopY":case"TabRatio":case"ProtectStructure":case"ProtectWindows":case"ActiveSheet":case"DisplayInkNotes":case"FirstVisibleSheet":case"SupBook":case"SheetName":case"SheetIndex":case"SheetIndexFirst":case"SheetIndexLast":case"Dll":case"AcceptLabelsInFormulas":case"DoNotSaveLinkValues":case"Date1904":case"Iteration":case"MaxIterations":case"MaxChange":case"Path":case"Xct":case"Count":case"SelectedSheets":case"Calculation":case"Uncalced":case"StartupPrompt":case"Crn":case"ExternName":case"Formula":case"ColFirst":case"ColLast":case"WantAdvise":case"Boolean":case"Error":case"Text":case"OLE":case"NoAutoRecover":case"PublishObjects":case"DoNotCalculateBeforeSave":case"Number":case"RefModeR1C1":case"EmbedSaveSmartTags":break;default:L=!1}break;case"WorkbookOptions":switch(r[3]){case"OWCVersion":case"Height":case"Width":break;default:L=!1}break;case"WorksheetOptions":switch(r[3]){case"Unsynced":case"Visible":case"Print":case"Panes":case"Scale":case"Pane":case"Number":case"Layout":case"Header":case"Footer":case"PageSetup":case"PageMargins":case"Selected":case"ProtectObjects":case"EnableSelection":case"ProtectScenarios":case"ValidPrinterInfo":case"HorizontalResolution":case"VerticalResolution":case"NumberofCopies":case"ActiveRow":case"ActiveCol":case"ActivePane":case"TopRowVisible":case"TopRowBottomPane":case"LeftColumnVisible":case"LeftColumnRightPane":case"FitToPage":case"RangeSelection":case"PaperSizeIndex":case"PageLayoutZoom":case"PageBreakZoom":case"FilterOn":case"DoNotDisplayGridlines":case"SplitHorizontal":case"SplitVertical":case"FreezePanes":case"FrozenNoSplit":case"FitWidth":case"FitHeight":case"CommentsLayout":case"Zoom":case"LeftToRight":case"Gridlines":case"AllowSort":case"AllowFilter":case"AllowInsertRows":case"AllowDeleteRows":case"AllowInsertCols":case"AllowDeleteCols":case"AllowInsertHyperlinks":case"AllowFormatCells":case"AllowSizeCols":case"AllowSizeRows":case"NoSummaryRowsBelowDetail":case"TabColorIndex":case"DoNotDisplayHeadings":case"ShowPageLayoutZoom":case"NoSummaryColumnsRightDetail":case"BlackAndWhite":case"DoNotDisplayZeros":case"DisplayPageBreak":case"RowColHeadings":case"DoNotDisplayOutline":case"NoOrientation":case"AllowUsePivotTables":case"ZeroHeight":case"ViewableRange":case"Selection":case"ProtectContents":break;default:L=!1}break;case"PivotTable":case"PivotCache":switch(r[3]){case"ImmediateItemsOnDrop":case"ShowPageMultipleItemLabel":case"CompactRowIndent":case"Location":case"PivotField":case"Orientation":case"LayoutForm":case"LayoutSubtotalLocation":case"LayoutCompactRow":case"Position":case"PivotItem":case"DataType":case"DataField":case"SourceName":case"ParentField":case"PTLineItems":case"PTLineItem":case"CountOfSameItems":case"Item":case"ItemType":case"PTSource":case"CacheIndex":case"ConsolidationReference":case"FileName":case"Reference":case"NoColumnGrand":case"NoRowGrand":case"BlankLineAfterItems":case"Hidden":case"Subtotal":case"BaseField":case"MapChildItems":case"Function":case"RefreshOnFileOpen":case"PrintSetTitles":case"MergeLabels":case"DefaultVersion":case"RefreshName":case"RefreshDate":case"RefreshDateCopy":case"VersionLastRefresh":case"VersionLastUpdate":case"VersionUpdateableMin":case"VersionRefreshableMin":case"Calculation":break;default:L=!1}break;case"PageBreaks":switch(r[3]){case"ColBreaks":case"ColBreak":case"RowBreaks":case"RowBreak":case"ColStart":case"ColEnd":case"RowEnd":break;default:L=!1}break;case"AutoFilter":switch(r[3]){case"AutoFilterColumn":case"AutoFilterCondition":case"AutoFilterAnd":case"AutoFilterOr":break;default:L=!1}break;case"QueryTable":switch(r[3]){case"Id":case"AutoFormatFont":case"AutoFormatPattern":case"QuerySource":case"QueryType":case"EnableRedirections":case"RefreshedInXl9":case"URLString":case"HTMLTables":case"Connection":case"CommandText":case"RefreshInfo":case"NoTitles":case"NextId":case"ColumnInfo":case"OverwriteCells":case"DoNotPromptForFile":case"TextWizardSettings":case"Source":case"Number":case"Decimal":case"ThousandSeparator":case"TrailingMinusNumbers":case"FormatSettings":case"FieldType":case"Delimiters":case"Tab":case"Comma":case"AutoFormatName":case"VersionLastEdit":case"VersionLastRefresh":break;default:L=!1}break;case"Sorting":case"ConditionalFormatting":case"DataValidation":switch(r[3]){case"Range":case"Type":case"Min":case"Max":case"Sort":case"Descending":case"Order":case"CaseSensitive":case"Value":case"ErrorStyle":case"ErrorMessage":case"ErrorTitle":case"CellRangeList":case"InputMessage":case"InputTitle":case"ComboHide":case"InputHide":case"Condition":case"Qualifier":case"UseBlank":case"Value1":case"Value2":case"Format":break;default:L=!1}break;case"MapInfo":case"Schema":case"data":switch(r[3]){case"Map":case"Entry":case"Range":case"XPath":case"Field":case"XSDType":case"FilterOn":case"Aggregate":case"ElementType":case"AttributeType":break;case"schema":case"element":case"complexType":case"datatype":case"all":case"attribute":case"extends":case"row":break;default:L=!1}break;case"SmartTags":break;default:L=!1}if(L)break;if(!o[o.length-1][1])throw"Unrecognized tag: "+r[3]+"|"+o.join("|");if("CustomDocumentProperties"===o[o.length-1][0]){if("/>"===r[0].substr(-2))break;"/"===r[1]?Pl(D,r,A,c.slice(O,r.index)):(A=r,O=r.index+r[0].length);break}if(t.WTF)throw"Unrecognized tag: "+r[3]+"|"+o.join("|")}var M={};return t.bookSheets||t.bookProps||(M.Sheets=f),M.SheetNames=l,M.SSF=m.get_table(),M.Props=R,M.Custprops=D,M}function Ml(e,t,r,n){var a=r,s=[],i=t.slice(t.l,t.l+a);if(n&&n.enc&&n.enc.insitu_decrypt)switch(e.n){case"BOF":case"FilePass":case"FileLock":case"InterfaceHdr":case"RRDInfo":case"RRDHead":case"UsrExcl":break;default:if(0===i.length)break;n.enc.insitu_decrypt(i)}s.push(i),t.l+=a;for(var c=Gl[Ie(t,t.l)];null!=c&&"Continue"===c.n;)a=Ie(t,t.l+2),s.push(t.slice(t.l+4,t.l+4+a)),t.l+=4+a,c=Gl[Ie(t,t.l)];var o=B(s);Fe(o,0);var f=0;o.lens=[];for(var l=0;l<s.length;++l)o.lens.push(f),f+=s[l].length;return e.f(o,o.length,n)}function yl(e,t,r){if(e.XF)try{var n=e.XF.ifmt||0;"e"===e.t?e.w=e.w||Ze[e.v]:0===n?"n"===e.t?(0|e.v)===e.v?e.w=m._general_int(e.v):e.w=m._general_num(e.v):e.w=m._general(e.v):e.w=m.format(n,e.v,{date1904:r||!1}),t.cellNF&&(e.z=m._table[n])}catch(e){if(t.WTF)throw e}}function _l(e,t,r){return{v:e,ixfe:t,t:r}}function Vl(e,t){var r,n,a,i,c,o,f,l,u={opts:{}},h={},d={},B={},E={},p=null,S=[],g="",C={},T={},b=[],v=!0,I=[],R=[],D=function(e){return e<8?lt[e]:e<64&&R[e-8]||lt[e]},O=function(e,t,a){v&&(a.cellStyles&&t.XF&&t.XF.data&&function(e,t){var r,n=t.XF.data;n&&n.patternType&&(t.s={},t.s.patternType=n.patternType,(r=Do(D(n.icvFore)))&&(t.s.fgColor={rgb:r}),(r=Do(D(n.icvBack)))&&(t.s.bgColor={rgb:r}))}(0,t),r=e,n=lu(e),E.s&&(e.r<E.s.r&&(E.s.r=e.r),e.c<E.s.c&&(E.s.c=e.c)),E.e&&(e.r+1>E.e.r&&(E.e.r=e.r+1),e.c+1>E.e.c&&(E.e.c=e.c+1)),a.sheetRows&&r.r>=a.sheetRows?v=!1:d[n]=t)},A={enc:!1,sbcch:0,snames:[],sharedf:T,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,wtf:!1};t.password&&(A.password=t.password);var P=[],x=[],k=[[]],F=0,w=0,N=0;k.SheetNames=A.snames,k.sharedf=A.sharedf,k.arrayf=A.arrayf;var L="",M=0;for(A.codepage=1200,s(1200);e.l<e.length-1;){var y=e.l,_=e.read_shift(2);if(0===_&&"EOF"===L)break;var V=e.l===e.length?0:e.read_shift(2),U=Gl[_];if(U&&U.f){if(t.bookSheets&&"BoundSheet8"===L&&"BoundSheet8"!==U.n)break;if(L=U.n,2===U.r||12==U.r){var H=e.read_shift(2);if(V-=2,!A.enc&&H!==_)throw"rt mismatch";12==U.r&&(e.l+=10,V-=10)}var X;X="EOF"===U.n?U.f(e,V,A):Ml(U,e,V,A);var G=U.n;if(5===A.biff||2===A.biff)switch(G){case"Lbl":G="Label"}switch(G){case"Date1904":u.opts.Date1904=X;break;case"WriteProtect":u.opts.WriteProtect=!0;break;case"FilePass":if(A.enc||(e.l=0),A.enc=X,A.WTF&&console.error(X),!t.password)throw new Error("File is password-protected");if(0!==X.Type)throw new Error("Encryption scheme unsupported");if(!X.valid)throw new Error("Password is incorrect");break;case"WriteAccess":A.lastuser=X;break;case"FileSharing":break;case"CodePage":21010===X?X=1200:32769===X&&(X=1252),A.codepage=X,s(X);break;case"RRTabId":A.rrtabid=X;break;case"WinProtect":A.winlocked=X;break;case"Template":break;case"RefreshAll":u.opts.RefreshAll=X;break;case"BookBool":case"UsesELFs":break;case"MTRSettings":if(X[0]&&X[1])throw"Unsupported threads: "+X;break;case"CalcCount":u.opts.CalcCount=X;break;case"CalcDelta":u.opts.CalcDelta=X;break;case"CalcIter":u.opts.CalcIter=X;break;case"CalcMode":u.opts.CalcMode=X;break;case"CalcPrecision":u.opts.CalcPrecision=X;break;case"CalcSaveRecalc":u.opts.CalcSaveRecalc=X;break;case"CalcRefMode":A.CalcRefMode=X;break;case"Uncalced":break;case"ForceFullCalculation":u.opts.FullCalc=X;break;case"WsBool":break;case"XF":I.push(X);break;case"ExtSST":case"BookExt":case"RichTextStream":case"BkHim":break;case"SupBook":k[++F]=[X],w=0;break;case"ExternName":k[F][++w]=X;break;case"Index":break;case"Lbl":k[0][++N]=X;break;case"ExternSheet":k[F]=k[F].concat(X),w+=X.length;break;case"Protect":d["!protect"]=X;break;case"Password":0!==X&&A.WTF&&console.error("Password verifier: "+X);break;case"Prot4Rev":case"Prot4RevPass":break;case"BoundSheet8":B[X.pos]=X,A.snames.push(X.name);break;case"EOF":if(--M)break;E.e&&(d["!range"]=E,E.e.r>0&&E.e.c>0&&(E.e.r--,E.e.c--,d["!ref"]=uu(E),E.e.r++,E.e.c++),P.length>0&&(d["!merges"]=P),x.length>0&&(d["!objects"]=x)),""===g?C=d:h[g]=d,d={};break;case"BOF":if(8!==A.biff||(1280===X.BIFFVer?A.biff=5:2===X.BIFFVer?A.biff=2:7===X.BIFFVer&&(A.biff=2)),M++)break;v=!0,d={},2===A.biff?(""===g&&(g="Sheet1"),E={s:{r:0,c:0},e:{r:0,c:0}}):g=(B[y]||{name:""}).name,P=[],x=[];break;case"Number":case"BIFF2NUM":(f={ixfe:X.ixfe,XF:I[X.ixfe],v:X.val,t:"n"}).XF&&yl(f,t,u.opts.Date1904),O({c:X.c,r:X.r},f,t);break;case"BoolErr":(f={ixfe:X.ixfe,XF:I[X.ixfe],v:X.val,t:X.t}).XF&&yl(f,t,u.opts.Date1904),O({c:X.c,r:X.r},f,t);break;case"RK":(f={ixfe:X.ixfe,XF:I[X.ixfe],v:X.rknum,t:"n"}).XF&&yl(f,t,u.opts.Date1904),O({c:X.c,r:X.r},f,t);break;case"MulRk":for(var W=X.c;W<=X.C;++W){var K=X.rkrec[W-X.c][0];(f={ixfe:K,XF:I[K],v:X.rkrec[W-X.c][1],t:"n"}).XF&&yl(f,t,u.opts.Date1904),O({c:W,r:X.r},f,t)}break;case"Formula":switch(X.val){case"String":p=X;break;case"Array Formula":throw"Array Formula unsupported";default:(f={v:X.val,ixfe:X.cell.ixfe,t:X.tt}).XF=I[f.ixfe],t.cellFormula&&(f.f="="+bf(X.formula,E,X.cell,k,A)),f.XF&&yl(f,t,u.opts.Date1904),O(X.cell,f,t),p=X}break;case"String":p&&(p.val=X,(f={v:p.val,ixfe:p.cell.ixfe,t:"s"}).XF=I[f.ixfe],t.cellFormula&&(f.f="="+bf(p.formula,E,p.cell,k,A)),f.XF&&yl(f,t,u.opts.Date1904),O(p.cell,f,t),p=null);break;case"Array":b.push(X);break;case"ShrFmla":if(!v)break;T[lu(p.cell)]=X[0];break;case"LabelSst":(f=_l(S[X.isst].t,X.ixfe,"s")).XF=I[f.ixfe],f.XF&&yl(f,t,u.opts.Date1904),O({c:X.c,r:X.r},f,t);break;case"Label":case"BIFF2STR":(f=_l(X.val,X.ixfe,"s")).XF=I[f.ixfe],f.XF&&yl(f,t,u.opts.Date1904),O({c:X.c,r:X.r},f,t);break;case"Dimensions":1===M&&(E=X);break;case"SST":S=X;break;case"Format":m.load(X[1],X[0]);break;case"MergeCells":P=P.concat(X);break;case"Obj":x[X.cmo[0]]=A.lastobj=X;break;case"TxO":A.lastobj.TxO=X;break;case"HLink":for(o=X[0].s.r;o<=X[0].e.r;++o)for(c=X[0].s.c;c<=X[0].e.c;++c)d[lu({c:c,r:o})]&&(d[lu({c:c,r:o})].l=X[1]);break;case"HLinkTooltip":for(o=X[0].s.r;o<=X[0].e.r;++o)for(c=X[0].s.c;c<=X[0].e.c;++c)d[lu({c:c,r:o})]&&(d[lu({c:c,r:o})].l.tooltip=X[1]);break;case"Note":if(A.biff<=5&&A.biff>=2)break;a=d[lu(X[0])];var j=x[X[2]];if(!a)break;a.c||(a.c=[]),i={a:X[1],t:j.TxO.t},a.c.push(i);break;default:switch(U.n){case"ClrtClient":break;case"XFExt":I[X.ixfe],X.ext.forEach(function(e){switch(e[0]){case 4:case 5:break;case 7:case 8:case 9:case 10:case 13:case 14:break;default:throw"bafuq"+e[0].toString(16)}});break;case"NameCmt":case"Header":case"Footer":case"HCenter":case"VCenter":case"Pls":case"Setup":case"DefColWidth":case"GCW":case"LHRecord":case"ColInfo":case"Row":case"DBCell":case"MulBlank":case"EntExU2":case"SxView":case"Sxvd":case"SXVI":case"SXVDEx":case"SxIvd":case"SXDI":case"SXLI":case"SXEx":case"QsiSXTag":case"Selection":case"Feat":break;case"FeatHdr":case"FeatHdr11":break;case"Feature11":case"Feature12":case"List12":case"Blank":break;case"Country":l=X;break;case"RecalcId":break;case"DefaultRowHeight":case"DxGCol":break;case"Fbi":case"Fbi2":case"GelFrame":case"Font":case"XFCRC":case"Style":case"StyleExt":break;case"Palette":R=X;break;case"Theme":case"ScenarioProtect":case"ObjProtect":case"CondFmt12":case"Table":case"TableStyles":case"TableStyle":case"TableStyleElement":case"SXStreamID":case"SXVS":case"DConRef":case"SXAddl":case"DConBin":case"DConName":case"SXPI":case"SxFormat":case"SxSelect":case"SxRule":case"SxFilt":case"SxItm":case"SxDXF":case"ScenMan":case"DCon":case"CellWatch":case"PrintRowCol":case"PrintGrid":case"PrintSize":case"XCT":case"CRN":case"Scl":case"SheetExt":case"SheetExtOptional":case"ObNoMacros":case"ObProj":case"CodeName":case"GUIDTypeLib":case"WOpt":case"PhoneticInfo":case"OleObjectSize":break;case"DXF":case"DXFN":case"DXFN12":case"DXFN12List":case"DXFN12NoCB":break;case"Dv":case"DVal":break;case"BRAI":case"Series":case"SeriesText":case"DConn":case"DbOrParamQry":case"DBQueryExt":case"IFmtRecord":break;case"CondFmt":case"CF":case"CF12":case"CFEx":case"Excel9File":case"Units":break;case"InterfaceHdr":case"Mms":case"InterfaceEnd":case"DSF":case"BuiltInFnGroupCount":case"Window1":case"Window2":case"HideObj":case"GridSet":case"Guts":case"UserBView":case"UserSViewBegin":case"UserSViewEnd":case"Pane":break;default:switch(U.n){case"Dat":case"Begin":case"End":case"StartBlock":case"EndBlock":case"Frame":case"Area":case"Axis":case"AxisLine":case"Tick":break;case"AxesUsed":case"CrtLayout12":case"CrtLayout12A":case"CrtLink":case"CrtLine":case"CrtMlFrt":case"CrtMlFrtContinue":break;case"LineFormat":case"AreaFormat":case"Chart":case"Chart3d":case"Chart3DBarShape":case"ChartFormat":case"ChartFrtInfo":break;case"PlotArea":case"PlotGrowth":break;case"SeriesList":case"SerParent":case"SerAuxTrend":break;case"DataFormat":case"SerToCrt":case"FontX":break;case"CatSerRange":case"AxcExt":case"SerFmt":case"ShtProps":break;case"DefaultText":case"Text":case"CatLab":case"DataLabExtContents":break;case"Legend":case"LegendException":break;case"Pie":case"Scatter":break;case"PieFormat":case"MarkerFormat":break;case"StartObject":case"EndObject":break;case"AlRuns":case"ObjectLink":case"SIIndex":break;case"AttachedLabel":case"YMult":break;case"Line":case"Bar":case"Surf":case"AxisParent":case"Pos":case"ValueRange":case"SXViewEx9":case"SXViewLink":case"PivotChartBits":case"SBaseRef":case"TextPropsStream":case"LnExt":case"MkrExt":case"CrtCoopt":break;case"Qsi":case"Qsif":case"Qsir":case"QsiSXTag":case"TxtQry":case"FilterMode":break;case"AutoFilter":case"AutoFilterInfo":case"AutoFilter12":case"DropDownObjIds":case"Sort":case"SortData":case"ShapePropsStream":break;case"MsoDrawing":case"MsoDrawingGroup":case"MsoDrawingSelection":case"ImData":break;case"WebPub":case"AutoWebPub":case"RightMargin":case"LeftMargin":case"TopMargin":case"BottomMargin":case"HeaderFooter":case"HFPicture":case"PLV":case"HorizontalPageBreaks":case"VerticalPageBreaks":case"Backup":case"CompressPictures":case"Compat12":break;case"Continue":case"ContinueFrt12":break;case"FrtFontList":case"FrtWrapper":case"ExternCount":case"RString":break;case"TabIdConf":case"Radar":case"RadarArea":case"DropBar":case"Intl":case"CoordList":case"SerAuxErrBar":break;default:switch(U.n){case"SCENARIO":case"DConBin":case"PicF":case"DataLabExt":case"Lel":case"BopPop":case"BopPopCustom":case"RealTimeData":case"Name":break;default:if(t.WTF)throw"Unrecognized Record "+U.n}}}}}else e.l+=V}var Y=2===A.biff?["Sheet1"]:Object.keys(B).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return B[e].name});Y.slice();return u.Directory=Y,u.SheetNames=Y,t.bookSheets||(u.Sheets=h),u.Preamble=C,u.Strings=S,u.SSF=m.get_table(),A.enc&&(u.Encryption=A.enc),u.Metadata={},void 0!==l&&(u.Metadata.Country=l),u}function Ul(e,t){var r,n,s,i;if(t||(t={}),Kl(t),a(),e.find?(r=e.find("!CompObj"),e.find("!SummaryInformation"),n=e.find("/Workbook")):(Fe(e,0),n={content:e}),n||(n=e.find("/Book")),r&&(s=function(e){var t,r={},n=e.content,a=28;switch(t=Be(n,a),a+=4+De(n,a),r.UserType=t,t=De(n,a),a+=4,t){case 0:break;case 4294967295:case 4294967294:a+=4;break;default:if(t>400)throw new Error("Unsupported Clipboard: "+t.toString(16));a+=t}if(a+=0===(t=Be(n,a)).length?0:5+t.length,r.Reserved1=t,1907550708!==(t=De(n,a)))return r;throw"Unsupported Unicode Extension"}(r)),t.bookProps&&!t.bookSheets)i={};else{if(!n)throw new Error("Cannot find Workbook stream");i=Vl(n.content,t,n.find)}e.find&&function(e){var t=e.find("!DocumentSummaryInformation");if(t)try{e.DocSummary=Ht(t,at)}catch(e){}var r=e.find("!SummaryInformation");if(r)try{e.Summary=Ht(r,st)}catch(e){}}(e);var c={};for(var o in e.Summary)c[o]=e.Summary[o];for(o in e.DocSummary)c[o]=e.DocSummary[o];return i.Props=i.Custprops=c,t.bookFiles&&(i.cfb=e),i.CompObjP=s,i}var Hl={0:{n:"BrtRowHdr",f:function(e,t){var r=[];return r.r=e.read_shift(4),e.l+=t-4,r}},1:{n:"BrtCellBlank",f:function(e,t){return[Xe(e)]}},2:{n:"BrtCellRk",f:function(e,t){return[Xe(e),ze(e),"n"]}},3:{n:"BrtCellError",f:function(e,t){return[Xe(e),e.read_shift(1),"e"]}},4:{n:"BrtCellBool",f:function(e,t){return[Xe(e),e.read_shift(1),"b"]}},5:{n:"BrtCellReal",f:function(e,t){return[Xe(e),Qe(e),"n"]}},6:{n:"BrtCellSt",f:function(e,t){return[Xe(e),We(e),"str"]}},7:{n:"BrtCellIsst",f:function(e,t){return[Xe(e),e.read_shift(4),"s"]}},8:{n:"BrtFmlaString",f:function(e,t,r){var n=e.l,a=[Xe(e),We(e),"str"];r.cellFormula?vf(e,n+t-e.l):e.l=n+t;return a}},9:{n:"BrtFmlaNum",f:function(e,t,r){var n=[Xe(e),Qe(e),"n"];r.cellFormula?(vf(e,t-16),n[3]=""):e.l+=t-16;return n}},10:{n:"BrtFmlaBool",f:function(e,t,r){var n=[Xe(e),e.read_shift(1),"b"];r.cellFormula?(vf(e,t-9),n[3]=""):e.l+=t-9;return n}},11:{n:"BrtFmlaError",f:function(e,t,r){var n=[Xe(e),e.read_shift(1),"e"];r.cellFormula?(vf(e,t-9),n[3]=""):e.l+=t-9;return n}},16:{n:"BrtFRTArchID$",f:function(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}},19:{n:"BrtSSTItem",f:He},20:{n:"BrtPCDIMissing",f:we},21:{n:"BrtPCDINumber",f:we},22:{n:"BrtPCDIBoolean",f:we},23:{n:"BrtPCDIError",f:we},24:{n:"BrtPCDIString",f:we},25:{n:"BrtPCDIDatetime",f:we},26:{n:"BrtPCDIIndex",f:we},27:{n:"BrtPCDIAMissing",f:we},28:{n:"BrtPCDIANumber",f:we},29:{n:"BrtPCDIABoolean",f:we},30:{n:"BrtPCDIAError",f:we},31:{n:"BrtPCDIAString",f:we},32:{n:"BrtPCDIADatetime",f:we},33:{n:"BrtPCRRecord",f:we},34:{n:"BrtPCRRecordDt",f:we},35:{n:"BrtFRTBegin",f:we},36:{n:"BrtFRTEnd",f:we},37:{n:"BrtACBegin",f:we},38:{n:"BrtACEnd",f:we},39:{n:"BrtName",f:we},40:{n:"BrtIndexRowBlock",f:we},42:{n:"BrtIndexBlock",f:we},43:{n:"BrtFont",f:function(e,t){var r={flags:{}};return r.dyHeight=e.read_shift(2),r.grbit=function(e,t){var r=e.read_shift(1);return e.l++,{fItalic:2&r,fStrikeout:8&r,fOutline:16&r,fShadow:32&r,fCondense:64&r,fExtend:128&r}}(e),r.bls=e.read_shift(2),r.sss=e.read_shift(2),r.uls=e.read_shift(1),r.bFamily=e.read_shift(1),r.bCharSet=e.read_shift(1),e.l++,r.brtColor=function(e,t){var r={},n=e.read_shift(1);r.fValidRGB=1&n,r.xColorType=n>>>1,r.index=e.read_shift(1),r.nTintAndShade=e.read_shift(2,"i"),r.bRed=e.read_shift(1),r.bGreen=e.read_shift(1),r.bBlue=e.read_shift(1),r.bAlpha=e.read_shift(1)}(e),r.bFontScheme=e.read_shift(1),r.name=We(e),r.flags.Bold=700===r.bls,r.flags.Italic=r.grbit.fItalic,r.flags.Strikeout=r.grbit.fStrikeout,r.flags.Outline=r.grbit.fOutline,r.flags.Shadow=r.grbit.fShadow,r.flags.Condense=r.grbit.fCondense,r.flags.Extend=r.grbit.fExtend,r.flags.Sub=2&r.sss,r.flags.Sup=1&r.sss,r}},44:{n:"BrtFmt",f:function(e,t){return[e.read_shift(2),We(e)]}},45:{n:"BrtFill",f:we},46:{n:"BrtBorder",f:we},47:{n:"BrtXF",f:function(e,t){var r=e.read_shift(2),n=e.read_shift(2);return we(e,t-4),{ixfe:r,ifmt:n}}},48:{n:"BrtStyle",f:we},49:{n:"BrtCellMeta",f:we},50:{n:"BrtValueMeta",f:we},51:{n:"BrtMdb",f:we},52:{n:"BrtBeginFmd",f:we},53:{n:"BrtEndFmd",f:we},54:{n:"BrtBeginMdx",f:we},55:{n:"BrtEndMdx",f:we},56:{n:"BrtBeginMdxTuple",f:we},57:{n:"BrtEndMdxTuple",f:we},58:{n:"BrtMdxMbrIstr",f:we},59:{n:"BrtStr",f:we},60:{n:"BrtColInfo",f:we},62:{n:"BrtCellRString",f:we},63:{n:"BrtCalcChainItem$",f:function(e,t){var r={};r.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),r.r=lu(n);var a=e.read_shift(1);return 2&a&&(r.l="1"),8&a&&(r.a="1"),r}},64:{n:"BrtDVal",f:we},65:{n:"BrtSxvcellNum",f:we},66:{n:"BrtSxvcellStr",f:we},67:{n:"BrtSxvcellBool",f:we},68:{n:"BrtSxvcellErr",f:we},69:{n:"BrtSxvcellDate",f:we},70:{n:"BrtSxvcellNil",f:we},128:{n:"BrtFileVersion",f:we},129:{n:"BrtBeginSheet",f:we},130:{n:"BrtEndSheet",f:we},131:{n:"BrtBeginBook",f:we,p:0},132:{n:"BrtEndBook",f:we},133:{n:"BrtBeginWsViews",f:we},134:{n:"BrtEndWsViews",f:we},135:{n:"BrtBeginBookViews",f:we},136:{n:"BrtEndBookViews",f:we},137:{n:"BrtBeginWsView",f:we},138:{n:"BrtEndWsView",f:we},139:{n:"BrtBeginCsViews",f:we},140:{n:"BrtEndCsViews",f:we},141:{n:"BrtBeginCsView",f:we},142:{n:"BrtEndCsView",f:we},143:{n:"BrtBeginBundleShs",f:we},144:{n:"BrtEndBundleShs",f:we},145:{n:"BrtBeginSheetData",f:we},146:{n:"BrtEndSheetData",f:we},147:{n:"BrtWsProp",f:function(e,t){var r={};return e.l+=19,r.name=function(e,t){return We(e)}(e),r}},148:{n:"BrtWsDim",f:$f,p:16},151:{n:"BrtPane",f:we},152:{n:"BrtSel",f:we},153:{n:"BrtWbProp",f:function(e,t){return e.read_shift(4),[e.read_shift(4),t>8?We(e):""]}},154:{n:"BrtWbFactoid",f:we},155:{n:"BrtFileRecover",f:we},156:{n:"BrtBundleSh",f:function(e,t){var r={};return r.hsState=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=je(e,t-8),r.name=We(e),r}},157:{n:"BrtCalcProp",f:we},158:{n:"BrtBookView",f:we},159:{n:"BrtBeginSst",f:function(e,t){return[e.read_shift(4),e.read_shift(4)]}},160:{n:"BrtEndSst",f:we},161:{n:"BrtBeginAFilter",f:we},162:{n:"BrtEndAFilter",f:we},163:{n:"BrtBeginFilterColumn",f:we},164:{n:"BrtEndFilterColumn",f:we},165:{n:"BrtBeginFilters",f:we},166:{n:"BrtEndFilters",f:we},167:{n:"BrtFilter",f:we},168:{n:"BrtColorFilter",f:we},169:{n:"BrtIconFilter",f:we},170:{n:"BrtTop10Filter",f:we},171:{n:"BrtDynamicFilter",f:we},172:{n:"BrtBeginCustomFilters",f:we},173:{n:"BrtEndCustomFilters",f:we},174:{n:"BrtCustomFilter",f:we},175:{n:"BrtAFilterDateGroupItem",f:we},176:{n:"BrtMergeCell",f:qf},177:{n:"BrtBeginMergeCells",f:we},178:{n:"BrtEndMergeCells",f:we},179:{n:"BrtBeginPivotCacheDef",f:we},180:{n:"BrtEndPivotCacheDef",f:we},181:{n:"BrtBeginPCDFields",f:we},182:{n:"BrtEndPCDFields",f:we},183:{n:"BrtBeginPCDField",f:we},184:{n:"BrtEndPCDField",f:we},185:{n:"BrtBeginPCDSource",f:we},186:{n:"BrtEndPCDSource",f:we},187:{n:"BrtBeginPCDSRange",f:we},188:{n:"BrtEndPCDSRange",f:we},189:{n:"BrtBeginPCDFAtbl",f:we},190:{n:"BrtEndPCDFAtbl",f:we},191:{n:"BrtBeginPCDIRun",f:we},192:{n:"BrtEndPCDIRun",f:we},193:{n:"BrtBeginPivotCacheRecords",f:we},194:{n:"BrtEndPivotCacheRecords",f:we},195:{n:"BrtBeginPCDHierarchies",f:we},196:{n:"BrtEndPCDHierarchies",f:we},197:{n:"BrtBeginPCDHierarchy",f:we},198:{n:"BrtEndPCDHierarchy",f:we},199:{n:"BrtBeginPCDHFieldsUsage",f:we},200:{n:"BrtEndPCDHFieldsUsage",f:we},201:{n:"BrtBeginExtConnection",f:we},202:{n:"BrtEndExtConnection",f:we},203:{n:"BrtBeginECDbProps",f:we},204:{n:"BrtEndECDbProps",f:we},205:{n:"BrtBeginECOlapProps",f:we},206:{n:"BrtEndECOlapProps",f:we},207:{n:"BrtBeginPCDSConsol",f:we},208:{n:"BrtEndPCDSConsol",f:we},209:{n:"BrtBeginPCDSCPages",f:we},210:{n:"BrtEndPCDSCPages",f:we},211:{n:"BrtBeginPCDSCPage",f:we},212:{n:"BrtEndPCDSCPage",f:we},213:{n:"BrtBeginPCDSCPItem",f:we},214:{n:"BrtEndPCDSCPItem",f:we},215:{n:"BrtBeginPCDSCSets",f:we},216:{n:"BrtEndPCDSCSets",f:we},217:{n:"BrtBeginPCDSCSet",f:we},218:{n:"BrtEndPCDSCSet",f:we},219:{n:"BrtBeginPCDFGroup",f:we},220:{n:"BrtEndPCDFGroup",f:we},221:{n:"BrtBeginPCDFGItems",f:we},222:{n:"BrtEndPCDFGItems",f:we},223:{n:"BrtBeginPCDFGRange",f:we},224:{n:"BrtEndPCDFGRange",f:we},225:{n:"BrtBeginPCDFGDiscrete",f:we},226:{n:"BrtEndPCDFGDiscrete",f:we},227:{n:"BrtBeginPCDSDTupleCache",f:we},228:{n:"BrtEndPCDSDTupleCache",f:we},229:{n:"BrtBeginPCDSDTCEntries",f:we},230:{n:"BrtEndPCDSDTCEntries",f:we},231:{n:"BrtBeginPCDSDTCEMembers",f:we},232:{n:"BrtEndPCDSDTCEMembers",f:we},233:{n:"BrtBeginPCDSDTCEMember",f:we},234:{n:"BrtEndPCDSDTCEMember",f:we},235:{n:"BrtBeginPCDSDTCQueries",f:we},236:{n:"BrtEndPCDSDTCQueries",f:we},237:{n:"BrtBeginPCDSDTCQuery",f:we},238:{n:"BrtEndPCDSDTCQuery",f:we},239:{n:"BrtBeginPCDSDTCSets",f:we},240:{n:"BrtEndPCDSDTCSets",f:we},241:{n:"BrtBeginPCDSDTCSet",f:we},242:{n:"BrtEndPCDSDTCSet",f:we},243:{n:"BrtBeginPCDCalcItems",f:we},244:{n:"BrtEndPCDCalcItems",f:we},245:{n:"BrtBeginPCDCalcItem",f:we},246:{n:"BrtEndPCDCalcItem",f:we},247:{n:"BrtBeginPRule",f:we},248:{n:"BrtEndPRule",f:we},249:{n:"BrtBeginPRFilters",f:we},250:{n:"BrtEndPRFilters",f:we},251:{n:"BrtBeginPRFilter",f:we},252:{n:"BrtEndPRFilter",f:we},253:{n:"BrtBeginPNames",f:we},254:{n:"BrtEndPNames",f:we},255:{n:"BrtBeginPName",f:we},256:{n:"BrtEndPName",f:we},257:{n:"BrtBeginPNPairs",f:we},258:{n:"BrtEndPNPairs",f:we},259:{n:"BrtBeginPNPair",f:we},260:{n:"BrtEndPNPair",f:we},261:{n:"BrtBeginECWebProps",f:we},262:{n:"BrtEndECWebProps",f:we},263:{n:"BrtBeginEcWpTables",f:we},264:{n:"BrtEndECWPTables",f:we},265:{n:"BrtBeginECParams",f:we},266:{n:"BrtEndECParams",f:we},267:{n:"BrtBeginECParam",f:we},268:{n:"BrtEndECParam",f:we},269:{n:"BrtBeginPCDKPIs",f:we},270:{n:"BrtEndPCDKPIs",f:we},271:{n:"BrtBeginPCDKPI",f:we},272:{n:"BrtEndPCDKPI",f:we},273:{n:"BrtBeginDims",f:we},274:{n:"BrtEndDims",f:we},275:{n:"BrtBeginDim",f:we},276:{n:"BrtEndDim",f:we},277:{n:"BrtIndexPartEnd",f:we},278:{n:"BrtBeginStyleSheet",f:we},279:{n:"BrtEndStyleSheet",f:we},280:{n:"BrtBeginSXView",f:we},281:{n:"BrtEndSXVI",f:we},282:{n:"BrtBeginSXVI",f:we},283:{n:"BrtBeginSXVIs",f:we},284:{n:"BrtEndSXVIs",f:we},285:{n:"BrtBeginSXVD",f:we},286:{n:"BrtEndSXVD",f:we},287:{n:"BrtBeginSXVDs",f:we},288:{n:"BrtEndSXVDs",f:we},289:{n:"BrtBeginSXPI",f:we},290:{n:"BrtEndSXPI",f:we},291:{n:"BrtBeginSXPIs",f:we},292:{n:"BrtEndSXPIs",f:we},293:{n:"BrtBeginSXDI",f:we},294:{n:"BrtEndSXDI",f:we},295:{n:"BrtBeginSXDIs",f:we},296:{n:"BrtEndSXDIs",f:we},297:{n:"BrtBeginSXLI",f:we},298:{n:"BrtEndSXLI",f:we},299:{n:"BrtBeginSXLIRws",f:we},300:{n:"BrtEndSXLIRws",f:we},301:{n:"BrtBeginSXLICols",f:we},302:{n:"BrtEndSXLICols",f:we},303:{n:"BrtBeginSXFormat",f:we},304:{n:"BrtEndSXFormat",f:we},305:{n:"BrtBeginSXFormats",f:we},306:{n:"BrtEndSxFormats",f:we},307:{n:"BrtBeginSxSelect",f:we},308:{n:"BrtEndSxSelect",f:we},309:{n:"BrtBeginISXVDRws",f:we},310:{n:"BrtEndISXVDRws",f:we},311:{n:"BrtBeginISXVDCols",f:we},312:{n:"BrtEndISXVDCols",f:we},313:{n:"BrtEndSXLocation",f:we},314:{n:"BrtBeginSXLocation",f:we},315:{n:"BrtEndSXView",f:we},316:{n:"BrtBeginSXTHs",f:we},317:{n:"BrtEndSXTHs",f:we},318:{n:"BrtBeginSXTH",f:we},319:{n:"BrtEndSXTH",f:we},320:{n:"BrtBeginISXTHRws",f:we},321:{n:"BrtEndISXTHRws",f:we},322:{n:"BrtBeginISXTHCols",f:we},323:{n:"BrtEndISXTHCols",f:we},324:{n:"BrtBeginSXTDMPS",f:we},325:{n:"BrtEndSXTDMPs",f:we},326:{n:"BrtBeginSXTDMP",f:we},327:{n:"BrtEndSXTDMP",f:we},328:{n:"BrtBeginSXTHItems",f:we},329:{n:"BrtEndSXTHItems",f:we},330:{n:"BrtBeginSXTHItem",f:we},331:{n:"BrtEndSXTHItem",f:we},332:{n:"BrtBeginMetadata",f:we},333:{n:"BrtEndMetadata",f:we},334:{n:"BrtBeginEsmdtinfo",f:we},335:{n:"BrtMdtinfo",f:we},336:{n:"BrtEndEsmdtinfo",f:we},337:{n:"BrtBeginEsmdb",f:we},338:{n:"BrtEndEsmdb",f:we},339:{n:"BrtBeginEsfmd",f:we},340:{n:"BrtEndEsfmd",f:we},341:{n:"BrtBeginSingleCells",f:we},342:{n:"BrtEndSingleCells",f:we},343:{n:"BrtBeginList",f:we},344:{n:"BrtEndList",f:we},345:{n:"BrtBeginListCols",f:we},346:{n:"BrtEndListCols",f:we},347:{n:"BrtBeginListCol",f:we},348:{n:"BrtEndListCol",f:we},349:{n:"BrtBeginListXmlCPr",f:we},350:{n:"BrtEndListXmlCPr",f:we},351:{n:"BrtListCCFmla",f:we},352:{n:"BrtListTrFmla",f:we},353:{n:"BrtBeginExternals",f:we},354:{n:"BrtEndExternals",f:we},355:{n:"BrtSupBookSrc",f:we},357:{n:"BrtSupSelf",f:we},358:{n:"BrtSupSame",f:we},359:{n:"BrtSupTabs",f:we},360:{n:"BrtBeginSupBook",f:we},361:{n:"BrtPlaceholderName",f:we},362:{n:"BrtExternSheet",f:we},363:{n:"BrtExternTableStart",f:we},364:{n:"BrtExternTableEnd",f:we},366:{n:"BrtExternRowHdr",f:we},367:{n:"BrtExternCellBlank",f:we},368:{n:"BrtExternCellReal",f:we},369:{n:"BrtExternCellBool",f:we},370:{n:"BrtExternCellError",f:we},371:{n:"BrtExternCellString",f:we},372:{n:"BrtBeginEsmdx",f:we},373:{n:"BrtEndEsmdx",f:we},374:{n:"BrtBeginMdxSet",f:we},375:{n:"BrtEndMdxSet",f:we},376:{n:"BrtBeginMdxMbrProp",f:we},377:{n:"BrtEndMdxMbrProp",f:we},378:{n:"BrtBeginMdxKPI",f:we},379:{n:"BrtEndMdxKPI",f:we},380:{n:"BrtBeginEsstr",f:we},381:{n:"BrtEndEsstr",f:we},382:{n:"BrtBeginPRFItem",f:we},383:{n:"BrtEndPRFItem",f:we},384:{n:"BrtBeginPivotCacheIDs",f:we},385:{n:"BrtEndPivotCacheIDs",f:we},386:{n:"BrtBeginPivotCacheID",f:we},387:{n:"BrtEndPivotCacheID",f:we},388:{n:"BrtBeginISXVIs",f:we},389:{n:"BrtEndISXVIs",f:we},390:{n:"BrtBeginColInfos",f:we},391:{n:"BrtEndColInfos",f:we},392:{n:"BrtBeginRwBrk",f:we},393:{n:"BrtEndRwBrk",f:we},394:{n:"BrtBeginColBrk",f:we},395:{n:"BrtEndColBrk",f:we},396:{n:"BrtBrk",f:we},397:{n:"BrtUserBookView",f:we},398:{n:"BrtInfo",f:we},399:{n:"BrtCUsr",f:we},400:{n:"BrtUsr",f:we},401:{n:"BrtBeginUsers",f:we},403:{n:"BrtEOF",f:we},404:{n:"BrtUCR",f:we},405:{n:"BrtRRInsDel",f:we},406:{n:"BrtRREndInsDel",f:we},407:{n:"BrtRRMove",f:we},408:{n:"BrtRREndMove",f:we},409:{n:"BrtRRChgCell",f:we},410:{n:"BrtRREndChgCell",f:we},411:{n:"BrtRRHeader",f:we},412:{n:"BrtRRUserView",f:we},413:{n:"BrtRRRenSheet",f:we},414:{n:"BrtRRInsertSh",f:we},415:{n:"BrtRRDefName",f:we},416:{n:"BrtRRNote",f:we},417:{n:"BrtRRConflict",f:we},418:{n:"BrtRRTQSIF",f:we},419:{n:"BrtRRFormat",f:we},420:{n:"BrtRREndFormat",f:we},421:{n:"BrtRRAutoFmt",f:we},422:{n:"BrtBeginUserShViews",f:we},423:{n:"BrtBeginUserShView",f:we},424:{n:"BrtEndUserShView",f:we},425:{n:"BrtEndUserShViews",f:we},426:{n:"BrtArrFmla",f:we},427:{n:"BrtShrFmla",f:we},428:{n:"BrtTable",f:we},429:{n:"BrtBeginExtConnections",f:we},430:{n:"BrtEndExtConnections",f:we},431:{n:"BrtBeginPCDCalcMems",f:we},432:{n:"BrtEndPCDCalcMems",f:we},433:{n:"BrtBeginPCDCalcMem",f:we},434:{n:"BrtEndPCDCalcMem",f:we},435:{n:"BrtBeginPCDHGLevels",f:we},436:{n:"BrtEndPCDHGLevels",f:we},437:{n:"BrtBeginPCDHGLevel",f:we},438:{n:"BrtEndPCDHGLevel",f:we},439:{n:"BrtBeginPCDHGLGroups",f:we},440:{n:"BrtEndPCDHGLGroups",f:we},441:{n:"BrtBeginPCDHGLGroup",f:we},442:{n:"BrtEndPCDHGLGroup",f:we},443:{n:"BrtBeginPCDHGLGMembers",f:we},444:{n:"BrtEndPCDHGLGMembers",f:we},445:{n:"BrtBeginPCDHGLGMember",f:we},446:{n:"BrtEndPCDHGLGMember",f:we},447:{n:"BrtBeginQSI",f:we},448:{n:"BrtEndQSI",f:we},449:{n:"BrtBeginQSIR",f:we},450:{n:"BrtEndQSIR",f:we},451:{
n:"BrtBeginDeletedNames",f:we},452:{n:"BrtEndDeletedNames",f:we},453:{n:"BrtBeginDeletedName",f:we},454:{n:"BrtEndDeletedName",f:we},455:{n:"BrtBeginQSIFs",f:we},456:{n:"BrtEndQSIFs",f:we},457:{n:"BrtBeginQSIF",f:we},458:{n:"BrtEndQSIF",f:we},459:{n:"BrtBeginAutoSortScope",f:we},460:{n:"BrtEndAutoSortScope",f:we},461:{n:"BrtBeginConditionalFormatting",f:we},462:{n:"BrtEndConditionalFormatting",f:we},463:{n:"BrtBeginCFRule",f:we},464:{n:"BrtEndCFRule",f:we},465:{n:"BrtBeginIconSet",f:we},466:{n:"BrtEndIconSet",f:we},467:{n:"BrtBeginDatabar",f:we},468:{n:"BrtEndDatabar",f:we},469:{n:"BrtBeginColorScale",f:we},470:{n:"BrtEndColorScale",f:we},471:{n:"BrtCFVO",f:we},472:{n:"BrtExternValueMeta",f:we},473:{n:"BrtBeginColorPalette",f:we},474:{n:"BrtEndColorPalette",f:we},475:{n:"BrtIndexedColor",f:we},476:{n:"BrtMargins",f:we},477:{n:"BrtPrintOptions",f:we},478:{n:"BrtPageSetup",f:we},479:{n:"BrtBeginHeaderFooter",f:we},480:{n:"BrtEndHeaderFooter",f:we},481:{n:"BrtBeginSXCrtFormat",f:we},482:{n:"BrtEndSXCrtFormat",f:we},483:{n:"BrtBeginSXCrtFormats",f:we},484:{n:"BrtEndSXCrtFormats",f:we},485:{n:"BrtWsFmtInfo",f:we},486:{n:"BrtBeginMgs",f:we},487:{n:"BrtEndMGs",f:we},488:{n:"BrtBeginMGMaps",f:we},489:{n:"BrtEndMGMaps",f:we},490:{n:"BrtBeginMG",f:we},491:{n:"BrtEndMG",f:we},492:{n:"BrtBeginMap",f:we},493:{n:"BrtEndMap",f:we},494:{n:"BrtHLink",f:function(e,t,r){var n=e.l+t,a=$e(e),s=Ge(e),i=We(e),c=We(e),o=We(e);return e.l=n,{rfx:a,relId:s,loc:i,tooltip:c,display:o}}},495:{n:"BrtBeginDCon",f:we},496:{n:"BrtEndDCon",f:we},497:{n:"BrtBeginDRefs",f:we},498:{n:"BrtEndDRefs",f:we},499:{n:"BrtDRef",f:we},500:{n:"BrtBeginScenMan",f:we},501:{n:"BrtEndScenMan",f:we},502:{n:"BrtBeginSct",f:we},503:{n:"BrtEndSct",f:we},504:{n:"BrtSlc",f:we},505:{n:"BrtBeginDXFs",f:we},506:{n:"BrtEndDXFs",f:we},507:{n:"BrtDXF",f:we},508:{n:"BrtBeginTableStyles",f:we},509:{n:"BrtEndTableStyles",f:we},510:{n:"BrtBeginTableStyle",f:we},511:{n:"BrtEndTableStyle",f:we},512:{n:"BrtTableStyleElement",f:we},513:{n:"BrtTableStyleClient",f:we},514:{n:"BrtBeginVolDeps",f:we},515:{n:"BrtEndVolDeps",f:we},516:{n:"BrtBeginVolType",f:we},517:{n:"BrtEndVolType",f:we},518:{n:"BrtBeginVolMain",f:we},519:{n:"BrtEndVolMain",f:we},520:{n:"BrtBeginVolTopic",f:we},521:{n:"BrtEndVolTopic",f:we},522:{n:"BrtVolSubtopic",f:we},523:{n:"BrtVolRef",f:we},524:{n:"BrtVolNum",f:we},525:{n:"BrtVolErr",f:we},526:{n:"BrtVolStr",f:we},527:{n:"BrtVolBool",f:we},528:{n:"BrtBeginCalcChain$",f:we},529:{n:"BrtEndCalcChain$",f:we},530:{n:"BrtBeginSortState",f:we},531:{n:"BrtEndSortState",f:we},532:{n:"BrtBeginSortCond",f:we},533:{n:"BrtEndSortCond",f:we},534:{n:"BrtBookProtection",f:we},535:{n:"BrtSheetProtection",f:we},536:{n:"BrtRangeProtection",f:we},537:{n:"BrtPhoneticInfo",f:we},538:{n:"BrtBeginECTxtWiz",f:we},539:{n:"BrtEndECTxtWiz",f:we},540:{n:"BrtBeginECTWFldInfoLst",f:we},541:{n:"BrtEndECTWFldInfoLst",f:we},542:{n:"BrtBeginECTwFldInfo",f:we},548:{n:"BrtFileSharing",f:we},549:{n:"BrtOleSize",f:we},550:{n:"BrtDrawing",f:we},551:{n:"BrtLegacyDrawing",f:we},552:{n:"BrtLegacyDrawingHF",f:we},553:{n:"BrtWebOpt",f:we},554:{n:"BrtBeginWebPubItems",f:we},555:{n:"BrtEndWebPubItems",f:we},556:{n:"BrtBeginWebPubItem",f:we},557:{n:"BrtEndWebPubItem",f:we},558:{n:"BrtBeginSXCondFmt",f:we},559:{n:"BrtEndSXCondFmt",f:we},560:{n:"BrtBeginSXCondFmts",f:we},561:{n:"BrtEndSXCondFmts",f:we},562:{n:"BrtBkHim",f:we},564:{n:"BrtColor",f:we},565:{n:"BrtBeginIndexedColors",f:we},566:{n:"BrtEndIndexedColors",f:we},569:{n:"BrtBeginMRUColors",f:we},570:{n:"BrtEndMRUColors",f:we},572:{n:"BrtMRUColor",f:we},573:{n:"BrtBeginDVals",f:we},574:{n:"BrtEndDVals",f:we},577:{n:"BrtSupNameStart",f:we},578:{n:"BrtSupNameValueStart",f:we},579:{n:"BrtSupNameValueEnd",f:we},580:{n:"BrtSupNameNum",f:we},581:{n:"BrtSupNameErr",f:we},582:{n:"BrtSupNameSt",f:we},583:{n:"BrtSupNameNil",f:we},584:{n:"BrtSupNameBool",f:we},585:{n:"BrtSupNameFmla",f:we},586:{n:"BrtSupNameBits",f:we},587:{n:"BrtSupNameEnd",f:we},588:{n:"BrtEndSupBook",f:we},589:{n:"BrtCellSmartTagProperty",f:we},590:{n:"BrtBeginCellSmartTag",f:we},591:{n:"BrtEndCellSmartTag",f:we},592:{n:"BrtBeginCellSmartTags",f:we},593:{n:"BrtEndCellSmartTags",f:we},594:{n:"BrtBeginSmartTags",f:we},595:{n:"BrtEndSmartTags",f:we},596:{n:"BrtSmartTagType",f:we},597:{n:"BrtBeginSmartTagTypes",f:we},598:{n:"BrtEndSmartTagTypes",f:we},599:{n:"BrtBeginSXFilters",f:we},600:{n:"BrtEndSXFilters",f:we},601:{n:"BrtBeginSXFILTER",f:we},602:{n:"BrtEndSXFilter",f:we},603:{n:"BrtBeginFills",f:we},604:{n:"BrtEndFills",f:we},605:{n:"BrtBeginCellWatches",f:we},606:{n:"BrtEndCellWatches",f:we},607:{n:"BrtCellWatch",f:we},608:{n:"BrtBeginCRErrs",f:we},609:{n:"BrtEndCRErrs",f:we},610:{n:"BrtCrashRecErr",f:we},611:{n:"BrtBeginFonts",f:we},612:{n:"BrtEndFonts",f:we},613:{n:"BrtBeginBorders",f:we},614:{n:"BrtEndBorders",f:we},615:{n:"BrtBeginFmts",f:we},616:{n:"BrtEndFmts",f:we},617:{n:"BrtBeginCellXFs",f:we},618:{n:"BrtEndCellXFs",f:we},619:{n:"BrtBeginStyles",f:we},620:{n:"BrtEndStyles",f:we},625:{n:"BrtBigName",f:we},626:{n:"BrtBeginCellStyleXFs",f:we},627:{n:"BrtEndCellStyleXFs",f:we},628:{n:"BrtBeginComments",f:we},629:{n:"BrtEndComments",f:we},630:{n:"BrtBeginCommentAuthors",f:we},631:{n:"BrtEndCommentAuthors",f:we},632:{n:"BrtCommentAuthor",f:ef},633:{n:"BrtBeginCommentList",f:we},634:{n:"BrtEndCommentList",f:we},635:{n:"BrtBeginComment",f:function(e,t){var r={};r.iauthor=e.read_shift(4);var n=$e(e);return r.rfx=n.s,r.ref=lu(n.s),e.l+=16,r}},636:{n:"BrtEndComment",f:we},637:{n:"BrtCommentText",f:tf},638:{n:"BrtBeginOleObjects",f:we},639:{n:"BrtOleObject",f:we},640:{n:"BrtEndOleObjects",f:we},641:{n:"BrtBeginSxrules",f:we},642:{n:"BrtEndSxRules",f:we},643:{n:"BrtBeginActiveXControls",f:we},644:{n:"BrtActiveX",f:we},645:{n:"BrtEndActiveXControls",f:we},646:{n:"BrtBeginPCDSDTCEMembersSortBy",f:we},648:{n:"BrtBeginCellIgnoreECs",f:we},649:{n:"BrtCellIgnoreEC",f:we},650:{n:"BrtEndCellIgnoreECs",f:we},651:{n:"BrtCsProp",f:we},652:{n:"BrtCsPageSetup",f:we},653:{n:"BrtBeginUserCsViews",f:we},654:{n:"BrtEndUserCsViews",f:we},655:{n:"BrtBeginUserCsView",f:we},656:{n:"BrtEndUserCsView",f:we},657:{n:"BrtBeginPcdSFCIEntries",f:we},658:{n:"BrtEndPCDSFCIEntries",f:we},659:{n:"BrtPCDSFCIEntry",f:we},660:{n:"BrtBeginListParts",f:we},661:{n:"BrtListPart",f:we},662:{n:"BrtEndListParts",f:we},663:{n:"BrtSheetCalcProp",f:we},664:{n:"BrtBeginFnGroup",f:we},665:{n:"BrtFnGroup",f:we},666:{n:"BrtEndFnGroup",f:we},667:{n:"BrtSupAddin",f:we},668:{n:"BrtSXTDMPOrder",f:we},669:{n:"BrtCsProtection",f:we},671:{n:"BrtBeginWsSortMap",f:we},672:{n:"BrtEndWsSortMap",f:we},673:{n:"BrtBeginRRSort",f:we},674:{n:"BrtEndRRSort",f:we},675:{n:"BrtRRSortItem",f:we},676:{n:"BrtFileSharingIso",f:we},677:{n:"BrtBookProtectionIso",f:we},678:{n:"BrtSheetProtectionIso",f:we},679:{n:"BrtCsProtectionIso",f:we},680:{n:"BrtRangeProtectionIso",f:we},1024:{n:"BrtRwDescent",f:we},1025:{n:"BrtKnownFonts",f:we},1026:{n:"BrtBeginSXTupleSet",f:we},1027:{n:"BrtEndSXTupleSet",f:we},1028:{n:"BrtBeginSXTupleSetHeader",f:we},1029:{n:"BrtEndSXTupleSetHeader",f:we},1030:{n:"BrtSXTupleSetHeaderItem",f:we},1031:{n:"BrtBeginSXTupleSetData",f:we},1032:{n:"BrtEndSXTupleSetData",f:we},1033:{n:"BrtBeginSXTupleSetRow",f:we},1034:{n:"BrtEndSXTupleSetRow",f:we},1035:{n:"BrtSXTupleSetRowItem",f:we},1036:{n:"BrtNameExt",f:we},1037:{n:"BrtPCDH14",f:we},1038:{n:"BrtBeginPCDCalcMem14",f:we},1039:{n:"BrtEndPCDCalcMem14",f:we},1040:{n:"BrtSXTH14",f:we},1041:{n:"BrtBeginSparklineGroup",f:we},1042:{n:"BrtEndSparklineGroup",f:we},1043:{n:"BrtSparkline",f:we},1044:{n:"BrtSXDI14",f:we},1045:{n:"BrtWsFmtInfoEx14",f:we},1046:{n:"BrtBeginConditionalFormatting14",f:we},1047:{n:"BrtEndConditionalFormatting14",f:we},1048:{n:"BrtBeginCFRule14",f:we},1049:{n:"BrtEndCFRule14",f:we},1050:{n:"BrtCFVO14",f:we},1051:{n:"BrtBeginDatabar14",f:we},1052:{n:"BrtBeginIconSet14",f:we},1053:{n:"BrtDVal14",f:we},1054:{n:"BrtBeginDVals14",f:we},1055:{n:"BrtColor14",f:we},1056:{n:"BrtBeginSparklines",f:we},1057:{n:"BrtEndSparklines",f:we},1058:{n:"BrtBeginSparklineGroups",f:we},1059:{n:"BrtEndSparklineGroups",f:we},1061:{n:"BrtSXVD14",f:we},1062:{n:"BrtBeginSxview14",f:we},1063:{n:"BrtEndSxview14",f:we},1066:{n:"BrtBeginPCD14",f:we},1067:{n:"BrtEndPCD14",f:we},1068:{n:"BrtBeginExtConn14",f:we},1069:{n:"BrtEndExtConn14",f:we},1070:{n:"BrtBeginSlicerCacheIDs",f:we},1071:{n:"BrtEndSlicerCacheIDs",f:we},1072:{n:"BrtBeginSlicerCacheID",f:we},1073:{n:"BrtEndSlicerCacheID",f:we},1075:{n:"BrtBeginSlicerCache",f:we},1076:{n:"BrtEndSlicerCache",f:we},1077:{n:"BrtBeginSlicerCacheDef",f:we},1078:{n:"BrtEndSlicerCacheDef",f:we},1079:{n:"BrtBeginSlicersEx",f:we},1080:{n:"BrtEndSlicersEx",f:we},1081:{n:"BrtBeginSlicerEx",f:we},1082:{n:"BrtEndSlicerEx",f:we},1083:{n:"BrtBeginSlicer",f:we},1084:{n:"BrtEndSlicer",f:we},1085:{n:"BrtSlicerCachePivotTables",f:we},1086:{n:"BrtBeginSlicerCacheOlapImpl",f:we},1087:{n:"BrtEndSlicerCacheOlapImpl",f:we},1088:{n:"BrtBeginSlicerCacheLevelsData",f:we},1089:{n:"BrtEndSlicerCacheLevelsData",f:we},1090:{n:"BrtBeginSlicerCacheLevelData",f:we},1091:{n:"BrtEndSlicerCacheLevelData",f:we},1092:{n:"BrtBeginSlicerCacheSiRanges",f:we},1093:{n:"BrtEndSlicerCacheSiRanges",f:we},1094:{n:"BrtBeginSlicerCacheSiRange",f:we},1095:{n:"BrtEndSlicerCacheSiRange",f:we},1096:{n:"BrtSlicerCacheOlapItem",f:we},1097:{n:"BrtBeginSlicerCacheSelections",f:we},1098:{n:"BrtSlicerCacheSelection",f:we},1099:{n:"BrtEndSlicerCacheSelections",f:we},1100:{n:"BrtBeginSlicerCacheNative",f:we},1101:{n:"BrtEndSlicerCacheNative",f:we},1102:{n:"BrtSlicerCacheNativeItem",f:we},1103:{n:"BrtRangeProtection14",f:we},1104:{n:"BrtRangeProtectionIso14",f:we},1105:{n:"BrtCellIgnoreEC14",f:we},1111:{n:"BrtList14",f:we},1112:{n:"BrtCFIcon",f:we},1113:{n:"BrtBeginSlicerCachesPivotCacheIDs",f:we},1114:{n:"BrtEndSlicerCachesPivotCacheIDs",f:we},1115:{n:"BrtBeginSlicers",f:we},1116:{n:"BrtEndSlicers",f:we},1117:{n:"BrtWbProp14",f:we},1118:{n:"BrtBeginSXEdit",f:we},1119:{n:"BrtEndSXEdit",f:we},1120:{n:"BrtBeginSXEdits",f:we},1121:{n:"BrtEndSXEdits",f:we},1122:{n:"BrtBeginSXChange",f:we},1123:{n:"BrtEndSXChange",f:we},1124:{n:"BrtBeginSXChanges",f:we},1125:{n:"BrtEndSXChanges",f:we},1126:{n:"BrtSXTupleItems",f:we},1128:{n:"BrtBeginSlicerStyle",f:we},1129:{n:"BrtEndSlicerStyle",f:we},1130:{n:"BrtSlicerStyleElement",f:we},1131:{n:"BrtBeginStyleSheetExt14",f:we},1132:{n:"BrtEndStyleSheetExt14",f:we},1133:{n:"BrtBeginSlicerCachesPivotCacheID",f:we},1134:{n:"BrtEndSlicerCachesPivotCacheID",f:we},1135:{n:"BrtBeginConditionalFormattings",f:we},1136:{n:"BrtEndConditionalFormattings",f:we},1137:{n:"BrtBeginPCDCalcMemExt",f:we},1138:{n:"BrtEndPCDCalcMemExt",f:we},1139:{n:"BrtBeginPCDCalcMemsExt",f:we},1140:{n:"BrtEndPCDCalcMemsExt",f:we},1141:{n:"BrtPCDField14",f:we},1142:{n:"BrtBeginSlicerStyles",f:we},1143:{n:"BrtEndSlicerStyles",f:we},1144:{n:"BrtBeginSlicerStyleElements",f:we},1145:{n:"BrtEndSlicerStyleElements",f:we},1146:{n:"BrtCFRuleExt",f:we},1147:{n:"BrtBeginSXCondFmt14",f:we},1148:{n:"BrtEndSXCondFmt14",f:we},1149:{n:"BrtBeginSXCondFmts14",f:we},1150:{n:"BrtEndSXCondFmts14",f:we},1152:{n:"BrtBeginSortCond14",f:we},1153:{n:"BrtEndSortCond14",f:we},1154:{n:"BrtEndDVals14",f:we},1155:{n:"BrtEndIconSet14",f:we},1156:{n:"BrtEndDatabar14",f:we},1157:{n:"BrtBeginColorScale14",f:we},1158:{n:"BrtEndColorScale14",f:we},1159:{n:"BrtBeginSxrules14",f:we},1160:{n:"BrtEndSxrules14",f:we},1161:{n:"BrtBeginPRule14",f:we},1162:{n:"BrtEndPRule14",f:we},1163:{n:"BrtBeginPRFilters14",f:we},1164:{n:"BrtEndPRFilters14",f:we},1165:{n:"BrtBeginPRFilter14",f:we},1166:{n:"BrtEndPRFilter14",f:we},1167:{n:"BrtBeginPRFItem14",f:we},1168:{n:"BrtEndPRFItem14",f:we},1169:{n:"BrtBeginCellIgnoreECs14",f:we},1170:{n:"BrtEndCellIgnoreECs14",f:we},1171:{n:"BrtDxf14",f:we},1172:{n:"BrtBeginDxF14s",f:we},1173:{n:"BrtEndDxf14s",f:we},1177:{n:"BrtFilter14",f:we},1178:{n:"BrtBeginCustomFilters14",f:we},1180:{n:"BrtCustomFilter14",f:we},1181:{n:"BrtIconFilter14",f:we},1182:{n:"BrtPivotCacheConnectionName",f:we},2048:{n:"BrtBeginDecoupledPivotCacheIDs",f:we},2049:{n:"BrtEndDecoupledPivotCacheIDs",f:we},2050:{n:"BrtDecoupledPivotCacheID",f:we},2051:{n:"BrtBeginPivotTableRefs",f:we},2052:{n:"BrtEndPivotTableRefs",f:we},2053:{n:"BrtPivotTableRef",f:we},2054:{n:"BrtSlicerCacheBookPivotTables",f:we},2055:{n:"BrtBeginSxvcells",f:we},2056:{n:"BrtEndSxvcells",f:we},2057:{n:"BrtBeginSxRow",f:we},2058:{n:"BrtEndSxRow",f:we},2060:{n:"BrtPcdCalcMem15",f:we},2067:{n:"BrtQsi15",f:we},2068:{n:"BrtBeginWebExtensions",f:we},2069:{n:"BrtEndWebExtensions",f:we},2070:{n:"BrtWebExtension",f:we},2071:{n:"BrtAbsPath15",f:we},2072:{n:"BrtBeginPivotTableUISettings",f:we},2073:{n:"BrtEndPivotTableUISettings",f:we},2075:{n:"BrtTableSlicerCacheIDs",f:we},2076:{n:"BrtTableSlicerCacheID",f:we},2077:{n:"BrtBeginTableSlicerCache",f:we},2078:{n:"BrtEndTableSlicerCache",f:we},2079:{n:"BrtSxFilter15",f:we},2080:{n:"BrtBeginTimelineCachePivotCacheIDs",f:we},2081:{n:"BrtEndTimelineCachePivotCacheIDs",f:we},2082:{n:"BrtTimelineCachePivotCacheID",f:we},2083:{n:"BrtBeginTimelineCacheIDs",f:we},2084:{n:"BrtEndTimelineCacheIDs",f:we},2085:{n:"BrtBeginTimelineCacheID",f:we},2086:{n:"BrtEndTimelineCacheID",f:we},2087:{n:"BrtBeginTimelinesEx",f:we},2088:{n:"BrtEndTimelinesEx",f:we},2089:{n:"BrtBeginTimelineEx",f:we},2090:{n:"BrtEndTimelineEx",f:we},2091:{n:"BrtWorkBookPr15",f:we},2092:{n:"BrtPCDH15",f:we},2093:{n:"BrtBeginTimelineStyle",f:we},2094:{n:"BrtEndTimelineStyle",f:we},2095:{n:"BrtTimelineStyleElement",f:we},2096:{n:"BrtBeginTimelineStylesheetExt15",f:we},2097:{n:"BrtEndTimelineStylesheetExt15",f:we},2098:{n:"BrtBeginTimelineStyles",f:we},2099:{n:"BrtEndTimelineStyles",f:we},2100:{n:"BrtBeginTimelineStyleElements",f:we},2101:{n:"BrtEndTimelineStyleElements",f:we},2102:{n:"BrtDxf15",f:we},2103:{n:"BrtBeginDxfs15",f:we},2104:{n:"brtEndDxfs15",f:we},2105:{n:"BrtSlicerCacheHideItemsWithNoData",f:we},2106:{n:"BrtBeginItemUniqueNames",f:we},2107:{n:"BrtEndItemUniqueNames",f:we},2108:{n:"BrtItemUniqueName",f:we},2109:{n:"BrtBeginExtConn15",f:we},2110:{n:"BrtEndExtConn15",f:we},2111:{n:"BrtBeginOledbPr15",f:we},2112:{n:"BrtEndOledbPr15",f:we},2113:{n:"BrtBeginDataFeedPr15",f:we},2114:{n:"BrtEndDataFeedPr15",f:we},2115:{n:"BrtTextPr15",f:we},2116:{n:"BrtRangePr15",f:we},2117:{n:"BrtDbCommand15",f:we},2118:{n:"BrtBeginDbTables15",f:we},2119:{n:"BrtEndDbTables15",f:we},2120:{n:"BrtDbTable15",f:we},2121:{n:"BrtBeginDataModel",f:we},2122:{n:"BrtEndDataModel",f:we},2123:{n:"BrtBeginModelTables",f:we},2124:{n:"BrtEndModelTables",f:we},2125:{n:"BrtModelTable",f:we},2126:{n:"BrtBeginModelRelationships",f:we},2127:{n:"BrtEndModelRelationships",f:we},2128:{n:"BrtModelRelationship",f:we},2129:{n:"BrtBeginECTxtWiz15",f:we},2130:{n:"BrtEndECTxtWiz15",f:we},2131:{n:"BrtBeginECTWFldInfoLst15",f:we},2132:{n:"BrtEndECTWFldInfoLst15",f:we},2133:{n:"BrtBeginECTWFldInfo15",f:we},2134:{n:"BrtFieldListActiveItem",f:we},2135:{n:"BrtPivotCacheIdVersion",f:we},2136:{n:"BrtSXDI15",f:we},65535:{n:"",f:we}},Xl=function(e,t){for(var r=[],n=v(e),a=0;a!==n.length;++a)r[e[n[a]][t]]=n[a];return r}(Hl,"n"),Gl={3:{n:"BIFF2NUM",f:function(e,t,r){var n=rr(e);++e.l;var a=Qe(e);return n.val=a,n}},4:{n:"BIFF2STR",f:function(e,t,r){var n=rr(e);++e.l;var a=Qt(e,0,r);return n.val=a,n}},6:{n:"Formula",f:Sf},9:{n:"BOF",f:ur},10:{n:"EOF",f:_r},12:{n:"CalcCount",f:Rr},13:{n:"CalcMode",f:Ar},14:{n:"CalcPrecision",f:Pr},15:{n:"CalcRefMode",f:xr},16:{n:"CalcDelta",f:Dr},17:{n:"CalcIter",f:Or},18:{n:"Protect",f:nn},19:{n:"Password",f:Zr},20:{n:"Header",f:Kr},21:{n:"Footer",f:Xr},23:{n:"ExternSheet",f:function(e,t,r){if(r.biff<8)return jt(e,0,r);var n=function(e,t,r){for(var n=[],a=e.l+t,s=e.read_shift(2);0!=s--;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}(e,t,nr),a=[];if(1025===r.sbcch){for(var s=0;s!=n.length;++s)a.push(r.snames[n[s][1]]);return a}return n}},24:{n:"Lbl",f:function(e,t,r){if(r.biff<8)return dr(e,0,r);var n=e.l+t,a=(e.read_shift(2),e.read_shift(1)),s=e.read_shift(1),i=e.read_shift(2);return e.l+=2,e.read_shift(2),e.l+=4,{chKey:a,Name:zt(e,s),rgce:function(e,t,r,n){var a,s=e.l+t,i=Cf(e,n);return s!==e.l&&(a=gf(e,s-e.l,i,r)),[i,a]}(e,n-e.l,r,i)}}},25:{n:"WinProtect",f:En},26:{n:"VerticalPageBreaks",f:mn},27:{n:"HorizontalPageBreaks",f:Sn},28:{n:"Note",f:function(e,t,r){return function(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),c=Qt(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},c,i,s]}}(e,0,r)}},29:{n:"Selection",f:gn},34:{n:"Date1904",f:Nr},35:{n:"ExternName",f:pr},38:{n:"LeftMargin",f:zr},39:{n:"RightMargin",f:sn},40:{n:"TopMargin",f:hn},41:{n:"BottomMargin",f:vr},42:{n:"PrintRowCol",f:Jr},43:{n:"PrintGrid",f:qr},47:{n:"FilePass",f:function(e,t,r){var n={Type:e.read_shift(2)};return n.Type?Ro(e,t-2,n):Io(e,0,r,n),n}},49:{n:"Font",f:function(e,t,r){return e.l+=14,jt(e,0,r)}},51:{n:"PrintSize",f:en},60:{n:"Continue",f:Cn},61:{n:"Window1",f:function(e,t){return{Pos:[e.read_shift(2),e.read_shift(2)],Dim:[e.read_shift(2),e.read_shift(2)],Flags:e.read_shift(2),CurTab:e.read_shift(2),FirstTab:e.read_shift(2),Selected:e.read_shift(2),TabRatio:e.read_shift(2)}}},64:{n:"Backup",f:Tr},65:{n:"Pane",f:Tn},66:{n:"CodePage",f:Fr},77:{n:"Pls",f:bn},80:{n:"DCon",f:vn},81:{n:"DConRef",f:In},82:{n:"DConName",f:Rn},85:{n:"DefColWidth",f:Lr},89:{n:"XCT",f:Dn},90:{n:"CRN",f:On},91:{n:"FileSharing",f:An},92:{n:"WriteAccess",f:function(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=$t(e,0,r);return e.read_shift(t+n-e.l),a}},93:{n:"Obj",f:function(e,t){var r=or(e);return{cmo:r,ft:function(e,t,r){for(var n=e.l,a=[];e.l<n+t;){var s=e.read_shift(2);e.l-=2;try{a.push(fr[s](e,n+t-e.l))}catch(r){return e.l=n+t,a}}return e.l!=n+t&&(e.l=n+t),a}(e,t-22,r[1])}}},94:{n:"Uncalced",f:Pn},95:{n:"CalcSaveRecalc",f:kr},96:{n:"Template",f:xn},97:{n:"Intl",f:kn},99:{n:"ObjProtect",f:Qr},125:{n:"ColInfo",f:gr},128:{n:"Guts",f:function(e,t){e.l+=4;var r=[e.read_shift(2),e.read_shift(2)];if(0!==r[0]&&r[0]--,0!==r[1]&&r[1]--,r[0]>7||r[1]>7)throw"Bad Gutters: "+r;return r}},129:{n:"WsBool",f:Fn},130:{n:"GridSet",f:Gr},131:{n:"HCenter",f:Wr},132:{n:"VCenter",f:Bn},133:{n:"BoundSheet8",f:function(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)>>6,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule"}var i=jt(e,0,r);return 0===i.length&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}},134:{n:"WriteProtect",f:pn},140:{n:"Country",f:function(e,t){var r,n=[];return r=e.read_shift(2),n[0]=ct[r]||r,r=e.read_shift(2),n[1]=ct[r]||r,n}},141:{n:"HideObj",f:jr},144:{n:"Sort",f:wn},146:{n:"Palette",f:function(e,t){for(var r=e.read_shift(2),n=[];r-- >0;)n.push(tr(e));return n}},151:{n:"Sync",f:Nn},152:{n:"LPr",f:Ln},153:{n:"DxGCol",f:Mn},154:{n:"FnGroupName",f:yn},155:{n:"FilterMode",f:_n},156:{n:"BuiltInFnGroupCount",f:Ir},157:{n:"AutoFilterInfo",f:Vn},158:{n:"AutoFilter",f:Un},160:{n:"Scl",f:fn},161:{n:"Setup",f:Hn},174:{n:"ScenMan",f:Xn},175:{n:"SCENARIO",f:Gn},176:{n:"SxView",f:Wn},177:{n:"Sxvd",f:Kn},178:{n:"SXVI",f:jn},180:{n:"SxIvd",f:Yn},181:{n:"SXLI",f:zn},182:{n:"SXPI",f:$n},184:{n:"DocRoute",f:Qn},185:{n:"RecipName",f:Zn},189:{n:"MulRk",f:function(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(ar(e));if(e.l!==r)throw"MulRK read error";var i=e.read_shift(2);if(s.length!=i-a+1)throw"MulRK length mismatch";return{r:n,c:a,C:i,rkrec:s}}},190:{n:"MulBlank",f:qn},193:{n:"Mms",f:$r},197:{n:"SXDI",f:Jn},198:{n:"SXDB",f:ea},199:{n:"SXFDB",f:ta},200:{n:"SXDBB",f:ra},201:{n:"SXNum",f:na},202:{n:"SxBool",f:un},203:{n:"SxErr",f:aa},204:{n:"SXInt",f:sa},205:{n:"SXString",f:ia},206:{n:"SXDtr",f:ca},207:{n:"SxNil",f:oa},208:{n:"SXTbl",f:fa},209:{n:"SXTBRGIITM",f:la},210:{n:"SxTbpg",f:ua},211:{n:"ObProj",f:ha},213:{n:"SXStreamID",f:da},215:{n:"DBCell",f:Ba},216:{n:"SXRng",f:Ea},217:{n:"SxIsxoper",f:pa},218:{n:"BookBool",f:ma},220:{n:"DbOrParamQry",f:Sa},221:{n:"ScenarioProtect",f:on},222:{n:"OleObjectSize",f:ga},224:{n:"XF",f:function(e,t){var r={};return r.ifnt=e.read_shift(2),r.ifmt=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,r.data=Br(e,0,r.fStyle),r}},225:{n:"InterfaceHdr",f:function(e,t){if(0===t)return 1200;var r;if(1200!==(r=e.read_shift(2)))throw"InterfaceHdr codePage "+r;return 1200}},226:{n:"InterfaceEnd",f:Yr},227:{n:"SXVS",f:Ca},229:{n:"MergeCells",f:function(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(sr(e));return r}},233:{n:"BkHim",f:Ta},235:{n:"MsoDrawingGroup",f:ba},236:{n:"MsoDrawing",f:va},237:{n:"MsoDrawingSelection",f:Ia},239:{n:"PhoneticInfo",f:Ra},240:{n:"SxRule",f:Da},241:{n:"SXEx",f:Oa},242:{n:"SxFilt",f:Aa},244:{n:"SxDXF",f:Pa},245:{n:"SxItm",f:xa},246:{n:"SxName",f:ka},247:{n:"SxSelect",f:Fa},248:{n:"SXPair",f:wa},249:{n:"SxFmla",f:Na},251:{n:"SxFormat",f:La},252:{n:"SST",f:function(e,t){for(var r=e.read_shift(4),n=e.read_shift(4),a=[],s=0;s!=n;++s)a.push(Yt(e));return a.Count=r,a.Unique=n,a}},253:{n:"LabelSst",f:function(e,t){var r=rr(e);return r.isst=e.read_shift(4),r}},255:{n:"ExtSST",f:function(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}},256:{n:"SXVDEx",f:Ma},259:{n:"SXFormula",f:ya},290:{n:"SXDBEx",f:_a},311:{n:"RRDInsDel",f:Va},312:{n:"RRDHead",f:Ua},315:{n:"RRDChgCell",f:Ha},317:{n:"RRTabId",f:cn},318:{n:"RRDRenSheet",f:Xa},319:{n:"RRSort",f:Ga},320:{n:"RRDMove",f:Wa},330:{n:"RRFormat",f:Ka},331:{n:"RRAutoFmt",f:ja},333:{n:"RRInsertSh",f:Ya},334:{n:"RRDMoveBegin",f:za},335:{n:"RRDMoveEnd",f:$a},336:{n:"RRDInsDelBegin",f:Qa},337:{n:"RRDInsDelEnd",f:Za},338:{n:"RRDConflict",f:qa},339:{n:"RRDDefName",f:Ja},340:{n:"RRDRstEtxp",f:es},351:{n:"LRng",f:ts},352:{n:"UsesELFs",f:dn},353:{n:"DSF",f:Mr},401:{n:"CUsr",f:rs},402:{n:"CbUsr",f:ns},403:{n:"UsrInfo",f:as},404:{n:"UsrExcl",f:ss},405:{n:"FileLock",f:is},406:{n:"RRDInfo",f:cs},407:{n:"BCUsrs",f:os},408:{n:"UsrChk",f:fs},425:{n:"UserBView",f:ls},426:{n:"UserSViewBegin",f:us},427:{n:"UserSViewEnd",f:hs},428:{n:"RRDUserView",f:ds},429:{n:"Qsi",f:Bs},430:{n:"SupBook",f:function(e,t,r){var n,a=e.l+t,s=e.read_shift(2),i=e.read_shift(2);i>=1&&i<=255&&(n=zt(e,i));var c=e.read_shift(a-e.l);return r.sbcch=i,[i,s,n,c]}},431:{n:"Prot4Rev",f:tn},432:{n:"CondFmt",f:Es},433:{n:"CF",f:ps},434:{n:"DVal",f:ms},437:{n:"DConBin",f:Ss},438:{n:"TxO",f:function(e,t,r){var n=e.l;try{e.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1];-1==[0,5,7,11,12,14].indexOf(a)?e.l+=6:Zt(e,6,r);var s=e.read_shift(2),i=(e.read_shift(2),lr(e,2),e.read_shift(2));e.l+=i;for(var c="",o=1;o<e.lens.length-1;++o){if(e.l-n!=e.lens[o])throw"TxO: bad continue record";var f=e[e.l];if((c+=zt(e,e.lens[o+1]-e.lens[o]-1)).length>=(f?s:2*s))break}if(c.length!==s&&c.length!==2*s)throw"cchText: "+s+" != "+c.length;return e.l=n+t,{t:c}}catch(r){return e.l=n+t,{t:c||""}}}},439:{n:"RefreshAll",f:an},440:{n:"HLink",f:function(e,t){var r=sr(e);return e.l+=16,[r,function(e,t){var r=e.l+t,n=e.read_shift(4);if(2!==n)throw new Error("Unrecognized streamVersion: "+n);var a,s,i,c,o=e.read_shift(2);e.l+=2,16&o&&Jt(e,e.l),128&o&&(a=Jt(e,e.l)),257==(257&o)&&(s=Jt(e,e.l)),1==(257&o)&&(i=qt(e,e.l)),8&o&&(c=Jt(e,e.l)),32&o&&e.read_shift(16),64&o&&xt(e),e.l=r;var f=a||s||i;return c&&(f+="#"+c),{Target:f}}(e,t-24)]}},441:{n:"Lel",f:gs},442:{n:"CodeName",f:Cs},443:{n:"SXFDBType",f:Ts},444:{n:"Prot4RevPass",f:rn},445:{n:"ObNoMacros",f:bs},446:{n:"Dv",f:vs},448:{n:"Excel9File",f:Vr},449:{n:"RecalcId",f:function(e,t){return e.read_shift(2),e.read_shift(4)},r:2},450:{n:"EntExU2",f:yr},512:{n:"Dimensions",f:function(e,t){var r=10===t?2:4,n=e.read_shift(r),a=e.read_shift(r),s=e.read_shift(2),i=e.read_shift(2);return e.l+=2,{s:{r:n,c:s},e:{r:a,c:i}}}},513:{n:"Blank",f:br},515:{n:"Number",f:function(e,t){var r=rr(e),n=Qe(e);return r.val=n,r}},516:{n:"Label",f:dr},517:{n:"BoolErr",f:function(e,t){var r=rr(e),n=function(e){var t=e.read_shift(1);return 1===e.read_shift(1)?t:1===t}(e);return r.val=n,r.t=!0===n||!1===n?"b":"e",r}},519:{n:"String",f:ln},520:{n:"Row",f:function(e,t){var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return e.read_shift(2),e.read_shift(4),e.read_shift(1),e.read_shift(1),e.read_shift(2),{r:r,c:n,cnt:a-n}}},523:{n:"Index",f:Is},545:{n:"Array",f:function(e,t,r){var n=cr(e,6);return e.l+=6,[n,function(e,t,r,n){var a,s=e.l+t,i=e.read_shift(2);if(65535==i)return[[],we(e,t-2)];var c=Cf(e,i);return t!==i+2&&(a=gf(e,s-i-2,c,r)),[c,a]}(e,t-=12,r)]}},549:{n:"DefaultRowHeight",f:function(e,t){var r=e.read_shift(2);return[{Unsynced:1&r,DyZero:(2&r)>>1,ExAsc:(4&r)>>2,ExDsc:(8&r)>>3},e.read_shift(2)]}},566:{n:"Table",f:Rs},574:{n:"Window2",f:Cr},638:{n:"RK",f:function(e,t){var r=e.read_shift(2),n=e.read_shift(2),a=ar(e);return{r:r,c:n,ixfe:a[0],rknum:a[1]}}},659:{n:"Style",f:mr},1048:{n:"BigName",f:Ds},1054:{n:"Format",f:function(e,t,r){return[e.read_shift(2),Qt(e,0,r)]}},1084:{n:"ContinueBigName",f:Os},1212:{n:"ShrFmla",f:function(e,t,r){ir(e),e.l++;var n=e.read_shift(1);return[function(e,t,r){var n,a=e.l+t,s=e.read_shift(2),i=Cf(e,s);return 65535==s?[[],we(e,t-2)]:(t!==s+2&&(n=gf(e,a-s-2,i,r)),[i,n])}(e,t-=8,r),n]}},2048:{n:"HLinkTooltip",f:function(e,t){e.l;e.read_shift(2);var r=sr(e),n=e.read_shift((t-10)/2,"dbcs-cont");return[r,n=n.replace(E,"")]}},2049:{n:"WebPub",f:As},2050:{n:"QsiSXTag",f:Ps},2051:{n:"DBQueryExt",f:xs},2052:{n:"ExtString",f:ks},2053:{n:"TxtQry",f:Fs},2054:{n:"Qsir",f:ws},2055:{n:"Qsif",f:Ns},2056:{n:"RRDTQSIF",f:Ls},2057:{n:"BOF",f:ur},2058:{n:"OleDbConn",f:Ms},2059:{n:"WOpt",f:ys},2060:{n:"SXViewEx",f:_s},2061:{n:"SXTH",f:Vs},2062:{n:"SXPIEx",f:Us},2063:{n:"SXVDTEx",f:Hs},2064:{n:"SXViewEx9",f:Xs},2066:{n:"ContinueFrt",f:Gs},2067:{n:"RealTimeData",f:Ws},2128:{n:"ChartFrtInfo",f:Ks},2129:{n:"FrtWrapper",f:js},2130:{n:"StartBlock",f:Ys},2131:{n:"EndBlock",f:zs},2132:{n:"StartObject",f:$s},2133:{n:"EndObject",f:Qs},2134:{n:"CatLab",f:Zs},2135:{n:"YMult",f:qs},2136:{n:"SXViewLink",f:Js},2137:{n:"PivotChartBits",f:ei},2138:{n:"FrtFontList",f:ti},2146:{n:"SheetExt",f:ri},2147:{n:"BookExt",f:ni,r:12},2148:{n:"SXAddl",f:ai},2149:{n:"CrErr",f:si},2150:{n:"HFPicture",f:ii},2151:{n:"FeatHdr",f:Ur},2152:{n:"Feat",f:ci},2154:{n:"DataLabExt",f:oi},2155:{n:"DataLabExtContents",f:fi},2156:{n:"CellWatch",f:li},2161:{n:"FeatHdr11",f:ui},2162:{n:"Feature11",f:hi},2164:{n:"DropDownObjIds",f:di},2165:{n:"ContinueFrt11",f:Bi},2166:{n:"DConn",f:Ei},2167:{n:"List12",f:pi},2168:{n:"Feature12",f:mi},2169:{n:"CondFmt12",f:Si},2170:{n:"CF12",f:gi},2171:{n:"CFEx",f:Ci},2172:{n:"XFCRC",f:function(e,t){e.l+=2;var r={cxfs:0,crc:0};return r.cxfs=e.read_shift(2),r.crc=e.read_shift(4),r},r:12},2173:{n:"XFExt",f:function(e,t){e.l,e.l+=2;var r=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),a=[];n-- >0;)a.push(qo(e,e.l));return{ixfe:r,ext:a}},r:12},2174:{n:"AutoFilter12",f:Ti},2175:{n:"ContinueFrt12",f:bi},2180:{n:"MDTInfo",f:vi},2181:{n:"MDXStr",f:Ii},2182:{n:"MDXTuple",f:Ri},2183:{n:"MDXSet",f:Di},2184:{n:"MDXProp",f:Oi},2185:{n:"MDXKPI",f:Ai},2186:{n:"MDB",f:Pi},2187:{n:"PLV",f:xi},2188:{n:"Compat12",f:wr,r:12},2189:{n:"DXF",f:ki},2190:{n:"TableStyles",f:Fi,r:12},2191:{n:"TableStyle",f:wi},2192:{n:"TableStyleElement",f:Ni},2194:{n:"StyleExt",f:Sr},2195:{n:"NamePublish",f:Li},2196:{n:"NameCmt",f:Mi},2197:{n:"SortData",f:yi},2198:{n:"Theme",f:function(e,t){124226!==e.read_shift(4)&&(e.l+=t-4)},r:12},2199:{n:"GUIDTypeLib",f:_i},2200:{n:"FnGrp12",f:Vi},2201:{n:"NameFnGrp12",f:Ui},2202:{n:"MTRSettings",f:function(e,t){return[0!==e.read_shift(4),0!==e.read_shift(4),e.read_shift(4)]},r:12},2203:{n:"CompressPictures",f:hr},2204:{n:"HeaderFooter",f:Hi},2205:{n:"CrtLayout12",f:Xi},2206:{n:"CrtMlFrt",f:Gi},2207:{n:"CrtMlFrtContinue",f:Wi},2211:{n:"ForceFullCalculation",f:function(e,t){var r=function(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}(e);if(2211!=r.type)throw"Invalid Future Record "+r.type;return 0!==e.read_shift(4)}},2212:{n:"ShapePropsStream",f:Ki},2213:{n:"TextPropsStream",f:ji},2214:{n:"RichTextStream",f:Yi},2215:{n:"CrtLayout12A",f:zi},4097:{n:"Units",f:$i},4098:{n:"Chart",f:Qi},4099:{n:"Series",f:Zi},4102:{n:"DataFormat",f:qi},4103:{n:"LineFormat",f:Ji},4105:{n:"MarkerFormat",f:ec},4106:{n:"AreaFormat",f:tc},4107:{n:"PieFormat",f:rc},4108:{n:"AttachedLabel",f:nc},4109:{n:"SeriesText",f:ac},4116:{n:"ChartFormat",f:sc},4117:{n:"Legend",f:ic},4118:{n:"SeriesList",f:cc},4119:{n:"Bar",f:oc},4120:{n:"Line",f:fc},4121:{n:"Pie",f:lc},4122:{n:"Area",f:uc},4123:{n:"Scatter",f:hc},4124:{n:"CrtLine",f:dc},4125:{n:"Axis",f:Bc},4126:{n:"Tick",f:Ec},4127:{n:"ValueRange",f:pc},4128:{n:"CatSerRange",f:mc},4129:{n:"AxisLine",f:Sc},4130:{n:"CrtLink",f:gc},4132:{n:"DefaultText",f:Cc},4133:{n:"Text",f:Tc},4134:{n:"FontX",f:Hr},4135:{n:"ObjectLink",f:bc},4146:{n:"Frame",f:vc},4147:{n:"Begin",f:Ic},4148:{n:"End",f:Rc},4149:{n:"PlotArea",f:Dc},4154:{n:"Chart3d",f:Oc},4156:{n:"PicF",f:Ac},4157:{n:"DropBar",f:Pc},4158:{n:"Radar",f:xc},4159:{n:"Surf",f:kc},4160:{n:"RadarArea",f:Fc},4161:{n:"AxisParent",f:wc},4163:{n:"LegendException",f:Nc},4164:{n:"ShtProps",f:Lc},4165:{n:"SerToCrt",f:Mc},4166:{n:"AxesUsed",f:yc},4168:{n:"SBaseRef",f:_c},4170:{n:"SerParent",f:Vc},4171:{n:"SerAuxTrend",f:Uc},4174:{n:"IFmtRecord",f:Hc},4175:{n:"Pos",f:Xc},4176:{n:"AlRuns",f:Gc},4177:{n:"BRAI",f:Wc},4187:{n:"SerAuxErrBar",f:Kc},4188:{n:"ClrtClient",f:function(e,t){for(var r=e.read_shift(2),n=[];r-- >0;)n.push(tr(e));return n}},4189:{n:"SerFmt",f:jc},4191:{n:"Chart3DBarShape",f:Yc},4192:{n:"Fbi",f:zc},4193:{n:"BopPop",f:$c},4194:{n:"AxcExt",f:Qc},4195:{n:"Dat",f:Zc},4196:{n:"PlotGrowth",f:qc},4197:{n:"SIIndex",f:Jc},4198:{n:"GelFrame",f:eo},4199:{n:"BopPopCustom",f:to},4200:{n:"Fbi2",f:ro},22:{n:"ExternCount",f:we},126:{n:"RK",f:we},127:{n:"ImData",f:we},135:{n:"Addin",f:we},136:{n:"Edg",f:we},137:{n:"Pub",f:we},145:{n:"Sub",f:we},148:{n:"LHRecord",f:we},149:{n:"LHNGraph",f:we},150:{n:"Sound",f:we},169:{n:"CoordList",f:we},171:{n:"GCW",f:we},188:{n:"ShrFmla",f:we},194:{n:"AddMenu",f:we},195:{n:"DelMenu",f:we},214:{n:"RString",f:we},223:{n:"UDDesc",f:we},234:{n:"TabIdConf",f:we},354:{n:"XL5Modify",f:we},421:{n:"FileSharing2",f:we},536:{n:"Name",f:we},547:{n:"ExternName",f:pr},561:{n:"Font",f:we},1030:{n:"Formula",f:Sf},2157:{n:"FeatInfo",f:we},2163:{n:"FeatInfo11",f:we},2177:{n:"SXAddl12",f:we},2240:{n:"AutoWebPub",f:we},2241:{n:"ListObj",f:we},2242:{n:"ListField",f:we},2243:{n:"ListDV",f:we},2244:{n:"ListCondFmt",f:we},2245:{n:"ListCF",f:we},2246:{n:"FMQry",f:we},2247:{n:"FMSQry",f:we},2248:{n:"PLV",f:we},2249:{n:"LnExt",f:we},2250:{n:"MkrExt",f:we},2251:{n:"CrtCoopt",f:we},0:{}};function Wl(e){return function(t){for(var r=0;r!=e.length;++r){var n=e[r];void 0===t[n[0]]&&(t[n[0]]=n[1]),"n"===n[2]&&(t[n[0]]=Number(t[n[0]]))}}}var Kl=Wl([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]]),jl=Wl([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["WTF",!1]]);function Yl(e,t,r,n,a,s,i){try{a[n]=mt(P(e,r,!0),t),s[n]=El(P(e,t),t,i,a[n])}catch(e){if(i.WTF)throw e}}var zl=function(e){return"/"!=e.substr(-1)};function $l(e,t){if(S(m),Kl(t=t||{}),a(),O(e,"META-INF/manifest.xml"))return function(e,t){if("undefined"!=typeof module&&"undefined"!=typeof require&&"undefined"==typeof ODS&&(ODS=require("./ods")),"undefined"==typeof ODS||!ODS.parse_ods)throw new Error("Unsupported ODS");return ODS.parse_ods(e,t)}(e,t);var r,n,i=v(e.files).filter(zl).sort(),c=function(e,t){var r={};if(!e||!e.match)return e;var n={workbooks:[],sheets:[],calcchains:[],themes:[],styles:[],coreprops:[],extprops:[],custprops:[],strs:[],comments:[],vba:[],TODO:[],rels:[],xmlns:""};if((e.match(F)||[]).forEach(function(e){var a=L(e);switch(a[0].replace(w,"<")){case"<?xml":break;case"<Types":n.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":void 0!==n[ut[a.ContentType]]?n[ut[a.ContentType]].push(a.PartName):t.WTF&&console.error(a)}}),
n.xmlns!==Te.CT)throw new Error("Unknown Namespace: "+n.xmlns);return n.calcchain=n.calcchains.length>0?n.calcchains[0]:"",n.sst=n.strs.length>0?n.strs[0]:"",n.style=n.styles.length>0?n.styles[0]:"",n.defaults=r,delete n.calcchains,n}(P(e,"[Content_Types].xml"),t),o=!1;if(0===c.workbooks.length&&P(e,n="xl/workbook.xml",!0)&&c.workbooks.push(n),0===c.workbooks.length){if(!A(e,n="xl/workbook.bin"))throw new Error("Could not find workbook");c.workbooks.push(n),o=!0}"bin"==c.workbooks[0].substr(-3)&&(o=!0),o&&s(1200),t.bookSheets||t.bookProps||(Af=[],c.sst&&(Af=Sl(P(e,c.sst.replace(/^\//,"")),c.sst,t)),_o={},c.style&&(_o=pl(P(e,c.style.replace(/^\//,"")),c.style,t)),Vo={},t.cellStyles&&c.themes.length&&(Vo=ml(P(e,c.themes[0].replace(/^\//,""),!0),c.themes[0],t)));var f=Bl(P(e,c.workbooks[0].replace(/^\//,"")),c.workbooks[0],t),l={},u="";0!==c.coreprops.length&&((u=P(e,c.coreprops[0].replace(/^\//,""),!0))&&(l=function(e){for(var t={},r=0;r<Ct.length;++r){var n=Ct[r],a=e.match(Tt[r]);null!=a&&a.length>0&&(t[n[1]]=a[1]),"date"===n[2]&&t[n[1]]&&(t[n[1]]=new Date(t[n[1]]))}return t}(u)),0!==c.extprops.length&&(u=P(e,c.extprops[0].replace(/^\//,""),!0))&&function(e,t){var r={};if(t||(t={}),It.forEach(function(n){switch(n[2]){case"string":t[n[1]]=(e.match(q(n[0]))||[])[1];break;case"bool":t[n[1]]="true"===(e.match(q(n[0]))||[])[1];break;case"raw":var a=e.match(new RegExp("<"+n[0]+"[^>]*>(.*)</"+n[0]+">"));a&&a.length>0&&(r[n[1]]=a[1])}}),r.HeadingPairs&&r.TitlesOfParts){for(var n=re(r.HeadingPairs),a=0,s=0;s!==n.length;++s)switch(n[s].v){case"Worksheets":a=0,t.Worksheets=+n[++s].v;break;case"Named Ranges":++s}var i=re(r.TitlesOfParts).map(function(e){return j(e.v)});t.SheetNames=i.slice(a,a+t.Worksheets)}}(u,l));var h={};t.bookSheets&&!t.bookProps||0!==c.custprops.length&&(u=P(e,c.custprops[0].replace(/^\//,""),!0))&&(h=function(e,t){var r,n={},a=e.match(Dt);if(a)for(var s=0;s!=a.length;++s){var i=a[s],c=L(i);switch(c[0]){case"<?xml":break;case"<Properties":if(c.xmlns!==Te.CUST_PROPS)throw"unrecognized xmlns "+c.xmlns;if(c.xmlnsvt&&c.xmlnsvt!==Te.vt)throw"unrecognized vt "+c.xmlnsvt;break;case"<property":r=c.name;break;case"</property>":r=null;break;default:if(0===i.indexOf("<vt:")){var o=i.split(">"),f=o[0].substring(4),l=o[1];switch(f){case"lpstr":case"lpwstr":case"bstr":case"lpwstr":n[r]=U(l);break;case"bool":n[r]=K(l);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(l,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(l);break;case"filetime":case"date":n[r]=new Date(l);break;case"cy":case"error":n[r]=U(l);break;default:"undefined"!=typeof console&&console.warn("Unexpected",i,f,o)}}else if("</"===i.substr(0,2));else if(t.WTF)throw new Error(i)}}return n}(u,t));var d={};if((t.bookSheets||t.bookProps)&&(l.Worksheets&&l.SheetNames.length>0?r=l.SheetNames:f.Sheets&&(r=f.Sheets.map(function(e){return e.name})),t.bookProps&&(d.Props=l,d.Custprops=h),void 0!==r&&(d.SheetNames=r),t.bookSheets?d.SheetNames:t.bookProps))return d;r={};var B={};t.bookDeps&&c.calcchain&&(B=Cl(P(e,c.calcchain.replace(/^\//,"")),c.calcchain,t));var E,p=0,g={};if(!l.Worksheets){var C=f.Sheets;l.Worksheets=C.length,l.SheetNames=[];for(var T=0;T!=C.length;++T)l.SheetNames[T]=C[T].name}var b=o?"bin":"xml",I="xl/_rels/workbook."+b+".rels",R=mt(P(e,I,!0),I);R&&(R=function(e,t){if(!e)return 0;try{e=t.map(function(t){return[t.name,e["!id"][t.id].Target]})}catch(e){return null}return e&&0!==e.length?e:null}(R,f.Sheets));var D=P(e,"xl/worksheets/sheet.xml",!0)?1:0;for(p=0;p!=l.Worksheets;++p)Yl(e,E=R?"xl/"+R[p][1].replace(/[\/]?xl\//,""):(E="xl/worksheets/sheet"+(p+1-D)+"."+b).replace(/sheet0\./,"sheet."),E.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),l.SheetNames[p],g,r,t);return c.comments&&function(e,t,r,n,a){for(var s=0;s!=t.length;++s){var i=t[s],c=gl(P(e,i.replace(/^\//,""),!0),i,a);if(c&&c.length)for(var o=v(r),f=0;f!=o.length;++f){var l=o[f],u=n[l];u&&u[i]&&Jo(0,r[l],c)}}}(e,c.comments,r,g,t),d={Directory:c,Workbook:f,Props:l,Custprops:h,Deps:B,Sheets:r,SheetNames:l.SheetNames,Strings:Af,Styles:_o,Themes:Vo,SSF:m.get_table()},t.bookFiles&&(d.keys=i,d.files=e.files),t.bookVBA&&(c.vba.length>0?d.vbaraw=P(e,c.vba[0],!0):"application/vnd.ms-office.vbaProject"===c.defaults.bin&&(d.vbaraw=P(e,"xl/vbaProject.bin",!0))),d}function Ql(e,t,r,n,a){if(a||(a={}),e["!id"]||(e["!id"]={}),a.Id="rId"+t,a.Type=n,a.Target=r,e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a}function Zl(e,t){e&&!e.SSF&&(e.SSF=m.get_table()),e&&e.SSF&&(S(m),m.load_table(e.SSF),t.revssf=I(e.SSF),t.revssf[e.SSF[65535]]=0),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0;var r="xlsb"==t.bookType?"bin":"xml",n={workbooks:[],sheets:[],calcchains:[],themes:[],styles:[],coreprops:[],extprops:[],custprops:[],strs:[],comments:[],vba:[],TODO:[],rels:[],xmlns:""};jl(t=t||{});var a,s,i,c=new x,o="",f=0;for(t.cellXfs=[],kf(t.cellXfs,{},{revssf:{General:0}}),o="docProps/core.xml",c.file(o,function(e,t){var r=[Ce,bt],n={};if(!e)return r.join("");null!=e.CreatedDate&&vt("dcterms:created","string"==typeof e.CreatedDate?e.CreatedDate:ie(e.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,n),null!=e.ModifiedDate&&vt("dcterms:modified","string"==typeof e.ModifiedDate?e.ModifiedDate:ie(e.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,n);for(var a=0;a!=Ct.length;++a){var s=Ct[a];vt(s[0],e[s[1]],null,r,n)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}(e.Props,t)),n.coreprops.push(o),Ql(t.rels,2,o,pt.CORE_PROPS),o="docProps/app.xml",e.Props||(e.Props={}),e.Props.SheetNames=e.SheetNames,e.Props.Worksheets=e.SheetNames.length,c.file(o,(a=e.Props,s=[],i=se,a||(a={}),a.Application="SheetJS",s[s.length]=Ce,s[s.length]=Rt,It.forEach(function(e){if(void 0!==a[e[1]]){var t;switch(e[2]){case"string":t=a[e[1]];break;case"bool":t=a[e[1]]?"true":"false"}void 0!==t&&(s[s.length]=i(e[0],t))}}),s[s.length]=i("HeadingPairs",i("vt:vector",i("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+i("vt:variant",i("vt:i4",String(a.Worksheets))),{size:2,baseType:"variant"})),s[s.length]=i("TitlesOfParts",i("vt:vector",a.SheetNames.map(function(e){return"<vt:lpstr>"+e+"</vt:lpstr>"}).join(""),{size:a.Worksheets,baseType:"lpstr"})),s.length>2&&(s[s.length]="</Properties>",s[1]=s[1].replace("/>",">")),s.join(""))),n.extprops.push(o),Ql(t.rels,3,o,pt.EXT_PROPS),e.Custprops!==e.Props&&v(e.Custprops||{}).length>0&&(o="docProps/custom.xml",c.file(o,At(e.Custprops)),n.custprops.push(o),Ql(t.rels,4,o,pt.CUST_PROPS)),o="xl/workbook."+r,c.file(o,function(e,t,r){return(".bin"===t.substr(-4)?dl:ul)(e,r)}(e,o,t)),n.workbooks.push(o),Ql(t.rels,1,o,pt.WB),f=1;f<=e.SheetNames.length;++f)o="xl/worksheets/sheet"+f+"."+r,c.file(o,Tl(f-1,o,t,e)),n.sheets.push(o),Ql(t.wbrels,f,"worksheets/sheet"+f+"."+r,pt.WS);return null!=t.Strings&&t.Strings.length>0&&(o="xl/sharedStrings."+r,c.file(o,vl(t.Strings,o,t)),n.strs.push(o),Ql(t.wbrels,++f,"sharedStrings."+r,pt.SST)),o="xl/theme/theme1.xml",c.file(o,'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="1F497D"/></a:dk2><a:lt2><a:srgbClr val="EEECE1"/></a:lt2><a:accent1><a:srgbClr val="4F81BD"/></a:accent1><a:accent2><a:srgbClr val="C0504D"/></a:accent2><a:accent3><a:srgbClr val="9BBB59"/></a:accent3><a:accent4><a:srgbClr val="8064A2"/></a:accent4><a:accent5><a:srgbClr val="4BACC6"/></a:accent5><a:accent6><a:srgbClr val="F79646"/></a:accent6><a:hlink><a:srgbClr val="0000FF"/></a:hlink><a:folHlink><a:srgbClr val="800080"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Cambria"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=" "/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=""/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=" "/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=""/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="1"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst><a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d><a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults><a:spDef><a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style></a:spDef><a:lnDef><a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style></a:lnDef></a:objectDefaults><a:extraClrSchemeLst/></a:theme>'),n.themes.push(o),Ql(t.wbrels,++f,"theme/theme1.xml",pt.THEME),o="xl/styles."+r,c.file(o,bl(e,o,t)),n.styles.push(o),Ql(t.wbrels,++f,"styles."+r,pt.STY),c.file("[Content_Types].xml",function(e,t){var r,n=[];n[n.length]=Ce,n[n.length]=Bt,n=n.concat(Et);var a,s=function(a){e[a]&&e[a].length>0&&(r=e[a][0],n[n.length]=se("Override",null,{PartName:("/"==r[0]?"":"/")+r,ContentType:ht[a][t.bookType||"xlsx"]}))},i=function(t){(e[t]||[]).forEach(function(e){n[n.length]=se("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:dt[t][0]})})};return s("workbooks"),e[a="sheets"].forEach(function(e){n[n.length]=se("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:ht[a][t.bookType||"xlsx"]})}),i("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(i),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}(n,t)),c.file("_rels/.rels",gt(t.rels)),c.file("xl/_rels/workbook."+r+".rels",gt(t.wbrels)),c}function ql(e,t){var r,n=e,a=!1,s=t||{};switch(s.type||(s.type=u&&Buffer.isBuffer(e)?"buffer":"base64"),"file"==s.type&&(a=!0,s.type="buffer",n=g.readFileSync(e)),r=function(e,t){switch((t||{}).type||"base64"){case"buffer":return e[0];case"base64":return l.decode(e.substr(0,12)).charCodeAt(0);case"binary":return e.charCodeAt(0);case"array":return e[0];default:throw new Error("Unrecognized type "+t.type)}}(n,s)){case 208:return a&&(s.type="file"),Ul(T.read(e,s),s);case 9:return Ul(d("base64"===s.type?l.decode(e):e),s);case 60:return function(e,t){switch(Kl(t=t||{}),t.type||"base64"){case"base64":return Ll(l.decode(e),t);case"binary":case"buffer":case"file":return Ll(e,t);case"array":return Ll(e.map(Dl).join(""),t)}}(n,s);case 80:return a&&(s.type="file"),function(e,t){var r,n=e,a=t||{};switch(a.type||(a.type=u&&Buffer.isBuffer(e)?"buffer":"base64"),a.type){case"base64":r=new x(n,{base64:!0});break;case"binary":case"array":r=new x(n,{base64:!1});break;case"buffer":r=new x(n);break;case"file":r=new x(n=g.readFileSync(e));break;default:throw new Error("Unrecognized type "+a.type)}return $l(r,a)}(e,t);default:throw new Error("Unsupported file "+r)}}function Jl(e,t){var r=t||{};return r.type="file",ql(e,r)}function eu(e,t){var r=t||{};switch(r.bookType){case"xml":return;default:return function(e,t){var r=t||{},n=Zl(e,r);switch(r.type){case"base64":return n.generate({type:"base64"});case"binary":return n.generate({type:"string"});case"buffer":return n.generate({type:"nodebuffer"});case"file":return g.writeFileSync(r.file,n.generate({type:"nodebuffer"}));default:throw new Error("Unrecognized type "+r.type)}}(e,r)}}function tu(e,t,r){var n=r||{};switch(n.type="file",n.file=t,n.file.substr(-5).toLowerCase()){case".xlsx":n.bookType="xlsx";break;case".xlsm":n.bookType="xlsm";break;case".xlsb":n.bookType="xlsb";break;default:switch(n.file.substr(-4).toLowerCase()){case".xls":n.bookType="xls";break;case".xml":n.bookType="xml"}}return eu(e,n)}function ru(e){return parseInt(au(e),10)-1}function nu(e){return""+(e+1)}function au(e){return e.replace(/\$(\d+)$/,"$1")}function su(e){for(var t=cu(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function iu(e){var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function cu(e){return e.replace(/^\$([A-Z])/,"$1")}function ou(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function fu(e){var t=ou(e);return{c:su(t[0]),r:ru(t[1])}}function lu(e){return iu(e.c)+nu(e.r)}function uu(e,t){return void 0===t||"number"==typeof t?uu(e.s,e.e):("string"!=typeof e&&(e=lu(e)),"string"!=typeof t&&(t=lu(t)),e==t?e:e+":"+t)}function hu(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||58===e.charCodeAt(++n))return t.e.c=t.s.c,t.e.r=t.s.r,t;for(r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function du(e,t){if(void 0!==e.z)try{return e.w=m.format(e.z,t)}catch(e){}if(!e.XF)return t;try{return e.w=m.format(e.XF.ifmt||0,t)}catch(e){return""+t}}function Bu(e,t){return null==e||null==e.t?"":void 0!==e.w?e.w:du(e,void 0===t?e.v:t)}function Eu(e,t){var r,n,a,s,i,c,o,f,l=0,u=1,h=[],d=null!=t?t:{},B=d.raw;if(null==e||null==e["!ref"])return[];switch(a=void 0!==d.range?d.range:e["!ref"],1===d.header?l=1:"A"===d.header?l=2:Array.isArray(d.header)&&(l=3),typeof a){case"string":s=hu(a);break;case"number":(s=hu(e["!ref"])).s.r=a;break;default:s=a}l>0&&(u=0);var E=nu(s.s.r),p=new Array(s.e.c-s.s.c+1),m=new Array(s.e.r-s.s.r-u+1),S=0;for(o=s.s.c;o<=s.e.c;++o)switch(p[o]=iu(o),r=e[p[o]+E],l){case 1:h[o]=o;break;case 2:h[o]=p[o];break;case 3:h[o]=d.header[o-s.s.c];break;default:if(void 0===r)continue;h[o]=Bu(r)}for(c=s.s.r+u;c<=s.e.r;++c){for(E=nu(c),i=!0,1===l?n=[]:(n={},Object.defineProperty?Object.defineProperty(n,"__rowNum__",{value:c,enumerable:!1}):n.__rowNum__=c),o=s.s.c;o<=s.e.c;++o)if(void 0!==(r=e[p[o]+E])&&void 0!==r.t){switch(f=r.v,r.t){case"e":continue;case"s":break;case"b":case"n":break;default:throw"unrecognized type "+r.t}void 0!==f&&(n[h[o]]=B?f:Bu(r,f),i=!1)}!1!==i&&1!==l||(m[S++]=n)}return m.length=S,m}function pu(e,t){var r="",n="",a=/"/g,s=null==t?{}:t;if(null==e||null==e["!ref"])return"";var i,c=hu(e["!ref"]),o=void 0!==s.FS?s.FS:",",f=o.charCodeAt(0),l=void 0!==s.RS?s.RS:"\n",u=l.charCodeAt(0),h="",d="",B=[],E=0,p=0,m=0,S=0;for(S=c.s.c;S<=c.e.c;++S)B[S]=iu(S);for(m=c.s.r;m<=c.e.r;++m){for(h="",d=nu(m),S=c.s.c;S<=c.e.c;++S){for(n=void 0!==(i=e[B[S]+d])?""+Bu(i):"",E=0,p=0;E!==n.length;++E)if((p=n.charCodeAt(E))===f||p===u||34===p){n='"'+n.replace(a,'""')+'"';break}h+=(S===c.s.c?"":o)+n}r+=h+l}return r}function mu(e){var t,r,n="",a="";if(null==e||null==e["!ref"])return"";var s,i=hu(e["!ref"]),c="",o=[];t=new Array((i.e.r-i.s.r+1)*(i.e.c-i.s.c+1));var f=0;for(s=i.s.c;s<=i.e.c;++s)o[s]=iu(s);for(var l=i.s.r;l<=i.e.r;++l)for(c=nu(l),s=i.s.c;s<=i.e.c;++s)if(a="",void 0!==(r=e[n=o[s]+c])){if(null!=r.f)a=r.f;else if(void 0!==r.w)a="'"+r.w;else{if(void 0===r.v)continue;a=""+r.v}t[f++]=n+"="+a}return t.length=f,t}var Su={encode_col:iu,encode_row:nu,encode_cell:lu,encode_range:uu,decode_col:su,decode_row:ru,split_cell:ou,decode_cell:fu,decode_range:function(e){var t=e.split(":").map(fu);return{s:t[0],e:t[t.length-1]}},format_cell:Bu,get_formulae:mu,make_csv:pu,make_json:Eu,make_formulae:mu,sheet_to_csv:pu,sheet_to_json:Eu,sheet_to_formulae:mu,sheet_to_row_object_array:function(e,t){return Eu(e,null!=t?t:{})}};return r.parse_xlscfb=Ul,r.parse_zip=$l,r.read=ql,r.readFile=Jl,r.readFileSync=Jl,r.write=eu,r.writeFile=tu,r.writeFileSync=tu,r.utils=Su,r.CFB=T,r.SSF=m,e.default=e.XLSX=r});
!function(t,e){"object"==typeof exports&&"string"!=typeof exports.nodeName?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("FileSaver requires a window with a document");return e(t)}:e(t)}(window||this,function(t,e){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var n=function(){return t.URL||t.webkitURL||t},o=t.document.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in o,a=/constructor/i.test(t.HTMLElement)||t.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent),c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},u=function(t){setTimeout(function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()},4e4)},d=function(t,e,n){for(var o=(e=[].concat(e)).length;o--;){var r=t["on"+e[o]];if("function"==typeof r)try{r.call(t,n||t)}catch(t){c(t)}}},f=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},s=function(e,c,s){s||(e=f(e));var l,p=this,v="application/octet-stream"===e.type,w=function(){d(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,r)return l=n().createObjectURL(e),void setTimeout(function(){var t,e;o.href=l,o.download=c,t=o,e=new MouseEvent("click"),t.dispatchEvent(e),w(),u(l),p.readyState=p.DONE});!function(){if((i||v&&a)&&t.FileReader){var o=new FileReader;return o.onloadend=function(){var e=i?o.result:o.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,w()},o.readAsDataURL(e),void(p.readyState=p.INIT)}l||(l=n().createObjectURL(e)),v?t.location.href=l:t.open(l,"_blank")||(t.location.href=l);p.readyState=p.DONE,w(),u(l)}()},l=s.prototype,p=function(t,e,n){return new s(t,e||t.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=f(t)),navigator.msSaveOrOpenBlob(t,e)}:(l.abort=function(){},l.readyState=l.INIT=0,l.WRITING=1,l.DONE=2,l.error=l.onwritestart=l.onprogress=l.onwrite=l.onabort=l.onerror=l.onwriteend=null,"function"==typeof define&&define.amd&&define("file-saverjs",[],function(){return p}),void 0===e&&(t.saveAs=p),p)}});
!function(t,e){"object"==typeof exports&&"string"!=typeof exports.nodeName?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("blobjs requires a window with a document");return e(t)}:e(t)}(window||this,function(t,e){"use strict";var n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL&&!n)try{return new t.Blob,"function"==typeof define&&define.amd&&define("blobjs",[],function(){return t.Blob}),t.Blob}catch(t){}var o=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},o=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},i=n.prototype,r=o.prototype,a=t.FileReaderSync,c=function(t){this.code=this[this.name=t]},u="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),d=u.length,s=t.URL||t.webkitURL||t,l=s.createObjectURL,f=s.revokeObjectURL,p=s,b=t.btoa,R=t.atob,h=t.ArrayBuffer,g=t.Uint8Array,w=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(o.fake=r.fake=!0;d--;)c.prototype[u[d]]=d+1;return s.createObjectURL||(p=t.URL=function(t){var e,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=t,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(e=t.match(w),n.origin=e&&e[1])),n}),p.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof o?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):b?e+";base64,"+b(t.data):e+","+encodeURIComponent(t.data)):l?l.call(s,t):void 0},p.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&f&&f.call(s,t)},i.append=function(t){var n=this.data;if(g&&(t instanceof h||t instanceof g)){for(var i="",r=new g(t),u=0,d=r.length;u<d;u++)i+=String.fromCharCode(r[u]);n.push(i)}else if("Blob"===e(t)||"File"===e(t)){if(!a)throw new c("NOT_READABLE_ERR");var s=new a;n.push(s.readAsBinaryString(t))}else t instanceof o?"base64"===t.encoding&&R?n.push(R(t.data)):"URI"===t.encoding?n.push(decodeURIComponent(t.data)):"raw"===t.encoding&&n.push(t.data):("string"!=typeof t&&(t+=""),n.push(unescape(encodeURIComponent(t))))},i.getBlob=function(t){return arguments.length||(t=null),new o(this.data.join(""),t,"raw")},i.toString=function(){return"[object BlobBuilder]"},r.slice=function(t,e,n){var i=arguments.length;return i<3&&(n=null),new o(this.data.slice(t,i>1?e:this.data.length),n,this.encoding)},r.toString=function(){return"[object Blob]"},r.close=function(){this.size=0,delete this.data},n}(t),i=function(t,e){var n=e&&e.type||"",i=new o;if(t)for(var r=0,a=t.length;r<a;r++)Uint8Array&&t[r]instanceof Uint8Array?i.append(t[r].buffer):i.append(t[r]);var c=i.getBlob(n);return!c.slice&&c.webkitSlice&&(c.slice=c.webkitSlice),c},r=Object.getPrototypeOf||function(t){return t.__proto__};return i.prototype=r(new t.Blob),"function"==typeof define&&define.amd&&define("blobjs",[],function(){return i}),void 0===e&&(t.Blob=i),i});
define('common/exportService',["xlsx-js","file-saverjs","blobjs","ojs/ojcore"],function(e){return new function(){var t=this;t.datenum=function(e,t){return t&&(e+=1462),(Date.parse(e)-new Date(Date.UTC(1899,11,29)))/864e5},t.sheet_from_array_of_arrays=function(r,a,n){var o={},i=0,s=0;for(i=0;i<r.length;++i){var l={v:r[i].headerText},f=e.utils.encode_cell({c:i,r:0});null!==l.v&&("number"==typeof l.v?l.t="n":"boolean"==typeof l.v?l.t="b":l.v instanceof Date?(l.t="n",l.z=e.SSF._table[14],l.v=t.datenum(l.v)):l.t="s"),o[f]=l}for(s=0;s<a.length;++s)for(i=0,i=0;i<r.length;++i)if(r[i].field){var c=void 0,v=void 0,d=!1;if(r[i].field.indexOf(".")>-1){var u=r[i].field.split(".");v=a[s][u[0]][u[1]]}else v=a[s][r[i].field];if(v||0===v)if(n)c=n(r[i].field,v);else if(r[i].renderer){var m=r[i].renderer.toString().trim().toLowerCase();m.includes("datetime")?c=dateTimeFormat(v):m.includes("datelas")?c=dateLASForamt(v):m.includes("date")?(c=dateFormat(v),d=!0):c=m.includes("active")?"Y"===c?"Active":"Inactive":m.includes("fourdecimals")?fourDecimalsFormat(v):v}else c=v;if(l={v:c},f=e.utils.encode_cell({c:i,r:s+1}),null!==l.v)if("number"==typeof l.v)l.t="n",l.z="#,##0.00";else if("boolean"==typeof l.v)l.t="b";else if(l.v instanceof Date||d){l.t="n",l.z=e.SSF._table[15];const r=t.datenum(l.v);l.v=parseInt(r.toString().split(".")[0])}else l.t="s";o[f]=l}var b={s:{c:0,r:0},e:{c:i-1,r:s}};return b.s.c<1e7&&(o["!ref"]=e.utils.encode_range(b)),o},t.sheet_from_array_of_arrays1=function(r,a,n,o){var i={},s=0,l=0,f={v:"MGP FI Summary Report",t:"s"};for(i.A1=f,s=0;s<a.length;++s)f={v:a[s].headerText},e.utils.encode_cell({c:s,r:0}),null!==f.v&&("number"==typeof f.v?f.t="n":"boolean"==typeof f.v?f.t="b":f.v instanceof Date?(f.t="n",f.z=e.SSF._table[14],f.v=t.datenum(f.v)):f.t="s"),"multiple"!=r?0==s?i.A3=f:1==s?i.A4=f:2==s?i.A5=f:3==s?i.A6=f:4==s?i.A7=f:5==s?i.A8=f:6==s?i.A9=f:7==s?i.A10=f:8==s?i.A11=f:9==s?i.A12=f:10==s?i.D3=f:11==s?i.D4=f:12==s?i.D5=f:13==s?i.D6=f:14==s?i.D7=f:15==s?i.D8=f:16==s?i.D9=f:17==s?i.D10=f:18==s&&(i.D11=f):0==s?i.A3=f:1==s?i.A4=f:2==s?i.A5=f:3==s?i.A6=f:4==s?i.A7=f:5==s?i.A8=f:6==s?i.A9=f:8==s?i.A10=f:9==s?i.A11=f:10==s?i.D3=f:11==s?i.D4=f:12==s?i.D5=f:13==s?i.D6=f:14==s?i.D7=f:15==s?i.D8=f:16==s?i.D9=f:17==s?i.D10=f:18==s&&(i.D11=f);for(l=0;l<n.length;++l)for(s=0,s=0;s<a.length;++s)if(a[s].field){var c=void 0,v=void 0;if(a[s].field.indexOf(".")>-1){var d=a[s].field.split(".");v=n[l][d[0]][d[1]]}else v=n[l][a[s].field];if(v)if(o)c=o(a[s].field,v);else if(a[s].renderer){var u=a[s].renderer.toString().trim().toLowerCase();c=u.includes("currency")?currencyFormat(v):u.includes("datetime")?dateTimeFormat(v):u.includes("datelas")?dateLASForamt(v):u.includes("date")?dateFormat(v):u.includes("active")?"Y"===c?"Active":"Inactive":u.includes("fourdecimals")?fourDecimalsFormat(v):v}else c=v;f={v:c},e.utils.encode_cell({c:s,r:l+1}),null!==f.v&&("number"==typeof f.v?f.t="n":"boolean"==typeof f.v?f.t="b":f.v instanceof Date?(f.t="n",f.z=e.SSF._table[14],f.v=t.datenum(f.v)):f.t="s"),"multiple"!=r?0==s?i.B3=f:1==s?i.B4=f:2==s?i.B5=f:3==s?i.B6=f:4==s?i.B7=f:5==s?i.B8=f:6==s?i.B9=f:7==s?i.B10=f:8==s?i.B11=f:9==s?i.B12=f:10==s?i.E3=f:11==s?i.E4=f:12==s?i.E5=f:13==s?i.E6=f:14==s?i.E7=f:15==s?i.E8=f:16==s?i.E9=f:17==s?i.E10=f:18==s&&(i.E11=f):0==s?i.B3=f:1==s?i.B4=f:2==s?i.B5=f:3==s?i.B6=f:4==s?i.B7=f:5==s?i.B8=f:6==s?i.B9=f:8==s?i.B10=f:9==s?i.B11=f:10==s?i.E3=f:11==s?i.E4=f:12==s?i.E5=f:13==s?i.E6=f:14==s?i.E7=f:15==s?i.E8=f:16==s?i.E9=f:17==s?i.E10=f:18==s&&(i.E11=f)}var m={s:{c:0,r:0},e:{c:18,r:13}};return m.s.c<1e7&&(i["!ref"]=e.utils.encode_range(m)),i},t.Workbook=function(){if(!(this instanceof t.Workbook))return new e.Workbook;this.SheetNames=[],this.Sheets={}},t.s2ab=function(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a<e.length;++a)r[a]=255&e.charCodeAt(a);return t},t.export=function(r,a,n,o,i){var s=new t.Workbook,l=t.sheet_from_array_of_arrays(r,a,i),f=void 0;if("csv"===n){f="text/plain";var c=e.utils.sheet_to_csv(l);saveAs(new Blob([t.s2ab(c)],{type:f}),o)}else"xlsx"===n&&(f="application/octet-stream",s.SheetNames.push("Data"),s.Sheets.Data=l,c=e.write(s,{bookType:n,bookSST:!0,type:"binary"}),saveAs(new Blob([t.s2ab(c)],{type:f}),o))},t.export1=function(r,a,n,o,i,s){var l=new t.Workbook,f=t.sheet_from_array_of_arrays1(r,a,n,s),c=void 0;if("csv"===o){c="text/plain";var v=e.utils.sheet_to_csv(f);saveAs(new Blob([t.s2ab(v)],{type:c}),i)}else"xlsx"===o&&(c="application/octet-stream",l.SheetNames.push("Data"),l.Sheets.Data=f,v=e.write(l,{bookType:o,bookSST:!0,type:"binary"}),saveAs(new Blob([t.s2ab(v)],{type:c}),i))},t.import=function(t){var r=e.read(t,{type:"array"}),a={};return r.SheetNames.forEach(function(t){var n=e.utils.sheet_to_row_object_array(r.Sheets[t]);n.length>0&&(a.data=n)}),a}}});
define('ojs/ojradiocheckbox',["ojs/ojcore","jquery","ojs/ojeditablevalue"],function(e,t){e.__registerWidget("oj._ojRadioCheckbox",t.oj.baseComponent,{version:"1.0.0",defaultElement:"<input>",widgetEventPrefix:"oj",options:{disabled:null,checked:null,type:null},label:function(){return void 0===this.$label&&(this.$label=this._getLabelsForElement()),this.$label},refresh:function(){this._super(),this._setup()},refreshDisabled:function(){this._renderDisabled()},setSelectedClass:function(e){this.element.toggleClass("oj-selected",e),this.$label.toggleClass("oj-selected",e),this.$choiceItem.toggleClass("oj-selected",e)},widget:function(){return this.uiRadioCheckbox},_InitOptions:function(e,t){var s,i;if(this._super(e,t),"checked"in t||(this.initCheckedFromDom=!0,s=!!this.element.prop("checked"),this.option("checked",s,{_context:{internalSet:!0}})),"boolean"!=typeof this.options.checked)throw new Error("checked option must be a boolean");if("disabled"in t||(i=!!this.element.prop("disabled"),this.option("disabled",i,{_context:{internalSet:!0}})),"boolean"!=typeof this.options.disabled)throw new Error("disabled option must be a boolean");"type"in t||this.option("type",this.element.prop("type"),{_context:{internalSet:!0}})},_ComponentCreate:function(){this._super();var e=this.options.type;"checkbox"==e?(this.uiRadioCheckbox=this.element.addClass("oj-checkbox oj-component"),this.$label=this._getLabelsForElement(),this.$label.addClass("oj-checkbox-label")):"radio"==e&&(this.uiRadioCheckbox=this.element.addClass("oj-radio oj-component"),this.$label=this._getLabelsForElement(),this.$label.addClass("oj-radio-label")),this.$choiceItem=this._getChoiceItem();var s=document.createElement("span");s.setAttribute("class","oj-radiocheckbox-icon"),this.element.wrapAll(s),this._focusable(this.element),this._AddHoverable(this.$choiceItem),this._AddActiveable(this.$choiceItem),this._focusable({element:this.$choiceItem,applyHighlight:!0}),this._AddHoverable(this.$label),this._AddActiveable(this.$label),t.each(this.$label,function(){t(this.childNodes).wrapAll("<span class='oj-radiocheckbox-label-text'></span>")}),this._setup()},_SaveAttributes:function(e){this._savedClasses=e.attr("class")},_RestoreAttributes:function(){this._savedClasses?this.element.attr("class",this._savedClasses):this.element.removeAttr("class")},_setup:function(){this._renderDisabled(),this.initCheckedFromDom||this._setCheckedOnDom(this.options.checked),this.options.checked&&this.setSelectedClass(this.options.checked)},_setCheckedOnDom:function(e){e=!!e,this.element.prop("checked",e)},_renderDisabled:function(){this._IsEffectivelyDisabled()?(this.element.prop("disabled",!0).removeAttr("aria-disabled").removeClass("oj-enabled").addClass("oj-disabled"),this.$label.removeClass("oj-enabled").addClass("oj-disabled"),this.$choiceItem.removeClass("oj-enabled").addClass("oj-disabled")):(this.element.prop("disabled",!1).removeAttr("aria-disabled").removeClass("oj-disabled").addClass("oj-enabled"),this.$label.addClass("oj-enabled").removeClass("oj-disabled"),this.$choiceItem.addClass("oj-enabled").removeClass("oj-disabled"))},_setOption:function(e,t){this._superApply(arguments),"disabled"===e&&(t=!!t,this._renderDisabled(t)),"checked"===e&&(this._setCheckedOnDom(t),this.setSelectedClass(t))},_getLabelsForElement:function(){var s,i=this.element.closest("label"),o="label[for='"+this.element.prop("id")+"']",l=t(o);return 0!==i.length&&e.Logger.error("Found a label that is an input's ancestor. This is not supported in the ojCheckboxset or ojRadioset component and the component will\n      not work correctly. Use a label as a sibling to the input and use the label 'for' attribute to tie the two together."),0===(l=l.not(i)).length&&(s=this.element.siblings(o),l=l.add(s)),l},_getChoiceItem:function(){var t,s,i,o=null;return(t=this.element.parent())&&(t.hasClass("oj-choice-item")||t.hasClass("oj-choice-row")||t.hasClass("oj-choice-row-inline"))?o=t:(e.Logger.warn("The radioset/checkboxset's input and label dom should be wrapped in a dom node with class 'oj-choice-item'. JET is adding this missing dom to make the component work correctly."),s="label[for='"+this.element.attr("id")+"']",0!==(i=this.element.siblings().filter(s)).length?(this.element.add(i).wrapAll("<span class='oj-choice-item oj-choice-item-added'></span>"),o=this.element.parent()):(this.element.wrapAll("<span class='oj-choice-item oj-choice-item-added'></span>"),o=this.element.parent())),o},getNodeBySubId:function(e){var t=this._super(e);if(!t){var s=e.subId;"oj-radiocheckbox-input"===s&&(t=this.element[0]),"oj-radiocheckbox-label"===s&&(t=this.label()[0])}return t||null},_destroy:function(){var e=this._super();this._RemoveHoverable(this.$choiceItem),this._RemoveActiveable(this.$choiceItem),this._RemoveHoverable(this.$label),this._RemoveActiveable(this.$label);var s=this.options.type;return"checkbox"==s?this.$label.removeClass("oj-enabled oj-disabled oj-selected oj-checkbox-label"):"radio"==s&&this.$label.removeClass("oj-enabled oj-disabled oj-selected oj-radio-label"),this.$choiceItem.removeClass("oj-enabled oj-disabled oj-selected"),t.each(this.$label,function(){var e=this.getElementsByClassName("oj-radiocheckbox-label-text");void 0!==e&&t(e[0].childNodes[0]).unwrap()}),this.element.unwrap(),this.$choiceItem.hasClass("oj-choice-item-added")&&this.element.unwrap(),this.$choiceItem=null,this.$label=null,e}})});
define('ojs/ojcheckboxset',["ojs/ojcore","jquery","ojs/ojeditablevalue","ojs/ojradiocheckbox","ojs/ojoption"],function(e,t){!function(){e.__registerWidget("oj.ojCheckboxset",t.oj.editableValue,{version:"1.0.0",defaultElement:"<div>",widgetEventPrefix:"oj",options:{disabled:!1,labelledBy:null,required:!1,value:[]},refresh:function(){this._super(),this._setup()},widget:function(){return this.uiCheckboxset},validate:e.EditableValueUtils.validate,_InitOptions:function(i,n){var o,s,a=new Array;this._super(i,n),this._IsCustomElement()||e.EditableValueUtils.initializeOptionsFromDom([{attribute:"disabled",validateOption:!0},{attribute:"title"},{attribute:"required",coerceDomValue:!0,validateOption:!0}],n,this),this._IsCustomElement()?this._checkValueType(this.options.value):void 0===n.value?(this.$checkboxes=this._findCheckboxesWithMatchingName(),(o=this.$checkboxes.filter(":checked")).length>0&&(o.each(function(){a.push(t(this).val())}),s=a,this.option("value",s,{_context:{writeback:!0,internalSet:!0}})),void 0===this.options.value&&(this.options.value=[])):this._checkValueType(this.options.value)},_ComponentCreate:function(){var e=this.element;if(this._super(),e.is("fieldset"))throw new Error("ojCheckboxset cannot be bound to a fieldset. Use a div instead.");e.uniqueId(),this._processOjOptions(),this.$checkboxes=this._findCheckboxesWithMatchingName(),this.$checkboxes._ojRadioCheckbox().attr("data-oj-internal",""),this.uiCheckboxset=e.addClass("oj-checkboxset oj-component").attr("role","group"),t(e.get(0).childNodes).filter(function(){return!this.getAttribute||"contextMenu"!==this.getAttribute("slot")}).wrapAll("<div class='oj-checkboxset-wrapper'></div>"),this._on(this._events),this._setup()},_ResetComponentState:function(){this._processOjOptions(),this.$checkboxes=this._findCheckboxesWithMatchingName(),this.$checkboxes.filter(".oj-checkbox").each(function(){var e=void 0!==t(this).attr("disabled")&&!!t(this).prop("disabled");t(this)._ojRadioCheckbox("option","disabled",e)}),this.$checkboxes.not(".oj-checkbox")._ojRadioCheckbox()},GetFocusElement:function(){return this._GetContentElement().not(":disabled").first()[0]},_SetDisabledDom:function(e){},_IsRequired:function(){return this.options.required},_refreshRequired:e.EditableValueUtils._refreshRequired,_ValidateReturnBoolean:e.EditableValueUtils._ValidateReturnBoolean,_processOjOptions:function(){if(this._IsCustomElement()){var e,t,i=this._customOptionRenderer.bind(this),n=this.element.children("oj-option");if(n.length>0)for(e=0,t=n.length;e<t;e++)n[e].customOptionRenderer=i,this._initInputLabelFromOjOption(n[e]);if((n=this.element.children(".oj-checkboxset-wrapper").find("oj-option")).length>0)for(e=0,t=n.length;e<t;e++)n[e].customOptionRenderer=i,this._initInputLabelFromOjOption(n[e])}},_initInputLabelFromOjOption:function(e){var i,n,o=e;t(o).uniqueId();var s=o.getAttribute("id"),a=s+"|cb",r=document.getElementById(a);if(null!==r){for(n=o;(n=n.parentElement)&&"LABEL"!==n.tagName;);n&&(o.textContent&&""!==o.textContent?n.classList.remove("oj-helper-hidden"):n.classList.add("oj-helper-hidden"))}else i=document.createElement("span"),r=document.createElement("input"),n=document.createElement("label"),i.setAttribute("class","oj-choice-item"),r.setAttribute("type","checkbox"),r.setAttribute("value",o.value),r.setAttribute("id",a),n.setAttribute("for",a),o.textContent&&""!==o.textContent||n.classList.add("oj-helper-hidden"),o.parentElement.insertBefore(i,o),n.appendChild(o),i.appendChild(r),i.appendChild(n);var l=this.element[0].id,c=o.getAttribute("aria-label"),h=o.getAttribute("aria-labelledby");r.setAttribute("data-oj-option-id",s),l&&""!=l?r.setAttribute("name",l):r.removeAttribute("name"),c&&""!=c?r.setAttribute("aria-label",c):r.removeAttribute("aria-label"),h&&""!=h?r.setAttribute("aria-labelledby",h):r.removeAttribute("aria-labelledby"),o.disabled?r.setAttribute("disabled",!0):r.removeAttribute("disabled")},_customOptionRenderer:function(e){var i=e,n=i.getAttribute("id")+"|cb",o=document.getElementById(n);null!==o&&o.classList.contains("oj-checkbox")&&t(o)._ojRadioCheckbox("option","disabled",i.disabled)},_updateLabelledBy:e.EditableValueUtils._updateLabelledBy,_findCheckboxesWithMatchingName:function(){var t,i,n=this.element.find("input[type=checkbox]:first");return 0===n.length&&e.Logger.warn("Could not find any input type=checkbox within this element"),void 0===(t=n.attr("name"))?this.element.find("input[type=checkbox]").not("[name]"):(i="input[type=checkbox][name="+t+"]",this.element.find(i))},_NotifyContextMenuGesture:function(e,t,i){var n=this.element.find("input[type=checkbox]:tabbable").first();this._OpenContextMenu(t,i,{launcher:n})},_GetMessagingLauncherElement:function(){return this.widget()},_setup:function(){this._propagateDisabled(this.options.disabled),null!==this.$checkboxes&&(1===this.$checkboxes.length?this.element.addClass("oj-checkboxset-single"):this.element.removeClass("oj-checkboxset-single")),this.element.hasClass("oj-choice-direction-column")||this.element.hasClass("oj-choice-direction-row")||this.element.addClass("oj-choice-direction-column"),this._refreshRequired(this.options.required),this._updateLabelledBy(null,this.options.labelledBy,this.widget())},_events:{change:function(e){this._HandleChangeEvent(e)}},_checkValueType:function(e){void 0===e?this.option("value",[],{_context:{writeback:!0,internalSet:!0}}):this._confirmValueIsArray(e)},_confirmValueIsArray:function(e){if(!Array.isArray(e))throw new Error("Invalid 'value' set on JET Checkboxset: "+e+".It must be an Array. ")},_HandleChangeEvent:function(e){var n,o;(o=this.$checkboxes).length>0&&o.each(function(){this===e.target&&t(this)._ojRadioCheckbox("setSelectedClass",e.target.checked)}),n=this._GetDisplayValue(),this._SetValue(n,e,i)},_GetDisplayValue:function(e){return this._GetElementValue()},_SetDisplayValue:function(e){var i,n,o,s,a=this.$checkboxes.length;if(this._checkValueType(e),null==e||0===e.length)this.$checkboxes._ojRadioCheckbox("option","checked",!1);else for(i=0;i<a;i++){o=this.$checkboxes[i],s=t(o),n=this._GetOptionValue(o);var r=this._GetOptionIndex(e,n),l=s._ojRadioCheckbox("option","checked");-1!==r?l||s._ojRadioCheckbox("option","checked",!0):l&&s._ojRadioCheckbox("option","checked",!1)}},_GetElementValue:function(){var e=this,t=new Array,i=this.$checkboxes.filter(":checked");return 0===i.length?[]:(i.each(function(){t.push(e._GetOptionValue(this))}),t)},_GetOptionIndex:function(t,i){var n,o=t.indexOf(i);if(-1==o){n=t.length;for(var s=0;s<n;s++)if(e.Object.compareValues(t[s],i)){o=s;break}}return o},_GetOptionValue:function(e){var t,i;return this._IsCustomElement()?(t=document.getElementById(e.getAttribute("data-oj-option-id")))&&(i=t.value):i=e.value,i},_GetDefaultStyleClass:function(){return"oj-checkboxset"},_GetContentElement:function(){return null!=this.$checkboxes?this.$checkboxes:(this.$checkboxes=this._findCheckboxesWithMatchingName(),this.$checkboxes)},_AriaRequiredUnsupported:function(){return!0},_AfterSetOptionRequired:e.EditableValueUtils._AfterSetOptionRequired,_propagateDisabled:function(e){e=!!e,this.$checkboxes.each(function(){t(this).data("oj-_ojRadioCheckbox").__setAncestorComponentDisabled(e)}),this.$checkboxes._ojRadioCheckbox("refreshDisabled")},_setOption:function(e,t,i){var n=this.options.labelledBy;switch(this._super(e,t,i),e){case"disabled":this._propagateDisabled(t);break;case"labelledBy":this._updateLabelledBy(n,t,this.widget())}},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"required":this._AfterSetOptionRequired(e)}},getNodeBySubId:function(e){var t,i,n=this._super(e);if(!n)switch(t=this.$checkboxes.get(),e.subId){case"oj-checkboxset-inputs":n=t;break;case"oj-checkboxset-checkbox":if(void 0!==(i=e.value)){var o,s,a=t.length,r=[];for(o=0;o<a;o++)r[o]=this._GetOptionValue(t[o]);-1!==(s=this._GetOptionIndex(r,i))&&(n=t[s])}}return n||null},getSubIdByNode:function(e){for(var t=this._GetContentElement()[0].parentElement.parentElement.parentElement,i=e;i&&i!=t;){if("LABEL"==i.nodeName&&(i=document.getElementById(i.for)),"INPUT"==i.nodeName)return{subId:"oj-checkboxset-checkbox",value:this._GetOptionValue(i)};i=i.parentElement}return this._super(e)},_destroy:function(){var e=this._super(),i=this.element[0].firstElementChild;return this.$checkboxes&&this.$checkboxes._ojRadioCheckbox("destroy"),t(i).contents().unwrap(),e}});var i={doValueChangeCheck:!1}}(),e.CustomElementBridge.registerMetadata("oj-checkboxset","editableValue",{properties:{disabled:{type:"boolean"},labelledBy:{type:"string"},required:{type:"boolean"},value:{type:"Array"},translations:{type:"Object",properties:{required:{type:"Object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}}},methods:{validate:{}},extension:{_WIDGET_NAME:"ojCheckboxset"}}),e.CustomElementBridge.register("oj-checkboxset",{metadata:e.CustomElementBridge.getMetadata("oj-checkboxset")})});
define('ojs/ojoptgroup',["ojs/ojcore","jquery","ojs/ojcomponentcore"],function(e,t){var o;o={properties:{disabled:{type:"boolean",value:!1},label:{type:"string",value:""},customOptgroupRenderer:{}},extension:{_CONSTRUCTOR:function(e){this.updateDOM=function(){var t=e.element.customOptgroupRenderer;t&&"function"==typeof t&&t(e.element)}}}},e.CustomElementBridge.registerMetadata("oj-optgroup",null,o),e.CustomElementBridge.register("oj-optgroup",{metadata:e.CustomElementBridge.getMetadata("oj-optgroup")})});
define('ojs/ojselectcombobox',["ojs/ojcore","jquery","ojs/ojeditablevalue","ojs/ojoptgroup","ojs/ojoption","promise","ojs/ojlistdataproviderview"],function(e,t,i,s){var o,n={GENERATED_OPTIONS_SELECTOR:"oj-select-options-generated",KEY:{TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isControl:function(e){switch(e.which){case n.KEY.SHIFT:case n.KEY.CTRL:case n.KEY.ALT:return!0}return!(!e.metaKey&&!e.ctrlKey)},isFunctionKey:function(e){return(e=e.which?e.which:e)>=112&&e<=123}},DEFAULT_FETCH_SIZE:15,DEFAULT_QUERY_DELAY:70,ValueChangeTriggerTypes:{ENTER_PRESSED:"enter_pressed",OPTION_SELECTED:"option_selected",BLUR:"blur",SEARCH_ICON_CLICKED:"search_icon_clicked"},lastMousePosition:{x:0,y:0},nextUid:(o=1,function(){return o++}),scrollBarDimensions:null,each2:function(e,i){for(var s=t.isFunction(e[0])?t(e[0]()):t(e[0]),o=-1,n=e.length;++o<n&&(s.context=s[0]=t.isFunction(e[0])?e[o]():e[o])&&!1!==i.call(s[0],o,s););return e},measureScrollbar:function(){var e=t("<div class='oj-listbox-measure-scrollbar'></div>");e.appendTo("body");var i={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),i},splitVal:function(e,i){var s,o,n;if(null===e||e.length<1)return[];for(o=0,n=(s=e.split(i)).length;o<n;o+=1)s[o]=t.trim(s[o]);return s},getSideBorderPadding:function(e){return e.outerWidth(!1)-e.width()},installKeyUpChangeEvent:function(e){var i="keyup-change-value";e.on("keydown",function(){void 0===t.data(e,i)&&t.data(e,i,e.val())}),e.on("keyup",function(s){if(s.which!==n.KEY.ENTER){var o=t.data(e,i);void 0!==o&&e.val()!==o&&(t.removeData(e,i),e.trigger("keyup-change"))}else s.preventDefault()})},getSearchText:function(e){var t,i=e.which||e.keyCode;return e&&"keydown"==e.type&&(32==i||i>47&&i<58||i>64&&i<91||i>95&&i<112||i>185&&i<193||i>218&&i<223)&&(i>=96&&i<=105&&(i-=48),t=String.fromCharCode(i),e.shiftKey||(t=t.toLowerCase()),e.preventDefault()),t},installFilteredMouseMove:function(e){e.on("mousemove",function(e){var i=n.lastMousePosition;void 0!==i&&i.x===e.pageX&&i.y===e.pageY||(t(e.target).trigger("mousemove-filtered",e),n.lastMousePosition.x=e.pageX,n.lastMousePosition.y=e.pageY)})},thunk:function(e){var t,i=!1;return function(){return!1===i&&(t=e(),i=!0),t}},_focus:function(t,i){if(i[0]!==document.activeElement){var s=n._addBusyState(t.container,"setting focus");e.TimerUtils.getTimer(40).getPromise().then(function(){var e,t=i[0],o=i.val().length;i.focus(),i.is(":visible")&&t===document.activeElement&&(t.setSelectionRange?t.setSelectionRange(o,o):t.createTextRange&&((e=t.createTextRange()).collapse(!1),e.select())),s()})}},getCursorInfo:function(e){var i=0,s=0;if("selectionStart"in(e=t(e)[0]))i=e.selectionStart,s=e.selectionEnd-i;else if("selection"in document){e.focus();var o=document.selection.createRange();s=document.selection.createRange().text.length,o.moveStart("character",-e.value.length),i=o.text.length-s}return{offset:i,length:s}},killEvent:function(e){e.preventDefault()},killEventImmediately:function(e){e.preventDefault(),e.stopImmediatePropagation()},defaultEscapeMarkup:function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return String(e).replace(/[&<>"'\\]/g,function(e){return t[e]})},local:function(e,i){var s,o,a=e,l=function(e){return""+e.label};t.isArray(a)&&(a={results:o=a}),!1===t.isFunction(a)&&(o=a,a=function(){return o});var r=a();return r&&r.text&&(l=r.text,t.isFunction(l)||(s=r.text,l=function(e){return e[s]})),function(e){var s={results:[]};""!==e.term||i?(a()&&n.each2(t(a().results),function(t,o){n._processData(e,o,s.results,i,!0,l)}),e.callback(s)):e.callback(a())}},createOptionTag:function(e,i,s,o){var a=t("<option>");return a.addClass("oj-listbox-result oj-listbox-result-selectable oj-listbox-results-depth-"+e),a.attr("role","option"),a.attr("id","oj-listbox-result-label-"+n.nextUid()),a.text(o(s)),a.attr("value",i),a},createOptgroupTag:function(e,i,s){var o=t("<optgroup>");return o.addClass("oj-listbox-results-sub"),o.attr("label",s(i)),e.addClass("oj-listbox-result-with-children"),o},listPopulateResults:function(e,i,s){var o=function(e,i,a){var l,r,h,c;i.each(function(i){(r=t(this)).is("li")&&(r.children("ul").length>0?(h=r.contents().filter(function(){return 1!==this.nodeType||"ul"!==this.tagName.toLowerCase()}).text(),l=n.createOptgroupTag(e,h,s),c=r.children("ul"),o(l,c.children(),a+1)):l=n.createOptionTag(a,r.attr("oj-data-value"),r.text(),s),l.appendTo(e))})};o(e,i,0)},ojOptionPopulateResults:function(e,i,s){var o=function(e,i,a){var l,r,h;i.each(function(i){(r=t(this)).is("oj-option")?(h=r.text()||r.attr("label"),l=n.createOptionTag(a,r.prop("value"),h,s)):r.is("oj-optgroup")?(h=r.text()||r.attr("label"),l=n.createOptgroupTag(e,h,s),o(l,r.children(),a+1)):r.is("option")&&(l=r),l.appendTo(e)})};o(e,i,0)},lookupOptionKeys:function(e,t,i){return e[i=t[i]||i]},arrayPopulateResults:function(e,t,i,s){var o=function(e,t,s,a){for(var l,r,h,c,u,d=0,p=t.length;d<p;d++)l=t[d],h=n.lookupOptionKeys(l,a,"children"),c=n.lookupOptionKeys(l,a,"label"),h&&h.length>0?(r=n.createOptgroupTag(e,c,i),o(r,h,s+1,a.childKeys||{})):(u=n.lookupOptionKeys(l,a,"value"),r=n.createOptionTag(s,u,c,i)),r.appendTo(e)};o(e,t,0,s||{})},cleanupResults:function(e){e.children().not("oj-option, oj-optgroup").remove(),e.removeClass("oj-listbox-result-with-children")},_addBusyState:function(t,i){var s={description:"The component identified by '"+t.attr("id")+"' "+i};return e.Context.getContext(t[0]).getBusyContext().addBusyState(s)},_clearBusyState:function(e){e&&e()},isDataProvider:function(t){return!(!t||!e.DataProviderFeatureChecker)&&e.DataProviderFeatureChecker.isIteratingDataProvider(t)},getDataProvider:function(e){var t=e._dataProvider||e.options;return n.isDataProvider(t)?t:null},clearDataProviderWrapper:function(e){e.options._dataProvider=null},_findOption:function(t,i){if(t.children){var s=n._findOption(t.children,i);if(s)return s}else if(e.Object.compareValues(i,t.value))return t;return null},findOption:function(e,t){if(Array.isArray(e)){for(var i=0,s=e.length;i<s;i++){var o=n._findOption(e[i],t);if(o)return o}return null}return n._findOption(e,t)},findOptions:function(e,t){for(var i=[],s=0;s<t.length;s++){var o=n.findOption(e,t[s]);o&&i.push(o)}return i},findOptionFromResult:function(e,t,i){var s,o=n.getLastQueryResult(e);return o&&(s=n.findOption(o,t)),s?{value:t,label:s.label}:i},mergeValueAndValueOptions:function(e){var t=e.options.value,i=!1;if(e.multiple){var s,o=e.options.valueOptions;t&&t.length>0?(o&&o.length&&(s=n.findOptions(o,t)),s&&s.length===o.length||(i=!0)):o&&n.syncValueWithValueOptions(e,o,t)}else{var a,l=e.options.valueOption;null!=t?(l&&(a=n.findOption(l,t)),a||(i=!0)):l&&n.syncValueWithValueOption(e,l,t)}return i},syncValueWithValueOption:function(t,i,s){var o=i?i.value:null;e.Object.compareValues(o,s)||t._SetValue(o,null,{doValueChangeCheck:!1,_context:{internalSet:!0,writeback:!0}})},syncValueWithValueOptions:function(t,i,s){if(i){for(var o=[],n=0;n<i.length;n++)o.push(i[n].value);e.Object.compareValues(o,s)||t._SetValue(o,null,{doValueChangeCheck:!1,_context:{internalSet:!0,writeback:!0}})}},setValueOptions:function(e,t){var i,s={internalSet:!0,changed:!0,writeback:!0};if(e.multiple){if(t&&t.length){i=[];for(var o=0;o<t.length;o++)i.push({value:t[o].value,label:t[o].label})}else i=t;e.option("valueOptions",i,{_context:s}),e.combobox&&e.combobox.opts?e.combobox.opts.valueOptions=i:e.select&&e.select.opts&&(e.select.opts.valueOptions=i)}else Array.isArray(t)&&(t=t[0]),t?(i={value:t.value,label:t.label},e.option("valueOption",{value:t.value,label:t.label},{_context:s})):i=t,e.option("valueOption",i,{_context:s}),e.combobox&&e.combobox.opts?e.combobox.opts.valueOption=i:e.select&&e.select.opts&&(e.select.opts.valueOption=i)},updateValueOptions:function(e){if(e){var t=e.datalist?e.datalist:e.opts.element;e.opts.initSelection.call(null,t,function(t){var i=e.ojContext.multiple;if(void 0===t&&"oj-combobox"===e._classNm){var s=e.ojContext.options.value;if(i){t=[];for(var o=0;o<s.length;o++)t.push(e.opts.manageNewEntry(s[o]))}else t=e.opts.manageNewEntry(s)}t&&(e.setValOpts(t),i?e._updateSelection(t):e._updateSelectedOption(t))})}},applyValueOptions:function(e,t){if(e&&!e.ojContext._resolveValueOptionsLater&&("oj-combobox"===e._classNm||"oj-select"===e._classNm)){var i;if(e.ojContext.multiple){if((i=t.valueOptions)&&0==i.length&&t.placeholder)return!1}else i=t.valueOption;if(i)return e._updateSelection(i),!0}return!1},wrapDataProviderIfNeeded:function(t,i){var s=t.options.options;if(n.isDataProvider(s)){var o,a=t.options.optionsKeys;!a||null==a.label&&null==a.value?e.DataProviderFeatureChecker.isFetchByKeys(s)||s instanceof e.ListDataProviderView||(o=new e.ListDataProviderView(s)):s instanceof e.ListDataProviderView||(o=new e.ListDataProviderView(s,{dataMapping:{mapFields:function(e){var t=e.data,i={data:{}};for(var s in t)i.data[s]=t[s];return null!=a.label&&(i.data.label=t[a.label]),null!=a.value&&(i.data.value=t[a.value]),i.metadata={key:t[a.value]},i}}})),o&&(t.options._dataProvider=o,i&&(i._dataProvider=o))}},getLabel:function(e){return null!=e.label?e.label:String(e.value)},_handleDataProviderEvents:function(e,t){if("mutate"===t.type&&null!=t.detail.remove){for(var i=t.detail.remove.data,s=!1,o=[].concat(e.options.value),n=0;n<i.length;n++){var a=o.indexOf(i[n].value);a>=0&&(o.splice(a,1),s=!0)}s&&e._setOption("value",o)}e._setOption("options",e.options.options)},addDataProviderEventListeners:function(e){var t=n.getDataProvider(e.options);if(t){n.removeDataProviderEventListeners(e);var i=n._handleDataProviderEvents.bind(null,e);e._saveDataProviderEH=i,t.addEventListener("mutate",i),t.addEventListener("refresh",i)}},removeDataProviderEventListeners:function(e){var t=n.getDataProvider(e.options),i=e._saveDataProviderEH;null!=t&&i&&(t.removeEventListener("mutate",i),t.removeEventListener("refresh",i),e._saveDataProviderEH=void 0)},addLoadingIndicator:function(e){if(null==e._saveLoadingIndicator){var i=t(document.createElement("div"));i.uniqueId().attr("role","presentation").addClass("oj-listbox-loading-icon-container");var s=t(document.createElement("div"));s.addClass("oj-icon oj-listbox-loading-icon"),i.append(s),e.prepend(i),e._saveLoadingIndicator=i}},removeLoadingIndicator:function(e){null!=e._saveLoadingIndicator&&e._saveLoadingIndicator.remove(),e._saveLoadingIndicator=void 0},addDropdownMessage:function(e,i,s){if(!e._saveDropdownMessage){var o=t(document.createElement("div"));o.addClass("oj-listbox-filter-message-box");var n=t(document.createElement("div"));n.addClass("oj-listbox-filter-message-text oj-listbox-liveregion"),n.attr({role:"region","aria-live":"polite"});var a=t(document.createElement("div"));a.addClass("oj-listbox-filter-message-separator"),o.append(n),o.append(a),e.prepend(o),n.text(s),e._saveDropdownMessage=o}},removeDropdownMessage:function(e){e._saveDropdownMessage&&(e._saveDropdownMessage.remove(),e._saveDropdownMessage=void 0)},fetchFilteredData:function(t,i,s,o,a){var l=[],r={size:i},h=t.getCapability("filter"),c=e.AttributeFilterOperator.AttributeOperator.$co,u=!1;if(h){var d=h.operators;if(d&&d.length>0)for(var p=0;p<d.length;p++)if(d[p]===c){u=!0;break}}if(u&&o&&o.term){var f,v=s.options.optionsKeys;f=v&&v.label?v.label:"label",r.filterCriterion={op:c,attribute:f,value:o.term}}var m=t.fetchFirst(r)[Symbol.asyncIterator]();return m.next().then(function e(t){if(t){var i=t.value.data;if(i)if(u)l=i;else for(var h,c=0;c<i.length;c++)h=i[c],o&&o.matcher&&!o.matcher(o.term,h.label,h)||l.push(h);if(a&&n.removeDropdownMessage(a),a&&!t.done&&l.length>=r.size)n.addDropdownMessage(a,s,s.getTranslatedString("filterFurther")),s._hasMore=!0;else{if(!t.done&&l.length<r.size)return m.next().then(e);s._hasMore=!1}}return Promise.resolve(l)})},rejectedError:new Object,fetchFromDataProvider:function(e,t,i,s){var o=e.ojContext,a=e.selection;o._fetchResolveFunc||(o._fetchResolveFunc=n._addBusyState(e.container,"fetching data")),o._saveRejectFunc&&o._saveRejectFunc(n.rejectedError);var l=new Promise(function(e,t){o._saveRejectFunc=t});a&&"init"==t.fetchType&&(n.addLoadingIndicator(a),t.fetchType=null);var r=n.fetchFilteredData(n.getDataProvider(t),s||t.fetchSize||n.DEFAULT_FETCH_SIZE,o,i,e.dropdown).then(function(e){return a&&n.removeLoadingIndicator(a),o._resultCount=e?e.length:0,e});Promise.race([l,r]).then(function(t){o._saveRejectFunc=null,o._resolveSearchBoxLater&&e._showSearchBox(""),i.callback({results:t}),o._fetchResolveFunc&&(o._fetchResolveFunc(),o._fetchResolveFunc=null)},function(e){e!==n.rejectedError&&o._fetchResolveFunc&&(i.callback(),o._fetchResolveFunc(),o._fetchResolveFunc=null)})},fetchFirstBlockFromDataProvider:function(e,t,i){var s=n._addBusyState(e,"fetching selected data"),o={size:i||n.DEFAULT_FETCH_SIZE};return t.fetchFirst(o)[Symbol.asyncIterator]().next().then(function(e){return n._clearBusyState(s),e.value.data},function(e){return n._clearBusyState(s),null})},fetchByKeyFromDataProvider:function(t,i,s){if(e.DataProviderFeatureChecker.isFetchByKeys(i)){var o=n._addBusyState(t,"fetching selected data");i.fetchByKeys({keys:s.value}).then(function(e){var t=[];e.results.forEach(function(e,i,s){t.push(e.data)}),s.callback({results:t}),n._clearBusyState(o)},function(e){s.callback(),n._clearBusyState(o)})}},validateFromDataProvider:function(e,t,i){return new Promise(function(s,o){n.fetchByKeyFromDataProvider(e,t,{value:Array.isArray(i)?i:[i],callback:function(e){var t=null;if(e&&e.results.length){(t={}).value=[],t.valueOptions=[];for(var i=0;i<e.results.length;i++)t.valueOptions.push(e.results[i]),t.value.push(e.results[i].value)}s(t)}})})},remote:function(e,i){return function(s){var o={component:this.ojContext};s.value?o.value=s.value:o.term=s.term||"",e(o).then(function(e){var o={results:[]};e&&n.each2(t(e),function(e,t){n._processData(s,t,o.results,i,!1)}),s.callback(o)})}},_processData:function(e,i,s,o,a,l){var r,h;if(!(i=i[0]).label&&o&&o.label&&(i.label=i[o.label]),!i.value&&o&&o.value&&(i.value=i[o.value]),!i.children&&o&&o.children&&(i.children=i[o.children],delete i[o.children]),i.children){for(h in r={},i)i.hasOwnProperty(h)&&(r[h]=i[h]);r.children=[],n.each2(t(i.children),function(t,i){n._processData(e,i,r.children,o&&o.childKeys?o.childKeys:null,a,l)}),(!a||e.matcher(e.term,l(r),i)||r.children.length)&&s.push(r)}else a&&!e.matcher(e.term,l(i),i)||s.push(i)},checkFormatter:function(e,i,s){if(t.isFunction(i))return!0;if(!i)return!1;throw new Error(s+" must be a function or a false value")},clazz:function(i,s){var o=function(){};return e.Object.createSubclass(o,i,""),o.prototype=t.extend(o.prototype,s),o},LAST_QUERY_RESULT:"last-query-result",getLastQueryResult:function(e){return t.data(e.container,e._classNm+"-"+n.LAST_QUERY_RESULT)},saveLastQueryResult:function(e,i){t.data(e.container,e._classNm+"-"+n.LAST_QUERY_RESULT,i)}},a=n.clazz(Object,{_bind:function(e){var t=this;return function(){e.apply(t,arguments)}},_customOptionRenderer:function(e){var i,s=this;e.each(function(e){(i=t(this)).is("oj-option")?i.wrap("<li></li>"):i.is("oj-optgroup")&&(i.wrap("<li></li>"),s._customOptionRenderer(i.children()),i.children().wrapAll("<ul class='oj-listbox-result-sub'></ul>"))})},_init:function(e){var i,s,o=this._classNm,a=this._elemNm;this.ojContext=e.ojContext,this.opts=e=this._prepareOpts(e),this.id=e.id,this.headerInitialized=!1,this.isOjOption=this.ojContext._IsCustomElement()&&!e.options&&e.element.find("oj-option").length>0,void 0!==e.element.data(a)&&null!==e.element.data(a)&&e.element.data(a)._destroy(),this.container=this._createContainer();var l=e.rootAttributes;this.containerId=l&&l.id?l.id:"ojChoiceId_"+(this._getAttribute("id")||"autogen"+n.nextUid()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=n.thunk(function(){return e.element.closest("body")}),this.container.attr("style",this._getAttribute("style")),this.elementTabIndex=this._getAttribute("tabindex"),this.opts.element.data(a,this).attr("tabindex","-1").before(this.container),this.container.data(a,this),this.dropdown=this.container.find(".oj-listbox-drop"),this.dropdown.data("ojlistbox",this),this._setPickerAttributes(e.pickerAttributes);var r=this.containerId;this.dropdown.attr("data-oj-containerid",r),this.results=i=this.container.find(".oj-listbox-results"),this.results.on("click",n.killEvent);var h=this.ojContext._GetLabelElement();if(h){var c=h.attr("id");c?i.attr("aria-labelledby",c):i.attr("aria-label",h.text())}else{var u=this.ojContext.element.attr("aria-label");u&&i.attr("aria-label",u)}if(e.list&&t("#"+e.list).is("ul")){var d=t("#"+e.list);this.dropdownListParent=d.parent(),d.addClass("oj-listbox-results").attr("role","listbox"),this.results.replaceWith(d),this.results=i=this.container.find(".oj-listbox-results"),this.results.css("display","")}if(this.isOjOption){var p=e.element.children();this._customOptionRenderer(p),this.results.append(e.element.children()),this.datalist=this.results}s="oj-select"==o?this.container.find("input.oj-listbox-input"):this.container.find("input."+o+"-input"),this.search=s,this.queryCount=0,this.resultsPage=0,this.context=null,this._initContainer(),this.container.on("click",n.killEvent),n.installFilteredMouseMove(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",".oj-listbox-results",this._bind(this._highlightUnderEvent)),t(this.container).on("change","."+o+"-input",function(e){e.stopPropagation()}),t(this.dropdown).on("change","."+o+"-input",function(e){e.stopPropagation()});var f=this;if(n.installKeyUpChangeEvent(s),s.on("keyup-change input paste",this._bind(this._updateResults)),s.on("focus",function(){s.addClass(o+"-focused"),"oj-select"!==o&&f.container.addClass("oj-focus")}),s.on("blur",function(){s.removeClass(o+"-focused"),"oj-select"!==o&&f.container.removeClass("oj-focus")}),this.dropdown.on("mouseup",".oj-listbox-results",this._bind(function(e){t(e.target).closest(".oj-listbox-result-selectable").length>0&&(this._highlightUnderEvent(e),this._selectHighlighted(null,e))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),t.isFunction(this.opts.initSelection)){this.opts.fetchType="init";var v=this.getValOpts();(!this.ojContext.multiple||v&&0!=v.length)&&(this.ojContext.multiple||v)||(v=null),this._initSelection(v)}var m=e.element.prop("disabled");void 0===m&&(m=!1),this._enable(!m);var _=e.element.prop("readonly");void 0===_&&(_=!1),this._readonly(_),n.scrollBarDimensions=n.scrollBarDimensions||n.measureScrollbar(),this.autofocus=e.element.prop("autofocus"),e.element.prop("autofocus",!1),this.autofocus&&this._focus(),n.addDataProviderEventListeners(e.ojContext)},_clickAwayHandler:function(e){var i=this.dropdown;t(e.target).closest(i).length||t(e.target).closest("#"+i.attr("data-oj-containerid")).length||i.length>0&&i.data("ojlistbox").close(e)},_surrogateRemoveHandler:function(){this.dropdown&&this.dropdown.remove()},_destroy:function(){var e=this._closeDelayTimer;isNaN(e)||(delete this._closeDelayTimer,window.clearTimeout(e));var t=this.opts.element,i=t.data(this._elemNm);this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.opts.list&&this.results?(this._cleanupList(this.results),this.dropdownListParent&&this.dropdownListParent.append(this.results)):this.isOjOption&&this.results&&(this._unwrapOjOptions(this.results),this.opts.element.append(this.results.children())),void 0!==i&&(i.container.after(t),i.container.remove(),i.dropdown.remove(),t.removeAttr("aria-hidden").removeData(this._elemNm).off("."+this._classNm).prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show())},_unwrapOjOptions:function(e){var i,s=this;e.children().each(function(e){(i=t(this)).is("li")&&(i.hasClass("oj-listbox-result-with-children")||i.children("oj-optgroup").length>0?(i.hasClass("oj-listbox-result-with-children")&&i.children(".oj-listbox-result-label").remove(),s._unwrapOjOptions(i.find("oj-optgroup").children()),i.find("oj-optgroup").children().children().unwrap(),i.find("oj-optgroup").unwrap()):i.hasClass("oj-listbox-result")?i.find("oj-option").unwrap().unwrap():i.find("oj-option").unwrap())})},_cleanupList:function(e){if(e&&e.is("ul")){e.removeClass("oj-listbox-results oj-listbox-result-sub"),e.removeAttr("role");for(var i=e.children().length-1;i>=0;i--)this._cleanupList(t(e.children()[i]))}else if(e.is("li")){(e.hasClass("oj-listbox-placeholder")||e.hasClass("oj-listbox-no-results"))&&e.remove(),e.attr("class")&&e.attr("class",e.attr("class").replace(/\oj-listbox-\S+/g,""));var s=e.children(".oj-listbox-result-label");s&&s.contents().unwrap(),"none"==e.css("display")&&e.css("display",""),this._cleanupList(e.children("ul"))}},_optionToData:function(e){if(e.is("option")||e.is("oj-option"))return{value:e.prop("value")||e.attr("value"),label:e.text()||e.attr("label"),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:"locked"===e.attr("locked")||!0===e.data("locked")};if(e.is("optgroup")||e.is("oj-optgroup"))return{label:e.prop("label")||e.attr("label"),disabled:e.prop("disabled"),children:[],element:e.get(),css:e.attr("class")};if(e.is("li")){var t,i,s,o=null,n=e.children();if(n&&n.length>0&&n.is("ul"))t=e.attr("oj-data-label")?e.attr("oj-data-label"):e.clone().children().remove().end().text().trim(),i=e.attr("oj-data-value"),o=[];else if(n&&n.length>0&&n.is("oj-optgroup"))t=n.prop("label"),s=n.prop("disabled"),o=[];else{var a=e.find("oj-option");t=e.attr("oj-data-label")?e.attr("oj-data-label"):e.text().trim(),i=a.length>0?a.prop("value"):e.attr("oj-data-value"),s=a.length>0?a.prop("disabled"):void 0}return{value:i,label:t,disabled:s,element:e.get(),css:e.attr("class"),children:o}}},_prepareOpts:function(e){var i,s=this;e.options&&Array.isArray(e.options)&&e.optionsKeys&&(e.options=t.extend(!0,[],e.options));var o=(i=e.element).get(0).tagName.toLowerCase();if(e.ojContext._IsCustomElement()?!e.options&&e.element.children().length>0&&(this.datalist=t(i)):"input"===o&&i.attr("list")?this.datalist=t("#"+i.attr("list")):"select"===o&&i.children().length>0?this.datalist=i:e.list&&(this.datalist=t("#"+e.list)),(e=t.extend({},{populateResults:function(i,a,l,r){var h,c=this.opts.id,u=this.opts.optionRenderer;"function"!=typeof u&&(u=null),this.opts.ojContext._WrapCustomElementRenderer&&(u=this.opts.ojContext._WrapCustomElementRenderer(u)),(h=function(i,a,r,d,p){var f,v,m,_,b,g,j,y,x=function(e,i){if(i.children&&i.children.length>0){var s=i.element&&t(i.element[0]).is("li")&&t(i.element[0]).children("ul"),o=s?t(i.element[0]).children("ul"):t("<ul></ul>");o.hasClass("oj-listbox-result-sub")||o.addClass("oj-listbox-result-sub"),h(i,i.children,o,d+1,!1),s||e.append(o)}},C=function(t){if(e.highlightTermInOptions(l)){var i=t.find(".oj-listbox-highlighter-section");i.length||(i=t),function(e,t,i){e.length&&i&&i.length&&e.each(function(){!function e(i,s){var o=0;if(3===i.nodeType){var n=i.data.toUpperCase().indexOf(s);if(n>=0){var a=document.createElement("span");a.className=t;var l=i.splitText(Math.min(n,i.data.length)),r=(l.splitText(Math.min(s.length,l.data.length)),l.cloneNode(!0));a.appendChild(r),l.parentNode.replaceChild(a,l),o=1}}else if(1===i.nodeType&&i.childNodes&&!/(script|style)/i.test(i.tagName))for(var h=0;h<i.childNodes.length;++h)h+=e(i.childNodes[h],s);return o}(this,i.toUpperCase())})}(i,"oj-listbox-highlighter",l.term)}},E=function(t,o){if(u){var n={index:f,depth:d,leaf:!o.children,parent:i,data:o,component:e.ojContext,componentElement:s.container[0],parentElement:t.get(0)},a=u.call(e.ojContext,n);null!==a&&(null===a.parentNode||a.parentNode instanceof DocumentFragment)&&t.get(0).appendChild(a)}else void 0!==(y=e.formatResult(o))&&(t.text(y),t.attr("aria-label",y));C(t)},O=s._getPlaceholder();for(p&&null!==O&&!l.term&&r.find(".oj-listbox-placeholder").length<=0&&("select"!==o||!s.ojContext._IsRequired())&&(m={value:"",label:O},(g=t("<li></li>")).addClass("oj-listbox-placeholder oj-listbox-results-depth-0 oj-listbox-result oj-listbox-result-selectable"),g.attr("role","presentation"),(j=t(document.createElement("div"))).addClass("oj-listbox-result-label"),j.attr("id","oj-listbox-result-label-"+n.nextUid()),j.attr("role","option"),void 0!==(y=e.formatResult(m))&&j.text(y),j.attr("aria-label",y),g.append(j),g.data(s._elemNm,m),r.prepend(g)),f=0,v=a.length;f<v;f+=1){_=!(b=!0===(m=a[f]).disabled)&&void 0!==c(m);var S=m.element&&t(m.element[0]).is("li");if((g=t(S?m.element[0]:"<li></li>")).hasClass("oj-listbox-result"))m.children&&m.children.length>0&&x(g,m),C(t(m.element[0]).children("div")),t(m.element[0]).css("display","");else if(g.addClass("oj-listbox-results-depth-"+d),g.addClass("oj-listbox-result"),g.addClass(_?"oj-listbox-result-selectable":"oj-listbox-result-unselectable"),b&&g.addClass("oj-disabled"),m.children&&g.addClass("oj-listbox-result-with-children"),g.attr("role","presentation"),(j=t(document.createElement("div"))).addClass("oj-listbox-result-label"),j.attr("id","oj-listbox-result-label-"+n.nextUid()),j.attr("role","option"),b&&j.attr("aria-disabled","true"),S||(E(j,m),g.append(j)),m.children&&m.children.length>0&&x(g,m),g.data(s._elemNm,m),S){var w=t(m.element[0]);if(w.children("oj-optgroup").length>0){var V=w.children("oj-optgroup").prop("label")+"";w.prepend(j.text(V))}else w.children("oj-option").length>0?w.contents().wrapAll(j):w.contents().filter(function(){return"UL"!==this.tagName}).wrapAll(j);C(w.children("div")),w.css("display","")}else r.append(g)}})(null,a,i,0,r)},highlightTermInOptions:function(e){return!(!0===e.initial)}},l,e)).id=function(e){return e.value},e.formatResult=function(e){var t=n.getLabel(e);return isNaN(t)?t:this.ojContext._formatValue(t)},e.formatSelection=function(e){var t=n.getLabel(e);return e&&t?isNaN(t)?t:this.ojContext._formatValue(t):void 0},"select"!==o&&null!==e.manageNewEntry&&(e.manageNewEntry=function(e){var i={};return i.value=i.label=t.trim(e),i}),this.datalist)e.query=this._bind(function(e){var t,i,o={results:[],more:!1},a=e.term;i=function(t,o){var l,r,h=t.children()&&t.children().length>0&&(t.children().is("ul")||t.children().is("oj-optgroup"));t.is("option")||t.is("oj-option")||t.is("li")&&!h?e.matcher(a,t.text()||t.attr("label"),t)&&o.push(s._optionToData(t)):(t.is("optgroup")||t.is("oj-optgroup")||t.is("li")&&h)&&(l=s._optionToData(t),t.is("optgroup")||t.is("oj-optgroup")?r=t.children():t.children("oj-optgroup")?r=t.children().children("ul").children():t.children("ul").children(),n.each2(r,function(e,t){i(t,l.children)}),l.children.length>0&&o.push(l))},t=this.datalist.children(),void 0!==this._getPlaceholder()&&t.length>0&&""==t.first().attr("value")&&(t=t.slice(1)),n.each2(t,function(e,t){i(t,o.results)}),e.callback(o)});else if("options"in e){var a,r=e.options;n.isDataProvider(r)&&(a=n.getDataProvider(e)),a?e.query=function(t){t.value?n.fetchByKeyFromDataProvider(s.container,a,t):n.fetchFromDataProvider(s,e,t)}:t.isFunction(r)?e.query=n.remote(r,e.optionsKeys?e.optionsKeys:null):e.query=n.local(r,e.optionsKeys?e.optionsKeys:null)}return e},_createHeader:function(){var e=this.opts.element.find(".oj-listbox-header");if(e.length){this.header=t("<li>",{class:"oj-listbox-result-header oj-listbox-result-unselectable",role:"presentation"}),this.header.append(e.children()),this._initializeHeaderItems();var i=t("<ul>",{class:"oj-listbox-results-with-header",role:"listbox"});i.append(this.header),i.appendTo(this.results.parent());var s=t("<li>",{role:"presentation"});i.append(s),this.results.attr("role","presentation"),this.results.appendTo(s)}this.headerInitialized=!0},_initializeHeaderItems:function(){this.headerItems=this.header.find("li[role='option'], li:not([role])"),this.headerItems.uniqueId(),this.header.find("ul").attr("role","presentation"),this.header.find("li:not([role])").attr("role","option"),this.header.find("a, input, select, textarea, button, object, .oj-component-initnode").each(function(){t(this).attr("tabIndex",-1)})},_isHeaderItem:function(e){var i=!1;return this.headerItems.each(function(){if(t(this).attr("id")===e)return i=!0,!1}),i},_getNextHeaderItem:function(e){if(!this.headerItems)return null;if(!e)return this.headerItems.first();var i=!1,s=null;return this.headerItems.each(function(){if(i)return s=t(this),!1;i=t(this).attr("id")===e}),s},_getPreviousHeaderItem:function(e){if(!this.headerItems)return null;var i=null;return this.headerItems.each(function(){if(t(this).attr("id")===e)return!1;i=t(this)}),i},_setFocusOnHeaderItem:function(e){var t=e.find(".oj-component .oj-enabled").first();0===t.length&&0===(t=e.find("a, input, select, textarea, button, object, .oj-component-initnode").first()).length&&(t=e.children().first()),t&&t.addClass("oj-focus oj-focus-highlight oj-focus-only")},_removeHighlightFromHeaderItems:function(){this.headerItems&&this.headerItems.find(".oj-focus").removeClass("oj-focus oj-focus-highlight oj-focus-only")},_triggerSelect:function(e){var i=t.Event(this._elemNm+"-selecting",{val:this.id(e),object:e});return this.opts.element.trigger(i),!i.isDefaultPrevented()},_isInterfaceEnabled:function(){return!0===this.enabledInterface},_enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("oj-disabled",t),this.close(),this.enabledInterface=e,!0)},_enable:function(e){void 0===e&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.container.toggleClass("oj-enabled",e),this._enableInterface())},_disable:function(){this._enable(!1)},_readonly:function(e){return void 0===e&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this._enableInterface(),!0)},_opened:function(){return this.container.hasClass("oj-listbox-dropdown-open")},_getDropdownPositionElement:function(){return this.container.children().first()},_usingHandler:function(i,s){if(e.PositionUtils.isAligningPositionClipped(s)){var o=n._addBusyState(this.container,"closing popup");this._closeDelayTimer=window.setTimeout(function(){t.proxy(this.close,this),o()},1)}else{var a=this.container,l=s.element.element;l.css(i),"bottom"===s.vertical?(a.addClass("oj-listbox-drop-above"),l.addClass("oj-listbox-drop-above")):(a.removeClass("oj-listbox-drop-above"),l.removeClass("oj-listbox-drop-above"))}},_getDropdownPosition:function(){var i={my:"start top",at:"start bottom",of:this._getDropdownPositionElement(),collision:"flip",using:t.proxy(this._usingHandler,this)},s="rtl"===e.DomUtils.getReadingDirection();return e.PositionUtils.normalizeHorizontalAlignment(i,s)},_positionDropdown:function(){var e=this.dropdown,t=this._getDropdownPosition(),i=this.container;e.css("width",i.outerWidth()),e.position(t)},_shouldOpen:function(e){if(this._opened())return!1;if(!1===this._enabled||!0===this._readonly)return!1;var t={component:this.opts.element};return this.ojContext._trigger("beforeExpand",e,t)},_clearDropdownAlignmentPreference:function(){this.container.removeClass("oj-listbox-drop-above"),this.dropdown.removeClass("oj-listbox-drop-above")},open:function(e,t){return!!this._shouldOpen(e)&&(this._opening(e,t),!0)},_opening:function(){this.headerInitialized||this._createHeader(),this.container.addClass("oj-listbox-dropdown-open")},_showDropDown:function(){if(this._opened()&&"true"!==this._getActiveContainer().attr("aria-expanded")){this._clearDropdownAlignmentPreference();var i=this.dropdown.parent();if("oj-select"===this._classNm&&!0!==this.opts.multiple&&i&&i.hasClass("oj-listbox-drop-layer"))e.PopupService.getInstance().triggerOnDescendents(i,e.PopupService.EVENT.POPUP_REFRESH);else{this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.dropdown.appendTo(this.body()),this.header&&(this.dropdown.find(".oj-listbox-results-with-header").prepend(this.header),
this.header.show());var s={};s[e.PopupService.EVENT.POPUP_CLOSE]=t.proxy(this.close,this),s[e.PopupService.EVENT.POPUP_REMOVE]=t.proxy(this._surrogateRemoveHandler,this),s[e.PopupService.EVENT.POPUP_AUTODISMISS]=t.proxy(this._clickAwayHandler,this),s[e.PopupService.EVENT.POPUP_REFRESH]=t.proxy(this._positionDropdown,this);var o={};o[e.PopupService.OPTION.POPUP]=this.dropdown,o[e.PopupService.OPTION.LAUNCHER]=this.opts.element,o[e.PopupService.OPTION.EVENTS]=s,o[e.PopupService.OPTION.POSITION]=this._getDropdownPosition(),o[e.PopupService.OPTION.LAYER_SELECTORS]="oj-listbox-drop-layer",o[e.PopupService.OPTION.CUSTOM_ELEMENT]=this.ojContext._IsCustomElement(),e.PopupService.getInstance().open(o),t("#oj-listbox-drop").removeAttr("id"),this.dropdown.attr("id","oj-listbox-drop");var n=this.containerId;this.dropdown.attr("data-oj-containerid",n)}this._positionDropdown(),this._getActiveContainer().attr("aria-expanded",!0)}},close:function(i){if(this._opened()){this.container.removeClass("oj-listbox-dropdown-open");var s=this._getActiveContainer().attr("aria-expanded");if(delete this.ojContext._resolveSearchBoxLater,s&&"false"!==s){var o=this.containerId,n="scroll."+o,a="resize."+o,l="orientationchange."+o;this.container.parents().add(window).each(function(){t(this).off(n).off(a).off(l)}),this._clearDropdownAlignmentPreference();var r={};r[e.PopupService.OPTION.POPUP]=this.dropdown,e.PopupService.getInstance().close(r),this.header&&(this.header.hide(),this.header.appendTo(this.container)),this.dropdown.removeAttr("data-oj-containerid"),this.dropdown.removeAttr("id"),this.opts.list||this.isOjOption?this._removeHighlight():(this.dropdown.detach(),this.results.empty()),this._getActiveContainer().attr("aria-expanded",!1),"ojcombobox"===this._elemNm&&this._getActiveContainer().removeAttr("aria-activedescendant"),t.removeData(this.container,this._classNm+"-last-term")}}},_setPickerAttributes:function(t){e.EditableValueUtils.setPickerAttributes(this.dropdown,t)},_clearSearch:function(){},_ensureHighlightVisible:function(){var e,i,s,o,n,a,l,r=this.results;(i=this._highlight())<0||(e=this._findHighlightableChoices(),o=(s=t(e[i])).offset().top+s.outerHeight(!0),i===e.length-1&&(l=r.find("li.oj-listbox-more-results")).length>0&&(o=l.offset().top+l.outerHeight(!0)),o>(n=r.offset().top+r.outerHeight(!0))&&r.scrollTop(r.scrollTop()+(o-n)),(a=s.offset().top-r.offset().top)<0&&"none"!=s.css("display")&&r.scrollTop(r.scrollTop()+a))},_findHighlightableChoices:function(){return this.results.find(".oj-listbox-result-selectable:not(.oj-disabled, .oj-selected)").filter(function(){return"none"!=t(this).css("display")})},_moveHighlight:function(e){var i=this._findHighlightableChoices(),s=this._highlight();if(this.header&&(s<=0||s===i.length-1)){var o=this._getActiveContainer().attr("aria-activedescendant"),n=this._isHeaderItem(o);n||(o=null);var a=null;if(e>0&&(s<0||s===i.length-1)?a=this._getNextHeaderItem(o):e<0&&(n&&s<0||0===s)&&(a=this._getPreviousHeaderItem(o)),a)return this._removeHighlight(),this._setFocusOnHeaderItem(a),void this._getActiveContainer().attr("aria-activedescendant",a.attr("id"));n&&e<0&&(s=0)}for(;s>=-1&&s<i.length;){(s+=e)==i.length?s=0:-1==s&&(s=i.length-1);var l=t(i[s]);if(l.hasClass("oj-listbox-result-selectable")&&!l.hasClass("oj-disabled")&&!l.hasClass("oj-selected")){this._highlight(s);break}}},_highlight:function(e){var i,s=this._findHighlightableChoices(),o=this.dropdown.find(".oj-listbox-search"),n=o&&!o.attr("aria-hidden");if(0===arguments.length){var a=s.filter(".oj-hover");return a.length||(a=s.children(".oj-hover").closest(".oj-listbox-result")),n&&this._updateMatchesCount(a.text()),s.get().indexOf(a[0])}if(e>=s.length&&(e=s.length-1),e<0&&(e=0),this._removeHighlight(),(i=t(s[e])).hasClass("oj-listbox-result-with-children")){var l=i.children(".oj-listbox-result-label");l.addClass("oj-hover"),n&&this._updateMatchesCount(l.text())}else i.addClass("oj-hover"),n&&this._updateMatchesCount(i.text());this._getActiveContainer().attr("aria-activedescendant",i.find(".oj-listbox-result-label").attr("id")),this._ensureHighlightVisible()},_removeHighlight:function(){this.results.find(".oj-hover").removeClass("oj-hover"),this._removeHighlightFromHeaderItems(),"ojcombobox"===this._elemNm&&this._getActiveContainer().removeAttr("aria-activedescendant")},_highlightUnderEvent:function(e){var i=t(e.target).closest(".oj-listbox-result-selectable");if(i.length>0&&!i.is(".oj-hover")){var s=this._findHighlightableChoices();this._highlight(s.index(i))}else 0==i.length&&this._removeHighlight()},_updateMatchesCount:function(e){if(!this.dropdown.find(".oj-listbox-filter-message-text").length){var t=this.container.find(".oj-listbox-liveregion");t.length&&t.text(e)}},_updateResults:function(i){var s=this,o=this.search.val(),a=t.data(this.container,this._classNm+"-last-term");if((!0===i||!a||o!==a||!0===this.opts.multiple)&&(a||o||!i||"input"!==i.type)){t.data(this.container,this._classNm+"-last-term",o);var l=this.opts.minLength||0;o.length>=l?(this._queryTimer&&this._queryTimer.clear(),i&&!0!==i?(this._queryResolveBusyState=n._addBusyState(this.container,"query results"),this._queryTimer=e.TimerUtils.getTimer(n.DEFAULT_QUERY_DELAY),this._queryTimer.getPromise().then(function(e){e&&s._queryResults(i)}).then(this._queryResolveBusyState)):this._queryResults(i)):this.close()}},_queryResults:function(e){var t,i,s=this.search,o=this.results,a=this.opts,l=this,r=s.val();function h(){if(l._positionDropdown(),l.header&&l.headerItems.length){var e=l._findHighlightableChoices(),t=l.headerItems.length+e.length;if(l.headerItems.attr("aria-setsize",t),e.length){var i=e.children("[role='option']");i.attr("aria-setsize",t),i.first().attr("aria-posinset",l.headerItems.length+1)}}}(a.minLength||0)>r.length?this.close():(this.open(null,!0),i=++this.queryCount,this._removeHighlight(),r=null!=(t=this.search.val())&&(!0!==e||a.inputSearch||"rawValue"===a.filterOnOpen||a.minLength>0)?t:"",this.resultsPage=1,a.query({element:a.element,term:r,page:this.resultsPage,context:null,matcher:a.matcher,callback:this._bind(function(t){if(i===this.queryCount&&this._opened())if(a.ojContext._hasMore||n.removeDropdownMessage(l.dropdown),this.context=t&&void 0!==t.context?t.context:null,(!t||t.results&&0===t.results.length||this._isDataSelected(t)&&this.ojContext.isValid())&&n.checkFormatter(l.ojContext,a.formatNoMatches,"formatNoMatches")){var r=a.formatNoMatches(l.ojContext,s.val());if("oj-select"===this._classNm||this.header){if(this._showDropDown(),this._preprocessResults(o),h(),n.addDropdownMessage(l.dropdown,l.ojContext,r),!this._hasSearchBox()){var c=l.dropdown.find(".oj-listbox-filter-message-separator");c.length&&c.css("display","none")}}else this.close();this._updateMatchesCount(r)}else n.saveLastQueryResult(this,t.results),this._showDropDown(),this._preprocessResults(o),l.opts.populateResults.call(this,o,t.results,{term:s.val(),page:this.resultsPage,context:null,initial:e},this._showPlaceholder()),this._postprocessResults(t,e),h(),this._updateMatchesCount(a.formatMoreMatches(l.ojContext,this._findHighlightableChoices().length))})}))},_preprocessResults:function(e){if(this.opts.list||this.isOjOption){var t=e.children();t.find(".oj-listbox-highlighter"),this._hideResultList(t)}else e.empty()},_normalizeHighlighterLabel:function(e){var i,s;if(e.children("div").children("oj-option").length>0?(i=e.children("div").children("oj-option").children(".oj-listbox-highlighter"),s=e.children("div").children("oj-option")[0]):(i=e.children("div").children(".oj-listbox-highlighter"),s=e.children("div")[0]),i.length>0){for(var o=0;o<i.length;o++)t(i[o].childNodes).unwrap();s.normalize()}},_hideResultList:function(e){for(var i=0;i<e.length;i++){var s,o=t(e[i]);o.is("LI")&&((o.hasClass("oj-listbox-no-results")||o.hasClass("oj-listbox-placeholder"))&&o.remove(),o.css("display","none"),o.hasClass("oj-selected")&&o.removeClass("oj-selected"),this._normalizeHighlighterLabel(o)),(s=o.children("oj-optgroup")?o.children("oj-optgroup").children("ul"):o.children("ul"))&&s.children()&&this._hideResultList(s.children())}},_cancel:function(e){this.close(e)},_focusSearch:function(){n._focus(this,this.search)},_selectHighlighted:function(e,i){if(this.header){var s=this._getActiveContainer().attr("aria-activedescendant");if(this._isHeaderItem(s)){var o=t("#"+s),a=o.find("a, input, select, textarea, button, object").first();return 0===a.length&&(a=o.children()),a.length&&a[0].click(),void this.close(i)}}var l=this._highlight(),r=this.results.find(".oj-hover").closest(".oj-listbox-result").data(this._elemNm);if(r){this._highlight(l);var h=this.getVal();(e=e||{}).trigger=n.ValueChangeTriggerTypes.OPTION_SELECTED,this._onSelect(r,e,i),this._triggerUpdateEvent(r,e,i),this._triggerValueUpdatedEvent(r,h),i&&"keydown"===i.type&&(this.enterKeyEventHandled=!0)}else e&&e.noFocus&&this.close(i)},_getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},_setPlaceholder:function(){var e=this._getPlaceholder();e&&(this.search.attr("placeholder",e),this.container.removeClass(this._classNm+"-allowclear"))},_initContainerWidth:function(){var e=function(){var e,t,i,s,o;if(null!=(e=this._getAttribute("style")))for(s=0,o=(t=e.split(";")).length;s<o;s+=1)if(null!==(i=t[s].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&i.length>=1)return i[1]}.call(this);null!==e&&this.container.css("width",e)},getVal:function(){return this.ojContext.option("value")},setVal:function(e,t,i){var s={doValueChangeCheck:!1};if(i&&(s._context=i),!this._skipSetValueOptions){var o,a=n.getLastQueryResult(this);a&&(o=this.ojContext.multiple?n.findOptions(a,e):n.findOption(a,e)),o?this.setValOpts(o):"oj-combobox"===this._classNm?this.ojContext._resolveValueOptionsLater=null!=n.findOption(this.getValOpts(),e):this.ojContext._resolveValueOptionsLater=!0}Array.isArray(e)||this.ojContext._IsCustomElement()?this.ojContext._SetValue(e,t,s):this.ojContext._SetValue([e],t,s),this.opts.element.val(e)},getValOpts:function(){var e=this.ojContext;return e.multiple?e.option("valueOptions"):e.option("valueOption")},setValOpts:function(e){var t=this.ojContext;n.setValueOptions(t,e),t.multiple?this.opts.valueOptions=e:this.opts.valueOption=e},_triggerUpdateEvent:function(e,t,i){},_triggerValueUpdatedEvent:function(e,t){},_showPlaceholder:function(){return!1},_getActiveContainer:function(){return this.search},_getAttribute:function(e){return this.opts.ojContext._IsCustomElement()?this.opts.ojContext.OuterWrapper.getAttribute(e):this.opts.element.attr(e)},_showSearchBox:function(e){var i=!1,s=this.dropdown.find(".oj-listbox-search");if(s&&(this._hasSearchBox()?(this.dropdown.find(".oj-listbox-search-wrapper").removeClass("oj-helper-hidden-accessible"),t(s).removeAttr("aria-hidden"),this.search.val(e),i=!0):(this.dropdown.find(".oj-listbox-search-wrapper").addClass("oj-helper-hidden-accessible"),t(s).attr("aria-hidden","true"))),n._focus(this,i?this.search:this.selection),i){var o=this;s.find(".oj-listbox-spyglass-box").on("mouseup click",function(e){o.search.focus(),e.preventDefault()})}},_hasSearchBox:function(){if(this._userTyping)return!0;var e,i=this.opts.minimumResultsForSearch;return this.opts.list?e=t("#"+this.opts.list).find("li").length:n.isDataProvider(this.opts.options)?void 0===this.ojContext._resultCount?(e=i+1,this.ojContext._resolveSearchBoxLater=!0):(e=this.ojContext._resultCount,delete this.ojContext._resolveSearchBoxLater):this.datalist?e=this.ojContext._IsCustomElement()?this.datalist.children().find("oj-option").length:this.datalist[0].length:this.opts.options&&(e=this.opts.options.length),e>i},_isDataSelected:function(e){return!1},_findItem:function(e,i){for(var s=0;s<e.length;s++)if(t(e[s]).data(this._elemNm).value===i)return e[s];return null}}),l={closeOnSelect:!0,openOnEnter:!0,formatNoMatches:function(e,t){return e.getTranslatedString("noMatchesFound")},formatMoreMatches:function(e,t){return 1===t?e.getTranslatedString("oneMatchesFound"):e.getTranslatedString("moreMatchesFound",{num:""+t})},id:function(e){return e.id},matcher:function(e,t){return(""+t).toUpperCase().indexOf((""+e).toUpperCase())>=0},separator:","},r=n.clazz(a,{_enableInterface:function(){r.superclass._enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this._isInterfaceEnabled())},_focus:function(){this._opened()&&this.close()},_destroy:function(){t("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),r.superclass._destroy.apply(this,arguments)},_clear:function(t){if(this.selection.data(this._elemNm)){t||e.Logger.warn("Event should not be null when user modified the value in UI");var i=this.ojContext._IsCustomElement()?"":[];"oj-select"===this._classNm&&this.ojContext._IsRequired()||this.setVal(i,t),this.search.val(""),this.selection.removeData(this._elemNm)}this._setPlaceholder()},_initSelection:function(){if(!n.applyValueOptions(this,this.opts)){var e=this.datalist?this.datalist:this.opts.element;this.opts.initSelection.call(null,e,this._bind(this._updateSelectedOption))}},_containerKeydownHandler:function(e){if(this._isInterfaceEnabled())if(e.which!==n.KEY.PAGE_UP&&e.which!==n.KEY.PAGE_DOWN){switch(e.which){case n.KEY.UP:case n.KEY.DOWN:return this._opened()?this._moveHighlight(e.which===n.KEY.UP?-1:1):this.open(e),void e.preventDefault();case n.KEY.ENTER:return this._selectHighlighted(null,e),e.preventDefault(),void(this._opened()||(this._userTyping=!1));case n.KEY.TAB:return this.close(e),void(this._userTyping=!1);case n.KEY.ESC:return this._opened()&&(this._cancel(e),e.preventDefault()),void(this._userTyping=!1)}this._userTyping=!0}else e.preventDefault()},_containerKeyupHandler:function(e){this._isInterfaceEnabled()&&(this._opened()||this.open(e))},_initContainer:function(){var e,i,s=this.container,o=(this.dropdown,this.opts.rootAttributes),a=o&&o.id?o.id:this._getAttribute("id")||n.nextUid();this.selection=e=s.find("."+this._classNm+"-choice"),e.attr("id",this._classNm+"-choice-"+a),(i=t("label[for='"+this._getAttribute("id")+"']")).attr("id")||i.attr("id",this._classNm+"-label-"+a),e.find("."+this._classNm+"-input").attr("id",this._classNm+"-input-"+a),this.results.attr("id")||this.results.attr("id","oj-listbox-results-"+a);var l=s.find(".oj-listbox-liveregion");l.length&&l.attr("id","oj-listbox-live-"+a),"oj-select"!==this._classNm&&this.search.attr("aria-owns",this.results.attr("id")),this.search.attr("aria-labelledby",i.attr("id")),this.opts.element.attr("aria-labelledby",i.attr("id")),this.search.attr("id")&&i.attr("for",this.search.attr("id")),this._getAttribute("aria-label")&&this.search.attr("aria-label",this._getAttribute("aria-label")),this._getAttribute("aria-controls")&&this.search.attr("aria-controls",this._getAttribute("aria-controls")),e.on("keydown",this._bind(this._containerKeydownHandler)),e.on("mousedown","abbr",this._bind(function(e){this._isInterfaceEnabled()&&(this._clear(e),n.killEventImmediately(e),this.close(e),this.selection.focus())})),e.on("mousedown",this._bind(function(i){if(!("end"===i.target.getAttribute("slot")||t(this._endSlot).find(i.target).length>0)){this.opts.element.prop("disabled")&&n.killEvent(i),e.removeClass("oj-focus-highlight"),this._opened()?this.close(i):this._isInterfaceEnabled()&&this.open(i);var s=this.search.parent().attr("aria-hidden");s&&"true"==s?this.selection.focus():this.search.focus(),t(i.target).hasClass("oj-combobox-open-icon")&&n.killEvent(i),this.container.addClass("oj-active")}})),e.on("mouseup",this._bind(function(e){this.container.removeClass("oj-active")})),e.on("focus",this._bind(function(e){n.killEvent(e)})),this.search.on("input",this._bind(function(e){this.ojContext._SetRawValue(this.search.val(),e)})),this.search.on("focus",this._bind(function(){this._previousDisplayValue=this.search.val()})),this.search.on("blur keyup",this._bind(function(e){if("keyup"!==e.type||10===e.keyCode||13===e.keyCode){if(void 0!==this.search.val()&&this.results.find(".oj-hover").length<=0&&("keyup"!==e.type||!this.enterKeyEventHandled))if(this.opts.manageNewEntry){var t=this.search.val(),i=this.opts.manageNewEntry(t),s={trigger:"blur"===e.type?n.ValueChangeTriggerTypes.BLUR:n.ValueChangeTriggerTypes.ENTER_PRESSED},o=this.selection.data(this._elemNm),a=this.getVal();!o&&""!==t||o&&o.label!==t||!this.ojContext.isValid()&&t!==this._previousDisplayValue?(this._onSelect(i,s,e),"blur"!==e.type&&(this._triggerUpdateEvent(i,s,e),this._triggerValueUpdatedEvent(i,a))):"keyup"===e.type&&(o&&o.label===t&&(i=o),this._triggerUpdateEvent(i,s,e),this._triggerValueUpdatedEvent(i,a))}else if(null==this.opts.manageNewEntry)if(i=this.selection.data(this._elemNm),""==this.search.val())"oj-select"!==this._classNm&&this._clear(e);else if(i||""===this.search.val()){if("oj-select"!==this._classNm){var l=this.opts.formatSelection(i);void 0!==l&&this.search.val(l)}}else this._clearSearch();this.search.removeClass(this._classNm+"-focused"),this.container.removeClass("oj-focus"),this.enterKeyEventHandled=!1}})),this._initContainerWidth(),this.opts.element.hide().attr("aria-hidden",!0),this.container.append(this.opts.element),this._setPlaceholder()},_prepareOpts:function(){var i=r.superclass._prepareOpts.apply(this,arguments),s=this,o=i.element.get(0).tagName.toLowerCase();if("input"===o&&i.element.attr("list")||"select"===o&&i.element.children().length>0||i.ojContext._IsCustomElement()&&!i.options||i.list){var a=i.list?"li":"option";i.ojContext._IsCustomElement()&&(a="oj-option"),i.initSelection=function(n,l){var r,h=s.getVal();Array.isArray(h)&&!i.ojContext._IsCustomElement()&&(h=h[0]),null!=h&&(r=s._optionToData(n.find(a).filter(function(){var t;return"li"==a?t=this.getAttribute("oj-data-value"):"option"!=a&&"oj-option"!=a||(t=this.value),e.Object.compareValues(t,h)})),"select"===o&&void 0===r&&(h=null)),null==h&&(r=s._optionToData(n.find(a).filter(function(){return"li"==a?!0===this.getAttribute("oj-data-selected"):"option"==a?this.selected:void 0})),"oj-select"===s._classNm&&void 0===r&&i.ojContext._IsCustomElement()&&(r=s._optionToData(t(n.find(a)[0])))),l(r)},i.validate=function(t,i){var o;return null!=i&&(o=s._optionToData(t.find(a).filter(function(){var t;return"li"==a?t=this.getAttribute("oj-data-value"):"option"!=a&&"oj-option"!=a||(t=this.value),e.Object.compareValues(t,i)}))),!!o}}else("options"in i||this.getVal()&&this.getVal().length>0)&&(n.isDataProvider(i.options)||t.isFunction(i.options)?i.initSelection=function(o,a){var l=function(t,s){for(var o=0,n=t.length;o<n;o++){var a=t[o];if(e.Object.compareValues(s,i.id(a)))return a;if(a.children){var r=l(a.children,s);if(r)return r}}return null},r=s._getValueItem(),h=null;if(r){var c=n.getLastQueryResult(s);if(c&&(h=l(c,r)),!h){var u=s.currentItem;u&&u.length&&e.Object.compareValues(r,i.id(u[0]))&&(h=u[0])}h||s.valueChangeTrigger?a(h):i.query({value:[r],callback:t.isFunction(a)?function(e){e&&e.results&&(h=l(e.results,r)),a(h)}:t.noop})}else a(h)}:(i.initSelection=function(n,a){var l=s._getValueItem(),r="select"==o&&s.ojContext._HasPlaceholderSet()&&!s.ojContext._IsRequired()?s._getPlaceholder():null,h=null;i.query({matcher:function(t,s,o){var n=e.Object.compareValues(l,i.id(o));return n&&(h=o),null==r&&(r=o),n},callback:t.isFunction(a)?function(){h||"select"!==o||s.ojContext._isOptionDataPending()||(h=r),a(h)}:t.noop})},i.validate=function(s,o){var n=o,a=null;return i.query({matcher:function(t,s,o){var l=e.Object.compareValues(n,i.id(o));return l&&(a=o),l},callback:t.noop}),!!a}));return i},_postprocessResults:function(t,i,s){var o,a=-1,l=this;o=this._findHighlightableChoices(),n.each2(o,function(t,i){var s=l._getValueItem();if(s&&e.Object.compareValues(s,l.id(i.data(l._elemNm))))return a=t,!1}),!1!==s&&!0===i&&a>=0&&this._highlight(a)},_onSelect:function(e,t,i){var s,o;this._triggerSelect(e)&&(t&&t.trigger&&(s={optionMetadata:{trigger:t.trigger}}),this.close(i),0===this.id(e).length?(o=this.ojContext._IsCustomElement()?"":[],e=[]):o=this.id(e),"oj-combobox"===this._classNm&&(this._skipSetValueOptions=!0,this.setValOpts(n.findOptionFromResult(this,o,e))),this.setVal(o,i,s),this._skipSetValueOptions=!1,"blur"!==i.type&&this._focusSearch())},_clearSearch:function(){this.search.val("")},_getValueItem:function(){var e=null,t=this.getVal();return null!=t&&(e=!this.ojContext._IsCustomElement()&&t.length?t[0]:t),e}}),h=n.clazz(r,{_elemNm:"ojcombobox",_classNm:"oj-combobox",_createContainer:function(){var i=t(document.createElement("div")).attr({class:"oj-combobox oj-component"}).html(["<div class='oj-combobox-choice' tabindex='-1' role='presentation'>","   <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off'","       spellcheck='false' class='oj-combobox-input' role='combobox' aria-expanded='false' aria-autocomplete='list' />","   <abbr class='oj-combobox-clear-entry' role='presentation'></abbr>","   <span class='oj-combobox-divider' role='presentation'></span>","   <a class='oj-combobox-arrow oj-combobox-icon oj-component-icon oj-clickable-icon-nocontext oj-combobox-open-icon'","       role='button' aria-label='expand'></a>","</div>","<div class='oj-listbox-drop' style='display:none' role='presentation'>","   <ul class='oj-listbox-results' role='listbox'>","   </ul>","</div>"].join(""));if(this.ojContext._IsCustomElement()){var s=e.BaseCustomElementBridge.getSlotMap(this.ojContext.OuterWrapper).end;s&&(i.find(".oj-combobox-divider").remove(),i.find(".oj-combobox-arrow").remove(),i.find(".oj-combobox-choice").append(s),this._endSlot=s)}return i},_triggerValueUpdatedEvent:function(e,t){if(this.ojContext._IsCustomElement()){var i=this.id(e);if(null==i&&(i=e.label?e.label:""),void 0!==this.ojContext._Validate(i,null,null)&&this.ojContext.isValid()){var s={},o=this.ojContext.OuterWrapper;s.value=i,s.previousValue=t;var n=new CustomEvent("ojValueUpdated",{detail:s});o.dispatchEvent(n)}}},_enable:function(e){h.superclass._enable.apply(this,arguments),this._enabled?this.container.find(".oj-combobox-arrow").removeClass("oj-disabled"):this.container.find(".oj-combobox-arrow").addClass("oj-disabled")},close:function(e){this._opened()&&h.superclass.close.apply(this,arguments)},_opening:function(e,t){h.superclass._opening.apply(this,arguments),t||this._updateResults(!0)},_containerKeydownHandler:function(e){n.KEY.isControl(e)||n.KEY.isFunctionKey(e)||h.superclass._containerKeydownHandler.apply(this,arguments)},_updateSelection:function(e){var t,i=[];this.selection.data(this._elemNm,e),null!==e&&0!=e.length?(void 0!==(t=this.opts.formatSelection(e))&&this.search.val()!==t&&this.search.val(t),this.search.removeClass(this._classNm+"-default"),i.push(e)):(this.search.val(""),this._setPlaceholder()),this.currentItem=i,this.opts.allowClear&&this.container.addClass(this._classNm+"-allowclear")},_updateSelectedOption:function(e){if(null!=e)this._updateSelection(e);else{var t=this.getVal(),i=t?Array.isArray(t)?Array.isArray(t)&&t.length?{label:t[0]}:null:{label:t}:null;this._updateSelection(i)}this.setValOpts(e)}}),c=n.clazz(r,{_elemNm:"ojselect",_classNm:"oj-select",_userTyping:!1,_createContainer:function(){return t(document.createElement("div")).attr({class:"oj-select oj-component"}).html(["<div class='oj-select-choice' tabindex='0' role='combobox' ","     aria-autocomplete='none' aria-expanded='false'>","  <span class='oj-select-chosen'></span>","  <abbr class='oj-select-search-choice-close' role='presentation'></abbr>","  <a class='oj-select-arrow oj-component-icon oj-clickable-icon-nocontext oj-select-open-icon' role='presentation'>","</a></div>","<div class='oj-listbox-drop' style='display:none' role='dialog'>","  <div class='oj-listbox-search-wrapper'>","  <div class='oj-listbox-search'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off'","           spellcheck='false' class='oj-listbox-input' title='Search field' ","           role='combobox' aria-expanded='false' aria-autocomplete='list' />","    <span class='oj-listbox-spyglass-box'>","      <span class='oj-component-icon oj-clickable-icon-nocontext oj-listbox-search-icon' role='presentation'>","       <b role='presentation'></b></span>","    </span>","  </div>","  </div>","   <ul class='oj-listbox-results' role='listbox'>","   </ul>","</div>","<div role='region' class='oj-helper-hidden-accessible oj-listbox-liveregion' aria-live='polite'></div>"].join(""))},_enable:function(e){c.superclass._enable.apply(this,arguments),this._enabled?(this.selection.attr("tabindex","0"),this.container.find(".oj-select-arrow").removeClass("oj-disabled")):(this.selection.attr("tabindex","-1"),this.container.find(".oj-select-arrow").addClass("oj-disabled"))},close:function(e){this._opened()&&(c.superclass.close.apply(this,arguments),this.selection.attr("aria-expanded",!1).removeAttr("aria-haspopup").removeAttr("aria-owns"),this.search.attr("aria-expanded",!1).removeAttr("aria-controls"),this._testClear(e)||this._clearSearch(),e instanceof MouseEvent&&e.target!=this.selection&&e.target!=this.search||n._focus(this,this.selection),this.container.find(".oj-listbox-spyglass-box").off("mouseup click"))},_opening:function(e,t){c.superclass._opening.apply(this,arguments);var i=n.getSearchText(e);this._showSearchBox(i),t||(i?this._updateResults():this._updateResults(!0))},_showDropDown:function(){if(this._opened()){var e="true"!==this.selection.attr("aria-expanded");c.superclass._showDropDown.apply(this,arguments),e&&(this.selection.attr("aria-expanded",!0).attr("aria-haspopup","dialog").attr("aria-owns",this.results.attr("id")),this.search.attr("aria-expanded",!0).attr("aria-controls",this.results.attr("id")+" "+this.container.find(".oj-listbox-liveregion").attr("id")))}},_initContainer:function(){var e=this.containerId+"_selected";this.text=this.container.find(".oj-select-chosen").attr("id",e),c.superclass._initContainer.apply(this,arguments),this.selection.attr({"aria-labelledby":this.search.attr("aria-labelledby"),"aria-describedby":e});var t=this._getAttribute("aria-label");t&&this.selection.attr("aria-label",t),this.search.on("keydown",this._bind(this._containerKeydownHandler)),this.search.on("keyup-change input",this._bind(this._containerKeyupHandler)),this.search.attr("title",this.ojContext.getTranslatedString("searchField"));var i=this;this.selection.on("blur",function(e){i._testClear(e)})},_initSelection:function(){this._isPlaceholderOptionSelected()?(this._updateSelection(null),this.close(),this._setPlaceholder()):c.superclass._initSelection.apply(this,arguments)},_updateSelectedOption:function(t){if(null!=t){var i,s=this.getVal();Array.isArray(s)&&!this.ojContext._IsCustomElement()&&(s=s[0]),void 0===(i=this.opts.id(t))&&(i=null),e.Object.compareValues(s,i)||this.ojContext._setInitialSelectedValue(i),this.setValOpts(t),this._updateSelection(t),this.close()}else this.setValOpts(null)},_updateSelection:function(e){this.selection.data(this._elemNm,e),null!==e&&this.text.text("string"==typeof e?e:n.getLabel(e)),e&&""!=e.id&&this.text.removeClass(this._classNm+"-default"),this.opts.allowClear&&this.container.addClass(this._classNm+"-allowclear")},_getActiveContainer:function(){return this.search.attr("aria-expanded")&&this._hasSearchBox()?this.search:this.selection},_isPlaceholderOptionSelected:function(){if(null===this._getPlaceholder())return!1;var e=this.getVal();return""===(e=Array.isArray(e)?e[0]:e)||null==e},_getPlaceholder:function(){return this.opts.placeholder},_showPlaceholder:function(){return!0},_setPlaceholder:function(){var e=this._getPlaceholder();this._isPlaceholderOptionSelected()&&void 0!==e&&(void 0===e&&(e=""),this.text.text(e).addClass(this._classNm+"-default"),this.container.removeClass(this._classNm+"-allowclear"))},setVal:function(e,t,i){c.superclass.setVal.call(this,e,t,i),this.selection.data("selectVal",e)},_containerKeydownHandler:function(e){if(!(n.KEY.isControl(e)&&e.which!=n.KEY.SHIFT||e.which==n.KEY.SHIFT||n.KEY.isFunctionKey(e))){switch(e.which){case n.KEY.TAB:return this.close(e),this.selection.focus(),void this._testClear(e);case n.KEY.ENTER:if(e.target===this.selection[0]&&!this._opened())return this.open(e),void e.preventDefault()}if(c.superclass._containerKeydownHandler.apply(this,arguments),this._userTyping)if(this._opened()){var i=this.dropdown.find(".oj-listbox-search");if("true"===t(i).attr("aria-hidden")){var s=n.getSearchText(e);s&&(this._showSearchBox(s),this._updateResults())}}else this.open(e)}},_testClear:function(e){return!(""!=this.text.text()||this.datalist&&this.selection.data(this._elemNm).value||(this._clear(e),0))}}),u=n.clazz(a,{_prepareOpts:function(){var i=u.superclass._prepareOpts.apply(this,arguments),s=this,o=i.element.get(0).tagName.toLowerCase();if("input"===o&&i.element.attr("list")||"select"===o&&i.element.children().length>0||i.ojContext._IsCustomElement()&&!i.options||i.list){var a=i.list?"li":"option";i.ojContext._IsCustomElement()&&(a="oj-option"),i.initSelection=function(t,i){var l=[];if(s.getVal())for(var r=s.getVal(),h=0;h<r.length;h++){var c=r[h];(u=t.find(a).filter(function(){var t;return"li"==a?t=this.getAttribute("oj-data-value"):"option"!=a&&"oj-option"!=a||(t=this.value),e.Object.compareValues(t,c)}))&&u.length?l.push(s._optionToData(u)):"ojcombobox"===s._elemNm&&l.push({value:c,label:c})}else if("select"!==o){var u;u=t.find(a).filter(function(){return"option"===a?this.selected:"li"===a?!0===this.getAttribute("oj-data-selected"):"oj-option"===a?!0===this.getAttribute("selected"):void 0}),n.each2(u,function(e,t){l.push(s._optionToData(t))})}i(l)}}else"options"in i&&(n.isDataProvider(i.options)||t.isFunction(i.options)?i.initSelection=function(o,a){var l=function(e,s){for(var o=[],n=0,a=e.length;n<a;n++){var r=e[n];if(s.indexOf(i.id(r))>=0&&o.push(r),r.children){var h=l(r.children,s);h&&h.length&&t.merge(o,h)}}return o},r=s.getVal(),h=[],c=n.getLastQueryResult(s);c&&(h=l(c,r));var u=function(){for(var t=[],o=0;o<r.length;o++){for(var n=r[o],l=!1,c=0;c<h.length;c++){var u=h[c];if(e.Object.compareValues(n,i.id(u))){t.push(u),h.splice(c,1),l=!0;break}}if(!l){var d=s.currentItem;if(d&&d.length)for(var p=0;p<d.length;p++)if(e.Object.compareValues(n,i.id(d[p]))){t.push(d[p]),l=!0;break}l||"ojcombobox"!==s._elemNm||t.push({value:n,label:n})}}a(t)};s.valueChangeTrigger?u():i.query({value:r,callback:function(e){if(e&&e.results){var i=l(e.results,r);i&&i.length&&t.merge(h,i)}u()}})}:i.initSelection=function(o,n){var a=s.getVal();if(a&&0!==a.length){var l=[];i.query({matcher:function(s,o,n){var r=t.grep(a,function(t){return e.Object.compareValues(t,i.id(n))}).length;return r&&l.push(n),r},callback:t.isFunction(n)?function(){for(var t=[],o=0;o<a.length;o++){for(var r=a[o],h=!1,c=0;c<l.length;c++){var u=l[c];if(e.Object.compareValues(r,i.id(u))){t.push(u),l.splice(c,1),h=!0;break}}h||"ojcombobox"!==s._elemNm||t.push({value:r,label:r})}n(t)}:t.noop})}});return i},_selectChoice:function(e){var t=this.container.find("."+this._classNm+"-selected-choice.oj-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("oj-focus"),e&&e.length&&("ojcombobox"===this._elemNm&&this.close(),e.addClass("oj-focus"),this.container.find("."+this._classNm+"-description").text(e.attr("valueText")+". Press back space to delete.").attr("aria-live","assertive"),this.opts.element.trigger("choice-selected",e)))},_destroy:function(){t("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),u.superclass._destroy.apply(this,arguments)},_initContainer:function(){var e,i,s="."+this._classNm+"-choices",o=n.nextUid();this.searchContainer=this.container.find("."+this._classNm+"-search-field"),this.selection=e=this.container.find(s);var a=this;this.selection.on("click","."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)",function(e){"ojcombobox"===this._elemNm&&a.search[0].focus(),a._selectChoice(t(this))}),
(i=t("label[for='"+this._getAttribute("id")+"']")).attr("id")||i.attr("id",this._classNm+"-label-"+o),this._contentElement="ojcombobox"===this._elemNm?this.search:this.selection,e.find("."+this._classNm+"-input").attr("id",this._classNm+"-input-"+o),this.results.attr("id")||this.results.attr("id","oj-listbox-results-"+o),this._contentElement.attr("aria-owns",this.results.attr("id")),this._contentElement.attr("aria-labelledby",i.attr("id")),this.opts.element.attr("aria-labelledby",i.attr("id")),this.search.attr("id")&&i.attr("for",this.search.attr("id")),this._getAttribute("aria-label")&&this._contentElement.attr("aria-label",this._getAttribute("aria-label")),this._getAttribute("aria-controls")&&this._contentElement.attr("aria-controls",this._getAttribute("aria-controls")),this.elementTabIndex&&this._contentElement.attr("tabindex",this.elementTabIndex),this.keydowns=0,"ojselect"===this._elemNm&&(this.selection.on("keydown",this._bind(this._containerKeydownHandler)),this.selection.on("keyup",this._bind(function(e){this.keydowns=0}))),this.search.on("keydown",this._bind(this._containerKeydownHandler)),this.search.on("keyup",this._bind(function(e){this.keydowns=0})),this.search.on("input",this._bind(function(e){this.ojContext._SetRawValue(this.search.val(),e)})),this.search.on("blur keyup",this._bind(function(e){if("keyup"!==e.type||10===e.keyCode||13===e.keyCode){if(this.opts.manageNewEntry&&this.search.val()&&this.results.find(".oj-hover").length<=0){var t=this.opts.manageNewEntry(this.search.val()),i={trigger:"blur"===e.type?n.ValueChangeTriggerTypes.BLUR:n.ValueChangeTriggerTypes.ENTER_PRESSED};this._onSelect(t,i,e)}this.search.removeClass(this._classNm+"-focused"),this.container.removeClass("oj-focus"),this._selectChoice(null),this._opened()||"oj-select"===this._classNm||this._clearSearch(),e.stopImmediatePropagation()}})),this.container.on("click touchstart",s,this._bind(function(e){this._isInterfaceEnabled()&&(t(e.target).closest("."+this._classNm+"-selected-choice").length>0||(this._selectChoice(null),this._opened()?this.close(e):(this.open(e),("ojcombobox"===this._elemNm||this._hasSearchBox())&&this._focusSearch()),e.preventDefault()))})),this.container.on("focus",s,this._bind(function(){this._isInterfaceEnabled()})),this._initContainerWidth(),this.opts.element.hide().attr("aria-hidden",!0),this.container.append(this.opts.element),this._clearSearch()},_containerKeydownHandler:function(e){if(this._isInterfaceEnabled()){++this.keydowns;var t=this.selection.find("."+this._classNm+"-selected-choice.oj-focus"),i=t.prev("."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)"),s=t.next("."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)"),o="ojselect"!==this._elemNm||this._userTyping?n.getCursorInfo(this.search):n.getCursorInfo(this.selection);if(t.length&&(e.which==n.KEY.LEFT||e.which==n.KEY.RIGHT||e.which==n.KEY.BACKSPACE||e.which==n.KEY.DELETE||e.which==n.KEY.ENTER)){var a=t;return e.which==n.KEY.LEFT&&i.length?a=i:e.which==n.KEY.RIGHT?a=s.length?s:null:e.which===n.KEY.BACKSPACE?(this._unselect(t.first(),e),this._resetSearchWidth(),a=i.length?i:s):e.which==n.KEY.DELETE?(this._unselect(t.first(),e),this._resetSearchWidth(),a=s.length?s:null):e.which==n.KEY.ENTER&&(a=null),this._selectChoice(a),e.preventDefault(),void(a&&a.length||this.open(e))}if((e.which===n.KEY.BACKSPACE&&1==this.keydowns||e.which==n.KEY.LEFT)&&0==o.offset&&!o.length)return this._selectChoice(this.selection.find("."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)").last()),void e.preventDefault();if(this._selectChoice(null),this._opened()){switch(e.which){case n.KEY.UP:case n.KEY.DOWN:return this._moveHighlight(e.which===n.KEY.UP?-1:1),void e.preventDefault();case n.KEY.ENTER:return this._selectHighlighted(null,e),void e.preventDefault();case n.KEY.TAB:return void this.close(e);case n.KEY.ESC:return this._cancel(e),void e.preventDefault()}!1!==this._userTyping||n.KEY.isControl(e)||n.KEY.isFunctionKey(e)||(this._userTyping=!0,this.close())}if(!(e.which===n.KEY.TAB||n.KEY.isControl(e)||n.KEY.isFunctionKey(e)||e.which===n.KEY.ESC||e.which===n.KEY.ENTER&&this.search.val()&&"ojcombobox"===this._elemNm)){switch(e.which){case n.KEY.UP:case n.KEY.DOWN:return this.open(e),void e.preventDefault();case n.KEY.PAGE_UP:case n.KEY.PAGE_DOWN:case n.KEY.ENTER:return void e.preventDefault()}this._userTyping=!0}}},_enableInterface:function(){u.superclass._enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this._isInterfaceEnabled())},_initSelection:function(e){if(null!==this.getVal()&&0!==this.getVal().length||"oj-select"!==this._classNm&&""!==this.opts.element.text().trim()||(this._updateSelection(e||[]),this.close(),this._clearSearch()),this.datalist||null!==this.getVal()&&this.getVal().length){var t,i=this;t=this.datalist?this.datalist:this.opts.element,n.applyValueOptions(this,this.opts)||this.opts.initSelection.call(null,t,function(e){null!=e&&0!==e.length&&(i._updateSelection(e),i.close(),i._clearSearch())})}},close:function(e){this._opened()&&u.superclass.close.apply(this,arguments)},_focus:function(){this.close(),this.search.focus()},_updateSelection:function(e){var i=[],s=[],o=this;t(e).each(function(){i.indexOf(o.id(this))<0&&(i.push(o.id(this)),s.push(this))}),e=s,"init"==this.opts.fetchType&&e&&e.length>0&&("oj-combobox"==this._classNm||"oj-select"==this._classNm)&&this.setValOpts(e),this.selection.find("."+this._classNm+"-selected-choice").remove(),this.selection.find(".oj-select-default").remove(),t(e).each(function(){o._addSelectedChoice(this)}),this.currentItem=e,this.opts.element.val(0===i.length?"":i.join(this.opts.separator)),o._postprocessResults()},_onSelect:function(e,i,s){if(this._triggerSelect(e)){var o;i&&i.trigger&&(o={optionMetadata:{trigger:i.trigger}});var a=this.id(e),l=this.getVal()?this.getVal().slice(0):[],r=this.getValOpts()?this.getValOpts().slice(0):[],h="oj-combobox"===this._classNm||"oj-select"===this._classNm;this.ojContext.isValid()||(l=n.splitVal(this.opts.element.val(),this.opts.separator));var c=this;t(e).each(function(t){l.indexOf(a)<0&&""!==a&&(l.push(a),h&&(Array.isArray(e)?r.push(n.findOptionFromResult(c,a,e[t])):r.push(n.findOptionFromResult(c,a,e))))}),h&&(this._skipSetValueOptions=!0,this.setValOpts(r)),this.setVal(l,s,o),this._skipSetValueOptions=!1,!this.select&&this.opts.closeOnSelect||this._postprocessResults(e,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect&&(this.close(s),this._resetSearchWidth()),i&&i.noFocus||"ojcombobox"!==this._elemNm||this._focusSearch()}},_cancel:function(e){this.close(e),"ojcombobox"===this._elemNm&&this._focusSearch()},_addSelectedChoice:function(e){var i,s=!e.locked,o=t("<li class='"+this._classNm+"-selected-choice'>    <div></div>    <a href='#' onclick='return false;' role='button' aria-label='remove' class='"+this._classNm+"-clear-entry       oj-component-icon oj-clickable-icon-nocontext "+this._classNm+"-clear-entry-icon' tabindex='-1'>    </a></li>"),a=t("<li class='"+this._classNm+"-selected-choice "+this._classNm+"-locked'><div></div></li>"),l=s?o:a;this.id(e),void 0!==(i=this.opts.formatSelection(e))&&(l.find("div").addClass(this._classNm+"-selected-choice-label").text(i),l.find("."+this._classNm+"-clear-entry").attr("aria-label",i+" remove"),l.attr("valueText",i)),s&&l.find("."+this._classNm+"-clear-entry").on("mousedown",n.killEvent).on("click dblclick",this._bind(function(e){this._isInterfaceEnabled()&&(t(e.target).closest("."+this._classNm+"-selected-choice").fadeOut("fast",this._bind(function(){this._unselect(t(e.target),e),this.selection.find("."+this._classNm+"-selected-choice.oj-focus").removeClass("oj-focus"),this.close(e),"ojcombobox"===this._elemNm&&this._focusSearch()})).dequeue(),n.killEvent(e))})),l.data(this._elemNm,e),"ojcombobox"===this._elemNm?l.insertBefore(this.searchContainer):this.selection.append(l)},_syncValueOptions:function(t,i,s){var o=[];if(i&&s){for(var a=0;a<i.length;a++)for(var l=0;l<s.length;l++){var r=s[l];e.Object.compareValues(r.value,i[a])&&o.push(r)}n.setValueOptions(t,o)}},_unselect:function(e,t){var i,s,o=this.getVal()?this.getVal().slice(0):[];if(0===(e=e.closest("."+this._classNm+"-selected-choice")).length)throw"Invalid argument: "+e+". Must be ."+this._classNm+"-selected-choice";if(i=e.data(this._elemNm)){for(this.ojContext.isValid()||(o=n.splitVal(this.opts.element.val(),this.opts.separator));(s=o.indexOf(this.id(i)))>=0;)o.splice(s,1),this._syncValueOptions(this.ojContext,o,this.getValOpts()),this._skipSetValueOptions=!0,this.setVal(o,t),this._skipSetValueOptions=!1,this.select&&this._postprocessResults();e.remove()}},_postprocessResults:function(e,t,i){var s=this.getVal()&&(this.opts.element.val()||this.ojContext.isValid())?this.getVal():[],o=this.results.find(".oj-listbox-result"),a=this.results.find(".oj-listbox-result-with-children"),l=this;n.each2(o,function(e,t){var i=l.id(t.data(l._elemNm));s&&s.indexOf(i)>=0&&(t.addClass("oj-selected"),t.find(".oj-listbox-result-selectable").addClass("oj-selected"))}),n.each2(a,function(e,t){t.is(".oj-listbox-result-selectable")||0!==t.find(".oj-listbox-result-selectable:not(.oj-selected)").length||t.addClass("oj-selected")}),!o.filter(".oj-listbox-result:not(.oj-selected)").length>0&&"oj-select"!==this._classNm&&this.close()},_isDataSelected:function(e){var t=this.getVal();if(!t||0==t.length)return!1;for(var i=e.results,s=0;s<i.length;s++)if(-1==t.indexOf(this.id(i[s])))return!1;return!0},_resetSearchWidth:function(){},setVal:function(e,t,i){var s;s=[],"string"==typeof e&&(e=n.splitVal(e,this.opts.separator));for(var o=0;o<e.length;o++)s.indexOf(e[o])<0&&s.push(e[o]);var a={doValueChangeCheck:!1};if(i&&(a._context=i),!this._skipSetValueOptions){var l,r=n.getLastQueryResult(this);r&&(l=n.findOptions(r,e)),l&&l.length&&n.setValueOptions(this.ojContext,l)}this.ojContext._SetValue(s,t,a),(this.ojContext.isValid()||0===s.length)&&this.opts.element.val(0===s.length?"":s.join(this.opts.separator)),this.search.attr("aria-activedescendant",this.opts.element.attr("id"))}}),d=n.clazz(u,{_elemNm:"ojcombobox",_classNm:"oj-combobox",_createContainer:function(){return t(document.createElement("div")).attr({class:"oj-combobox oj-combobox-multi oj-component"}).html(["<ul class='oj-combobox-choices'>","  <li class='oj-combobox-search-field'><span style='display:none'>&nbsp;</span>","    <input type='text' role='combobox' aria-expanded='false' aria-autocomplete='list' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='oj-combobox-input'>","  </li>","</ul>","<div class='oj-combobox-description oj-helper-hidden-accessible'/>","<div class='oj-listbox-drop oj-listbox-drop-multi' style='display:none'>","   <ul class='oj-listbox-results' role='listbox'>","   </ul>","</div>"].join(""))},_opening:function(e,t){this._resizeSearch(),d.superclass._opening.apply(this,arguments),this._focusSearch(),t||this._updateResults(!0),this.search.focus()},_clearSearch:function(){var e=this._getPlaceholder(),t=this._getMaxSearchWidth();void 0===e||this.getVal()&&0!==this.getVal().length||this.getValOpts()&&this.getValOpts().length?(this.search.attr("placeholder",""),this.search.val("").width(10),this.searchContainer.width("auto")):(this.search.attr("placeholder",e),this.search.val("").width(t>0?t:this.container.css("width")),this.searchContainer.width("100%"))},_resetSearchWidth:function(){this.search.width(10)},_getMaxSearchWidth:function(){return this.selection.width()-n.getSideBorderPadding(this.search)},_textWidth:function(e){var i=document.createElement("span"),s=document.createTextNode(e);i.style.display="none",i.appendChild(s),t("body").append(i);var o=t("body").find("span:last").width();return t("body").find("span:last").remove(),o},_resizeSearch:function(){var e,t,i,s,o=n.getSideBorderPadding(this.search);e=this._textWidth(this.search.val())+10,t=this.search.offset().left,(s=(i=this.selection.width())-(t-this.selection.offset().left)-o)<e&&(s=i-o),s<40&&(s=i-o),s<=0&&(s=e),this.search.width(Math.floor(s))}}),p=n.clazz(u,{_elemNm:"ojselect",_classNm:"oj-select",_userTyping:!1,_createContainer:function(){return t(document.createElement("div")).attr({class:"oj-select oj-select-multi oj-component"}).html(["<ul class='oj-select-choices' tabindex='0' role='combobox' ","  aria-autocomplete='none' aria-expanded='false'>","</ul>","<div class='oj-listbox-drop' style='display:none' role='dialog'>","  <div class='oj-listbox-search-wrapper'>","  <div class='oj-listbox-search'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off'","           spellcheck='false' class='oj-listbox-input' title='Search field' ","           role='combobox' aria-expanded='false' aria-autocomplete='list' />","    <span class='oj-listbox-spyglass-box'>","      <span class='oj-component-icon oj-clickable-icon-nocontext oj-listbox-search-icon' role='presentation'>","       <b role='presentation'></b></span>","    </span>","  </div>","  </div>","   <ul class='oj-listbox-results' role='listbox'>","   </ul>","</div>","<div role='region' class='oj-helper-hidden-accessible oj-listbox-liveregion' aria-live='polite'></div>"].join(""))},_containerKeydownHandler:function(e){p.superclass._containerKeydownHandler.apply(this,arguments),this._userTyping&&!this._opened()&&this.open(e)},_opening:function(e,t){p.superclass._opening.apply(this,arguments);var i=n.getSearchText(e);this._showSearchBox(i),t||(i?this._updateResults():this._updateResults(!0))},close:function(e){!0===this._userTyping&&(this._userTyping=!1),p.superclass.close.apply(this,arguments),!e||e instanceof MouseEvent&&e.target!=this.selection&&e.target!=this.search||n._focus(this,this.selection)},_clearSearch:function(){var e=this._getPlaceholder();if(e&&(!this.getVal()||0===this.getVal().length)){var i=t("<li></li>");i.addClass("oj-select-default"),i.text(e),this.selection.append(i)}}}),f=n.clazz(h,{_elemNm:"ojinputsearch",_classNm:"oj-inputsearch",_createContainer:function(){var e=t(document.createElement("div")).attr({class:"oj-inputsearch oj-component"}).html(["<div class='oj-inputsearch-choice' tabindex='-1' role='presentation'>","   <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off'","       spellcheck='false' class='oj-inputsearch-input' role='combobox' aria-expanded='false' aria-autocomplete='list' />","   <a class='oj-inputsearch-search-button oj-inputsearch-search-icon oj-component-icon oj-clickable-icon-nocontext'","       role='button' aria-label='search'></a>","</div>","<div class='oj-listbox-drop' style='display:none' role='presentation'>","   <ul class='oj-listbox-results' role='listbox'>","   </ul>","</div>","<div role='region' class='oj-helper-hidden-accessible oj-listbox-liveregion' aria-live='polite'></div>"].join("")),i=e.find(".oj-inputsearch-search-button");return this._attachSearchIconClickHandler(i),e},_attachSearchIconClickHandler:function(e){var t=this;e.on("click",function(e,i){if(t._isInterfaceEnabled()){if(t.opts.manageNewEntry){var s=t.search.val(),o=t.opts.manageNewEntry(s),a={trigger:n.ValueChangeTriggerTypes.SEARCH_ICON_CLICKED},l=t.selection.data(t._elemNm);!l&&""!==s||l&&l.label!==s||!t.ojContext.isValid()&&s!==t._previousDisplayValue?(t._onSelect(o,a,e),t._triggerUpdateEvent(o,a,e)):(l&&l.label===s&&(o=l),t._triggerUpdateEvent(o,a,e))}return!1}}).on("mousedown",function(e){return e.stopPropagation(),!1})},_enable:function(e){f.superclass._enable.apply(this,arguments),this._enabled?this.container.find(".oj-inputsearch-search-button").removeClass("oj-disabled"):this.container.find(".oj-inputsearch-search-button").addClass("oj-disabled")},_triggerUpdateEvent:function(e,t,i){var s;t&&(s=t.trigger);var o={_context:{optionMetadata:{trigger:s}}},n=this.id(e);if(n&&0!==n.length||(n=e.label?e.label:[]),void 0!==this.ojContext._Validate(n,i,o)&&this.ojContext.isValid()){"string"==typeof n&&(n=[n]);var a={value:n,optionMetadata:{trigger:s}};this.ojContext._trigger("update",i,a)}},_prepareOpts:function(e){return(e=f.superclass._prepareOpts.apply(this,arguments)).highlightTermInOptions=function(e){return!0},e}});e.__registerWidget("oj.ojCombobox",t.oj.editableValue,{defaultElement:"<input>",widgetEventPrefix:"oj",options:{converter:void 0,filterOnOpen:"none",placeholder:null,options:null,optionsKeys:{label:null,value:null,children:null,childKeys:null},pickerAttributes:null,optionRenderer:null,minLength:0,rawValue:void 0,required:!1,validators:void 0,valueOption:null,valueOptions:null,valueUpdated:null},widget:function(){return this.combobox.container},_ComponentCreate:function(){this._super(),n.wrapDataProviderIfNeeded(this,null),this._setup()},_AfterCreate:function(){if(this._super(),this._IsCustomElement()){var t=this.OuterWrapper.id;t&&e.EditableValueUtils.setSubIdForCustomLabelFor(this._GetContentElement()[0],t)}},_InitOptions:function(t,i){if(this._super(t,i),e.EditableValueUtils.initializeOptionsFromDom([{attribute:"disabled",validateOption:!0},{attribute:"placeholder"},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"}],i,this),this.multiple=this._IsCustomElement()?"OJ-COMBOBOX-MANY"===this.OuterWrapper.nodeName:this.options.multiple,void 0===this.options.value)this._IsCustomElement()||(this.options.value=void 0!==this.element.attr("value")?n.splitVal(this.element.val(),","):null);else{var s=this.options.value;Array.isArray(s)?this._IsCustomElement()||(s=s.slice(0)):"string"==typeof s&&(!0===this.multiple?s=n.splitVal(s,","):this._IsCustomElement()||(s=[s])),this.options.value=s}},_IsRequired:function(){return this.options.required},_AfterSetOptionRequired:e.EditableValueUtils._AfterSetOptionRequired,_AfterSetOptionValidators:e.EditableValueUtils._AfterSetOptionValidators,_AfterSetOptionConverter:e.EditableValueUtils._AfterSetOptionConverter,_ResetConverter:e.EditableValueUtils._ResetConverter,_GetConverter:e.EditableValueUtils._GetConverter,_GetNormalizedValidatorsFromOption:e.EditableValueUtils._GetNormalizedValidatorsFromOption,_setup:function(){var e={};e.element=this.element,e.ojContext=this,e=t.extend(this.options,e),this.combobox=this.multiple?new d:new h,this.combobox._init(e),this._refreshRequired(this.options.required),this._resolveValueOptionsLater=n.mergeValueAndValueOptions(this)},_refreshRequired:e.EditableValueUtils._refreshRequired,_AriaRequiredUnsupported:function(){return!1},_destroy:function(){this.combobox._destroy(),this._super()},refresh:function(){this._super(),this.combobox._destroy(),this._setup(),this._SetRootAttributes()},_setOption:function(e,t,i){"value"===e&&(Array.isArray(t)?this._IsCustomElement()||(t=t.slice(0)):"string"==typeof t&&(!0===this.multiple?t=n.splitVal(t,","):this._IsCustomElement()||(t=[t])),i&&i._context&&i._context.optionMetadata?this.combobox.valueChangeTrigger=i._context.optionMetadata.trigger:this.combobox.valueChangeTrigger=null,"string"==typeof this.options.placeholder&&(null==t||t&&0==t.length||this._IsCustomElement()&&""==t)&&n.setValueOptions(this,this.multiple?[]:"")),"options"===e&&(n.removeDataProviderEventListeners(this),n.clearDataProviderWrapper(this)),this._super(e,t,i),"valueOption"===e&&!0!==this.multiple?n.syncValueWithValueOption(this,t,null):"valueOptions"===e&&!0===this.multiple&&Array.isArray(t)?n.syncValueWithValueOptions(this,t,null):"value"===e?n.updateValueOptions(this.combobox):"options"===e?(n.isDataProvider(t)&&(n.wrapDataProviderIfNeeded(this,this.combobox?this.combobox.opts:null),n.addDataProviderEventListeners(this)),this.combobox.opts.options=t,this.combobox.opts=this.combobox._prepareOpts(this.combobox.opts)):"disabled"===e&&(t?this.combobox._disable():this.combobox._enable())},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"required":this._AfterSetOptionRequired(e);break;case"validators":this._AfterSetOptionValidators(e);break;case"converter":this._AfterSetOptionConverter(e)}},_NotifyDetached:function(){this._superApply(arguments),this.combobox.close()},_NotifyHidden:function(){this._superApply(arguments),this.combobox.close()},_VerifyConnectedForSetup:function(){return!0},_SetDisplayValue:function(e){n.applyValueOptions(this.combobox,this.options)?this.multiple&&this.combobox._clearSearch():this.combobox._initSelection(),this._resolveValueOptionsLater=!1},_SetPlaceholder:function(e){this.combobox&&(this.combobox.opts.placeholder=e,this.combobox._setPlaceholder&&this.combobox._setPlaceholder())},validate:e.EditableValueUtils.validate,_parseValue:function(e){var t;if("string"==typeof e&&(!0===this.multiple?e=n.splitVal(e,","):this._IsCustomElement()||(e=[e])),Array.isArray(e)){t=[];for(var i=0;i<e.length;i++){var s=this._super(e[i]);t.push(s)}}else t=this._super(e);return t},_GetMessagingLauncherElement:function(){return this.combobox.search},_NotifyContextMenuGesture:function(e,t,i){var s=this._GetMessagingLauncherElement();this._OpenContextMenu(t,i,{launcher:s})},_GetContentElement:function(){return this.combobox.search},_GetDefaultStyleClass:function(){return"oj-combobox"},_ValidateReturnBoolean:function(){var e=this.combobox.search.val(),t=null;if(!0!==this.multiple)t=this._IsCustomElement()?e:null==e||""===e?[]:[e];else{var i=[];this.isValid()&&(i=this.combobox.getVal()),null==e||""===e?t=i:(i.push(e),t=i)}return this._SetValue(t,null,this._VALIDATE_METHOD_OPTIONS)},_getDropdown:function(){if(this.combobox&&this.combobox._opened())for(var e=t(".oj-listbox-drop"),i=0;i<e.length;i++)if("oj-listbox-drop"==t(e[i]).attr("id")&&t(e[i]).attr("data-oj-containerid")==this.combobox.containerId)return t(e[i]);return null},_findItem:function(e,i){for(var s=0;s<e.length;s++)if(t(e[s]).data("ojcombobox").value===i)return e[s];return null},getNodeBySubId:function(e){var i,s=null;if(null==e)return this.combobox.container?this.combobox.container[0]:null;if(!(s=this._super(e))){"oj-combobox-drop"===(i=e.subId)&&(i="oj-listbox-drop"),"oj-combobox-results"===i&&(i="oj-listbox-results"),"oj-combobox-selection"===i&&(i="oj-combobox-selected-choice");var o=this._getDropdown();switch(i){case"oj-combobox-input":case"oj-combobox-arrow":s=this.widget().find("."+i)[0];break;case"oj-listitem":if(o){var n=o.find(".oj-listbox-result");s=this._findItem(n,e.value)}break;case"oj-combobox-remove":var a=this.widget().find(".oj-combobox-selected-choice"),l=this._findItem(a,e.value);s=l?t(l).find(".oj-combobox-clear-entry-icon")[0]:null;break;case"oj-listbox-drop":o&&(s=o[0]);break;case"oj-listbox-results":o&&(s=o.find("."+i)[0]);break;case"oj-combobox-selected-choice":s=this.widget().find("."+i).toArray()}}return s||null},getSubIdByNode:function(e){var i=null;if(null!=e){var s=t(e);i=s.hasClass("oj-combobox-input")?{subId:"oj-combobox-input"}:s.hasClass("oj-combobox-arrow")?{subId:"oj-combobox-arrow"}:s.hasClass("oj-listbox-result")?{subId:"oj-listitem",value:s.data("ojcombobox").value}:s.hasClass("oj-combobox-clear-entry-icon")?{subId:"oj-combobox-remove",value:s.closest(".oj-combobox-selected-choice").data("ojcombobox").value}:this._super(e)}return i}}),e.__registerWidget("oj.ojInputSearch",t.oj.editableValue,{defaultElement:"<input>",widgetEventPrefix:"oj",options:{placeholder:void 0,required:!1,list:void 0,options:null,optionsKeys:null,pickerAttributes:null,optionRenderer:null,minLength:0,beforeExpand:null,rawValue:void 0,optionChange:null,update:null,validators:void 0},widget:function(){return this.inputSearch.container},_ComponentCreate:function(){this._super(),this._setup()},_InitOptions:function(t,i){if(this._super(t,i),e.EditableValueUtils.initializeOptionsFromDom([{attribute:"disabled",validateOption:!0},{attribute:"placeholder"},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"}],i,this),void 0===this.options.value)this.options.value=void 0!==this.element.attr("value")?n.splitVal(this.element.val(),","):null;else{var s=this.options.value;Array.isArray(s)?s=s.slice(0):"string"==typeof s&&(s=[s]),this.options.value=s}},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"required":this._AfterSetOptionRequired(e);break;case"validators":this._AfterSetOptionValidators(e)}},_IsRequired:function(){return this.options.required},_AfterSetOptionRequired:e.EditableValueUtils._AfterSetOptionRequired,_AfterSetOptionValidators:e.EditableValueUtils._AfterSetOptionValidators,_refreshRequired:e.EditableValueUtils._refreshRequired,_GetNormalizedValidatorsFromOption:e.EditableValueUtils._GetNormalizedValidatorsFromOption,_AriaRequiredUnsupported:function(){return!1},_setup:function(){var e={};e.element=this.element,e.ojContext=this,e.inputSearch=!0,e=t.extend(this.options,e),this.inputSearch=new f,this.inputSearch._init(e),this._refreshRequired(this.options.required)},_destroy:function(){this.inputSearch._destroy(),this._super()},refresh:function(){this._super(),this.inputSearch._destroy(),this._setup(),this._SetRootAttributes()},_setOption:function(t,i,s){"value"===t&&(null!=i&&(Array.isArray(i)?i=i.slice(0):"string"==typeof i?i=[i]:e.Logger.error("ojInputSearch value has to be an array of string or a string.")),s&&s._context&&s._context.optionMetadata?this.inputSearch.valueChangeTrigger=s._context.optionMetadata.trigger:this.inputSearch.valueChangeTrigger=null),this._super(t,i,s),"options"===t&&(this.inputSearch.opts.options=i,this.inputSearch.opts=this.inputSearch._prepareOpts(this.inputSearch.opts)),"disabled"===t&&(i?this.inputSearch._disable():this.inputSearch._enable())},_NotifyDetached:function(){this._superApply(arguments),this.inputSearch.close()},_NotifyHidden:function(){this._superApply(arguments),this.inputSearch.close()},_SetDisplayValue:function(e){this.inputSearch._initSelection()},_SetPlaceholder:function(e){this.inputSearch&&(this.inputSearch.opts.placeholder=e,this.inputSearch._setPlaceholder&&this.inputSearch._setPlaceholder())},validate:function(){var e,t=this.inputSearch.search.val(),i=[];return this.isValid()&&(i=this.inputSearch.getVal()),e=null==t||""===t?i:[t],this._SetValue(e,null,this._VALIDATE_METHOD_OPTIONS)},_parseValue:function(t){var i=[];if(null==t)return i;if(Array.isArray(t))for(var s=0;s<t.length;s++){var o=this._super(t[s]);i.push(o.toString())}else"string"==typeof t?(o=this._super(t),i.push(o.toString())):e.Logger.error("ojInputSearch value has to be an array of string or a string.");return i},_GetMessagingLauncherElement:function(){return this.inputSearch.search},_GetContentElement:function(){return this.inputSearch.search},_GetDefaultStyleClass:function(){return"oj-inputsearch"},_getDropdown:function(){if(this.inputSearch&&this.inputSearch._opened())for(var e=t(".oj-listbox-drop"),i=0;i<e.length;i++)if("oj-listbox-drop"==t(e[i]).attr("id")&&t(e[i]).attr("data-oj-containerid")==this.inputSearch.containerId)return t(e[i]);return null},expand:function(){this.inputSearch.open()},collapse:function(){this.inputSearch.close()},getNodeBySubId:function(e){var t,i=null;if(null===e)return this.inputSearch.container?this.inputSearch.container[0]:null;if(!(i=this._super(e)))switch("oj-inputsearch-search"===(t=e.subId)&&(t="oj-inputsearch-search-button"),t){case"oj-inputsearch-input":case"oj-inputsearch-search-button":i=this.widget().find("."+t)[0];break;case"oj-listitem":var s=this._getDropdown();if(s){var o=s.find(".oj-listbox-result");i=this.inputSearch._findItem(o,e.value)}}return i||null},getSubIdByNode:function(e){var i=null;if(null!=e){var s=t(e);i=s.hasClass("oj-inputsearch-input")?{subId:"oj-inputsearch-input"}:s.hasClass("oj-inputsearch-search-button")?{subId:"oj-inputsearch-search"}:s.hasClass("oj-listbox-result")?{subId:"oj-listitem",value:s.data("ojinputsearch").value}:this._super(e)}return i}}),e.__registerWidget("oj.ojSelect",t.oj.editableValue,{defaultElement:"<select>",widgetEventPrefix:"oj",options:{minimumResultsForSearch:15,placeholder:null,optionRenderer:null,options:null,optionsKeys:{label:null,value:null,children:null,childKeys:null},pickerAttributes:null,required:!1,renderMode:"jet",valueOption:null,valueOptions:null},widget:function(){return this.select?this.select.container:this.element.parent()},_ComponentCreate:function(){this._super(),n.wrapDataProviderIfNeeded(this,null),this._setup()},_AfterCreate:function(){if(this._super(),this._IsCustomElement()){var i=this.uuid+"_Label",s=e.EditableValueUtils.getOjLabelId(t(this.OuterWrapper),i);s&&this._GetContentElement().attr("aria-labelledby",s)}},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"required":this._AfterSetOptionRequired(e)}},_IsRequired:function(){return this.options.required},_AfterSetOptionRequired:e.EditableValueUtils._AfterSetOptionRequired,_nativeSetDisabled:function(e){e?(this.element.attr("disabled",""),this.element.parent().addClass("oj-disabled").removeClass("oj-enabled")):(this.element.removeAttr("disabled"),this.element.parent().removeClass("oj-disabled").addClass("oj-enabled"))},_nativeChangeHandler:function(e){var i=[],s=[],o=!this._IsRequired()&&this._HasPlaceholderSet();t(e.target).find("option").each(function(){this.selected&&(this.value||o&&""===this.value)&&(i.push(this.value),s.push({value:this.value,label:this.text}))}),this._IsCustomElement()&&!0!==this.multiple?(this._SetValue(i[0],e,{doValueChangeCheck:!1,_context:{internalSet:!0}}),n.setValueOptions(this,s[0])):(this._SetValue(i,e,{doValueChangeCheck:!1,_context:{internalSet:!0}}),n.setValueOptions(this,s))},_nativeQueryCallback:function(e){if(e){var t=this.element;n.arrayPopulateResults(t,e,this._formatValue.bind(this),n.isDataProvider(this.options.options)?null:this.options.optionsKeys),t.addClass(n.GENERATED_OPTIONS_SELECTOR)}},_nativeSetSelected:function(e){var t=null;e?t=e:(this._HasPlaceholderSet()&&(this.options.required&&(t=this._nativeFindFirstEnabledOptionValue()),this._SetPlaceholder(this.options.placeholder)),null===t&&(t=this._nativeFindFirstEnabledOptionValue())),this._setInitialSelectedValue(t)},_nativeFetchFromDataProvider:function(e){var t=this;n.fetchFirstBlockFromDataProvider(this.element,e).then(function(i){if(t._nativeQueryCallback(i),i.length){var s=t.options.value;s?n.validateFromDataProvider(t.element,e,s).then(function(e){if(e){var i=e.valueOptions;Array.isArray(i)&&i.length&&n.setValueOptions(t,i);var s=e.value;Array.isArray(s)&&s.length&&t._nativeSetSelected(t.multiple?s:s[0])}}):t._nativeSetSelected()}})},_nativeSetup:function(){var e=this.element;if(e.wrap("<div>").parent().addClass("oj-select-native oj-component oj-select oj-form-control"),e.addClass("oj-select-select oj-component-initnode"),this.multiple?(e[0].multiple||(e[0].multiple=!0),e.parent().prepend("<a class='oj-select-arrow oj-component-icon oj-clickable-icon-nocontext oj-select-multiple-open-icon' role='presentation'></a>")):e.parent().prepend("<a class='oj-select-arrow oj-component-icon oj-clickable-icon-nocontext oj-select-open-icon' role='presentation'></a>"),this._nativeSetDisabled(this.options.disabled),this.options.list)n.listPopulateResults(e,t("#"+this.options.list).children(),this._formatValue.bind(this)),e.addClass(n.GENERATED_OPTIONS_SELECTOR);else if(this.options.options)(s=n.getDataProvider(this.options))?this._nativeFetchFromDataProvider(s):this._nativeQueryCallback(this.options.options);else if(this._IsCustomElement()){var i=e.children();1===i.length&&i.hasClass("oj-listbox-placeholder")||(n.ojOptionPopulateResults(e,i,this._formatValue.bind(this)),e.addClass(n.GENERATED_OPTIONS_SELECTOR))}this._focusable({element:e,applyHighlight:!0});var s=n.getDataProvider(this.options);this.options.value||this._HasPlaceholderSet()||s||this._setInitialSelectedValue(this._nativeFindFirstEnabledOptionValue()),e.change(this._nativeChangeHandler.bind(this)),n.addDataProviderEventListeners(this)},_jetSetup:function(){var e={};e.element=this.element,e.ojContext=this,e=t.extend(this.options,e),this.select=this.multiple?new p:new c,this.select._init(e),this.select.container.addClass("oj-select-jet oj-form-control"),this._focusable({element:this.select.selection,applyHighlight:!0})},_setInitialSelectedValue:function(e){var t
;t=this._IsCustomElement()?e:Array.isArray(e)?e:[e],this._SetValue(t,null,{doValueChangeCheck:!1,_context:{internalSet:!0,writeback:!0},changed:!0})},_setup:function(){this._resolveValueOptionsLater=n.mergeValueAndValueOptions(this),this._isNative()?this._nativeSetup():this._jetSetup(),this._refreshRequired(this.options.required)},refresh:function(){this._super(),this._cleanup(),this._setup(),this._isNative()&&this.options.value&&this.element.val(this.options.value),this._SetRootAttributes()},_refreshRequired:e.EditableValueUtils._refreshRequired,_AriaRequiredUnsupported:function(){return!1},_destroy:function(){this._cleanup(),this._super()},_NotifyDetached:function(){this._superApply(arguments),this.select&&this.select.close()},_NotifyHidden:function(){this._superApply(arguments),this.select&&this.select.close()},_VerifyConnectedForSetup:function(){return!0},_SetPlaceholder:function(e){if(this._isNative()&&null!=e){var i=t(this.element.children("option:first-child"));i&&""===i.attr("value")?(i.text(this.options.placeholder),i.attr("value","")):((i=n.createOptionTag(0,"",e,this._formatValue.bind(this))).addClass("oj-listbox-placeholder"),this._hidePlaceholder(i,this._IsRequired()),i.prependTo(this.element))}},_HasPlaceholderSet:function(){return"string"==typeof this.options.placeholder},_ClearPlaceholder:function(){this._SetPlaceholderOption(null),this._SetPlaceholder(null)},_InitOptions:function(t,i){if(this._super(t,i),e.EditableValueUtils.initializeOptionsFromDom([{attribute:"disabled",validateOption:!0},{attribute:"placeholder"},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"}],i,this),this.multiple=this._IsCustomElement()?"OJ-SELECT-MANY"===this.OuterWrapper.nodeName:this.options.multiple,void 0===this.options.value)this._IsCustomElement()||(this.options.value=void 0!==this.element.attr("value")?n.splitVal(this.element.val(),","):null);else{var s=this.options.value;Array.isArray(s)&&(this._IsCustomElement()||(s=s.slice(0))),this.options.value=s}},validate:e.EditableValueUtils.validate,_SetDisplayValue:function(t){if(this.select)n.applyValueOptions(this.select,this.options)||this.select._initSelection(),this._resolveValueOptionsLater=!1;else{var i;if(null==t)this._HasPlaceholderSet()&&(this.element[0].selectedIndex=0,this.element.addClass("oj-select-default")),this._resolveValueOptionsLater&&(i={value:"",label:this.options.placeholder},this.multiple&&(i=[i]),n.setValueOptions(this,i));else{var s=this._nativeFindLabel(t);if(null!==s||this.multiple?this.element.val(t):(e.Logger.warn("JET select: selected value not found"),this.element[0].options&&this.element[0].options.length>0?(this.element[0].selectedIndex=0,t=this.element[0].value,s=this.element[0].text):(s=String(t),this.element.val(t))),this._resolveValueOptionsLater){if(this.multiple){var o=this.element[0].selectedOptions;i=[];for(var a=0;a<o.length;a++)i.push({value:t[a],label:o[a].text})}else i={value:t,label:s};n.setValueOptions(this,i)}}this._resolveValueOptionsLater=!1}},_ValidateReturnBoolean:function(){if(!0===this.multiple){var e=this.select.search.val(),t=[],i=null;return this.isValid()&&(t=this.select.getVal()),null==e||""===e?i=t:(t.push(e),i=t),this._SetValue(i,null,this._VALIDATE_METHOD_OPTIONS)}return!this.select||this._SetValue(this.select.getVal(),null,this._VALIDATE_METHOD_OPTIONS)},_nativeFindFirstEnabledOptionValue:function(){var e=this.element.children("option:not(:disabled)");return e.length>0?[t(e[0]).attr("value")]:null},_nativeSetOptions:function(e){var t=this.options.value,i=this.element;if(i.hasClass(n.GENERATED_OPTIONS_SELECTOR))n.cleanupResults(i);else{var s=i.children();s.length>0&&s.remove()}if(n.isDataProvider(e))this._nativeFetchFromDataProvider(e);else{n.arrayPopulateResults(i,e,this._formatValue.bind(this),this.options.optionsKeys);var o=null;this._HasPlaceholderSet()&&(this.options.required&&(o=this._nativeFindFirstEnabledOptionValue()),this._SetPlaceholder()),null===o&&(o=this._nativeFindFirstEnabledOptionValue()),this.options.value=o,this.option("value",t)}i.addClass(n.GENERATED_OPTIONS_SELECTOR)},_removePlaceholderInMultiValues:function(e){for(var t,i=[],s=0;s<e.length;s++)null!=(t=e[s])&&(t.length>0?(1==i.length&&""===i[0]&&i.pop(),i.push(t)):0==i.length&&i.push(t));return i},_nativeFindLabel:function(e){var i=this.element[0].options;if(i&&i.length>0)for(var s=0;s<i.length;s++)if(i[s].value===e)return t(i[s]).text();return null},_setOption:function(e,i,s){if("value"!==e){if("placeholder"===e?this.select?(this.select.opts.placeholder=i,this.select._setPlaceholder()):(o=this.options.value)&&0!==o.length&&o[0]||(this.element[0].selectedIndex=0):"minimumResultsForSearch"===e?this.select&&(this.select.opts.minimumResultsForSearch=i):"renderMode"===e&&(this._cleanup(),this.options.renderMode=i,this.refresh()),"options"===e&&(n.removeDataProviderEventListeners(this),n.clearDataProviderWrapper(this)),this._super(e,i,s),"disabled"===e)this.select?i?this.select._disable():this.select._enable():this._nativeSetDisabled(i);else if("valueOption"===e&&!0!==this.multiple)n.syncValueWithValueOption(this,i,null);else if("valueOptions"===e&&!0===this.multiple&&Array.isArray(i))n.syncValueWithValueOptions(this,i,null);else if("options"===e)if(n.isDataProvider(i)&&(n.wrapDataProviderIfNeeded(this,this.select?this.select.opts:null),n.addDataProviderEventListeners(this)),this.select){var o=this.select.getVal();(r=n.getDataProvider(this.options))&&o?(c=this,u=this._super,n.applyValueOptions(this.select,this.options)?(this.select.opts.options=i,this.select.opts=c.select._prepareOpts(this.select.opts)):n.validateFromDataProvider(this.select.container,r,this.options.value).then(function(e){var t=e?e.value:null;if(t){var s=e.valueOptions;Array.isArray(s)&&s.length&&n.setValueOptions(c,s),Array.isArray(t)&&t.length&&u.call(c,"value",c.multiple?t:t[0])}else c.options.placeholder?c.select._updateSelectedOption(c.options.placeholder):n.fetchFirstBlockFromDataProvider(c.select.container,r,1).then(function(e){e&&e.length>0&&o===c.select.getVal()?c.select._updateSelectedOption(e[0]):(u.call(c,"value",null),c.multiple||c.select.text.text(""))});c.select.opts.options=i,c.select.opts=c.select._prepareOpts(c.select.opts)})):(this.select.opts.options=i,this.select.opts=this.select._prepareOpts(this.select.opts),this.select.setValOpts(null),this._super("value",o))}else this._nativeSetOptions(i);else if("required"===e&&this._isNative()){var a=t(this.element.find(".oj-listbox-placeholder"));a&&""===a.attr("value")&&this._hidePlaceholder(a,i)}}else{if(this._HasPlaceholderSet()&&(i&&0==i.length||this._IsCustomElement()&&""==i))return n.setValueOptions(this,this.multiple?[]:""),void this._super(e,i,s);var l;this.select&&((l=this.select.datalist)||(l=this.select.opts.element));var r,h=this._IsCustomElement()&&!this.multiple;if(Array.isArray(i)||h||(i=[i]),this._isNative()&&(h||(i=this._removePlaceholderInMultiValues(i)),1==i.length&&""==i[0]?this.element.addClass("oj-select-default"):this.element.removeClass("oj-select-default")),(r=n.getDataProvider(this.options))&&i){var c=this,u=this._super;return this.select&&(this.select.opts.options=r),void n.validateFromDataProvider(this._isNative()?this.element:this.select.container,r,i).then(function(t){if(t){var i=t.valueOptions;Array.isArray(i)&&i.length&&n.setValueOptions(c,i);var s=t.value;Array.isArray(s)&&s.length&&u.call(c,e,c.multiple?s:s[0])}})}if(h)return void(this.select&&this.select.opts.validate&&!this.select.opts.validate(l,i)&&!this._isOptionDataPending()||(this._super(e,i,s),n.updateValueOptions(this.select)));for(var d=[],p=0;p<i.length;p++)this.select?(!this.select.opts.validate||this.select.opts.validate(l,i[p])||this._isOptionDataPending())&&d.push(i[p]):this.element.find("option[value='"+i[p]+"']").length>0&&d.push(i[p]);(d.length>0||this.multiple)&&(this._super(e,d,s),n.updateValueOptions(this.select))}},_isOptionDataPending:function(){var e=this.options.options,t=this.select.datalist;if(t){if(0===t.children().length)return!0}else{if(n.isDataProvider(e))return!0;if(!e||0===e.length)return!0}return!1},_getDropdown:function(){if(this.select&&this.select._opened()){var e=this.select.dropdown;if(e&&e.attr("data-oj-containerid")===this.select.containerId)return e}return null},_hidePlaceholder:function(e,t){t?(e.attr("disabled",""),e.attr("hidden","")):(e.removeAttr("disabled"),e.removeAttr("hidden"))},_isNative:function(){return"native"===this.options.renderMode},_cleanup:function(){var e=this._isNative();e&&this.element.parent().hasClass("oj-select-native")?(this.element.off("change"),this.element.hasClass(n.GENERATED_OPTIONS_SELECTOR)&&n.cleanupResults(this.element),this.element.parent().hasClass("oj-select-native")&&(this.element.parent().children(".oj-select-arrow").remove(),this.element.unwrap()),this.element.removeClass("oj-select-select oj-component-initnode"),this.element.attr({"aria-labelledby":""})):!e&&this.select&&(this.select._destroy(),this.select=void 0)},getNodeBySubId:function(e){var i,s=null;if(null==e){var o=this.widget();return o?o[0]:null}if(this._isNative())return null;if(!(s=this._super(e))){var n=this._getDropdown();switch(i=e.subId){case"oj-select-drop":n&&(s=n[0]);break;case"oj-select-results":n&&(s=n.find(".oj-listbox-results")[0]);break;case"oj-select-search":n&&(s=n.find(".oj-listbox-search")[0]);break;case"oj-select-input":case"oj-listbox-input":n&&(s=n.find(".oj-listbox-input")[0]);break;case"oj-select-choice":case"oj-select-chosen":case"oj-select-arrow":s=this.widget().find("."+i)[0];break;case"oj-listitem":if(n){var a=n.find(".oj-listbox-result");s=this.select._findItem(a,e.value)}break;case"oj-select-remove":var l=this.widget().find(".oj-select-selected-choice"),r=this.select._findItem(l,e.value);s=r?t(r).find(".oj-select-clear-entry-icon")[0]:null;break;case"oj-listbox-result-label":if(n){var h=t("#"+this.select.results.attr("id")).children(),c=e.index;h.length&&c<h.length&&(s=h.eq(c).find("."+i)[0])}}}return s||null},getSubIdByNode:function(e){if(this._isNative())return this._super(e);var i=null;if(null!=e){var s=t(e);i=s.hasClass("oj-listbox-input")?{subId:"oj-select-input"}:s.hasClass("oj-select-arrow")?{subId:"oj-select-arrow"}:s.hasClass("oj-listbox-result")?{subId:"oj-listitem",value:s.data("ojselect").value}:s.hasClass("oj-select-clear-entry-icon")?{subId:"oj-select-remove",value:s.closest(".oj-select-selected-choice").data("ojselect").value}:this._super(e)}return i},_GetDefaultStyleClass:function(){return"oj-select"},_GetMessagingLauncherElement:function(){return this.select?this.select.selection:this.element},_GetContentElement:function(){return this.select?this.select.selection:this.element}}),e.Components.setDefaultOptions({ojSelect:{displayOptions:{converterHint:["none"]},renderMode:e.Components.createDynamicPropertyGetter(function(){return(e.ThemeUtils.parseJSONFromFontFamily("oj-select-option-defaults")||{}).renderMode})}}),e.CustomElementBridge.registerMetadata("oj-combobox-one","editableValue",{properties:{converter:{type:"Object"},filterOnOpen:{type:"string",enumValues:["none","rawValue"]},minLength:{type:"number"},optionRenderer:{},options:{},optionsKeys:{type:"Object",properties:{label:{type:"string"},value:{type:"string"},children:{type:"string"},childKeys:{type:"Object",properties:{label:{type:"string"},value:{type:"string"},children:{type:"string"}}}}},pickerAttributes:{type:"Object"},placeholder:{type:"string"},rawValue:{type:"string",readOnly:!0,writeback:!0},required:{type:"boolean"},translations:{type:"Object",properties:{filterFurther:{type:"string",value:"More results available, please filter further."},noMatchesFound:{type:"string",value:"No matches found"},required:{type:"Object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},value:{type:"any",writeback:!0},validators:{type:"Array"},valueOption:{type:"Object",writeback:!0}},events:{valueUpdated:{}},methods:{validate:{}},extension:{_INNER_ELEM:"input",_WIDGET_NAME:"ojCombobox"}}),e.CustomElementBridge.register("oj-combobox-one",{metadata:e.CustomElementBridge.getMetadata("oj-combobox-one")}),e.CustomElementBridge.registerMetadata("oj-combobox-many","editableValue",{properties:{converter:{type:"Object"},minLength:{type:"number"},optionRenderer:{},options:{},optionsKeys:{type:"Object",properties:{label:{type:"string"},value:{type:"string"},children:{type:"string"},childKeys:{type:"Object",properties:{label:{type:"string"},value:{type:"string"},children:{type:"string"}}}}},pickerAttributes:{type:"Object"},placeholder:{type:"string"},rawValue:{type:"string",readOnly:!0,writeback:!0},required:{type:"boolean"},translations:{type:"Object",properties:{filterFurther:{type:"string",value:"More results available, please filter further."},noMatchesFound:{type:"string",value:"No matches found"},required:{type:"Object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},value:{type:"Array",writeback:!0},validators:{type:"Array"},valueOptions:{type:"Array",writeback:!0}},methods:{validate:{}},extension:{_INNER_ELEM:"input",_WIDGET_NAME:"ojCombobox"}}),e.CustomElementBridge.register("oj-combobox-many",{metadata:e.CustomElementBridge.getMetadata("oj-combobox-many")}),e.CustomElementBridge.registerMetadata("oj-select-one","editableValue",{properties:{minimumResultsForSearch:{type:"number"},optionRenderer:{},options:{},optionsKeys:{type:"Object",properties:{label:{type:"string"},value:{type:"string"},children:{type:"string"},childKeys:{type:"Object",properties:{label:{type:"string"},value:{type:"string"},children:{type:"string"}}}}},pickerAttributes:{type:"Object"},placeholder:{type:"string"},renderMode:{type:"string"},required:{type:"boolean"},translations:{type:"Object",properties:{filterFurther:{type:"string",value:"More results available, please filter further."},moreMatchesFound:{type:"string",value:"num matches found"},noMatchesFound:{type:"string",value:"No matches found"},oneMatchesFound:{type:"string",value:"One match found"},required:{type:"Object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},searchField:{type:"string",value:"Search field"}}},value:{type:"any",writeback:!0},valueOption:{type:"Object",writeback:!0}},methods:{validate:{}},extension:{_INNER_ELEM:"select",_WIDGET_NAME:"ojSelect"}}),e.CustomElementBridge.register("oj-select-one",{metadata:e.CustomElementBridge.getMetadata("oj-select-one")}),e.CustomElementBridge.registerMetadata("oj-select-many","editableValue",{properties:{minimumResultsForSearch:{type:"number"},optionRenderer:{},options:{},optionsKeys:{type:"Object",properties:{label:{type:"string"},value:{type:"string"},children:{type:"string"},childKeys:{type:"Object",properties:{label:{type:"string"},value:{type:"string"},children:{type:"string"}}}}},pickerAttributes:{type:"Object"},placeholder:{type:"string"},renderMode:{type:"string"},required:{type:"boolean"},translations:{type:"Object",properties:{filterFurther:{type:"string",value:"More results available, please filter further."},moreMatchesFound:{type:"string",value:"num matches found"},noMatchesFound:{type:"string",value:"No matches found"},oneMatchesFound:{type:"string",value:"One match found"},required:{type:"Object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},searchField:{type:"string",value:"Search field"}}},value:{type:"Array",writeback:!0},valueOptions:{type:"Array",writeback:!0}},methods:{validate:{}},extension:{_INNER_ELEM:"select",_WIDGET_NAME:"ojSelect"}}),e.CustomElementBridge.register("oj-select-many",{metadata:e.CustomElementBridge.getMetadata("oj-select-many")})});
define('ojs/ojrowexpander',["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojdatasource-common"],function(e,t,n){e.EmptyNodeSet=function(e,t){this.m_parent=e,this.m_start=t},e.EmptyNodeSet.prototype.getParent=function(){return this.m_parent},e.EmptyNodeSet.prototype.getStart=function(){return this.m_start},e.EmptyNodeSet.prototype.getCount=function(){return 0},e.EmptyNodeSet.prototype.getData=function(e){return null},e.EmptyNodeSet.prototype.getMetadata=function(e){return null},e.FlattenedNodeSet=function(e,t){this.m_nodeSet=e,this.m_start=t},e.FlattenedNodeSet.prototype.getParent=function(){return this.m_nodeSet.getParent()},e.FlattenedNodeSet.prototype.getStart=function(){return null!=this.m_start?this.m_start:this.m_nodeSet.getStart()},e.FlattenedNodeSet.prototype.getCount=function(){return void 0===this.m_count&&(this.m_count=this._getCount(this.m_nodeSet,0),null!=this.m_start&&(this.m_count=this.m_count-this.m_start)),this.m_count},e.FlattenedNodeSet.prototype._getCount=function(e,t){var n,a,s,o;if(n=e.getStart(),t+=a=e.getCount(),e.getChildNodeSet)for(s=0;s<a;s++)null!=(o=e.getChildNodeSet(s+n))&&(t=this._getCount(o,t));return t},e.FlattenedNodeSet.prototype.getData=function(e){return this._getDataOrMetadata(this.m_nodeSet,e,{index:this.m_nodeSet.getStart()},this._getData)},e.FlattenedNodeSet.prototype.getMetadata=function(e){return this._getDataOrMetadata(this.m_nodeSet,e,{index:this.m_nodeSet.getStart()},this._getMetadata)},e.FlattenedNodeSet.prototype._getMetadata=function(e,t){return e.getMetadata(t)},e.FlattenedNodeSet.prototype._getData=function(e,t){return e.getData(t)},e.FlattenedNodeSet.prototype._getDataOrMetadata=function(e,t,n,a){var s,o,i,r,d,l;for(s=e.getStart(),o=e.getCount(),i=0;i<o;i++){if((r=n.index)===t)return a.call(this,e,i+s);if(n.index=r+1,e.getChildNodeSet&&null!=(d=e.getChildNodeSet(i+s))&&null!=(l=this._getDataOrMetadata(d,t,n,a)))return l}return null},e.MergedNodeSet=function(e,t,n){this.m_nodeSet1=e,this.m_nodeSet2=t,this.m_mergeAt=this._findIndex(n)},e.MergedNodeSet.prototype._findIndex=function(e){var t,n,a;for(n=(t=this.m_nodeSet1.getStart())+this.m_nodeSet1.getCount(),a=t;a<n;a++)if(e===this.m_nodeSet1.getMetadata(a).key)return a;return n-1},e.MergedNodeSet.prototype.getParent=function(){return this.m_nodeSet1.getParent()},e.MergedNodeSet.prototype.getStart=function(){return this.m_nodeSet1.getStart()},e.MergedNodeSet.prototype.getCount=function(){return this.m_nodeSet1.getCount()+this.m_nodeSet2.getCount()},e.MergedNodeSet.prototype.getData=function(e){var t,n,a;return n=(t=this._getRelativeIndex(e)).set,a=t.index,n.getData(a)},e.MergedNodeSet.prototype.getMetadata=function(e){var t,n,a;return n=(t=this._getRelativeIndex(e)).set,a=t.index,n.getMetadata(a)},e.MergedNodeSet.prototype._getRelativeIndex=function(e){if(e<=this.m_mergeAt)return{set:this.m_nodeSet1,index:e};var t=this.m_nodeSet2.getCount();return e>this.m_mergeAt+t?{set:this.m_nodeSet1,index:e-t}:{set:this.m_nodeSet2,index:e-this.m_mergeAt-1+this.m_nodeSet2.getStart()}},e.NodeSetWrapper=function(e,t,n,a){this.m_nodeSet=e,this.m_callback=t,this.m_range=n,this.m_collapsedKeys=a},e.NodeSetWrapper.prototype.getParent=function(){return this.m_nodeSet.getParent()},e.NodeSetWrapper.prototype.getStart=function(){return null!=this.m_range?this.m_range.start:this.m_nodeSet.getStart()},e.NodeSetWrapper.prototype.getCount=function(){var e,t;return e=this.m_nodeSet.getStart(),t=this.m_nodeSet.getCount(),null!=this.m_range&&(t=Math.min(this.m_range.count,t),this.m_range.start<e&&(t=0)),t},e.NodeSetWrapper.prototype.getData=function(e){return this.m_nodeSet.getData(this._getRelativeIndex(e))},e.NodeSetWrapper.prototype.getMetadata=function(e){var t,n;return(t=this.m_nodeSet.getMetadata(this._getRelativeIndex(e))).index=e,t.parentKey=this.getParent(),n=t.key,this.m_callback.call(null,n,t),t},e.NodeSetWrapper.prototype.getChildNodeSet=function(t){var n;return null!=this.m_collapsedKeys&&-1!=this.m_collapsedKeys.indexOf(this.m_nodeSet.getMetadata(t).key)||!this.m_nodeSet.getChildNodeSet||null==(n=this.m_nodeSet.getChildNodeSet(t))?null:new e.NodeSetWrapper(n,this.m_callback,null,this.m_collapsedKeys)},e.NodeSetWrapper.prototype._getRelativeIndex=function(e){return null==this.m_range?e:e-this.m_range.start+this.m_nodeSet.getStart()},e.FlattenedTreeDataSource=function(t,n){this.m_wrapped=t,this.m_options=n||{},e.FlattenedTreeDataSource.superclass.constructor.call(this)},e.Object.createSubclass(e.FlattenedTreeDataSource,e.DataSource,"oj.FlattenedTreeDataSource"),e.FlattenedTreeDataSource.prototype.Init=function(){var t;e.FlattenedTreeDataSource.superclass.Init.call(this),this.m_wrapped.on("change",this._handleModelEvent.bind(this)),this.m_busy=!1,this.m_fetchSize=parseInt(this.m_options.fetchSize,10),isNaN(this.m_fetchSize)&&(this.m_fetchSize=25),this.m_maxCount=parseInt(this.m_options.maxCount,10),isNaN(this.m_maxCount)&&(this.m_maxCount=500),t=this.m_options.expanded,Array.isArray(t)?this.m_expandedKeys=t:("all"===t&&(this.m_collapsedKeys=[]),this.m_expandedKeys=[]),this.m_cache=[]},e.FlattenedTreeDataSource.prototype.handleEvent=function(t,n){return e.FlattenedTreeDataSource.superclass.handleEvent.call(this,t,n)},e.FlattenedTreeDataSource.prototype.Destroy=function(){delete this.m_cache,delete this.m_expandedKeys,delete this.m_collapsedKeys,this.m_queue&&delete this.m_queue,this.m_wrapped.off("change"),this.m_wrapped.Destroy&&this.m_wrapped.Destroy()},e.FlattenedTreeDataSource.prototype.getFetchSize=function(){return this.m_fetchSize},e.FlattenedTreeDataSource.prototype.getMaxCount=function(){return this.m_maxCount},e.FlattenedTreeDataSource.prototype.getExpandedKeys=function(){return this.m_expandedKeys},e.FlattenedTreeDataSource.prototype.getOption=function(e){return null!=this.m_options?this.m_options[e]:null},e.FlattenedTreeDataSource.prototype.getWrappedDataSource=function(){return this.m_wrapped},e.FlattenedTreeDataSource.prototype._getFetchSizeToUse=function(e){var t,n;return t=this.getFetchSize(),n=this.getMaxCount(),-1===t?-1===e?n:e:-1===e?Math.min(t,n):t},e.FlattenedTreeDataSource.prototype.fetchRows=function(e,t){this.m_busy=!0,this._isExpandAll()?this._fetchRowsFromDescendants(e,t):this._fetchRowsFromChildren(e,t)},e.FlattenedTreeDataSource.prototype._fetchRowsFromChildren=function(t,n){var a,s,o,i,r,d,l,h,c,p,u;if(t.start>this._getLastIndex()){if(a=this._getMaxFetchSize(),this._getLastIndex()<0)return(c={}).start=t.start,c.count=Math.min(a,t.count),void this.m_wrapped.fetchChildren(null,c,{success:function(e){this._handleFetchSuccess(e,null,0,t,c,0,n)}.bind(this),error:function(e){this._handleFetchError(e,n)}.bind(this)});if(a>0)return s=this._getLastEntry(),o=s.parent,i=this.m_wrapped.getChildCount(o),r=s.index,d=s.depth,void(-1===i||r<i-1?(h=this._getFetchSizeToUse(i),(c={}).start=r+1,c.count=-1===i?Math.min(h,t.count):Math.min(a,Math.min(Math.min(h,t.count),i-c.start)),this.m_wrapped.fetchChildren(o,c,{success:function(e){this._handleFetchSuccess(e,o,d,t,c,i,n)}.bind(this),error:function(e){this._handleFetchError(e,n)}.bind(this)})):(p=s.key,u=this.m_wrapped.getChildCount(p),(this._isExpanded(p)&&(-1===u||u>0)?this._fetchFromAncestors(s,d+1,t,n,a):this._fetchFromAncestors(o,d,t,n,a))||(l=new e.EmptyNodeSet(null,t.start),null!=n&&null!=n.success&&n.success.call(null,l),this.m_busy=!1)))}this.handleMaxCountReached(t,n),this.m_busy=!1},e.FlattenedTreeDataSource.prototype.moveOK=function(e,t,n){return this.m_wrapped.moveOK(e,t,n)},e.FlattenedTreeDataSource.prototype.move=function(e,t,n,a){this.m_wrapped.move(e,t,n,a)},e.FlattenedTreeDataSource.prototype._getMaxFetchSize=function(){return this.getMaxCount()-(this._getLastIndex()+1)},e.FlattenedTreeDataSource.prototype._handleFetchError=function(e,t){null!=t&&null!=t.error&&t.error.call(null,e),this.m_busy=!1},e.FlattenedTreeDataSource.prototype._handleFetchSuccess=function(t,n,a,s,o,i,r,d){var l,h,c,p;l=[],this._processNodeSet(t,n,a,l),h={start:s.start,count:t.getCount()},t=new e.NodeSetWrapper(t,this.insertMetadata.bind(this),h),0!==l.length?((c=[]).push(l),(p={}).callbacks={success:function(e){this._verifyFetchResults(e,n,a,s,o,i,r,d)}.bind(this),error:function(e){this._handleFetchError(e,r)}.bind(this)},p.nodeSet=t,p.keys=[],this._syncExpandRows(c,p)):this._verifyFetchResults(t,n,a,s,o,i,r,d)},e.FlattenedTreeDataSource.prototype._verifyFetchResults=function(t,n,a,s,o,i,r,d){var l,h,c,p,u,_,g;if(null!=d&&null!=(l=d.prevNodeSet)&&(h=l.getStart()+l.getCount()-1,c=l.getMetadata(h).key,p=new e.MergedNodeSet(l,t,c)),t.getCount()<s.count&&null!=n&&a>0)(u={}).start=s.start+t.getCount(),u.count=s.count-t.getCount(),(_={}).prevNodeSet=null==p?t:p,g=this._fetchFromAncestors(n,a,u,r,void 0,_);else if(t.getCount()>s.count){var y=t.getCount()-s.count;null!=p?(p=new e.NodeSetWrapper(p,this.insertMetadata.bind(this),{start:p.getStart(),count:p.getCount()-y}),this._removeEntry(p.getStart()+p.getCount(),y)):(t=new e.NodeSetWrapper(t,this.insertMetadata.bind(this),{start:t.getStart(),count:t.getCount()-y}),this._removeEntry(t.getStart()+t.getCount(),y))}g||null!=r&&null!=r.success&&r.success.call(null,null==p?t:p),this.m_busy=!1},e.FlattenedTreeDataSource.prototype.getChildCount=function(e){return this.m_wrapped.getChildCount(e)},e.FlattenedTreeDataSource.prototype._fetchFromAncestors=function(e,t,n,a,s,o){var i,r,d,l,h,c,p,u,_,g;for(g=!1,void 0===s&&(s=this._getMaxFetchSize()),this._isBatchFetching()&&(u={queueOnly:!0}),p=this._getFetchSizeToUse(-1),i=this._getLastIndex();i>=0;i--)if(r=this._getEntry(i),(d=r.depth)<t){if(e=r.parent,l=this.m_wrapped.getChildCount(e),h=r.index,(c=-1===l)||h<l-1){if((_={}).start=h+1,c?(_.count=Math.min(s,Math.max(0,p)),u=void 0):_.count=Math.min(s,Math.min(p,l-_.start)),0==_.count)break;this.m_wrapped.fetchChildren(e,_,{success:function(t){this._handleFetchSuccess(t,e,d,n,_,l,a,o)}.bind(this),error:function(e){this._handleFetchError(e,a)}.bind(this)},u),g=!0;break}t-=1}return null!=u&&(this.m_wrapped.fetchChildren(e,{start:n.count,count:0},{success:function(t){this._handleFetchSuccess(t,e,d,n,_,l,a,o)}.bind(this),error:function(e){this._handleFetchError(e,a)}.bind(this)}),g=!0),g},e.FlattenedTreeDataSource.prototype._processNodeSet=function(e,t,n,a){var s,o,i,r;for(s=e.getStart(),o=e.getCount(),i=0;i<o;i++)r=e.getMetadata(s+i).key,this._addEntry(r,n,s+i,t),this._isExpanded(r)&&a.push(r)},e.FlattenedTreeDataSource.prototype.insertMetadata=function(e,t){this._isExpanded(e)&&!t.leaf?t.state="expanded":t.leaf?t.state="leaf":t.state="collapsed"},e.FlattenedTreeDataSource.prototype._fetchRowsFromDescendants=function(e,t){var n={maxCount:this.getMaxCount()};this._getLastIndex()>=0&&(n.start=this._getEntry(this._getLastIndex()).key),this.m_wrapped.fetchDescendants(null,{success:function(n){this._handleFetchDescendantsSuccess(n,e,t)}.bind(this),error:function(e){this._handleFetchError(e,t)}.bind(this)},n)},e.FlattenedTreeDataSource.prototype.getSortCriteria=function(){return this.m_wrapped.getSortCriteria()},e.FlattenedTreeDataSource.prototype._handleFetchDescendantsSuccess=function(t,n,a){var s,o,i,r,d;n.start>this._getLastIndex()?(s=this._getMaxFetchSize(),o=Math.min(s,n.count),t=new e.NodeSetWrapper(t,this.insertMetadata.bind(this),null,this.m_collapsedKeys),this._getLastIndex()>=0?(i=this._getLastEntry(),r={index:0,found:!1,count:0},this._processDescendantsNodeSet(t,null,0,i,o,r),d=r.index+1):(r={count:0},this._processDescendantsNodeSet(t,null,0,null,o,r),d=0),null!=a&&null!=a.success&&(t=null!=r?0===r.count?new e.EmptyNodeSet(null,n.start):new e.FlattenedNodeSet(t,d):new e.FlattenedNodeSet(t),a.success.call(null,t))):this.handleMaxCountReached(n,a),this.m_busy=!1,this._processQueue()},e.FlattenedTreeDataSource.prototype._processDescendantsNodeSet=function(e,t,n,a,s,o){var i,r,d,l,h,c;for(i=e.getStart(),r=e.getCount(),d=0;d<r;d++){if(o.count==s)return;h=(l=e.getMetadata(i+d)).key,o.checkDepth&&a.depth===n&&(o.found=!0,o.checkDepth=!1),(null==a||o.found)&&(this._addEntry(h,n,i+d,t),o.count=o.count+1,l.leaf?l.state="leaf":l.state="expanded"),null==a||o.found||(h===a.key?l.leaf||this._isExpanded(h)?o.found=!0:o.checkDepth=!0:o.index=o.index+1),e.getChildNodeSet&&this._isExpanded(h)&&null!=(c=e.getChildNodeSet(d))&&this._processDescendantsNodeSet(c,h,n+1,a,s,o)}},e.FlattenedTreeDataSource.prototype.expand=function(e){this._expand(e)},e.FlattenedTreeDataSource.prototype._expand=function(t,n){var a,s,o;this.m_busy=!0,a=this.m_wrapped.getChildCount(t),s=this._getFetchSizeToUse(a),o=this.getMaxCount(),this._getLastIndex()+1===o&&this.getIndex(t)==o-1||0==s?this.handleExpandSuccess(t,new e.EmptyNodeSet(t,0),0,n):this.m_wrapped.fetchChildren(t,{start:0,count:s},{success:function(e){this.handleExpandSuccess(t,e,a,n)}.bind(this),error:function(e){this.handleExpandError(t,e)}.bind(this)})},e.FlattenedTreeDataSource.prototype._processQueue=function(){var e,t;if(this.m_queue&&this.m_queue.length>0){for(e=this.m_queue.length-1;e>=0;e--)t=this.m_queue[e],this.collapse(t.key);this.m_queue.length=0}},e.FlattenedTreeDataSource.prototype._queueOp=function(e,t){null==this.m_queue&&(this.m_queue=[]),this.m_queue.push({op:e,key:t})},e.FlattenedTreeDataSource.prototype.collapse=function(e){var t,n,a,s,o,i,r,d;if(this.m_busy)this._queueOp("collapse",e);else if(t=this.getIndex(e)+1,null!=(n=this._getEntry(t-1))){for(a=0,s=n.depth,o=this._getLastIndex(),r=t;r<o+1;r++){var l=this._getEntry(r).depth;if(l>s)a+=1;else if(l==s)break}if(0!=a){for(this._isExpandAll()?this.m_collapsedKeys.push(e):this._removeExpanded(e),d=[],i=0;i<a;i++)d.push({key:this._getEntry(t+i).key,index:t+i});this._removeEntry(t,a),this.removeRows(d),this.handleEvent("collapse",{rowKey:e})}else this.handleEvent("collapse",{rowKey:e})}},e.FlattenedTreeDataSource.prototype._isExpanded=function(e){return this._isExpandAll()?!(this.m_collapsedKeys&&this.m_collapsedKeys.length>0)||-1===this._getCollapsedKeyIndex(e):!!(this.m_expandedKeys&&this.m_expandedKeys.length>0)&&this._getExpandedKeyIndex(e)>-1},e.FlattenedTreeDataSource.prototype._getCollapsedKeyIndex=function(e){return this._getKeyIndex(this.m_collapsedKeys,e)},e.FlattenedTreeDataSource.prototype._getExpandedKeyIndex=function(e){return this._getKeyIndex(this.m_expandedKeys,e)},e.FlattenedTreeDataSource.prototype._getKeyIndex=function(e,t){var n,a;for(a=-1,n=0;n<e.length;n++)e[n]===t&&(a=n);return a},e.FlattenedTreeDataSource.prototype._removeExpanded=function(e){var t=this._getExpandedKeyIndex(e);t>-1&&this.m_expandedKeys.splice(t,1)},e.FlattenedTreeDataSource.prototype._removeCollapsed=function(e){var t=this._getCollapsedKeyIndex(e);t>-1&&this.m_collapsedKeys.splice(t,1)},e.FlattenedTreeDataSource.prototype.handleExpandError=function(e,t){this.handleEvent("expand",{rowKey:e})},e.FlattenedTreeDataSource.prototype.handleExpandSuccess=function(t,n,a,s){var o,i,r,d,l,h,c,p,u,_,g,y,m,f,S;for(n=new e.NodeSetWrapper(n,this.insertMetadata.bind(this)),i=o=this.getIndex(t)+1,r=n.getStart(),d=n.getCount(),h=(l=this._getEntry(o-1)).depth+1,u=[],_=r;_<d;_++)p=(c=n.getMetadata(_)).key,this._isExpanded(p)&&u.push(p),this._insertRow(o,c,l.key,_,h),o++;if(this._isExpandAll()?this._removeCollapsed(t):-1===this.m_expandedKeys.indexOf(t)&&this.m_expandedKeys.push(t),null!=s&&(y=s.queue,m=s.prevNodeSetInfo),null!=m&&(n=new e.MergedNodeSet(m.nodeSet,n,t)),0!=u.length||void 0!==y&&0!=y.length)void 0===y&&(y=[]),u.length>0&&y.push(u),void 0===m&&((m={}).firstIndex=i,m.firstKey=t,m.keys=[]),m.nodeSet=n,m.keys.push(t),this._syncExpandRows(y,m);else{if(null!=m){if(null!=(S=m.callbacks))return S.success.call(null,n),void(this.m_busy=!1);this.insertRows(m.firstIndex,m.firstKey,n)}else this.insertRows(i,t,n);if(f=this.getMaxCount(),-1===a&&d===this.getFetchSize()||a>d||o==f?this._deleteAllRowsBelow(o):this._getLastIndex()>=f&&this._deleteAllRowsBelow(f),null!=m)for(g=0;g<m.keys.length;g++)this.handleEvent("expand",{rowKey:m.keys[g]});this.m_busy=!1,this.handleEvent("expand",{rowKey:t})}this.m_busy=!1,y&&0==y.length&&this._processQueue()},e.FlattenedTreeDataSource.prototype._syncExpandRows=function(e,t){var n,a;a=(n=e[e.length-1]).shift(),0===n.length&&e.pop(),this._expand(a,{prevNodeSetInfo:t,queue:e})},e.FlattenedTreeDataSource.prototype._expandRows=function(e){var t,n;for(this._isBatchFetching()&&(t={queueOnly:!0}),n=0;n<e.length;n++)n==e.length-1?this._expand(e[n]):this._expand(e[n],t)},e.FlattenedTreeDataSource.prototype._insertRow=function(e,t,n,a,s){var o;o=t.key,e<=this._getLastIndex()?this._addEntry(o,s,a,n,e):this._addEntry(o,s,a,n)},e.FlattenedTreeDataSource.prototype._deleteAllRowsBelow=function(e,t){var n;null==t&&(t=this._getLastIndex()+1-e),n=[];for(var a=0;a<t;a++)n.push({key:this._getEntry(e+a).key,index:e+a});this._removeEntry(e,t),this.removeRows(n)},e.FlattenedTreeDataSource.prototype._handleModelEvent=function(e){var t,n,a,s;t=e.operation,n=e.parent,a=Array.isArray(n)?n[n.length-1]:n,s=e.index,"insert"===t?this._handleInsertEvent(a,s,e.data):"delete"===t?this._handleDeleteEvent(a,s):"refresh"===t&&this._handleRefreshEvent(a)},e.FlattenedTreeDataSource.prototype._handleInsertEvent=function(e,t,n){var a,s,o,i;a=this.getIndex(e),s=this._getEntry(a).depth+1,o=a+t+1,i=n.getMetadata(n.getStart()),this._insertRow(o,i,e,t,s)},e.FlattenedTreeDataSource.prototype._handleDeleteEvent=function(t,n){var a,s,o,i,r,d;for(a=this.getIndex(t),s=this._getEntry(a),o=a+n,i=this._getEntry(o),e.Assert.assert(i.parent===s&&i.depth===s.depth+1),r=o+1,d=this._getLastIndex();r<=d&&this._getEntry(r).depth==i.depth;)r++;this._deleteAllRowsBelow(o,1)},e.FlattenedTreeDataSource.prototype._handleRefreshEvent=function(e){null==e&&this.refresh()},e.FlattenedTreeDataSource.prototype._isExpandAll=function(){var e=this.m_wrapped.getCapability("fetchDescendants");return null!=this.m_collapsedKeys&&null!=e&&"disable"!=e},e.FlattenedTreeDataSource.prototype._isBatchFetching=function(){return"enable"===this.m_wrapped.getCapability("batchFetch")},e.FlattenedTreeDataSource.prototype.refresh=function(){this._clearAll()},e.FlattenedTreeDataSource.prototype.getIndex=function(e){var t,n;for(t=this._getLastIndex(),n=0;n<=t;n++)if(this._getEntry(n).key==e)return n;return-1},e.FlattenedTreeDataSource.prototype.getKey=function(e){return e<0||e>this._getLastIndex()?null:this._getEntry(e).key},e.FlattenedTreeDataSource.prototype.getFetchedRange=function(){return{start:0,end:this._getLastIndex()+1}},e.FlattenedTreeDataSource.prototype.getAncestors=function(e){var t,n,a;for(t=[],n=this.getIndex(e),a=this._getParent(n);null!=a;)t.push(a),n=this.getIndex(a),a=this._getParent(n);return t.reverse()},e.FlattenedTreeDataSource.prototype.handleMaxCountReached=function(e,t){null!=t&&null!=t.error&&t.error.call(null)},e.FlattenedTreeDataSource.prototype.insertRows=function(t,n,a){e.Assert.failedInAbstractFunction()},e.FlattenedTreeDataSource.prototype.removeRows=function(t){e.Assert.failedInAbstractFunction()},e.FlattenedTreeDataSource.prototype._getLastIndex=function(){return this.m_cache.length-1},e.FlattenedTreeDataSource.prototype._getLastEntry=function(){return this.m_cache[this._getLastIndex()]},e.FlattenedTreeDataSource.prototype._getEntry=function(e){return this.m_cache[e]},e.FlattenedTreeDataSource.prototype._getParent=function(e){var t=this.m_cache[e];return null!=t?t.parent:null},e.FlattenedTreeDataSource.prototype._addEntry=function(e,t,n,a,s){var o=new Object;o.key=e,o.depth=t,o.index=n,o.parent=a,void 0===s?this.m_cache.push(o):this.m_cache.splice(s,0,o)},e.FlattenedTreeDataSource.prototype._removeEntry=function(e,t){this.m_cache.splice(e,t)},e.FlattenedTreeDataSource.prototype._clearAll=function(){this.m_cache.length=0},e.FlattenedTreeDataSource.prototype.getCapability=function(e){return this.m_wrapped.getCapability(e)},e.__registerWidget("oj.ojRowExpander",t.oj.baseComponent,{version:"1.0.0",widgetEventPrefix:"oj",options:{context:null,expanded:null,expand:null,collapse:null},classNames:{root:"oj-rowexpander",icon:"oj-component-icon",clickable:"oj-clickable-icon-nocontext",expand:"oj-rowexpander-expand-icon",collapse:"oj-rowexpander-collapse-icon",leaf:"oj-rowexpander-leaf-icon",lazyload:"oj-rowexpander-lazyload-icon",toucharea:"oj-rowexpander-touch-area",indent:"oj-rowexpander-indent",iconspacer:"oj-rowexpander-icon-spacer",depth0:"oj-rowexpander-depth-0",depth1:"oj-rowexpander-depth-1",depth2:"oj-rowexpander-depth-2",depth3:"oj-rowexpander-depth-3",depth4:"oj-rowexpander-depth-4",depth5:"oj-rowexpander-depth-5",depth6:"oj-rowexpander-depth-6",depth7:"oj-rowexpander-depth-7"},constants:{MAX_STYLE_DEPTH:7,NUM5_KEY:53},_ComponentCreate:function(){this._super(),this.element.addClass(this.classNames.root),this._initContent()},_initContent:function(){var n,a=this;if(null!=(n=this.options.context).component)this.component="function"==typeof n.component?n.component("instance"):n.component;else if(n.componentElement){var s=n.componentElement;s=t(s).hasClass("oj-component-initnode")?s:t(s).find(".oj-component-initnode")[0],this.component=e.Components.__GetWidgetConstructor(s)("instance")}this.datasource=n.datasource,this.depth=n.depth,this.iconState=n.state,this.rowKey=n.key,this.index=n.index,this.parentKey=n.parentKey,this._addIndentation(),this._addIcon(),this._setIconStateClass(),"expanded"===this.iconState||"collapsed"===this.iconState?(t(this.toucharea).on("touchend",function(e){e.preventDefault(),a._fireExpandCollapse()}),t(this.toucharea).on("click",function(e){e.preventDefault(),a._fireExpandCollapse()}),t(this.element).on("keypress",function(e){var n=e.keyCode||e.which;n!==t.ui.keyCode.ENTER&&n!==t.ui.keyCode.SPACE||(a._fireExpandCollapse(),e.preventDefault(),e.target.focus())}),this.handleKeyDownCallback=this._handleKeyDownEvent.bind(this),this.component.element.get(0).addEventListener("keydown",this.handleKeyDownCallback,!0),this.handleExpandCallback=this._handleExpandEvent.bind(this),this.handleCollapseCallback=this._handleCollapseEvent.bind(this),this.datasource.on("expand",this.handleExpandCallback,this),this.datasource.on("collapse",this.handleCollapseCallback,this),this._initExpanded()):"leaf"===this.iconState&&(this.handleKeyDownCallback=this._handleKeyDownEvent.bind(this),this.component.element.get(0).addEventListener("keydown",this.handleKeyDownCallback,!0),t(this.icon).attr("tabindex",-1)),this.handleActiveKeyChangeCallback=this._handleActiveKeyChangeEvent.bind(this),this.component._IsCustomElement()?t(this.component.element).on("ojBeforeCurrentCell",this.handleActiveKeyChangeCallback):t(this.component.element).on("ojbeforecurrentcell",this.handleActiveKeyChangeCallback)},_initExpanded:function(){var e=this.options.expanded;null!=e?e&&"collapsed"===this.iconState?this._expand():e||"expanded"!==this.iconState||this._collapse():this.options.expanded="collapsed"!==this.iconState},refresh:function(){this.element.empty(),this._initContent()},_destroy:function(){this.component.element.get(0).removeEventListener("ojkeydown",this.handleKeyDownCallback,!0),t(this.component.element).off("ojbeforecurrentcell",this.handleActiveKeyChangeCallback),this.datasource.off("expand",this.handleExpandCallback,this),this.datasource.off("collapse",this.handleCollapseCallback,this),this.element.removeClass(this.classNames.root),this.element.empty()},_expand:function(){return"collapsed"===this.iconState&&(this._loading(),this.datasource.expand(this.rowKey),!0)},_collapse:function(){return"expanded"===this.iconState&&(this._loading(),this.datasource.collapse(this.rowKey),!0)},_setOption:function(e,t,n){"expanded"!=e||null!=n._context&&1==n._context.internalSet?(this._super(e,t,n),"context"==e&&null!=n._context&&1!=n._context.internalSet&&this.refresh()):t?this._expand():this._collapse()},_addIndentation:function(){var e,t,n;if((n=this.depth-1)<this.constants.MAX_STYLE_DEPTH)this._appendSpacer(n);else{for(t=1;t<=n/this.constants.MAX_STYLE_DEPTH;t++)this._appendSpacer(this.constants.MAX_STYLE_DEPTH);(e=n%this.constants.MAX_STYLE_DEPTH)<this.constants.MAX_STYLE_DEPTH&&this._appendSpacer(e)}},_appendSpacer:function(e){var n=t(document.createElement("span")).addClass(this.classNames.indent).addClass(this.classNames["depth"+e]);this.element.append(n)},_addIcon:function(){var e;e=t(document.createElement("div")).addClass(this.classNames.iconspacer),this.toucharea=t(document.createElement("div")).addClass(this.classNames.toucharea),this.icon=t(document.createElement("a")).attr("href","#").attr("aria-labelledby",this._getLabelledBy()).addClass(this.classNames.icon).addClass(this.classNames.clickable).attr("aria-label",this.getTranslatedString("accessibleLevelDescription",{level:this.depth})),this.element.append(e.append(this.toucharea.append(this.icon))),this._focusable({element:this.icon,applyHighlight:!0})},_addIconClass:function(e){this.icon.addClass(this.classNames[e])},_removeIconClass:function(e){this.icon.removeClass(this.classNames[e])},_setIconStateClass:function(){switch(this.iconState){case"leaf":this._removeIconClass("icon"),this._removeIconClass("clickable"),this._addIconClass("leaf");break;case"collapsed":this._addIconClass("expand"),this._ariaExpanded(!1);break;case"expanded":this._addIconClass("collapse"),this._ariaExpanded(!0);break;case"loading":this._removeIconClass("clickable"),this._addIconClass("lazyload")}},_removeIconStateClass:function(){switch(this.iconState){case"leaf":this._removeIconClass("leaf"),this._addIconClass("icon"),this._addIconClass("clickable");break;case"collapsed":this._removeIconClass("expand");break;case"expanded":this._removeIconClass("collapse");break;case"loading":this._removeIconClass("lazyload"),this._addIconClass("clickable")}},_handleActiveKeyChangeEvent:function(e,t){var n,a,s,o;null==t&&(t=e.detail),null!=t.currentCell&&(n="cell"==t.currentCell.type?t.currentCell.keys.row:t.currentCell.key,null!=t.previousValue&&(a="cell"==t.previousCurrentCell.type?t.previousCurrentCell.keys.row:t.previousCurrentCell.key),this.rowKey===n&&a!=n&&this.component._setAccessibleContext&&(s=this.getTranslatedString("accessibleRowDescription",{level:this.depth,num:this.index+1,total:this.datasource.getWrappedDataSource().getChildCount(this.parentKey)}),o="collapsed"===this.iconState?this.getTranslatedString("accessibleStateCollapsed"):"expanded"===this.iconState?this.getTranslatedString("accessibleStateExpanded"):"",this.component._setAccessibleContext({context:s,state:o})))},_handleKeyDownEvent:function(n){var a,s,o,i,r,d,l=e.Components.__GetWidgetConstructor(this.component.element.get(0))("getContextByNode",n.target);if(null!=l&&(null==(a=l.key)&&(a=l.keys.row),this.rowKey===a&&(s=n.keyCode||n.which,e.DomUtils.isMetaKeyPressed(n))))if(s==t.ui.keyCode.RIGHT){if(this._expand())return void n.preventDefault()}else if(s==t.ui.keyCode.LEFT){if(this._collapse())return void n.preventDefault()}else if(n.altKey&&s==this.constants.NUM5_KEY&&this.component._setAccessibleContext){if(null!=(r=this.datasource.getAncestors(this.rowKey))&&r.length>0)for(i=[],d=0;d<r.length;d++)i.push({key:r[d],label:this.getTranslatedString("accessibleLevelDescription",{level:d+1})});o=this.getTranslatedString("accessibleRowDescription",{level:this.depth,num:this.index+1,total:this.datasource.getWrappedDataSource().getChildCount(this.parentKey)}),this.component._setAccessibleContext({context:o,state:"",ancestors:i})}},_loading:function(){this._removeIconStateClass(),this.iconState="loading",this._setIconStateClass()},_handleExpandEvent:function(e){var t=e.rowKey;if(t===this.rowKey){this._removeIconStateClass(),this.iconState="expanded",this._setIconStateClass(),this._ariaExpanded(!0),this._updateContextState("expanded");var n=this.options.expanded;(null==n||null!=n&&!n)&&(this._trigger("expand",null,{rowKey:t}),this._updateExpandedState(!0))}},_handleCollapseEvent:function(e){var t=e.rowKey;if(t===this.rowKey){this._removeIconStateClass(),this.iconState="collapsed",this._setIconStateClass(),this._ariaExpanded(!1),this._updateContextState("collapsed");var n=this.options.expanded;(null==n||null!=n&&n)&&(this._trigger("collapse",null,{rowKey:t}),this._updateExpandedState(!1))}},_updateExpandedState:function(e){this.option("expanded",e,{changed:!0,_context:{internalSet:!0,writeback:!0}})},_updateContextState:function(e){var t=this.options.context;t.state=e,this.option("context",t,{changed:!0,_context:{internalSet:!0}})},_fireExpandCollapse:function(){var e=this.iconState;this._loading(),"collapsed"===e?this.datasource.expand(this.rowKey):"expanded"===e&&this.datasource.collapse(this.rowKey)},_ariaExpanded:function(e){this.icon.attr("aria-expanded",e)},getNodeBySubId:function(e){var t;return null==e?this.element?this.element[0]:null:"oj-rowexpander-disclosure"!==(t=e.subId)&&"oj-rowexpander-icon"!==t||null==this.icon?null:this.icon.get(0)},getSubIdByNode:function(e){return e===this.icon.get(0)?{subId:"oj-rowexpander-disclosure"}:null},_NotifyAttached:function(){this._super(),this.icon.attr("aria-labelledby",this._getLabelledBy())},_getLabelledBy:function(){return this.element.parent().closest("[id]").attr("id")}}),e.CustomElementBridge.registerMetadata("oj-row-expander","baseComponent",{properties:{context:{type:"object"},expanded:{type:"boolean",writeback:!0},translations:{type:"Object",properties:{accessibleLevelDescription:{type:"string"},accessibleRowCollapsed:{type:"string"},accessibleRowDescription:{type:"string"},accessibleRowExpanded:{type:"string"},accessibleStateCollapsed:{type:"string"},accessibleStateExpanded:{type:"string"}}}},events:{collapse:{},expand:{}},extension:{_WIDGET_NAME:"ojRowExpander"}}),e.CustomElementBridge.register("oj-row-expander",{metadata:e.CustomElementBridge.getMetadata("oj-row-expander")})});
define('customComponents/oc-table/viewModel',["knockout","jquery","common/exportService","ojs/ojcheckboxset","ojs/ojselectcombobox","ojs/ojrowexpander"],function(o,e,t){function s(o,e,t){localStorage.setItem(encodeURIComponent(o),encodeURIComponent(e))}return function(l){var r=this;r.props,r.id=o.observable(),r.columns=o.observableArray(),r.columnList=o.observableArray(),r.columnDisplayed=o.observableArray(),r.componentOptions=o.observable(),r.showExport=o.observable(!1),r.showPrint=o.observable(!1),r.showColDisp=o.observable(!1),r.showPagination=o.observable(!1),r.pageSize=o.observable(10),r.dataSource,r.props=l.properties,r.tableId=o.pureComputed(function(){return"#myTable_"+r.props.id});var a=r.props.columns,p=r.props.slot;if(p){var n=p.toString();r.showExport(n.includes("export")),r.showPrint(n.includes("print")),r.showColDisp(n.includes("colDisp")),r.showPagination(n.includes("pagination"))}r.columns(a);for(var i,d=[],u=[],c=[],b=JSON.parse((i=r.tableId(),localStorage.getItem(i)?decodeURIComponent(localStorage.getItem(i)):null)),m=0;m<a.length;m++)if(a[m].field&&d.push({label:a[m].headerText,field:a[m].field}),null!==b){if(a[m].field)for(var f=0;f<b.length;++f)a[m].field===b[f].field&&(u.push(a[m].field),c.push(a[m]));else c.push(a[m]);r.props.columns=c}else u.push(a[m].field);r.columnList(d),r.columnDisplayed(u),r.activated=function(o){r.dataSource=r.props.data;var e={component:"ojTable",data:r.props.data,columns:r.props.columns};e.display=r.props.display?r.props.display:"grid",e.rootAttributes=r.props.rootAttributes?r.props.rootAttributes:{style:"width:100%;overflow-x: auto; overflow-y: hidden;"},e.selectionMode=r.props.selectionMode?r.props.selectionMode:{row:"single"},e.scrollPolicyOptions=r.props.scrollPolicyOptions?r.props.scrollPolicyOptions:"auto",e.columnsDefault=r.props.columnsDefault?r.props.columnsDefault:{sortable:"auto"},r.props.editMode&&(e.editMode=r.props.editMode),r.props.beforeCurrentRow&&(e.beforeCurrentRow=r.props.beforeCurrentRow),r.props.rowTemplate&&(e.rowTemplate=r.props.rowTemplate),r.props.pageSize&&r.pageSize(r.props.pageSize),r.props.msgNoData&&(e.translations={msgNoData:r.props.msgNoData}),r.componentOptions(e)},r.printData=function(){printContent("myPrint,page-title")},r.exportxls=function(){t.export(e(r.tableId()).ojTable("option","columns"),r.props.data.Md?r.props.data.Md.Ca.data:r.props.data.Ca.data?r.props.data.Ca.data:[],"xlsx","Data.xlsx")},r.onChangedSelection=function(o,t){var l,a=[];if(t.value.length>0)for(var p=0;p<r.columns().length;p++){var n=r.columns()[p];if(n.field){for(var i=0;i<t.value.length;i++)if(t.value[i]===n.field){a.push(n),s(r.tableId(),JSON.stringify(a));break}}else a.push(n)}else l=r.tableId(),localStorage.removeItem(l),console.log("hide");e(r.tableId()).ojTable({columns:a})},r.onChangedSelectionAll=function(){for(var o=[],t=[],l=0;l<r.columns().length;l++){var a=r.columns()[l];a.field?(o.push(a),t.push(a.field),s(r.tableId(),JSON.stringify(o))):o.push(a)}t.length>0&&r.columnDisplayed(t),e(r.tableId()).ojTable({columns:o})}}});

define('text!customComponents/oc-table/component.json',[],function () { return '{\n    "name": "oc-table",\n    "description": "Custom table with display to column filter",\n    "version": "1.0.0",\n    "jetVersion": ">=4.0.0 <5.0.0",\n    "properties": {\n        "id": {\n            "type": "string"\n        },\n        "data": {\n            "type": "object"\n        },\n        "columnsDefault": {\n            "type": "object"\n        },\n        "columns": {\n            "type": "array"\n        },\n        "rootAttributes": {\n            "type": "object"\n        },\n        "selectionMode:": {\n            "type": "object"\n        },\n        "display": {\n            "type": "string"\n        },\n        "beforeCurrentRow": {\n            "type": "function"\n        },\n        "scrollPolicy": {\n            "type": "string"\n        },\n        "scrollPolicyOptions": {\n            "type": "object"\n        },\n        "editMode": {\n            "type": "string"\n        },\n        "rowTemplate": {\n            "type": "function"\n        },\n        "slot": {\n            "type": "string"\n        },\n        "pageSize": {\n            "type": "string"\n        },\n        "msgNoData": {\n            "type": "string"\n        }\n    },\n    "events": {\n        "changeFetchSize": {\n          "description": "Triggered when fetch size changed",\n          "bubbles": true,\n          "detail": {\n            "value": {\n              "description": "Obw",\n              "type": "object"\n            }\n          }\n        }\n    },\n    "slots": {\n        "greetingArea": {\n            "description": "Put your customized greeting here"\n        }\n    }\n}';});


define('css!customComponents/oc-table/styles',[],function(){});
define('customComponents/oc-table/loader',["ojs/ojcore","text!./view.html","./viewModel","text!./component.json","css!./styles","ojs/ojcomposite"],function(e,t,o,s){e.Composite.register("oc-table",{template:{element:"my-special-list-template"},view:t,viewModel:o,metadata:JSON.parse(s)})});

define('text!customComponents/oc-dialog/view.html',[],function () { return '\n\n<oj-input-text disabled="true" label-hint="[[props.labelHint]]" autocomplete="off"\n               value="[[props.displayValue]]" data-bind="attr: {id: \'valueDlg_\'+ $properties.id}, visible: required"></oj-input-text>\n<div style="vertical-align: top;display: inline-flex;align:top">\n<oj-button display=\'icons\' on-oj-action=\'[[onOpenDialog]]\' disabled="false"  data-bind="attr: {id: \'openDlgBtn_\'+$properties.id}">\n    <span slot=\'startIcon\' style="vertical-align: top" class="oj-fwk-icon oj-fwk-icon-magnifier"></span>\n</oj-button>\n</div>\n\n\n\n<oj-dialog style="display:none;width:60%;height:auto !important;max-height: calc(200vh - 340px) !important;" data-bind="attr: {id: \'dlgModal_\'+$properties.id , title: $properties.dialogName }">\n    <div class="oj-dialog-body">\n        <div id="CounterPartyPopUp">\n            <oj-bind-if value="[[hasFilter]]">\n                <div class="oj-flex oj-form-layout oj-sm-only-flex-direction-column oj-lg-flex-items-1"> \n<!--                    <oj-validation-group id="tracker" valid="{{groupValid}}">-->\n                        <oj-form-layout id="ofl1" label-edge="start" max-columns="{{maxColumns}}">\n                            <!-- ko foreach: props.dialogQueryParams -->\n                            <!--<oj-bind-if test="true">-->\n\n                            <oj-bind-if test="[[visible === true]]">\n                                <oj-input-text label-hint="[[paramLabel]]" data-bind="attr: {id: \'input_\'+$properties.id+\'_\'+paramName}" value="{{value}}" ></oj-input-text>\n                            </oj-bind-if>\n                            <!-- /ko -->\n\n\n                        </oj-form-layout>\n                        <!--</oj-validator-group>-->\n\n                        <!--</div>-->\n                </div>\n                <!--<div class="oj-flex oj-lg-flex-items-1 pull-right">-->                      \n                <!--<div class="oj-flex-item">-->\n                <!--<div class="page-button-wrapper">-->\n                <oj-button on-oj-action=\'[[onClickSearch]]\' data-bind="attr: {id: \'searchDlgBtn_\'+$properties.id}" style="float:right;margin-bottom: 25px;">Search</oj-button>\n                <oj-button on-oj-action=\'[[onClickReset]]\' data-bind="attr: {id: \'resetDlgBtn_\'+$properties.id}"style="float:right;margin-bottom: 25px;">Reset</oj-button>\n                <!--</div>-->\n                <!--</div>-->\n                <!--</div>-->\n            </oj-bind-if>\n\n            <table class="myPrint" data-bind="attr: {id: \'dlgTbl_\'+$properties.id}, ojComponent: dialogTableOptions" ></table>\n            <oj-paging-control id="paging" data=\'[[dlgDataSource]]\' page-size=\'5\' slot=\'bottom\'>\n            </oj-paging-control>\n            <div class="oj-flex oj-lg-flex-items-1 pull-right">                      \n                <div class="oj-flex-item">\n                    <div class="page-button-wrapper">\n                        <oj-button on-oj-action=\'[[onClickSelectAndClose]]\' data-bind="attr: {id: \'selectDlgBtn_\'+$properties.id}" style="float: right">Select</oj-button>\n                        <oj-button  on-oj-action=\'[[onClickCancel]]\' data-bind="attr: {id: \'cancelDlgBtn_\'+$properties.id}"style="float: right">Cancel</oj-button>\n\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</oj-dialog>\n<!--<script type="text/html" id="view_action_hdr">\n    <th style="padding: 0px; text-align:center;">\n        Action\n    </th>\n</script>\n<script type="text/html" id="view_action">\n    <td>\n        <button id= "btn_PI" style="margin: 0px;"\n            data-bind="click: $parent.onDialogSelectTable, ojComponent: { component: \'ojButton\', label: \'Select\'}">\n        </button>\n    </td>\n</script>-->\n';});

define('ojs/ojvalidationgroup',["ojs/ojcore","ojs/ojcomponentcore"],function(n){var e={properties:{valid:{type:"string",enumValues:["valid","invalidShown","invalidHidden","pending"],readOnly:!0,writeback:!0}},methods:{focusOn:{},showMessages:{}},extension:{_CONSTRUCTOR:function(e){var t,i=this,o=e.element,r=[];function d(){r=[],function n(e){var t,i,o,d,a=[];for(d=(i=e.childNodes).length,o=0;o<d;o++)f(t=i[o])?r.push(t):a.push(t);for(d=a.length,o=0;o<d;o++)n(a[o])}(o),e.props.valid=v();for(var n=r.length,t=0;t<n;t++)a(r[t])}function a(n){n.addEventListener("validChanged",l.bind(this)),n.addEventListener("disabledChanged",u.bind(this)),n.addEventListener("readonlyChanged",u.bind(this))}function s(n){n.removeEventListener("validChanged",l),n.removeEventListener("disabledChanged",u),n.removeEventListener("readonlyChanged",u)}function l(n){e.props.valid=v()}function u(n){var t=n.target,i=t.valid,o=!(t.readonly||t.disabled);"valid"!==i&&(e.props.valid=o&&"invalidShown"===i?"invalidShown":v())}function v(){for(var n,e,t,i,o="valid",d=r.length,a=0;a<d&&"invalidShown"!==o;a++)p(n=r[a])&&(t=n.valid,e=n.disabled,i=n.readonly,e||i||("invalidShown"===t?o="invalidShown":"invalidHidden"===t?o="invalidHidden":"pending"===t&&"valid"===o&&(o="pending")));return o}function f(n){return!!(1===n.nodeType&&-1!==n.tagName.indexOf("-")&&"valid"in n&&p(n)&&void 0!==n.valid)}function c(n,e){var t=e.length;if(f(n))return!0;for(var i=0;i<t;i++)if(f(e[i]))return!0;return!1}function h(n){var e=r.length;if(1!==n.nodeType)return!1;for(var t=0;t<e;t++)if(r[t].contains(n))return!0;return!1}function g(n){for(var e,t=r.length,i=0;i<n.length;i++)if(1===(e=n[i]).nodeType){if(-1!==r.indexOf(e))return!0;for(var o=0;o<t;o++)if(e.contains(r[o]))return!0}return!1}function p(e){var t,i;return void 0!==(t=n.BaseCustomElementBridge.getInstance(e)._WIDGET_ELEM)&&(i=n.Components.__GetWidgetConstructor(t)),!(void 0!==t&&!i)}i._rootElementMutationObserver=new MutationObserver(function(n){if(document.body.contains(o)){for(var e,t,i,r,a=n.length,l=!1,u=0;u<a&&!l;u++)r=(t=n[u]).target,i=t.removedNodes,e=t.addedNodes,!(l=g(i))&&e.length>0&&!h(r)&&c(r,e)&&(l=!0);l&&(function(n){for(var e=n.length,t=0;t<e;t++)for(var i=n[t],o=i.removedNodes.length,r=0;r<o;r++){var d=i.removedNodes[r];1===d.nodeType&&s(d)}}(n),d())}else this.disconnect()}),i.createDOM=function(){for(o.classList.add("oj-validation-group"),(t=document.createElement("div")).setAttribute("data-oj-context","");o.firstChild;)t.appendChild(o.firstChild);o.appendChild(t)},i.updateDOM=function(){n.Context.getContext(t).getBusyContext().whenReady().then(function(){for(var n=r.length,e=0;e<n;e++)s(r[e]);d(),i._rootElementMutationObserver.observe(o,{childList:!0,subtree:!0})})},i.handlePropertyChanged=function(n,e){return!0},i.showMessages=function(){for(var n,e=0;e<r.length;e++)(n=r[e]).disabled||n.readonly||"showMessages"in n&&n.showMessages()},i.focusOn=function(e){var t=null,i=null;"@firstInvalidShown"===e?(i=function(){var n,e=[];if("invalidShown"!==o.valid)return null;for(var t=r.length,i=0;i<t;i++)(n=r[i]).disabled||n.readonly||"invalidShown"===n.valid&&e.push(n);return 0===e.length?null:(e.sort(function(n,e){return n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}),e[0])}())&&("focusOn"in i?i.focusOn("@firstInvalidShown"):i.focus()):void 0===e?(t=function(){for(var n=null,e=r.length,t=0;t<e;t++)if(!(n=r[t]).readonly&&!n.disabled)return n;return null}())&&("focusOn"in t?t.focusOn():t.focus()):n.Logger.info("focusOn's parameter value is not '@firstInvalidShown' or empty, so it's a no-op.")}}}};Object.freeze(e),n.CustomElementBridge.registerMetadata("oj-validation-group",null,e),n.CustomElementBridge.register("oj-validation-group",{metadata:n.CustomElementBridge.getMetadata("oj-validation-group")})});
define('customComponents/oc-dialog/viewModel',["knockout","jquery","ojs/ojvalidationgroup"],function(e,a){return function(o){var l=this;l.props=o.properties,l.dialogTableOptions=e.observable(),l.dialogValue=e.observable(),l.dialogTableDataArray=e.observableArray([]),l.showLabel=e.observable(!0),l.maxColumns=e.observable(2),l.hasFilter=e.observable(!1),l.hasFilter(l.props.dialogQueryParams.length>0),l.valuesVar=e.observable(),l.required=e.observable(!l.props.required||!0!==l.props.required),l.groupValid=e.observable(),l.tracker=e.observable(),console.log("valueDlg_"+l.props.id),l.nameinputtext=document.getElementById("valueDlg_"+l.props.id),l.submit=function(){document.getElementById("valueDlg_"+l.props.id);var e=document.getElementById("tracker");"valid"===e.valid?alert("everything is valid; submit the form"):(e.showMessages(),e.focusOn("@firstInvalidShown"))},l.onClickSearch=function(){l.initializeTableFromService()},l.onClickReset=function(){l.resetValueParams()},l.onClickCancel=function(){l.closeDialog()},l.onClickSelectAndClose=function(){o.element.dispatchEvent(new CustomEvent("selectDialog",l.selectedDlgTableRow())),l.closeDialog()},l.onOpenDialog=function(){l.openDialog(),!0===l.props.initTableOnLoad&&l.initializeTableFromService()},l.onDialogSelectTable=e.observable(),l.selectedDlgTableRow=e.observable(),l.dlgDataSource=new oj.PagingTableDataSource(new oj.ArrayTableDataSource(l.dialogTableDataArray,{idAttribute:l.props.dialogTablePrimaryKey})),l.onDialogSelectTable=function(e,a){var o=a.currentRow.rowIndex;l.dlgDataSource.at(o).then(function(e){l.selectedDlgTableRow(l.getOutputParams(e.data))})},l.activated=function(e){var a={component:"ojTable",data:l.dlgDataSource,columns:l.props.dialogTableColumns,display:"grid",rootAttributes:{style:"width:100%;overflow-x: auto; overflow-y: hidden;"},selectionMode:{row:"single"},scrollPolicyOptions:"auto",columnsDefault:{sortable:"auto"}};a.beforeCurrentRow=l.onDialogSelectTable,a.currentRow={rowKey:l.props.value},l.dialogTableOptions(a)},l.initializeTableFromService=function(){return l.dialogTableDataArray([]),new Promise(function(e,a){var o=[],r=[];l.props.dialogQueryParams.forEach(function(e){o.push(e.paramName),r.push(l.getValueOfParam(e.paramName))}),getRestData(l.props.serviceUrl,o,r,function(a){"ERROR"!==a?a.content.forEach(function(e){l.dialogTableDataArray.push(e)}):l.dialogTableDataArray([]),e(!0)})})},l.openDialog=function(){document.querySelector("#dlgModal_"+l.props.id).open()},l.closeDialog=function(){document.querySelector("#dlgModal_"+l.props.id).close()},l.getOutputParams=function(e){return{bubbles:!0,detail:{value:e}}},l.getValueOfParam=function(e){return a("#input_"+l.props.id+"_"+e).val()},l.setValueOfParam=function(e,o){a("#input_"+l.props.id+"_"+e).val(o)},l.resetValueParams=function(){l.props.dialogQueryParams.forEach(function(e){l.setValueOfParam(e.paramName,"")})}}});

define('text!customComponents/oc-dialog/component.json',[],function () { return '{\n    "name": "oc-table",\n    "description": "Custom table with display to column filter",\n    "version": "1.0.0",\n    "jetVersion": ">=4.0.0 <5.0.0",\n    "properties": {\n        "id": {\n            "type": "string"\n        },\n        "initTableOnLoad": {\n            "type": "boolean"\n        },\n        "dialogTableColumns": {\n            "type": "array"\n        },\n        "dialogQueryParams": {\n            "type": "array"\n        },\n        "dialogTablePrimaryKey": {\n            "type": "string"\n        },\n        "output": {\n            "type": "function"\n        },\n        "displayValue": {\n            "type": "string"\n        },\n        "value": {\n            "type": "string"\n        },\n        "queryFormColumns": {\n            "type": "integer"\n        },\n        "serviceUrl": {\n            "type": "string"\n        },\n        "required": {\n          "type":"boolean"  \n        },\n        "dialogName": {\n            "type": "string"\n        },\n        "labelHint": {\n            "type": "string"\n        }\n    },\n    "events": {\n        "selectDialog": {\n          "description": "Triggered when a dialog table row is selected",\n          "bubbles": true,\n          "detail": {\n            "value": {\n              "description": "Objecct of selected dialog table row",\n              "type": "object"\n            }\n          }\n        }\n    }\n}';});


define('css!customComponents/oc-dialog/styles',[],function(){});
define('customComponents/oc-dialog/loader',["ojs/ojcore","text!./view.html","./viewModel","text!./component.json","css!./styles","ojs/ojcomposite"],function(e,o,t,s){e.Composite.register("oc-dialog",{view:o,viewModel:t,metadata:JSON.parse(s)})});

define('text!customComponents/oc-layout-1/view.html',[],function () { return '<!DOCTYPE html>\n<!--\n Copyright (c) 2014, 2018, Oracle and/or its affiliates.\n The Universal Permissive License (UPL), Version 1.0\n -->\n<div class="oj-hybrid-padding">\n    <h3>\n        <oj-bind-slot name="pageTitleArea">\n        </oj-bind-slot>\n    </h3>\n    <oj-bind-if test=\'[[$properties.hasBreadCrumb]]\'>\n    <div class="oj-flex">\n        <div class="oj-flex-item">\n            <oj-bind-slot name="breadCrumbArea">\n            </oj-bind-slot>\n        </div>\n    </div>\n    </oj-bind-if>\n    <oj-bind-if test=\'[[$properties.hasSearchCriteria]]\'>\n    <div class="oj-flex">\n        <div class="oj-flex-item">\n            <div class="oj-panel oj-panel-alt1">\n                <div class="oj-flex">\n                    <div class="oj-flex-item">\n                        <h4>Search</h4>\n                        <div class="oj-flex oj-sm-only-flex-direction-column oj-md-only-flex-direction-column oj-lg-flex-items-1 oj-form-layout">\n                            <oj-bind-slot name="searchCriteriaArea">\n                            </oj-bind-slot>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    </oj-bind-if>\n    <br>\n    \n    <div class="oj-flex">    \n        <div id="pagingControlDemo" style="width:100%">\n            <oj-bind-slot name="tableArea">\n            </oj-bind-slot>\n        </div>\n    </div>\n</div>\n<div id="dialogWrapper">\n    <oj-bind-slot name="dialogArea">\n    </oj-bind-slot>\n</div>';});

define('customComponents/oc-layout-1/viewModel',["knockout","jquery"],function(n,u){return function(n){}});

define('text!customComponents/oc-layout-1/component.json',[],function () { return '{\n    "name": "oc-table",\n    "description": "Custom table with display to column filter",\n    "version": "1.0.0",\n    "jetVersion": ">=4.0.0 <5.0.0",\n    "properties": {\n        "hasSearchCriteria": {\n            "type": "boolean"\n        },\n        "hasBreadCrumb": {\n            "type": "boolean"\n        }\n    },\n    "slots" : {\n        "searchCriteriaArea":{\n          "description" : "Search Criteria Area"\n        },\n        "tableArea":{\n            "description" : "Search Criteria Area"\n        },\n        "pageTitleArea":{\n            "description" : "Page Title Area"\n        },\n        "breadCrumbArea":{\n            "description" : "Page BreadCrumb Area"\n        },\n        "dialogArea":{\n            "description" : "Dialog Area"\n        }\n        \n      }\n}';});


define('css!customComponents/oc-layout-1/styles',[],function(){});
define('customComponents/oc-layout-1/loader',["ojs/ojcore","text!./view.html","./viewModel","text!./component.json","css!./styles","ojs/ojcomposite"],function(e,o,t,s){e.Composite.register("oc-layout-1",{view:o,viewModel:t,metadata:JSON.parse(s)})});

define('text!customComponents/oc-payload-editor/view.html',[],function () { return '<!-- <oj-form-layout label-edge="start" id="form-container" max-columns="2">\n    <div class="oj-flex-item">\n        <div class="oj-flex"> \n        <oj-label for="oriPayloadEditor">Original Payload</oj-label>\n         \n            <textarea rows="20" id="oriPayloadEditor" name="oriPayloadEditor" data-bind="text:$properties.originalPayload"></textarea>\n         \n        </div>\n    </div>\n    <div class="oj-flex-item">\n        <div class="oj-flex">    \n            <oj-label for="editedPayloadEditor">Edited Payload</oj-label>\n           \n                <textarea rows="20" id="editedPayloadEditor" name="editedPayloadEditor" data-bind="text:$properties.updatePayload"></textarea>\n            \n        </div>\n    </div>\n</oj-form-layout> -->\n<div class="oj-form-layout">\n    <div class="oj-form oj-sm-odd-cols-6 oj-md-odd-cols-6 oj-md-labels-inline">\n        <div class="oj-flex">\n            <div class="oj-flex-item div-ori" style="display:none;">\n                \n                <div style="width:95%;margin:0 2.5%;">\n                        <oj-label for="oriPayloadEditor">Original Payload</oj-label>\n                    <textarea rows="20" id="oriPayloadEditor" name="oriPayloadEditor" data-bind="text:$properties.originalPayload"></textarea>\n                </div>\n            </div>\n            <div class="oj-flex-item" >\n                \n                <div style="width:95%;margin:0 2.5%;">\n                        <oj-label for="editedPayloadEditor">Edited Payload</oj-label>\n                    <textarea rows="20" id="editedPayloadEditor" name="editedPayloadEditor" data-bind="text:$properties.updatePayload"></textarea>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="pull-right retry-action" style="display:none;">\n    <oj-button id="saveBtn" on-oj-action="[[onClickSavePayload]]">Retry</oj-button>\n</div>';});

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define('libs/cm/lib/codemirror',t):e.CodeMirror=t()}(this,function(){"use strict";var e=navigator.userAgent,t=navigator.platform,r=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),l=n||i||o,s=l&&(n?document.documentMode||6:+(o||i)[1]),a=!o&&/WebKit\//.test(e),u=a&&/Qt\/\d+\.\d+/.test(e),c=!o&&/Chrome\//.test(e),h=/Opera\//.test(e),f=/Apple Computer/.test(navigator.vendor),d=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),p=/PhantomJS/.test(e),g=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),v=/Android/.test(e),m=g||v||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=g||/Mac/.test(t),b=/\bCrOS\b/.test(e),w=/win/i.test(t),x=h&&e.match(/Version\/(\d*\.\d*)/);x&&(x=Number(x[1])),x&&x>=15&&(h=!1,a=!0);var C=y&&(u||h&&(null==x||x<12.11)),S=r||l&&s>=9;function L(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var k,T=function(e,t){var r=e.className,n=L(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}};function M(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function N(e,t){return M(e).appendChild(t)}function O(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function A(e,t,r,n){var i=O(e,t,r,n);return i.setAttribute("role","presentation"),i}function D(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function W(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function H(e,t){var r=e.className;L(t).test(r)||(e.className+=(r?" ":"")+t)}function F(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!L(r[n]).test(t)&&(t+=" "+r[n]);return t}k=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var P=function(e){e.select()};function E(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function I(e,t,r){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function z(e,t,r,n,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,l=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return l+(t-o);l+=s-o,l+=r-l%r,o=s+1}}g?P=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:l&&(P=function(e){try{e.select()}catch(e){}});var R=function(){this.id=null};function B(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}R.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var G=30,U={toString:function(){return"CodeMirror.Pass"}},V={scroll:!1},K={origin:"*mouse"},j={origin:"+move"};function X(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var l=o-n;if(o==e.length||i+l>=t)return n+Math.min(l,t-i);if(i+=o-n,n=o+1,(i+=r-i%r)>=t)return n}}var Y=[""];function _(e){for(;Y.length<=e;)Y.push($(Y)+" ");return Y[e]}function $(e){return e[e.length-1]}function q(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function Z(){}function Q(e,t){var r;return Object.create?r=Object.create(e):(Z.prototype=e,r=new Z),t&&I(t,r),r}var J=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ee(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||J.test(e))}function te(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ee(e))||t.test(e):ee(e)}function re(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ne=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ie(e){return e.charCodeAt(0)>=768&&ne.test(e)}function oe(e,t,r){for(;(r<0?t>0:t<e.length)&&ie(e.charAt(t));)t+=r;return t}function le(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var i=(t+r)/2,o=n<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:r;e(o)?r=o:t=o+n}}function se(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function ae(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i}),n}function ue(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function ce(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function he(e){if(null==e.parent)return null;for(var t=e.parent,r=B(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function fe(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var l=0;l<e.lines.length;++l){var s=e.lines[l].height;if(t<s)break;t-=s}return r+l}function de(e,t){return t>=e.first&&t<e.first+e.size}function pe(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ge(e,t,r){if(void 0===r&&(r=null),!(this instanceof ge))return new ge(e,t,r);this.line=e,this.ch=t,this.sticky=r}function ve(e,t){return e.line-t.line||e.ch-t.ch}function me(e,t){return e.sticky==t.sticky&&0==ve(e,t)}function ye(e){return ge(e.line,e.ch)}function be(e,t){return ve(e,t)<0?t:e}function we(e,t){return ve(e,t)<0?e:t}function xe(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Ce(e,t){if(t.line<e.first)return ge(e.first,0);var r=e.first+e.size-1;return t.line>r?ge(r,se(e,r).text.length):function(e,t){var r=e.ch;return null==r||r>t?ge(e.line,t):r<0?ge(e.line,0):e}(t,se(e,t.line).text.length)}function Se(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=Ce(e,t[n]);return r}var Le=!1,ke=!1;function Te(e,t,r){this.marker=e,this.from=t,this.to=r}function Me(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function Ne(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function Oe(e,t){if(t.full)return null;var r=de(e,t.from.line)&&se(e,t.from.line).markedSpans,n=de(e,t.to.line)&&se(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,l=0==ve(t.from,t.to),s=function(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker;if(null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==l.type&&(!r||!o.marker.insertLeft)){var s=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new Te(l,o.from,s?null:o.to))}}return n}(r,i,l),a=function(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker;if(null==o.to||(l.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==l.type&&(!r||o.marker.insertLeft)){var s=null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new Te(l,s?null:o.from-t,null==o.to?null:o.to-t))}}return n}(n,o,l),u=1==t.text.length,c=$(t.text).length+(u?i:0);if(s)for(var h=0;h<s.length;++h){var f=s[h];if(null==f.to){var d=Me(a,f.marker);d?u&&(f.to=null==d.to?null:d.to+c):f.to=i}}if(a)for(var p=0;p<a.length;++p){var g=a[p];if(null!=g.to&&(g.to+=c),null==g.from)Me(s,g.marker)||(g.from=c,u&&(s||(s=[])).push(g));else g.from+=c,u&&(s||(s=[])).push(g)}s&&(s=Ae(s)),a&&a!=s&&(a=Ae(a));var v=[s];if(!u){var m,y=t.text.length-2;if(y>0&&s)for(var b=0;b<s.length;++b)null==s[b].to&&(m||(m=[])).push(new Te(s[b].marker,null,null));for(var w=0;w<y;++w)v.push(m);v.push(a)}return v}function Ae(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function De(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function We(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function He(e){return e.inclusiveLeft?-1:0}function Fe(e){return e.inclusiveRight?1:0}function Pe(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=ve(n.from,i.from)||He(e)-He(t);if(o)return-o;var l=ve(n.to,i.to)||Fe(e)-Fe(t);return l||t.id-e.id}function Ee(e,t){var r,n=ke&&e.markedSpans;if(n)for(var i=void 0,o=0;o<n.length;++o)(i=n[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||Pe(r,i.marker)<0)&&(r=i.marker);return r}function Ie(e){return Ee(e,!0)}function ze(e){return Ee(e,!1)}function Re(e,t){var r,n=ke&&e.markedSpans;if(n)for(var i=0;i<n.length;++i){var o=n[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!r||Pe(r,o.marker)<0)&&(r=o.marker)}return r}function Be(e,t,r,n,i){var o=se(e,t),l=ke&&o.markedSpans;if(l)for(var s=0;s<l.length;++s){var a=l[s];if(a.marker.collapsed){var u=a.marker.find(0),c=ve(u.from,r)||He(a.marker)-He(i),h=ve(u.to,n)||Fe(a.marker)-Fe(i);if(!(c>=0&&h<=0||c<=0&&h>=0)&&(c<=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?ve(u.to,r)>=0:ve(u.to,r)>0)||c>=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?ve(u.from,n)<=0:ve(u.from,n)<0)))return!0}}}function Ge(e){for(var t;t=Ie(e);)e=t.find(-1,!0).line;return e}function Ue(e,t){var r=se(e,t),n=Ge(r);return r==n?t:he(n)}function Ve(e,t){if(t>e.lastLine())return t;var r,n=se(e,t);if(!Ke(e,n))return t;for(;r=ze(n);)n=r.find(1,!0).line;return he(n)+1}function Ke(e,t){var r=ke&&t.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&je(e,t,n))return!0}}function je(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return je(e,n.line,Me(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&je(e,t,i))return!0}function Xe(e){for(var t=0,r=(e=Ge(e)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;o=(r=o).parent)for(var l=0;l<o.children.length;++l){var s=o.children[l];if(s==r)break;t+=s.height}return t}function Ye(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=Ie(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=ze(n);){var o=t.find(0,!0);r-=n.text.length-o.from.ch,r+=(n=o.to.line).text.length-o.to.ch}return r}function _e(e){var t=e.display,r=e.doc;t.maxLine=se(r,r.first),t.maxLineLength=Ye(t.maxLine),t.maxLineChanged=!0,r.iter(function(e){var r=Ye(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)})}var $e=null;function qe(e,t,r){var n;$e=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==r?n=i:$e=i),o.from==t&&(o.from!=o.to&&"before"!=r?n=i:$e=i)}return null!=n?n:$e}var Ze=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,n=/[stwN]/,i=/[LRr]/,o=/[Lb1n]/,l=/[1n]/;function s(e,t,r){this.level=e,this.from=t,this.to=r}return function(a,u){var c="ltr"==u?"L":"R";if(0==a.length||"ltr"==u&&!r.test(a))return!1;for(var h,f=a.length,d=[],p=0;p<f;++p)d.push((h=a.charCodeAt(p))<=247?e.charAt(h):1424<=h&&h<=1524?"R":1536<=h&&h<=1785?t.charAt(h-1536):1774<=h&&h<=2220?"r":8192<=h&&h<=8203?"w":8204==h?"b":"L");for(var g=0,v=c;g<f;++g){var m=d[g];"m"==m?d[g]=v:v=m}for(var y=0,b=c;y<f;++y){var w=d[y];"1"==w&&"r"==b?d[y]="n":i.test(w)&&(b=w,"r"==w&&(d[y]="R"))}for(var x=1,C=d[0];x<f-1;++x){var S=d[x];"+"==S&&"1"==C&&"1"==d[x+1]?d[x]="1":","!=S||C!=d[x+1]||"1"!=C&&"n"!=C||(d[x]=C),C=S}for(var L=0;L<f;++L){var k=d[L];if(","==k)d[L]="N";else if("%"==k){var T=void 0;for(T=L+1;T<f&&"%"==d[T];++T);for(var M=L&&"!"==d[L-1]||T<f&&"1"==d[T]?"1":"N",N=L;N<T;++N)d[N]=M;L=T-1}}for(var O=0,A=c;O<f;++O){var D=d[O];"L"==A&&"1"==D?d[O]="L":i.test(D)&&(A=D)}for(var W=0;W<f;++W)if(n.test(d[W])){var H=void 0;for(H=W+1;H<f&&n.test(d[H]);++H);for(var F="L"==(W?d[W-1]:c),P=F==("L"==(H<f?d[H]:c))?F?"L":"R":c,E=W;E<H;++E)d[E]=P;W=H-1}for(var I,z=[],R=0;R<f;)if(o.test(d[R])){var B=R;for(++R;R<f&&o.test(d[R]);++R);z.push(new s(0,B,R))}else{var G=R,U=z.length;for(++R;R<f&&"L"!=d[R];++R);for(var V=G;V<R;)if(l.test(d[V])){G<V&&z.splice(U,0,new s(1,G,V));var K=V;for(++V;V<R&&l.test(d[V]);++V);z.splice(U,0,new s(2,K,V)),G=V}else++V;G<R&&z.splice(U,0,new s(1,G,R))}return"ltr"==u&&(1==z[0].level&&(I=a.match(/^\s+/))&&(z[0].from=I[0].length,z.unshift(new s(0,0,I[0].length))),1==$(z).level&&(I=a.match(/\s+$/))&&($(z).to-=I[0].length,z.push(new s(0,f-I[0].length,f)))),"rtl"==u?z.reverse():z}}();function Qe(e,t){var r=e.order;return null==r&&(r=e.order=Ze(e.text,t)),r}var Je=[],et=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||Je).concat(r)}};function tt(e,t){return e._handlers&&e._handlers[t]||Je}function rt(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var o=B(i,r);o>-1&&(n[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function nt(e,t){var r=tt(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function it(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),nt(e,r||t.type,e,t),ct(t)||t.codemirrorIgnore}function ot(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==B(r,t[n])&&r.push(t[n])}function lt(e,t){return tt(e,t).length>0}function st(e){e.prototype.on=function(e,t){et(this,e,t)},e.prototype.off=function(e,t){rt(this,e,t)}}function at(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function ut(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function ct(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ht(e){at(e),ut(e)}function ft(e){return e.target||e.srcElement}function dt(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var pt,gt,vt=function(){if(l&&s<9)return!1;var e=O("div");return"draggable"in e||"dragDrop"in e}();function mt(e){if(null==pt){var t=O("span","");N(e,O("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(pt=t.offsetWidth<=1&&t.offsetHeight>2&&!(l&&s<8))}var r=pt?O("span",""):O("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function yt(e){if(null!=gt)return gt;var t=N(e,document.createTextNode("AA")),r=k(t,0,1).getBoundingClientRect(),n=k(t,1,2).getBoundingClientRect();return M(e),!(!r||r.left==r.right)&&(gt=n.right-r.right<3)}var bt,wt=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),l=o.indexOf("\r");-1!=l?(r.push(o.slice(0,l)),t+=l+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},xt=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ct="oncopy"in(bt=O("div"))||(bt.setAttribute("oncopy","return;"),"function"==typeof bt.oncopy),St=null;var Lt={},kt={};function Tt(e){if("string"==typeof e&&kt.hasOwnProperty(e))e=kt[e];else if(e&&"string"==typeof e.name&&kt.hasOwnProperty(e.name)){var t=kt[e.name];"string"==typeof t&&(t={name:t}),(e=Q(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Tt("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Tt("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Mt(e,t){t=Tt(t);var r=Lt[t.name];if(!r)return Mt(e,"text/plain");var n=r(e,t);if(Nt.hasOwnProperty(t.name)){var i=Nt[t.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var l in t.modeProps)n[l]=t.modeProps[l];return n}var Nt={};function Ot(e,t){I(t,Nt.hasOwnProperty(e)?Nt[e]:Nt[e]={})}function At(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function Dt(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function Wt(e,t,r){return!e.startState||e.startState(t,r)}var Ht=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};Ht.prototype.eol=function(){return this.pos>=this.string.length},Ht.prototype.sol=function(){return this.pos==this.lineStart},Ht.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ht.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ht.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Ht.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ht.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ht.prototype.skipToEnd=function(){this.pos=this.string.length},Ht.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ht.prototype.backUp=function(e){this.pos-=e},Ht.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=z(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?z(this.string,this.lineStart,this.tabSize):0)},Ht.prototype.indentation=function(){return z(this.string,null,this.tabSize)-(this.lineStart?z(this.string,this.lineStart,this.tabSize):0)},Ht.prototype.match=function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Ht.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ht.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ht.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ht.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var Ft=function(e,t){this.state=e,this.lookAhead=t},Pt=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function Et(e,t,r,n){var i=[e.state.modeGen],o={};jt(e,t.text,e.doc.mode,r,function(e,t){return i.push(e,t)},o,n);for(var l=r.state,s=function(n){r.baseTokens=i;var s=e.state.overlays[n],a=1,u=0;r.state=!0,jt(e,t.text,s.mode,r,function(e,t){for(var r=a;u<e;){var n=i[a];n>e&&i.splice(a,1,e,i[a+1],n),a+=2,u=Math.min(e,n)}if(t)if(s.opaque)i.splice(r,a-r,e,"overlay "+t),a=r+2;else for(;r<a;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"overlay "+t}},o),r.state=l,r.baseTokens=null,r.baseTokenPos=1},a=0;a<e.state.overlays.length;++a)s(a);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function It(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=zt(e,he(t)),i=t.text.length>e.options.maxHighlightLength&&At(e.doc.mode,n.state),o=Et(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function zt(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return new Pt(n,!0,t);var o=function(e,t,r){for(var n,i,o=e.doc,l=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>l;--s){if(s<=o.first)return o.first;var a=se(o,s-1),u=a.stateAfter;if(u&&(!r||s+(u instanceof Ft?u.lookAhead:0)<=o.modeFrontier))return s;var c=z(a.text,null,e.options.tabSize);(null==i||n>c)&&(i=s-1,n=c)}return i}(e,t,r),l=o>n.first&&se(n,o-1).stateAfter,s=l?Pt.fromSaved(n,l,o):new Pt(n,Wt(n.mode),o);return n.iter(o,t,function(r){Rt(e,r.text,s);var n=s.line;r.stateAfter=n==t-1||n%5==0||n>=i.viewFrom&&n<i.viewTo?s.save():null,s.nextLine()}),r&&(n.modeFrontier=s.line),s}function Rt(e,t,r,n){var i=e.doc.mode,o=new Ht(t,e.options.tabSize,r);for(o.start=o.pos=n||0,""==t&&Bt(i,r.state);!o.eol();)Gt(i,o,r.state),o.start=o.pos}function Bt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=Dt(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Gt(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=Dt(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}Pt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Pt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Pt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Pt.fromSaved=function(e,t,r){return t instanceof Ft?new Pt(e,At(e.mode,t.state),r,t.lookAhead):new Pt(e,At(e.mode,t),r)},Pt.prototype.save=function(e){var t=!1!==e?At(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Ft(t,this.maxLookAhead):t};var Ut=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function Vt(e,t,r,n){var i,o,l=e.doc,s=l.mode,a=se(l,(t=Ce(l,t)).line),u=zt(e,t.line,r),c=new Ht(a.text,e.options.tabSize,u);for(n&&(o=[]);(n||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=Gt(s,c,u.state),n&&o.push(new Ut(c,i,At(l.mode,u.state)));return n?o:new Ut(c,i,u.state)}function Kt(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+r[2])}return e}function jt(e,t,r,n,i,o,l){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var a,u=0,c=null,h=new Ht(t,e.options.tabSize,n),f=e.options.addModeClass&&[null];for(""==t&&Kt(Bt(r,n.state),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(s=!1,l&&Rt(e,t,n,h.pos),h.pos=t.length,a=null):a=Kt(Gt(r,h,n.state,f),o),f){var d=f[0].name;d&&(a="m-"+(a?d+" "+a:d))}if(!s||c!=a){for(;u<h.start;)i(u=Math.min(h.start,u+5e3),c);c=a}h.start=h.pos}for(;u<h.pos;){var p=Math.min(h.pos,u+5e3);i(p,c),u=p}}var Xt=function(e,t,r){this.text=e,We(this,t),this.height=r?r(this):1};function Yt(e){e.parent=null,De(e)}Xt.prototype.lineNo=function(){return he(this)},st(Xt);var _t={},$t={};function qt(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?$t:_t;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function Zt(e,t){var r=A("span",null,null,a?"padding-right: .1px":null),n={pre:A("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,l=void 0;n.pos=0,n.addToken=Jt,yt(e.display.measure)&&(l=Qe(o,e.doc.direction))&&(n.addToken=er(n.addToken,l)),n.map=[],rr(o,n,It(e,o,t!=e.display.externalMeasured&&he(o))),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=F(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=F(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(mt(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(a){var s=n.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return nt(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=F(n.pre.className,n.textClass||"")),n}function Qt(e){var t=O("span","","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Jt(e,t,r,n,i,o,a){if(t){var u,c=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!r||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=""),n+=o,r=" "==o}return n}(t,e.trailingSpace):t,h=e.cm.state.specialChars,f=!1;if(h.test(t)){u=document.createDocumentFragment();for(var d=0;;){h.lastIndex=d;var p=h.exec(t),g=p?p.index-d:t.length-d;if(g){var v=document.createTextNode(c.slice(d,d+g));l&&s<9?u.appendChild(O("span",[v])):u.appendChild(v),e.map.push(e.pos,e.pos+g,v),e.col+=g,e.pos+=g}if(!p)break;d+=g+1;var m=void 0;if("\t"==p[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(m=u.appendChild(O("span",_(b),"cm-tab"))).setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=b}else"\r"==p[0]||"\n"==p[0]?((m=u.appendChild(O("span","\r"==p[0]?"":"","cm-invalidchar"))).setAttribute("cm-text",p[0]),e.col+=1):((m=e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),l&&s<9?u.appendChild(O("span",[m])):u.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,u=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,u),l&&s<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),r||n||i||f||a){var w=r||"";n&&(w+=n),i&&(w+=i);var x=O("span",[u],w,a);return o&&(x.title=o),e.content.appendChild(x)}e.content.appendChild(u)}}function er(e,t){return function(r,n,i,o,l,s,a){i=i?i+" cm-force-border":"cm-force-border";for(var u=r.pos,c=u+n.length;;){for(var h=void 0,f=0;f<t.length&&!((h=t[f]).to>u&&h.from<=u);f++);if(h.to>=c)return e(r,n,i,o,l,s,a);e(r,n.slice(0,h.to-u),i,o,null,s,a),o=null,n=n.slice(h.to-u),u=h.to}}}function tr(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function rr(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var l,s,a,u,c,h,f,d=i.length,p=0,g=1,v="",m=0;;){if(m==p){a=u=c=h=s="",f=null,m=1/0;for(var y=[],b=void 0,w=0;w<n.length;++w){var x=n[w],C=x.marker;"bookmark"==C.type&&x.from==p&&C.widgetNode?y.push(C):x.from<=p&&(null==x.to||x.to>p||C.collapsed&&x.to==p&&x.from==p)?(null!=x.to&&x.to!=p&&m>x.to&&(m=x.to,u=""),C.className&&(a+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&x.from==p&&(c+=" "+C.startStyle),C.endStyle&&x.to==m&&(b||(b=[])).push(C.endStyle,x.to),C.title&&!h&&(h=C.title),C.collapsed&&(!f||Pe(f.marker,C)<0)&&(f=x)):x.from>p&&m>x.from&&(m=x.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==m&&(u+=" "+b[S]);if(!f||f.from==p)for(var L=0;L<y.length;++L)tr(t,0,y[L]);if(f&&(f.from||0)==p){if(tr(t,(null==f.to?d+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(p>=d)break;for(var k=Math.min(d,m);;){if(v){var T=p+v.length;if(!f){var M=T>k?v.slice(0,k-p):v;t.addToken(t,M,l?l+a:a,c,p+M.length==m?u:"",h,s)}if(T>=k){v=v.slice(k-p),p=k;break}p=T,c=""}v=i.slice(o,o=r[g++]),l=qt(r[g++],t.cm.options)}}else for(var N=1;N<r.length;N+=2)t.addToken(t,i.slice(o,o=r[N]),qt(r[N+1],t.cm.options))}function nr(e,t,r){this.line=t,this.rest=function(e){for(var t,r;t=ze(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}(t),this.size=this.rest?he($(this.rest))-r+1:1,this.node=this.text=null,this.hidden=Ke(e,t)}function ir(e,t,r){for(var n,i=[],o=t;o<r;o=n){var l=new nr(e.doc,se(e.doc,o),o);n=o+l.size,i.push(l)}return i}var or=null;var lr=null;function sr(e,t){var r=tt(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);or?n=or.delayedCallbacks:lr?n=lr:(n=lr=[],setTimeout(ar,0));for(var o=function(e){n.push(function(){return r[e].apply(null,i)})},l=0;l<r.length;++l)o(l)}}function ar(){var e=lr;lr=null;for(var t=0;t<e.length;++t)e[t]()}function ur(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?fr(e,t):"gutter"==o?pr(e,t,r,n):"class"==o?dr(e,t):"widget"==o&&gr(e,t,n)}t.changes=null}function cr(e){return e.node==e.text&&(e.node=O("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),l&&s<8&&(e.node.style.zIndex=2)),e.node}function hr(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):Zt(e,t)}function fr(e,t){var r=t.text.className,n=hr(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,dr(e,t)):r&&(t.text.className=r)}function dr(e,t){!function(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),
t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var n=cr(t);t.background=n.insertBefore(O("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?cr(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function pr(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=cr(t);t.gutterBackground=O("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var l=cr(t),s=t.gutter=O("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),l.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(O("div",pe(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var a=0;a<e.options.gutters.length;++a){var u=e.options.gutters[a],c=o.hasOwnProperty(u)&&o[u];c&&s.appendChild(O("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[u]+"px; width: "+n.gutterWidth[u]+"px"))}}}function gr(e,t,r){t.alignable&&(t.alignable=null);for(var n=t.node.firstChild,i=void 0;n;n=i)i=n.nextSibling,"CodeMirror-linewidget"==n.className&&t.node.removeChild(n);mr(e,t,r)}function vr(e,t,r,n){var i=hr(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),dr(e,t),pr(e,t,r,n),mr(e,t,n),t.node}function mr(e,t,r){if(yr(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)yr(e,t.rest[n],t,r,!1)}function yr(e,t,r,n,i){if(t.widgets)for(var o=cr(r),l=0,s=t.widgets;l<s.length;++l){var a=s[l],u=O("div",[a.node],"CodeMirror-linewidget");a.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),br(a,u,r,n),e.display.input.setUneditable(u),i&&a.above?o.insertBefore(u,r.gutter||r.text):o.appendChild(u),sr(a,"redraw")}}function br(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function wr(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!D(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),N(t.display.measure,O("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function xr(e,t){for(var r=ft(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Cr(e){return e.lineSpace.offsetTop}function Sr(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Lr(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=N(e.measure,O("pre","x")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function kr(e){return G-e.display.nativeBarWidth}function Tr(e){return e.display.scroller.clientWidth-kr(e)-e.display.barWidth}function Mr(e){return e.display.scroller.clientHeight-kr(e)-e.display.barHeight}function Nr(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(he(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Or(e,t,r,n){return Wr(e,Dr(e,t),r,n)}function Ar(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[an(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Dr(e,t){var r=he(t),n=Ar(e,r);n&&!n.text?n=null:n&&n.changes&&(ur(e,n,r,rn(e)),e.curOp.forceUpdate=!0),n||(n=function(e,t){var r=he(t=Ge(t)),n=e.display.externalMeasured=new nr(e.doc,t,r);n.lineN=r;var i=n.built=Zt(e,n);return n.text=i.pre,N(e.display.lineMeasure,i.pre),n}(e,t));var i=Nr(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Wr(e,t,r,n,i){t.before&&(r=-1);var o,a=r+(n||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(!function(e,t,r){var n=e.options.lineWrapping,i=n&&Tr(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var l=t.text.firstChild.getClientRects(),s=0;s<l.length-1;s++){var a=l[s],u=l[s+1];Math.abs(a.bottom-u.bottom)>2&&o.push((a.bottom+u.top)/2-r.top)}}o.push(r.bottom-r.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,r,n){var i,o=Pr(t.map,r,n),a=o.node,u=o.start,c=o.end,h=o.collapse;if(3==a.nodeType){for(var f=0;f<4;f++){for(;u&&ie(t.line.text.charAt(o.coverStart+u));)--u;for(;o.coverStart+c<o.coverEnd&&ie(t.line.text.charAt(o.coverStart+c));)++c;if((i=l&&s<9&&0==u&&c==o.coverEnd-o.coverStart?a.parentNode.getBoundingClientRect():Er(k(a,u,c).getClientRects(),n)).left||i.right||0==u)break;c=u,u-=1,h="right"}l&&s<11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=St)return St;var t=N(e,O("span","x")),r=t.getBoundingClientRect(),n=k(t,0,1).getBoundingClientRect();return St=Math.abs(r.left-n.left)>1}(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}(e.display.measure,i))}else{var d;u>0&&(h=n="right"),i=e.options.lineWrapping&&(d=a.getClientRects()).length>1?d["right"==n?d.length-1:0]:a.getBoundingClientRect()}if(l&&s<9&&!u&&(!i||!i.left&&!i.right)){var p=a.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+tn(e.display),top:p.top,bottom:p.bottom}:Fr}for(var g=i.top-t.rect.top,v=i.bottom-t.rect.top,m=(g+v)/2,y=t.view.measure.heights,b=0;b<y.length-1&&!(m<y[b]);b++);var w=b?y[b-1]:0,x=y[b],C={left:("right"==h?i.right:i.left)-t.rect.left,right:("left"==h?i.left:i.right)-t.rect.left,top:w,bottom:x};i.left||i.right||(C.bogus=!0);e.options.singleCursorHeightPerLine||(C.rtop=g,C.rbottom=v);return C}(e,t,r,n)).bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Hr,Fr={left:0,right:0,top:0,bottom:0};function Pr(e,t,r){for(var n,i,o,l,s,a,u=0;u<e.length;u+=3)if(s=e[u],a=e[u+1],t<s?(i=0,o=1,l="left"):t<a?o=(i=t-s)+1:(u==e.length-3||t==a&&e[u+3]>t)&&(i=(o=a-s)-1,t>=a&&(l="right")),null!=i){if(n=e[u+2],s==a&&r==(n.insertLeft?"left":"right")&&(l=r),"left"==r&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)n=e[2+(u-=3)],l="left";if("right"==r&&i==a-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)n=e[(u+=3)+2],l="right";break}return{node:n,start:i,end:o,collapse:l,coverStart:s,coverEnd:a}}function Er(e,t){var r=Fr;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function Ir(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function zr(e){e.display.externalMeasure=null,M(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Ir(e.display.view[t])}function Rr(e){zr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Br(){return c&&v?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Gr(){return c&&v?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ur(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=wr(e.widgets[r]));return t}function Vr(e,t,r,n,i){if(!i){var o=Ur(t);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var l=Xe(t);if("local"==n?l+=Cr(e.display):l-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();l+=s.top+("window"==n?0:Gr());var a=s.left+("window"==n?0:Br());r.left+=a,r.right+=a}return r.top+=l,r.bottom+=l,r}function Kr(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=Br(),i-=Gr();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var l=e.display.lineSpace.getBoundingClientRect();return{left:n-l.left,top:i-l.top}}function jr(e,t,r,n,i){return n||(n=se(e.doc,t.line)),Vr(e,n,Or(e,n,t.ch,i),r)}function Xr(e,t,r,n,i,o){function l(t,l){var s=Wr(e,i,t,l?"right":"left",o);return l?s.left=s.right:s.right=s.left,Vr(e,n,s,r)}n=n||se(e.doc,t.line),i||(i=Dr(e,n));var s=Qe(n,e.doc.direction),a=t.ch,u=t.sticky;if(a>=n.text.length?(a=n.text.length,u="before"):a<=0&&(a=0,u="after"),!s)return l("before"==u?a-1:a,"before"==u);function c(e,t,r){var n=1==s[t].level;return l(r?e-1:e,n!=r)}var h=qe(s,a,u),f=$e,d=c(a,h,"before"==u);return null!=f&&(d.other=c(a,f,"before"!=u)),d}function Yr(e,t){var r=0;t=Ce(e.doc,t),e.options.lineWrapping||(r=tn(e.display)*t.ch);var n=se(e.doc,t.line),i=Xe(n)+Cr(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function _r(e,t,r,n,i){var o=ge(e,t,r);return o.xRel=i,n&&(o.outside=!0),o}function $r(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return _r(n.first,0,null,!0,-1);var i=fe(n,r),o=n.first+n.size-1;if(i>o)return _r(n.first+n.size-1,se(n,o).text.length,null,!0,1);t<0&&(t=0);for(var l=se(n,i);;){var s=Jr(e,l,i,t,r),a=Re(l,s.ch+(s.xRel>0?1:0));if(!a)return s;var u=a.find(1);if(u.line==i)return u;l=se(n,i=u.line)}}function qr(e,t,r,n){n-=Ur(t);var i=t.text.length,o=le(function(t){return Wr(e,r,t-1).bottom<=n},i,0);return{begin:o,end:i=le(function(t){return Wr(e,r,t).top>n},o,i)}}function Zr(e,t,r,n){return r||(r=Dr(e,t)),qr(e,t,r,Vr(e,t,Wr(e,r,n),"line").top)}function Qr(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function Jr(e,t,r,n,i){i-=Xe(t);var o=Dr(e,t),l=Ur(t),s=0,a=t.text.length,u=!0,c=Qe(t,e.doc.direction);if(c){var h=(e.options.lineWrapping?function(e,t,r,n,i,o,l){var s=qr(e,t,n,l),a=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,h=null,f=0;f<i.length;f++){var d=i[f];if(!(d.from>=u||d.to<=a)){var p=1!=d.level,g=Wr(e,n,p?Math.min(u,d.to)-1:Math.max(a,d.from)).right,v=g<o?o-g+1e9:g-o;(!c||h>v)&&(c=d,h=v)}}c||(c=i[i.length-1]);c.from<a&&(c={from:a,to:c.to,level:c.level});c.to>u&&(c={from:c.from,to:u,level:c.level});return c}:function(e,t,r,n,i,o,l){var s=le(function(s){var a=i[s],u=1!=a.level;return Qr(Xr(e,ge(r,u?a.to:a.from,u?"before":"after"),"line",t,n),o,l,!0)},0,i.length-1),a=i[s];if(s>0){var u=1!=a.level,c=Xr(e,ge(r,u?a.from:a.to,u?"after":"before"),"line",t,n);Qr(c,o,l,!0)&&c.top>l&&(a=i[s-1])}return a})(e,t,r,o,c,n,i);s=(u=1!=h.level)?h.from:h.to-1,a=u?h.to:h.from-1}var f,d,p=null,g=null,v=le(function(t){var r=Wr(e,o,t);return r.top+=l,r.bottom+=l,!!Qr(r,n,i,!1)&&(r.top<=i&&r.left<=n&&(p=t,g=r),!0)},s,a),m=!1;if(g){var y=n-g.left<g.right-n,b=y==u;v=p+(b?0:1),d=b?"after":"before",f=y?g.left:g.right}else{u||v!=a&&v!=s||v++,d=0==v?"after":v==t.text.length?"before":Wr(e,o,v-(u?1:0)).bottom+l<=i==u?"after":"before";var w=Xr(e,ge(r,v,d),"line",t,o);f=w.left,m=i<w.top||i>=w.bottom}return _r(r,v=oe(t.text,v,1),d,m,n-f)}function en(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Hr){Hr=O("pre");for(var t=0;t<49;++t)Hr.appendChild(document.createTextNode("x")),Hr.appendChild(O("br"));Hr.appendChild(document.createTextNode("x"))}N(e.measure,Hr);var r=Hr.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),M(e.measure),r||1}function tn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=O("span","xxxxxxxxxx"),r=O("pre",[t]);N(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function rn(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,l=0;o;o=o.nextSibling,++l)r[e.options.gutters[l]]=o.offsetLeft+o.clientLeft+i,n[e.options.gutters[l]]=o.clientWidth;return{fixedPos:nn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function nn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function on(e){var t=en(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/tn(e.display)-3);return function(i){if(Ke(e.doc,i))return 0;var o=0;if(i.widgets)for(var l=0;l<i.widgets.length;l++)i.widgets[l].height&&(o+=i.widgets[l].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function ln(e){var t=e.doc,r=on(e);t.iter(function(e){var t=r(e);t!=e.height&&ce(e,t)})}function sn(e,t,r,n){var i=e.display;if(!r&&"true"==ft(t).getAttribute("cm-not-content"))return null;var o,l,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,l=t.clientY-s.top}catch(t){return null}var a,u=$r(e,o,l);if(n&&1==u.xRel&&(a=se(e.doc,u.line).text).length==u.ch){var c=z(a,a.length,e.options.tabSize)-a.length;u=ge(u.line,Math.max(0,Math.round((o-Lr(e.display).left)/tn(e.display))-c))}return u}function an(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function un(e){e.display.input.showSelection(e.display.input.prepareSelection())}function cn(e,t){void 0===t&&(t=!0);for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),l=0;l<r.sel.ranges.length;l++)if(t||l!=r.sel.primIndex){var s=r.sel.ranges[l];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var a=s.empty();(a||e.options.showCursorWhenSelecting)&&hn(e,s.head,i),a||dn(e,s,o)}}return n}function hn(e,t,r){var n=Xr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(O("div","","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var o=r.appendChild(O("div","","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function fn(e,t){return e.top-t.top||e.left-t.left}function dn(e,t,r){var n=e.display,i=e.doc,o=document.createDocumentFragment(),l=Lr(e.display),s=l.left,a=Math.max(n.sizerWidth,Tr(e)-n.sizer.offsetLeft)-l.right,u="ltr"==i.direction;function c(e,t,r,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),o.appendChild(O("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?a-e:r)+"px;\n                             height: "+(n-t)+"px"))}function h(t,r,n){var o,l,h=se(i,t),f=h.text.length;function d(r,n){return jr(e,ge(t,r),"div",h,n)}function p(t,r,n){var i=Zr(e,h,null,t),o="ltr"==r==("after"==n)?"left":"right";return d("after"==n?i.begin:i.end-(/\s/.test(h.text.charAt(i.end-1))?2:1),o)[o]}var g=Qe(h,i.direction);return function(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var l=e[o];(l.from<r&&l.to>t||t==r&&l.to==t)&&(n(Math.max(l.from,t),Math.min(l.to,r),1==l.level?"rtl":"ltr",o),i=!0)}i||n(t,r,"ltr")}(g,r||0,null==n?f:n,function(e,t,i,h){var v="ltr"==i,m=d(e,v?"left":"right"),y=d(t-1,v?"right":"left"),b=null==r&&0==e,w=null==n&&t==f,x=0==h,C=!g||h==g.length-1;if(y.top-m.top<=3){var S=(u?w:b)&&C,L=(u?b:w)&&x?s:(v?m:y).left,k=S?a:(v?y:m).right;c(L,m.top,k-L,m.bottom)}else{var T,M,N,O;v?(T=u&&b&&x?s:m.left,M=u?a:p(e,i,"before"),N=u?s:p(t,i,"after"),O=u&&w&&C?a:y.right):(T=u?p(e,i,"before"):s,M=!u&&b&&x?a:m.right,N=!u&&w&&C?s:y.left,O=u?p(t,i,"after"):a),c(T,m.top,M-T,m.bottom),m.bottom<y.top&&c(s,m.bottom,null,y.top),c(N,y.top,O-N,y.bottom)}(!o||fn(m,o)<0)&&(o=m),fn(y,o)<0&&(o=y),(!l||fn(m,l)<0)&&(l=m),fn(y,l)<0&&(l=y)}),{start:o,end:l}}var f=t.from(),d=t.to();if(f.line==d.line)h(f.line,f.ch,d.ch);else{var p=se(i,f.line),g=se(i,d.line),v=Ge(p)==Ge(g),m=h(f.line,f.ch,v?p.text.length+1:null).end,y=h(d.line,v?0:null,d.ch).start;v&&(m.top<y.top-2?(c(m.right,m.top,null,m.bottom),c(s,y.top,y.left,y.bottom)):c(m.right,m.top,y.left-m.right,m.bottom)),m.bottom<y.top&&c(s,m.bottom,null,y.top)}r.appendChild(o)}function pn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function gn(e){e.state.focused||(e.display.input.focus(),mn(e))}function vn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,yn(e))},100)}function mn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(nt(e,"focus",e,t),e.state.focused=!0,H(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),a&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),pn(e))}function yn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(nt(e,"blur",e,t),e.state.focused=!1,T(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function bn(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i=t.view[n],o=void 0;if(!i.hidden){if(l&&s<8){var a=i.node.offsetTop+i.node.offsetHeight;o=a-r,r=a}else{var u=i.node.getBoundingClientRect();o=u.bottom-u.top}var c=i.line.height-o;if(o<2&&(o=en(t)),(c>.005||c<-.005)&&(ce(i.line,o),wn(i.line),i.rest))for(var h=0;h<i.rest.length;h++)wn(i.rest[h])}}}function wn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function xn(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Cr(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=fe(t,n),l=fe(t,i);if(r&&r.ensure){var s=r.ensure.from.line,a=r.ensure.to.line;s<o?(o=s,l=fe(t,Xe(se(t,s))+e.wrapper.clientHeight)):Math.min(a,t.lastLine())>=l&&(o=fe(t,Xe(se(t,a))-e.wrapper.clientHeight),l=a)}return{from:o,to:Math.max(l,o+1)}}function Cn(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=nn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",l=0;l<r.length;l++)if(!r[l].hidden){e.options.fixedGutter&&(r[l].gutter&&(r[l].gutter.style.left=o),r[l].gutterBackground&&(r[l].gutterBackground.style.left=o));var s=r[l].alignable;if(s)for(var a=0;a<s.length;a++)s[a].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function Sn(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=pe(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(O("div",[O("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,l=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-l)+1,n.lineNumWidth=n.lineNumInnerWidth+l,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",ai(e),!0}return!1}function Ln(e,t){var r=e.display,n=en(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,o=Mr(e),l={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+Sr(r),a=t.top<n,u=t.bottom>s-n;if(t.top<i)l.scrollTop=a?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(u?s:t.bottom)-o);c!=i&&(l.scrollTop=c)}var h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft,f=Tr(e)-(e.options.fixedGutter?r.gutters.offsetWidth:0),d=t.right-t.left>f;return d&&(t.right=t.left+f),t.left<10?l.scrollLeft=0:t.left<h?l.scrollLeft=Math.max(0,t.left-(d?0:10)):t.right>f+h-3&&(l.scrollLeft=t.right+(d?0:10)-f),l}function kn(e,t){null!=t&&(Nn(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Tn(e){Nn(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Mn(e,t,r){null==t&&null==r||Nn(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function Nn(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,On(e,Yr(e,t.from),Yr(e,t.to),t.margin))}function On(e,t,r,n){var i=Ln(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});Mn(e,i.scrollLeft,i.scrollTop)}function An(e,t){Math.abs(e.doc.scrollTop-t)<2||(r||si(e,{top:t}),Dn(e,t,!0),r&&si(e),ri(e,100))}function Dn(e,t,r){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Wn(e,t,r,n){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,Cn(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Hn(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+Sr(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+kr(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var Fn=function(e,t,r){this.cm=r;var n=this.vert=O("div",[O("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=O("div",[O("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=i.tabIndex=-1,e(n),e(i),et(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),et(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,l&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Fn.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},Fn.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Fn.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Fn.prototype.zeroWidthHack=function(){var e=y&&!d?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new R,this.disableVert=new R},Fn.prototype.enableZeroWidthBar=function(e,t,r){e.style.pointerEvents="auto",t.set(1e3,function n(){var i=e.getBoundingClientRect();("vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)})},Fn.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Pn=function(){};function En(e,t){t||(t=Hn(e));var r=e.display.barWidth,n=e.display.barHeight;In(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&bn(e),In(e,Hn(e)),r=e.display.barWidth,n=e.display.barHeight}function In(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}Pn.prototype.update=function(){return{bottom:0,right:0}},Pn.prototype.setScrollLeft=function(){},Pn.prototype.setScrollTop=function(){},Pn.prototype.clear=function(){};var zn={native:Fn,null:Pn};function Rn(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&T(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new zn[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),et(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){"horizontal"==r?Wn(e,t):An(e,t)},e),e.display.scrollbars.addClass&&H(e.display.wrapper,e.display.scrollbars.addClass)}var Bn=0;function Gn(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Bn},t=e.curOp,or?or.ops.push(t):t.ownsGroup=or={ops:[t],delayedCallbacks:[]}}function Un(e){!function(e,t){var r=e.ownsGroup;if(r)try{!function(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}(r)}finally{or=null,t(r)}}(e.curOp,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,r=0;r<t.length;r++)Vn(t[r]);for(var n=0;n<t.length;n++)(i=t[n]).updatedDisplay=i.mustUpdate&&oi(i.cm,i.update);var i;for(var o=0;o<t.length;o++)Kn(t[o]);for(var l=0;l<t.length;l++)jn(t[l]);for(var s=0;s<t.length;s++)Xn(t[s])}(e)})}function Vn(e){var t=e.cm,r=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=kr(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=kr(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&_e(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ii(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Kn(e){var t=e.cm,r=t.display;e.updatedDisplay&&bn(t),e.barMeasure=Hn(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Or(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+kr(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Tr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function jn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Wn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==W();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&En(t,e.barMeasure),e.updatedDisplay&&ui(t,e.barMeasure),e.selectionChanged&&pn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&gn(e.cm)}function Xn(e){var t=e.cm,r=t.display,n=t.doc;(e.updatedDisplay&&li(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&Dn(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Wn(t,e.scrollLeft,!0,!0),e.scrollToPos)&&function(e,t){if(!it(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),i=null;if(t.top+n.top<0?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!p){var o=O("div","",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-Cr(e.display))+"px;\n                         height: "+(t.bottom-t.top+kr(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,r,n){var i;null==n&&(n=0),e.options.lineWrapping||t!=r||(r="before"==(t=t.ch?ge(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?ge(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var l=!1,s=Xr(e,t),a=r&&r!=t?Xr(e,r):s,u=Ln(e,i={left:Math.min(s.left,a.left),top:Math.min(s.top,a.top)-n,right:Math.max(s.left,a.left),bottom:Math.max(s.bottom,a.bottom)+n}),c=e.doc.scrollTop,h=e.doc.scrollLeft;if(null!=u.scrollTop&&(An(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(l=!0)),null!=u.scrollLeft&&(Wn(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-h)>1&&(l=!0)),!l)break}return i}(t,Ce(n,e.scrollToPos.from),Ce(n,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var l=0;l<i.length;++l)i[l].lines.length||nt(i[l],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&nt(o[s],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&nt(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Yn(e,t){if(e.curOp)return t();Gn(e);try{return t()}finally{Un(e)}}function _n(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Gn(e);try{return t.apply(e,arguments)}finally{Un(e)}}}function $n(e){return function(){if(this.curOp)return e.apply(this,arguments);Gn(this);try{return e.apply(this,arguments)}finally{Un(this)}}}function qn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Gn(t);try{return e.apply(this,arguments)}finally{Un(t)}}}function Zn(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)ke&&Ue(e.doc,t)<i.viewTo&&Jn(e);else if(r<=i.viewFrom)ke&&Ve(e.doc,r+n)>i.viewFrom?Jn(e):(i.viewFrom+=n,
i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)Jn(e);else if(t<=i.viewFrom){var o=ei(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):Jn(e)}else if(r>=i.viewTo){var l=ei(e,t,t,-1);l?(i.view=i.view.slice(0,l.index),i.viewTo=l.lineN):Jn(e)}else{var s=ei(e,t,t,-1),a=ei(e,r,r+n,1);s&&a?(i.view=i.view.slice(0,s.index).concat(ir(e,s.lineN,a.lineN)).concat(i.view.slice(a.index)),i.viewTo+=n):Jn(e)}var u=i.externalMeasured;u&&(r<u.lineN?u.lineN+=n:t<u.lineN+u.size&&(i.externalMeasured=null))}function Qn(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[an(e,t)];if(null!=o.node){var l=o.changes||(o.changes=[]);-1==B(l,r)&&l.push(r)}}}function Jn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function ei(e,t,r,n){var i,o=an(e,t),l=e.display.view;if(!ke||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var s=e.display.viewFrom,a=0;a<o;a++)s+=l[a].size;if(s!=t){if(n>0){if(o==l.length-1)return null;i=s+l[o].size-t,o++}else i=s-t;t+=i,r+=i}for(;Ue(e.doc,r)!=r;){if(o==(n<0?0:l.length-1))return null;r+=n*l[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function ti(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function ri(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,E(ni,e))}function ni(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=zt(e,t.highlightFrontier),i=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(n.line>=e.display.viewFrom){var l=o.styles,s=o.text.length>e.options.maxHighlightLength?At(t.mode,n.state):null,a=Et(e,o,n,!0);s&&(n.state=s),o.styles=a.styles;var u=o.styleClasses,c=a.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var h=!l||l.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),f=0;!h&&f<l.length;++f)h=l[f]!=o.styles[f];h&&i.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=e.options.maxHighlightLength&&Rt(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return ri(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),i.length&&Yn(e,function(){for(var t=0;t<i.length;t++)Qn(e,i[t],"text")})}}var ii=function(e,t,r){var n=e.display;this.viewport=t,this.visible=xn(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Tr(e),this.force=r,this.dims=rn(e),this.events=[]};function oi(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return Jn(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==ti(e))return!1;Sn(e)&&(Jn(e),t.dims=rn(e));var i=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),l=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>l&&r.viewTo-l<20&&(l=Math.min(i,r.viewTo)),ke&&(o=Ue(e.doc,o),l=Ve(e.doc,l));var s=o!=r.viewFrom||l!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;!function(e,t,r){var n=e.display;0==n.view.length||t>=n.viewTo||r<=n.viewFrom?(n.view=ir(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=ir(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(an(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(ir(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,an(e,r)))),n.viewTo=r}(e,o,l),r.viewOffset=Xe(se(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var u=ti(e);if(!s&&0==u&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var c=function(e){if(e.hasFocus())return null;var t=W();if(!t||!D(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&D(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}(e);return u>4&&(r.lineDiv.style.display="none"),function(e,t,r){var n=e.display,i=e.options.lineNumbers,o=n.lineDiv,l=o.firstChild;function s(t){var r=t.nextSibling;return a&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var u=n.view,c=n.viewFrom,h=0;h<u.length;h++){var f=u[h];if(f.hidden);else if(f.node&&f.node.parentNode==o){for(;l!=f.node;)l=s(l);var d=i&&null!=t&&t<=c&&f.lineNumber;f.changes&&(B(f.changes,"gutter")>-1&&(d=!1),ur(e,f,c,r)),d&&(M(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(pe(e.options,c)))),l=f.node.nextSibling}else{var p=vr(e,f,c,r);o.insertBefore(p,l)}c+=f.size}for(;l;)l=s(l)}(e,r.updateLineNumbers,t.dims),u>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,function(e){if(e&&e.activeElt&&e.activeElt!=W()&&(e.activeElt.focus(),e.anchorNode&&D(document.body,e.anchorNode)&&D(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}(c),M(r.cursorDiv),M(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,s&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,ri(e,400)),r.updateLineNumbers=null,!0}function li(e,t){for(var r=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Tr(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+Sr(e.display)-Mr(e),r.top)}),t.visible=xn(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&oi(e,t);n=!1){bn(e);var i=Hn(e);un(e),En(e,i),ui(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function si(e,t){var r=new ii(e,t);if(oi(e,r)){bn(e),li(e,r);var n=Hn(e);un(e),En(e,n),ui(e,n),r.finish()}}function ai(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function ui(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+kr(e)+"px"}function ci(e){var t=e.display.gutters,r=e.options.gutters;M(t);for(var n=0;n<r.length;++n){var i=r[n],o=t.appendChild(O("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",ai(e)}function hi(e){var t=B(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}ii.prototype.signal=function(e,t){lt(e,t)&&this.events.push(arguments)},ii.prototype.finish=function(){for(var e=0;e<this.events.length;e++)nt.apply(null,this.events[e])};var fi=0,di=null;function pi(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function gi(e){var t=pi(e);return t.x*=di,t.y*=di,t}function vi(e,t){var n=pi(t),i=n.x,o=n.y,l=e.display,s=l.scroller,u=s.scrollWidth>s.clientWidth,c=s.scrollHeight>s.clientHeight;if(i&&u||o&&c){if(o&&y&&a)e:for(var f=t.target,d=l.view;f!=s;f=f.parentNode)for(var p=0;p<d.length;p++)if(d[p].node==f){e.display.currentWheelTarget=f;break e}if(i&&!r&&!h&&null!=di)return o&&c&&An(e,Math.max(0,s.scrollTop+o*di)),Wn(e,Math.max(0,s.scrollLeft+i*di)),(!o||o&&c)&&at(t),void(l.wheelStartX=null);if(o&&null!=di){var g=o*di,v=e.doc.scrollTop,m=v+l.wrapper.clientHeight;g<0?v=Math.max(0,v+g-50):m=Math.min(e.doc.height,m+g+50),si(e,{top:v,bottom:m})}fi<20&&(null==l.wheelStartX?(l.wheelStartX=s.scrollLeft,l.wheelStartY=s.scrollTop,l.wheelDX=i,l.wheelDY=o,setTimeout(function(){if(null!=l.wheelStartX){var e=s.scrollLeft-l.wheelStartX,t=s.scrollTop-l.wheelStartY,r=t&&l.wheelDY&&t/l.wheelDY||e&&l.wheelDX&&e/l.wheelDX;l.wheelStartX=l.wheelStartY=null,r&&(di=(di*fi+r)/(fi+1),++fi)}},200)):(l.wheelDX+=i,l.wheelDY+=o))}}l?di=-.53:r?di=15:c?di=-.7:f&&(di=-1/3);var mi=function(e,t){this.ranges=e,this.primIndex=t};mi.prototype.primary=function(){return this.ranges[this.primIndex]},mi.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!me(r.anchor,n.anchor)||!me(r.head,n.head))return!1}return!0},mi.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new yi(ye(this.ranges[t].anchor),ye(this.ranges[t].head));return new mi(e,this.primIndex)},mi.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},mi.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(ve(t,n.from())>=0&&ve(e,n.to())<=0)return r}return-1};var yi=function(e,t){this.anchor=e,this.head=t};function bi(e,t){var r=e[t];e.sort(function(e,t){return ve(e.from(),t.from())}),t=B(e,r);for(var n=1;n<e.length;n++){var i=e[n],o=e[n-1];if(ve(o.to(),i.from())>=0){var l=we(o.from(),i.from()),s=be(o.to(),i.to()),a=o.empty()?i.from()==i.head:o.from()==o.head;n<=t&&--t,e.splice(--n,2,new yi(a?s:l,a?l:s))}}return new mi(e,t)}function wi(e,t){return new mi([new yi(e,t||e)],0)}function xi(e){return e.text?ge(e.from.line+e.text.length-1,$(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Ci(e,t){if(ve(e,t.from)<0)return e;if(ve(e,t.to)<=0)return xi(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=xi(t).ch-t.to.ch),ge(r,n)}function Si(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new yi(Ci(i.anchor,t),Ci(i.head,t)))}return bi(r,e.sel.primIndex)}function Li(e,t,r){return e.line==t.line?ge(r.line,e.ch-t.ch+r.ch):ge(r.line+(e.line-t.line),e.ch)}function ki(e){e.doc.mode=Mt(e.options,e.doc.modeOption),Ti(e)}function Ti(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ri(e,100),e.state.modeGen++,e.curOp&&Zn(e)}function Mi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==$(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ni(e,t,r,n){function i(e){return r?r[e]:null}function o(e,r,i){!function(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),De(e),We(e,r);var i=n?n(e):1;i!=e.height&&ce(e,i)}(e,r,i,n),sr(e,"change",e,t)}function l(e,t){for(var r=[],o=e;o<t;++o)r.push(new Xt(u[o],i(o),n));return r}var s=t.from,a=t.to,u=t.text,c=se(e,s.line),h=se(e,a.line),f=$(u),d=i(u.length-1),p=a.line-s.line;if(t.full)e.insert(0,l(0,u.length)),e.remove(u.length,e.size-u.length);else if(Mi(e,t)){var g=l(0,u.length-1);o(h,h.text,d),p&&e.remove(s.line,p),g.length&&e.insert(s.line,g)}else if(c==h)if(1==u.length)o(c,c.text.slice(0,s.ch)+f+c.text.slice(a.ch),d);else{var v=l(1,u.length-1);v.push(new Xt(f+c.text.slice(a.ch),d,n)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,v)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+h.text.slice(a.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(h,f+h.text.slice(a.ch),d);var m=l(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,m)}sr(e,"change",e,t)}function Oi(e,t,r){!function e(n,i,o){if(n.linked)for(var l=0;l<n.linked.length;++l){var s=n.linked[l];if(s.doc!=i){var a=o&&s.sharedHist;r&&!a||(t(s.doc,a),e(s.doc,n,a))}}}(e,null,!0)}function Ai(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,ln(e),ki(e),Di(e),e.options.lineWrapping||_e(e),e.options.mode=t.modeOption,Zn(e)}function Di(e){("rtl"==e.doc.direction?H:T)(e.display.lineDiv,"CodeMirror-rtl")}function Wi(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Hi(e,t){var r={from:ye(t.from),to:xi(t),text:ae(e,t.from,t.to)};return zi(e,r,t.from.line,t.to.line+1),Oi(e,function(e){return zi(e,r,t.from.line,t.to.line+1)},!0),r}function Fi(e){for(;e.length;){if(!$(e).ranges)break;e.pop()}}function Pi(e,t,r,n){var i=e.history;i.undone.length=0;var o,l,s=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(Fi(e.done),$(e.done)):e.done.length&&!$(e.done).ranges?$(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),$(e.done)):void 0}(i,i.lastOp==n)))l=$(o.changes),0==ve(t.from,t.to)&&0==ve(t.from,l.to)?l.to=xi(t):o.changes.push(Hi(e,t));else{var a=$(i.done);for(a&&a.ranges||Ii(e.sel,i.done),o={changes:[Hi(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,l||nt(e,"historyAdded")}function Ei(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,$(i.done),t))?i.done[i.done.length-1]=t:Ii(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&!1!==n.clearRedo&&Fi(i.undone)}function Ii(e,t){var r=$(t);r&&r.ranges&&r.equals(e)||t.push(e)}function zi(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o})}function Ri(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function Bi(e,t){var r=function(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push(Ri(r[i]));return n}(e,t),n=Oe(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],l=n[i];if(o&&l)e:for(var s=0;s<l.length;++s){for(var a=l[s],u=0;u<o.length;++u)if(o[u].marker==a.marker)continue e;o.push(a)}else l&&(r[i]=l)}return r}function Gi(e,t,r){for(var n=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)n.push(r?mi.prototype.deepCopy.call(o):o);else{var l=o.changes,s=[];n.push({changes:s});for(var a=0;a<l.length;++a){var u=l[a],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var h in u)(c=h.match(/^spans_(\d+)$/))&&B(t,Number(c[1]))>-1&&($(s)[h]=u[h],delete u[h])}}}return n}function Ui(e,t,r,n){if(n){var i=e.anchor;if(r){var o=ve(t,i)<0;o!=ve(r,i)<0?(i=t,t=r):o!=ve(t,r)<0&&(t=r)}return new yi(i,t)}return new yi(r||t,t)}function Vi(e,t,r,n,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),_i(e,new mi([Ui(e.sel.primary(),t,r,i)],0),n)}function Ki(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=Ui(e.sel.ranges[o],t[o],null,i);_i(e,bi(n,e.sel.primIndex),r)}function ji(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,_i(e,bi(i,e.sel.primIndex),n)}function Xi(e,t,r,n){_i(e,wi(t,r),n)}function Yi(e,t,r){var n=e.history.done,i=$(n);i&&i.ranges?(n[n.length-1]=t,$i(e,t,r)):_i(e,t,r)}function _i(e,t,r){$i(e,t,r),Ei(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function $i(e,t,r){(lt(e,"beforeSelectionChange")||e.cm&&lt(e.cm,"beforeSelectionChange"))&&(t=function(e,t,r){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var r=0;r<t.length;r++)this.ranges[r]=new yi(Ce(e,t[r].anchor),Ce(e,t[r].head))},origin:r&&r.origin};return nt(e,"beforeSelectionChange",e,n),e.cm&&nt(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?bi(n.ranges,n.ranges.length-1):t}(e,t,r)),qi(e,Qi(e,t,r&&r.bias||(ve(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),r&&!1===r.scroll||!e.cm||Tn(e.cm)}function qi(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,ot(e.cm)),sr(e,"cursorActivity",e))}function Zi(e){qi(e,Qi(e,e.sel,null,!1))}function Qi(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var l=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],a=eo(e,l.anchor,s&&s.anchor,r,n),u=eo(e,l.head,s&&s.head,r,n);(i||a!=l.anchor||u!=l.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new yi(a,u))}return i?bi(i,t.primIndex):t}function Ji(e,t,r,n,i){var o=se(e,t.line);if(o.markedSpans)for(var l=0;l<o.markedSpans.length;++l){var s=o.markedSpans[l],a=s.marker;if((null==s.from||(a.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(a.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(nt(a,"beforeCursorEnter"),a.explicitlyCleared)){if(o.markedSpans){--l;continue}break}if(!a.atomic)continue;if(r){var u=a.find(n<0?1:-1),c=void 0;if((n<0?a.inclusiveRight:a.inclusiveLeft)&&(u=to(e,u,-n,u&&u.line==t.line?o:null)),u&&u.line==t.line&&(c=ve(u,r))&&(n<0?c<0:c>0))return Ji(e,u,t,n,i)}var h=a.find(n<0?-1:1);return(n<0?a.inclusiveLeft:a.inclusiveRight)&&(h=to(e,h,n,h.line==t.line?o:null)),h?Ji(e,h,t,n,i):null}}return t}function eo(e,t,r,n,i){var o=n||1,l=Ji(e,t,r,o,i)||!i&&Ji(e,t,r,o,!0)||Ji(e,t,r,-o,i)||!i&&Ji(e,t,r,-o,!0);return l||(e.cantEdit=!0,ge(e.first,0))}function to(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?Ce(e,ge(t.line-1)):null:r>0&&t.ch==(n||se(e,t.line)).text.length?t.line<e.first+e.size-1?ge(t.line+1,0):null:new ge(t.line,t.ch+r)}function ro(e){e.setSelection(ge(e.firstLine(),0),ge(e.lastLine()),V)}function no(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(t,r,i,o){t&&(n.from=Ce(e,t)),r&&(n.to=Ce(e,r)),i&&(n.text=i),void 0!==o&&(n.origin=o)}),nt(e,"beforeChange",e,n),e.cm&&nt(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function io(e,t,r){if(e.cm){if(!e.cm.curOp)return _n(e.cm,io)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(lt(e,"beforeChange")||e.cm&&lt(e.cm,"beforeChange"))||(t=no(e,t,!0))){var n=Le&&!r&&function(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=B(n,r)||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var l=n[o],s=l.find(0),a=0;a<i.length;++a){var u=i[a];if(!(ve(u.to,s.from)<0||ve(u.from,s.to)>0)){var c=[a,1],h=ve(u.from,s.from),f=ve(u.to,s.to);(h<0||!l.inclusiveLeft&&!h)&&c.push({from:u.from,to:s.from}),(f>0||!l.inclusiveRight&&!f)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),a+=c.length-3}}return i}(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)oo(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else oo(e,t)}}function oo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ve(t.from,t.to)){var r=Si(e,t);Pi(e,t,r,e.cm?e.cm.curOp.id:NaN),ao(e,t,r,Oe(e,t));var n=[];Oi(e,function(e,r){r||-1!=B(n,e.history)||(fo(e.history,t),n.push(e.history)),ao(e,t,null,Oe(e,t))})}}function lo(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var i,o=e.history,l=e.sel,s="undo"==t?o.done:o.undone,a="undo"==t?o.undone:o.done,u=0;u<s.length&&(i=s[u],r?!i.ranges||i.equals(e.sel):i.ranges);u++);if(u!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(n)return void s.push(i);break}if(Ii(i,a),r&&!i.equals(e.sel))return void _i(e,i,{clearRedo:!1});l=i}var c=[];Ii(l,a),a.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var h=lt(e,"beforeChange")||e.cm&&lt(e.cm,"beforeChange"),f=function(r){var n=i.changes[r];if(n.origin=t,h&&!no(e,n,!1))return s.length=0,{};c.push(Hi(e,n));var o=r?Si(e,n):$(s);ao(e,n,o,Bi(e,n)),!r&&e.cm&&e.cm.scrollIntoView({from:n.from,to:xi(n)});var l=[];Oi(e,function(e,t){t||-1!=B(l,e.history)||(fo(e.history,n),l.push(e.history)),ao(e,n,null,Bi(e,n))})},d=i.changes.length-1;d>=0;--d){var p=f(d);if(p)return p.v}}}}function so(e,t){if(0!=t&&(e.first+=t,e.sel=new mi(q(e.sel.ranges,function(e){return new yi(ge(e.anchor.line+t,e.anchor.ch),ge(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Zn(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)Qn(e.cm,n,"gutter")}}function ao(e,t,r,n){if(e.cm&&!e.cm.curOp)return _n(e.cm,ao)(e,t,r,n);if(t.to.line<e.first)so(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);so(e,i),t={from:ge(e.first,0),to:ge(t.to.line+i,t.to.ch),text:[$(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ge(o,se(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=ae(e,t.from,t.to),r||(r=Si(e,t)),e.cm?function(e,t,r){var n=e.doc,i=e.display,o=t.from,l=t.to,s=!1,a=o.line;e.options.lineWrapping||(a=he(Ge(se(n,o.line))),n.iter(a,l.line+1,function(e){if(e==i.maxLine)return s=!0,!0}));n.sel.contains(t.from,t.to)>-1&&ot(e);Ni(n,t,r,on(e)),e.options.lineWrapping||(n.iter(a,o.line+t.text.length,function(e){var t=Ye(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0));(function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var i=se(e,n).stateAfter;if(i&&(!(i instanceof Ft)||n+i.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}})(n,o.line),ri(e,400);var u=t.text.length-(l.line-o.line)-1;t.full?Zn(e):o.line!=l.line||1!=t.text.length||Mi(e.doc,t)?Zn(e,o.line,l.line+1,u):Qn(e,o.line,"text");var c=lt(e,"changes"),h=lt(e,"change");if(h||c){var f={from:o,to:l,text:t.text,removed:t.removed,origin:t.origin};h&&sr(e,"change",e,f),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}(e.cm,t,n):Ni(e,t,n),$i(e,r,V)}}function uo(e,t,r,n,i){var o;(n||(n=r),ve(n,r)<0)&&(r=(o=[n,r])[0],n=o[1]);"string"==typeof t&&(t=e.splitLines(t)),io(e,{from:r,to:n,text:t,origin:i})}function co(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function ho(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],l=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)co(o.ranges[s].anchor,t,r,n),co(o.ranges[s].head,t,r,n)}else{for(var a=0;a<o.changes.length;++a){var u=o.changes[a];if(r<u.from.line)u.from=ge(u.from.line+n,u.from.ch),u.to=ge(u.to.line+n,u.to.ch);else if(t<=u.to.line){l=!1;break}}l||(e.splice(0,i+1),i=0)}}}function fo(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;ho(e.done,r,n,i),ho(e.undone,r,n,i)}function po(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=se(e,xe(e,t)):i=he(t),null==i?null:(n(o,i)&&e.cm&&Qn(e.cm,i,r),o)}function go(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function vo(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}yi.prototype.from=function(){return we(this.anchor,this.head)},yi.prototype.to=function(){return be(this.anchor,this.head)},yi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},go.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var i=this.lines[r];this.height-=i.height,Yt(i),sr(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},vo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(e<i){var o=Math.min(t,i-e),l=n.height;if(n.removeInner(e,o),this.height-=l-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof go))){var s=[];this.collapse(s),this.children=[new go(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(var l=i.lines.length%25+25,s=l;s<i.lines.length;){var a=new go(i.lines.slice(s,s+=25));i.height-=a.height,this.children.splice(++n,0,a),a.parent=this}i.lines=i.lines.slice(0,l),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new vo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=B(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new vo(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<o){var l=Math.min(t,o-e);if(i.iterN(e,l,r))return!0;if(0==(t-=l))break;e=0}else e-=o}}};var mo=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};function yo(e,t,r){Xe(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&kn(e,r)}mo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=he(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var o=wr(this);ce(r,Math.max(0,r.height-o)),e&&(Yn(e,function(){yo(e,r,-o),Qn(e,n,"widget")}),sr(e,"lineWidgetCleared",e,this,n))}},mo.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=wr(this)-t;i&&(Ke(this.doc,n)||ce(n,n.height+i),r&&Yn(r,function(){r.curOp.forceUpdate=!0,yo(r,n,i),sr(r,"lineWidgetChanged",r,e,he(n))}))},st(mo);var bo=0,wo=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++bo};function xo(e,t,r,n,i){if(n&&n.shared)return function(e,t,r,n,i){(n=I(n)).shared=!1;var o=[xo(e,t,r,n,i)],l=o[0],s=n.widgetNode;return Oi(e,function(e){s&&(n.widgetNode=s.cloneNode(!0)),o.push(xo(e,Ce(e,t),Ce(e,r),n,i));for(var a=0;a<e.linked.length;++a)if(e.linked[a].isParent)return;l=$(o)}),new Co(o,l)}(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return _n(e.cm,xo)(e,t,r,n,i);var o=new wo(e,i),l=ve(t,r);if(n&&I(n,o,!1),l>0||0==l&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=A("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Be(e,t.line,t,r,o)||t.line!=r.line&&Be(e,r.line,t,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");ke=!0}o.addToHistory&&Pi(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var s,a=t.line,u=e.cm;if(e.iter(a,r.line+1,function(e){u&&o.collapsed&&!u.options.lineWrapping&&Ge(e)==u.display.maxLine&&(s=!0),o.collapsed&&a!=t.line&&ce(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new Te(o,a==t.line?t.ch:null,a==r.line?r.ch:null)),++a}),o.collapsed&&e.iter(t.line,r.line+1,function(t){Ke(e,t)&&ce(t,0)}),o.clearOnEnter&&et(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(Le=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++bo,o.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),o.collapsed)Zn(u,t.line,r.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=t.line;c<=r.line;c++)Qn(u,c,"text");o.atomic&&Zi(u.doc),sr(u,"markerAdded",u,o)}return o}wo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Gn(e),lt(this,"clear")){var r=this.find();r&&sr(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var l=this.lines[o],s=Me(l.markedSpans,this);e&&!this.collapsed?Qn(e,he(l),"text"):e&&(null!=s.to&&(i=he(l)),null!=s.from&&(n=he(l))),l.markedSpans=Ne(l.markedSpans,s),null==s.from&&this.collapsed&&!Ke(this.doc,l)&&e&&ce(l,en(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var a=0;a<this.lines.length;++a){var u=Ge(this.lines[a]),c=Ye(u);c>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&Zn(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Zi(e.doc)),e&&sr(e,"markerCleared",e,this,n,i),t&&Un(e),this.parent&&this.parent.clear()}},wo.prototype.find=function(e,t){var r,n;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],l=Me(o.markedSpans,this);if(null!=l.from&&(r=ge(t?o:he(o),l.from),-1==e))return r;if(null!=l.to&&(n=ge(t?o:he(o),l.to),1==e))return n}return r&&{from:r,to:n}},wo.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&Yn(n,function(){var i=t.line,o=he(t.line),l=Ar(n,o);if(l&&(Ir(l),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Ke(r.doc,i)&&null!=r.height){var s=r.height;r.height=null;var a=wr(r)-s;a&&ce(i,i.height+a)}sr(n,"markerChanged",n,e)})},wo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=B(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},wo.prototype.detachLine=function(e){if(this.lines.splice(B(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},st(wo);var Co=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};function So(e){return e.findMarks(ge(e.first,0),e.clipPos(ge(e.lastLine())),function(e){return e.parent})}function Lo(e){for(var t=function(t){var r=e[t],n=[r.primary.doc];Oi(r.primary.doc,function(e){return n.push(e)});for(var i=0;i<r.markers.length;i++){var o=r.markers[i];-1==B(n,o.doc)&&(o.parent=null,r.markers.splice(i--,1))}},r=0;r<e.length;r++)t(r)}Co.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();sr(this,"clear")}},Co.prototype.find=function(e,t){return this.primary.find(e,t)},st(Co);var ko=0,To=function(e,t,r,n,i){if(!(this instanceof To))return new To(e,t,r,n,i);null==r&&(r=0),vo.call(this,[new go([new Xt("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=ge(r,0);this.sel=wi(o),this.history=new Wi(null),this.id=++ko,this.modeOption=t,this.lineSep=n,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Ni(this,{from:o,to:o,text:e}),_i(this,wi(o),V)};To.prototype=Q(vo.prototype,{constructor:To,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=ue(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:qn(function(e){var t=ge(this.first,0),r=this.first+this.size-1;io(this,{from:t,
to:ge(r,se(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Mn(this.cm,0,0),_i(this,wi(t),V)}),replaceRange:function(e,t,r,n){uo(this,e,t=Ce(this,t),r=r?Ce(this,r):t,n)},getRange:function(e,t,r){var n=ae(this,Ce(this,e),Ce(this,t));return!1===r?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(de(this,e))return se(this,e)},getLineNumber:function(e){return he(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=se(this,e)),Ge(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Ce(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:qn(function(e,t,r){Xi(this,Ce(this,"number"==typeof e?ge(e,t||0):e),null,r)}),setSelection:qn(function(e,t,r){Xi(this,Ce(this,e),Ce(this,t||e),r)}),extendSelection:qn(function(e,t,r){Vi(this,Ce(this,e),t&&Ce(this,t),r)}),extendSelections:qn(function(e,t){Ki(this,Se(this,e),t)}),extendSelectionsBy:qn(function(e,t){Ki(this,Se(this,q(this.sel.ranges,e)),t)}),setSelections:qn(function(e,t,r){if(e.length){for(var n=[],i=0;i<e.length;i++)n[i]=new yi(Ce(this,e[i].anchor),Ce(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),_i(this,bi(n,t),r)}}),addSelection:qn(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new yi(Ce(this,e),Ce(this,t||e))),_i(this,bi(n,n.length-1),r)}),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=ae(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=ae(this,r[n].from(),r[n].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:qn(function(e,t,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var l=i.ranges[o];n[o]={from:l.from(),to:l.to(),text:this.splitLines(e[o]),origin:r}}for(var s=t&&"end"!=t&&function(e,t,r){for(var n=[],i=ge(e.first,0),o=i,l=0;l<t.length;l++){var s=t[l],a=Li(s.from,i,o),u=Li(xi(s),i,o);if(i=s.to,o=u,"around"==r){var c=e.sel.ranges[l],h=ve(c.head,c.anchor)<0;n[l]=new yi(h?u:a,h?a:u)}else n[l]=new yi(a,a)}return new mi(n,e.sel.primIndex)}(this,n,t),a=n.length-1;a>=0;a--)io(this,n[a]);s?Yi(this,s):this.cm&&Tn(this.cm)}),undo:qn(function(){lo(this,"undo")}),redo:qn(function(){lo(this,"redo")}),undoSelection:qn(function(){lo(this,"undo",!0)}),redoSelection:qn(function(){lo(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new Wi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Gi(this.history.done),undone:Gi(this.history.undone)}},setHistory:function(e){var t=this.history=new Wi(this.history.maxGeneration);t.done=Gi(e.done.slice(0),null,!0),t.undone=Gi(e.undone.slice(0),null,!0)},setGutterMarker:qn(function(e,t,r){return po(this,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&re(n)&&(e.gutterMarkers=null),!0})}),clearGutter:qn(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&po(t,r,"gutter",function(){return r.gutterMarkers[e]=null,re(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!de(this,e))return null;if(t=e,!(e=se(this,e)))return null}else if(null==(t=he(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:qn(function(e,t,r){return po(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(L(r).test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0})}),removeLineClass:qn(function(e,t,r){return po(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[n];if(!i)return!1;if(null==r)e[n]=null;else{var o=i.match(L(r));if(!o)return!1;var l=o.index+o[0].length;e[n]=i.slice(0,o.index)+(o.index&&l!=i.length?" ":"")+i.slice(l)||null}return!0})}),addLineWidget:qn(function(e,t,r){return function(e,t,r,n){var i=new mo(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),po(e,t,"widget",function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!Ke(e,t)){var n=Xe(t)<e.scrollTop;ce(t,t.height+wr(i)),n&&kn(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&sr(o,"lineWidgetAdded",o,i,"number"==typeof t?t:he(t)),i}(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return xo(this,Ce(this,e),Ce(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return xo(this,e=Ce(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=se(this,(e=Ce(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=Ce(this,e),t=Ce(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var l=o.markedSpans;if(l)for(var s=0;s<l.length;s++){var a=l[s];null!=a.to&&i==e.line&&e.ch>=a.to||null==a.from&&i!=e.line||null!=a.from&&i==t.line&&a.from>=t.ch||r&&!r(a.marker)||n.push(a.marker.parent||a.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+n;if(o>e)return t=e,!0;e-=o,++r}),Ce(this,ge(r,t))},indexFromPos:function(e){var t=(e=Ce(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+r}),t},copy:function(e){var t=new To(ue(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new To(ue(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),l=e.clipPos(i.to);if(ve(o,l)){var s=xo(e,o,l,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}(n,So(this)),n},unlinkDoc:function(e){if(e instanceof Ll&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Lo(So(this));break}}if(e.history==this.history){var r=[e.id];Oi(e,function(e){return r.push(e.id)},!0),e.history=new Wi(null),e.history.done=Gi(this.history.done,r),e.history.undone=Gi(this.history.undone,r)}},iterLinkedDocs:function(e){Oi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):wt(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:qn(function(e){var t;("rtl"!=e&&(e="ltr"),e!=this.direction)&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Yn(t=this.cm,function(){Di(t),Zn(t)}))})}),To.prototype.eachLine=To.prototype.iter;var Mo=0;function No(e){var t=this;if(Oo(t),!it(t,e)&&!xr(t.display,e)){at(e),l&&(Mo=+new Date);var r=sn(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),s=0,a=function(e,n){if(!t.options.allowDropFileTypes||-1!=B(t.options.allowDropFileTypes,e.type)){var l=new FileReader;l.onload=_n(t,function(){var e=l.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[n]=e,++s==i){var a={from:r=Ce(t.doc,r),to:r,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};io(t.doc,a),Yi(t.doc,wi(r,xi(a)))}}),l.readAsText(e)}},u=0;u<i;++u)a(n[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var c=e.dataTransfer.getData("Text");if(c){var h;if(t.state.draggingText&&!t.state.draggingText.copy&&(h=t.listSelections()),$i(t.doc,wi(r,r)),h)for(var f=0;f<h.length;++f)uo(t.doc,"",h[f].anchor,h[f].head,"drag");t.replaceSelection(c,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Oo(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ao(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),r=0;r<t.length;r++){var n=t[r].CodeMirror;n&&e(n)}}var Do=!1;function Wo(){var e;Do||(et(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Ao(Ho)},100))}),et(window,"blur",function(){return Ao(yn)}),Do=!0)}function Ho(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Fo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Po=0;Po<10;Po++)Fo[Po+48]=Fo[Po+96]=String(Po);for(var Eo=65;Eo<=90;Eo++)Fo[Eo]=String.fromCharCode(Eo);for(var Io=1;Io<=12;Io++)Fo[Io+111]=Fo[Io+63235]="F"+Io;var zo={};function Ro(e){var t,r,n,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var l=0;l<o.length-1;l++){var s=o[l];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Bo(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=q(r.split(" "),Ro),o=0;o<i.length;o++){var l=void 0,s=void 0;o==i.length-1?(s=i.join(" "),l=n):(s=i.slice(0,o+1).join(" "),l="...");var a=t[s];if(a){if(a!=l)throw new Error("Inconsistent bindings for "+s)}else t[s]=l}delete e[r]}for(var u in t)e[u]=t[u];return e}function Go(e,t,r,n){var i=(t=jo(t)).call?t.call(e,n):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Go(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var l=Go(e,t.fallthrough[o],r,n);if(l)return l}}}function Uo(e){var t="string"==typeof e?e:Fo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Vo(e,t,r){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(C?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(C?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function Ko(e,t){if(h&&34==e.keyCode&&e.char)return!1;var r=Fo[e.keyCode];return null!=r&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(r=e.code),Vo(r,e,t))}function jo(e){return"string"==typeof e?zo[e]:e}function Xo(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&ve(o.from,$(n).to)<=0;){var l=n.pop();if(ve(l.from,o.from)<0){o.from=l.from;break}}n.push(o)}Yn(e,function(){for(var t=n.length-1;t>=0;t--)uo(e.doc,"",n[t].from,n[t].to,"+delete");Tn(e)})}function Yo(e,t,r){var n=oe(e.text,t+r,r);return n<0||n>e.text.length?null:n}function _o(e,t,r){var n=Yo(e,t.ch,r);return null==n?null:new ge(t.line,n,r<0?"after":"before")}function $o(e,t,r,n,i){if(e){var o=Qe(r,t.doc.direction);if(o){var l,s=i<0?$(o):o[0],a=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var u=Dr(t,r);l=i<0?r.text.length-1:0;var c=Wr(t,u,l).top;l=le(function(e){return Wr(t,u,e).top==c},i<0==(1==s.level)?s.from:s.to-1,l),"before"==a&&(l=Yo(r,l,1))}else l=i<0?s.to:s.from;return new ge(n,l,a)}}return new ge(n,i<0?r.text.length:0,i<0?"before":"after")}zo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},zo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},zo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},zo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},zo.default=y?zo.macDefault:zo.pcDefault;var qo={selectAll:ro,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),V)},killLine:function(e){return Xo(e,function(t){if(t.empty()){var r=se(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:ge(t.head.line+1,0)}:{from:t.head,to:ge(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Xo(e,function(t){return{from:ge(t.from().line,0),to:Ce(e.doc,ge(t.to().line+1,0))}})},delLineLeft:function(e){return Xo(e,function(e){return{from:ge(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return Xo(e,function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}})},delWrappedLineRight:function(e){return Xo(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ge(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ge(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Zo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Qo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return function(e,t){var r=se(e.doc,t),n=function(e){for(var t;t=ze(e);)e=t.find(1,!0).line;return e}(r);n!=r&&(t=he(n));return $o(!0,e,r,t,-1)}(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},j)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},j)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?Qo(e,t.head):n},j)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),l=z(e.getLine(o.line),o.ch,n);t.push(_(n-l%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Yn(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,o=se(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new ge(i.line,i.ch-1)),i.ch>0)i=new ge(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),ge(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var l=se(e.doc,i.line-1).text;l&&(i=new ge(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+l.charAt(l.length-1),ge(i.line-1,l.length-1),i,"+transpose"))}r.push(new yi(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){return Yn(e,function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Tn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Zo(e,t){var r=se(e.doc,t),n=Ge(r);return n!=r&&(t=he(n)),$o(!0,e,n,t,1)}function Qo(e,t){var r=Zo(e,t.line),n=se(e.doc,r.line),i=Qe(n,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,n.text.search(/\S/)),l=t.line==r.line&&t.ch<=o&&t.ch;return ge(r.line,l?0:o,r.sticky)}return r}function Jo(e,t,r){if("string"==typeof t&&!(t=qo[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=U}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}var el=new R;function tl(e,t,r,n){var i=e.state.keySeq;if(i){if(Uo(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:el.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),rl(e,i+" "+t,r,n))return!0}return rl(e,t,r,n)}function rl(e,t,r,n){var i=function(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=Go(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&Go(t,e.options.extraKeys,r,e)||Go(t,e.options.keyMap,r,e)}(e,t,n);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&sr(e,"keyHandled",e,t,r),"handled"!=i&&"multi"!=i||(at(r),pn(e)),!!i}function nl(e,t){var r=Ko(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?tl(e,"Shift-"+r,t,function(t){return Jo(e,t,!0)})||tl(e,r,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return Jo(e,t)}):tl(e,r,t,function(t){return Jo(e,t)}))}var il=null;function ol(e){var t=this;if(t.curOp.focus=W(),!it(t,e)){l&&s<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var n=nl(t,e);h&&(il=n?r:null,!n&&88==r&&!Ct&&(y?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function r(e){18!=e.keyCode&&e.altKey||(T(t,"CodeMirror-crosshair"),rt(document,"keyup",r),rt(document,"mouseover",r))}H(t,"CodeMirror-crosshair"),et(document,"keyup",r),et(document,"mouseover",r)}(t)}}function ll(e){16==e.keyCode&&(this.doc.sel.shift=!1),it(this,e)}function sl(e){var t=this;if(!(xr(t.display,e)||it(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(h&&r==il)return il=null,void at(e);if(!h||e.which&&!(e.which<10)||!nl(t,e)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(function(e,t,r){return tl(e,"'"+r+"'",t,function(t){return Jo(e,t,!0)})}(t,e,i)||t.display.input.onKeyPress(e))}}}var al,ul,cl=function(e,t,r){this.time=e,this.pos=t,this.button=r};function hl(e){var t=this,r=t.display;if(!(it(t,e)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=e.shiftKey,xr(r,e))a||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100));else{var n=dt(e);if(3==n&&S?!vl(t,e):!pl(t,e)){var i=sn(t,e),o=i?function(e,t){var r=+new Date;return ul&&ul.compare(r,e,t)?(al=ul=null,"triple"):al&&al.compare(r,e,t)?(ul=new cl(r,e,t),al=null,"double"):(al=new cl(r,e,t),ul=null,"single")}(i,n):"single";window.focus(),1==n&&t.state.selectingText&&t.state.selectingText(e),i&&function(e,t,r,n,i){var o="Click";"double"==n?o="Double"+o:"triple"==n&&(o="Triple"+o);return tl(e,Vo(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,function(t){if("string"==typeof t&&(t=qo[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,r)!=U}finally{e.state.suppressEdits=!1}return n})}(t,n,i,o,e)||(1==n?i?function(e,t,r,n){l?setTimeout(E(gn,e),0):e.curOp.focus=W();var i,o=function(e,t,r){var n=e.getOption("configureMouse"),i=n?n(e,t,r):{};if(null==i.unit){var o=b?r.shiftKey&&r.metaKey:r.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||r.shiftKey);null==i.addNew&&(i.addNew=y?r.metaKey:r.ctrlKey);null==i.moveOnDrag&&(i.moveOnDrag=!(y?r.altKey:r.ctrlKey));return i}(e,r,n),u=e.doc.sel;e.options.dragDrop&&vt&&!e.isReadOnly()&&"single"==r&&(i=u.contains(t))>-1&&(ve((i=u.ranges[i]).from(),t)<0||t.xRel>0)&&(ve(i.to(),t)>0||t.xRel<0)?function(e,t,r,n){var i=e.display,o=!1,u=_n(e,function(t){a&&(i.scroller.draggable=!1),e.state.draggingText=!1,rt(i.wrapper.ownerDocument,"mouseup",u),rt(i.wrapper.ownerDocument,"mousemove",c),rt(i.scroller,"dragstart",h),rt(i.scroller,"drop",u),o||(at(t),n.addNew||Vi(e.doc,r,null,null,n.extend),a||l&&9==s?setTimeout(function(){i.wrapper.ownerDocument.body.focus(),i.input.focus()},20):i.input.focus())}),c=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},h=function(){return o=!0};a&&(i.scroller.draggable=!0);e.state.draggingText=u,u.copy=!n.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop();et(i.wrapper.ownerDocument,"mouseup",u),et(i.wrapper.ownerDocument,"mousemove",c),et(i.scroller,"dragstart",h),et(i.scroller,"drop",u),vn(e),setTimeout(function(){return i.input.focus()},20)}(e,n,t,o):function(e,t,r,n){var i=e.display,o=e.doc;at(t);var l,s,a=o.sel,u=a.ranges;n.addNew&&!n.extend?(s=o.sel.contains(r),l=s>-1?u[s]:new yi(r,r)):(l=o.sel.primary(),s=o.sel.primIndex);if("rectangle"==n.unit)n.addNew||(l=new yi(r,r)),r=sn(e,t,!0,!0),s=-1;else{var c=fl(e,r,n.unit);l=n.extend?Ui(l,c.anchor,c.head,n.extend):c}n.addNew?-1==s?(s=u.length,_i(o,bi(u.concat([l]),s),{scroll:!1,origin:"*mouse"})):u.length>1&&u[s].empty()&&"char"==n.unit&&!n.extend?(_i(o,bi(u.slice(0,s).concat(u.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),a=o.sel):ji(o,s,l,K):(s=0,_i(o,new mi([l],0),K),a=o.sel);var h=r;function f(t){if(0!=ve(h,t))if(h=t,"rectangle"==n.unit){for(var i=[],u=e.options.tabSize,c=z(se(o,r.line).text,r.ch,u),f=z(se(o,t.line).text,t.ch,u),d=Math.min(c,f),p=Math.max(c,f),g=Math.min(r.line,t.line),v=Math.min(e.lastLine(),Math.max(r.line,t.line));g<=v;g++){var m=se(o,g).text,y=X(m,d,u);d==p?i.push(new yi(ge(g,y),ge(g,y))):m.length>y&&i.push(new yi(ge(g,y),ge(g,X(m,p,u))))}i.length||i.push(new yi(r,r)),_i(o,bi(a.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,w=l,x=fl(e,t,n.unit),C=w.anchor;ve(x.anchor,C)>0?(b=x.head,C=we(w.from(),x.anchor)):(b=x.anchor,C=be(w.to(),x.head));var S=a.ranges.slice(0);S[s]=function(e,t){var r=t.anchor,n=t.head,i=se(e.doc,r.line);if(0==ve(r,n)&&r.sticky==n.sticky)return t;var o=Qe(i);if(!o)return t;var l=qe(o,r.ch,r.sticky),s=o[l];if(s.from!=r.ch&&s.to!=r.ch)return t;var a,u=l+(s.from==r.ch==(1!=s.level)?0:1);if(0==u||u==o.length)return t;if(n.line!=r.line)a=(n.line-r.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=qe(o,n.ch,n.sticky),h=c-l||(n.ch-r.ch)*(1==s.level?-1:1);a=c==u-1||c==u?h<0:h>0}var f=o[u+(a?-1:0)],d=a==(1==f.level),p=d?f.from:f.to,g=d?"after":"before";return r.ch==p&&r.sticky==g?t:new yi(new ge(r.line,p,g),n)}(e,new yi(Ce(o,C),b)),_i(o,bi(S,s),K)}}var d=i.wrapper.getBoundingClientRect(),p=0;function g(t){e.state.selectingText=!1,p=1/0,at(t),i.input.focus(),rt(i.wrapper.ownerDocument,"mousemove",v),rt(i.wrapper.ownerDocument,"mouseup",m),o.history.lastSelOrigin=null}var v=_n(e,function(t){0!==t.buttons&&dt(t)?function t(r){var l=++p;var s=sn(e,r,!0,"rectangle"==n.unit);if(!s)return;if(0!=ve(s,h)){e.curOp.focus=W(),f(s);var a=xn(i,o);(s.line>=a.to||s.line<a.from)&&setTimeout(_n(e,function(){p==l&&t(r)}),150)}else{var u=r.clientY<d.top?-20:r.clientY>d.bottom?20:0;u&&setTimeout(_n(e,function(){p==l&&(i.scroller.scrollTop+=u,t(r))}),50)}}(t):g(t)}),m=_n(e,g);e.state.selectingText=m,et(i.wrapper.ownerDocument,"mousemove",v),et(i.wrapper.ownerDocument,"mouseup",m)}(e,n,t,o)}(t,i,o,e):ft(e)==r.scroller&&at(e):2==n?(i&&Vi(t.doc,i),setTimeout(function(){return r.input.focus()},20)):3==n&&(S?gl(t,e):vn(t)))}}}function fl(e,t,r){if("char"==r)return new yi(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new yi(ge(t.line,0),Ce(e.doc,ge(t.line+1,0)));var n=r(e,t);return new yi(n.from,n.to)}function dl(e,t,r,n){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&at(t);var l=e.display,s=l.lineDiv.getBoundingClientRect();if(o>s.bottom||!lt(e,r))return ct(t);o-=s.top-l.viewOffset;for(var a=0;a<e.options.gutters.length;++a){var u=l.gutters.childNodes[a];if(u&&u.getBoundingClientRect().right>=i)return nt(e,r,e,fe(e.doc,o),e.options.gutters[a],t),ct(t)}}function pl(e,t){return dl(e,t,"gutterClick",!0)}function gl(e,t){xr(e.display,t)||vl(e,t)||it(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function vl(e,t){return!!lt(e,"gutterContextMenu")&&dl(e,t,"gutterContextMenu",!1)}function ml(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Rr(e)}cl.prototype.compare=function(e,t,r){return this.time+400>e&&0==ve(t,this.pos)&&r==this.button};var yl={toString:function(){return"CodeMirror.Init"}},bl={},wl={};function xl(e){ci(e),Zn(e),Cn(e)}function Cl(e,t,r){if(!t!=!(r&&r!=yl)){var n=e.display.dragFunctions,i=t?et:rt;i(e.display.scroller,"dragstart",n.start),i(e.display.scroller,"dragenter",n.enter),i(e.display.scroller,"dragover",n.over),i(e.display.scroller,"dragleave",n.leave),i(e.display.scroller,"drop",n.drop)}}function Sl(e){e.options.lineWrapping?(H(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(T(e.display.wrapper,"CodeMirror-wrap"),_e(e)),ln(e),Zn(e),Rr(e),setTimeout(function(){return En(e)},100)}function Ll(e,t){var n=this;if(!(this instanceof Ll))return new Ll(e,t);this.options=t=t?I(t):{},I(bl,t,!1),hi(t);var i=t.value;"string"==typeof i?i=new To(i,t.mode,null,t.lineSeparator,t.direction):t.mode&&(i.modeOption=t.mode),this.doc=i;var o=new Ll.inputStyles[t.inputStyle](this),u=this.display=new function(e,t,n){var i=this;this.input=n,i.scrollbarFiller=O("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=O("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=A("div",null,"CodeMirror-code"),i.selectionDiv=O("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=O("div",null,"CodeMirror-cursors"),i.measure=O("div",null,"CodeMirror-measure"),i.lineMeasure=O("div",null,"CodeMirror-measure"),i.lineSpace=A("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var o=A("div",[i.lineSpace],"CodeMirror-lines");i.mover=O("div",[o],null,"position: relative"),i.sizer=O("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=O("div",null,null,"position: absolute; height: "+G+"px; width: 1px;"),i.gutters=O("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=O("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=O("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),l&&s<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),a||r&&m||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,
i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}(e,i,o);for(var c in u.wrapper.CodeMirror=this,ci(this),ml(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Rn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new R,keySeq:null,specialChars:null},t.autofocus&&!m&&u.input.focus(),l&&s<11&&setTimeout(function(){return n.display.input.reset(!0)},20),function(e){var t=e.display;et(t.scroller,"mousedown",_n(e,hl)),et(t.scroller,"dblclick",l&&s<11?_n(e,function(t){if(!it(e,t)){var r=sn(e,t);if(r&&!pl(e,t)&&!xr(e.display,t)){at(t);var n=e.findWordAt(r);Vi(e.doc,n.anchor,n.head)}}}):function(t){return it(e,t)||at(t)});S||et(t.scroller,"contextmenu",function(t){return gl(e,t)});var r,n={end:0};function i(){t.activeTouch&&(r=setTimeout(function(){return t.activeTouch=null},1e3),(n=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}et(t.scroller,"touchstart",function(i){if(!it(e,i)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(i)&&!pl(e,i)){t.input.ensurePolled(),clearTimeout(r);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-n.end<=300?n:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}}),et(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),et(t.scroller,"touchend",function(r){var n=t.activeTouch;if(n&&!xr(t,r)&&null!=n.left&&!n.moved&&new Date-n.start<300){var l,s=e.coordsChar(t.activeTouch,"page");l=!n.prev||o(n,n.prev)?new yi(s,s):!n.prev.prev||o(n,n.prev.prev)?e.findWordAt(s):new yi(ge(s.line,0),Ce(e.doc,ge(s.line+1,0))),e.setSelection(l.anchor,l.head),e.focus(),at(r)}i()}),et(t.scroller,"touchcancel",i),et(t.scroller,"scroll",function(){t.scroller.clientHeight&&(An(e,t.scroller.scrollTop),Wn(e,t.scroller.scrollLeft,!0),nt(e,"scroll",e))}),et(t.scroller,"mousewheel",function(t){return vi(e,t)}),et(t.scroller,"DOMMouseScroll",function(t){return vi(e,t)}),et(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){it(e,t)||ht(t)},over:function(t){it(e,t)||(!function(e,t){var r=sn(e,t);if(r){var n=document.createDocumentFragment();hn(e,r,n),e.display.dragCursor||(e.display.dragCursor=O("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),N(e.display.dragCursor,n)}}(e,t),ht(t))},start:function(t){return function(e,t){if(l&&(!e.state.draggingText||+new Date-Mo<100))ht(t);else if(!it(e,t)&&!xr(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!f)){var r=O("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),h&&r.parentNode.removeChild(r)}}(e,t)},drop:_n(e,No),leave:function(t){it(e,t)||Oo(e)}};var a=t.input.getField();et(a,"keyup",function(t){return ll.call(e,t)}),et(a,"keydown",_n(e,ol)),et(a,"keypress",_n(e,sl)),et(a,"focus",function(t){return mn(e,t)}),et(a,"blur",function(t){return yn(e,t)})}(this),Wo(),Gn(this),this.curOp.forceUpdate=!0,Ai(this,i),t.autofocus&&!m||this.hasFocus()?setTimeout(E(mn,this),20):yn(this),wl)wl.hasOwnProperty(c)&&wl[c](n,t[c],yl);Sn(this),t.finishInit&&t.finishInit(this);for(var d=0;d<kl.length;++d)kl[d](n);Un(this),a&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(u.lineDiv).textRendering&&(u.lineDiv.style.textRendering="auto")}Ll.defaults=bl,Ll.optionHandlers=wl;var kl=[];function Tl(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=zt(e,t).state:r="prev");var l=e.options.tabSize,s=se(o,t),a=z(s.text,null,l);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&((u=o.mode.indent(i,s.text.slice(c.length),s.text))==U||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>o.first?z(se(o,t-1).text,null,l):0:"add"==r?u=a+e.options.indentUnit:"subtract"==r?u=a-e.options.indentUnit:"number"==typeof r&&(u=a+r),u=Math.max(0,u);var h="",f=0;if(e.options.indentWithTabs)for(var d=Math.floor(u/l);d;--d)f+=l,h+="\t";if(f<u&&(h+=_(u-f)),h!=c)return uo(o,h,ge(t,0),ge(t,c.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var g=o.sel.ranges[p];if(g.head.line==t&&g.head.ch<c.length){var v=ge(t,c.length);ji(o,p,new yi(v,v));break}}}Ll.defineInitHook=function(e){return kl.push(e)};var Ml=null;function Nl(e){Ml=e}function Ol(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var l,s=e.state.pasteIncoming||"paste"==i,a=wt(t),u=null;if(s&&n.ranges.length>1)if(Ml&&Ml.text.join("\n")==t){if(n.ranges.length%Ml.text.length==0){u=[];for(var c=0;c<Ml.text.length;c++)u.push(o.splitLines(Ml.text[c]))}}else a.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(u=q(a,function(e){return[e]}));for(var h=n.ranges.length-1;h>=0;h--){var f=n.ranges[h],d=f.from(),p=f.to();f.empty()&&(r&&r>0?d=ge(d.line,d.ch-r):e.state.overwrite&&!s?p=ge(p.line,Math.min(se(o,p.line).text.length,p.ch+$(a).length)):Ml&&Ml.lineWise&&Ml.text.join("\n")==t&&(d=p=ge(d.line,0))),l=e.curOp.updateInput;var g={from:d,to:p,text:u?u[h%u.length]:a,origin:i||(s?"paste":e.state.cutIncoming?"cut":"+input")};io(e.doc,g),sr(e,"inputRead",e,g)}t&&!s&&Dl(e,t),Tn(e),e.curOp.updateInput=l,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Al(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Yn(t,function(){return Ol(t,r,0,null,"paste")}),!0}function Dl(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),l=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){l=Tl(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(se(e.doc,i.head.line).text.slice(0,i.head.ch))&&(l=Tl(e,i.head.line,"smart"));l&&sr(e,"electricInput",e,i.head.line)}}}function Wl(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:ge(i,0),head:ge(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function Hl(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function Fl(){var e=O("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=O("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return a?e.style.width="1000px":e.setAttribute("wrap","off"),g&&(e.style.border="1px solid black"),Hl(e),t}function Pl(e,t,r,n,i){var o=t,l=r,s=se(e,t.line);function a(n){var o,l;if(null==(o=i?function(e,t,r,n){var i=Qe(t,e.doc.direction);if(!i)return _o(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var o=qe(i,r.ch,r.sticky),l=i[o];if("ltr"==e.doc.direction&&l.level%2==0&&(n>0?l.to>r.ch:l.from<r.ch))return _o(t,r,n);var s,a=function(e,r){return Yo(t,e instanceof ge?e.ch:e,r)},u=function(r){return e.options.lineWrapping?(s=s||Dr(e,t),Zr(e,t,s,r)):{begin:0,end:t.text.length}},c=u("before"==r.sticky?a(r,-1):r.ch);if("rtl"==e.doc.direction||1==l.level){var h=1==l.level==n<0,f=a(r,h?1:-1);if(null!=f&&(h?f<=l.to&&f<=c.end:f>=l.from&&f>=c.begin)){var d=h?"before":"after";return new ge(r.line,f,d)}}var p=function(e,t,n){for(var o=function(e,t){return t?new ge(r.line,a(e,1),"before"):new ge(r.line,e,"after")};e>=0&&e<i.length;e+=t){var l=i[e],s=t>0==(1!=l.level),u=s?n.begin:a(n.end,-1);if(l.from<=u&&u<l.to)return o(u,s);if(u=s?l.from:a(l.to,-1),n.begin<=u&&u<n.end)return o(u,s)}},g=p(o+n,n,c);if(g)return g;var v=n>0?c.end:a(c.begin,-1);return null==v||n>0&&v==t.text.length||!(g=p(n>0?0:i.length-1,n,u(v)))?null:g}(e.cm,s,t,r):_o(s,t,r))){if(n||(l=t.line+r)<e.first||l>=e.first+e.size||(t=new ge(l,t.ch,t.sticky),!(s=se(e,l))))return!1;t=$o(i,e.cm,s,t.line,r)}else t=o;return!0}if("char"==n)a();else if("column"==n)a(!0);else if("word"==n||"group"==n)for(var u=null,c="group"==n,h=e.cm&&e.cm.getHelper(t,"wordChars"),f=!0;!(r<0)||a(!f);f=!1){var d=s.text.charAt(t.ch)||"\n",p=te(d,h)?"w":c&&"\n"==d?"n":!c||/\s/.test(d)?null:"p";if(!c||f||p||(p="s"),u&&u!=p){r<0&&(r=1,a(),t.sticky="after");break}if(p&&(u=p),r>0&&!a(!f))break}var g=eo(e,t,o,l,!0);return me(o,g)&&(g.hitSide=!0),g}function El(e,t,r,n){var i,o,l=e.doc,s=t.left;if("page"==n){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(a-.5*en(e.display),3);i=(r>0?t.bottom:t.top)+r*u}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(;(o=$r(e,s,i)).outside;){if(r<0?i<=0:i>=l.height){o.hitSide=!0;break}i+=5*r}return o}var Il=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new R,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function zl(e,t){var r=Ar(e,t.line);if(!r||r.hidden)return null;var n=se(e.doc,t.line),i=Nr(r,n,t.line),o=Qe(n,e.doc.direction),l="left";o&&(l=qe(o,t.ch)%2?"right":"left");var s=Pr(i.map,t.ch,l);return s.offset="right"==s.collapse?s.end:s.start,s}function Rl(e,t){return t&&(e.bad=!0),e}function Bl(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return Rl(e.clipPos(ge(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return Gl(o,t,r)}}function Gl(e,t,r){var n=e.text.firstChild,i=!1;if(!t||!D(n,t))return Rl(ge(he(e.line),0),!0);if(t==n&&(i=!0,t=n.childNodes[r],r=0,!t)){var o=e.rest?$(e.rest):e.line;return Rl(ge(he(o),o.text.length),i)}var l=3==t.nodeType?t:null,s=t;for(l||1!=t.childNodes.length||3!=t.firstChild.nodeType||(l=t.firstChild,r&&(r=l.nodeValue.length));s.parentNode!=n;)s=s.parentNode;var a=e.measure,u=a.maps;function c(t,r,n){for(var i=-1;i<(u?u.length:0);i++)for(var o=i<0?a.map:u[i],l=0;l<o.length;l+=3){var s=o[l+2];if(s==t||s==r){var c=he(i<0?e.line:e.rest[i]),h=o[l]+n;return(n<0||s!=t)&&(h=o[l+(n?1:0)]),ge(c,h)}}}var h=c(l,s,r);if(h)return Rl(h,i);for(var f=s.nextSibling,d=l?l.nodeValue.length-r:0;f;f=f.nextSibling){if(h=c(f,f.firstChild,0))return Rl(ge(h.line,h.ch-d),i);d+=f.textContent.length}for(var p=s.previousSibling,g=r;p;p=p.previousSibling){if(h=c(p,p.firstChild,-1))return Rl(ge(h.line,h.ch+g),i);g+=p.textContent.length}}Il.prototype.init=function(e){var t=this,r=this,n=r.cm,i=r.div=e.lineDiv;function o(e){if(!it(n,e)){if(n.somethingSelected())Nl({lineWise:!1,text:n.getSelections()}),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=Wl(n);Nl({lineWise:!0,text:t.text}),"cut"==e.type&&n.operation(function(){n.setSelections(t.ranges,0,V),n.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var o=Ml.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var l=Fl(),s=l.firstChild;n.display.lineSpace.insertBefore(l,n.display.lineSpace.firstChild),s.value=Ml.text.join("\n");var a=document.activeElement;P(s),setTimeout(function(){n.display.lineSpace.removeChild(l),a.focus(),a==i&&r.showPrimarySelection()},50)}}Hl(i,n.options.spellcheck),et(i,"paste",function(e){it(n,e)||Al(e,n)||s<=11&&setTimeout(_n(n,function(){return t.updateFromDOM()}),20)}),et(i,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),et(i,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),et(i,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),et(i,"touchstart",function(){return r.forceCompositionEnd()}),et(i,"input",function(){t.composing||t.readFromDOMSoon()}),et(i,"copy",o),et(i,"cut",o)},Il.prototype.prepareSelection=function(){var e=cn(this.cm,!1);return e.focus=this.cm.state.focused,e},Il.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Il.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Il.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),i=n.from(),o=n.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var l=Bl(t,e.anchorNode,e.anchorOffset),s=Bl(t,e.focusNode,e.focusOffset);if(!l||l.bad||!s||s.bad||0!=ve(we(l,s),i)||0!=ve(be(l,s),o)){var a=t.display.view,u=i.line>=t.display.viewFrom&&zl(t,i)||{node:a[0].measure.map[2],offset:0},c=o.line<t.display.viewTo&&zl(t,o);if(!c){var h=a[a.length-1].measure,f=h.maps?h.maps[h.maps.length-1]:h.map;c={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(u&&c){var d,p=e.rangeCount&&e.getRangeAt(0);try{d=k(u.node,u.offset,c.offset,c.node)}catch(e){}d&&(!r&&t.state.focused?(e.collapse(u.node,u.offset),d.collapsed||(e.removeAllRanges(),e.addRange(d))):(e.removeAllRanges(),e.addRange(d)),p&&null==e.anchorNode?e.addRange(p):r&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Il.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Il.prototype.showMultipleSelections=function(e){N(this.cm.display.cursorDiv,e.cursors),N(this.cm.display.selectionDiv,e.selection)},Il.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Il.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return D(this.div,t)},Il.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Il.prototype.blur=function(){this.div.blur()},Il.prototype.getField=function(){return this.div},Il.prototype.supportsTouch=function(){return!0},Il.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Yn(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))})},Il.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Il.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(v&&c&&this.cm.options.gutters.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=Bl(t,e.anchorNode,e.anchorOffset),n=Bl(t,e.focusNode,e.focusOffset);r&&n&&Yn(t,function(){_i(t.doc,wi(r,n),V),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},Il.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,r,n=this.cm,i=n.display,o=n.doc.sel.primary(),l=o.from(),s=o.to();if(0==l.ch&&l.line>n.firstLine()&&(l=ge(l.line-1,se(n.doc,l.line-1).length)),s.ch==se(n.doc,s.line).text.length&&s.line<n.lastLine()&&(s=ge(s.line+1,0)),l.line<i.viewFrom||s.line>i.viewTo-1)return!1;l.line==i.viewFrom||0==(e=an(n,l.line))?(t=he(i.view[0].line),r=i.view[0].node):(t=he(i.view[e].line),r=i.view[e-1].node.nextSibling);var a,u,c=an(n,s.line);if(c==i.view.length-1?(a=i.viewTo-1,u=i.lineDiv.lastChild):(a=he(i.view[c+1].line)-1,u=i.view[c+1].node.previousSibling),!r)return!1;for(var h=n.doc.splitLines(function(e,t,r,n,i){var o="",l=!1,s=e.doc.lineSeparator(),a=!1;function u(){l&&(o+=s,a&&(o+=s),l=a=!1)}function c(e){e&&(u(),o+=e)}function h(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(r)return void c(r);var o,f=t.getAttribute("cm-marker");if(f){var d=e.findMarks(ge(n,0),ge(i+1,0),(v=+f,function(e){return e.id==v}));return void(d.length&&(o=d[0].find(0))&&c(ae(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;p&&u();for(var g=0;g<t.childNodes.length;g++)h(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(a=!0),p&&(l=!0)}else 3==t.nodeType&&c(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var v}for(;h(t),t!=r;)t=t.nextSibling,a=!1;return o}(n,r,u,t,a)),f=ae(n.doc,ge(t,0),ge(a,se(n.doc,a).text.length));h.length>1&&f.length>1;)if($(h)==$(f))h.pop(),f.pop(),a--;else{if(h[0]!=f[0])break;h.shift(),f.shift(),t++}for(var d=0,p=0,g=h[0],v=f[0],m=Math.min(g.length,v.length);d<m&&g.charCodeAt(d)==v.charCodeAt(d);)++d;for(var y=$(h),b=$(f),w=Math.min(y.length-(1==h.length?d:0),b.length-(1==f.length?d:0));p<w&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;if(1==h.length&&1==f.length&&t==l.line)for(;d&&d>l.ch&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)d--,p++;h[h.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),h[0]=h[0].slice(d).replace(/\u200b+$/,"");var x=ge(t,d),C=ge(a,f.length?$(f).length-p:0);return h.length>1||h[0]||ve(x,C)?(uo(n.doc,h,x,C,"+input"),!0):void 0},Il.prototype.ensurePolled=function(){this.forceCompositionEnd()},Il.prototype.reset=function(){this.forceCompositionEnd()},Il.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Il.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Il.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Yn(this.cm,function(){return Zn(e.cm)})},Il.prototype.setUneditable=function(e){e.contentEditable="false"},Il.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||_n(this.cm,Ol)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Il.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Il.prototype.onContextMenu=function(){},Il.prototype.resetPosition=function(){},Il.prototype.needsContentAttribute=!0;var Ul=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new R,this.hasSelection=!1,this.composing=null};Ul.prototype.init=function(e){var t=this,r=this,n=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!it(n,e)){if(n.somethingSelected())Nl({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=Wl(n);Nl({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,V):(r.prevInput="",i.value=t.text.join("\n"),P(i))}"cut"==e.type&&(n.state.cutIncoming=!0)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),g&&(i.style.width="0px"),et(i,"input",function(){l&&s>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()}),et(i,"paste",function(e){it(n,e)||Al(e,n)||(n.state.pasteIncoming=!0,r.fastPoll())}),et(i,"cut",o),et(i,"copy",o),et(e.scroller,"paste",function(t){xr(e,t)||it(n,t)||(n.state.pasteIncoming=!0,r.focus())}),et(e.lineSpace,"selectstart",function(t){xr(e,t)||at(t)}),et(i,"compositionstart",function(){var e=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),et(i,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},Ul.prototype.createField=function(e){this.wrapper=Fl(),this.textarea=this.wrapper.firstChild},Ul.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=cn(e);if(e.options.moveInputWithCursor){var i=Xr(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),l=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+l.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+l.left-o.left))}return n},Ul.prototype.showSelection=function(e){var t=this.cm.display;N(t.cursorDiv,e.cursors),N(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Ul.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&P(this.textarea),l&&s>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",l&&s>=9&&(this.hasSelection=null))}},Ul.prototype.getField=function(){return this.textarea},Ul.prototype.supportsTouch=function(){return!1},Ul.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!m||W()!=this.textarea))try{this.textarea.focus()}catch(e){}},Ul.prototype.blur=function(){this.textarea.blur()},Ul.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ul.prototype.receivedFocus=function(){this.slowPoll()},Ul.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Ul.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function r(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,r))})},Ul.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||xt(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(l&&s>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||n||(n=""),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var a=0,u=Math.min(n.length,i.length);a<u&&n.charCodeAt(a)==i.charCodeAt(a);)++a;return Yn(t,function(){Ol(t,i.slice(a),n.length-a,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ul.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ul.prototype.onKeyPress=function(){l&&s>=9&&(this.hasSelection=null),this.fastPoll()},Ul.prototype.onContextMenu=function(e){var t=this,r=t.cm,n=r.display,i=t.textarea,o=sn(r,e),u=n.scroller.scrollTop;if(o&&!h){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(o)&&_n(r,_i)(r.doc,wi(o),V);var c=i.style.cssText,f=t.wrapper.style.cssText;t.wrapper.style.cssText="position: absolute";var d,p=t.wrapper.getBoundingClientRect();if(i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(l?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",a&&(d=window.scrollY),n.input.focus(),a&&window.scrollTo(null,d),n.input.reset(),r.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=!0,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll),l&&s>=9&&v(),S){ht(e);var g=function(){rt(window,"mouseup",g),setTimeout(m,20)};et(window,"mouseup",g)}else setTimeout(m,50)}function v(){if(null!=i.selectionStart){var e=r.somethingSelected(),o=""+(e?i.value:"");i.value="",i.value=o,t.prevInput=e?"":"",i.selectionStart=1,i.selectionEnd=o.length,n.selForContextMenu=r.doc.sel}}function m(){if(t.contextMenuPending=!1,t.wrapper.style.cssText=f,i.style.cssText=c,l&&s<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=u),null!=i.selectionStart){(!l||l&&s<9)&&v();var e=0,o=function(){n.selForContextMenu==r.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&""==t.prevInput?_n(r,ro)(r):e++<10?n.detectingSelectAll=setTimeout(o,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(o,200)}}},Ul.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},Ul.prototype.setUneditable=function(){},Ul.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function r(r,n,i,o){e.defaults[r]=n,i&&(t[r]=o?function(e,t,r){r!=yl&&i(e,t,r)}:i)}e.defineOption=r,e.Init=yl,r("value","",function(e,t){return e.setValue(t)},!0),r("mode",null,function(e,t){e.doc.modeOption=t,ki(e)},!0),r("indentUnit",2,ki,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,function(e){Ti(e),Rr(e),Zn(e)},!0),r("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,r.push(ge(n,o))}n++});for(var i=r.length-1;i>=0;i--)uo(e.doc,t,r[i],ge(r[i].line,r[i].ch+t.length))}}),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=yl&&e.refresh()}),r("specialCharPlaceholder",Qt,function(e){return e.refresh()},!0),r("electricChars",!0),r("inputStyle",m?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),r("rtlMoveVisually",!w),r("wholeLineUpdateBefore",!0),r("theme","default",function(e){ml(e),xl(e)},!0),r("keyMap","default",function(e,t,r){var n=jo(t),i=r!=yl&&jo(r);i&&i.detach&&i.detach(e,n),n.attach&&n.attach(e,i||null)}),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,Sl,!0),r("gutters",[],function(e){hi(e.options),xl(e)},!0),r("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?nn(e.display)+"px":"0",e.refresh()},!0),r("coverGutterNextToScrollbar",!1,function(e){return En(e)},!0),r("scrollbarStyle","native",function(e){Rn(e),En(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),r("lineNumbers",!1,function(e){hi(e.options),xl(e)},!0),r("firstLineNumber",1,xl,!0),r("lineNumberFormatter",function(e){return e},xl,!0),r("showCursorWhenSelecting",!1,un,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("readOnly",!1,function(e,t){"nocursor"==t&&(yn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),r("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),r("dragDrop",!0,Cl),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,un,!0),r("singleCursorHeightPerLine",!0,un,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,Ti,!0),r("addModeClass",!1,Ti,!0),r("pollInterval",100),r("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),r("historyEventDelay",1250),r("viewportMargin",10,function(e){return e.refresh()},!0),r("maxHighlightLength",1e4,Ti,!0),r("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),r("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),r("autofocus",null),r("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),r("phrases",null)}(Ll),function(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,r){var n=this.options,i=n[e];n[e]==r&&"mode"!=e||(n[e]=r,t.hasOwnProperty(e)&&_n(this,t[e])(this,r,i),nt(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](jo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:$n(function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");!function(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}(this.state.overlays,{mode:n,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},function(e){return e.priority}),this.state.modeGen++,Zn(this)}),removeOverlay:$n(function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void Zn(this)}}),indentLine:$n(function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),de(this.doc,e)&&Tl(this,e,t,r)}),indentSelection:$n(function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var i=t[n];if(i.empty())i.head.line>r&&(Tl(this,i.head.line,e,!0),r=i.head.line,n==this.doc.sel.primIndex&&Tn(this));else{var o=i.from(),l=i.to(),s=Math.max(r,o.line);r=Math.min(this.lastLine(),l.line-(l.ch?0:1))+1;for(var a=s;a<r;++a)Tl(this,a,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[n].from().ch>0&&ji(this.doc,n,new yi(o,u[n].to()),V)}}}),getTokenAt:function(e,t){return Vt(this,e,t)},getLineTokens:function(e,t){return Vt(this,ge(e),t,!0)},getTokenTypeAt:function(e){e=Ce(this.doc,e);var t,r=It(this,se(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var l=n+i>>1;if((l?r[2*l-1]:0)>=o)i=l;else{if(!(r[2*l+1]<o)){t=r[2*l+2];break}n=l+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!r.hasOwnProperty(t))return n;var i=r[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&n.push(i[o[t]]);else if(o[t])for(var l=0;l<o[t].length;l++){var s=i[o[t][l]];s&&n.push(s)}else o.helperType&&i[o.helperType]?n.push(i[o.helperType]):i[o.name]&&n.push(i[o.name]);for(var a=0;a<i._global.length;a++){var u=i._global[a];u.pred(o,this)&&-1==B(n,u.val)&&n.push(u.val)}return n},getStateAfter:function(e,t){var r=this.doc;return zt(this,(e=xe(r,null==e?r.first+r.size-1:e))+1,t).state},cursorCoords:function(e,t){var r=this.doc.sel.primary();return Xr(this,null==e?r.head:"object"==typeof e?Ce(this.doc,e):e?r.from():r.to(),t||"page")},charCoords:function(e,t){return jr(this,Ce(this.doc,e),t||"page")},coordsChar:function(e,t){return $r(this,(e=Kr(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Kr(this,{top:e,left:0},t||"page").top,fe(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,r){var n,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),n=se(this.doc,e)}else n=e;return Vr(this,n,{top:0,left:0},t||"page",r||i).top+(i?this.doc.height-Xe(n):0)},defaultTextHeight:function(){return en(this.display)},defaultCharWidth:function(){return tn(this.display)},
getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o,l,s,a=this.display,u=(e=Xr(this,Ce(this.doc,e))).bottom,c=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),a.sizer.appendChild(t),"over"==n)u=e.top;else if("above"==n||"near"==n){var h=Math.max(a.wrapper.clientHeight,this.doc.height),f=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>h)&&e.top>t.offsetHeight?u=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=h&&(u=e.bottom),c+t.offsetWidth>f&&(c=f-t.offsetWidth)}t.style.top=u+"px",t.style.left=t.style.right="","right"==i?(c=a.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?c=0:"middle"==i&&(c=(a.sizer.clientWidth-t.offsetWidth)/2),t.style.left=c+"px"),r&&(o=this,l={left:c,top:u,right:c+t.offsetWidth,bottom:u+t.offsetHeight},null!=(s=Ln(o,l)).scrollTop&&An(o,s.scrollTop),null!=s.scrollLeft&&Wn(o,s.scrollLeft))},triggerOnKeyDown:$n(ol),triggerOnKeyPress:$n(sl),triggerOnKeyUp:ll,triggerOnMouseDown:$n(hl),execCommand:function(e){if(qo.hasOwnProperty(e))return qo[e].call(null,this)},triggerElectric:$n(function(e){Dl(this,e)}),findPosH:function(e,t,r,n){var i=1;t<0&&(i=-1,t=-t);for(var o=Ce(this.doc,e),l=0;l<t&&!(o=Pl(this.doc,o,i,r,n)).hitSide;++l);return o},moveH:$n(function(e,t){var r=this;this.extendSelectionsBy(function(n){return r.display.shift||r.doc.extend||n.empty()?Pl(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()},j)}),deleteH:$n(function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):Xo(this,function(r){var i=Pl(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}})}),findPosV:function(e,t,r,n){var i=1,o=n;t<0&&(i=-1,t=-t);for(var l=Ce(this.doc,e),s=0;s<t;++s){var a=Xr(this,l,"div");if(null==o?o=a.left:a.left=o,(l=El(this,a,i,r)).hitSide)break}return l},moveV:$n(function(e,t){var r=this,n=this.doc,i=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(l){if(o)return e<0?l.from():l.to();var s=Xr(r,l.head,"div");null!=l.goalColumn&&(s.left=l.goalColumn),i.push(s.left);var a=El(r,s,e,t);return"page"==t&&l==n.sel.primary()&&kn(r,jr(r,a,"div").top-s.top),a},j),i.length)for(var l=0;l<n.sel.ranges.length;l++)n.sel.ranges[l].goalColumn=i[l]}),findWordAt:function(e){var t=se(this.doc,e.line).text,r=e.ch,n=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!r?++n:--r;for(var o=t.charAt(r),l=te(o,i)?function(e){return te(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!te(e)};r>0&&l(t.charAt(r-1));)--r;for(;n<t.length&&l(t.charAt(n));)++n}return new yi(ge(e.line,r),ge(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?H(this.display.cursorDiv,"CodeMirror-overwrite"):T(this.display.cursorDiv,"CodeMirror-overwrite"),nt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==W()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:$n(function(e,t){Mn(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-kr(this)-this.display.barHeight,width:e.scrollWidth-kr(this)-this.display.barWidth,clientHeight:Mr(this),clientWidth:Tr(this)}},scrollIntoView:$n(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ge(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Nn(e),e.curOp.scrollToPos=t}(this,e):On(this,e.from,e.to,e.margin)}),setSize:$n(function(e,t){var r=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&zr(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Qn(r,i,"widget");break}++i}),this.curOp.forceUpdate=!0,nt(this,"refresh",this)}),operation:function(e){return Yn(this,e)},startOperation:function(){return Gn(this)},endOperation:function(){return Un(this)},refresh:$n(function(){var e=this.display.cachedTextHeight;Zn(this),this.curOp.forceUpdate=!0,Rr(this),Mn(this,this.doc.scrollLeft,this.doc.scrollTop),ai(this),(null==e||Math.abs(e-en(this.display))>.5)&&ln(this),nt(this,"refresh",this)}),swapDoc:$n(function(e){var t=this.doc;return t.cm=null,Ai(this,e),Rr(this),this.display.input.reset(),Mn(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,sr(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},st(e),e.registerHelper=function(t,n,i){r.hasOwnProperty(t)||(r[t]=e[t]={_global:[]}),r[t][n]=i},e.registerGlobalHelper=function(t,n,i,o){e.registerHelper(t,n,o),r[t]._global.push({pred:i,val:o})}}(Ll);var Vl="iter insert remove copy getEditor constructor".split(" ");for(var Kl in To.prototype)To.prototype.hasOwnProperty(Kl)&&B(Vl,Kl)<0&&(Ll.prototype[Kl]=function(e){return function(){return e.apply(this.doc,arguments)}}(To.prototype[Kl]));return st(To),Ll.inputStyles={textarea:Ul,contenteditable:Il},Ll.defineMode=function(e){Ll.defaults.mode||"null"==e||(Ll.defaults.mode=e),function(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Lt[e]=t}.apply(this,arguments)},Ll.defineMIME=function(e,t){kt[e]=t},Ll.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Ll.defineMIME("text/plain","null"),Ll.defineExtension=function(e,t){Ll.prototype[e]=t},Ll.defineDocExtension=function(e,t){To.prototype[e]=t},Ll.fromTextArea=function(e,t){if((t=t?I(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=W();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}function n(){e.value=s.getValue()}var i;if(e.form&&(et(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var l=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=l}}catch(e){}}t.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(rt(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var s=Ll(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return s},function(e){e.off=rt,e.on=et,e.wheelEventPixels=gi,e.Doc=To,e.splitLines=wt,e.countColumn=z,e.findColumn=X,e.isWordChar=ee,e.Pass=U,e.signal=nt,e.Line=Xt,e.changeEnd=xi,e.scrollbarModel=zn,e.Pos=ge,e.cmpPos=ve,e.modes=Lt,e.mimeModes=kt,e.resolveMode=Tt,e.getMode=Mt,e.modeExtensions=Nt,e.extendMode=Ot,e.copyState=At,e.startState=Wt,e.innerMode=Dt,e.commands=qo,e.keyMap=zo,e.keyName=Ko,e.isModifierKey=Uo,e.lookupKey=Go,e.normalizeKeyMap=Bo,e.StringStream=Ht,e.SharedTextMarker=Co,e.TextMarker=wo,e.LineWidget=mo,e.e_preventDefault=at,e.e_stopPropagation=ut,e.e_stop=ht,e.addClass=H,e.contains=D,e.rmClass=T,e.keyNames=Fo}(Ll),Ll.version="5.40.2",Ll});
!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define('libs/cm/mode/xml/xml',["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",function(r,o){var a,i,l=r.indentUnit,u={},d=o.htmlMode?e:n;for(var c in d)u[c]=d[c];for(var c in o)u[c]=o[c];function s(t,e){function n(n){return e.tokenize=n,n(t,e)}var r=t.next();return"<"==r?t.eat("!")?t.eat("[")?t.match("CDATA[")?n(m("atom","]]>")):null:t.match("--")?n(m("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),n(function t(e){return function(n,r){for(var o;null!=(o=n.next());){if("<"==o)return r.tokenize=t(e+1),r.tokenize(n,r);if(">"==o){if(1==e){r.tokenize=s;break}return r.tokenize=t(e-1),r.tokenize(n,r)}}return"meta"}}(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),e.tokenize=m("meta","?>"),"meta"):(a=t.eat("/")?"closeTag":"openTag",e.tokenize=f,"tag bracket"):"&"==r?(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error":(t.eatWhile(/[^&<]/),null)}function f(t,e){var n,r,o=t.next();if(">"==o||"/"==o&&t.eat(">"))return e.tokenize=s,a=">"==o?"endTag":"selfcloseTag","tag bracket";if("="==o)return a="equals",null;if("<"==o){e.tokenize=s,e.state=h,e.tagName=e.tagStart=null;var i=e.tokenize(t,e);return i?i+" tag error":"tag error"}return/[\'\"]/.test(o)?(e.tokenize=(n=o,(r=function(t,e){for(;!t.eol();)if(t.next()==n){e.tokenize=f;break}return"string"}).isInAttribute=!0,r),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function m(t,e){return function(n,r){for(;!n.eol();){if(n.match(e)){r.tokenize=s;break}n.next()}return t}}function g(t){t.context&&(t.context=t.context.prev)}function p(t,e){for(var n;;){if(!t.context)return;if(n=t.context.tagName,!u.contextGrabbers.hasOwnProperty(n)||!u.contextGrabbers[n].hasOwnProperty(e))return;g(t)}}function h(t,e,n){return"openTag"==t?(n.tagStart=e.column(),x):"closeTag"==t?b:h}function x(t,e,n){return"word"==t?(n.tagName=e.current(),i="tag",v):u.allowMissingTagName&&"endTag"==t?(i="tag bracket",v(t,e,n)):(i="error",x)}function b(t,e,n){if("word"==t){var r=e.current();return n.context&&n.context.tagName!=r&&u.implicitlyClosed.hasOwnProperty(n.context.tagName)&&g(n),n.context&&n.context.tagName==r||!1===u.matchClosing?(i="tag",k):(i="tag error",w)}return u.allowMissingTagName&&"endTag"==t?(i="tag bracket",k(t,e,n)):(i="error",w)}function k(t,e,n){return"endTag"!=t?(i="error",k):(g(n),h)}function w(t,e,n){return i="error",k(t,0,n)}function v(t,e,n){if("word"==t)return i="attribute",T;if("endTag"==t||"selfcloseTag"==t){var r=n.tagName,o=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==t||u.autoSelfClosers.hasOwnProperty(r)?p(n,r):(p(n,r),n.context=new function(t,e,n){this.prev=t.context,this.tagName=e,this.indent=t.indented,this.startOfLine=n,(u.doNotIndent.hasOwnProperty(e)||t.context&&t.context.noIndent)&&(this.noIndent=!0)}(n,r,o==n.indented)),h}return i="error",v}function T(t,e,n){return"equals"==t?y:(u.allowMissing||(i="error"),v(t,0,n))}function y(t,e,n){return"string"==t?N:"word"==t&&u.allowUnquoted?(i="string",v):(i="error",v(t,0,n))}function N(t,e,n){return"string"==t?N:v(t,0,n)}return s.isInText=!0,{startState:function(t){var e={tokenize:s,state:h,indented:t||0,tagName:null,tagStart:null,context:null};return null!=t&&(e.baseIndent=t),e},token:function(t,e){if(!e.tagName&&t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;a=null;var n=e.tokenize(t,e);return(n||a)&&"comment"!=n&&(i=null,e.state=e.state(a||n,t,e),i&&(n="error"==i?n+" error":i)),n},indent:function(e,n,r){var o=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+l;if(o&&o.noIndent)return t.Pass;if(e.tokenize!=f&&e.tokenize!=s)return r?r.match(/^(\s*)/)[0].length:0;if(e.tagName)return!1!==u.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+l*(u.multilineTagIndentFactor||1);if(u.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var a=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(a&&a[1])for(;o;){if(o.tagName==a[2]){o=o.prev;break}if(!u.implicitlyClosed.hasOwnProperty(o.tagName))break;o=o.prev}else if(a)for(;o;){var i=u.contextGrabbers[o.tagName];if(!i||!i.hasOwnProperty(a[2]))break;o=o.prev}for(;o&&o.prev&&!o.startOfLine;)o=o.prev;return o?o.indent+l:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:u.htmlMode?"html":"xml",helperType:u.htmlMode?"html":"xml",skipAttribute:function(t){t.state==y&&(t.state=v)}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})});
!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define('libs/cm/mode/javascript/javascript',["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,r){var n,a,i=t.indentUnit,o=r.statementIndent,c=r.jsonld,u=r.json||c,s=r.typescript,f=r.wordCharacters||/[\w$\xa1-\uffff]/,l=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),a=e("keyword d"),i=e("operator"),o={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:r,do:r,try:r,finally:r,return:a,break:a,continue:a,new:e("new"),delete:n,void:n,throw:n,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:o,false:o,null:o,undefined:o,NaN:o,Infinity:o,this:e("this"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n,await:n}}(),d=/[+\-*&%=<>!?|~^@]/,p=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function m(e,t,r){return n=e,a=r,t}function v(e,t){var r,n=e.next();if('"'==n||"'"==n)return t.tokenize=(r=n,function(e,t){var n,a=!1;if(c&&"@"==e.peek()&&e.match(p))return t.tokenize=v,m("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=r||a);)a=!a&&"\\"==n;return a||(t.tokenize=v),m("string","string")}),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return m("number","number");if("."==n&&e.match(".."))return m("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return m(n);if("="==n&&e.eat(">"))return m("=>","operator");if("0"==n&&e.match(/^(?:x[\da-f]+|o[0-7]+|b[01]+)n?/i))return m("number","number");if(/\d/.test(n))return e.match(/^\d*(?:n|(?:\.\d*)?(?:[eE][+\-]?\d+)?)?/),m("number","number");if("/"==n)return e.eat("*")?(t.tokenize=k,k(e,t)):e.eat("/")?(e.skipToEnd(),m("comment","comment")):Le(e,t,1)?(function(e){for(var t,r=!1,n=!1;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),m("regexp","string-2")):(e.eat("="),m("operator","operator",e.current()));if("`"==n)return t.tokenize=y,y(e,t);if("#"==n)return e.skipToEnd(),m("error","error");if(d.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),m("operator","operator",e.current());if(f.test(n)){e.eatWhile(f);var a=e.current();if("."!=t.lastType){if(l.propertyIsEnumerable(a)){var i=l[a];return m(i.type,i.style,a)}if("async"==a&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return m("async","keyword",a)}return m("variable","variable",a)}}function k(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=v;break}n="*"==r}return m("comment","comment")}function y(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=v;break}n=!n&&"\\"==r}return m("quasi","string-2",e.current())}var w="([{}])";function b(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(r<0)){if(s){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,r));n&&(r=n.index)}for(var a=0,i=!1,o=r-1;o>=0;--o){var c=e.string.charAt(o),u=w.indexOf(c);if(u>=0&&u<3){if(!a){++o;break}if(0==--a){"("==c&&(i=!0);break}}else if(u>=3&&u<6)++a;else if(f.test(c))i=!0;else{if(/["'\/]/.test(c))return;if(i&&!a){++o;break}}}i&&!a&&(t.fatArrowAt=o)}}var x={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function h(e,t,r,n,a,i){this.indented=e,this.column=t,this.type=r,this.prev=a,this.info=i,null!=n&&(this.align=n)}function g(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0;for(var n=e.context;n;n=n.prev)for(r=n.vars;r;r=r.next)if(r.name==t)return!0}var j={state:null,column:null,marked:null,cc:null};function M(){for(var e=arguments.length-1;e>=0;e--)j.cc.push(arguments[e])}function V(){return M.apply(null,arguments),!0}function A(e,t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}function E(e){var t=j.state;if(j.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var n=function e(t,r){if(r){if(r.block){var n=e(t,r.prev);return n?n==r.prev?r:new I(n,r.vars,!0):null}return A(t,r.vars)?r:new I(r.prev,new T(t,r.vars),!1)}return null}(e,t.context);if(null!=n)return void(t.context=n)}else if(!A(e,t.localVars))return void(t.localVars=new T(e,t.localVars));r.globalVars&&!A(e,t.globalVars)&&(t.globalVars=new T(e,t.globalVars))}function z(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function I(e,t,r){this.prev=e,this.vars=t,this.block=r}function T(e,t){this.name=e,this.next=t}var $=new T("this",new T("arguments",null));function C(){j.state.context=new I(j.state.context,j.state.localVars,!1),j.state.localVars=$}function q(){j.state.context=new I(j.state.context,j.state.localVars,!0),j.state.localVars=null}function O(){j.state.localVars=j.state.context.vars,j.state.context=j.state.context.prev}function P(e,t){var r=function(){var r=j.state,n=r.indented;if("stat"==r.lexical.type)n=r.lexical.indented;else for(var a=r.lexical;a&&")"==a.type&&a.align;a=a.prev)n=a.indented;r.lexical=new h(n,j.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function S(){var e=j.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function N(e){return function t(r){return r==e?V():";"==e||"}"==r||")"==r||"]"==r?M():V(t)}}function U(e,t){return"var"==e?V(P("vardef",t),we,N(";"),S):"keyword a"==e?V(P("form"),D,U,S):"keyword b"==e?V(P("form"),U,S):"keyword d"==e?j.stream.match(/^\s*$/,!1)?V():V(P("stat"),G,N(";"),S):"debugger"==e?V(N(";")):"{"==e?V(P("}"),q,oe,S,O):";"==e?V():"if"==e?("else"==j.state.lexical.info&&j.state.cc[j.state.cc.length-1]==S&&j.state.cc.pop()(),V(P("form"),D,U,S,Me)):"function"==e?V(Te):"for"==e?V(P("form"),Ve,U,S):"class"==e||s&&"interface"==t?(j.marked="keyword",V(P("form"),qe,S)):"variable"==e?s&&"declare"==t?(j.marked="keyword",V(U)):s&&("module"==t||"enum"==t||"type"==t)&&j.stream.match(/^\s*\w/,!1)?(j.marked="keyword","enum"==t?V(Je):"type"==t?V(fe,N("operator"),fe,N(";")):V(P("form"),be,N("{"),P("}"),oe,S,S)):s&&"namespace"==t?(j.marked="keyword",V(P("form"),H,oe,S)):s&&"abstract"==t?(j.marked="keyword",V(U)):V(P("stat"),_):"switch"==e?V(P("form"),D,N("{"),P("}","switch"),q,oe,S,S,O):"case"==e?V(H,N(":")):"default"==e?V(N(":")):"catch"==e?V(P("form"),C,B,U,S,O):"export"==e?V(P("stat"),Ne,S):"import"==e?V(P("stat"),Be,S):"async"==e?V(U):"@"==t?V(H,U):M(P("stat"),H,N(";"),S)}function B(e){if("("==e)return V($e,N(")"))}function H(e,t){return F(e,t,!1)}function W(e,t){return F(e,t,!0)}function D(e){return"("!=e?M():V(P(")"),H,N(")"),S)}function F(e,t,r){if(j.state.fatArrowAt==j.stream.start){var n=r?X:R;if("("==e)return V(C,P(")"),ae($e,")"),S,N("=>"),n,O);if("variable"==e)return M(C,be,N("=>"),n,O)}var a=r?K:J;return x.hasOwnProperty(e)?V(a):"function"==e?V(Te,a):"class"==e||s&&"interface"==t?(j.marked="keyword",V(P("form"),Ce,S)):"keyword c"==e||"async"==e?V(r?W:H):"("==e?V(P(")"),G,N(")"),S,a):"operator"==e||"spread"==e?V(r?W:H):"["==e?V(P("]"),Ge,S,a):"{"==e?ie(te,"}",null,a):"quasi"==e?M(L,a):"new"==e?V(function(e){return function(t){return"."==t?V(e?Z:Y):"variable"==t&&s?V(ve,e?K:J):M(e?W:H)}}(r)):"import"==e?V(H):V()}function G(e){return e.match(/[;\}\)\],]/)?M():M(H)}function J(e,t){return","==e?V(H):K(e,t,!1)}function K(e,t,r){var n=0==r?J:K,a=0==r?H:W;return"=>"==e?V(C,r?X:R,O):"operator"==e?/\+\+|--/.test(t)||s&&"!"==t?V(n):s&&"<"==t&&j.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?V(P(">"),ae(fe,">"),S,n):"?"==t?V(H,N(":"),a):V(a):"quasi"==e?M(L,n):";"!=e?"("==e?ie(W,")","call",n):"."==e?V(ee,n):"["==e?V(P("]"),G,N("]"),S,n):s&&"as"==t?(j.marked="keyword",V(fe,n)):"regexp"==e?(j.state.lastType=j.marked="operator",j.stream.backUp(j.stream.pos-j.stream.start-1),V(a)):void 0:void 0}function L(e,t){return"quasi"!=e?M():"${"!=t.slice(t.length-2)?V(L):V(H,Q)}function Q(e){if("}"==e)return j.marked="string-2",j.state.tokenize=y,V(L)}function R(e){return b(j.stream,j.state),M("{"==e?U:H)}function X(e){return b(j.stream,j.state),M("{"==e?U:W)}function Y(e,t){if("target"==t)return j.marked="keyword",V(J)}function Z(e,t){if("target"==t)return j.marked="keyword",V(K)}function _(e){return":"==e?V(S,U):M(J,N(";"),S)}function ee(e){if("variable"==e)return j.marked="property",V()}function te(e,t){if("async"==e)return j.marked="property",V(te);if("variable"==e||"keyword"==j.style){return j.marked="property","get"==t||"set"==t?V(re):(s&&j.state.fatArrowAt==j.stream.start&&(r=j.stream.match(/^\s*:\s*/,!1))&&(j.state.fatArrowAt=j.stream.pos+r[0].length),V(ne));var r}else{if("number"==e||"string"==e)return j.marked=c?"property":j.style+" property",V(ne);if("jsonld-keyword"==e)return V(ne);if(s&&z(t))return j.marked="keyword",V(te);if("["==e)return V(H,ce,N("]"),ne);if("spread"==e)return V(W,ne);if("*"==t)return j.marked="keyword",V(te);if(":"==e)return M(ne)}}function re(e){return"variable"!=e?M(ne):(j.marked="property",V(Te))}function ne(e){return":"==e?V(W):"("==e?M(Te):void 0}function ae(e,t,r){function n(a,i){if(r?r.indexOf(a)>-1:","==a){var o=j.state.lexical;return"call"==o.info&&(o.pos=(o.pos||0)+1),V(function(r,n){return r==t||n==t?M():M(e)},n)}return a==t||i==t?V():V(N(t))}return function(r,a){return r==t||a==t?V():M(e,n)}}function ie(e,t,r){for(var n=3;n<arguments.length;n++)j.cc.push(arguments[n]);return V(P(t,r),ae(e,t),S)}function oe(e){return"}"==e?V():M(U,oe)}function ce(e,t){if(s){if(":"==e)return V(fe);if("?"==t)return V(ce)}}function ue(e){if(s&&":"==e)return j.stream.match(/^\s*\w+\s+is\b/,!1)?V(H,se,fe):V(fe)}function se(e,t){if("is"==t)return j.marked="keyword",V()}function fe(e,t){return"keyof"==t||"typeof"==t?(j.marked="keyword",V("keyof"==t?fe:W)):"variable"==e||"void"==t?(j.marked="type",V(me)):"string"==e||"number"==e||"atom"==e?V(me):"["==e?V(P("]"),ae(fe,"]",","),S,me):"{"==e?V(P("}"),ae(de,"}",",;"),S,me):"("==e?V(ae(pe,")"),le):"<"==e?V(ae(fe,">"),fe):void 0}function le(e){if("=>"==e)return V(fe)}function de(e,t){return"variable"==e||"keyword"==j.style?(j.marked="property",V(de)):"?"==t?V(de):":"==e?V(fe):"["==e?V(H,ce,N("]"),de):void 0}function pe(e,t){return"variable"==e&&j.stream.match(/^\s*[?:]/,!1)||"?"==t?V(pe):":"==e?V(fe):M(fe)}function me(e,t){return"<"==t?V(P(">"),ae(fe,">"),S,me):"|"==t||"."==e||"&"==t?V(fe):"["==e?V(N("]"),me):"extends"==t||"implements"==t?(j.marked="keyword",V(fe)):void 0}function ve(e,t){if("<"==t)return V(P(">"),ae(fe,">"),S,me)}function ke(){return M(fe,ye)}function ye(e,t){if("="==t)return V(fe)}function we(e,t){return"enum"==t?(j.marked="keyword",V(Je)):M(be,ce,ge,je)}function be(e,t){return s&&z(t)?(j.marked="keyword",V(be)):"variable"==e?(E(t),V()):"spread"==e?V(be):"["==e?ie(he,"]"):"{"==e?ie(xe,"}"):void 0}function xe(e,t){return"variable"!=e||j.stream.match(/^\s*:/,!1)?("variable"==e&&(j.marked="property"),"spread"==e?V(be):"}"==e?M():V(N(":"),be,ge)):(E(t),V(ge))}function he(){return M(be,ge)}function ge(e,t){if("="==t)return V(W)}function je(e){if(","==e)return V(we)}function Me(e,t){if("keyword b"==e&&"else"==t)return V(P("form","else"),U,S)}function Ve(e,t){return"await"==t?V(Ve):"("==e?V(P(")"),Ae,N(")"),S):void 0}function Ae(e){return"var"==e?V(we,N(";"),ze):";"==e?V(ze):"variable"==e?V(Ee):M(H,N(";"),ze)}function Ee(e,t){return"in"==t||"of"==t?(j.marked="keyword",V(H)):V(J,ze)}function ze(e,t){return";"==e?V(Ie):"in"==t||"of"==t?(j.marked="keyword",V(H)):M(H,N(";"),Ie)}function Ie(e){")"!=e&&V(H)}function Te(e,t){return"*"==t?(j.marked="keyword",V(Te)):"variable"==e?(E(t),V(Te)):"("==e?V(C,P(")"),ae($e,")"),S,ue,U,O):s&&"<"==t?V(P(">"),ae(ke,">"),S,Te):void 0}function $e(e,t){return"@"==t&&V(H,$e),"spread"==e?V($e):s&&z(t)?(j.marked="keyword",V($e)):M(be,ce,ge)}function Ce(e,t){return"variable"==e?qe(e,t):Oe(e,t)}function qe(e,t){if("variable"==e)return E(t),V(Oe)}function Oe(e,t){return"<"==t?V(P(">"),ae(ke,">"),S,Oe):"extends"==t||"implements"==t||s&&","==e?("implements"==t&&(j.marked="keyword"),V(s?fe:H,Oe)):"{"==e?V(P("}"),Pe,S):void 0}function Pe(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||s&&z(t))&&j.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(j.marked="keyword",V(Pe)):"variable"==e||"keyword"==j.style?(j.marked="property",V(s?Se:Te,Pe)):"["==e?V(H,ce,N("]"),s?Se:Te,Pe):"*"==t?(j.marked="keyword",V(Pe)):";"==e?V(Pe):"}"==e?V():"@"==t?V(H,Pe):void 0}function Se(e,t){return"?"==t?V(Se):":"==e?V(fe,ge):"="==t?V(W):M(Te)}function Ne(e,t){return"*"==t?(j.marked="keyword",V(Fe,N(";"))):"default"==t?(j.marked="keyword",V(H,N(";"))):"{"==e?V(ae(Ue,"}"),Fe,N(";")):M(U)}function Ue(e,t){return"as"==t?(j.marked="keyword",V(N("variable"))):"variable"==e?M(W,Ue):void 0}function Be(e){return"string"==e?V():"("==e?M(H):M(He,We,Fe)}function He(e,t){return"{"==e?ie(He,"}"):("variable"==e&&E(t),"*"==t&&(j.marked="keyword"),V(De))}function We(e){if(","==e)return V(He,We)}function De(e,t){if("as"==t)return j.marked="keyword",V(He)}function Fe(e,t){if("from"==t)return j.marked="keyword",V(H)}function Ge(e){return"]"==e?V():M(ae(W,"]"))}function Je(){return M(P("form"),be,N("{"),P("}"),ae(Ke,"}"),S,S)}function Ke(){return M(be,ge)}function Le(e,t,r){return t.tokenize==v&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(r||0)))}return O.lex=!0,S.lex=!0,{startState:function(e){var t={tokenize:v,lastType:"sof",cc:[],lexical:new h((e||0)-i,0,"block",!1),localVars:r.localVars,context:r.localVars&&new I(null,null,!1),indented:e||0};return r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),b(e,t)),t.tokenize!=k&&e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==n?r:(t.lastType="operator"!=n||"++"!=a&&"--"!=a?n:"incdec",function(e,t,r,n,a){var i=e.cc;for(j.state=e,j.stream=a,j.marked=null,j.cc=i,j.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((i.length?i.pop():u?H:U)(r,n)){for(;i.length&&i[i.length-1].lex;)i.pop()();return j.marked?j.marked:"variable"==r&&g(e,n)?"variable-2":t}}(t,r,n,a,e))},indent:function(t,n){if(t.tokenize==k)return e.Pass;if(t.tokenize!=v)return 0;var a,c=n&&n.charAt(0),u=t.lexical;if(!/^\s*else\b/.test(n))for(var s=t.cc.length-1;s>=0;--s){var f=t.cc[s];if(f==S)u=u.prev;else if(f!=Me)break}for(;("stat"==u.type||"form"==u.type)&&("}"==c||(a=t.cc[t.cc.length-1])&&(a==J||a==K)&&!/^[,\.=+\-*:?[\(]/.test(n));)u=u.prev;o&&")"==u.type&&"stat"==u.prev.type&&(u=u.prev);var l=u.type,p=c==l;return"vardef"==l?u.indented+("operator"==t.lastType||","==t.lastType?u.info.length+1:0):"form"==l&&"{"==c?u.indented:"form"==l?u.indented+i:"stat"==l?u.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||d.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,n)?o||i:0):"switch"!=u.info||p||0==r.doubleIndentSwitch?u.align?u.column+(p?0:1):u.indented+(p?0:i):u.indented+(/^(?:case|default)\b/.test(n)?i:2*i)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:u?null:"/*",blockCommentEnd:u?null:"*/",blockCommentContinue:u?null:" * ",lineComment:u?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:u?"json":"javascript",jsonldMode:c,jsonMode:u,expressionAllowed:Le,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=H&&t!=W||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})});
!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define('libs/cm/mode/css/css',["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},r=0;r<e.length;++r)t[e[r].toLowerCase()]=!0;return t}e.defineMode("css",function(t,r){var o=r.inline;r.propertyKeywords||(r=e.resolveMode("text/css"));var i,a,n=t.indentUnit,l=r.tokenHooks,s=r.documentTypes||{},c=r.mediaTypes||{},d=r.mediaFeatures||{},p=r.mediaValueKeywords||{},u=r.propertyKeywords||{},m=r.nonStandardPropertyKeywords||{},h=r.fontProperties||{},g=r.counterDescriptors||{},b=r.colorKeywords||{},f=r.valueKeywords||{},y=r.allowNested,w=r.lineComment,k=!0===r.supportsAtComponent;function v(e,t){return i=t,e}function x(e){return function(t,r){for(var o,i=!1;null!=(o=t.next());){if(o==e&&!i){")"==e&&t.backUp(1);break}i=!i&&"\\"==o}return(o==e||!i&&")"!=e)&&(r.tokenize=null),v("string","string")}}function z(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=x(")"),v(null,"(")}function j(e,t,r){this.type=e,this.indent=t,this.prev=r}function q(e,t,r,o){return e.context=new j(r,t.indentation()+(!1===o?0:n),e.context),r}function P(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function K(e,t,r){return T[r.context.type](e,t,r)}function C(e,t,r,o){for(var i=o||1;i>0;i--)r.context=r.context.prev;return K(e,t,r)}function B(e){var t=e.current().toLowerCase();a=f.hasOwnProperty(t)?"atom":b.hasOwnProperty(t)?"keyword":"variable"}var T={top:function(e,t,r){if("{"==e)return q(r,t,"block");if("}"==e&&r.context.prev)return P(r);if(k&&/@component/i.test(e))return q(r,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return q(r,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return q(r,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return r.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return q(r,t,"at");if("hash"==e)a="builtin";else if("word"==e)a="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return q(r,t,"interpolation");if(":"==e)return"pseudo";if(y&&"("==e)return q(r,t,"parens")}return r.context.type},block:function(e,t,r){if("word"==e){var o=t.current().toLowerCase();return u.hasOwnProperty(o)?(a="property","maybeprop"):m.hasOwnProperty(o)?(a="string-2","maybeprop"):y?(a=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(a+=" error","maybeprop")}return"meta"==e?"block":y||"hash"!=e&&"qualifier"!=e?T.top(e,t,r):(a="error","block")},maybeprop:function(e,t,r){return":"==e?q(r,t,"prop"):K(e,t,r)},prop:function(e,t,r){if(";"==e)return P(r);if("{"==e&&y)return q(r,t,"propBlock");if("}"==e||"{"==e)return C(e,t,r);if("("==e)return q(r,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)B(t);else if("interpolation"==e)return q(r,t,"interpolation")}else a+=" error";return"prop"},propBlock:function(e,t,r){return"}"==e?P(r):"word"==e?(a="property","maybeprop"):r.context.type},parens:function(e,t,r){return"{"==e||"}"==e?C(e,t,r):")"==e?P(r):"("==e?q(r,t,"parens"):"interpolation"==e?q(r,t,"interpolation"):("word"==e&&B(t),"parens")},pseudo:function(e,t,r){return"meta"==e?"pseudo":"word"==e?(a="variable-3",r.context.type):K(e,t,r)},documentTypes:function(e,t,r){return"word"==e&&s.hasOwnProperty(t.current())?(a="tag",r.context.type):T.atBlock(e,t,r)},atBlock:function(e,t,r){if("("==e)return q(r,t,"atBlock_parens");if("}"==e||";"==e)return C(e,t,r);if("{"==e)return P(r)&&q(r,t,y?"block":"top");if("interpolation"==e)return q(r,t,"interpolation");if("word"==e){var o=t.current().toLowerCase();a="only"==o||"not"==o||"and"==o||"or"==o?"keyword":c.hasOwnProperty(o)?"attribute":d.hasOwnProperty(o)?"property":p.hasOwnProperty(o)?"keyword":u.hasOwnProperty(o)?"property":m.hasOwnProperty(o)?"string-2":f.hasOwnProperty(o)?"atom":b.hasOwnProperty(o)?"keyword":"error"}return r.context.type},atComponentBlock:function(e,t,r){return"}"==e?C(e,t,r):"{"==e?P(r)&&q(r,t,y?"block":"top",!1):("word"==e&&(a="error"),r.context.type)},atBlock_parens:function(e,t,r){return")"==e?P(r):"{"==e||"}"==e?C(e,t,r,2):T.atBlock(e,t,r)},restricted_atBlock_before:function(e,t,r){return"{"==e?q(r,t,"restricted_atBlock"):"word"==e&&"@counter-style"==r.stateArg?(a="variable","restricted_atBlock_before"):K(e,t,r)},restricted_atBlock:function(e,t,r){return"}"==e?(r.stateArg=null,P(r)):"word"==e?(a="@font-face"==r.stateArg&&!h.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==r.stateArg&&!g.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,r){return"word"==e?(a="variable","keyframes"):"{"==e?q(r,t,"top"):K(e,t,r)},at:function(e,t,r){return";"==e?P(r):"{"==e||"}"==e?C(e,t,r):("word"==e?a="tag":"hash"==e&&(a="builtin"),"at")},interpolation:function(e,t,r){return"}"==e?P(r):"{"==e||";"==e?C(e,t,r):("word"==e?a="variable":"variable"!=e&&"("!=e&&")"!=e&&(a="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:o?"block":"top",stateArg:null,context:new j(o?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var r=(t.tokenize||function(e,t){var r=e.next();if(l[r]){var o=l[r](e,t);if(!1!==o)return o}return"@"==r?(e.eatWhile(/[\w\\\-]/),v("def",e.current())):"="==r||("~"==r||"|"==r)&&e.eat("=")?v(null,"compare"):'"'==r||"'"==r?(t.tokenize=x(r),t.tokenize(e,t)):"#"==r?(e.eatWhile(/[\w\\\-]/),v("atom","hash")):"!"==r?(e.match(/^\s*\w*/),v("keyword","important")):/\d/.test(r)||"."==r&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),v("number","unit")):"-"!==r?/[,+>*\/]/.test(r)?v(null,"select-op"):"."==r&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?v("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(r)?v(null,r):("u"==r||"U"==r)&&e.match(/rl(-prefix)?\(/i)||("d"==r||"D"==r)&&e.match("omain(",!0,!0)||("r"==r||"R"==r)&&e.match("egexp(",!0,!0)?(e.backUp(1),t.tokenize=z,v("property","word")):/[\w\\\-]/.test(r)?(e.eatWhile(/[\w\\\-]/),v("property","word")):v(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),v("number","unit")):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?v("variable-2","variable-definition"):v("variable-2","variable")):e.match(/^\w+-/)?v("meta","meta"):void 0})(e,t);return r&&"object"==typeof r&&(i=r[1],r=r[0]),a=r,"comment"!=i&&(t.state=T[t.state](i,e,t)),a},indent:function(e,t){var r=e.context,o=t&&t.charAt(0),i=r.indent;return"prop"!=r.type||"}"!=o&&")"!=o||(r=r.prev),r.prev&&("}"!=o||"block"!=r.type&&"top"!=r.type&&"interpolation"!=r.type&&"restricted_atBlock"!=r.type?(")"!=o||"parens"!=r.type&&"atBlock_parens"!=r.type)&&("{"!=o||"at"!=r.type&&"atBlock"!=r.type)||(i=Math.max(0,r.indent-n)):i=(r=r.prev).indent),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:w,fold:"brace"}});var r=["domain","regexp","url","url-prefix"],o=t(r),i=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],a=t(i),n=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],l=t(n),s=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],c=t(s),d=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],p=t(d),u=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],m=t(u),h=t(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),g=t(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),b=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],f=t(b),y=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],w=t(y),k=r.concat(i).concat(n).concat(s).concat(d).concat(u).concat(b).concat(y);function v(e,t){for(var r,o=!1;null!=(r=e.next());){if(o&&"/"==r){t.tokenize=null;break}o="*"==r}return["comment","comment"]}e.registerHelper("hintWords","css",k),e.defineMIME("text/css",{documentTypes:o,mediaTypes:a,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:p,nonStandardPropertyKeywords:m,fontProperties:h,counterDescriptors:g,colorKeywords:f,valueKeywords:w,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=v,v(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:a,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:p,nonStandardPropertyKeywords:m,colorKeywords:f,valueKeywords:w,fontProperties:h,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=v,v(e,t)):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:a,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:p,nonStandardPropertyKeywords:m,colorKeywords:f,valueKeywords:w,fontProperties:h,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=v,v(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:o,mediaTypes:a,mediaFeatures:l,propertyKeywords:p,nonStandardPropertyKeywords:m,fontProperties:h,counterDescriptors:g,colorKeywords:f,valueKeywords:w,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=v,v(e,t))}},name:"css",helperType:"gss"})});
!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define('libs/cm/mode/htmlmixed/htmlmixed',["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],t):t(CodeMirror)}(function(t){"use strict";var e={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};var a={};function n(t,e){var n=t.match(function(t){var e=a[t];return e||(a[t]=new RegExp("\\s+"+t+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}(e));return n?/^\s*(.*?)\s*$/.exec(n[2])[1]:""}function l(t,e){return new RegExp((e?"^":"")+"</s*"+t+"s*>","i")}function r(t,e){for(var a in t)for(var n=e[a]||(e[a]=[]),l=t[a],r=l.length-1;r>=0;r--)n.unshift(l[r])}t.defineMode("htmlmixed",function(a,o){var c=t.getMode(a,{name:"xml",htmlMode:!0,multilineTagIndentFactor:o.multilineTagIndentFactor,multilineTagIndentPastTag:o.multilineTagIndentPastTag}),i={},s=o&&o.tags,u=o&&o.scriptTypes;if(r(e,i),s&&r(s,i),u)for(var m=u.length-1;m>=0;m--)i.script.unshift(["type",u[m].matches,u[m].mode]);function d(e,r){var o,s=c.token(e,r.htmlState),u=/\btag\b/.test(s);if(u&&!/[<>\s\/]/.test(e.current())&&(o=r.htmlState.tagName&&r.htmlState.tagName.toLowerCase())&&i.hasOwnProperty(o))r.inTag=o+" ";else if(r.inTag&&u&&/>$/.test(e.current())){var m=/^([\S]+) (.*)/.exec(r.inTag);r.inTag=null;var f=">"==e.current()&&function(t,e){for(var a=0;a<t.length;a++){var l=t[a];if(!l[0]||l[1].test(n(e,l[0])))return l[2]}}(i[m[1]],m[2]),p=t.getMode(a,f),g=l(m[1],!0),h=l(m[1],!1);r.token=function(t,e){return t.match(g,!1)?(e.token=d,e.localState=e.localMode=null,null):function(t,e,a){var n=t.current(),l=n.search(e);return l>-1?t.backUp(n.length-l):n.match(/<\/?$/)&&(t.backUp(n.length),t.match(e,!1)||t.match(n)),a}(t,h,e.localMode.token(t,e.localState))},r.localMode=p,r.localState=t.startState(p,c.indent(r.htmlState,""))}else r.inTag&&(r.inTag+=e.current(),e.eol()&&(r.inTag+=" "));return s}return{startState:function(){return{token:d,inTag:null,localMode:null,localState:null,htmlState:t.startState(c)}},copyState:function(e){var a;return e.localState&&(a=t.copyState(e.localMode,e.localState)),{token:e.token,inTag:e.inTag,localMode:e.localMode,localState:a,htmlState:t.copyState(c,e.htmlState)}},token:function(t,e){return e.token(t,e)},indent:function(e,a,n){return!e.localMode||/^\s*<\//.test(a)?c.indent(e.htmlState,a):e.localMode.indent?e.localMode.indent(e.localState,a,n):t.Pass},innerMode:function(t){return{state:t.localState||t.htmlState,mode:t.localMode||c}}}},"xml","javascript","css"),t.defineMIME("text/html","htmlmixed")});
!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define('libs/cm/addon/hint/show-hint',["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";var i="CodeMirror-hint",e="CodeMirror-hint-active";function n(t,i){this.cm=t,this.options=i,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var e=this;t.on("cursorActivity",this.activityFunc=function(){e.cursorActivity()})}t.showHint=function(t,i,e){if(!i)return t.showHint(e);e&&e.async&&(i.async=!0);var n={hint:i};if(e)for(var o in e)n[o]=e[o];return t.showHint(n)},t.defineExtension("showHint",function(i){i=function(t,i,e){var n=t.options.hintOptions,o={};for(var s in a)o[s]=a[s];if(n)for(var s in n)void 0!==n[s]&&(o[s]=n[s]);if(e)for(var s in e)void 0!==e[s]&&(o[s]=e[s]);o.hint.resolve&&(o.hint=o.hint.resolve(t,i));return o}(this,this.getCursor("start"),i);var e=this.listSelections();if(!(e.length>1)){if(this.somethingSelected()){if(!i.hint.supportsSelection)return;for(var o=0;o<e.length;o++)if(e[o].head.line!=e[o].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var s=this.state.completionActive=new n(this,i);s.options.hint&&(t.signal(this,"startCompletion",this),s.update(!0))}});var o=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},s=window.cancelAnimationFrame||clearTimeout;function c(t){return"string"==typeof t?t:t.text}function r(t,i){for(;i&&i!=t;){if("LI"===i.nodeName.toUpperCase()&&i.parentNode==t)return i;i=i.parentNode}}function h(n,o){this.completion=n,this.data=o,this.picked=!1;var s=this,h=n.cm,l=this.hints=document.createElement("ul"),a=n.cm.options.theme;l.className="CodeMirror-hints "+a,this.selectedHint=o.selectedHint||0;for(var u=o.list,f=0;f<u.length;++f){var d=l.appendChild(document.createElement("li")),p=u[f],m=i+(f!=this.selectedHint?"":" "+e);null!=p.className&&(m=p.className+" "+m),d.className=m,p.render?p.render(d,o,p):d.appendChild(document.createTextNode(p.displayText||c(p))),d.hintId=f}var g=h.cursorCoords(n.options.alignWithWord?o.from:null),v=g.left,y=g.bottom,w=!0;l.style.left=v+"px",l.style.top=y+"px";var H=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),k=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(n.options.container||document.body).appendChild(l);var C=l.getBoundingClientRect(),b=C.bottom-k,x=l.scrollHeight>l.clientHeight+1,A=h.getScrollInfo();if(b>0){var S=C.bottom-C.top;if(g.top-(g.bottom-C.top)-S>0)l.style.top=(y=g.top-S)+"px",w=!1;else if(S>k){l.style.height=k-5+"px",l.style.top=(y=g.bottom-C.top)+"px";var T=h.getCursor();o.from.ch!=T.ch&&(g=h.cursorCoords(T),l.style.left=(v=g.left)+"px",C=l.getBoundingClientRect())}}var M,N=C.right-H;if(N>0&&(C.right-C.left>H&&(l.style.width=H-5+"px",N-=C.right-C.left-H),l.style.left=(v=g.left-N)+"px"),x)for(var F=l.firstChild;F;F=F.nextSibling)F.style.paddingRight=h.display.nativeBarWidth+"px";(h.addKeyMap(this.keyMap=function(t,i){var e={Up:function(){i.moveFocus(-1)},Down:function(){i.moveFocus(1)},PageUp:function(){i.moveFocus(1-i.menuSize(),!0)},PageDown:function(){i.moveFocus(i.menuSize()-1,!0)},Home:function(){i.setFocus(0)},End:function(){i.setFocus(i.length-1)},Enter:i.pick,Tab:i.pick,Esc:i.close},n=t.options.customKeys,o=n?{}:e;function s(t,n){var s;s="string"!=typeof n?function(t){return n(t,i)}:e.hasOwnProperty(n)?e[n]:n,o[t]=s}if(n)for(var c in n)n.hasOwnProperty(c)&&s(c,n[c]);var r=t.options.extraKeys;if(r)for(var c in r)r.hasOwnProperty(c)&&s(c,r[c]);return o}(n,{moveFocus:function(t,i){s.changeActive(s.selectedHint+t,i)},setFocus:function(t){s.changeActive(t)},menuSize:function(){return s.screenAmount()},length:u.length,close:function(){n.close()},pick:function(){s.pick()},data:o})),n.options.closeOnUnfocus)&&(h.on("blur",this.onBlur=function(){M=setTimeout(function(){n.close()},100)}),h.on("focus",this.onFocus=function(){clearTimeout(M)}));return h.on("scroll",this.onScroll=function(){var t=h.getScrollInfo(),i=h.getWrapperElement().getBoundingClientRect(),e=y+A.top-t.top,o=e-(window.pageYOffset||(document.documentElement||document.body).scrollTop);if(w||(o+=l.offsetHeight),o<=i.top||o>=i.bottom)return n.close();l.style.top=e+"px",l.style.left=v+A.left-t.left+"px"}),t.on(l,"dblclick",function(t){var i=r(l,t.target||t.srcElement);i&&null!=i.hintId&&(s.changeActive(i.hintId),s.pick())}),t.on(l,"click",function(t){var i=r(l,t.target||t.srcElement);i&&null!=i.hintId&&(s.changeActive(i.hintId),n.options.completeOnSingleClick&&s.pick())}),t.on(l,"mousedown",function(){setTimeout(function(){h.focus()},20)}),t.signal(o,"select",u[this.selectedHint],l.childNodes[this.selectedHint]),!0}function l(t,i,e,n){if(t.async)t(i,n,e);else{var o=t(i,e);o&&o.then?o.then(n):n(o)}}n.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&t.signal(this.data,"close"),this.widget&&this.widget.close(),t.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(i,e){var n=i.list[e];n.hint?n.hint(this.cm,i,n):this.cm.replaceRange(c(n),n.from||i.from,n.to||i.to,"complete"),t.signal(i,"pick",n),this.close()},cursorActivity:function(){this.debounce&&(s(this.debounce),this.debounce=0);var t=this.cm.getCursor(),i=this.cm.getLine(t.line);if(t.line!=this.startPos.line||i.length-t.ch!=this.startLen-this.startPos.ch||t.ch<this.startPos.ch||this.cm.somethingSelected()||!t.ch||this.options.closeCharacters.test(i.charAt(t.ch-1)))this.close();else{var e=this;this.debounce=o(function(){e.update()}),this.widget&&this.widget.disable()}},update:function(t){if(null!=this.tick){var i=this,e=++this.tick;l(this.options.hint,this.cm,this.options,function(n){i.tick==e&&i.finishUpdate(n,t)})}},finishUpdate:function(i,e){this.data&&t.signal(this.data,"update");var n=this.widget&&this.widget.picked||e&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=i,i&&i.list.length&&(n&&1==i.list.length?this.pick(i,0):(this.widget=new h(this,i),t.signal(i,"shown")))}},h.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var t=this.completion.cm;this.completion.options.closeOnUnfocus&&(t.off("blur",this.onBlur),t.off("focus",this.onFocus)),t.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var t=this;this.keyMap={Enter:function(){t.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(i,n){if(i>=this.data.list.length?i=n?this.data.list.length-1:0:i<0&&(i=n?0:this.data.list.length-1),this.selectedHint!=i){var o=this.hints.childNodes[this.selectedHint];o&&(o.className=o.className.replace(" "+e,"")),(o=this.hints.childNodes[this.selectedHint=i]).className+=" "+e,o.offsetTop<this.hints.scrollTop?this.hints.scrollTop=o.offsetTop-3:o.offsetTop+o.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=o.offsetTop+o.offsetHeight-this.hints.clientHeight+3),t.signal(this.data,"select",this.data.list[this.selectedHint],o)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},t.registerHelper("hint","auto",{resolve:function(i,e){var n,o=i.getHelpers(e,"hint");if(o.length){var s=function(t,i,e){var n=function(t,i){if(!t.somethingSelected())return i;for(var e=[],n=0;n<i.length;n++)i[n].supportsSelection&&e.push(i[n]);return e}(t,o);!function o(s){if(s==n.length)return i(null);l(n[s],t,e,function(t){t&&t.list.length>0?i(t):o(s+1)})}(0)};return s.async=!0,s.supportsSelection=!0,s}return(n=i.getHelper(i.getCursor(),"hintWords"))?function(i){return t.hint.fromList(i,{words:n})}:t.hint.anyword?function(i,e){return t.hint.anyword(i,e)}:function(){}}}),t.registerHelper("hint","fromList",function(i,e){var n,o=i.getCursor(),s=i.getTokenAt(o),c=t.Pos(o.line,s.start),r=o;s.start<o.ch&&/\w/.test(s.string.charAt(o.ch-s.start-1))?n=s.string.substr(0,o.ch-s.start):(n="",c=o);for(var h=[],l=0;l<e.words.length;l++){var a=e.words[l];a.slice(0,n.length)==n&&h.push(a)}if(h.length)return{list:h,from:c,to:r}}),t.commands.autocomplete=t.showHint;var a={hint:t.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};t.defineOption("hintOptions",null)});
!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define('libs/cm/addon/hint/xml-hint',["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";var e=t.Pos;t.registerHelper("hint","xml",function(r,s){var n=s&&s.schemaInfo,a=s&&s.quoteChar||'"';if(n){var i=r.getCursor(),o=r.getTokenAt(i);o.end>i.ch&&(o.end=i.ch,o.string=o.string.slice(0,i.ch-o.start));var l=t.innerMode(r.getMode(),o.state);if("xml"==l.mode.name){var f,g,c=[],h=!1,p=/\btag\b/.test(o.type)&&!/>$/.test(o.string),u=p&&/^\w/.test(o.string);if(u){var d=r.getLine(i.line).slice(Math.max(0,o.start-2),o.start),m=/<\/$/.test(d)?"close":/<$/.test(d)?"open":null;m&&(g=o.start-("close"==m?2:1))}else p&&"<"==o.string?m="open":p&&"</"==o.string&&(m="close");if(!p&&!l.state.tagName||m){u&&(f=o.string),h=m;var v=l.state.context,y=v&&n[v.tagName],x=v?y&&y.children:n["!top"];if(x&&"close"!=m)for(var O=0;O<x.length;++O)f&&0!=x[O].lastIndexOf(f,0)||c.push("<"+x[O]);else if("close"!=m)for(var b in n)!n.hasOwnProperty(b)||"!top"==b||"!attrs"==b||f&&0!=b.lastIndexOf(f,0)||c.push("<"+b);v&&(!f||"close"==m&&0==v.tagName.lastIndexOf(f,0))&&c.push("</"+v.tagName+">")}else{var w=(y=n[l.state.tagName])&&y.attrs,I=n["!attrs"];if(!w&&!I)return;if(w){if(I){var P={};for(var A in I)I.hasOwnProperty(A)&&(P[A]=I[A]);for(var A in w)w.hasOwnProperty(A)&&(P[A]=w[A]);w=P}}else w=I;if("string"==o.type||"="==o.string){var M,N=(d=r.getRange(e(i.line,Math.max(0,i.ch-60)),e(i.line,"string"==o.type?o.start:o.end))).match(/([^\s\u00a0=<>\"\']+)=$/);if(!N||!w.hasOwnProperty(N[1])||!(M=w[N[1]]))return;if("function"==typeof M&&(M=M.call(this,r)),"string"==o.type){f=o.string;var $=0;/['"]/.test(o.string.charAt(0))&&(a=o.string.charAt(0),f=o.string.slice(1),$++);var C=o.string.length;/['"]/.test(o.string.charAt(C-1))&&(a=o.string.charAt(C-1),f=o.string.substr($,C-2)),h=!0}for(O=0;O<M.length;++O)f&&0!=M[O].lastIndexOf(f,0)||c.push(a+M[O]+a)}else for(var j in"attribute"==o.type&&(f=o.string,h=!0),w)!w.hasOwnProperty(j)||f&&0!=j.lastIndexOf(f,0)||c.push(j)}return{list:c,from:h?e(i.line,null==g?o.start:g):i,to:h?e(i.line,o.end):i}}}})});
!function(l){"object"==typeof exports&&"object"==typeof module?l(require("../../lib/codemirror"),require("./xml-hint")):"function"==typeof define&&define.amd?define('libs/cm/addon/hint/html-hint',["../../lib/codemirror","./xml-hint"],l):l(CodeMirror)}(function(l){"use strict";var t="ab aa af ak sq am ar an hy as av ae ay az bm ba eu be bn bh bi bs br bg my ca ch ce ny zh cv kw co cr hr cs da dv nl dz en eo et ee fo fj fi fr ff gl ka de el gn gu ht ha he hz hi ho hu ia id ie ga ig ik io is it iu ja jv kl kn kr ks kk km ki rw ky kv kg ko ku kj la lb lg li ln lo lt lu lv gv mk mg ms ml mt mi mr mh mn na nv nb nd ne ng nn no ii nr oc oj cu om or os pa pi fa pl ps pt qu rm rn ro ru sa sc sd se sm sg sr gd sn si sk sl so st es su sw ss sv ta te tg th ti bo tk tl tn to tr ts tt tw ty ug uk ur uz ve vi vo wa cy wo fy xh yi yo za zu".split(" "),e=["_blank","_self","_top","_parent"],a=["ascii","utf-8","utf-16","latin1","latin1"],n=["get","post","put","delete"],r=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],o=["all","screen","print","embossed","braille","handheld","print","projection","screen","tty","tv","speech","3d-glasses","resolution [>][<][=] [X]","device-aspect-ratio: X/Y","orientation:portrait","orientation:landscape","device-height: [X]","device-width: [X]"],s={attrs:{}},u={a:{attrs:{href:null,ping:null,type:null,media:o,target:e,hreflang:t}},abbr:s,acronym:s,address:s,applet:s,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:o,hreflang:t,type:null,shape:["default","rect","circle","poly"]}},article:s,aside:s,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["","autoplay"],loop:["","loop"],controls:["","controls"]}},b:s,base:{attrs:{href:null,target:e}},basefont:s,bdi:s,bdo:s,big:s,blockquote:{attrs:{cite:null}},body:s,br:s,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["","autofocus"],disabled:["","autofocus"],formenctype:r,formmethod:n,formnovalidate:["","novalidate"],formtarget:e,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:s,center:s,cite:s,code:s,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["","disabled"],checked:["","checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["","disabled"],multiple:["","multiple"]}},datalist:{attrs:{data:null}},dd:s,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["","open"]}},dfn:s,dir:s,div:s,dl:s,dt:s,em:s,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["","disabled"],form:null,name:null}},figcaption:s,figure:s,font:s,footer:s,form:{attrs:{action:null,name:null,"accept-charset":a,autocomplete:["on","off"],enctype:r,method:n,novalidate:["","novalidate"],target:e}},frame:s,frameset:s,h1:s,h2:s,h3:s,h4:s,h5:s,h6:s,head:{attrs:{},children:["title","base","link","style","meta","script","noscript","command"]},header:s,hgroup:s,hr:s,html:{attrs:{manifest:null},children:["head","body"]},i:s,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["","seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["","autofocus"],checked:["","checked"],disabled:["","disabled"],formenctype:r,formmethod:n,formnovalidate:["","novalidate"],formtarget:e,multiple:["","multiple"],readonly:["","readonly"],required:["","required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:s,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["","autofocus"],disabled:["","disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:s,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:t,media:o,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:s,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:a,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:s,noframes:s,noscript:s,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["","typemustmatch"]}},ol:{attrs:{reversed:["","reversed"],start:null,type:["1","a","A","i","I"]}},optgroup:{attrs:{disabled:["","disabled"],label:null}},option:{attrs:{disabled:["","disabled"],label:null,selected:["","selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:s,param:{attrs:{name:null,value:null}},pre:s,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:s,rt:s,ruby:s,s:s,samp:s,script:{attrs:{type:["text/javascript"],src:null,async:["","async"],defer:["","defer"],charset:a}},section:s,select:{attrs:{form:null,name:null,size:null,autofocus:["","autofocus"],disabled:["","disabled"],multiple:["","multiple"]}},small:s,source:{attrs:{src:null,type:null,media:null}},span:s,strike:s,strong:s,style:{attrs:{type:["text/css"],media:o,scoped:null}},sub:s,summary:s,sup:s,table:s,tbody:s,td:{attrs:{colspan:null,rowspan:null,headers:null}},textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["","autofocus"],disabled:["","disabled"],readonly:["","readonly"],required:["","required"],wrap:["soft","hard"]}},tfoot:s,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:s,time:{attrs:{datetime:null}},title:s,tr:s,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:t}},tt:s,u:s,ul:s,var:s,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["","autoplay"],mediagroup:["movie"],muted:["","muted"],controls:["","controls"]}},wbr:s},i={accesskey:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],class:null,contenteditable:["true","false"],contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["en","es"],spellcheck:["true","false"],style:null,tabindex:["1","2","3","4","5","6","7","8","9"],title:null,translate:["yes","no"],onclick:null,rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"]};function d(l){for(var t in i)i.hasOwnProperty(t)&&(l.attrs[t]=i[t])}for(var c in d(s),u)u.hasOwnProperty(c)&&u[c]!=s&&d(u[c]);l.htmlSchema=u,l.registerHelper("hint","html",function(t,e){var a={schemaInfo:u};if(e)for(var n in e)a[n]=e[n];return l.hint.xml(t,a)})});
!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),"cjs"):"function"==typeof define&&define.amd?define('libs/cm/addon/mode/loadmode',["../../lib/codemirror"],function(r){e(r,"amd")}):e(CodeMirror,"plain")}(function(e,r){e.modeURL||(e.modeURL="../mode/%N/%N.js");var o={};function n(r,o){var n=e.modes[r].dependencies;if(!n)return o();for(var t=[],i=0;i<n.length;++i)e.modes.hasOwnProperty(n[i])||t.push(n[i]);if(!t.length)return o();var d=function(e,r){var o=r;return function(){0==--o&&e()}}(o,t.length);for(i=0;i<t.length;++i)e.requireMode(t[i],d)}e.requireMode=function(t,i){if("string"!=typeof t&&(t=t.name),e.modes.hasOwnProperty(t))return n(t,i);if(o.hasOwnProperty(t))return o[t].push(i);var d=e.modeURL.replace(/%N/g,t);if("plain"==r){var u=document.createElement("script");u.src=d;var f=document.getElementsByTagName("script")[0],a=o[t]=[i];e.on(u,"load",function(){n(t,function(){for(var e=0;e<a.length;++e)a[e]()})}),f.parentNode.insertBefore(u,f)}else"cjs"==r?(require(d),i()):"amd"==r&&requirejs([d],i)},e.autoLoadMode=function(r,o){e.modes.hasOwnProperty(o)||e.requireMode(o,function(){r.setOption("mode",r.getOption("mode"))})}});
!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define('libs/cm/addon/selection/active-line',["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var t="CodeMirror-activeline",n="CodeMirror-activeline-background",i="CodeMirror-activeline-gutter";function r(e){for(var r=0;r<e.state.activeLines.length;r++)e.removeLineClass(e.state.activeLines[r],"wrap",t),e.removeLineClass(e.state.activeLines[r],"background",n),e.removeLineClass(e.state.activeLines[r],"gutter",i)}function o(e,o){for(var a=[],s=0;s<o.length;s++){var c=o[s],l=e.getOption("styleActiveLine");if("object"==typeof l&&l.nonEmpty?c.anchor.line==c.head.line:c.empty()){var f=e.getLineHandleVisualStart(c.head.line);a[a.length-1]!=f&&a.push(f)}}(function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0})(e.state.activeLines,a)||e.operation(function(){r(e);for(var o=0;o<a.length;o++)e.addLineClass(a[o],"wrap",t),e.addLineClass(a[o],"background",n),e.addLineClass(a[o],"gutter",i);e.state.activeLines=a})}function a(e,t){o(e,t.ranges)}e.defineOption("styleActiveLine",!1,function(t,n,i){var s=i!=e.Init&&i;n!=s&&(s&&(t.off("beforeSelectionChange",a),r(t),delete t.state.activeLines),n&&(t.state.activeLines=[],o(t,t.listSelections()),t.on("beforeSelectionChange",a)))})});
!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define('libs/cm/addon/edit/matchbrackets',["../../lib/codemirror"],t):t(CodeMirror)}(function(t){var e=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=t.Pos,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function i(t,e,i){var c=t.getLineHandle(e.line),o=e.ch-1,l=i&&i.afterCursor;null==l&&(l=/(^| )cm-fat-cursor($| )/.test(t.getWrapperElement().className));var h=!l&&o>=0&&r[c.text.charAt(o)]||r[c.text.charAt(++o)];if(!h)return null;var s=">"==h.charAt(1)?1:-1;if(i&&i.strict&&s>0!=(o==e.ch))return null;var u=t.getTokenTypeAt(n(e.line,o+1)),f=a(t,n(e.line,o+(s>0?1:0)),s,u||null,i);return null==f?null:{from:n(e.line,o),to:f&&f.pos,match:f&&f.ch==h.charAt(0),forward:s>0}}function a(t,e,i,a,c){for(var o=c&&c.maxScanLineLength||1e4,l=c&&c.maxScanLines||1e3,h=[],s=c&&c.bracketRegex?c.bracketRegex:/[(){}[\]]/,u=i>0?Math.min(e.line+l,t.lastLine()+1):Math.max(t.firstLine()-1,e.line-l),f=e.line;f!=u;f+=i){var m=t.getLine(f);if(m){var g=i>0?0:m.length-1,d=i>0?m.length:-1;if(!(m.length>o))for(f==e.line&&(g=e.ch-(i<0?1:0));g!=d;g+=i){var k=m.charAt(g);if(s.test(k)&&(void 0===a||t.getTokenTypeAt(n(f,g+1))==a))if(">"==r[k].charAt(1)==i>0)h.push(k);else{if(!h.length)return{pos:n(f,g),ch:k};h.pop()}}}}return f-i!=(i>0?t.lastLine():t.firstLine())&&null}function c(t,r,a){for(var c=t.state.matchBrackets.maxHighlightLineLength||1e3,o=[],l=t.listSelections(),h=0;h<l.length;h++){var s=l[h].empty()&&i(t,l[h].head,a);if(s&&t.getLine(s.from.line).length<=c){var u=s.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";o.push(t.markText(s.from,n(s.from.line,s.from.ch+1),{className:u})),s.to&&t.getLine(s.to.line).length<=c&&o.push(t.markText(s.to,n(s.to.line,s.to.ch+1),{className:u}))}}if(o.length){e&&t.state.focused&&t.focus();var f=function(){t.operation(function(){for(var t=0;t<o.length;t++)o[t].clear()})};if(!r)return f;setTimeout(f,800)}}function o(t){t.operation(function(){t.state.matchBrackets.currentlyHighlighted&&(t.state.matchBrackets.currentlyHighlighted(),t.state.matchBrackets.currentlyHighlighted=null),t.state.matchBrackets.currentlyHighlighted=c(t,!1,t.state.matchBrackets)})}t.defineOption("matchBrackets",!1,function(e,n,r){r&&r!=t.Init&&(e.off("cursorActivity",o),e.state.matchBrackets&&e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null)),n&&(e.state.matchBrackets="object"==typeof n?n:{},e.on("cursorActivity",o))}),t.defineExtension("matchBrackets",function(){c(this,!0)}),t.defineExtension("findMatchingBracket",function(t,e,n){return(n||"boolean"==typeof e)&&(n?(n.strict=e,e=n):e=e?{strict:!0}:null),i(this,t,e)}),t.defineExtension("scanForBracket",function(t,e,n,r){return a(this,t,e,n,r)})});
!function(){function e(e){var r="    ";if(isNaN(parseInt(e)))r=e;else switch(e){case 1:r=" ";break;case 2:r="  ";break;case 3:r="   ";break;case 4:r="    ";break;case 5:r="     ";break;case 6:r="      ";break;case 7:r="       ";break;case 8:r="        ";break;case 9:r="         ";break;case 10:r="          ";break;case 11:r="           ";break;case 12:r="            "}var c=["\n"];for(ix=0;ix<100;ix++)c.push(c[ix]+r);return c}function r(){this.step="    ",this.shift=e(this.step)}function c(e,r){return r-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function a(e,r){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+r+r+"AND ").replace(/ BETWEEN /gi,"~::~"+r+"BETWEEN ").replace(/ CASE /gi,"~::~"+r+"CASE ").replace(/ ELSE /gi,"~::~"+r+"ELSE ").replace(/ END /gi,"~::~"+r+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+r+"ON ").replace(/ OR /gi,"~::~"+r+r+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+r+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+r).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+r+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}r.prototype.xml=function(r,c){var a=r.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),s=a.length,p=!1,l=0,i="",n=0,t=c?e(c):this.shift;for(n=0;n<s;n++)a[n].search(/<!/)>-1?(i+=t[l]+a[n],p=!0,(a[n].search(/-->/)>-1||a[n].search(/\]>/)>-1||a[n].search(/!DOCTYPE/)>-1)&&(p=!1)):a[n].search(/-->/)>-1||a[n].search(/\]>/)>-1?(i+=a[n],p=!1):/^<\w/.exec(a[n-1])&&/^<\/\w/.exec(a[n])&&/^<[\w:\-\.\,]+/.exec(a[n-1])==/^<\/[\w:\-\.\,]+/.exec(a[n])[0].replace("/","")?(i+=a[n],p||l--):a[n].search(/<\w/)>-1&&-1==a[n].search(/<\//)&&-1==a[n].search(/\/>/)?i=i+=p?a[n]:t[l++]+a[n]:a[n].search(/<\w/)>-1&&a[n].search(/<\//)>-1?i=i+=p?a[n]:t[l]+a[n]:a[n].search(/<\//)>-1?i=i+=p?a[n]:t[--l]+a[n]:a[n].search(/\/>/)>-1?i=i+=p?a[n]:t[l]+a[n]:a[n].search(/<\?/)>-1?i+=t[l]+a[n]:a[n].search(/xmlns\:/)>-1||a[n].search(/xmlns\=/)>-1?i+=t[l]+a[n]:i+=a[n];return"\n"==i[0]?i.slice(1):i},r.prototype.json=function(e,r){r=r||this.step;return"undefined"==typeof JSON?e:"string"==typeof e?JSON.stringify(JSON.parse(e),null,r):"object"==typeof e?JSON.stringify(e,null,r):e},r.prototype.css=function(r,c){var a=r.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),s=a.length,p=0,l="",i=0,n=c?e(c):this.shift;for(i=0;i<s;i++)/\{/.exec(a[i])?l+=n[p++]+a[i]:/\}/.exec(a[i])?l+=n[--p]+a[i]:(/\*\\/.exec(a[i]),l+=n[p]+a[i]);return l.replace(/^\n{1,}/,"")},r.prototype.sql=function(r,s){var p=r.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),l=p.length,i=[],n=0,t=this.step,g=0,E="",N=0,o=s?e(s):this.shift;for(N=0;N<l;N++)i=N%2?i.concat(p[N]):i.concat(a(p[N],t));for(l=i.length,N=0;N<l;N++){g=c(i[N],g),/\s{0,}\s{0,}SELECT\s{0,}/.exec(i[N])&&(i[N]=i[N].replace(/\,/g,",\n"+t+t)),/\s{0,}\s{0,}SET\s{0,}/.exec(i[N])&&(i[N]=i[N].replace(/\,/g,",\n"+t+t)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(i[N])?E+=o[++n]+i[N]:/\'/.exec(i[N])?(g<1&&n&&n--,E+=i[N]):(E+=o[n]+i[N],g<1&&n&&n--)}return E=E.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},r.prototype.xmlmin=function(e,r){return(r?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},r.prototype.jsonmin=function(e){return"undefined"==typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},r.prototype.cssmin=function(e,r){return(r?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},r.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},window.vkbeautify=new r}();
define("libs/vkbeautify/vkbeautify.0.99.00.beta", function(){});

define('customComponents/oc-payload-editor/viewModel',["knockout","jquery","common/restService","libs/cm/lib/codemirror","libs/cm/mode/htmlmixed/htmlmixed","libs/cm/mode/xml/xml","libs/cm/addon/hint/show-hint","libs/cm/addon/hint/html-hint","libs/cm/addon/mode/loadmode","libs/cm/addon/selection/active-line","libs/cm/addon/edit/matchbrackets","libs/vkbeautify/vkbeautify.0.99.00.beta"],function(e,d,i,t){return function(i){var o=this;o.props=i.properties,o.updatePayload=e.observable(i.properties.updatePayload),o.editedEditor,o.oriEditor,o.editedReadOnly=i.properties.readOnly,o.displayOri=i.properties.displayOriginal,o.bindingsApplied=function(){console.log("aaa")},o.attached=function(){console.log("---binding applied"),o.displayOri&&(o.oriEditor=t.fromTextArea(document.getElementById("oriPayloadEditor"),{mode:"text/xml",theme:"default",lineNumbers:!0,readOnly:"true"}),o.oriEditor.setSize(null,"60vh"),d(".div-ori").show()),document.getElementById("editedPayloadEditor").value=vkbeautify.xml(document.getElementById("editedPayloadEditor").value),o.editedEditor=t.fromTextArea(document.getElementById("editedPayloadEditor"),{mode:"text/xml",theme:"default",lineNumbers:!0,lineWrapping:!0,readOnly:o.editedReadOnly}),o.editedEditor.setSize(null,"60vh"),o.editedReadOnly||(d(".retry-action").show(),o.editedEditor.setSize(null,"100vh"))},o.onClickSavePayload=function(){alert(o.editedEditor.getValue())}}});

define('text!customComponents/oc-payload-editor/component.json',[],function () { return '{\n    "name": "oc-payload-editor",\n    "description": "Custom table with display to column filter",\n    "version": "1.0.0",\n    "jetVersion": ">=4.0.0 <5.0.0",\n    "properties": {\n        "id": {\n            "type": "string"\n        },\n        "originalPayload": {\n            "type": "string"\n        },\n        "updatePayload": {\n            "type": "string",\n            "writeback": true\n        },\n        "readOnly": {\n            "type": "boolean"\n        },\n        "displayOriginal": {\n            "type": "boolean"\n        }\n    }\n}';});


define('css!customComponents/oc-payload-editor/styles',[],function(){});
define('customComponents/oc-payload-editor/loader',["ojs/ojcore","text!./view.html","./viewModel","text!./component.json","css!./styles","ojs/ojcomposite"],function(e,o,t,s){e.Composite.register("oc-payload-editor",{view:o,viewModel:t,metadata:JSON.parse(s)})});

define('text!customComponents/oc-payload-dialog/view.html',[],function () { return '<oj-button on-oj-action=\'[[onOpenPayloadDialog]]\' disabled="false"  data-bind="attr: {id: \'openPayloadDlgBtn_\'+$properties.id}, title:$properties.buttonName">\n    <i class="fas fa-code"></i>\n</oj-button>\n\n<oj-dialog style="display:none;width:60%;height:80vh;" data-bind="attr: {id: \'dlgPayloadModal_\'+$properties.id , title: $properties.buttonName }">\n    <div class="oj-dialog-body">\n        <div class="oj-form-layout">\n            <div class="oj-form oj-sm-odd-cols-6 oj-md-odd-cols-6 oj-md-labels-inline">\n                <div class="oj-flex">\n                    <div class="oj-flex-item div-ori" style="display:none;">\n                        <div style="width:95%;margin:0 2.5%;">\n                                <oj-label for="oriPayloadEditor">Original Payload</oj-label>\n                            <textarea rows="20" id="oriPayloadEditor" name="oriPayloadEditor" data-bind="text:$properties.originalPayload"></textarea>\n                        </div>\n                    </div>\n                    <div class="oj-flex-item" >\n\n                        <div style="width:95%;margin:0 2.5%;">\n                                <oj-label for="editedPayloadEditor">Edited Payload</oj-label>\n                            <textarea rows="20" id="editedPayloadEditor" name="editedPayloadEditor" data-bind="text:$properties.updatePayload"></textarea>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="pull-right retry-action" style="display:none;">\n            <oj-button id="saveBtn" on-oj-action="[[onClickSavePayload]]">Retry</oj-button>\n        </div>\n    </div>\n</oj-dialog>';});

define('customComponents/oc-payload-dialog/viewModel',["knockout","jquery","common/restService","libs/cm/lib/codemirror","libs/cm/mode/htmlmixed/htmlmixed","libs/cm/mode/xml/xml","libs/cm/addon/hint/show-hint","libs/cm/addon/hint/html-hint","libs/cm/addon/mode/loadmode","libs/cm/addon/selection/active-line","libs/cm/addon/edit/matchbrackets","libs/vkbeautify/vkbeautify.0.99.00.beta"],function(e,i,d,o){return function(e){var d=this;d.props=e.properties,d.editedEditor,d.oriEditor,d.editedReadOnly=e.properties.readOnly,d.displayOri=e.properties.displayOriginal,d.bindingsApplied=function(){console.log("---binding applied"),d.displayOri&&(d.oriEditor=o.fromTextArea(document.getElementById("oriPayloadEditor"),{mode:"text/xml",theme:"default",lineNumbers:!0,readOnly:"true"}),d.oriEditor.setSize(null,"60vh"),i(".div-ori").show()),document.getElementById("editedPayloadEditor").value=vkbeautify.xml(document.getElementById("editedPayloadEditor").value),d.editedEditor=o.fromTextArea(document.getElementById("editedPayloadEditor"),{mode:"text/xml",theme:"default",lineNumbers:!0,lineWrapping:!0,readOnly:d.editedReadOnly}),d.editedEditor.setSize(null,"60vh"),d.editedReadOnly||i(".retry-action").show()},d.onClickSavePayload=function(){alert(d.editedEditor.getValue())},d.onOpenPayloadDialog=function(){d.openDialog(),!0===d.props.initTableOnLoad&&d.initialize()},d.openDialog=function(){document.querySelector("#dlgPayloadModal_"+d.props.id).open()},d.closeDialog=function(){document.querySelector("#dlgPayloadModal_"+d.props.id).close()}}});

define('text!customComponents/oc-payload-dialog/component.json',[],function () { return '{\n    "name": "oc-payload-dialog",\n    "description": "Custom table with display to column filter",\n    "version": "1.0.0",\n    "jetVersion": ">=4.0.0 <5.0.0",\n    "properties": {\n        "id": {\n            "type": "string"\n        },\n        "initDataOnLoad": {\n            "type": "boolean"\n        },\n        "originalPayload": {\n            "type": "string"\n        },\n        "updatePayload": {\n            "type": "string"\n        },\n        "readOnly": {\n            "type": "boolean"\n        },\n        "displayOriginal": {\n            "type": "boolean"\n        },\n        "buttonName": {\n            "type": "string"\n        }\n    }\n}';});


define('css!customComponents/oc-payload-dialog/styles',[],function(){});
define('customComponents/oc-payload-dialog/loader',["ojs/ojcore","text!./view.html","./viewModel","text!./component.json","css!./styles","ojs/ojcomposite"],function(e,o,t,s){e.Composite.register("oc-payload-dialog",{view:o,viewModel:t,metadata:JSON.parse(s)})});

define('text!customComponents/oc-button/view.html',[],function () { return '<oj-button display=\'icons\' on-oj-action="[[onOpenDialog]]" disabled="[[$properties.disabled]]" data-bind="attr: {id: \'confirmBtn_\'+$properties.id, title: $properties.dialogName}, css: $properties.class">\n    <oj-bind-if test="[[$properties.iconClass]]">\n        <i data-bind="css: $properties.iconClass"></i>\n    </oj-bind-if>\n    <oj-bind-if test="[[$properties.label]]">\n        <span data-bind="text:[[$properties.label]]"></span>\n    </oj-bind-if>\n</oj-button>\n\n<oj-dialog style="display:none;width:40%;height:auto !important;max-height: calc(200vh - 340px) !important;" data-bind="attr: {id: \'dlgModalConfirm_\'+$properties.id , title: $properties.dialogName }">\n    <div slot="header">\n        <span id="dialog-title-id" class="oj-dialog-title">Confirmation</span>\n    </div>\n    <div slot="body">\n        <p><span data-bind="text: $properties.confirmationMessage"></span></p><br />\n        <p>Comment:</p>\n        <oj-text-area id="text-area" style="min-width:80%;" rows="5" value="{{comment}}"></oj-text-area>\n    </div>\n    <div slot="footer">\n        <oj-button on-oj-action="[[onConfirmYes]]">Yes</oj-button>\n        <oj-button on-oj-action="[[closeDialog]]">No</oj-button>\n    </div>\n</oj-dialog>';});

define('customComponents/oc-button/viewModel',["ojs/ojcore","knockout","jquery","ojs/ojvalidationgroup","ojs/ojpopup","ojs/ojknockout","ojs/ojinputtext","ojs/ojlabel"],function(o,n,e){return function(o){var e=this;e.props=o.properties,e.comment=n.observable(),e.onOpenDialog=function(){e.comment(void 0),e.openDialog()},e.onConfirmYes=function(){var o=e.props.data,n=e.comment();e.props.confirmationAction(o,n),e.closeDialog()},e.openDialog=function(){document.querySelector("#dlgModalConfirm_"+e.props.id).open()},e.closeDialog=function(){document.querySelector("#dlgModalConfirm_"+e.props.id).close()}}});

define('text!customComponents/oc-button/component.json',[],function () { return '{\n    "name": "oc-button",\n    "description": "Custom button with confirmation dialog",\n    "version": "1.0.0",\n    "jetVersion": ">=4.0.0 <5.0.0",\n    "properties": {\n        "id": {\n            "type": "string"\n        },\n        "disabled": {\n            "type": "boolean"\n        },\n        "class": {\n            "type": "string"\n        },\n        "label": {\n            "type": "string"\n        },\n        "value": {\n            "type": "string",\n            "writeback": true\n        },\n        "title": {\n            "type": "string"\n        },\n        "dialogName": {\n            "type": "string"\n        },\n        "confirmationMessage": {\n            "type": "string"\n        },\n        "confirmationAction": {\n            "type": "function"\n        },\n        "iconClass": {\n            "type": "string"\n        },\n        "data": {\n            "type": "object"\n        }\n    }\n}';});


define('css!customComponents/oc-button/styles',[],function(){});
define('customComponents/oc-button/loader',["ojs/ojcore","text!./view.html","./viewModel","text!./component.json","css!./styles","ojs/ojcomposite"],function(e,o,t,s){e.Composite.register("oc-button",{view:o,viewModel:t,metadata:JSON.parse(s)})});
define('customComponents/mainloader',["knockout","ojs/ojcore","jquery","customComponents/dashboard-masonry-tile/loader","customComponents/oc-table/loader","customComponents/oc-dialog/loader","customComponents/oc-layout-1/loader","customComponents/oc-payload-editor/loader","customComponents/oc-payload-dialog/loader","customComponents/oc-button/loader"],function(o,e,t){console.log("----------- custom component loaded")});
define('ojs/ojvalidation-datetime',["ojs/ojcore","jquery","ojL10n!ojtranslations/nls/localeElements","ojs/ojvalidation-base"],function(e,t,r){var a,n;e.DateTimeConverter=function(e){this.Init(e)},e.Object.createSubclass(e.DateTimeConverter,e.Converter,"oj.DateTimeConverter"),e.DateTimeConverter.prototype.Init=function(t){e.DateTimeConverter.superclass.Init.call(this,t)},e.DateTimeConverter.prototype.format=function(t){return e.DateTimeConverter.superclass.format.call(this,t)},e.DateTimeConverter.prototype.isHourInDaySet=function(){e.Assert.failedInAbstractFunction()},e.DateTimeConverter.prototype.isHourInAMPMSet=function(){e.Assert.failedInAbstractFunction()},e.DateTimeConverter.prototype.isMinuteSet=function(){e.Assert.failedInAbstractFunction()},e.DateTimeConverter.prototype.isSecondSet=function(){e.Assert.failedInAbstractFunction()},e.DateTimeConverter.prototype.isMilliSecondSet=function(){e.Assert.failedInAbstractFunction()},e.DateTimeConverter.prototype.isYearSet=function(){e.Assert.failedInAbstractFunction()},e.DateTimeConverter.prototype.isMonthSet=function(){e.Assert.failedInAbstractFunction()},e.DateTimeConverter.prototype.isDaySet=function(){e.Assert.failedInAbstractFunction()},e.DateTimeConverter.prototype.isDayNameSet=function(){e.Assert.failedInAbstractFunction()},e.DateTimeConverter.prototype.calculateWeek=function(t){e.Assert.failedInAbstractFunction()},e.DateTimeConverter.prototype.parse=function(t){return e.DateTimeConverter.superclass.parse.call(this,t)},e.DateTimeConverter.prototype.compareISODates=function(t,r){return e.DateTimeConverter.superclass.compareISODates.call(this,t,r)},e.DateTimeConverter.prototype.getAvailableTimeZones=function(){return e.DateTimeConverter.superclass.getAvailableTimeZones.call(this)},e.DateRestrictionValidator=function(e){this.Init(e)},e.Object.createSubclass(e.DateRestrictionValidator,e.Validator,"oj.DateRestrictionValidator"),e.DateRestrictionValidator.prototype.Init=function(t){e.DateRestrictionValidator.superclass.Init.call(this),this._dayFormatter=t.dayFormatter,this._converter=e.IntlConverterUtils.getConverterInstance(t.converter),t&&(this._messageSummary=t.messageSummary||null,this._messageDetail=t.messageDetail||null)},e.DateRestrictionValidator.prototype._inDisabled=function(e){var t=this._dayFormatter;if(t){var r=t({fullYear:e.fullYear,month:e.month+1,date:e.date});return r&&r.disabled}return!1},e.DateRestrictionValidator.prototype.validate=function(t){var r="",a="",n=e.Translations,i=this._messageSummary,o=this._messageDetail,s=t?this._converter.format(t):t,l=t?e.IntlConverterUtils._dateTime(t,["fullYear","month","date"],!0):null;if(null===t)return t;if(this._inDisabled(l))throw r=i?n.applyParameters(i,{value:s}):n.getTranslatedString("oj-validator.restriction.date.messageSummary",{value:s}),a=o?n.applyParameters(o,{value:s}):n.getTranslatedString("oj-validator.restriction.date.messageDetail",{value:s}),new e.ValidatorError(r,a);return t},e.DateRestrictionValidator.prototype.getHint=function(){return null},e.DateTimeRangeValidator=function(e){this.Init(e)},e.Object.createSubclass(e.DateTimeRangeValidator,e.Validator,"oj.DateTimeRangeValidator"),e.DateTimeRangeValidator.prototype.Init=function(t){if(e.DateTimeRangeValidator.superclass.Init.call(this),this._converter=e.IntlConverterUtils.getConverterInstance(t.converter),!this._converter)throw new Error("oj.DateTimeRangeValidator missing a converter option");this._min=t.min||null,this._max=t.max||null,this._translationKey=t.translationKey||"datetime",t&&(this._hint=t.hint||{},this._customMessageSummary=t.messageSummary||{},this._customMessageDetail=t.messageDetail||{}),this._translationKey&&(e.Translations.getTranslatedString("oj-validator.range."+this._translationKey+".messageSummary.rangeOverflow")||(this._translationKey="datetime"))},e.DateTimeRangeValidator.prototype.validate=function(t){var r,a,n=this._customMessageSummary,i=this._customMessageDetail,o=i.rangeOverflow,s=i.rangeUnderflow,l=n.rangeOverflow,d=n.rangeUnderflow,u=e.IntlConverterUtils,m=this._min,c=this._max,v="",g="",f=e.Translations,p=null,h=t&&this._converter.format(t);if(null===t)return t;if(h=this._converter.format(t),m&&(m=u._minMaxIsoString(m,t),r=this._converter?this._converter.format(m):m),c&&(c=u._minMaxIsoString(c,t),a=this._converter?this._converter.format(c):c),null!==m&&null!==c){if(this._converter.compareISODates(t,m)>=0&&this._converter.compareISODates(t,c)<=0||this._converter.compareISODates(m,c)>0)return t}else if(null!==m){if(this._converter.compareISODates(t,m)>=0)return t}else if(null===c||this._converter.compareISODates(t,c)<=0)return t;throw null!==c&&this._converter.compareISODates(t,c)>0?(p={value:h,max:a},v=l||f.getTranslatedString("oj-validator.range."+this._translationKey+".messageSummary.rangeOverflow"),g=o?f.applyParameters(o,p):f.getTranslatedString("oj-validator.range."+this._translationKey+".messageDetail.rangeOverflow",p)):null!==m&&this._converter.compareISODates(t,m)<0&&(p={value:h,min:r},v=d||f.getTranslatedString("oj-validator.range."+this._translationKey+".messageSummary.rangeUnderflow"),g=s?f.applyParameters(s,p):f.getTranslatedString("oj-validator.range."+this._translationKey+".messageDetail.rangeUnderflow",p)),new e.ValidatorError(v,g)},e.DateTimeRangeValidator.prototype.getHint=function(){var t=null,r=this._hint,a=r.inRange,n=r.min,i=r.max,o=this._min,s=this._max,l=o&&this._converter?this._converter.format(o):o,d=s&&this._converter?this._converter.format(s):s,u=null,m=e.Translations;return null!==o&&null!==s?(u={min:l,max:d},t=a?m.applyParameters(a,u):m.getTranslatedString("oj-validator.range."+this._translationKey+".hint.inRange",u)):null!==o?(u={min:l},t=n?m.applyParameters(n,u):m.getTranslatedString("oj-validator.range."+this._translationKey+".hint.min",u)):null!==s&&(u={max:d},t=i?m.applyParameters(i,u):m.getTranslatedString("oj-validator.range."+this._translationKey+".hint.max",u)),t},e.DateTimeConverterFactory={createConverter:function(t){return function(t){return new e.IntlDateTimeConverter(t)}(t)}},e.Validation.__registerDefaultConverterFactory(e.ConverterFactory.CONVERTER_TYPE_DATETIME,e.DateTimeConverterFactory),e.DateTimeRangeValidatorFactory={createValidator:function(t){return function(t){return new e.DateTimeRangeValidator(t)}(t)}},e.Validation.__registerDefaultValidatorFactory(e.ValidatorFactory.VALIDATOR_TYPE_DATETIMERANGE,e.DateTimeRangeValidatorFactory),e.DateRestrictionValidatorFactory={createValidator:function(t){return function(t){return new e.DateRestrictionValidator(t)}(t)}},e.Validation.__registerDefaultValidatorFactory(e.ValidatorFactory.VALIDATOR_TYPE_DATERESTRICTION,e.DateRestrictionValidatorFactory),e.IntlDateTimeConverter=function(e){this.Init(e)},e.Object.createSubclass(e.IntlDateTimeConverter,e.DateTimeConverter,"oj.IntlDateTimeConverter"),e.IntlDateTimeConverter._DEFAULT_DATE=new Date(1998,10,29,15,45,31),e.IntlDateTimeConverter.prototype.Init=function(t){e.IntlDateTimeConverter.superclass.Init.call(this,t)},e.IntlDateTimeConverter.prototype._getWrapped=function(){return this._wrapped||(this._wrapped=a.getInstance()),this._wrapped},e.IntlDateTimeConverter.prototype.format=function(t){var r=e.LocaleData.__getBundle(),a=e.Config.getLocale(),n=this.resolvedOptions();if(null==t||"string"==typeof t&&0===e.StringUtils.trim(""+t).length)return e.IntlConverterUtils.__getNullFormattedValue();try{return this._getWrapped().format(t,r,n,a)}catch(e){throw this._processConverterError(e,t)}},e.IntlDateTimeConverter.prototype.formatRelative=function(t,r){var a=e.LocaleData.__getBundle(),n=e.Config.getLocale();try{return this._getWrapped().formatRelative(t,a,r,n)}catch(e){throw this._processConverterError(e,t)}},e.IntlDateTimeConverter.prototype.getHint=function(){return null},e.IntlDateTimeConverter.prototype._getHintValue=function(){var t="";try{t=this.format(e.IntlConverterUtils.dateToLocalIso(e.IntlDateTimeConverter._DEFAULT_DATE))}catch(r){r instanceof e.ConverterError&&(t="")}finally{return t}},e.IntlDateTimeConverter.prototype.getOptions=function(){return e.IntlDateTimeConverter.superclass.getOptions.call(this)},e.IntlDateTimeConverter.prototype.resolvedOptions=function(){var t,r=e.Config.getLocale(),a=this.getOptions();if(r!==this._locale||!this._resolvedOptions){t=e.LocaleData.__getBundle();try{if(!t)return e.Logger.error("locale bundle for the current locale %s is unavailable",r),{};this._resolvedOptions=this._getWrapped().resolvedOptions(t,a,r),this._locale=r}catch(e){throw this._processConverterError(e)}}return this._resolvedOptions},e.IntlDateTimeConverter.prototype.isHourInDaySet=function(){var e=this.resolvedOptions(),t=e.hour,r=e.hour12;return!(!t||r)},e.IntlDateTimeConverter.prototype.isHourInAMPMSet=function(){var e=this.resolvedOptions(),t=e.hour,r=e.hour12;return!(!t||!r)},e.IntlDateTimeConverter.prototype.isMinuteSet=function(){return this._isOptionSet("minute")},e.IntlDateTimeConverter.prototype.isSecondSet=function(){return this._isOptionSet("second")},e.IntlDateTimeConverter.prototype.isMilliSecondSet=function(){return this._isOptionSet("millisecond")},e.IntlDateTimeConverter.prototype.isYearSet=function(){return this._isOptionSet("year")},e.IntlDateTimeConverter.prototype.isMonthSet=function(){return this._isOptionSet("month")},e.IntlDateTimeConverter.prototype.isDaySet=function(){return this._isOptionSet("day")},e.IntlDateTimeConverter.prototype.isDayNameSet=function(){return this._isOptionSet("weekday")},e.IntlDateTimeConverter.prototype.calculateWeek=function(t){return this._getWrapped().calculateWeek(t,e.LocaleData.__getBundle(),e.Config.getLocale())},e.IntlDateTimeConverter.prototype.parse=function(t){var r,a;if(null==t||""===t)return null;var n=e.LocaleData.__getBundle(),i=e.Config.getLocale(),o=this.resolvedOptions();try{return(a=(r=this._getWrapped().parse(t,n,o,i)).value)&&r.warning&&e.Logger.warn("The value "+t+" was leniently parsed to represent a date "+a.toString?a.toString():a),a}catch(e){throw this._processConverterError(e,t)}},e.IntlDateTimeConverter.prototype.compareISODates=function(t,r){var a=e.StringUtils.isString;if(!a(t)||!a(r))throw new Error("Invalid arguments for compareISODates ",t,r);return this._getWrapped().compareISODates(t,r,e.LocaleData.__getBundle())},e.IntlDateTimeConverter.prototype._processConverterError=function(t,r){var a,n,i,o,s,l,d,u=t.errorInfo;return u&&(i=u.errorCode,o=u.parameterMap||{},e.Assert.assertObject(o),l=o.propertyName,l=e.Translations.getTranslatedString("oj-converter.datetime.datetimeOutOfRange."+l),o.propertyName=l,t instanceof TypeError?"optionTypesMismatch"!==i&&"optionTypeInvalid"!==i||(s=e.IntlConverterUtils.__getConverterOptionError(i,o)):t instanceof RangeError?"optionOutOfRange"===i?s=e.IntlConverterUtils.__getConverterOptionError(i,o):"datetimeOutOfRange"===i&&(a=e.Translations.getTranslatedString("oj-converter.datetime.datetimeOutOfRange.summary",{propertyName:l,value:o.value}),n=e.Translations.getTranslatedString("oj-converter.datetime.datetimeOutOfRange.detail",{minValue:o.minValue,maxValue:o.maxValue}),s=new e.ConverterError(a,n)):t instanceof SyntaxError?"optionValueInvalid"===i&&(s=e.IntlConverterUtils.__getConverterOptionError(i,o)):t instanceof Error&&("dateFormatMismatch"===i?d="oj-converter.datetime.dateFormatMismatch.summary":"timeFormatMismatch"===i?d="oj-converter.datetime.timeFormatMismatch.summary":"datetimeFormatMismatch"===i?d="oj-converter.datetime.datetimeFormatMismatch.summary":"invalidTimeZoneID"===i?(a=e.Translations.getTranslatedString("oj-converter.datetime.invalidTimeZoneID.summary",{timeZoneID:o.timeZoneID}),n=e.Translations.getTranslatedString("oj-converter.hint.detail",{exampleValue:this._getHintValue()}),s=new e.ConverterError(a,n)):"nonExistingTime"===i?d="oj-converter.datetime.nonExistingTime.summary":"missingTimeZoneData"===i?d="oj-converter.datetime.missingTimeZoneData.summary":"dateToWeekdayMismatch"===i?(a=e.Translations.getTranslatedString("oj-converter.datetime.dateToWeekdayMismatch.summary",{date:o.date,weekday:o.weekday}),n=e.Translations.getTranslatedString("oj-converter.datetime.dateToWeekdayMismatch.detail"),s=new e.ConverterError(a,n)):"invalidISOString"===i&&(a=e.Translations.getTranslatedString("oj-converter.datetime.invalidISOString.summary",{isoStr:o.isoStr}),n=e.Translations.getTranslatedString("oj-converter.datetime.invalidISOString.detail"),s=new e.ConverterError(a,n)),d&&(a=e.Translations.getTranslatedString(d,{value:r||o.value,format:o.format}),n=e.Translations.getTranslatedString("oj-converter.hint.detail",{exampleValue:this._getHintValue()}),s=new e.ConverterError(a,n)))),s||(a=t.message,n=t.message,s=new e.ConverterError(a,n)),s},e.IntlDateTimeConverter.prototype._isOptionSet=function(e){return!!this.resolvedOptions()[e]},e.IntlDateTimeConverter.prototype.getAvailableTimeZones=function(){return this._getWrapped().getAvailableTimeZones(e.LocaleData.__getBundle())},e.IntlDateTimeConverter.prototype._getTimePositioning=function(){return this._getWrapped().getTimePositioning(e.LocaleData.__getBundle(),this.resolvedOptions(),e.Config.getLocale())},a=function(){var t,r,i,o,s,l,d,u,m,c,v,g,f,p,h,y,I,O,T,k,D,M,E,b,U,w,x,S,C,_,L,F,Z,N,z,P,G,V,A,R,j,H,K,W,X,Y,$,B,q,J,Q,ee,te,re,ae,ne,ie,oe,se,le,de,ue,me,ce,ve,ge,fe,pe,he,ye,Ie,Oe,Te,ke,De,Me,Ee,be,Ue,we,xe,Se,Ce,_e={},Le={},Fe=/(\d{1,4})\D+?(\d{1,4})/g,Ze=/(\d{1,4})\D+?(\d{1,4})\D+?(\d{1,4})/g,Ne=/^[M][^M]|[^M]M[^M]|[^M]M$|^M$/g,ze=/^[L][^L]|[^L]L[^L]|[^L]L$|^L$/g,Pe=/^[d][^d]|[^d]d[^d]|[^d]d$|^d$|^d[^d]/,Ge=/(?:^|[^h])h[^h]|[^H]H[^H]|[^k]k[^k]|[^K]K[^K]|^H[^H]|^H$|[^h]h$/,Ve=/'.*'/,Ae=/'[^d]*d[^d]*'/,Re=/(\d{1,2})(?:\D+?(\d{1,2}))?(?:\D+?(\d{1,2}))?(?:\D+?(\d{1,3}))?/g,je=/h|H|K|k/g,He=/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,Ke=/ccccc|cccc|ccc|cc|c|EEEEE|EEEE|EEE|EE|E|dd|d|MMMMM|MMMM|MMM|MM|M|LLLLL|LLLL|LLL|LL|L|yyyy|yy|y|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|aa|a|SSS|SS|S|zzzz|zzz|zz|z|v|ZZZ|ZZ|Z|XXX|XX|X|VV|GGGGG|GGGG|GGG|GG|G/g,We={0:"sun",1:"mon",2:"tue",3:"wed",4:"thu",5:"fri",6:"sat"},Xe="zulu",Ye="local",$e="offset",Be="UTC",qe="(\\D+|\\d\\d?\\D|\\d\\d?|\\D+\\d\\d?)",Je="(\\D+|\\D+\\d\\d?)",Qe={MMM:{token:"months",style:"format",mLen:"abbreviated",matchIndex:0,key:"month",value:"short",regExp:qe},MMMM:{token:"months",style:"format",mLen:"wide",matchIndex:0,key:"month",value:"long",regExp:qe},MMMMM:{token:"months",style:"format",mLen:"narrow",matchIndex:0,key:"month",value:"narrow",regExp:qe},LLL:{token:"months",style:"stand-alone",mLen:"abbreviated",matchIndex:1,key:"month",value:"short",regExp:qe},LLLL:{token:"months",style:"stand-alone",mLen:"wide",matchIndex:1,key:"month",value:"long",regExp:qe},LLLLL:{token:"months",style:"stand-alone",mLen:"narrow",matchIndex:1,key:"month",value:"narrow",regExp:qe},E:{token:"days",style:"format",dLen:"abbreviated",matchIndex:0,key:"weekday",value:"short",regExp:Je},EE:{token:"days",style:"format",dLen:"abbreviated",matchIndex:0,key:"weekday",value:"short",regExp:Je},EEE:{token:"days",style:"format",dLen:"abbreviated",matchIndex:0,key:"weekday",value:"short",regExp:Je},EEEE:{token:"days",style:"format",dLen:"wide",matchIndex:0,key:"weekday",value:"long",regExp:Je},EEEEE:{token:"days",style:"format",dLen:"narrow",matchIndex:0,key:"weekday",value:"narrow",regExp:Je},c:{token:"days",style:"stand-alone",dLen:"abbreviated",matchIndex:1,key:"weekday",value:"short",regExp:Je},cc:{token:"days",style:"stand-alone",dLen:"abbreviated",matchIndex:1,key:"weekday",value:"short",regExp:Je},ccc:{token:"days",style:"stand-alone",dLen:"abbreviated",matchIndex:1,key:"weekday",value:"short",regExp:Je},cccc:{token:"days",style:"stand-alone",dLen:"wide",matchIndex:1,key:"weekday",value:"long",regExp:Je},ccccc:{token:"days",style:"stand-alone",dLen:"narrow",matchIndex:1,key:"weekday",value:"narrow",regExp:Je},h:{token:"time",timePart:"hour",start1:0,end1:11,start2:1,end2:12,key:"hour",value:"numeric",regExp:"(\\d\\d?)"},hh:{token:"time",timePart:"hour",start1:0,end1:11,start2:1,end2:12,key:"hour",value:"2-digit",regExp:"(\\d\\d?)"},K:{token:"time",timePart:"hour",start1:0,end1:11,start2:0,end2:11,key:"hour",value:"numeric",regExp:"(\\d\\d?)"},KK:{token:"time",timePart:"hour",start1:0,end1:11,start2:0,end2:11,key:"hour",value:"2-digit",regExp:"(\\d\\d?)"},H:{token:"time",timePart:"hour",start1:0,end1:23,start2:0,end2:23,key:"hour",value:"numeric",regExp:"(\\d\\d?)"},HH:{token:"time",timePart:"hour",start1:0,end1:23,start2:0,end2:23,key:"hour",value:"2-digit",regExp:"(\\d\\d?)"},k:{token:"time",timePart:"hour",start1:0,end1:23,start2:1,end2:24,key:"hour",value:"numeric",regExp:"(\\d\\d?)"},kk:{token:"time",timePart:"hour",start1:0,end1:23,start2:1,end2:24,key:"hour",value:"2-digit",regExp:"(\\d\\d?)"},m:{token:"time",timePart:"minute",start1:0,end1:59,start2:0,end2:59,key:"minute",value:"numeric",regExp:"(\\d\\d?)"},mm:{token:"time",timePart:"minute",start1:0,end1:59,start2:0,end2:59,key:"minute",value:"2-digit",regExp:"(\\d\\d?)"},s:{token:"time",timePart:"second",start1:0,end1:59,start2:0,end2:59,key:"second",value:"numeric",regExp:"(\\d\\d?)"},ss:{token:"time",timePart:"second",start1:0,end1:59,start2:0,end2:59,key:"second",value:"2-digit",regExp:"(\\d\\d?)"},S:{token:"time",timePart:"millisec",start1:0,end1:999,start2:0,end2:999,key:"millisecond",value:"numeric",regExp:"(\\d{1,3})"},SS:{token:"time",timePart:"millisec",start1:0,end1:999,start2:0,end2:999,key:"millisecond",value:"numeric",regExp:"(\\d{1,3})"},SSS:{token:"time",timePart:"millisec",start1:0,end1:999,start2:0,end2:999,key:"millisecond",value:"numeric",regExp:"(\\d{1,3})"},d:{token:"dayOfMonth",key:"day",value:"numeric",getPartIdx:2,regExp:"(\\d\\d?)"},dd:{token:"dayOfMonth",key:"day",value:"2-digit",getPartIdx:2,regExp:"(\\d\\d?)"},M:{token:"monthIndex",key:"month",value:"numeric",getPartIdx:1,regExp:"(\\d\\d?)"},MM:{token:"monthIndex",key:"month",value:"2-digit",getPartIdx:1,regExp:"(\\d\\d?)"},L:{token:"monthIndex",key:"month",value:"numeric",getPartIdx:1,regExp:"(\\d\\d?)"},LL:{token:"monthIndex",key:"month",value:"2-digit",getPartIdx:1,regExp:"(\\d\\d?)"},y:{token:"year",key:"year",value:"numeric",regExp:"(\\d{1,4})"},yy:{token:"year",key:"year",value:"2-digit",regExp:"(\\d\\d?)"},yyyy:{token:"year",key:"year",value:"numeric",regExp:"(\\d{1,4})"},a:{token:"ampm",key:"hour12",value:!0,regExp:"(\\D*)"},z:{token:"tzAbbrev",regExp:"(.+?)"},v:{token:"tzAbbrev",key:"timeZoneName",value:"short",regExp:"(.+?)"},zz:{token:"tzAbbrev",regExp:"(.+?)"},zzz:{token:"tzAbbrev",regExp:"(.+?)"},zzzz:{token:"tzFull",regExp:"(.+?)"},Z:{token:"tzhm",regExp:"([+-]?\\d{1,4})"},ZZ:{token:"tzhm",regExp:"([+-]?\\d{1,4})"},ZZZ:{token:"tzhm",regExp:"([+-]?\\d{1,4})"},X:{token:"tzh",regExp:"([+-]?\\d{1,2})"},XX:{token:"tzhm",key:"XX",regExp:"([+-]?\\d{1,4})"},XXX:{token:"tzhsepm",regExp:"([+-]?\\d{1,2}:\\d{1,2})"},VV:{token:"tzid",regExp:"(.+?)"},G:{token:"era",key:"era",value:"short",regExp:Je},GG:{token:"era",key:"era",value:"short",regExp:Je},GGG:{token:"era",key:"era",value:"short",regExp:Je},GGGG:{token:"era",key:"era",value:"long",regExp:Je},GGGGG:{token:"era",key:"era",value:"narrow",regExp:Je},"/":{token:"slash",regExp:"(\\/)"}};return g=function(e){var t=e["two-digit-year-start"];return(void 0===t||isNaN(t))&&(t=1950),parseInt(t,10)},f=function(t){var r=t._ojLocale_,a=e.OraI18nUtils.getBCP47Region(r);return"h"===t.supplemental.prefferedHours[a]},y=function(e){return e%400==0||e%100!=0&&e%4==0},I=function(e,t){switch(t){case 0:case 2:case 4:case 6:case 7:case 9:case 11:return 31;case 1:return y(e)?29:28;default:return 30}},h=function(t,r,a){var n,i,o,s=e.OraI18nUtils.getLocaleElementsMainNode(r),l=e.OraI18nUtils.getGetOption(t,a),d=l("formatType","string",["date","time","datetime"],"date"),u=l("dateFormat","string",["short","medium","long","full"],"short"),m=l("timeFormat","string",["short","medium","long","full"],"short"),c=s.dates.calendars.gregorian,v=c.dateFormats,g=c.timeFormats;switch(u){case"full":n=v.full;break;case"long":n=v.long;break;case"medium":n=v.medium;break;case"short":n=v.short}switch(m){case"full":i=g.full;break;case"long":i=g.long;break;case"medium":i=g.medium;break;case"short":i=g.short}return void 0===n||"datetime"!==d&&"date"!==d||(o=n),void 0===i||"datetime"!==d&&"time"!==d||(o=o?o+" "+i:i),o},r=function(e,t){for(var r=0,a=!1,n=0,i=e.length;n<i;n++){var o=e.charAt(n);switch(o){case"'":a?t.push("'"):r++,a=!1;break;case"\\":a&&t.push("\\"),a=!a;break;default:t.push(o),a=!1}}return r},u=function(e,t,r){var a,n,i,o=void 0!==t.year||void 0!==t.month||void 0!==t.weekday||void 0!==t.day,s=void 0!==t.hour||void 0!==t.minute||void 0!==t.second;throw n={errorCode:"optionValueInvalid",parameterMap:{propertyName:"pattern",propertyValue:e,"propertyValueHint ":i=o&&s?"MM/dd/yy hh:mm:ss a":o?"MM/dd/yy":"hh:mm:ss a"}},(a=new SyntaxError("Unexpected character(s) "+r+' encountered in the pattern "'+e+' An example of a valid pattern is "'+i+'".')).errorInfo=n,a},D=function(t,r,a,n){var i,o,s=e.OraI18nUtils.getLocaleElementsMainNode(r).dates.calendars.gregorian.dateTimeFormats.availableFormats,l=["weekday","era","year","month","day","hour","minute","second","timeZoneName"],d={"2-digit":0,numeric:1,narrow:2,short:3,long:4},u=-1/0,m=void 0;for(var c in s){o=!1;var v={};v.pattern=s[c];for(var g=0;null!==(i=Ke.exec(c));){var f=i[0];("h"!==f&&"hh"!==f||n)&&("H"!==f&&"HH"!==f||!n)?void 0!==Qe[f]&&(v[Qe[f].key]=Qe[f].value):o=!0}if(!o){for(var p in l){var h=t[l[p]],y=v[l[p]];if(void 0===h&&void 0!==y)g-=20;else if(void 0!==h&&void 0===y)g-=120;else if(void 0!==h&&void 0!==y){var I=d[h],O=d[y],T=Math.max(Math.min(O-I,2),-2);2===T?g-=6:1===T?g-=3:-1===T?g-=6:-2===T&&(g-=8)}}g>u&&(u=g,m=v)}}return void 0!==m?m.pattern:null},O=function(t,r,a){var n="",i="",o={},s={},l=e.OraI18nUtils.getGetOption(t,a),d=l("era","string",["narrow","short","long"]);n+=M(o,"era",d,{narrow:"GGGGG",short:"GGG",long:"GGGG"}),d=l("year","string",["2-digit","numeric"]),n+=M(o,"year",d,{"2-digit":"yy",numeric:"y"}),d=l("month","string",["2-digit","numeric","narrow","short","long"]),n+=M(o,"month",d,{"2-digit":"MM",numeric:"M",narrow:"MMMMM",short:"MMM",long:"MMMM"}),d=l("weekday","string",["narrow","short","long"]),n+=M(o,"weekday",d,{narrow:"EEEEE",short:"E",long:"EEEE"}),d=l("day","string",["2-digit","numeric"]),n+=M(o,"day",d,{"2-digit":"dd",numeric:"d"});var u=l("hour12","boolean",[!0,!1]);return void 0===u&&(u=f(r)),d=l("hour","string",["2-digit","numeric"]),i+=M(s,"hour",d,!0===u?{"2-digit":"hh",numeric:"h"}:{"2-digit":"HH",numeric:"H"}),d=l("minute","string",["2-digit","numeric"]),i+=M(s,"minute",d,{"2-digit":"mm",numeric:"m"}),d=l("second","string",["2-digit","numeric"]),i+=M(s,"second",d,{"2-digit":"ss",numeric:"s"}),d=l("timeZoneName","string",["short","long"]),[n,i+=M(s,"timeZoneName",d,{short:"v",long:"v"}),o,s]},M=function(e,t,r,a){return void 0!==r?(e[t]=r,a[r]):""},T=function(t,r,a){var n=t,i=e.OraI18nUtils.getGetOption(r,a),o=i("year","string",["2-digit","numeric"]),s={"2-digit":"yy",numeric:"yyyy"};if(void 0!==o&&(n=n.replace(/y{1,4}/,s[o])),void 0!==(o=i("month","string",["2-digit","numeric","narrow","short","long"]))&&(void 0!==(s={"2-digit":"MM",numeric:"M",narrow:"MMMMM",short:"MMM",long:"MMMM"})[o]&&s[o].length>2?n=(n=n.replace(/M{3,5}/,s[o])).replace(/L{3,5}/,{"2-digit":"LL",numeric:"L",narrow:"LLLLL",short:"LLL",long:"LLLL"}[o]):"2-digit"===o&&(Ne.lastIndex=0,Ne.test(t)&&(n=n.replace("M","MM")),ze.test(t)&&(n=n.replace("L","LL")))),void 0!==(o=i("weekday","string",["narrow","short","long"]))&&(n=(n=n.replace(/E{1,5}/,{narrow:"EEEEE",short:"EEE",long:"EEEE"}[o])).replace(/c{1,5}/,{narrow:"ccccc",short:"ccc",long:"cccc"}[o])),void 0!==(o=i("day","string",["2-digit","numeric"]))&&"2-digit"===o){Pe.lastIndex=0,Ae.lastIndex=0;var l=Ae.test(t);1==Pe.test(t)&&!1===l&&(n=n.replace("d","dd"))}return n},k=function(t,r,a){var n=t;if("2-digit"===e.OraI18nUtils.getGetOption(r,a)("hour","string",["2-digit","numeric"])){Ge.lastIndex=0,Ve.lastIndex=0;var i=t.replace(Ve,""),o=Ge.exec(i);if(null!==o){je.lastIndex=0;var s=je.exec(o[0]),l=s[0]+s[0];n=t.replace(s[0],l)}}return n},se=function(e,t,r){var a,n,i=0;for(a in t)i++;if(i>1)return null;for(a=e.length;a>0;a--)if(void 0!==(n=r[e.substr(0,a)]))return n;return e},ne=function(t,r){var a="symbols-numberSystem-"+e.OraI18nUtils.getNumberingSystemKey(t,r);return t.numbers[a].decimal},i=function(t,r,a,n){function i(e){if(void 0!==u){var r=ne(m,a);r=void 0===s&&void 0===l&&void 0===d?"S":"ss"+r+"SSS",e=e.replace("ss",r),void 0===d&&(t.second=void 0)}var n=v("timeZoneName","string",["short","long"]);return void 0!==n&&(e=e.replace(/v/,{short:"z",long:"zzzz"}[n])),e}var o,s,l,d,u,m=e.OraI18nUtils.getLocaleElementsMainNode(r),c=e.OraI18nUtils.getLocaleElementsMainNodeKey(r),v=e.OraI18nUtils.getGetOption(t,n),g=v("formatMatcher","string",["basic","munger"],"munger"),p=0;for(p in t)p++;0===p&&(t={year:"numeric",month:"numeric",day:"numeric"}),u=v("millisecond","string",["numeric","2-digit"]),d=v("second","string",["numeric","2-digit"]),void 0!==u&&(s=v("hour","string",["numeric","2-digit"]),l=v("minute","string",["numeric","2-digit"]),t.second="2-digit");var y=O(t,r,n);if(void 0!==_e[c]){var I=_e[c].dates.calendars.gregorian.dateTimeFormats[y[0]+y[1]];if(void 0!==I)return i(I)}if(""===y[0]&&""===y[1])return h(t,r,n);var M=m.dates.calendars.gregorian.dateTimeFormats.availableFormats,E=M[y[0]],b=v("hour12","boolean",[!0,!1]);void 0===b&&(b=f(r)),void 0===E&&""!==y[0]&&(null===(E=se(y[0],y[2],M))&&(E=D(y[2],r,0,b)),null!==E?"basic"!==g&&(E=T(E,t,n)):E=y[0]);var U=M[y[1]];return void 0===U&&""!==y[1]&&(null===(U=se(y[1],y[3],M))&&(U=D(y[3],r,0,b)),null!==U?"basic"!==g&&(U=k(U,t,n)):U=y[1]),o=E||"",void 0!==U&&(""!==o?o+=" "+U:o=U),void 0===_e[c]&&(_e[c]={},_e[c].dates={},_e[c].dates.calendars={},_e[c].dates.calendars.gregorian={},_e[c].dates.calendars.gregorian.dateTimeFormats={}),_e[c].dates.calendars.gregorian.dateTimeFormats[y[0]+y[1]]=o,i(o)},Ie=function(e){var t=e.split(" "),r=t[0].split("-"),a=new Date(r[0],r[1]-1,r[2]);return t.length>1&&(r=t[1].split(":"),a.setHours(r[0]),a.setMinutes(r[1])),a.getTime()},ye=function(e,t,r){var a=new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5]);a=a.getTime();var n=t.split("/"),i=n[0],o=n[1],s=r[i];if(void 0===s)return null;if(void 0===(s=s[o]))return null;var l,d,u,m,c,v,g=s.length;for(l=0;l<g;l++){if(m=s[l].usesMetazone._from,c=s[l].usesMetazone._to,v=s[l].usesMetazone._mzone,void 0===m&&void 0===c)return v;if(void 0===m&&void 0!==c&&a<=(u=Ie(c)))return v;if(void 0!==m&&void 0===c&&a>=(d=Ie(m)))return v;if(void 0!==m&&void 0!==c&&(d=Ie(m),u=Ie(c),a>=d&&a<u))return v}},Oe=function(t,r,a,n,i){var o=e.OraI18nUtils.getLocaleElementsMainNode(t),s="",l=a.timeZone,d=e.OraI18nUtils.getGetOption(a,"OraDateTimeConverter")("dst","boolean",[!0,!1],!1);if(void 0===l)return s;var u,m,c=t.supplemental.metazones,v=ye(r,l,c),g="standard",f=!i,p=Te(l,t),h=ke(p,r,d,f,!0);if(void 0!==o.dates.timeZoneNames.metazone&&(u=o.dates.timeZoneNames.metazone[v]),void 0===u){var y=p.ofset(h);return e.OraI18nUtils.getTimeStringFromOffset(Be,y,!0,!0)}m=1===n?u.long:u.short;var I=p.ofset(h);return I<p.ofset(h+1)&&(g="daylight"),void 0!==m&&void 0!==(s=m[g])?s:e.OraI18nUtils.getTimeStringFromOffset(Be,I,!0,!0)},Te=function(e,t){return n.getInstance().getZone(e,t)},ke=function(e,t,r,a,n){var i=Date.UTC(t[0],t[1]-1,t[2],t[3],t[4],t[5]);return e.parse(i,r,a,n)},s=function(t,a,n,o){var s,l,d=n.isoStrParts,m=0===n.dateTime.indexOf("T"),c=e.OraI18nUtils.getLocaleElementsMainNode(t),v=e.OraI18nUtils.getGetOption(a,"OraDateTimeConverter.format");l=a.pattern||i(a,t,o,"OraDateTimeConverter.format"),s=[];var g,f=0,p=c.dates.calendars.gregorian;function h(e,t){switch(t){case 0:return e[0];case 1:return e[1];case 2:return e[2];case 3:var r=new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5]);return We[r.getDay()]}}function y(t,r,a,n){var i=h(r,a);t.push(n>1?e.OraI18nUtils.padZeros(i,n):i)}function I(t,r,n,i,o){var s;switch(i.timePart){case"hour":s=11===i.end1?r[3]%12:r[3],"h"===o||"hh"===o?0===s&&(s=12):"k"!==o&&"kk"!==o||0===s&&(s=24);break;case"minute":s=r[4];break;case"second":s=void 0===a.second&&void 0!==a.millisecond?0:r[5];break;case"millisec":s=r[6]}t.push(n>1?e.OraI18nUtils.padZeros(s,n):s)}function O(r,a,i){var o,s,l,d=a.timeZone,u=v("dst","boolean",[!0,!1],!1),m=!i;if(void 0!==d)s=Te(d,t),l=ke(s,r,u,m,!0),o=-s.ofset(l);else if(n.format!==Ye)switch(n.format){case $e:o=n.timeZone.split(":");var c=parseInt(o[0],10),g=parseInt(o[1],10);o=60*c+(e.OraI18nUtils.startsWith(n.timeZone,"-")?-g:g);break;case Xe:default:o=0}return o}var T=a.timeZone;for(n.format!==Ye&&void 0!==T&&ce(n,a,t);;){var k=Ke.lastIndex,D=Ke.exec(l),M=l.slice(k,D?D.index:l.length);if(f+=r(M,s),!D)break;if(f%2)s.push(D[0]);else{var E=D[0],b=E.length,U=Qe[E];switch(U.token){case"days":g=p[U.token][U.style][U.dLen],s.push(g[h(d,3)]);break;case"months":g=p[U.token][U.style][U.mLen],s.push(g[h(d,1)]);break;case"dayOfMonth":case"monthIndex":s.push(y(s,d,U.getPartIdx,b));break;case"year":g=d[0],2===b&&(g%=100),s.push(e.OraI18nUtils.padZeros(g,b));break;case"time":I(s,d,b,U,E);break;case"ampm":g=d[3]<12?p.dayPeriods.format.wide.am:p.dayPeriods.format.wide.pm,s.push(g);break;case"tzhm":0===(g=O(d,a,m))?"XX"===U.key?s.push("Z"):s.push("+0000"):s.push((g<=0?"-":"+")+e.OraI18nUtils.padZeros(Math.floor(Math.abs(g/60)),2)+e.OraI18nUtils.padZeros(Math.floor(Math.abs(g%60)),2));break;case"tzhsepm":0===(g=O(d,a,m))?s.push("Z"):s.push((g<=0?"-":"+")+e.OraI18nUtils.padZeros(Math.floor(Math.abs(g/60)),2)+":"+e.OraI18nUtils.padZeros(Math.floor(Math.abs(g%60)),2));break;case"tzh":0===(g=O(d,a,m))?s.push("Z"):s.push((g<=0?"-":"+")+e.OraI18nUtils.padZeros(Math.floor(Math.abs(g/60)),2));break;case"tzid":g=void 0!==T?T:n.format===Xe?Be:"",s.push(g);break;case"tzAbbrev":g=Oe(t,d,a,0,m),s.push(g);break;case"tzFull":g=Oe(t,d,a,1,m),s.push(g);break;case"era":g=p.eras.eraAbbr,s.push(g[1]);break;case"slash":s.push("/");break;default:u(l,a,E)}}}return s.join("")},U=function(e,t){return e.getFullYear()===t.getFullYear()},w=function(e,t){return t.getFullYear()-e.getFullYear()==1},x=function(e,t){return w(t,e)},S=function(e,t){return U(e,t)&&e.getMonth()===t.getMonth()},C=function(e,t){return U(e,t)?t.getMonth()-e.getMonth()==1:!!w(e,t)&&11===e.getMonth()&&0===t.getMonth()},_=function(e,t){return C(t,e)},E=function(e,t){var r=e.getDate(),a=t.getDate();return C(e,t)&&(a+=I(e.getFullYear,e.getMonth())),a-r},b=function(t,r){var a=t._ojLocale_,n=e.OraI18nUtils.getBCP47Region(a),i=t.supplemental.weekData.firstDay,o=i[n];void 0===o&&(o=i["001"]);var s=r-o;return s<0&&(s+=7),s},L=function(e,t,r){if(t>r){var a=t;t=r,r=a}if(!S(t,r)&&!C(t,r))return!1;var n=E(t,r)+b(e,t.getDay());return n>=0&&n<=6},F=function(e,t,r){if(!S(t,r)&&!C(t,r))return!1;var a=E(t,r)+b(e,t.getDay());return a>=7&&a<=13},Z=function(e,t,r){return F(e,r,t)},N=function(e,t){return U(e,t)&&S(e,t)&&e.getDate()===t.getDate()},z=function(e,t){return!(!S(e,t)&&!C(e,t))&&1===E(e,t)},P=function(e,t){return z(t,e)},De=function(t,r,a){var n=a.timeZone;if(e.OraI18nUtils.getISOStrFormatInfo(t).format===Ye&&void 0===n)return t;var i={isoStrFormat:"zulu"};void 0!==n&&(i.timeZone=n,i.dst=!0);var o=l(t,r,i,"en-US");return i={timeZone:e.OraI18nUtils.getLocalTimeZoneOffset(),isoStrFormat:"local"},l(o.value,r,i,"en-US").value},Me=function(t,r,a){var n=e.OraI18nUtils._IsoStrParts(t),i=e.OraI18nUtils._IsoStrParts(r);return a?(n=Date.UTC(n[0],n[1]-1,n[2],0,0,0,0),i=Date.UTC(i[0],i[1]-1,i[2],0,0,0,0)):(n=Date.UTC(n[0],n[1]-1,n[2],n[3],n[4],n[5],n[6]),i=Date.UTC(i[0],i[1]-1,i[2],i[3],i[4],i[5],i[6])),n-i},Ee=function(e,t){return e.replace(/\{(\d+)\}/g,function(){return t[arguments[1]]})},be=function(t,r,a,n){var i,o,l,d,u=e.OraI18nUtils.getLocaleElementsMainNode(a),m=u.dates.calendars.gregorian.dateTimeFormats.long,c=u.dates.calendars.gregorian.days.format.wide,v=u.dates.fields,g=e.OraI18nUtils.isoToLocalDate(r),f=e.OraI18nUtils.isoToLocalDate(t),p=e.OraI18nUtils.getISOStrFormatInfo(r);if(N(f,g))i=v.day["relative-type-0"];else if(z(f,g))i=v.day["relative-type-1"];else if(P(f,g))i=v.day["relative-type--1"];else{l=g.getDay(),d=We[l];var h=Me(r,t,!0)
;if((h/=864e5)<-1&&h>-7)i=v[d]["relative-type--1"];else{if(!(h>1&&h<7))return s(a,{year:"numeric",month:"numeric",day:"numeric"},p,"en-US");i=c[d]}}return n?i:(o=s(a,{hour:"numeric",minute:"numeric"},p,"en-US"),m=m.replace(/'/g,""),m=Ee(m,[o,i]))},Ue=function(t,r,a,n){var i=e.OraI18nUtils.getLocaleElementsMainNode(n).dates.fields,o=e.OraI18nUtils.getGetOption(a,"OraDateTimeConverter.formatRelative")("dateField","string",["day","week","month","year","hour","minute","second"]),s=e.OraI18nUtils.isoToLocalDate(t),l=e.OraI18nUtils.isoToLocalDate(r);switch(o){case"day":return N(s,l)?i.day["relative-type-0"]:z(s,l)?i.day["relative-type-1"]:P(s,l)?i.day["relative-type--1"]:we(t,r,n,"day");case"week":return L(n,s,l)?i.week["relative-type-0"]:F(n,s,l)?i.week["relative-type-1"]:Z(n,s,l)?i.week["relative-type--1"]:we(t,r,n,"week");case"month":return S(s,l)?i.month["relative-type-0"]:C(s,l)?i.month["relative-type-1"]:_(s,l)?i.month["relative-type--1"]:we(t,r,n,"month");case"year":return U(s,l)?i.year["relative-type-0"]:w(s,l)?i.year["relative-type-1"]:x(s,l)?i.year["relative-type--1"]:we(t,r,n,"year");case"hour":return we(t,r,n,"hour");case"minute":return we(t,r,n,"minute");case"second":return we(t,r,n,"second")}return null},Ce=function(e){return 4800*e/146097},Se=function(e){var t=Ce(e/864e5),r=t/12;return{year:Math.round(r),month:Math.round(t),week:Math.round(e/6048e5),day:Math.round(e/864e5),hour:Math.round(e/36e5),minute:Math.round(e/6e4),second:Math.round(e/1e3),millisecond:e}},xe=function(e){return e.split("-")[0]},we=function(t,r,a,n){var i=e.OraI18nUtils.getLocaleElementsMainNodeKey(a),o=e.OraI18nUtils.getLocaleElementsMainNode(a),s=xe(i),l=a.supplemental.plurals,d=o.dates.fields,u=Me(r,t,!1),m=Math.abs(u),c=Se(m);if(null===n&&(n=(c.second<46?"second":c.minute<46&&"minute")||c.hour<23&&"hour"||c.day<7&&"day"||c.week<4&&"week"||c.month<12&&"month"||"year"),"second"===n&&c.second<46)return d[n]["relative-type-0"];var v="relativeTimePattern-count-"+l[s](c[n]),g=u<0?"relativeTime-type-past":"relativeTime-type-future",f=d[n][g][v];return void 0===f&&(v="relativeTimePattern-count-other",f=d[n][g][v]),Ee(f,[c[n]])},d=function(t,r,a){var n=e.OraI18nUtils.dateToLocalIso(new Date);if("number"==typeof t)t=e.OraI18nUtils.dateToLocalIso(new Date(t));else{if("string"!=typeof t)return null;if(""===e.OraI18nUtils.trim(t))return null}void 0===a&&(a={formatUsing:"displayName"});var i=e.OraI18nUtils.getGetOption(a,"OraDateTimeConverter.formatRelative"),o=i("relativeTime","string",["fromNow","toNow"],"fromNow"),s=i("dateField","string",["day","week","month","year","hour","minute","second"]);if(t=De(t,r,a),"toNow"===o){var l=n;n=t,t=l}if("calendar"===i("formatUsing","string",["displayName","calendar"],"displayName")){var d=i("dateOnly","boolean",[!0,!1],!1);return be(n,t,r,d)}return void 0!==s?Ue(n,t,a,r):we(n,t,r,null)},le=function(e,t){var r,a;throw a={errorCode:"dateToWeekdayMismatch",parameterMap:{weekday:e,date:t}},(r=new Error("The weekday "+e+" does not match the date "+t)).errorInfo=a,r},oe=function(e,t,r){var a,n,i,o;throw 2===r?(a='The value "'+e+'" does not match the expected date-time format "'+t+'"',o="datetimeFormatMismatch"):0===r?(a='The value "'+e+'" does not match the expected date format "'+t+'"',o="dateFormatMismatch"):(a='The value "'+e+'" does not match the expected time format "'+t+'"',o="timeFormatMismatch"),i={errorCode:o,parameterMap:{value:e,format:t}},(n=new Error(a)).errorInfo=i,n},G=function(e,t){if(t<100){var r=e%100;t+=100*Math.floor(e/100)+(t<r?100:0)}return t},ae=function(t,r){var a={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};for(var n in t)if(e.OraI18nUtils.trim(e.OraI18nUtils.toUpper(t[n]))===e.OraI18nUtils.trim(r))return a[n];return-1},ie=function(t,r){for(var a in t)if(e.OraI18nUtils.trim(e.OraI18nUtils.toUpper(t[a]))===e.OraI18nUtils.trim(r))return a-1;return-1},K=function(t,r,a){var n,i,o=e.OraI18nUtils.getLocaleElementsMainNode(t),s=o.dates.calendars.gregorian.days.format,l=o.dates.calendars.gregorian.days["stand-alone"];switch(a){case 0:i=[s.abbreviated,s.wide];break;case 1:i=[l.abbreviated,l.wide]}return r=e.OraI18nUtils.toUpper(r),-1===(n=ae(i[0],r))&&(n=ae(i[1],r)),n},Y=function(t,r,a){var n,i=-1,o=e.OraI18nUtils.getLocaleElementsMainNode(t),s=o.dates.calendars.gregorian.months.format,l=o.dates.calendars.gregorian.months["stand-alone"];switch(a){case 0:n=[s.wide,s.abbreviated];break;case 1:n=[l.wide,l.abbreviated];break;case 2:n=[s.wide,s.abbreviated,l.wide,l.abbreviated];break;default:return-1}for(var d in r=e.OraI18nUtils.toUpper(r),n)if(-1!==(i=ie(n[d],r)))return i;return i},q=function(e,t){for(var a,n=e.replace(He,"\\\\$1"),i=["^"],o=[],s=0,l=0;null!==(a=Ke.exec(n));){var d=n.slice(s,a.index);if(s=Ke.lastIndex,(l+=r(d,i))%2)i.push(a[0]);else{var m,c=a[0];void 0!==Qe[c]?m=Qe[c].regExp:u(e,t,c),m&&i.push(m),o.push(a[0])}}r(n.slice(s),i),i.push("$");var v=i.join("").replace(/\s+/g,"\\s+");return{}[e]={regExp:v,groups:o}},te=function(e,t,r,a,n,i,o){if(t<r||t>a){var s=new RangeError(n+" is out of range.  Enter a value between "+i+" and "+o+" for "+e),l={errorCode:"datetimeOutOfRange",parameterMap:{value:n,minValue:i,maxValue:o,propertyName:e}};throw s.errorInfo=l,s}},V=function(e,t){for(var r=0;r<e.length;r++)for(var a in e[r])if(a===t)return parseInt(r,10);return 0},H=function(t,r,a,n,i){var o=e.OraI18nUtils.getLocaleElementsMainNode(n).dates.calendars.gregorian.dayPeriods.format.wide.pm;Re.lastIndex=0;var s=0,l=0,d=0,u=0,m=Re.exec(r);switch(null===m&&oe(r,a,i),void 0!==m[1]&&(s=parseInt(m[1],10)),void 0!==m[2]&&(l=parseInt(m[2],10)),void 0!==m[3]&&(d=parseInt(m[3],10)),void 0!==m[4]&&(u=parseInt(m[4],10)),je.lastIndex=0,(m=je.exec(a))[0]){case"h":12===s&&(s=0),te("hour",s,0,11,s,1,12),-1!==e.OraI18nUtils.toUpper(r).indexOf(e.OraI18nUtils.toUpper(o))&&s<12&&(s+=12);break;case"K":te("hour",s,0,11,s,0,11),-1!==e.OraI18nUtils.toUpper(r).indexOf(e.OraI18nUtils.toUpper(o))&&s<12&&(s+=12);break;case"H":te("hour",s,0,23,s,0,23);break;case"k":24===s&&(s=0),te("hour",s,0,23,s,1,24)}te("minute",l,0,59,l,0,59),te("second",d,0,59,d,0,59),te("millisec",u,0,999,u,0,999),t.setHours(s,l,d,u)},he=function(t,r){var a,n,i,o=e.OraI18nUtils.getLocaleElementsMainNode(r),s=o.dates.calendars.gregorian.days.format,l=o.dates.calendars.gregorian.days["stand-alone"],d=[s.wide,s.abbreviated,l.wide,l.abbreviated],u=!1;for(n in d){for(i in d[n])if(a=d[n][i],new RegExp(a+"\\b","i").test(t)){u=!0;break}if(u)break;a=null}return a},R=function(t,r,a,n,i){Ze.lastIndex=0;var o=Ze.exec(t);null===o&&oe(t,r,i?2:0);var s,l,d,u,m,c,v=[{y:r.indexOf("y")},{M:r.indexOf("M")},{d:r.indexOf("d")}];v.sort(function(e,t){for(var r in e)break;for(var a in t)break;return e[r]-t[a]});var f=V(v,"d"),p=!1,h=!1;for(c=1;c<=3;c++){var y=o[c];(y.length>2||y>31)&&(s=y,p=!0,u=c-1)}for(p||(u=V(v,"y"),s=o[V(v,"y")+1]),c=0;c<3;c++)if(c!==u&&o[c+1]>12){d=o[c+1],h=!0,m=c;break}if(h){for(c=0;c<3;c++)if(c!==m&&c!==u){l=o[c+1];break}void 0===l&&(l=o[V(v,"M")+1])}else u===V(v,"d")?(d=o[V(v,"y")+1],l=o[V(v,"M")+1]):u===V(v,"M")?(d=o[V(v,"d")+1],l=o[V(v,"y")+1]):(d=o[V(v,"d")+1],l=o[V(v,"M")+1]);var O=I(s,l-=1);h&&f!==m&&l>12&&te("month",d,0,11,d,1,12),te("month",l,0,11,l+1,1,12),te("day",d,1,O,d,1,O);var T=g(a);s=G(T,parseInt(s,10)),te("year",s,0,9999,s,0,9999);var k=new Date(s,l,d),D=he(t,n);if(null!==D){var M=K(n,D,0);k.getDay()!==M&&le(D,k.getDate())}var E={value:k,offset:"",warning:"lenient parsing was used"};if(i){var b=t.substr(Ze.lastIndex);0===b.length?E.value.setHours(0,0,0,0):H(E.value,b,r,n,2)}return E.value=e.OraI18nUtils.dateToLocalIso(E.value),E},j=function(t,r,a,n,i){var o=t;t=e.OraI18nUtils.toUpper(t);var s,l,d,u,m=e.OraI18nUtils.getLocaleElementsMainNode(n),c=m.dates.calendars.gregorian.months.format,v=m.dates.calendars.gregorian.months["stand-alone"],f=[c.wide,c.abbreviated,v.wide,v.abbreviated],p=!1;for(l in f){for(d in s=[],f[l])u=e.OraI18nUtils.toUpper(f[l][d]),s.push({idx:d,name:u});for(d in s.sort(function(e,t){return t.idx-e.idx}),s)if(u=s[d].name,-1!==t.indexOf(u)){p=!0,t=t.replace(u,"");break}if(p)break}if(!p)return R(o,r,a,n,i);var h=Y(n,u,2);te("month",h,0,11,h,1,12);var y=he(o,n),O=new RegExp(y+"\\W","i");null!==y&&(t=t.replace(O,"")),Fe.lastIndex=0;var T=Fe.exec(t);null===T&&oe(o,r,i?2:0);var k,D,M,E=[{y:r.indexOf("y")},{d:r.indexOf("d")}];E.sort(function(e,t){for(var r in e)break;for(var a in t)break;return e[r]-t[a]});var b=!1;for(l=1;l<=2;l++){var U=T[l];(U.length>2||U>31)&&(k=U,b=!0,M=l-1)}b||(M=V(E,"y"),k=T[V(E,"y")+1]),D=M===V(E,"d")?T[V(E,"y")+1]:T[V(E,"d")+1];var w=g(a);k=G(w,parseInt(k,10)),te("year",k,0,9999,k,0,9999);var x=new Date(k,h,D);if(null!==y){var S=K(n,y,0);x.getDay()!==S&&le(y,x.getDate())}var C=I(k,h);te("day",D,1,C,D,1,C);var _={value:x,offset:"",warning:"lenient parsing was used"};if(i){var L=t.substr(Fe.lastIndex);0===L.length?_.value.setHours(0,0,0,0):H(_.value,L,r,n,2)}return _.value=e.OraI18nUtils.dateToLocalIso(_.value),_},A=function(t,r,a,n){switch(c(a,"OraDateTimeConverter.parse")){case 0:return j(t,r,a,n,!1);case 1:var i=new Date;return H(i,t,r,n,1),{value:e.OraI18nUtils.dateToLocalIso(i),offset:"",warning:"lenient parsing was used"};case 2:return j(t,r,a,n,!0)}return null},pe=function(t,r,a,n,i,o,s,l,d,u,m){var c,v,g,f=e.OraI18nUtils.getLocaleElementsMainNode(t).dates.calendars.gregorian[r][i];return c="months"===r?Y(t,a,o):K(t,a,o),v=f[n][d],g=f[n][u],te(m,c,s,l,a,v,g),c},fe=function(e,t,r,a){t[r.timePart]=e,"h"===a||"hh"===a?12===e&&(t[r.timePart]=0):"k"!==a&&"kk"!==a||24===e&&(t[r.timePart]=0),te(r.timePart,t[r.timePart],r.start1,r.end1,e,r.start2,r.end2)},o=function(t,r,a,n){var i=e.OraI18nUtils.getLocaleElementsMainNode(n),o=i.dates.calendars.gregorian.eras.eraAbbr[1],s=e.OraI18nUtils.trimNumber(o);t=t.replace(o,s);var l=e.OraI18nUtils.getGetOption(a,"OraDateTimeConverter.parse")("lenientParse","string",["none","full"],"full"),d=c(a,"OraDateTimeConverter.parse"),u=q(r,a),m=new RegExp(u.regExp).exec(t);if(null===m){if("full"===l)return A(t,r,a,n);oe(t,r,d)}for(var v,f=u.groups,p=null,h=null,y=null,O=null,T="",k=null,D=!1,M={hour:0,minute:0,second:0,millisec:0},E=i.dates.calendars.gregorian.dayPeriods.format.wide.pm,b=g(a),U=0,w=f.length;U<w;U++){var x=m[U+1];if(x){var S=f[U],C=parseInt(x,10),_=Qe[S];switch(_.token){case"months":h=pe(n,_.token,x,_.mLen,_.style,_.matchIndex,0,11,"1","12","month name");break;case"days":v=x,O=pe(n,_.token,x,_.dLen,_.style,_.matchIndex,0,6,"sun","sat","weekday");break;case"time":fe(C,M,_,S);break;case"dayOfMonth":if((y=C)>31&&"full"===l)return A(t,r,a,n);break;case"monthIndex":if((h=C-1)>11&&"full"===l)return A(t,r,a,n);break;case"year":p=G(b,C),te("year",p,0,9999,p,0,9999);break;case"ampm":D=-1!==e.OraI18nUtils.toUpper(x).indexOf(e.OraI18nUtils.toUpper(E));break;case"tzhm":T=x.substr(-2),T=x.substr(0,3)+":"+T;break;case"tzhsepm":T=x;break;case"tzh":T=x+":00";break;case"tzid":k=x}}}var L=new Date;null===p&&(p=L.getFullYear()),null===h&&null===y?(h=L.getMonth(),y=L.getDate()):null===y&&(y=1),te("month",h,0,11,h+1,1,12);var F=I(p,h);te("day",y,1,F,y,1,F),L.setFullYear(p,h,y),null!==O&&L.getDay()!==O&&le(v,L.getDate()),D&&M.hour<12&&(M.hour+=12);var Z=[p,h+1,y,M.hour,M.minute,M.second,M.millisec],N=e.OraI18nUtils.partsToIsoString(Z);if(null!==k){var z=Te(k,n),P=ke(z,Z,!1,!0,!0);T=-z.ofset(P),T=e.OraI18nUtils.getTimeStringFromOffset("",T,!1,!0)}return""!==T&&(N+=T),{value:N}},m=function(e,t,a){for(var n,i=a.replace(He,"\\\\$1"),o=["^"],s=0,l=0,d={locale:e,numberingSystem:t,calendar:"gregorian"};null!==(n=Ke.exec(i));){var m=i.slice(l,n.index);if(l=Ke.lastIndex,!((s+=r(m,o))%2)){var c=n[0];"/"!==c&&"zzzz"!==c&&"zzz"!==c&&"zz"!==c&&"z"!==c&&(void 0!==Qe[c]?(void 0!==Qe[c].key&&(d[Qe[c].key]=Qe[c].value),"kk"===c||"HH"===c||"H"===c||"k"===c?d.hour12=!1:"KK"!==c&&"hh"!==c&&"h"!==c&&"K"!==c||(d.hour12=!0)):u(a,d,c))}}return d},p=function(e){var t=m("","",e),r=void 0!==t.year||void 0!==t.month||void 0!==t.weekday||void 0!==t.day,a=void 0!==t.hour||void 0!==t.minute||void 0!==t.second||void 0!==t.millisecond;return r&&a?2:a?1:0},v=function(e){var t=e.indexOf("T");return-1===t?0:t>0?2:1},c=function(t,r){if(void 0!==t.pattern)return p(t.pattern);var a=e.OraI18nUtils.getGetOption(t,r),n=void 0!==a("hour","string",["2-digit","numeric"])||void 0!==a("minute","string",["2-digit","numeric"])||void 0!==a("second","string",["2-digit","numeric"])||void 0!==a("millisecond","string",["numeric"]),i=void 0!==a("year","string",["2-digit","numeric"])||void 0!==a("month","string",["2-digit","numeric","narrow","short","long"])||void 0!==a("day","string",["2-digit","numeric"])||void 0!==a("weekday","string",["narrow","short","long"]);if(i&&n)return 2;if(n)return 1;if(i)return 0;var o=a("formatType","string",["date","time","datetime"],"date");return"datetime"===o?2:"time"===o?1:0},ve=function(e,t){var r=ke(e,t,!1,!0,!1),a=e.ofset(r),n=e.ofset(r+1);return Math.max(a,n)},ce=function(t,r,a){var n,i,o,s,l=t.isoStrParts,d=t.format,u=r.timeZone,m=(e.OraI18nUtils.getGetOption(r,"OraDateTimeConverter.parse"),Te(u,a));switch(n=Date.UTC(l[0],l[1]-1,l[2],l[3],l[4],l[5]),d){case $e:var c=t.timeZone;i=c.split(":");var v=parseInt(i[0],10),g=parseInt(i[1],10);i=60*v+(e.OraI18nUtils.startsWith(c,"-")?-g:g);break;case Xe:i=0}n-=6e4*((o=ve(m,l))+i),s=m.parse(n,!1,!0,!1),o=-m.ofset(s),o-=i;var f=new Date(Date.UTC(l[0],l[1]-1,l[2],l[3],l[4],l[5])),p=f.getUTCMinutes()+o;f.setUTCHours(f.getUTCHours()+(p/60<<0),p%60),l[0]=f.getUTCFullYear(),l[1]=f.getUTCMonth()+1,l[2]=f.getUTCDate(),l[3]=f.getUTCHours(),l[4]=f.getUTCMinutes(),l[5]=f.getUTCSeconds()},me=function(t,r){var a,n="";switch(t){case 0:n=e.OraI18nUtils.padZeros(r[0],4)+"-"+e.OraI18nUtils.padZeros(r[1],2)+"-"+e.OraI18nUtils.padZeros(r[2],2);break;case 1:n="T"+e.OraI18nUtils.padZeros(r[3],2)+":"+e.OraI18nUtils.padZeros(r[4],2)+":"+e.OraI18nUtils.padZeros(r[5],2),(a=r[6])>0&&(n+="."+e.OraI18nUtils.trimRightZeros(e.OraI18nUtils.padZeros(a,3)));break;default:n=e.OraI18nUtils.padZeros(r[0],4)+"-"+e.OraI18nUtils.padZeros(r[1],2)+"-"+e.OraI18nUtils.padZeros(r[2],2)+"T"+e.OraI18nUtils.padZeros(r[3],2)+":"+e.OraI18nUtils.padZeros(r[4],2)+":"+e.OraI18nUtils.padZeros(r[5],2),(a=r[6])>0&&(n+="."+e.OraI18nUtils.trimRightZeros(e.OraI18nUtils.padZeros(a,3)))}return n},ue=function(t,r,a,n,i,o){var s=Te(t,i),l=ke(s,r,a,n,o),d=s.ofset(l);return e.OraI18nUtils.getTimeStringFromOffset("",d,!0,!0)},de=function(t,r,a,n){var i,o,s,l=e.OraI18nUtils.getGetOption(a,"OraDateTimeConverter.parse"),d=l("isoStrFormat","string",[Xe,$e,"invariant",Ye,"auto"],"auto"),u=l("dst","boolean",[!0,!1],!1),m=!0,c=r.isoStrParts,v=r.timeZone,g=a.timeZone,f=r.format,p=a.isoStrFormat,h=me(t,c);if(0===t||"local"===p)return h;switch(1===t&&(m=!1),d){case $e:void 0===g&&f===$e?h+=v:void 0===g&&f===Ye?h+="":void 0===g&&f===Xe?h+="+00:00":void 0!==g&&(h+=s=ue(g,c,u,m,n,!0));break;case Xe:var y=0;if(void 0===g){if(f===$e){s=v.split(":");var I=parseInt(s[0],10),O=parseInt(s[1],10);y=-(y=60*I+(e.OraI18nUtils.startsWith(s[0],"-")?-O:O))}}else i=Te(g,n),o=ke(i,c,u,m,!0),y=s=i.ofset(o);if(0!==y){var T=new Date(Date.UTC(c[0],c[1]-1,c[2],c[3],c[4],c[5],c[6]));y=T.getUTCMinutes()+y,T.setUTCHours(T.getUTCHours()+(y/60<<0),y%60),c[0]=T.getUTCFullYear(),c[1]=T.getUTCMonth()+1,c[2]=T.getUTCDate(),c[3]=T.getUTCHours(),c[4]=T.getUTCMinutes(),c[5]=T.getUTCSeconds(),h=me(t,c)}h+="Z";break;case"auto":void 0!==g?h+=s=ue(g,c,u,m,n,!0):(s=v)&&(h+=s)}return h},l=function(t,r,a,n){var s,l,d=e.OraI18nUtils.getNumberingExtension(n);if(void 0===e.OraI18nUtils.numeringSystems[d]&&(d="latn"),"latn"!==d){var u,m=[];for(u=0;u<t.length;u++){var g=e.OraI18nUtils.numeringSystems[d].indexOf(t[u]);-1!==g?m.push(g):m.push(t[u])}t=m.join("")}(arguments.length<=2||void 0===a)&&(a={year:"numeric",month:"numeric",day:"numeric"});var f,p,h={};return!0===e.OraI18nUtils._ISO_DATE_REGEXP.test(t)?(f=t,s=v(t)):(l=a.pattern||i(a,r,n,"OraDateTimeConverter.parse"),s=c(a,"OraDateTimeConverter.parse"),f=(h=o(t,l,a,r)).value),p=e.OraI18nUtils.getISOStrFormatInfo(f),void 0!==a.timeZone&&p.format!==Ye&&ce(p,a,r),f=de(s,p,a,r),h.value=f,h},re=function(t,r){var a={isoStrFormat:Ye},n=e.OraI18nUtils.getISOStrFormatInfo(t),i=e.OraI18nUtils.getISOStrFormatInfo(r),o=n.format,s=i.format;return o===Ye||s===Ye?a:(a.isoStrFormat=Xe,a)},J=function(e,t,r,a,n,i,o){var s=m(a,n,i.pattern);return s.pattern=i.pattern,void 0!==e&&(s.isoStrFormat=e),void 0!==t&&(s.timeZone=t),void 0!==r&&(s.dst=r),s["two-digit-year-start"]=g(i),s.lenientParse=o("lenientParse","string",["none","full"],"full"),s},Q=function(e,t,r,a){var n,i=!1;return void 0!==r&&(t.dst=r),void 0!==(n=e("year","string",["2-digit","numeric"]))&&(t.year=n,i=!0),void 0!==(n=e("era","string",["narrow","short","long"]))&&(t.era=n,i=!0),void 0!==(n=e("month","string",["2-digit","numeric","narrow","short","long"]))&&(t.month=n,i=!0),void 0!==(n=e("day","string",["2-digit","numeric"]))&&(t.day=n,i=!0),void 0!==(n=e("weekday","string",["narrow","short","long"]))&&(t.weekday=n,i=!0),void 0!==(n=e("hour","string",["2-digit","numeric"]))&&(t.hour=n,i=!0,void 0===(n=e("hour12","boolean",[!0,!1]))&&(n=f(a)),t.hour12=n),void 0!==(n=e("minute","string",["2-digit","numeric"]))&&(t.minute=n,i=!0),void 0!==(n=e("second","string",["2-digit","numeric"]))&&(t.second=n,i=!0),void 0!==(n=e("millisecond","string",["numeric"]))&&(t.millisecond=n,i=!0),i},$=function(e,t,r,n){var i=h(t,r,a.resolvedOptions),o=n("formatType","string",["date","time","datetime"],"date"),s=n("dateFormat","string",["short","medium","long","full"],"short"),l=n("timeFormat","string",["short","medium","long","full"],"short");e.formatType=o,"datetime"!==o&&"date"!==o||(e.dateFormat=s),"datetime"!==o&&"time"!==o||(e.timeFormat=l),e.patternFromOptions=i,e.lenientParse=n("lenientParse","string",["none","full"],"full")},ee=function(e,t){var r=e("formatUsing","string",["displayName","calendar"]);void 0!==r&&(t.formatUsing=r),void 0!==(r=e("dateField","string",["day","week","month","year","hour","minute","second"]))&&(t.dateField=r),void 0!==(r=e("relativeTime","string",["fromNow","toNow"]))&&(t.relativeTime=r),void 0!==(r=e("dateOnly","boolean",[!0,!1]))&&(t.dateOnly=r)},B=function(e,t,r,a,n,o,s,l){var d,u={locale:l,numberingSystem:s,calendar:"gregorian"},m=0;for(d in e)m++;if(0===m)return u.year="numeric",u.month="numeric",u.day="numeric",u.lenientParse="full",u;void 0!==r&&(u.timeZone=r,void 0!==n&&(u.isoStrFormat=n)),ee(t,u);var c=Q(t,u,a,o);return u["two-digit-year-start"]=g(e),c?(void 0!==r&&void 0!==(d=t("timeZoneName","string",["short","long"]))&&(u.timeZoneName=d),u.lenientParse=t("lenientParse","string",["none","full"],"full"),u.patternFromOptions=i(u,o,l,"OraDateTimeConverter.resolvedOptions"),u):($(u,e,o,t),u)},W=function(e,t,r){return{calendar:"gregorian",locale:t,numberingSystem:r,year:"numeric",month:"numeric",day:"numeric",patternFromOptions:i({year:"numeric",month:"numeric",day:"numeric"},e,t,"OraDateTimeConverter.resolvedOptions"),lenientParse:"full"}},X=function(t,r,a){var n,i,o;(arguments.length<3||void 0===a)&&(a=e.OraI18nUtils.getLocaleElementsMainNodeKey(t)),(arguments.length<2||void 0===r)&&(r={year:"numeric",month:"numeric",day:"numeric"});var s=e.OraI18nUtils.getGetOption(r,"OraDateTimeConverter.resolvedOptions");void 0!==r&&(i=s("isoStrFormat","string",[Xe,$e,"invariant",Ye,"auto"],"auto"),o=s("dst","boolean",[!0,!1],!1),n=r.timeZone);var l=e.OraI18nUtils.getNumberingExtension(a);return void 0===e.OraI18nUtils.numeringSystems[l]&&(l="latn"),void 0!==r&&void 0!==r.pattern?J(i,n,o,a,l,r,s):void 0!==r?B(r,s,n,o,i,t,l,a):W(t,a,l)},ge=function(t){function r(r,a,n,i){var o=r.split("/"),s=o[0],l=o[1],d="",u="",m={},c=i[s];void 0!==c&&void 0!==(d=c[l])&&void 0!==(d=d.exemplarCity)&&(d=" "+d),r=s+"/"+l;var v=t.supplemental.metazones,g=ye(p,r,v);void 0!==n&&(g=n[g]),null!=g&&void 0!==g.long&&(void 0===(u=g.long.generic)&&(u=g.long.standard),void 0!==u&&(u=" - "+u));var f="("+Be+")";return 0!==a&&(f="("+(f=e.OraI18nUtils.getTimeStringFromOffset(Be,a,!0,!0))+")"),void 0===d||void 0===u?null:(m.offsetLocName=f+d+u,m.locName=d+u,m)}function a(e){var a,n,i;for(a in e){n=s.getZone(a,t);var o=r(a,i=ve(n,p),m,c);null!==o&&(v.push({id:a,displayName:o}),g[a]=i)}}var i=e.OraI18nUtils.getLocaleElementsMainNodeKey(t);if(void 0!==Le[i]){var o=Le[i].availableTimeZones;if(void 0!==o)return o}var s=n.getInstance(),l={sensitivity:"variant"},d=e.OraI18nUtils.getLocaleElementsMainNodeKey(t),u=e.OraI18nUtils.getLocaleElementsMainNode(t),m=u.dates.timeZoneNames.metazone,c=u.dates.timeZoneNames.zone,v=[],g={},f=new Date,p=[f.getFullYear(),f.getMonth()+1,f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds()],h=t.supplemental.timeZoneData;a(h.zones),a(h.links),v.sort(function(e,t){return g[t.id]-g[e.id]+e.displayName.locName.localeCompare(t.displayName.locName,d,l)});for(var y=v.length,I=0;I<y;I++)v[I].displayName=v[I].displayName.offsetLocName;return void 0===Le[i]&&(Le[i]={},Le[i].availableTimeZones=v),v},{getInstance:function(){return t||(t={format:function(t,r,a,n){var i,o;if("number"==typeof t)i=e.OraI18nUtils.dateToLocalIso(new Date(t));else{if("string"!=typeof t)return null;if(""===(i=e.OraI18nUtils.trim(t)))return null}(arguments.length<=2||void 0===a)&&(a={year:"numeric",month:"numeric",day:"numeric"}),o=e.OraI18nUtils.getISOStrFormatInfo(i);var l=s(r,a,o,n),d=e.OraI18nUtils.getNumberingExtension(n);if(void 0===e.OraI18nUtils.numeringSystems[d]&&(d="latn"),"latn"!==d){var u,m=[];for(u=0;u<l.length;u++)l[u]>="0"&&l[u]<="9"?m.push(e.OraI18nUtils.numeringSystems[d][l[u]]):m.push(l[u]);return m.join("")}return l},formatRelative:function(e,t,r){return d(e,t,r)},parse:function(e,t,r,a){return l(e,t,r,a)},resolvedOptions:function(e,t,r){return X(e,t,r)},calculateWeek:function(t){var r,a=e.OraI18nUtils.isoToLocalDate(t),n=new Date(a.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),r=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((r-n)/864e5)/7)+1},getAvailableTimeZones:function(e){return ge(e)},compareISODates:function(t,r,a){var n=re(t,r),i=l(t,a,n,"en-US"),o=l(r,a,n,"en-US"),s=i.value.replace("Z",""),d=o.value.replace("Z",""),u=e.OraI18nUtils._IsoStrParts(s);u=Date.UTC(u[0],u[1]-1,u[2],u[3],u[4],u[5],u[6]);var m=e.OraI18nUtils._IsoStrParts(d);return u-Date.UTC(m[0],m[1]-1,m[2],m[3],m[4],m[5],m[6])},isHour12:function(e){return f(e)},getTimePositioning:function(t,r,a){var n=X(t,r,a),i=n.pattern||n.patternFromOptions;i=(i=i.replace(/\'[^']*\'/g,"").replace(/[^hHkKma]*/g,"")).replace(/(h|H|k|K)+/,"h").replace(/m+/,"m");var o=e.OraI18nUtils.getLocaleElementsMainNodeKey(t),s=xe(o),l="ar"===s||"he"===s,d={},u=0,m=i.length;for(u=0;u<m;u++)d[i.charAt(u)]=u;return l&&(u=d.h,d.h=d.m,d.m=u),d}}),t}}}(),n=function(){var e,t,r,a,n,i,o,s,l,d,u,m,c,v,g,f={},p=/^Etc\/GMT/i,h=-840,y=720,I="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWX";function O(e,t){var r=t.zones[e];if(p.test(e)){var a,n=0,i=e.replace(p,"").split(":");if(a=60*parseInt(i[0],10),isNaN(a))return;if(2===i.length&&(n=parseInt(i[1],10),isNaN(n)))return;if((a+=a>=0?n:-n)<h||a>y)return;a=s(a,1),r=e.replace("/etc//i","").toUpperCase()+"|"+a+"|0|"}void 0!==r&&this._set(o(e,r))}return l=function(e,t){for(var r,a=".",n="";t>0;)t-=1,e*=60,r=Math.floor(e+1e-6),a+=I[r],e-=r,r&&(n+=a,a="");return n},s=function(e,t){for(var r="",a=Math.abs(e),n=Math.floor(a),i=l(a-n,Math.min(~~t,10));n>0;)r=I[n%60]+r,n=Math.floor(n/60);return e<0&&(r="-"+r),r&&i?r+i:(i||"-"!==r)&&(r||i)||"0"},t=function(e){return e>96?e-87:e>64?e-29:e-48},r=function(e){var r=0,a=e.split("."),n=a[0],i=a[1]||"",o=1,s=0,l=1;for(45===e.charCodeAt(0)&&(r=1,l=-1);r<n.length;r++)s=60*s+t(n.charCodeAt(r));for(r=0;r<i.length;r++)o/=60,s+=t(i.charCodeAt(r))*o;return s*l},a=function(e){for(var t=0;t<e.length;t++)e[t]=r(e[t])},n=function(e,t){for(var r=0;r<t;r++)e[r]=Math.round((e[r-1]||0)+6e4*e[r]);e[t-1]=1/0},i=function(e,t){var r,a=[];for(r=0;r<t.length;r++)a[r]=e[t[r]];return a},o=function(e,t){var r=t.split("|"),o=r[1].split(" "),s=r[2].split(""),l=r[3].split(" ");return a(o),a(s),a(l),n(l,s.length),{name:e,abbrs:i(r[0].split(" "),s),offsets:i(o,s),untils:l}},c=function(e){var t,r;throw r={errorCode:"invalidTimeZoneID",parameterMap:{timeZoneID:e}},(t=new Error("invalid timeZone ID: "+e)).errorInfo=r,t},v=function(){var e,t;throw t={errorCode:"nonExistingTime"},(e=new Error("The input time does not exist because it falls during the transition to daylight saving time.")).errorInfo=t,e},g=function(){var e,t;throw t={errorCode:"missingTimeZoneData"},(e=new Error("TimeZone data is missing. Please call require 'ojs/ojtimezonedata' in order to load the TimeZone data.")).errorInfo=t,e},O.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets},parse:function(e,t,r,a){var n,i,o,s,l,d,u=this.offsets,m=this.untils,c=m.length-1;for(o=0;o<c;o++){if(n=u[o],i=u[o+1],l=(s=(d=m[o])-6e4*n)-36e5,e>=s&&e<s+36e5&&n>i){if(!0!==a)return o+1;v()}if(e>=l&&e<s&&n<i)return t?o:o+1;if(e<d-6e4*n)return!1===r?t?n<i?o:o+1:n<i?o+1:o:o}return c},abbr:function(e){return this.abbrs[e]},ofset:function(e){var t=this.offsets.length;return e>=0&&e<t?parseInt(this.offsets[e],10):parseInt(this.offsets[t-1],10)},len:function(){return this.offsets.length}},d=function(e){return(e||"").toLowerCase().replace(/\//g,"_")},m=function(e,t){var r,a;r=new O(e,t),a=d(r.name),f[a]=r},u=function(e,t){var r=d(e);return void 0===f[r]&&m(e,t),f[d(e)]||null},{getInstance:function(){return e||(e={getZone:function(e,t){var r=t.supplemental.timeZoneData;void 0===r&&g();var a=u(e,r);if(!a){var n=r.links[e];n&&(a=u(n,r))}return a||c(e),a}}),e}}}()});
define('ojs/ojmessage',["ojs/ojcore","jquery","knockout","hammerjs","ojs/ojjquery-hammer","ojs/ojknockout","ojs/ojcomposite","ojs/ojanimation","ojs/ojbutton","ojs/ojvalidation-datetime"],function(e,t,o,i){function s(e){this._composite=e.element,this.containerId=[e.unique,"mc"].join("_"),this._messagesContainerId=this.containerId,this.handleCloseIcon=this._handleCloseIcon.bind(this),this.close=this._closeMessage.bind(this),this.bindingsApplied=this._bindingsApplied.bind(this),this.disconnected=this._disconnected.bind(this),this.connected=this._connected.bind(this),this.propertyChanged=this._propertyChanged.bind(this),this.messageCreatedTime=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),this.handleKeydown=this._handleKeydown.bind(this),this._properties=e.properties,this._initDefaultTranslations(),this._createObservables()}function n(e,t){this._element=e,this._operation=t,this._init()}s.prototype._connected=function(e){var t=this._operationMediator;t&&"none"===t.getPendingOperation()&&this._isMessageOpen()&&this._scheduleAutoClose()},s.prototype._disconnected=function(e){var t=this._operationMediator;t&&"none"===t.getPendingOperation()&&this._clearAutoClose()},s.prototype._bindingsApplied=function(e){this._openMessage()},s.prototype._propertyChanged=function(e){function t(e,t,o){if("external"===e.updatedFrom&&e.property===t){var i=e.subproperty;if(i)return[t,o].join(".")===i.path;var s=e.previousValue[o];return e.value[o]!==s}return!1}this._properties.message,t(e,"message","autoTimeout")&&(this._clearAutoClose(),this._scheduleAutoClose()),t(e,"message","closeAffordance")&&(this.hasCloseAffordance("defaults"===this._computeCloseAffordance()),this._unregisterSwipeHandler(),this._registerSwipeHandler()),t(e,"message","icon")&&(this.computedIconStyle(this._computeIconStyle()),this.computedIconClass(this._computeIconClass())),t(e,"message","category")&&this.computedCategory(this._computeCategory()),t(e,"message","severity")&&(this.computedSeverity(this._computeSeverity()),this.computedCategory(this._computeCategory()),this.computedIconClass(this._computeIconClass())),t(e,"message","timestamp")&&this.computedTimestamp(this._computeTimestamp()),t(e,"message","summary")&&this.computedSummary(this._computeSummary()),t(e,"message","detail")&&this.computedDetail(this._computeDetail()),t(e,"translations","labelCloseIcon")&&this.computedLabelCloseIcon(this._computeLabelCloseIcon())},s.prototype._registerSwipeHandler=function(){if(e.DomUtils.isTouchSupported()&&"defaults"===this._computeCloseAffordance()){var o=t(document.getElementById(this._messagesContainerId)),s={recognizers:[[i.Swipe,{direction:i.DIRECTION_HORIZONTAL}]]},n="rtl"===e.DomUtils.getReadingDirection()?"swipeleft":"swiperight";this._hammerSwipe=o.ojHammer(s).on(n,function(e){e.preventDefault(),this._closeMessage()}.bind(this))}},s.prototype._unregisterSwipeHandler=function(){if(e.DomUtils.isTouchSupported()&&this._hammerSwipe){var t="rtl"===e.DomUtils.getReadingDirection()?"swipeleft":"swiperight";this._hammerSwipe.off(t),delete this._hammerSwipe}},s.prototype._scheduleAutoClose=function(){this._computeAutoTimeout()>-1&&(this._autoCloseTimer=window.setTimeout(this._closeMessage.bind(this),this._computeAutoTimeout()))},s.prototype._clearAutoClose=function(){isNaN(this._autoCloseTimer)||(window.clearTimeout(this._autoCloseTimer),delete this._autoCloseTimer)},s.prototype._isMessageOpen=function(){var e=document.getElementById(this._messagesContainerId);return!(!e||!t(e).is(":visible"))},s.prototype._closeMessage=function(o){var i=this._operationMediator;if(this._unregisterSwipeHandler(),!i.isOperationPending("close",this._closeMessage.bind(this,o))){i.destroy(),this._clearAutoClose(),this._operationMediator=new n(this._composite,"close");var s=document.getElementById(this._messagesContainerId),a=this._getAnimateOptionDefaults("close");e.AnimationUtils.startAnimation(s,"close",a,this._composite).then(function(){t(s).hide(),e.Components.subtreeHidden(s);var i={bubbles:!0,cancelable:!1,detail:{message:this._properties.message}},n=new CustomEvent("ojClose",i);o&&Object.defineProperty(n,"_originalEvent",{value:o,writable:!1}),this._composite.dispatchEvent(n)}.bind(this))}},s.prototype._computeSeverity=function(){var t=this._properties.message;return e.StringUtils.isEmptyOrUndefined(t.severity)?s._getMessageDefault("severity"):t.severity},s.prototype._computeTimestamp=function(){var t=this._properties.message;if(!e.StringUtils.isEmptyOrUndefined(t.timestamp))try{var o=e.Validation.converterFactory(e.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter({pattern:"MM/dd/yy, hh:mm a"}).format(t.timestamp);return this._isDateToday(t.timestamp)&&(o=o.split(", ")[1]),o}catch(o){return void e.Logger.info(["JET oj-message id='",s._toSelector(this._composite),"': failed to parse or format the supplied value to message.timestamp='",t.timestamp,"'."].join(""))}},s.prototype._isDateToday=function(t){var o=new Date,i=e.IntlConverterUtils.isoToLocalDate(t);return o.getUTCFullYear()===i.getUTCFullYear()&&o.getUTCMonth()===i.getUTCMonth()&&o.getUTCDate()===i.getUTCDate()},s.prototype._computeCategory=function(){var t=this._properties.message;return e.StringUtils.isEmptyOrUndefined(t.category)?e.Translations.getComponentTranslations("oj-ojMessage").categories[this._computeSeverity()]:t.category},s.prototype._computeAutoTimeout=function(){var e=this._properties.message;return isNaN(e.autoTimeout)?s._getMessageDefault("autoTimeout"):0===e.autoTimeout?this._getThemedAutoTimeoutDefault():e.autoTimeout},s.prototype._computeIconStyle=function(){var t=this._properties.message;if(!e.StringUtils.isEmptyOrUndefined(t.icon))return["url('",t.icon,"') no-repeat"].join("")},s.prototype._computeIconClass=function(){var t=this._properties.message;if(e.StringUtils.isEmptyOrUndefined(t.icon)){var o=this._computeSeverity();if("none"!==o){var i=["oj-component-icon","oj-message-status-icon"];return i.push(["oj","message",o,"icon"].join("-")),i.join(" ")}}},s.prototype._computeCloseAffordance=function(){var t=this._properties.message;return e.StringUtils.isEmptyOrUndefined(t.closeAffordance)?s._getMessageDefault("closeAffordance"):t.closeAffordance},s.prototype._computeSound=function(){var e=this._properties.message;return void 0===e.sound?s._getMessageDefault("sound"):e.sound},s.prototype._computeLabelCloseIcon=function(){var t=this._properties.translations;return e.StringUtils.isEmptyOrUndefined(t.labelCloseIcon)?e.Translations.getTranslatedString("oj-ojMessage.labelCloseIcon"):t.labelCloseIcon},s.prototype._computeSummary=function(){var t=this._properties.message;if(!e.StringUtils.isEmptyOrUndefined(t.summary))return t.summary},s.prototype._computeDetail=function(){var t=this._properties.message;if(!e.StringUtils.isEmptyOrUndefined(t.detail))return t.detail},s.prototype._handleCloseIcon=function(e){this._closeMessage(e)},s.prototype._openMessage=function(){this._operationMediator=new n(this._composite,"open"),Promise.resolve().then(function(){var t={bubbles:!0,cancelable:!1,detail:{message:this._properties.message}};this._composite.dispatchEvent(new CustomEvent("ojBeforeOpen",t));var o=document.getElementById(this._messagesContainerId),i=this._getAnimateOptionDefaults("open");e.AnimationUtils.startAnimation(o,"open",i,this._composite).then(function(){t={bubbles:!0,cancelable:!1,detail:{message:this._properties.message}};var e=this._computeSound();"none"!==e&&(this._initAudioContext(),this._playSound(e)),this._registerSwipeHandler(),this._scheduleAutoClose(),this._composite.dispatchEvent(new CustomEvent("ojOpen",t))}.bind(this))}.bind(this))},s.prototype._handleKeydown=function(e){e.defaultPrevented||"defaults"!==this._computeCloseAffordance()||e.keyCode===t.ui.keyCode.ESCAPE&&(e.preventDefault(),this._closeMessage(e))},s.prototype._playSound=function(t){if("defaults"!==t){var o=document.createElement("AUDIO");o.src=t,o.addEventListener("error",function(){e.Logger.info(["JET oj-message id='",s._toSelector(this._composite),"': failed to load or play media file for URL in property message.sound='",t,"'."].join(""))}.bind(this)),o.play()}else if(void 0===window.audioContext)e.Logger.info(["JET oj-message id='",s._toSelector(this._composite),"': failed to load or play default sound for message because user agent does\n","not support Web Audio API'"].join(""));else{var i=window.audioContext.createGain();i.connect(window.audioContext.destination);var n=window.audioContext.createOscillator();n.connect(i),n.start(),n.stop(window.audioContext.currentTime+.01)}},s.prototype._initAudioContext=function(){if(void 0===window.audioContext)try{window.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(e){}},s.prototype._createObservables=function(){this.hasCloseAffordance=o.observable("defaults"===this._computeCloseAffordance()),this.computedIconStyle=o.observable(this._computeIconStyle()),this.computedIconClass=o.observable(this._computeIconClass()),this.computedSeverity=o.observable(this._computeSeverity()),this.computedCategory=o.observable(this._computeCategory()),this.computedTimestamp=o.observable(this._computeTimestamp()),this.computedLabelCloseIcon=o.observable(this._computeLabelCloseIcon()),this.computedSummary=o.observable(this._computeSummary()),this.computedDetail=o.observable(this._computeDetail())},s.prototype._initDefaultTranslations=function(){var t=this._properties;e.StringUtils.isEmptyOrUndefined(t.translations.labelCloseIcon)&&(t.translations.labelCloseIcon=this._computeLabelCloseIcon())},s._getMessageDefault=function(e){return s._DEFAULTS.message[e]},s._DEFAULTS={autoTimeout:4e3,animation:{open:{effect:"fadeIn",duration:"300ms"},close:{effect:"fadeOut",duration:"300ms"}},message:{severity:"none",autoTimeout:-1,closeAffordance:"defaults",sound:"none"}},s.prototype._getThemedAutoTimeoutDefault=function(){var t=e.ThemeUtils.parseJSONFromFontFamily("oj-message-option-defaults");return t&&t.autoTimeout?t.autoTimeout:s._DEFAULTS.autoTimeout},s.prototype._getAnimateOptionDefaults=function(e){return s._DEFAULTS.animation[e]},s._toSelector=function(e){var t="";if(e)if(e.id&&e.id.length>0)t="#"+e.id;else{t=e.nodeName;var o=e.getAttribute("class");if(o&&(t+="."+o.split(" ").join(".")),e.parentNode)return s._toSelector(e.parentNode)+" > "+t}return t},n.prototype._init=function(){this._resolvedQueue=[],this._callback=this._eventHandler.bind(this);var t=this._operation,o=["oj"];o.push(t.charAt(0).toUpperCase()),o.push(t.slice(1));var i=o.join("");this._eventType=i,this._element.addEventListener(i,this._callback);var s=e.Context.getContext(this._element).getBusyContext(),n={description:this._getBusyStateDescription.bind(this,this._element,this._operation)},a=s.addBusyState(n);this.addPromiseExecutor(function(e){window.setImmediate(function(){e()})}.bind(this,a))},n.prototype._getBusyStateDescription=function(e,t){return[e.nodeName," identified by '",s._toSelector(e),"' is busy animating on the '",t,"' operation."].join("")},n.prototype._deliverResolved=function(e){var t=this._resolvedQueue;this._resolvedQueue=[],e=e||this._operation,this._operation=null;for(var o=0;o<t.length;o++)t[o](e)},n.prototype.destroy=function(){this._deliverResolved("none"),this._callback=null,this._element=null,this._operation=null,this._eventType=null},n.prototype._eventHandler=function(e){e.target===this._element&&(this._element.removeEventListener(e.type,this._callback),this._deliverResolved(),this._callback=null)},n.prototype.getPendingOperation=function(){return this._operation?this._operation:"none"},n.prototype.addPromiseExecutor=function(e,t){this._resolvedQueue.push(e)},n.prototype.isOperationPending=function(t,o){if(!this._element)return!1;var i=!1,n=this.getPendingOperation();return t===n?(e.Logger.info(["An oj-message id='",s._toSelector(this._element),"' invoked a '",t,"' operation while pending animation of the same type of operation. ","The second request will be ignored."].join("")),i=!0):"none"!==n&&(e.Logger.info(["An oj-message id='",s._toSelector(this._element),"' invoked a '",t,"' operation while pending animation of a '",n,"' operation. The second request will be invoked after the pending ","operation completes."].join("")),this.addPromiseExecutor(o),i=!0),i},e.Composite.register("oj-message",{view:'<div :id="[[containerId]]" class="oj-message-container" on-keydown="[[handleKeydown]]">  <div class="oj-message-header">    <div class="oj-message-leading-header" :title="[[computedCategory]]">      <oj-bind-if test="[[computedIconStyle]]">        <div class="oj-component-icon oj-message-status-icon oj-message-custom-icon" role="img"          :style.background="[[computedIconStyle]]">        </div>      </oj-bind-if>      <oj-bind-if test="[[computedIconClass]]">        <div role="img"           :class="[[computedIconClass]]">         </div>      </oj-bind-if>      <oj-bind-if test="[[computedCategory]]">        <div class="oj-message-category" tabindex="-1">          <h1 :title="[[computedCategory]]">            <oj-bind-text value="[[computedCategory]]"></oj-bind-text>           </h1>        </div>      </oj-bind-if>    </div>    <div class="oj-message-trailing-header">      <oj-bind-if test="[[computedTimestamp]]">        <div class="oj-message-timestamp">          <oj-bind-text value="[[computedTimestamp]]"></oj-bind-text>         </div>      </oj-bind-if>      <oj-bind-if test="[[hasCloseAffordance]]">        <div class="oj-message-close">          <oj-button display="icons" chroming="half" on-click="[[handleCloseIcon]]">            <span slot="startIcon" class="oj-fwk-icon oj-fwk-icon-cross"></span>            <span>              <oj-bind-text value="[[computedLabelCloseIcon]]"></oj-bind-text>            </span>          </oj-button>        </div>      </oj-bind-if>    </div>    </div>  <div class="oj-message-body">    <div class="oj-message-summary">      <oj-bind-text value="[[computedSummary]]"></oj-bind-text>    </div>    <div class="oj-message-detail">      <oj-bind-text value="[[computedDetail]]"></oj-bind-text>    </div>  <div></div>',viewModel:s,metadata:{name:"oj-message",displayName:"oj-message",version:"1.0.0",jetVersion:"^5.0.0",properties:{message:{type:"object",writeback:!1,value:{icon:"",category:"",severity:"none",summary:"",detail:"",autoTimeout:-1,closeAffordance:"defaults",sound:"none"},properties:{icon:{type:"string",value:""},category:{type:"string",value:""},severity:{type:"string",enumValues:["error","warning","confirmation","info","none"],value:"none"},timestamp:{type:"string",value:""},summary:{type:"string",value:""},detail:{type:"string",value:""},autoTimeout:{type:"number",translatable:!1,value:-1},closeAffordance:{type:"string",enumValues:["none","defaults"],value:"defaults"},sound:{type:"string",value:"none"}}},translations:{type:"object",writeback:!1,value:{labelCloseIcon:""},properties:{labelCloseIcon:{type:"string",translatable:!0}}}},methods:{close:{}},events:{ojAnimateEnd:{bubbles:!0,cancelable:!1,detail:{action:{type:"string",enumValues:["open","close"]},element:{type:"Element"}}},ojAnimateStart:{bubbles:!0,cancelable:!1,detail:{action:{type:"string",enumValues:["open","close"]},element:{type:"Element"},endCallback:{type:"function"}}},ojClose:{bubbles:!0,cancelable:!1,detail:{message:{type:"object"}}},ojOpen:{bubbles:!0,cancelable:!1,detail:{message:{type:"object"}}}},slots:{}}})});
define('ojs/ojmessages',["ojs/ojcore","jquery","knockout","ojs/ojknockout","ojs/ojcomposite","promise","ojs/ojpopupcore","ojs/ojanimation","ojs/ojmessage"],function(e,t,i){function s(e){this._composite=e.element,this.containerId=[e.unique,"mc"].join("_"),this._messagesContainerId=this.containerId,this.handleOpen=this._handleOpen.bind(this),this.handleClose=this._handleClose.bind(this),this.handleAnimateStart=this._handleAnimateStart.bind(this),this.bindingsApplied=this._bindingsApplied.bind(this),this.disconnected=this._disconnected.bind(this),this.connected=this._connected.bind(this),this.close=this._close.bind(this),this.closeAll=this._closeAll.bind(this),this.propertyChanged=this._propertyChanged.bind(this),this._properties=e.properties,this._createObservables(),this._updateLandmark()}function n(e){this.Init(e)}s.prototype._bindingsApplied=function(){var e=document.getElementById(this._messagesContainerId);e.addEventListener("ojFocus",this._navigationEventListener.bind(this),!1),e.addEventListener("ojBeforeOpen",this._handleBeforeOpen.bind(this),!1)},s.prototype._disconnected=function(){s.NAVIGATION_TRACKER.remove(this._messagesContainerId),e.ZOrderUtils.getStatus(this._composite)===e.ZOrderUtils.STATUS.OPEN&&this._closeOverlay()},s.prototype._connected=function(){s.NAVIGATION_TRACKER.add(this._messagesContainerId)},s.prototype._closeAll=function(e){if(this._isMessagesShown())for(var t=this._getDefaultSlotMessageElements(),i=0;i<t.length;i++){var s=t[i].message,n=!0;e&&(n=e(s)),n&&t[i].close()}},s.prototype._propertyChanged=function(e){"external"===e.updatedFrom&&"position"===e.property?e.previousValue&&e.value?this._refresh():!e.previousValue&&e.value?this._getDefaultSlotMessageElements().length>0&&(this._isMessagesShown()&&this._hideMessages(),this._openOverlay()):e.previousValue&&!e.value&&this._getDefaultSlotMessageElements().length>0&&(this._isOverlayOpen()&&this._closeOverlay(),this._showMessages()):"external"===e.updatedFrom&&"display"===e.property?this._getDefaultSlotMessageElements().length>0&&(this._isOverlayOpen()?(this._closeOverlay(),this._openOverlay(),this._refresh()):this._isMessagesShown()&&(this._hideMessages(),this._showMessages())):"external"===e.updatedFrom&&"translations"===e.property&&this._updateLandmark()},s.prototype._close=function(e){if(e&&this._isMessagesShown())for(var i=this._getDefaultSlotMessageElements(),s=0;s<i.length;s++)t(i[s]).prop("message")===e&&i[s].close()},s.prototype._isEventPertaining=function(t){var i=t.target,s=document.getElementById(this._messagesContainerId);return!("OJ-MESSAGE"!==i.nodeName||!e.DomUtils.isAncestor(s,i))},s.prototype._handleBeforeOpen=function(e){e.defaultPrevented||!this._isEventPertaining(e)||this._isMessagesShown()||(this._isPresentationInline()?this._showMessages():this._openOverlay())},s.prototype._handleOpen=function(t){if(!t.defaultPrevented&&this._isEventPertaining(t)){var i=t.detail.message,s=e.Translations.getComponentTranslations("oj-ojMessage").categories,n={category:i.category?i.category:s[i.severity],summary:i.summary},o=this._getLiveRegion(),a=e.Translations.getTranslatedString("oj-ojMessages.ariaLiveRegion.newMessage",n);o.announce(a),this._refresh()}},s.prototype._handleClose=function(e){if(!e.defaultPrevented&&this._isEventPertaining(e)){var i,n=e.target;e._originalEvent&&(i=this._getNextFocus(n)),i&&i.focus(),t(n).remove(),0===this._getDefaultSlotMessageElements().length&&(s.NAVIGATION_TRACKER.togglePreviousFocus(this._messagesContainerId),this._isOverlayOpen()?this._closeOverlay():this._hideMessages())}},s.prototype._getNextFocus=function(e){var t,i,s=this._getDefaultSlotMessageElements(),n=s.indexOf(e);return n-1>-1?t=s[n-1]:n+1<=s.length-1&&(t=s[n+1]),t&&(i=t.querySelector('.oj-message-category[tabindex="-1"]')),i},s.prototype._handleAnimateStart=function(t){if(!t.defaultPrevented&&this._isEventPertaining(t)){t.preventDefault();var i=t.detail.element,s=t.detail.action,n=this._isPresentationInline()?"general":this._computeDisplay(),o=this._getThemedAnimateOptions(n,s),a=t.detail.endCallback;e.AnimationUtils[o.effect](i,o).then(a)}},s._DEFAULTS={general:{animation:{open:{effect:"expand",duration:"300ms"},close:{effect:"collapse",duration:"300ms"}},position:{my:{horizontal:"center",vertical:"top"},at:{horizontal:"center",vertical:"top"},of:"window",collision:"none"}},notification:{animation:{open:{effect:"slideIn",duration:"300ms"},close:{effect:"slideOut",duration:"300ms",direction:"end"}},position:{my:{horizontal:"end",vertical:"top"},at:{horizontal:"end",vertical:"top"},of:"window",collision:"none"}}},s.prototype._getThemedAnimateOptions=function(t,i){var n=e.ThemeUtils.parseJSONFromFontFamily("oj-messages-option-defaults");return n&&n[t]&&n[t].animation&&n[t].animation[i]?n[t].animation[i]:s._DEFAULTS[t].animation[i]},s.prototype._computeDisplay=function(){return this._properties.display},s.prototype._isPresentationInline=function(){return!this._properties.position},s.prototype._computeContainerSelectors=function(){var e=this._computeDisplay(),i=t(this._composite);return i.removeClass("oj-messages-general oj-messages-notification oj-messages-inline"),this._isPresentationInline()?i.addClass("oj-messages-inline"):i.addClass(["oj-messages",e].join("-")),"oj-messages-container"},s.prototype._getThemedPosition=function(){var t=this._computeDisplay(),i=e.ThemeUtils.parseJSONFromFontFamily("oj-messages-option-defaults");return i[t]&&i[t].position?i[t].position:s._DEFAULTS[t].position},s.prototype._getPositionAsJqUi=function(){var t=e.PositionUtils.coerceToJqUi(this._computePosition()),i="rtl"===e.DomUtils.getReadingDirection();return e.PositionUtils.normalizeHorizontalAlignment(t,i)},s.prototype._computePosition=function(){var t=this._properties.position;return e.PositionUtils.coerceToJet(t,this._getThemedPosition())},s.prototype._getDefaultSlotMessageElements=function(){function t(e){var i="";if(e)if(e.id&&e.id.length>0)i="#"+e.id;else{i=e.nodeName;var s=e.getAttribute("class");if(s&&(i+="."+s.split(" ").join(".")),e.parentNode)return t(e.parentNode)+" > "+i}return i}for(var i=document.getElementById(this._messagesContainerId),s=[],n=e.BaseCustomElementBridge.getSlotMap(i)[""],o=0;n&&o<n.length;o++)"OJ-MESSAGE"!==n[o].nodeName?e.Logger.error(["JET oj-messages id='",t(this._composite),"': can contain only oj-message children in its default slot. ","Found a child element id='",t(n[o]),"'."].join("")):s.push(n[o]);return s},s.prototype._isMessagesShown=function(){return t(this._composite).is(":visible")},s.prototype._showMessages=function(){this._isMessagesShown()||(t(this._composite).show(),e.Components.subtreeShown(t(this._composite))),s.NAVIGATION_TRACKER.add(this._messagesContainerId),this._announceNavigation()},s.prototype._hideMessages=function(){this._isMessagesShown()&&(t(this._composite).hide(),e.Components.subtreeHidden(this._composite),s.NAVIGATION_TRACKER.remove(this._messagesContainerId),this._liveRegion&&(this._liveRegion.destroy(),delete this._liveRegion))},s.prototype._openOverlay=function(){var i=t(this._composite),n={};n[e.PopupService.OPTION.POPUP]=i,n[e.PopupService.OPTION.LAUNCHER]=i,n[e.PopupService.OPTION.POSITION]=this._getPositionAsJqUi(),n[e.PopupService.OPTION.EVENTS]=this._getPopupServiceEvents(),n[e.PopupService.OPTION.LAYER_SELECTORS]=["oj","messages","layer"].join("-"),n[e.PopupService.OPTION.MODALITY]=e.PopupService.MODALITY.MODELESS,n[e.PopupService.OPTION.CUSTOM_ELEMENT]=!0,e.PopupService.getInstance().open(n),this._showMessages(),this._overlayEventsCallback=s._overlayEventsListener.bind(this,i),i[0].addEventListener("keydown",this._overlayEventsCallback,!1)},s.prototype._closeOverlay=function(){this._hideMessages();var i=t(this._composite),s={};s[e.PopupService.OPTION.POPUP]=i,e.PopupService.getInstance().close(s);var n=this._overlayEventsCallback;delete this._overlayEventsCallback,i[0].removeEventListener("keydown",n,!1)},s.prototype._isOverlayOpen=function(){var t=this._composite,i=e.ZOrderUtils.getStatus(t);return i===e.ZOrderUtils.STATUS.OPENING||i===e.ZOrderUtils.STATUS.OPEN||i===e.ZOrderUtils.STATUS.CLOSING},s._overlayEventsListener=function(e,i){if(!i.defaultPrevented&&i.keyCode===t.ui.keyCode.TAB){var s=i.target,n=e.find(":tabbable");if(n.length>0){var o=n[0],a=n[n.length-1];o===a&&s===o?i.preventDefault():o===s&&i.shiftKey?(i.preventDefault(),a.focus()):a!==s||i.shiftKey||(i.preventDefault(),o.focus())}else i.preventDefault()}},s.prototype._navigationEventListener=function(e){e.target.id===this._messagesContainerId&&(e.preventDefault(),this._announceNavigation(!0))},s.prototype._announceNavigation=function(t){var i,s=e.AgentUtils.getAgentInfo().os===e.AgentUtils.OS.IOS||e.AgentUtils.getAgentInfo().os===e.AgentUtils.OS.ANDROID;i=t?s?void 0:"ariaLiveRegion.navigationFromKeyboard":s?"ariaLiveRegion.navigationToTouch":"ariaLiveRegion.navigationToKeyboard";var n=this._getLiveRegion(),o=e.Translations.getTranslatedString(["oj-ojMessages",i].join("."));n.announce(o)},s.prototype._getLiveRegion=function(){var e=this._messagesContainerId;return this._liveRegion||(this._liveRegion=new n(e)),this._liveRegion},s.prototype._getPopupServiceEvents=function(){var t={};return t[e.PopupService.EVENT.POPUP_CLOSE]=this._closeOverlay.bind(this),t[e.PopupService.EVENT.POPUP_REMOVE]=this._surrogateRemoveHandler.bind(this),t[e.PopupService.EVENT.POPUP_REFRESH]=this._refresh.bind(this),t},s.prototype._refresh=function(){if(this._isOverlayOpen()){var e=this._getPositionAsJqUi();t(this._composite).position(e)}},s.prototype._surrogateRemoveHandler=function(){this._closeOverlay(),this._composite.parentElement.removeChild(this._composite)},s.prototype._createObservables=function(){this.containerSelectors=i.pureComputed(this._computeContainerSelectors.bind(this),this)},s.prototype._computeLabelLandmark=function(){var t=this._properties;return e.StringUtils.isEmptyOrUndefined(t.translations.labelLandmark)?e.Translations.getTranslatedString("oj-ojMessages.labelLandmark"):t.translations.labelLandmark},s.prototype._updateLandmark=function(){var e=this._computeLabelLandmark();this._composite.setAttribute("aria-label",e),this._composite.setAttribute("role","complementary")},s.NAVIGATION_TRACKER={_messagesContainerIds:[],_priorFocusCache:{},add:function(e){this.remove(e),this._messagesContainerIds.push(e),this._start(e)},remove:function(e){var t=this._messagesContainerIds,i=t.indexOf(e);i>-1&&t.splice(i,1),this._stop(e)},togglePreviousFocus:function(i){var s=this._priorFocusCache,n=s[i];return!!(n&&t(n).is(":visible")&&e.ZOrderUtils.isAboveTopModalLayer(n))&&(n.focus(),delete s[i],!0)},_addPriorFocusCache:function(e,t){this._priorFocusCache[e]=t},_start:function(e){var i=document.getElementById(e);if(i){var s=this._messageContainerListener.bind(this,e);if(i.addEventListener("focus",s,!0),i.addEventListener("keydown",s,!1),i.addEventListener("click",s,!1),t(i).data("oj_messages_nmtl",s),!this._documentCallback){this._documentCallback=this._documentListener.bind(this);var n=document.documentElement;n.addEventListener("keydown",this._documentCallback,!1),n.addEventListener("blur",this._documentCallback,!0)}}},_stop:function(e){var i=document.getElementById(e);if(i){var s=t(i).data("oj_messages_nmtl");s&&(i.removeEventListener("focus",s,!0),i.removeEventListener("keydown",s,!1),i.removeEventListener("click",s,!1))}if(this._documentCallback&&!(this._messagesContainerIds.length>0)){var n=document.documentElement;n.removeEventListener("keydown",this._documentCallback,!1),n.removeEventListener("blur",this._documentCallback,!0),delete this._documentCallback}},_indexOfFocusWithin:function(t){for(var i=this._messagesContainerIds,s=0;s<i.length;s++){var n=document.getElementById(i[s]);if(n&&e.DomUtils.isAncestorOrSelf(n,t))return s}return-1},_documentListener:function(i){if(!i.defaultPrevented){var s=this._messagesContainerIds;if("keydown"===i.type&&117===i.keyCode&&s.length>0){var n=this._indexOfFocusWithin(i.target);if(n>-1)return;for(var o=n=s.length-1;o>-1;o++){var a=document.getElementById(s[o]);if(a&&t(a).is(":visible")&&e.ZOrderUtils.isAboveTopModalLayer(a)){var r=a.querySelector('.oj-message-category[tabindex="-1"]');i.preventDefault(),this._addPriorFocusCache(s[o],i.target),r.focus();var l=new CustomEvent("ojFocus",{bubbles:!1,cancelable:!0});a.dispatchEvent(l);break}}}else"blur"===i.type&&(this._prevActiveElement=i.target)}},_messageContainerListener:function(i,s){if(!s.defaultPrevented)if("focus"===s.type||"click"===s.type){var n=document.getElementById(i),o=this._prevActiveElement;o&&n&&!e.DomUtils.isAncestorOrSelf(n,o)&&this._addPriorFocusCache(i,o)}else"keydown"!==s.type||117!==s.keyCode&&s.keyCode!==t.ui.keyCode.ESCAPE||this.togglePreviousFocus(i)&&s.preventDefault()}},n.prototype.Init=function(e){this._id=e},n.prototype.destroy=function(){var e=t(document.getElementById(n._LIVE_REGION_ID)),i=this._id;delete this._id,e.find('div[data-container-id="'+i+'"]').remove(),e.children("div").length<1&&e.remove()},n.prototype.announce=function(e){var i=n._getLiveRegion(),s=this._id;t("<div>").attr("data-container-id",s).text(e).appendTo(i)},n._getLiveRegion=function(){var e=t(document.getElementById(n._LIVE_REGION_ID));return 0===e.length&&((e=t("<div>")).attr({id:n._LIVE_REGION_ID,role:"log","aria-live":"polite","aria-relevant":"additions"}),e.addClass("oj-helper-hidden-accessible"),e.appendTo(document.body)),e},n._LIVE_REGION_ID="__oj_messages_arialiveregion",e.Composite.register("oj-messages",{view:'<div role="presentation" :id="[[containerId]]" :class="[[containerSelectors]]"      on-oj-open="[[handleOpen]]" on-oj-close="[[handleClose]]"      on-oj-animate-start="[[handleAnimateStart]]">  <oj-bind-slot>  </oj-bind-slot>    \x3c!-- ko foreach: $props.messages --\x3e    <oj-message message="[[$data]]">    </oj-message>    \x3c!-- /ko --\x3e</div>',viewModel:s,metadata:{name:"oj-messages",displayName:"oj-messages",version:"1.0.0",jetVersion:"^5.0.0",properties:{messages:{type:"Array<object>",writeback:!1,value:null},display:{type:"string",enumValues:["general","notification"],translatable:!1,value:"general"},position:{type:"object",translatable:!1,properties:{my:{type:"object|string",properties:{horizontal:{type:"string",enumValues:["start","end","left","center","right"]},vertical:{type:"string",enumValues:["top","center","bottom"]}}},at:{type:"object|string",properties:{horizontal:{type:"string",enumValues:["start","end","left","center","right"]},vertical:{type:"string",enumValues:["top","center","bottom"]}}},offset:{type:"object",properties:{x:{type:"number"},y:{type:"number"}}},of:{type:"string|object"},collision:{type:"string",enumValues:["flip","fit","flipfit","flipcenter","none"]}}},translations:{type:"object",writeback:!1,value:{labelLandmark:""},properties:{labelLandmark:{type:"string",translatable:!0}}}},methods:{close:{params:[{name:"message",type:"object"}]},closeAll:{params:[{name:"filter",type:"function"}]}}}})});
define('ojs/ojpagingtabledatasource',["ojs/ojcore","jquery","ojs/ojdatasource-common"],function(e,t){e.PagingModel=function(){},e.PagingModel.EventType={BEFOREPAGE:"beforePage",PAGE:"page",PAGECOUNT:"pageCount"},e.PagingTableDataSource=function(t,a){if(a=a||{},!(t instanceof e.TableDataSource)){var n=e.TableDataSource._LOGGER_MSG._ERR_DATA_INVALID_TYPE_SUMMARY,r=e.TableDataSource._LOGGER_MSG._ERR_DATA_INVALID_TYPE_DETAIL;throw new Error(n+"\n"+r)}this.dataSource=t,this._startIndex=0,this._endIndex=-1,this._dataSourceWrappedEventHandlers=[],this.Init(),Object.defineProperty(this,"sortCriteria",{configurable:!1,enumerable:!0,get:function(){return this.dataSource.sortCriteria},set:function(e){this.dataSource.sortCriteria=e}})},e.Object.createSubclass(e.PagingTableDataSource,e.TableDataSource,"oj.PagingTableDataSource"),e.PagingTableDataSource.prototype.Init=function(){e.PagingTableDataSource.superclass.Init.call(this)},e.PagingTableDataSource.prototype.getWrappedDataSource=function(){return this.dataSource},e.PagingTableDataSource.prototype.getPage=function(){return"loadMore"==this._fetchType?0:this._getPageFromStartIndex()},e.PagingTableDataSource.prototype.setPage=function(t,a){a=a||{},t=parseInt(t,10);try{e.PagingTableDataSource.superclass.handleEvent.call(this,e.PagingModel.EventType.BEFOREPAGE,{page:t,previousPage:this._getPageFromStartIndex()})}catch(e){return Promise.reject(e)}var n=this._getPageFromStartIndex();this._pageSize=null!=a.pageSize?a.pageSize:this._pageSize,a.pageSize=this._pageSize,a.startIndex=t*this._pageSize,this._startIndex=null==a.startIndex?this._startIndex:a.startIndex,this._fetchType="page";var r=this;return new Promise(function(t,i){r._pageSize>0?r.dataSource.fetch(a).then(function(a){a.startIndex=0,a.data.length>0?r._updateEndIndex(r._startIndex+a.data.length-1,!0):r._updateEndIndex(-1,!0),e.PagingTableDataSource.superclass.handleEvent.call(r,e.PagingModel.EventType.PAGE,{page:r._getPageFromStartIndex(),previousPage:n}),t(null)},function(e){r._startIndex=n*r._pageSize,i(e)}):t(null)})},e.PagingTableDataSource.prototype.getStartItemIndex=function(){return"loadMore"==this._fetchType?0:this._startIndex},e.PagingTableDataSource.prototype.getEndItemIndex=function(){return this._endIndex},e.PagingTableDataSource.prototype.getPageCount=function(){var e=this.totalSize();return-1==e?-1:Math.ceil(e/this._pageSize)},e.PagingTableDataSource.prototype.at=function(e,t){return this.dataSource.at(e,t)},e.PagingTableDataSource.prototype.fetch=function(e){if(null==(e=e||{}).startIndex)return this.setPage(this.getPage());this._fetchType="loadMore",this._startIndex=null==e.startIndex?this._startIndex:e.startIndex;var t=null==e.pageSize?this._pageSize:e.pageSize;null==this._pageSize&&(this._pageSize=t),e.pageSize=t,e.startIndex=this._startIndex;var a=this;return new Promise(function(n,r){t>0?a.dataSource.fetch(e).then(function(e){e.data.length>0?a._updateEndIndex(a._startIndex+e.data.length-1,!0):a._updateEndIndex(-1,!0),n(e)},function(e){r(e)}):n(null)})},e.PagingTableDataSource.prototype.get=function(e,t){return this.dataSource.get(e,t)},e.PagingTableDataSource.prototype.getCapability=function(e){return this.dataSource.getCapability(e)},e.PagingTableDataSource.prototype.on=function(t,a){var n=this,r=this.dataSource;if(t==e.TableDataSource.EventType.SYNC){var i=function(e){n._handleSyncEvent(e,a)};this._dataSourceWrappedEventHandlers.push({eventType:t,eventHandler:a,wrappedEventHandler:i}),r.on(t,i)}else t==e.TableDataSource.EventType.ADD||t==e.TableDataSource.EventType.REMOVE||t==e.TableDataSource.EventType.CHANGE?(i=function(e){n._handleRowEvent(e,a)},this._dataSourceWrappedEventHandlers.push({eventType:t,eventHandler:a,wrappedEventHandler:i}),r.on(t,i)):t==e.TableDataSource.EventType.REFRESH||t==e.TableDataSource.EventType.RESET?(i=function(e){n._startIndex=0,a(e)},this._dataSourceWrappedEventHandlers.push({eventType:t,eventHandler:a,wrappedEventHandler:i}),r.on(t,i)):t==e.PagingModel.EventType.PAGE||t==e.PagingModel.EventType.BEFOREPAGE||t==e.PagingModel.EventType.PAGECOUNT?e.PagingTableDataSource.superclass.on.call(this,t,a):r.on(t,a)},e.PagingTableDataSource.prototype.off=function(t,a){t!=e.PagingModel.EventType.PAGE&&t!=e.PagingModel.EventType.PAGECOUNT||e.PagingTableDataSource.superclass.off.call(this,t,a);var n=this.dataSource;if(null!=this._dataSourceWrappedEventHandlers){var r,i=this._dataSourceWrappedEventHandlers.length;for(r=0;r<i;r++)if(this._dataSourceWrappedEventHandlers[r].eventType==t&&this._dataSourceWrappedEventHandlers[r].eventHandler==a){n.off(t,this._dataSourceWrappedEventHandlers[r].wrappedEventHandler),this._dataSourceWrappedEventHandlers.splice(r,1);break}}n.off(t,a)},e.PagingTableDataSource.prototype.sort=function(e){return this.dataSource.sort(e)},e.PagingTableDataSource.prototype.totalSize=function(){return this.dataSource.totalSize()},e.PagingTableDataSource.prototype.totalSizeConfidence=function(){return this.dataSource.totalSizeConfidence()},e.PagingTableDataSource.prototype._getPageFromStartIndex=function(){return this._pageSize>0?Math.floor(this._startIndex/this._pageSize):0},e.PagingTableDataSource.prototype._handleRowEvent=function(e,t){var a,n=[];for(a=0;a<e.indexes.length;a++){var r=e.indexes[a];void 0!==r&&("page"==this._fetchType&&(r-=this._startIndex),(r<0||r>=this._startIndex+this._pageSize)&&n.push(a))}if(n.length>0)for(n.sort(function(e,t){return e-t}),a=n.length-1;a>=0;a--)e.data.splice(n[a],1),e.indexes.splice(n[a],1),e.keys.splice(n[a],1);e.indexes.length>0&&this._updateEndIndex(e.indexes[e.indexes.length-1],!1),e.startIndex=this._startIndex,t(e)},e.PagingTableDataSource.prototype._handleSyncEvent=function(t,a){if(t.startIndex!=this._startIndex&&(this._startIndex=t.startIndex),t.data.length>0?this._updateEndIndex(t.startIndex+t.data.length-1,!0):this._updateEndIndex(-1,!0),"page"==this._fetchType){var n={};e.CollectionUtils.copyInto(n,t),n.startIndex=0,a(n)}else a(t)},e.PagingTableDataSource.prototype._updateEndIndex=function(e,t){this._endIndex=t?e:e>this._endIndex?e:this._endIndex;var a=this.totalSize();a>0&&(this._endIndex=this._endIndex>a-1?a-1:this._endIndex)},e.PagingTableDataSource.EventType={ADD:"add",REMOVE:"remove",RESET:"reset",SYNC:"sync",REFRESH:"refresh",SORT:"sort",CHANGE:"change",REQUEST:"request",ERROR:"error"}});
define('ojs/ojpagingcontrol',["ojs/ojcore","jquery","ojs/ojcomponentcore","hammerjs","ojs/ojpagingtabledatasource","ojs/ojinputtext","ojs/ojvalidation-number","ojs/ojjquery-hammer"],function(t,e,n,_){t.__registerWidget("oj.ojPagingControl",e.oj.baseComponent,{version:"1.0.0",defaultElement:"<div>",widgetEventPrefix:"oj",options:{data:null,overflow:"fit",pageSize:25,pageOptions:{layout:["auto"],type:"numbers",maxPageLinks:6,orientation:"horizontal"},loadMoreOptions:{maxCount:500},mode:"page",ready:null},_BUNDLE_KEY:{_LABEL_ACC_PAGING:"labelAccPaging",_LABEL_ACC_NAV_FIRST_PAGE:"labelAccNavFirstPage",_LABEL_ACC_NAV_LAST_PAGE:"labelAccNavLastPage",_LABEL_ACC_NAV_NEXT_PAGE:"labelAccNavNextPage",_LABEL_ACC_NAV_PREVIOUS_PAGE:"labelAccNavPreviousPage",_LABEL_ACC_NAV_PAGE:"labelAccNavPage",_LABEL_LOAD_MORE:"labelLoadMore",_LABEL_LOAD_MORE_MAX_ROWS:"labelLoadMoreMaxRows",_LABEL_NAV_INPUT_PAGE:"labelNavInputPage",_LABEL_NAV_INPUT_PAGE_MAX:"labelNavInputPageMax",_LABEL_NAV_INPUT_PAGE_SUMMARY:"labelNavInputPageSummary",_MSG_ITEM_RANGE_CURRENT:"msgItemRangeCurrent",_MSG_ITEM_RANGE_CURRENT_SINGLE:"msgItemRangeCurrentSingle",_MSG_ITEM_RANGE_ITEMS:"msgItemRangeItems",_MSG_ITEM_RANGE_ATLEAST:"msgItemRangeOfAtLeast",_MSG_ITEM_RANGE_APPROX:"msgItemRangeOfApprox",_MSG_ITEM_RANGE_OF:"msgItemRangeOf",_TIP_NAV_INPUT_PAGE:"tipNavInputPage",_TIP_NAV_PAGE_LINK:"tipNavPageLink",_TIP_NAV_NEXT_PAGE:"tipNavNextPage",_TIP_NAV_PREVIOUS_PAGE:"tipNavPreviousPage",_TIP_NAV_FIRST_PAGE:"tipNavFirstPage",_TIP_NAV_LAST_PAGE:"tipNavLastPage",_ERR_PAGE_INVALID_SUMMARY:"pageInvalid.summary",_ERR_PAGE_INVALID_DETAIL:"pageInvalid.detail",_ERR_DATA_INVALID_TYPE_SUMMARY:"dataInvalidType.summary",_ERR_DATA_INVALID_TYPE_DETAIL:"dataInvalidType.detail",_ERR_MAXPAGELINKS_INVALID_SUMMARY:"maxPageLinksInvalid.summary",_ERR_MAXPAGELINKS_INVALID_DETAIL:"maxPageLinksInvalid.detail"},_MARKER_STYLE_CLASSES:{_WIDGET:"oj-component",_ACTIVE:"oj-active",_CLICKABLE_ICON:"oj-clickable-icon-nocontext",_DISABLED:"oj-disabled",_ENABLED:"oj-enabled",_FOCUS:"oj-focus",_FOCUS_HIGHLIGHT:"oj-focus-highlight",_HOVER:"oj-hover",_SELECTED:"oj-selected"},_CSS_CLASSES:{_PAGING_CONTROL_CLASS:"oj-pagingcontrol",_PAGING_CONTROL_ACC_LABEL_CLASS:"oj-pagingcontrol-acc-label",_PAGING_CONTROL_CONTENT_CLASS:"oj-pagingcontrol-content",_PAGING_CONTROL_LOAD_MORE_CLASS:"oj-pagingcontrol-loadmore",_PAGING_CONTROL_LOAD_MORE_LINK_CLASS:"oj-pagingcontrol-loadmore-link",_PAGING_CONTROL_LOAD_MORE_MAX_ROWS_CLASS:"oj-pagingcontrol-loadmore-max-rows",_PAGING_CONTROL_LOAD_MORE_RANGE_CLASS:"oj-pagingcontrol-loadmore-range",_PAGING_CONTROL_LOAD_MORE_RANGE_CURRENT_CLASS:"oj-pagingcontrol-loadmore-range-current",_PAGING_CONTROL_LOAD_MORE_RANGE_MAX_CLASS:"oj-pagingcontrol-loadmore-range-max",_PAGING_CONTROL_NAV_CLASS:"oj-pagingcontrol-nav",_PAGING_CONTROL_NAV_ARROW_CLASS:"oj-pagingcontrol-nav-arrow",_PAGING_CONTROL_NAV_ARROW_SECTION_CLASS:"oj-pagingcontrol-nav-arrow-section",_PAGING_CONTROL_NAV_PAGE_CLASS:"oj-pagingcontrol-nav-page",_PAGING_CONTROL_NAV_PAGE_ELLIPSIS_CLASS:"oj-pagingcontrol-nav-page-ellipsis",_PAGING_CONTROL_NAV_DOT_CLASS:"oj-pagingcontrol-nav-dot",_PAGING_CONTROL_NAV_DOT_BULLET_CLASS:"oj-pagingcontrol-nav-dot-bullet",_PAGING_CONTROL_NAV_PAGE_ACC_LABEL_CLASS:"oj-pagingcontrol-nav-page-acc-label",_PAGING_CONTROL_NAV_LABEL_CLASS:"oj-pagingcontrol-nav-label",_PAGING_CONTROL_NAV_INPUT_SECTION_CLASS:"oj-pagingcontrol-nav-input-section",_PAGING_CONTROL_NAV_INPUT_CLASS:"oj-pagingcontrol-nav-input",_PAGING_CONTROL_NAV_INPUT_MAX_CLASS:"oj-pagingcontrol-nav-input-max",_PAGING_CONTROL_NAV_INPUT_SUMMARY_CLASS:"oj-pagingcontrol-nav-input-summary",_PAGING_CONTROL_NAV_INPUT_SUMMARY_CURRENT_CLASS:"oj-pagingcontrol-nav-input-summary-current",_PAGING_CONTROL_NAV_INPUT_SUMMARY_MAX_CLASS:"oj-pagingcontrol-nav-input-summary-max",_PAGING_CONTROL_NAV_PAGES_SECTION_CLASS:"oj-pagingcontrol-nav-pages-section",_PAGING_CONTROL_NAV_PAGES_LINKS_CLASS:"oj-pagingcontrol-nav-pages-links",_PAGING_CONTROL_NAV_FIRST_CLASS:"oj-pagingcontrol-nav-first",_PAGING_CONTROL_NAV_FIRST_ACC_LABEL_CLASS:"oj-pagingcontrol-nav-first-acc-label",_PAGING_CONTROL_NAV_PREVIOUS_CLASS:"oj-pagingcontrol-nav-previous",_PAGING_CONTROL_NAV_PREVIOUS_ACC_LABEL_CLASS:"oj-pagingcontrol-nav-previous-acc-label",_PAGING_CONTROL_NAV_NEXT_CLASS:"oj-pagingcontrol-nav-next",_PAGING_CONTROL_NAV_NEXT_ACC_LABEL_CLASS:"oj-pagingcontrol-nav-next-acc-label",_PAGING_CONTROL_NAV_LAST_CLASS:"oj-pagingcontrol-nav-last",_PAGING_CONTROL_NAV_LAST_ACC_LABEL_CLASS:"oj-pagingcontrol-nav-last-acc-label",_PAGING_CONTROL_NAV_FIRST_ICON_CLASS:"oj-pagingcontrol-nav-first-icon",_PAGING_CONTROL_NAV_PREVIOUS_ICON_CLASS:"oj-pagingcontrol-nav-previous-icon",_PAGING_CONTROL_NAV_NEXT_ICON_CLASS:"oj-pagingcontrol-nav-next-icon",_PAGING_CONTROL_NAV_LAST_ICON_CLASS:"oj-pagingcontrol-nav-last-icon",_PAGING_CONTROL_NAV_FIRST_VERTICAL_ICON_CLASS:"oj-pagingcontrol-nav-first-vertical-icon",_PAGING_CONTROL_NAV_PREVIOUS_VERTICAL_ICON_CLASS:"oj-pagingcontrol-nav-previous-vertical-icon",_PAGING_CONTROL_NAV_NEXT_VERTICAL_ICON_CLASS:"oj-pagingcontrol-nav-next-vertical-icon",_PAGING_CONTROL_NAV_LAST_VERTICAL_ICON_CLASS:"oj-pagingcontrol-nav-last-vertical-icon",_WIDGET_ICON_CLASS:"oj-component-icon",_HIDDEN_CONTENT_ACC_CLASS:"oj-helper-hidden-accessible"},_DATA_ATTR_PAGE_NUM:"data-oj-pagenum",_OPTION_ENABLED:"enabled",_OPTION_DISABLED:"disabled",_TAB_INDEX:"tabindex",_MODE:{_LOAD_MORE:"loadMore",_PAGE:"page"},_PAGE_OPTION_LAYOUT:{_AUTO:"auto",_ALL:"all",_INPUT:"input",_RANGE_TEXT:"rangeText",_PAGES:"pages",_NAV:"nav"},_PAGE_OPTION_DEFAULT_MAX_PAGE_LINKS:6,_TYPE:{_NUMBERS:"numbers",_DOTS:"dots"},firstPage:function(){return null!=this._getData()?this._invokeDataPage(0,!1):this._getRejectPromise()},previousPage:function(){if(null!=this._getData()){var t=this._getCurrentPage();if(t>0)return this._invokeDataPage(t-1,!1)}return this._getRejectPromise()},nextPage:function(){if(null!=this._getData()){var t=this._getCurrentPage();if(this._isTotalSizeConfidenceActual()&&t+1<=this._getTotalPages()-1||this._getTotalPages()<0||!this._isTotalSizeConfidenceActual())return this._invokeDataPage(t+1,!1)}return this._getRejectPromise()},lastPage:function(){return null!=this._getData()&&this._getTotalPages()>0?this._invokeDataPage(this._getTotalPages()-1,!1):this._getRejectPromise()},page:function(t){return null!=this._getData()&&(this._isTotalSizeConfidenceActual()&&t<=this._getTotalPages()-1||this._getTotalPages()<0||!this._isTotalSizeConfidenceActual())?this._invokeDataPage(t,!1):this._getRejectPromise()},loadNext:function(){return null!=this._getData()?this._invokeDataFetchNext():this._getRejectPromise()},refresh:function(){this._super(),this._refresh()},getNodeBySubId:function(t){if(null==t)return this.element?this.element[0]:null;var e=t.subId,n=null;if("oj-pagingcontrol-nav-input"===e)n=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_CLASS)[0];else if("oj-pagingcontrol-nav-input-max"===e)n=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_MAX_CLASS)[0];else if("oj-pagingcontrol-nav-input-summary"===e)n=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_CLASS)[0];else if("oj-pagingcontrol-nav-input-summary-current"===e)n=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_CURRENT_CLASS)[0];else if("oj-pagingcontrol-nav-input-summary-max"===e)n=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_MAX_CLASS)[0];else if("oj-pagingcontrol-nav-first"===e)n=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_FIRST_CLASS)[0];else if("oj-pagingcontrol-nav-next"===e)n=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_CLASS)[0];else if("oj-pagingcontrol-nav-previous"===e)n=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_CLASS)[0];else if("oj-pagingcontrol-nav-last"===e)n=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_LAST_CLASS)[0];else if("oj-pagingcontrol-nav-page"===e){var _=t.index;n=this._getPagingControlContainer().find("["+this._DATA_ATTR_PAGE_NUM+"="+_+"]")[0]}else"oj-pagingcontrol-load-more-link"===e?n=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_LINK_CLASS)[0]:"oj-pagingcontrol-load-more-range"===e?n=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_RANGE_CLASS)[0]:"oj-pagingcontrol-load-more-range-current"===e?n=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_RANGE_CURRENT_CLASS)[0]:"oj-pagingcontrol-load-more-range-max"===e?n=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_RANGE_MAX_CLASS)[0]:"oj-pagingcontrol-load-more-max-rows"===e&&(n=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_MAX_ROWS_CLASS)[0]);return void 0===n&&(n=null),n},getSubIdByNode:function(t){return e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_CLASS)?{subId:"oj-pagingcontrol-nav-input"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_MAX_CLASS)?{subId:"oj-pagingcontrol-nav-input-max"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_CLASS)?{subId:"oj-pagingcontrol-nav-input-summary"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_CURRENT_CLASS)?{subId:"oj-pagingcontrol-nav-input-summary-current"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_MAX_CLASS)?{subId:"oj-pagingcontrol-nav-input-summary-max"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_FIRST_CLASS)?{subId:"oj-pagingcontrol-nav-first"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_CLASS)?{subId:"oj-pagingcontrol-nav-next"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_CLASS)?{subId:"oj-pagingcontrol-nav-previous"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_LAST_CLASS)?{subId:"oj-pagingcontrol-nav-last"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_PAGE_CLASS)?{subId:"oj-pagingcontrol-nav-page",index:e(t).attr(this._DATA_ATTR_PAGE_NUM)}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_LINK_CLASS)?{subId:"oj-pagingcontrol-load-more-link"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_RANGE_CLASS)?{subId:"oj-pagingcontrol-load-more-range"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_RANGE_CURRENT_CLASS)?{subId:"oj-pagingcontrol-load-more-range-current"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_RANGE_MAX_CLASS)?{subId:"oj-pagingcontrol-load-more-range-max"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_MAX_ROWS_CLASS)?{subId:"oj-pagingcontrol-load-more-max-rows"}:null},_ComponentCreate:function(){this._super(),this._draw(),this._on(this._events)},_AfterCreate:function(){this._super(),this._registerSwipeHandler(),this._isInitFetch=!0},_SetupResources:function(){this._super(),this._registerResizeListener(this._getPagingControlContainer()),this._registerDataSourceEventListeners(),this._isInitFetch?(this._setInitialPage(),this._isInitFetch=!1):this._refresh()},_ReleaseResources:function(){this._super(),this._unregisterDataSourceEventListeners(),this._unregisterResizeListener()},_addComponentBusyState:function(e){var n=t.Context.getContext(this.element[0]).getBusyContext(),_={description:"The component identified by '"+this.element.attr("id")+"' "+e},a=n.addBusyState(_);return this._busyStateResolvers||(this._busyStateResolvers=[]),this._busyStateResolvers.push(a),a},_removeComponentBusyState:function(t){if(this._busyStateResolvers){var e=this._busyStateResolvers.indexOf(t);e>=0&&(this._busyStateResolvers.splice(e,1),t())}},_destroy:function(){if(this._unregisterDataSourceEventListeners(),this._unregisterSwipeHandler(),this._busyStateResolvers){for(var t;t=this._busyStateResolvers.pop();)t();this._busyStateResolvers=null}this._componentDestroyed=!0},_draw:function(){var t=this.options;this.element.addClass(this._CSS_CLASSES._PAGING_CONTROL_CLASS),this.element.addClass(this._MARKER_STYLE_CLASSES._WIDGET),this._createPagingControlAccLabel(),this._createPagingControlContent(),this._mode=t.mode,t.mode==this._MODE._LOAD_MORE?(this._createPagingControlLoadMore(),this._createPagingControlLoadMoreLink(),this._createPagingControlLoadMoreRange()):this._createPagingControlNav()},_events:{"mouseup .oj-pagingcontrol-loadmore-link":function(t){this.loadNext(),e(t.target).data("_mouseup",!0),t.preventDefault()},"click .oj-pagingcontrol-loadmore-link":function(t){e(t.target).data("_mouseup")?e(t.target).data("_mouseup",!1):this.loadNext(),t.preventDefault()},"click .oj-pagingcontrol-nav-dot":function(n){if(!e(n.currentTarget).hasClass(this._MARKER_STYLE_CLASSES._DISABLED)){var _=e(n.currentTarget).attr("data-oj-pagenum"),a=this;this.page(_).then(function(t){a=null},function(e){var n=a.getTranslatedString(a._BUNDLE_KEY._ERR_PAGE_INVALID_SUMMARY);t.Logger.error(n+"\n"+e),a=null})}n.preventDefault()},"click .oj-pagingcontrol-nav-page":function(n){if(!e(n.currentTarget).hasClass(this._MARKER_STYLE_CLASSES._DISABLED)){var _=e(n.currentTarget).attr("data-oj-pagenum"),a=this;this.page(_).then(function(t){a=null},function(e){var n=a.getTranslatedString(a._BUNDLE_KEY._ERR_PAGE_INVALID_SUMMARY);t.Logger.error(n+"\n"+e),a=null})}n.preventDefault()},"click .oj-pagingcontrol-nav-first":function(n){if(!e(n.currentTarget).hasClass(this._MARKER_STYLE_CLASSES._DISABLED)){var _=this;this.firstPage().then(function(t){_=null},function(e){var n=_.getTranslatedString(_._BUNDLE_KEY._ERR_PAGE_INVALID_SUMMARY);t.Logger.error(n+"\n"+e),_=null})}n.preventDefault()},"click .oj-pagingcontrol-nav-previous":function(n){if(!e(n.currentTarget).hasClass(this._MARKER_STYLE_CLASSES._DISABLED)){var _=this;this.previousPage().then(function(t){_=null},function(e){var n=_.getTranslatedString(_._BUNDLE_KEY._ERR_PAGE_INVALID_SUMMARY);t.Logger.error(n+"\n"+e),_=null})}n.preventDefault()},"click .oj-pagingcontrol-nav-next":function(n){if(!e(n.currentTarget).hasClass(this._MARKER_STYLE_CLASSES._DISABLED)){var _=this;this.nextPage().then(function(t){_=null},function(e){var n=_.getTranslatedString(_._BUNDLE_KEY._ERR_PAGE_INVALID_SUMMARY);t.Logger.error(n+"\n"+e),_=null})}n.preventDefault()},"click .oj-pagingcontrol-nav-last":function(n){if(!e(n.currentTarget).hasClass(this._MARKER_STYLE_CLASSES._DISABLED)){var _=this;this.lastPage().then(function(t){_=null},function(e){var n=_.getTranslatedString(_._BUNDLE_KEY._ERR_PAGE_INVALID_SUMMARY);t.Logger.error(n+"\n"+e),_=null})}n.preventDefault()},"keypress .oj-pagingcontrol-nav-input":function(t){13==t.which&&t.preventDefault()},"mousedown .oj-pagingcontrol-nav-first":function(t){e(t.currentTarget).hasClass(this._MARKER_STYLE_CLASSES._DISABLED)||e(t.target).addClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mousedown .oj-pagingcontrol-nav-previous":function(t){e(t.currentTarget).hasClass(this._MARKER_STYLE_CLASSES._DISABLED)||e(t.target).addClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mousedown .oj-pagingcontrol-nav-next":function(t){e(t.currentTarget).hasClass(this._MARKER_STYLE_CLASSES._DISABLED)||e(t.target).addClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mousedown .oj-pagingcontrol-nav-last":function(t){e(t.currentTarget).hasClass(this._MARKER_STYLE_CLASSES._DISABLED)||e(t.target).addClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mouseup .oj-pagingcontrol-nav-first":function(t){e(t.target).removeClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mouseup .oj-pagingcontrol-nav-previous":function(t){e(t.target).removeClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mouseup .oj-pagingcontrol-nav-next":function(t){e(t.target).removeClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mouseup .oj-pagingcontrol-nav-last":function(t){e(t.target).removeClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mouseleave .oj-pagingcontrol-nav-first":function(t){e(t.target).removeClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mouseleave .oj-pagingcontrol-nav-previous":function(t){e(t.target).removeClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mouseleave .oj-pagingcontrol-nav-next":function(t){e(t.target).removeClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mouseleave .oj-pagingcontrol-nav-last":function(t){e(t.target).removeClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()}},_refresh:function(t){this._data!=this.options.data&&(this._clearCachedDataMetadata(),this._setInitialPage());var e=0,n=0;null!=this._data&&(n=this._data.getStartItemIndex()),null!=this._data&&0!=this._data.totalSize()&&this._data.getEndItemIndex()>=0&&(e=this._data.getEndItemIndex()-n+1),this._mode=this.options.mode,this.options.mode==this._MODE._LOAD_MORE?this._refreshPagingControlLoadMore(e,n):this._refreshPagingControlNav(e,n)},_setOption:function(e,n){if(this._superApply(arguments),this._invokeDataPage(0,!0).then(function(t){},function(e){t.Logger.error(e)}),this.options.mode!=this._MODE._LOAD_MORE&&"pageOptions"==e){var _=this._getPagingControlContent();null!=_&&(this._unregisterChildStateListeners(_),this._unregisterSwipeHandler(),_.empty()),this._clearCachedDomPagingControlNav(),this._createPagingControlNav(),this._registerSwipeHandler()}this._queueRefresh()},_clearCachedDataMetadata:function(){null!=this._data&&this._unregisterDataSourceEventListeners(),this._data=null},_clearCachedDomLoadMore:function(){this._cachedDomPagingControlLoadMore=null,this._cachedDomPagingControlLoadMoreLink=null,this._cachedDomPagingControlLoadMoreRange=null},_clearCachedDomPagingControlNav:function(){this._cachedDomPagingControlNav=null,this._cachedDomPagingControlNavInput=null,this._cachedDomPagingControlNavInputSummary=null},_createNavArrow:function(t,n,_,a,i,o){var s=e(document.createElement("a"));s.attr("role","button"),s.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_ARROW_CLASS),s.addClass(t),s.addClass(n),s.addClass(this._CSS_CLASSES._WIDGET_ICON_CLASS),s.addClass(this._MARKER_STYLE_CLASSES._CLICKABLE_ICON),s.addClass(this._MARKER_STYLE_CLASSES._DISABLED),s.attr("aria-disabled","true");var r=this.getTranslatedString(_);this._AddHoverable(s),this._focusable({element:s,applyHighlight:!0}),s.attr("title",r),s.attr(this._TAB_INDEX,"0"),s.attr("href","#"),s.attr("oncontextmenu","return false;");var S=this.getTranslatedString(a);s.attr("aria-label",S);var l=this._createAccLabelSpan(S,i);return s.append(l),o&&s.css("display","block"),s},_disableNavArrow:function(t,e){e?(t.addClass(this._MARKER_STYLE_CLASSES._DISABLED),t.removeClass(this._MARKER_STYLE_CLASSES._ENABLED),t.removeClass(this._MARKER_STYLE_CLASSES._FOCUS_HIGHLIGHT),t.removeClass(this._MARKER_STYLE_CLASSES._FOCUS),t.attr("aria-disabled","true"),t.attr("tabindex","-1")):(t.addClass(this._MARKER_STYLE_CLASSES._ENABLED),t.removeClass(this._MARKER_STYLE_CLASSES._DISABLED),t.removeAttr("aria-disabled"),t.attr(this._TAB_INDEX,"0"))},_getCurrentPage:function(){var t=this._getData(),e=0;return null!=t&&(e=t.getPage()),e},_getData:function(){return this._data||null==this.options.data||(this._data=this.options.data,this._dataMetadata=this.options.data,this._registerDataSourceEventListeners()),this._data},_getItemRange:function(t,n){var _=n>=0?n:0,a=e(document.createElement("span")),i=e(document.createElement("span"));this.options.mode==this._MODE._LOAD_MORE?i.addClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_RANGE_CURRENT_CLASS):i.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_CURRENT_CLASS),a.append(i);var o=this._getData();if(null!=o&&null!=o.totalSize()&&null!=t){var s=this.getTranslatedString(this._BUNDLE_KEY._MSG_ITEM_RANGE_CURRENT_SINGLE,{pageFrom:_}),r=parseInt(n,10)+parseInt(t,10);if(_=r>0?_+1:0,-1!=o.totalSize()){if(_==(r=r>o.totalSize()?o.totalSize():r))s=this.getTranslatedString(this._BUNDLE_KEY._MSG_ITEM_RANGE_CURRENT_SINGLE,{pageFrom:_});else{if(_>r)return a;s=this.getTranslatedString(this._BUNDLE_KEY._MSG_ITEM_RANGE_CURRENT,{pageFrom:_,pageTo:r})}var S=this.getTranslatedString(this._BUNDLE_KEY._MSG_ITEM_RANGE_OF),l=null;"atLeast"==o.totalSizeConfidence()?l=this.getTranslatedString(this._BUNDLE_KEY._MSG_ITEM_RANGE_ATLEAST):"estimate"==o.totalSizeConfidence()&&(l=this.getTranslatedString(this._BUNDLE_KEY._MSG_ITEM_RANGE_APPROX));var g=e(document.createElement("span"));null==l?g.text(" "+S+" "):g.text(" "+l+" "),a.append(g);var A=e(document.createElement("span"));this.options.mode==this._MODE._LOAD_MORE?A.addClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_RANGE_MAX_CLASS):A.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_MAX_CLASS),A.text(o.totalSize()),a.append(A);var C=this.getTranslatedString(this._BUNDLE_KEY._MSG_ITEM_RANGE_ITEMS);(h=e(document.createElement("span"))).text(" "+C),a.append(h)}else{var h;s=0==t?this.getTranslatedString(this._BUNDLE_KEY._MSG_ITEM_RANGE_CURRENT_SINGLE,{pageFrom:0}):this.getTranslatedString(this._BUNDLE_KEY._MSG_ITEM_RANGE_CURRENT,{pageFrom:_,pageTo:r}),C=this.getTranslatedString(this._BUNDLE_KEY._MSG_ITEM_RANGE_ITEMS),(h=e(document.createElement("span"))).text(" "+C),a.append(h)}i.text(s)}return a},_getMaxPageLinks:function(){var t=this.options.pageOptions.maxPageLinks;return this.options.pageOptions.type==this._TYPE._DOTS?t=Number.MAX_VALUE:t||(t=this._PAGE_OPTION_DEFAULT_MAX_PAGE_LINKS),t},_getMaxPageVal:function(t){var e=0;if(this._getTotalPages()>0&&this._isTotalSizeConfidenceActual())e=this._getTotalPages();else if(t>0){var n=this._getData();e=null==n||"atLeast"!=n.totalSizeConfidence()&&"estimate"!=n.totalSizeConfidence()?this._getCurrentPage()+2:this._getTotalPages()+1}else e=this._getCurrentPage()+1;return e},_getRejectPromise:function(){return Promise.reject()},_getTotalPages:function(){var t=this._getData(),e=0;return null!=t&&(e=t.getPageCount()),e>=-1?e:0},_handleDataFetchEnd:function(t){var n=e(document.activeElement);if(n.hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_PAGE_CLASS)){var _=parseInt(n.attr("data-oj-pagenum"),10),a=this;setTimeout(function(){if(_>=0){var t=_+1,e=_-1,n=a._getPagingControlContent().find("a[data-oj-pagenum="+t+"]");if(null!=n&&n.length>0)n.focus();else{var i=a._getPagingControlContent().find("a[data-oj-pagenum="+e+"]");null!=i&&i.length>0&&i.focus()}}_=null,a=null},100)}else n.hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_FIRST_CLASS)?(a=this,setTimeout(function(){a._getPagingControlContent().find("."+a._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_CLASS).focus(),a=null},100)):n.hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_CLASS)?(a=this,setTimeout(function(){var t=a._getPagingControlContent().find("."+a._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_CLASS);t.hasClass(a._MARKER_STYLE_CLASSES._DISABLED)?a._getPagingControlContent().find("."+a._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_CLASS).focus():t.focus(),a=null},100)):n.hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_CLASS)?(a=this,setTimeout(function(){var t=a._getPagingControlContent().find("."+a._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_CLASS);t.hasClass(a._MARKER_STYLE_CLASSES._DISABLED)?a._getPagingControlContent().find("."+a._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_CLASS).focus():t.focus(),a=null},100)):n.hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_LAST_CLASS)?(a=this,setTimeout(function(){a._getPagingControlContent().find("."+a._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_CLASS).focus(),a=null},100)):n.hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_CLASS)&&(a=this,setTimeout(function(){a._getPagingControlContent().find("."+a._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_CLASS).focus(),a=null},100));this._queueRefresh()},_handleDataPage:function(t){t.page!=t.previousPage&&this._queueRefresh()},_handleDataReset:function(e){this._invokeDataPage(0,!1).then(function(t){},function(e){t.Logger.error(e)})},_handleDataRefresh:function(t){this._queueRefresh()},_handleDataSort:function(t){this.options.mode==this._MODE._LOAD_MORE&&this._handleDataReset(t)},_handleDataRowAdd:function(e){if(this._isOperationOnCurrentPage(e))return this.options.mode==this._MODE._PAGE?void this._invokeDataPage(this._getCurrentPage(),!0).then(function(t){},function(e){t.Logger.error(e)}):void this._invokeDataFetchCurrent();this._queueRefresh()},_handleDataRowRemove:function(e){if(this.options.mode==this._MODE._PAGE){if(this._getTotalPages()>0&&this._getCurrentPage()>this._getTotalPages()-1)return void this._invokeDataPage(this._getTotalPages()-1,!0).then(function(t){},function(e){t.Logger.error(e)});if(this._isOperationOnCurrentPage(e))return void this._invokeDataPage(this._getCurrentPage(),!0).then(function(t){},function(e){t.Logger.error(e)})}else if(this._isOperationOnCurrentPage(e))return void this._invokeDataFetchCurrent();this._queueRefresh()},_handlePageChange:function(e,n){if("value"==n.option){var _=n.value;if(_!=this._getCurrentPage()+1&&!isNaN(_)&&_>0){_=Math.round(_);var a=this;this.page(_-1).then(function(t){a=null},function(e){var n=a.getTranslatedString(a._BUNDLE_KEY._ERR_PAGE_INVALID_SUMMARY);t.Logger.error(n+"\n"+e),a=null})}}},_invokeDataPage:function(t,e){try{t=parseInt(t,10)}catch(t){return Promise.reject(t)}return this._currentStartIndex=0,this._resetPagingControlNavInput(),e?(this._queuePageFetch(t),Promise.resolve()):this._invokeDataSetPage(t)},_invokeDataSetPage:function(t){var e=this._getData(),n=this;return new Promise(function(_,a){if(null!=e){var i=n._addComponentBusyState("is setting page.");e.setPage(t,{pageSize:n.options.pageSize}).then(function(t){n._removeComponentBusyState(i),n=null,i=null,_(null)},function(t){n._removeComponentBusyState(i),n=null,i=null,a(t)}),e=null}else n=null,_(null)})},_invokeDataFetchNext:function(){var t=this.options.pageSize;return this._currentStartIndex?this._currentStartIndex=this._currentStartIndex+t:this._currentStartIndex=t,this._invokeDataFetch({startIndex:this._currentStartIndex,pageSize:t})},_invokeDataFetch:function(t){var e=this._getData();if(!this._isTotalSizeConfidenceActual()||e.totalSize()>this._currentStartIndex&&this._isTotalSizeConfidenceActual()){var n=this;return new Promise(function(_,a){var i=n._addComponentBusyState("is fetching data.");e.fetch(t).then(function(t){n._removeComponentBusyState(i),n=null,i=null,_(t)},function(t){n._removeComponentBusyState(i),n=null,i=null,a(null)}),e=null})}return Promise.resolve()},_invokeDataFetchCurrent:function(){var t=this.options.pageSize;return this._invokeDataFetch({startIndex:0,pageSize:this._currentStartIndex+t})},_isOperationOnCurrentPage:function(t){if(null==t)return!1;var e=this._getData(),n=e.getStartItemIndex();this.options.mode==this._MODE._LOAD_MORE&&(n=0);var _,a=e.getEndItemIndex();if(null!=t.index){if((_=t.index)>=n&&_<=a)return!0}else if(null!=t.indexes){var i;for(i=0;i<t.indexes.length;i++)if((_=t.indexes[i])>=n&&_<=a)return!0}return!1},_isTotalSizeConfidenceActual:function(){var t=this._getData();return null!=t&&"actual"==t.totalSizeConfidence()},_queuePageFetch:function(e){var n=this;this._pendingPageFetch||(this._pageFetchCount=0,this._pendingPageFetch=Promise.resolve()),this._pageFetchCount++,this._pageFetchLatestPage=e,this._pendingPageFetch=this._pendingPageFetch.then(function(){n._pageFetchCount--,0!=n._pageFetchCount||n._componentDestroyed||(n._pendingPageFetch=void 0,n._invokeDataSetPage(n._pageFetchLatestPage).then(function(){n=null},function(e){n._pageFetchCount--,n._pageFetchCount<=0&&(n._pendingPageFetch=void 0,t.Logger.error(e),n=null)}))},function(e){n._pageFetchCount--,n._pageFetchCount<=0&&(n._pendingPageFetch=void 0,t.Logger.error(e),n=null)})},_queueRefresh:function(){var e=this;this._pendingRefreshes||(this._refreshCount=0,this._pendingRefreshes=Promise.resolve(),this._setComponentNotReady()),this._refreshCount++,this._pendingRefreshes=this._pendingRefreshes.then(function(){e._refreshCount--,0==e._refreshCount&&(e._pendingRefreshes=void 0,e._componentDestroyed||(e._refresh(),e._trigger("ready")),e._setComponentReady(),e=null)},function(n){e._refreshCount--,0==e._refreshCount&&(e._pendingRefreshes=void 0,t.Logger.error(n),e._setComponentReady(),e=null)})},_refreshPagingControlLoadMore:function(t,e){var n=this._getData(),_=this._getPagingControlLoadMore(),a=e+t,i=!(null!=n&&(a==n.totalSize()&&this._isTotalSizeConfidenceActual()||0==n.totalSize()));if(!_||i){var o=this._getPagingControlContent();null!=o&&o.empty(),this._clearCachedDomLoadMore(),_=this._createPagingControlLoadMore(),a=-1,null!=t&&(a=e+t),a<0||a<this.options.loadMoreOptions.maxCount?(this._createPagingControlLoadMoreLink(),this._createPagingControlLoadMoreRange(t,e)):this._createPagingControlLoadMoreMaxRows()}i||_.css("display","none")},_refreshPagingControlNav:function(t,e){var n=this.options.overflow;if(this._refreshPagingControlNavMaxPageVal(t,e),this._refreshPagingControlNavLabel(),this._refreshPagingControlNavInput(),this._refreshPagingControlNavSummaryLabel(t,e),this._refreshPagingControlNavPages(t,e),this._refreshPagingControlNavArrows(t,e),"fit"==n){var _=this.element.width(),a=this._getPagingControlNavArrowSection(),i=this._getPagingControlNavInputSection(),o=this._getPagingControlNavPageLinks(),s=this._getPagingControlNavInputSummary(),r=null!=a?a[0].offsetWidth:0,S=null!=i?i[0].offsetWidth:0,l=null!=o?o.width():0,g=null!=s?s.width():0,A=r+S+g;A>_?A-l<=_?o.css("display","none"):A-l-g<=_?(null!=o&&o.css("display","none"),null!=s&&s.css("display","none")):(null!=o&&o.css("display","none"),null!=s&&s.css("display","none"),null!=a&&a.css("display","none")):A>0&&(null!=o&&o.css("display",""),null!=s&&s.css("display",""),null!=a&&a.css("display",""))}},_refreshPagingControlNavArrows:function(t,n){var _=this.options.pageSize,a=this._getPagingControlNavArrowSection(),i=a.children("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_FIRST_CLASS);if(i&&i.length>0){i=e(i[0]);var o=this.getTranslatedString(this._BUNDLE_KEY._TIP_NAV_FIRST_PAGE);i.attr("title",o),this._disableNavArrow(i,0==this._getCurrentPage())}var s=a.children("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_CLASS);if(s&&s.length>0){s=e(s[0]);var r=this.getTranslatedString(this._BUNDLE_KEY._TIP_NAV_PREVIOUS_PAGE);s.attr("title",r),this._disableNavArrow(s,0==this._getCurrentPage())}var S=a.children("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_LAST_CLASS);if(S&&S.length>0){S=e(S[0]);var l=this.getTranslatedString(this._BUNDLE_KEY._TIP_NAV_LAST_PAGE);S.attr("title",l),this._disableNavArrow(S,this._getCurrentPage()==this._getTotalPages()-1||this._getTotalPages()<=0||!this._isTotalSizeConfidenceActual())}var g=a.children("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_CLASS);if(g&&g.length>0){g=e(g[0]);var A=this.getTranslatedString(this._BUNDLE_KEY._TIP_NAV_NEXT_PAGE);g.attr("title",A),this._disableNavArrow(g,this._getCurrentPage()==this._getTotalPages()-1&&this._isTotalSizeConfidenceActual()||0===this._getTotalPages()||this._getTotalPages()<0&&0===t||this._getTotalPages()<0&&t<_)}},_refreshPagingControlNavPages:function(t,n){var _=this._getPagingControlNav().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_PAGES_SECTION_CLASS);null!=_&&_.length>0&&(_=e(_.get(0)),this._unregisterChildStateListeners(_),_.empty(),this._createPagingControlNavPages(_,this._getMaxPageLinks(),t,n))},_refreshPagingControlNavLabel:function(){var t=this._getPagingControlNavInputSection();if(null!=t){var n=t.children("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_LABEL_CLASS);if(null!=n&&n.length>0){n=e(n[0]);var _=this.getTranslatedString(this._BUNDLE_KEY._LABEL_NAV_INPUT_PAGE);n.text(_)}}},_refreshPagingControlNavInput:function(){var t=this._getPagingControlNavInput();if(null!=t){var e=this.getTranslatedString(this._BUNDLE_KEY._TIP_NAV_INPUT_PAGE);t.attr("title",e),t.ojInputText("option","title",e)}},_refreshPagingControlNavSummaryLabel:function(t,n){var _=this._getPagingControlNav().children("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_CLASS);if(null!=_&&_.length>0){var a=this._getItemRange(t,n);(_=e(_.get(0))).empty(),
a.text().length>0&&(_.append("("),_.append(a),_.append(")"))}},_refreshPagingControlNavMaxPageVal:function(t,n){var _=this._getMaxPageVal(t),a=this._getPagingControlNav().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_MAX_CLASS);if(null!=a&&a.length>0)if(a=e(a.get(0)),this._getTotalPages()>0&&this._isTotalSizeConfidenceActual()){var i=this.getTranslatedString(this._BUNDLE_KEY._LABEL_NAV_INPUT_PAGE_MAX,{pageMax:_});a.text(i)}else a.empty();else{var o=this._getPagingControlNavInputSection();null!=o&&this._getTotalPages()>0&&this._isTotalSizeConfidenceActual()&&_>=this._getCurrentPage()+1&&((a=e(document.createElement("span"))).addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_MAX_CLASS),a.addClass("oj-label-inline"),o.append(a),i=this.getTranslatedString(this._BUNDLE_KEY._LABEL_NAV_INPUT_PAGE_MAX,{pageMax:_}),a.text(i))}var s=this._getPagingControlNav().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_CLASS);if(null!=s&&s.length>0){(s=e(s.get(0))).ojInputText(),s.ojInputText("option","validators",[{type:"numberRange",options:{min:1,max:_}}]);var r=s.ojInputText("option","messagesShown");null!=r&&0!=r.length||this._resetPagingControlNavInput(),1==_?s.ojInputText("option","readOnly",!0):s.ojInputText("option","readOnly",!1)}},_registerDataSourceEventListeners:function(){var e,n,_=this._getData();if(null!=_)for(this._unregisterDataSourceEventListeners(),this._dataSourceEventHandlers=[],this._dataSourceEventHandlers.push({eventType:t.PagingModel.EventType.PAGE,eventHandler:this._handleDataPage.bind(this)}),this._dataSourceEventHandlers.push({eventType:t.PagingModel.EventType.PAGECOUNT,eventHandler:this._handleDataRefresh.bind(this)}),this._dataSourceEventHandlers.push({eventType:t.PagingTableDataSource.EventType.ADD,eventHandler:this._handleDataRowAdd.bind(this)}),this._dataSourceEventHandlers.push({eventType:t.PagingTableDataSource.EventType.REMOVE,eventHandler:this._handleDataRowRemove.bind(this)}),this._dataSourceEventHandlers.push({eventType:t.PagingTableDataSource.EventType.RESET,eventHandler:this._handleDataReset.bind(this)}),this._dataSourceEventHandlers.push({eventType:t.PagingTableDataSource.EventType.REFRESH,eventHandler:this._handleDataRefresh.bind(this)}),this._dataSourceEventHandlers.push({eventType:t.PagingTableDataSource.EventType.SYNC,eventHandler:this._handleDataFetchEnd.bind(this)}),this._dataSourceEventHandlers.push({eventType:t.PagingTableDataSource.EventType.SORT,eventHandler:this._handleDataSort.bind(this)}),e=0;e<this._dataSourceEventHandlers.length;e++)(n=_.on(this._dataSourceEventHandlers[e].eventType,this._dataSourceEventHandlers[e].eventHandler))&&(this._dataSourceEventHandlers[e].eventHandler=n)},_registerResizeListener:function(e){if(!this._resizeListener){var n=this;this._resizeListener=function(t,e){n._queueRefresh()}}this._resizeListenerElement||(t.DomUtils.addResizeListener(e[0],this._resizeListener,50),this._resizeListenerElement=e)},_registerSwipeHandler:function(){if(t.DomUtils.isTouchSupported()&&this.options.mode==this._MODE._PAGE){var e=this._getPagingControlNav();if(null!=e){var n=this;if("vertical"==this.options.pageOptions.orientation){var a={recognizers:[[_.Swipe,{direction:_.DIRECTION_VERTICAL}]]};this._hammerSwipeUp=e.ojHammer(a).on("swipeup",function(t){t.preventDefault(),n.nextPage()}),this._hammerSwipeDown=e.ojHammer(a).on("swipedown",function(t){t.preventDefault(),n.previousPage()})}else a={recognizers:[[_.Swipe,{direction:_.DIRECTION_HORIZONTAL}]]},this._hammerSwipeLeft=e.ojHammer(a).on("swipeleft",function(t){t.preventDefault(),n.nextPage()}),this._hammerSwipeRight=e.ojHammer(a).on("swiperight",function(t){t.preventDefault(),n.previousPage()})}}},_resetPagingControlNavInput:function(){var t=this._getPagingControlNavInput();if(null!=t&&t.hasClass("oj-component-initnode"))try{t.ojInputText("option","value",this._getCurrentPage()+1)}catch(t){}},_setComponentNotReady:function(){this._readyResolveFunc||(this._readyResolveFunc=this._addComponentBusyState("is being loaded."))},_setComponentReady:function(){this._readyResolveFunc&&(this._removeComponentBusyState(this._readyResolveFunc),this._readyResolveFunc=null)},_setInitialPage:function(){var e=this._getCurrentPage();e>0?this._invokeDataPage(e,!0).then(function(t){},function(e){t.Logger.error(e)}):this._invokeDataPage(0,!0).then(function(t){},function(e){t.Logger.error(e)})},_unregisterDataSourceEventListeners:function(){var t,e=this._getData();if(null!=this._dataSourceEventHandlers&&null!=e)for(t=0;t<this._dataSourceEventHandlers.length;t++)e.off(this._dataSourceEventHandlers[t].eventType,this._dataSourceEventHandlers[t].eventHandler)},_unregisterChildStateListeners:function(t){var e=this;t.find("*").each(function(){e._UnregisterChildNode(this)}),e=null},_unregisterResizeListener:function(){null!=this._resizeListenerElement&&(t.DomUtils.removeResizeListener(this._resizeListenerElement,this._resizeListener),this._resizeListenerElement=null)},_unregisterSwipeHandler:function(){t.DomUtils.isTouchSupported()&&("vertical"==this.options.pageOptions.orientation?(null!=this._hammerSwipeUp&&(this._hammerSwipeUp.off("swipeup"),this._hammerSwipeUp=null),null!=this._hammerSwipeDown&&(this._hammerSwipeDown.off("swipedown"),this._hammerSwipeDown=null)):(null!=this._hammerSwipeLeft&&(this._hammerSwipeLeft.off("swipeleft"),this._hammerSwipeLeft=null),null!=this._hammerSwipeRight&&(this._hammerSwipeRight.off("swiperight"),this._hammerSwipeRight=null)))},_createAccLabelSpan:function(t,n){var _=e(document.createElement("span"));return _.addClass(n),_.addClass(this._CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS),_.text(t),_},_createPagingControlAccLabel:function(){var t=this._getPagingControlContainer(),e=this.getTranslatedString(this._BUNDLE_KEY._LABEL_ACC_PAGING),n=this._createAccLabelSpan(e,this._CSS_CLASSES._PAGING_CONTROL_ACC_LABEL_CLASS),_=this.element.attr("id")+"_oj_pgCtrl_acc_label";return n.attr("id",_),t.append(n),n},_createPagingControlAccNavPageLabel:function(){var t=this.getTranslatedString(this._BUNDLE_KEY._LABEL_ACC_NAV_PAGE);return this._createAccLabelSpan(t,this._CSS_CLASSES._PAGING_CONTROL_NAV_PAGE_ACC_LABEL_CLASS)},_createPagingControlContent:function(){var t=this._getPagingControlContainer(),n=e(document.createElement("div"));n.addClass(this._CSS_CLASSES._PAGING_CONTROL_CONTENT_CLASS);var _=this._getPagingControlAccLabel().attr("id");return n.attr("role","navigation"),n.attr("aria-labelledby",_),t.append(n),n},_createPagingControlLoadMore:function(){var t=this._getPagingControlContent(),n=e(document.createElement("div"));return n.addClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_CLASS),t.append(n),n},_createPagingControlLoadMoreLink:function(){var t=this._getPagingControlLoadMore(),n=e(document.createElement("a"));n.addClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_LINK_CLASS);var _=this.getTranslatedString(this._BUNDLE_KEY._LABEL_LOAD_MORE);return n.text(_),n.attr(this._TAB_INDEX,"0"),n.attr("href","#"),t.append(n),n},_createPagingControlLoadMoreMaxRows:function(){var t=this._getPagingControlLoadMore(),n=e(document.createElement("span"));n.addClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_MAX_ROWS_CLASS);var _=this.getTranslatedString(this._BUNDLE_KEY._LABEL_LOAD_MORE_MAX_ROWS,{maxRows:this.options.loadMoreOptions.maxCount});return n.text(_),t.append(n),n},_createPagingControlLoadMoreRange:function(t,n){var _=this._getPagingControlLoadMore(),a=e(document.createElement("span"));a.addClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_RANGE_CLASS);var i=this._getItemRange(t,n);return a.append(i),_.append(a),a},_createPagingControlNav:function(t,n){var _=this.options,a="vertical"==this.options.pageOptions.orientation,i="dots"==this.options.pageOptions.type,o=_.pageOptions.layout;null==o&&(o=[this._PAGE_OPTION_LAYOUT._AUTO]);var s=this._getPagingControlContent(),r=e(document.createElement("div"));if(r.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_CLASS),s.append(r),-1!=e.inArray(this._PAGE_OPTION_LAYOUT._AUTO,o)&&!i||-1!=e.inArray(this._PAGE_OPTION_LAYOUT._ALL,o)||-1!=e.inArray(this._PAGE_OPTION_LAYOUT._INPUT,o)){var S=e(document.createElement("div"));S.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SECTION_CLASS),r.append(S);var l=e(document.createElement("label"));l.attr("for",this.element.attr("id")+"_nav_input"),l.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_LABEL_CLASS),l.addClass("oj-label-inline");var g=this.getTranslatedString(this._BUNDLE_KEY._LABEL_NAV_INPUT_PAGE);l.text(g),S.append(l);var A=e(document.createElement("input"));A.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_CLASS);var C=this.getTranslatedString(this._BUNDLE_KEY._TIP_NAV_INPUT_PAGE);A.attr("id",this.element.attr("id")+"_nav_input"),A.attr("title",C),A.attr(this._TAB_INDEX,"0"),A.val(this._getCurrentPage()+1),S.append(A);var h=this._getMaxPageVal(t);if(this._getTotalPages()>0&&this._isTotalSizeConfidenceActual()){var L=e(document.createElement("span"));L.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_MAX_CLASS),L.addClass("oj-label-inline");var u=this.getTranslatedString(this._BUNDLE_KEY._LABEL_NAV_INPUT_PAGE_MAX,{pageMax:h});L.text(u),S.append(L)}A.ojInputText({displayOptions:{messages:["notewindow"],converterHint:["notewindow"],validatorHint:["notewindow"]},rootAttributes:{style:"width: auto; min-width: 0;"},validators:[{type:"numberRange",options:{min:1,max:h}}]}).attr("data-oj-internal",""),A.on({ojoptionchange:this._handlePageChange.bind(this)})}if(-1!=e.inArray(this._PAGE_OPTION_LAYOUT._AUTO,o)&&!i||-1!=e.inArray(this._PAGE_OPTION_LAYOUT._ALL,o)||-1!=e.inArray(this._PAGE_OPTION_LAYOUT._RANGE_TEXT,o)){var N=e(document.createElement("span"));N.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_CLASS),N.addClass("oj-label-inline");var E=this._getItemRange(t,n);E.text().length>0&&(N.append("("),N.append(E),N.append(")")),r.append(N)}var c=e(document.createElement("div"));if(c.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_ARROW_SECTION_CLASS),r.append(c),-1!=e.inArray(this._PAGE_OPTION_LAYOUT._AUTO,o)&&!i||-1!=e.inArray(this._PAGE_OPTION_LAYOUT._ALL,o)||-1!=e.inArray(this._PAGE_OPTION_LAYOUT._NAV,o)){var d=this._createNavArrow(this._CSS_CLASSES._PAGING_CONTROL_NAV_FIRST_CLASS,a?this._CSS_CLASSES._PAGING_CONTROL_NAV_FIRST_VERTICAL_ICON_CLASS:this._CSS_CLASSES._PAGING_CONTROL_NAV_FIRST_ICON_CLASS,this._BUNDLE_KEY._TIP_NAV_FIRST_PAGE,this._BUNDLE_KEY._LABEL_ACC_NAV_FIRST_PAGE,this._CSS_CLASSES._PAGING_CONTROL_NAV_FIRST_ACC_LABEL_CLASS,a);c.append(d);var P=this._createNavArrow(this._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_CLASS,a?this._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_VERTICAL_ICON_CLASS:this._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_ICON_CLASS,this._BUNDLE_KEY._TIP_NAV_PREVIOUS_PAGE,this._BUNDLE_KEY._LABEL_ACC_NAV_PREVIOUS_PAGE,this._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_ACC_LABEL_CLASS,a);c.append(P)}if(-1!=e.inArray(this._PAGE_OPTION_LAYOUT._AUTO,o)||-1!=e.inArray(this._PAGE_OPTION_LAYOUT._ALL,o)||-1!=e.inArray(this._PAGE_OPTION_LAYOUT._PAGES,o)){var p=e(document.createElement("div"));p.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_PAGES_SECTION_CLASS),c.append(p),this._createPagingControlNavPages(p,this._getMaxPageLinks(),t,n)}if(-1!=e.inArray(this._PAGE_OPTION_LAYOUT._AUTO,o)&&!i||-1!=e.inArray(this._PAGE_OPTION_LAYOUT._ALL,o)||-1!=e.inArray(this._PAGE_OPTION_LAYOUT._NAV,o)){var T=this._createNavArrow(this._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_CLASS,a?this._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_VERTICAL_ICON_CLASS:this._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_ICON_CLASS,this._BUNDLE_KEY._TIP_NAV_NEXT_PAGE,this._BUNDLE_KEY._LABEL_ACC_NAV_NEXT_PAGE,this._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_ACC_LABEL_CLASS,a);c.append(T);var v=this._createNavArrow(this._CSS_CLASSES._PAGING_CONTROL_NAV_LAST_CLASS,a?this._CSS_CLASSES._PAGING_CONTROL_NAV_LAST_VERTICAL_ICON_CLASS:this._CSS_CLASSES._PAGING_CONTROL_NAV_LAST_ICON_CLASS,this._BUNDLE_KEY._TIP_NAV_LAST_PAGE,this._BUNDLE_KEY._LABEL_ACC_NAV_LAST_PAGE,this._CSS_CLASSES._PAGING_CONTROL_NAV_LAST_ACC_LABEL_CLASS,a);c.append(v)}return r},_createPagingControlNavPages:function(t,n,_,a){if(n<5){var i=this.getTranslatedString(this._BUNDLE_KEY._ERR_MAXPAGELINKS_INVALID_SUMMARY),o=this.getTranslatedString(this._BUNDLE_KEY._ERR_MAXPAGELINKS_INVALID_DETAIL);throw new Error(i+"\n"+o)}var s=e(document.createElement("div"));s.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_PAGES_LINKS_CLASS),t.append(s);var r=this._getTotalPages(),S=this._getCurrentPage(),l=this.options.pageSize,g=n,A=[];if(S>=0){var C;if(this._isTotalSizeConfidenceActual()&&r<=g)for(A[0]=0,C=1;C<r;C++)A[C]=C;else{A.push(0),0!=S&&A.push(S),S!=r-1&&this._isTotalSizeConfidenceActual()&&A.push(r-1),g-=A.length;var h=S-1,L=1;for(!this._isTotalSizeConfidenceActual()||S!=r-1&&S!=r-2||(L=0);g>L&&h>=1;)A.push(h),h--,g--;var u=S+1;for(-1==r&&(g=_>0&&_>=l?1:0);g>0&&(u<=r||-1==r);)A.push(u),u++,g--}for(A.sort(function(t,e){return t-e}),C=0;C<A.length;C++){var N=A[C];this._createPagingControlNavPage(s,N),C!=A.length-1&&N!=A[C+1]-1&&this._createPagingControlNavPage(s,-1)}!this._isTotalSizeConfidenceActual()&&_>=l&&this._createPagingControlNavPage(s,-1)}return s},_createPagingControlNavPage:function(t,n){var _=this._getCurrentPage(),a=null,i="rtl"===this._GetReadingDirection(),o="vertical"==this.options.pageOptions.orientation,s="dots"==this.options.pageOptions.type;if(-1==n)(a=e(document.createElement("span"))).addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_PAGE_ELLIPSIS_CLASS),a.text("..."),t.append(a);else{_==n?((a=e(document.createElement("div"))).addClass(this._MARKER_STYLE_CLASSES._SELECTED),a.addClass(this._MARKER_STYLE_CLASSES._ACTIVE),a.addClass(this._MARKER_STYLE_CLASSES._DISABLED),a.removeClass(this._MARKER_STYLE_CLASSES._ENABLED)):((a=e(document.createElement("a"))).removeClass(this._MARKER_STYLE_CLASSES._SELECTED),a.removeClass(this._MARKER_STYLE_CLASSES._ACTIVE),a.removeClass(this._MARKER_STYLE_CLASSES._DISABLED),a.addClass(this._MARKER_STYLE_CLASSES._ENABLED),a.attr(this._TAB_INDEX,"0"),a.attr("href","#")),a.attr("data-oj-pagenum",n),s?a.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_DOT_CLASS):a.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_PAGE_CLASS);var r=this.getTranslatedString(this._BUNDLE_KEY._TIP_NAV_PAGE_LINK,{pageNum:(n+1).toString()});this._AddHoverable(a),this._focusable({element:a,applyHighlight:!0}),a.attr("title",r),a.attr("oncontextmenu","return false;");var S=this._createPagingControlAccNavPageLabel();a.append(S);var l=e(document.createElement("span"));if(l.append((n+1).toString()),s){l.addClass(this._CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS);var g=e(document.createElement("span"));g.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_DOT_BULLET_CLASS),this._AddHoverable(g),_==n&&(g.addClass(this._MARKER_STYLE_CLASSES._SELECTED),g.addClass(this._MARKER_STYLE_CLASSES._ACTIVE)),a.append(g)}else this._AddHoverable(a);var A=i?"rtl":"ltr";l.attr("dir",A),a.append(l),o&&a.css("display","block"),t.append(a)}return a},_getPagingControlAccLabel:function(){var t=this._getPagingControlContainer(),n=null;return t&&(n=t.find("."+this._CSS_CLASSES._PAGING_CONTROL_ACC_LABEL_CLASS))&&n.length>0&&(n=e(n.get(0))),n},_getPagingControlContainer:function(){return e(this.element)},_getPagingControlContent:function(){if(!this._cachedDomPagingControlContent){var t=this._getPagingControlContainer(),n=null;t&&(n=t.find("."+this._CSS_CLASSES._PAGING_CONTROL_CONTENT_CLASS))&&n.length>0&&(this._cachedDomPagingControlContent=e(n.get(0)))}return this._cachedDomPagingControlContent},_getPagingControlLoadMore:function(){if(!this._cachedDomPagingControlLoadMore){var t=this._getPagingControlContent(),n=null;t&&(n=t.children("."+this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_CLASS))&&n.length>0&&(this._cachedDomPagingControlLoadMore=e(n.get(0)))}return this._cachedDomPagingControlLoadMore},_getPagingControlLoadMoreLink:function(){if(!this._cachedDomPagingControlLoadMoreLink){var t=this._getPagingControlLoadMore(),n=null;t&&(n=t.children("."+this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_LINK_CLASS))&&n.length>0&&(this._cachedDomPagingControlLoadMoreLink=e(n.get(0)))}return this._cachedDomPagingControlLoadMoreLink},_getPagingControlLoadMoreRange:function(){if(!this._cachedDomPagingControlLoadMoreRange){var t=this._getPagingControlLoadMore(),n=null;t&&(n=t.children("."+this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_RANGE_CLASS))&&n.length>0&&(this._cachedDomPagingControlLoadMoreRange=e(n.get(0)))}return this._cachedDomPagingControlLoadMoreRange},_getPagingControlNav:function(){if(!this._cachedDomPagingControlNav){var t=this._getPagingControlContent(),n=null;t&&(n=t.children("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_CLASS))&&n.length>0&&(this._cachedDomPagingControlNav=e(n.get(0)))}return this._cachedDomPagingControlNav},_getPagingControlNavInput:function(){if(!this._cachedDomPagingControlNavInput){var t=this._getPagingControlNav(),n=null;t&&(n=t.find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_CLASS))&&n.length>0&&(this._cachedDomPagingControlNavInput=e(n.get(0)))}return this._cachedDomPagingControlNavInput},_getPagingControlNavInputSummary:function(){if(!this._cachedDomPagingControlNavInputSummary){var t=this._getPagingControlNav(),n=null;t&&(n=t.find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_CLASS))&&n.length>0&&(this._cachedDomPagingControlNavInputSummary=e(n.get(0)))}return this._cachedDomPagingControlNavInputSummary},_getPagingControlNavPageLinks:function(){var t=this._getPagingControlNav(),n=null;return t&&(n=t.find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_PAGES_LINKS_CLASS))&&n.length>0&&(n=e(n.get(0))),n},_getPagingControlNavArrowSection:function(){var t=this._getPagingControlNav(),n=null;if(t){if(!((n=t.find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_ARROW_SECTION_CLASS))&&n.length>0))return null;n=e(n.get(0))}return n},_getPagingControlNavInputSection:function(){var t=this._getPagingControlNav(),n=null;if(t){if(!((n=t.find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SECTION_CLASS))&&n.length>0))return null;n=e(n.get(0))}return n}}),t.CustomElementBridge.registerMetadata("oj-paging-control","baseComponent",{properties:{data:{},loadMoreOptions:{type:"Object",properties:{maxCount:{type:"number"}}},mode:{type:"string",enumValues:["page","loadMore"]},overflow:{type:"string",enumValues:["fit","none"]},pageOptions:{type:"Object",properties:{layout:{type:"Array<string>"},maxPageLinks:{type:"number"},orientation:{type:"string",enumValues:["horizontal","vertical"]},type:{type:"string",enumValues:["numbers","dots"]}}},pageSize:{type:"number"},translations:{type:"Object",properties:{labelAccNavFirstPage:{type:"string",value:"First Page"},labelAccNavLastPage:{type:"string",value:"Last Page"},labelAccNavNextPage:{type:"string",value:"Next Page"},labelAccNavPage:{type:"string",value:"Page"},labelAccNavPreviousPage:{type:"string",value:"Previous Page"},labelAccPaging:{type:"string",value:"Pagination"},labelLoadMore:{type:"string",value:"Show More..."},labelLoadMoreMaxRows:{type:"string",value:"Reached Maximum Limit of {maxRows} rows"},labelNavInputPage:{type:"string",value:"Page"},labelNavInputPageMax:{type:"string",value:"of {pageMax}"},maxPageLinksInvalid:{type:"string",value:"Value for maxPageLinks is invalid."},msgItemRangeCurrent:{type:"string",value:"{pageFrom}-{pageTo}"},msgItemRangeCurrentSingle:{type:"string",value:"{pageFrom}"},msgItemRangeItems:{type:"string",value:"items"},msgItemRangeOf:{type:"string",value:"of"},msgItemRangeOfApprox:{type:"string",value:"approx."},msgItemRangeOfAtLeast:{type:"string",value:"at least"},pageInvalid:{type:"string",value:"The page value entered is invalid."},tipNavFirstPage:{type:"string",value:"First"},tipNavInputPage:{type:"string",value:"Go To Page"},tipNavLastPage:{type:"string",value:"Last"},tipNavNextPage:{type:"string",value:"Next"},tipNavPageLink:{type:"string",value:"Go To Page {pageNum}"},tipNavPreviousPage:{type:"string",value:"Previous"}}}},methods:{firstPage:{},lastPage:{},loadNext:{},nextPage:{},page:{},previousPage:{}},extension:{_WIDGET_NAME:"ojPagingControl"}}),t.CustomElementBridge.register("oj-paging-control",{metadata:t.CustomElementBridge.getMetadata("oj-paging-control")})});
!function(e){"function"==typeof define&&define.amd?define('jqueryui-amd/ie',["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())});
!function(e){"function"==typeof define&&define.amd?define('jqueryui-amd/widgets/mouse',["jquery","../ie","../version","../widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,o=1===i.which,n=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(o&&!n&&this._mouseCapture(i)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return s._mouseMove(e)},this._mouseUpDelegate=function(e){return s._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,0)))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,i.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})});
!function(e){"function"==typeof define&&define.amd?define('jqueryui-amd/data',["jquery","./version"],e):e(jQuery)}(function(e){return e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(n){return function(t){return!!e.data(t,n)}}):function(n,t,r){return!!e.data(n,r[3])}})});
!function(n){"function"==typeof define&&define.amd?define('jqueryui-amd/plugin',["jquery","./version"],n):n(jQuery)}(function(n){return n.ui.plugin={add:function(e,i,o){var t,u=n.ui[e].prototype;for(t in o)u.plugins[t]=u.plugins[t]||[],u.plugins[t].push([i,o[t]])},call:function(n,e,i,o){var t,u=n.plugins[e];if(u&&(o||n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType))for(t=0;t<u.length;t++)n.options[u[t][0]]&&u[t][1].apply(n.element,i)}}});
!function(e){"function"==typeof define&&define.amd?define('jqueryui-amd/safe-active-element',["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.safeActiveElement=function(e){var n;try{n=e.activeElement}catch(t){n=e.body}return n||(n=e.body),n.nodeName||(n=e.body),n}});
!function(e){"function"==typeof define&&define.amd?define('jqueryui-amd/safe-blur',["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.safeBlur=function(n){n&&"body"!==n.nodeName.toLowerCase()&&e(n).trigger("blur")}});
!function(e){"function"==typeof define&&define.amd?define('jqueryui-amd/scroll-parent',["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.scrollParent=function(t){var n=this.css("position"),o="absolute"===n,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,i=this.parents().filter(function(){var t=e(this);return(!o||"static"!==t.css("position"))&&s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:e(this[0].ownerDocument||document)}});
!function(t){"function"==typeof define&&define.amd?define('jqueryui-amd/widgets/draggable',["jquery","./mouse","../data","../plugin","../safe-active-element","../safe-blur","../scroll-parent","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var s=this.options;return!(this.helper||s.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===s.iframeFix?"iframe":s.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var s=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(s).length||t.ui.safeBlur(s)},_mouseStart:function(e){var s=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,s){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!s){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var s=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==s._trigger("stop",e)&&s._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var s=this.options,i=t.isFunction(s.helper),o=i?t(s.helper.apply(this.element[0],[e])):"clone"===s.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===s.appendTo?this.element[0].parentNode:s.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),s=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==s&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,s,i,o=this.options,n=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,t(n).width()-this.helperProportions.width-this.margins.left,(t(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),void((i=(s=t(o.containment))[0])&&(e=/(scroll|auto)/.test(s.css("overflow")),this.containment=[(parseInt(s.css("borderLeftWidth"),10)||0)+(parseInt(s.css("paddingLeft"),10)||0),(parseInt(s.css("borderTopWidth"),10)||0)+(parseInt(s.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(s.css("borderRightWidth"),10)||0)-(parseInt(s.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(s.css("borderBottomWidth"),10)||0)-(parseInt(s.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=s))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var s="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*s,left:e.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*s}},_generatePosition:function(t,e){var s,i,o,n,r=this.options,l=this._isRootNode(this.scrollParent[0]),a=t.pageX,h=t.pageY;return l&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),s=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):s=this.containment,t.pageX-this.offset.click.left<s[0]&&(a=s[0]+this.offset.click.left),t.pageY-this.offset.click.top<s[1]&&(h=s[1]+this.offset.click.top),t.pageX-this.offset.click.left>s[2]&&(a=s[2]+this.offset.click.left),t.pageY-this.offset.click.top>s[3]&&(h=s[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=s?o-this.offset.click.top>=s[1]||o-this.offset.click.top>s[3]?o:o-this.offset.click.top>=s[1]?o-r.grid[1]:o+r.grid[1]:o,n=r.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,a=s?n-this.offset.click.left>=s[0]||n-this.offset.click.left>s[2]?n:n-this.offset.click.left>=s[0]?n-r.grid[0]:n+r.grid[0]:n),"y"===r.axis&&(a=this.originalPageX),"x"===r.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:l?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:l?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,s,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[s,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,s,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,s,i){var o=t.extend({},s,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var s=t(this).sortable("instance");s&&!s.options.disabled&&(i.sortables.push(s),s.refreshPositions(),s._trigger("activate",e,o))})},stop:function(e,s,i){var o=t.extend({},s,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,o))})},drag:function(e,s,i){t.each(i.sortables,function(){var o=!1,n=this;n.positionAbs=i.positionAbs,n.helperProportions=i.helperProportions,n.offset.click=i.offset.click,n._intersectsWith(n.containerCache)&&(o=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==n&&this._intersectsWith(this.containerCache)&&t.contains(n.element[0],this.element[0])&&(o=!1),o})),o?(n.isOver||(n.isOver=1,i._parent=s.helper.parent(),n.currentItem=s.helper.appendTo(n.element).data("ui-sortable-item",!0),n.options._helper=n.options.helper,n.options.helper=function(){return s.helper[0]},e.target=n.currentItem[0],n._mouseCapture(e,!0),n._mouseStart(e,!0,!0),n.offset.click.top=i.offset.click.top,n.offset.click.left=i.offset.click.left,n.offset.parent.left-=i.offset.parent.left-n.offset.parent.left,n.offset.parent.top-=i.offset.parent.top-n.offset.parent.top,i._trigger("toSortable",e),i.dropped=n.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,n.fromOutside=i),n.currentItem&&(n._mouseDrag(e),s.position=n.position)):n.isOver&&(n.isOver=0,n.cancelHelperRemoval=!0,n.options._revert=n.options.revert,n.options.revert=!1,n._trigger("out",e,n._uiHash(n)),n._mouseStop(e,!0),n.options.revert=n.options._revert,n.options.helper=n.options._helper,n.placeholder&&n.placeholder.remove(),s.helper.appendTo(i._parent),i._refreshOffsets(e),s.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,s,i){var o=t("body"),n=i.options;o.css("cursor")&&(n._cursor=o.css("cursor")),o.css("cursor",n.cursor)},stop:function(e,s,i){var o=i.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("opacity")&&(n._opacity=o.css("opacity")),o.css("opacity",n.opacity)},stop:function(e,s,i){var o=i.options;o._opacity&&t(s.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,s){s.scrollParentNotHidden||(s.scrollParentNotHidden=s.helper.scrollParent(!1)),s.scrollParentNotHidden[0]!==s.document[0]&&"HTML"!==s.scrollParentNotHidden[0].tagName&&(s.overflowOffset=s.scrollParentNotHidden.offset())},drag:function(e,s,i){var o=i.options,n=!1,r=i.scrollParentNotHidden[0],l=i.document[0];r!==l&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+r.offsetHeight-e.pageY<o.scrollSensitivity?r.scrollTop=n=r.scrollTop+o.scrollSpeed:e.pageY-i.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=n=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+r.offsetWidth-e.pageX<o.scrollSensitivity?r.scrollLeft=n=r.scrollLeft+o.scrollSpeed:e.pageX-i.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=n=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(l).scrollTop()<o.scrollSensitivity?n=t(l).scrollTop(t(l).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(l).scrollTop())<o.scrollSensitivity&&(n=t(l).scrollTop(t(l).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(l).scrollLeft()<o.scrollSensitivity?n=t(l).scrollLeft(t(l).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(l).scrollLeft())<o.scrollSensitivity&&(n=t(l).scrollLeft(t(l).scrollLeft()+o.scrollSpeed)))),!1!==n&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,s,i){var o=i.options;i.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var e=t(this),s=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:s.top,left:s.left})})},drag:function(e,s,i){var o,n,r,l,a,h,p,c,f,d,g=i.options,u=g.snapTolerance,m=s.offset.left,v=m+i.helperProportions.width,_=s.offset.top,P=_+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)h=(a=i.snapElements[f].left-i.margins.left)+i.snapElements[f].width,c=(p=i.snapElements[f].top-i.margins.top)+i.snapElements[f].height,v<a-u||m>h+u||P<p-u||_>c+u||!t.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==g.snapMode&&(o=Math.abs(p-P)<=u,n=Math.abs(c-_)<=u,r=Math.abs(a-v)<=u,l=Math.abs(h-m)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p-i.helperProportions.height,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a-i.helperProportions.width}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h}).left)),d=o||n||r||l,"outer"!==g.snapMode&&(o=Math.abs(p-_)<=u,n=Math.abs(c-P)<=u,r=Math.abs(a-m)<=u,l=Math.abs(h-v)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(o||n||r||l||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=o||n||r||l||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,s,i){var o,n=i.options,r=t.makeArray(t(n.stack)).sort(function(e,s){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(s).css("zIndex"),10)||0)});r.length&&(o=parseInt(t(r[0]).css("zIndex"),10)||0,t(r).each(function(e){t(this).css("zIndex",o+e)}),this.css("zIndex",o+r.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("zIndex")&&(n._zIndex=o.css("zIndex")),o.css("zIndex",n.zIndex)},stop:function(e,s,i){var o=i.options;o._zIndex&&t(s.helper).css("zIndex",o._zIndex)}}),t.ui.draggable});
define('ojs/ojdialog',["ojs/ojcore","jquery","promise","ojs/ojcomponentcore","ojs/ojpopupcore","ojs/ojanimation","ojs/ojbutton","jqueryui-amd/widgets/draggable","jqueryui-amd/widgets/mouse"],function(e,t){var i,s,o;i="oj-dialog-body",s="oj-dialog-footer",o="oj-dialog-header",e.__registerWidget("oj.ojDialog",t.oj.baseComponent,{version:"1.0.0",widgetEventPrefix:"oj",options:{cancelBehavior:"icon",dragAffordance:"title-bar",initialVisibility:"hide",modality:"modal",position:{my:{horizontal:"center",vertical:"center"},offset:{x:0,y:0},at:{horizontal:"center",vertical:"center"},of:"window",collision:"fit",using:function(e){var i=t(this).css(e).offset().top;i<0&&t(this).css("top",e.top-i)}},resizeBehavior:"resizable",role:"dialog",title:null,beforeClose:null,beforeOpen:null,close:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null,animateStart:null,animateEnd:null},_ComponentCreate:function(){if(this._super(),this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this.element.removeAttr("title"),this.element.hide(),this.element.uniqueId(),this.element.addClass("oj-dialog oj-component"),this.element.attr({tabIndex:-1}),this._IsCustomElement()&&this.element[0].hasAttribute("role")||this.element.attr("role",this.options.role),this._on(this.element,{keydown:this._keydownHandler.bind(this)}),this.userDefinedDialogHeader=!1,!this._IsCustomElement())for(var i=this.element.children(),s=0;s<i.length;s++){var o=t(i[s]);o.is(".oj-dialog-header")?(this.userDefinedDialogHeader=!0,this._userDefinedHeader=o,this._userDefinedHeaderDiv=i[s]):o.is(".oj-dialog-body")?(this._createContentDiv(),this._uiDialogContent=t(this._contentDiv),this.element[0].insertBefore(this._contentDiv,i[s]),e.Components.subtreeAttached(this._contentDiv),this._contentDiv.appendChild(i[s]),e.Components.subtreeAttached(i[s]),this._uiDialogBody=o,this._uiDialogBodyDiv=i[s]):o.is(".oj-dialog-footer")&&(this._uiDialogFooter=o,this._uiDialogFooterDiv=i[s])}this._IsCustomElement()&&this._processSlottedChildren(),this.userDefinedDialogHeader?(this._userDefinedTitleDiv=this._userDefinedHeaderDiv.querySelector(".oj-dialog-title"),this._userDefinedTitle=t(this._userDefinedTitleDiv),null!==this._userDefinedTitleDiv&&void 0!==this._userDefinedTitleDiv&&(this._userDefinedTitle.uniqueId(),this.element.attr({"aria-labelledby":this._userDefinedTitle.attr("id")}))):this._createTitlebar(),this._uiDialogContent||(this._createContentDiv(),this._uiDialogContent=t(this._contentDiv),this._userDefinedHeader?this.element[0].insertBefore(this._contentDiv,this._userDefinedHeaderDiv):this.element[0].insertBefore(this._contentDiv,this._uiDialogTitlebarDiv),e.Components.subtreeAttached(this._contentDiv)),this._setupFocus(this.element);var n=this.options;n.position=e.PositionUtils.coerceToJet(n.position)},_createHeaderSlot:function(){this._headerSlot=document.createElement("div"),this._headerSlot.classList.add(o),this.element[0].appendChild(this._headerSlot),e.Components.subtreeAttached(this._headerSlot),this.userDefinedDialogHeader=!0,this._userDefinedHeaderDiv=this._headerSlot,this._userDefinedHeader=t(this._headerSlot)},_createFooterSlot:function(){this._footerSlot=document.createElement("div"),this.element[0].appendChild(this._footerSlot),e.Components.subtreeAttached(this._footerSlot),this._uiDialogFooterDiv=this._footerSlot,this._uiDialogFooter=t(this._footerSlot)},_createContentDiv:function(){this._contentDiv=document.createElement("div"),this._contentDiv.classList.add("oj-dialog-content","oj-dialog-default-content")},_createBodySlot:function(){this._createContentDiv(),this.element[0].appendChild(this._contentDiv),e.Components.subtreeAttached(this._contentDiv),this._bodySlot=document.createElement("div"),this._contentDiv.appendChild(this._bodySlot),this._uiDialogContent=t(this._contentDiv),this._uiDialogBodyDiv=this._bodySlot,this._uiDialogBody=t(this._bodySlot)},_GetContextMenu:function(){return this._IsCustomElement()?this._contextmenuSlot&&this._contextmenuSlot.length>0?this._contextmenuSlot[0]:this._super():null},_processSlottedChildren:function(){null!=this._footerSlot&&this.element[0].removeChild(this._footerSlot),null!=this._headerSlot&&this.element[0].removeChild(this._headerSlot),null!=this._bodySlot&&this.element[0].removeChild(this._bodySlot),null!=this._contextmenuSlot&&this.element[0].removeChild(this._contextmenuSlot);var t,o,n=e.BaseCustomElementBridge.getSlotMap(this.element[0]),r=Object.keys(n);for(o=0;o<r.length;o++)"header"!==(t=r[o])&&"footer"!==t&&"body"!==t&&""!==t&&"contextMenu"!==t&&n[t].parentNode.removeChild(n[t]);var a=Object.prototype.hasOwnProperty;a.call(n,"header")&&this._createHeaderSlot(),(a.call(n,"body")||a.call(n,""))&&this._createBodySlot(),a.call(n,"footer")&&this._createFooterSlot(),a.call(n,"contextMenu")&&(this._contextmenuSlot=n.contextMenu);var l=this._bodySlot;for(o=0;o<r.length;o++){switch(t=r[o]){case"header":l=this._headerSlot;break;case"footer":l=this._footerSlot;break;case"body":case"":l=this._bodySlot}var h=n[t];if(null!=h)for(var d=0;d<h.length;d++)switch(l.appendChild(h[d]),t){case"header":break;case"footer":l=this._footerSlot,n[t][d].classList.add(s);break;case"body":case"":l=this._bodySlot,n[t][d].classList.add(i)}}},_AfterCreateEvent:function(){"show"===this.options.initialVisibility&&this.open()},_destroy:function(){this._off(this.element,"keydown"),e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly(),this._setWhenReady("none"),this._resizableComponent&&this._resizableComponent("instance")&&(this._resizableComponent("destroy"),this._resizableComponent=null),this.element.hasClass("oj-draggable")&&(this.element.draggable("destroy"),this.element.removeClass("oj-draggable")),this._destroyCloseButton(),this.userDefinedDialogHeader&&this._userDefinedTitle.removeUniqueId(),this._uiDialogBody&&this._uiDialogBody.insertAfter(this._uiDialogContent),this._uiDialogContent.remove(),this._uiDialogBody=null,this._uiDialogContent=null,this.element.removeUniqueId().removeClass("oj-dialog oj-component").css(this.originalCss),this.element.stop(!0,!0),this.originalTitle&&this.element.attr("title",this.originalTitle),this._uiDialogTitlebar&&(this._uiDialogTitlebar.remove(),this._uiDialogTitlebar=null),delete this._popupServiceEvents,this._super()},disable:t.noop,enable:t.noop,close:function(i){if(!this._isOperationPending("close",[i])&&e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN&&(!1!==this._trigger("beforeClose",i)||this._ignoreBeforeCloseResultant)){if(this._setWhenReady("close"),this._focusedElement=null,this.opener.filter(":focusable").focus().length||t(this.document[0].activeElement).blur(),"modal"===this.options.modality){var s=Array.prototype.forEach,o=this.element[0].getElementsByClassName("oj-helper-element-in-dialog-with-accesskey");s.call(o,function(e){e.classList.remove("oj-helper-element-in-dialog-with-accesskey")});var n=document.getElementsByClassName("oj-helper-element-with-accesskey");s.call(n,function(e){e.setAttribute("accesskey",e.getAttribute("data-ojAccessKey")),e.removeAttribute("data-ojAccessKey"),e.classList.remove("oj-helper-element-with-accesskey")})}var r={};r[e.PopupService.OPTION.POPUP]=this.element,r[e.PopupService.OPTION.CONTEXT]={closeEvent:i},e.PopupService.getInstance().close(r)}},_beforeCloseHandler:function(t){var i=t[e.PopupService.OPTION.POPUP],s=(e.ThemeUtils.parseJSONFromFontFamily("oj-dialog-option-defaults")||{}).animation;if(!this._ignoreBeforeCloseResultant&&s&&s.close){var o=i.attr("style");return e.AnimationUtils.startAnimation(i[0],"close",s.close,this).then(function(){i.attr("style",o),i.hide()})}i.hide()},_afterCloseHandler:function(t){var i,s=t[e.PopupService.OPTION.CONTEXT];s&&(i=s.closeEvent),this._trigger("close",i)},isOpen:function(){var t=e.ZOrderUtils.getStatus(this.element);return t===e.ZOrderUtils.STATUS.OPENING||t===e.ZOrderUtils.STATUS.OPEN||t===e.ZOrderUtils.STATUS.CLOSING},open:function(i){if(!this._isOperationPending("open",[i])&&!1!==this._trigger("beforeOpen",i))if(e.ZOrderUtils.getStatus(this.element)!==e.ZOrderUtils.STATUS.OPEN){this._setWhenReady("open"),this.userDefinedDialogHeader?void 0!==this.closeButton&&null!==this.closeButton||"icon"!==this.options.cancelBehavior||this._createCloseButton(this._userDefinedHeaderDiv):this._createTitlebarCloseButton(),this.opener=t(this.document[0].activeElement),"title-bar"===this.options.dragAffordance&&t.fn.draggable&&this._makeDraggable(),"resizable"===this.options.resizeBehavior&&this._makeResizable();var s="rtl"===this._GetReadingDirection(),o=e.PositionUtils.coerceToJqUi(this.options.position);if(o=e.PositionUtils.normalizeHorizontalAlignment(o,s),"modal"===this.options.modality){var n=Array.prototype.forEach,r=this.element[0].querySelectorAll("[accesskey]");n.call(r,function(e){e.classList.add("oj-helper-element-in-dialog-with-accesskey")});var a=document.querySelectorAll("[accesskey]");n.call(a,function(e){e.classList.contains("oj-helper-element-in-dialog-with-accesskey")||(e.classList.add("oj-helper-element-with-accesskey"),e.setAttribute("data-ojAccessKey",e.getAttribute("accesskey")),e.removeAttribute("accesskey"))})}var l={};l[e.PopupService.OPTION.POPUP]=this.element,l[e.PopupService.OPTION.LAUNCHER]=this.opener,l[e.PopupService.OPTION.POSITION]=o,l[e.PopupService.OPTION.MODALITY]=this.options.modality,l[e.PopupService.OPTION.EVENTS]=this._getPopupServiceEvents(),l[e.PopupService.OPTION.LAYER_SELECTORS]="oj-dialog-layer",l[e.PopupService.OPTION.LAYER_LEVEL]=e.PopupService.LAYER_LEVEL.TOP_LEVEL,l[e.PopupService.OPTION.CUSTOM_ELEMENT]=this._IsCustomElement(),e.PopupService.getInstance().open(l)}else this._focusTabbable()},_beforeOpenHandler:function(t){var i=t[e.PopupService.OPTION.POPUP],s=t[e.PopupService.OPTION.POSITION];i.show(),i.position(s),i.parent().addClass("oj-animate-open");var o=(e.ThemeUtils.parseJSONFromFontFamily("oj-dialog-option-defaults")||{}).animation;if(o&&o.open)return e.AnimationUtils.startAnimation(i[0],"open",o.open,this)},_afterOpenHandler:function(t){t[e.PopupService.OPTION.POPUP].parent().removeClass("oj-animate-open"),this._trigger("open"),this._focusTabbable()},refresh:function(){this._super()},_focusTabbable:function(){var t=this._focusedElement;t&&t.length>0&&e.DomUtils.isAncestorOrSelf(this.element[0],t[0])||(t||(t=this.element.find("[autofocus]")),t.length||(t=this._uiDialogContent.find(":tabbable")),t.length||this._uiDialogFooter&&this._uiDialogFooter.length&&(t=this._uiDialogFooter.find(":tabbable")),t.length||this.closeButton&&(t=this.closeButton.filter(":focusable")),t.length||(t=this.element),t.length>0&&(t.eq(0).focus(),this._trigger("focus")))},_keydownHandler:function(e){if("none"!==this.options.cancelBehavior&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),e.stopImmediatePropagation(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB){var i=this.element.find(":tabbable"),s=i.filter(":first"),o=i.filter(":last");e.shiftKey?e.shiftKey&&(document.activeElement===s[0]||document.activeElement===this.element[0]?(o.focus(),e.preventDefault()):1===i.index(document.activeElement)&&i[0]&&(i[0].focus(),e.preventDefault())):document.activeElement===o[0]||document.activeElement===this.element[0]?(s.focus(),e.preventDefault()):0===i.index(document.activeElement)&&i[1]&&(i[1].focus(),e.preventDefault())}},_setupFocus:function(e){var i=this;this._focusable({applyHighlight:!0,setupHandlers:function(s,o){i._on(e,{focus:function(e){s(t(e.currentTarget))},blur:function(e){o(t(e.currentTarget))}})}})},_destroyCloseButton:function(){null!==this.closeButtonDiv&&void 0!==this.closeButtonDiv&&(this.closeButtonDiv.parentElement&&(e.Components.subtreeDetached(this.closeButtonDiv),this.closeButtonDiv.parentElement.removeChild(this.closeButtonDiv)),this.closeButton=null),this._headerSlot&&this._headerSlot.classList.remove("oj-dialog-header-close"),this._uiDialogTitlebarDiv&&this._uiDialogTitlebarDiv.classList.remove("oj-dialog-header-close")},_createCloseButton:function(i){if(this._IsCustomElement()){this.closeButtonDiv=document.createElement("oj-button"),this.closeButtonDiv.classList.add("oj-dialog-header-close-wrapper"),this.closeButtonDiv.setAttribute("data-oj-binding-provider","none"),this.closeButtonDiv.setAttribute("display","icons"),this.closeButtonDiv.setAttribute("chroming","half");var s=document.createElement("span");s.textContent=this.getTranslatedString("labelCloseIcon");var o=document.createElement("span");o.className="oj-fwk-icon oj-fwk-icon-cross",o.setAttribute("slot","startIcon"),this.closeButtonDiv.appendChild(o),this.closeButtonDiv.appendChild(s),i.appendChild(this.closeButtonDiv),e.Components.subtreeAttached(this.closeButtonDiv),this.closeButton=t(this.closeButtonDiv)}this._IsCustomElement()||(this.closeButton=t("<button><\button>").addClass("oj-dialog-header-close-wrapper"),this.closeButton.ojButton({display:"icons",chroming:"half",label:this.getTranslatedString("labelCloseIcon"),icons:{start:"oj-component-icon oj-fwk-icon-cross"}}).attr("tabindex","1").appendTo(i),this.closeButtonDiv=this.closeButton[0]),this._on(this.closeButton,{click:function(e){e.preventDefault(),e.stopImmediatePropagation(),this.close(e)}}),this._headerSlot&&this._headerSlot.classList.add("oj-dialog-header-close"),this._uiDialogTitlebarDiv&&this._uiDialogTitlebarDiv.classList.add("oj-dialog-header-close")},_createTitlebarCloseButton:function(){void 0!==this.closeButton&&null!==this.closeButton||"icon"!==this.options.cancelBehavior||this._createCloseButton(this._uiDialogTitlebarDiv),this._on(this._uiDialogTitlebar,{mousedown:function(t){e.DomUtils.isAncestorOrSelf(this.closeButtonDiv,t.target)||this.element.focus()}})},_createTitlebar:function(){this._uiDialogTitlebarDiv=document.createElement("div"),this._uiDialogTitlebarDiv.classList.add(o),this.element[0].insertBefore(this._uiDialogTitlebarDiv,this.element[0].firstChild),e.Components.subtreeAttached(this._uiDialogTitlebarDiv),this._uiDialogTitlebar=t(this._uiDialogTitlebarDiv);var i=document.createElement("div");i.classList.add("oj-dialog-title"),t(i).uniqueId(),this._uiDialogTitlebarDiv.appendChild(i),e.Components.subtreeAttached(i),this._title(i),this.element.attr({"aria-labelledby":i.id})},_title:function(e){var t=e;this.options.title||(t.innerHTML="&#160;"),t.textContent=this.options.title},_makeDraggable:function(){var e=this,i=this.options;function s(e){return{position:e.position,offset:e.offset}}this.element.draggable({addClasses:!1,handle:".oj-dialog-header",containment:"document",start:function(i,o){t(this).addClass("oj-dialog-dragging"),e._positionDescendents(),e._trigger("dragStart",i,s(o))},drag:function(t,i){e._positionDescendents(),e._trigger("drag",t,s(i))},stop:function(o,n){var r=n.offset.left-e.document.scrollLeft(),a=n.offset.top-e.document.scrollTop();i.position={my:{horizontal:"left",vertical:"top"},at:{horizontal:"left",vertical:"top"},offset:{x:r>=0?r:0,y:a>=0?a:0},of:window},t(this).removeClass("oj-dialog-dragging"),e._positionDescendents(),e._trigger("dragStop",o,s(n))}}),this.element.addClass("oj-draggable")},_makeResizable:function(){var e=this;function i(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this._resizableComponent=this.element.ojResizable.bind(this.element),this._resizableComponent({cancel:".oj-dialog-content",containment:"document",handles:"n,e,s,w,se,sw,ne,nw",start:function(s,o){e._isResizing=!0,t(this).addClass("oj-dialog-resizing"),e._trigger("resizeStart",s,i(o))},resize:function(t,s){e._trigger("resize",t,i(s))},stop:function(s,o){e._isResizing=!1,t(this).removeClass("oj-dialog-resizing"),e._trigger("resizeStop",s,i(o))}})},_position:function(){var t="rtl"===this._GetReadingDirection(),i=e.PositionUtils.coerceToJqUi(this.options.position);i=e.PositionUtils.normalizeHorizontalAlignment(i,t),this.element.position(i),this._positionDescendents()},_positionDescendents:function(){e.PopupService.getInstance().triggerOnDescendents(this.element,e.PopupService.EVENT.POPUP_REFRESH)},_setOption:function(i,s,o){var n,r;if("disabled"!==i)switch(this._super(i,s,o),i){case"dragAffordance":(n=this.element.hasClass("oj-draggable"))&&"none"===s&&(this.element.draggable("destroy"),this.element.removeClass("oj-draggable")),n||"title-bar"!==s||this._makeDraggable();break;case"position":var a=this.options;return a.position=e.PositionUtils.coerceToJet(s,a.position),void this._position();case"resizeBehavior":r=!1,this._resizableComponent&&(r=!0),r&&"resizable"!==s&&(this._resizableComponent("instance")&&this._resizableComponent("destroy"),this._resizableComponent=null),r||"resizable"!==s||this._makeResizable();break;case"title":this.userDefinedDialogHeader?this._title(this._userDefinedHeaderDiv.querySelector(".oj-dialog-title")):this._title(this._uiDialogTitlebarDiv.querySelector(".oj-dialog-title"));break;case"role":this.element.attr("role",s);break;case"modality":if(e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN){var l={};l[e.PopupService.OPTION.POPUP]=this.element,l[e.PopupService.OPTION.MODALITY]=s,e.PopupService.getInstance().changeOptions(l)}break;case"cancelBehavior":"none"===s||"escape"===s?this._destroyCloseButton():"icon"===s&&(this.userDefinedDialogHeader?(this._destroyCloseButton(),this._createCloseButton(this._userDefinedHeaderDiv),this._userDefinedTitleDiv=this._userDefinedHeaderDiv.querySelector(".oj-dialog-title"),this._userDefinedTitle=t(this._userDefinedTitleDiv)):(this._destroyCloseButton(),this._createCloseButton(this._uiDialogTitlebarDiv),this.standardTitleDiv=this._uiDialogTitlebarDiv.querySelector(".oj-dialog-title"),this.standardTitle=t(this.standardTitleDiv)))}},getNodeBySubId:function(e){if(null===e)return this.element?this.element[0]:null;function t(e){for(var t=[],i=/\w|_|-/,s=0;s<e.length;s++){var o=e.substring(s,s+1);i.test(o)?t.push(o):t.push("\\"+o)}return t.join("")}var n=e.subId;if(!this._IsCustomElement()||n!==s&&n!==i){var r,a;switch(n){case o:case s:case"oj-dialog-content":case"oj-resizable-n":case"oj-resizable-e":case"oj-resizable-s":case"oj-resizable-w":case"oj-resizable-se":case"oj-resizable-sw":case"oj-resizable-ne":case"oj-resizable-nw":return r=this.element[0].nodeName+'[id="'+t(this.element.attr("id"))+'"] > ',r+="."+n,(a=this.element.parent().find(r))&&0!==a.length?a[0]:null;case"oj-dialog-close-icon":case"oj-dialog-close":return null;case i:return r=this.element[0].nodeName+'[id="'+t(this.element.attr("id"))+'"] > ',r+=".oj-dialog-content > ",r+="."+n,(a=this.element.parent().find(r))&&0!==a.length?a[0]:null;case"oj-dialog-header-close-wrapper":return r=this.element[0].nodeName+'[id="'+t(this.element.attr("id"))+'"] > ',r+=".oj-dialog-header > ",r+="."+n,(a=this.element.parent().find(r))&&0!==a.length?a[0]:null}}else{if(n===i)return this._uiDialogBodyDiv.querySelector(".oj-dialog-body");if(n===s)return this._uiDialogFooterDiv.querySelector(".oj-dialog-footer")}return null},getSubIdByNode:function(e){if(null!=e){var i=t(e);if(i.hasClass(o))return{subId:o};if(i.hasClass(s))return{subId:s};if(i.hasClass("oj-dialog-content"))return{subId:"oj-dialog-content"};if(i.hasClass("oj-dialog-header-close-wrapper"))return{subId:"oj-dialog-header-close-wrapper"};if(i.hasClass("oj-resizable-n"))return{subId:"oj-resizable-n"};if(i.hasClass("oj-resizable-e"))return{subId:"oj-resizable-e"};if(i.hasClass("oj-resizable-s"))return{subId:"oj-resizable-s"};if(i.hasClass("oj-resizable-w"))return{subId:"oj-resizable-w"};if(i.hasClass("oj-resizable-se"))return{subId:"oj-resizable-se"};if(i.hasClass("oj-resizable-sw"))return{subId:"oj-resizable-sw"};if(i.hasClass("oj-resizable-ne"))return{subId:"oj-resizable-ne"};if(i.hasClass("oj-resizable-nw"))return{subId:"oj-resizable-nw"}}return null},_surrogateRemoveHandler:function(){this.element.remove()},_getPopupServiceEvents:function(){if(!this._popupServiceEvents){var t={};t[e.PopupService.EVENT.POPUP_CLOSE]=this._closeImplicitly.bind(this),t[e.PopupService.EVENT.POPUP_REMOVE]=this._surrogateRemoveHandler.bind(this),t[e.PopupService.EVENT.POPUP_REFRESH]=this._positionDescendents.bind(this),t[e.PopupService.EVENT.POPUP_BEFORE_OPEN]=this._beforeOpenHandler.bind(this),t[e.PopupService.EVENT.POPUP_AFTER_OPEN]=this._afterOpenHandler.bind(this),t[e.PopupService.EVENT.POPUP_BEFORE_CLOSE]=this._beforeCloseHandler.bind(this),t[e.PopupService.EVENT.POPUP_AFTER_CLOSE]=this._afterCloseHandler.bind(this),this._popupServiceEvents=t}return this._popupServiceEvents},_closeImplicitly:function(){this._ignoreBeforeCloseResultant=!0,this.close(),delete this._ignoreBeforeCloseResultant},_setWhenReady:function(t){var i=this._whenReadyMediator;i&&(i.destroy(),delete this._whenReadyMediator),["open","close"].indexOf(t)<0||(this._whenReadyMediator=new e.PopupWhenReadyMediator(this.element,t,"ojDialog",this._IsCustomElement()))},_isOperationPending:function(e,t){var i=this._whenReadyMediator;return!!i&&i.isOperationPending(this,e,e,t)},_NotifyDetached:function(){e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly(),this._super()}}),e.Components.setDefaultOptions({ojDialog:{resizeBehavior:e.Components.createDynamicPropertyGetter(function(){return(e.ThemeUtils.parseJSONFromFontFamily("oj-dialog-option-defaults")||{}).resizeBehavior}),cancelBehavior:e.Components.createDynamicPropertyGetter(function(){return(e.ThemeUtils.parseJSONFromFontFamily("oj-dialog-option-defaults")||{}).cancelBehavior}),dragAffordance:e.Components.createDynamicPropertyGetter(function(){return(e.ThemeUtils.parseJSONFromFontFamily("oj-dialog-option-defaults")||{}).dragAffordance})}}),t.widget("oj.ojResizable",{version:"1.0.0",widgetEventPrefix:"oj",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s,o=i&&"left"===i?"scrollLeft":"scrollTop";return e[o]>0||(e[o]=1,s=e[o]>0,e[o]=0,s)},_create:function(){this._super();var e,i,s,o,n=this,r=this.options,a=this.element.mouse.bind(this.element);if(a(),this.mouse=a("instance"),this.mouse._mouseCapture=function(e){return n._mouseCapture(e)},this.mouse._mouseStart=function(e){return n._mouseStart(e)},this.mouse._mouseDrag=function(e){return n._mouseDrag(e)},this.mouse._mouseStop=function(e){return this.element&&this.element.focus(),n._mouseStop(e)},this.element.addClass("oj-resizable"),t.extend(this,{originalElement:this.element,_proportionallyResizeElements:[],_helper:null}),this._initialResize=!0,this.handles=r.handles||(t(".oj-resizable-handle",this.element).length?{n:".oj-resizable-n",e:".oj-resizable-e",s:".oj-resizable-s",w:".oj-resizable-w",se:".oj-resizable-se",sw:".oj-resizable-sw",ne:".oj-resizable-ne",nw:".oj-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)s=t.trim(e[i]),o=t("<div class='oj-resizable-handle oj-resizable-"+s+"'></div>"),this.handles[s]=".oj-resizable-"+s,this.element.append(o);this._renderAxis=function(e){var t;for(t in e=e||this.element,this.handles)this.handles[t].constructor===String&&(this.handles[t]=this.element.children(this.handles[t]).first().show())},this._renderAxis(this.element),this._handles=t(".oj-resizable-handle",this.element),this._handles.mouseover(function(){n.resizing||(this.className&&(o=this.className.match(/oj-resizable-(se|sw|ne|nw|n|e|s|w)/i)),n.axis=o&&o[1]?o[1]:"se")}),this.mouse._mouseInit()},_destroy:function(){this.mouse&&this.mouse._mouseDestroy();try{this.mouse.destroy(),this.mouse=null}catch(e){}var e;return e=this.originalElement,t(e).removeClass("oj-resizable oj-resizable-disabled oj-resizable-resizing").removeData("resizable").removeData("oj-resizable").unbind(".resizable").find(".oj-resizable-handle").remove(),this},_mouseCapture:function(e){var i,s,o=!1;for(i in this.handles)((s=t(this.handles[i])[0])===e.target||t.contains(s,e.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(e){var i,s,o,n=this.options,r=this.element.position(),a=this.element;return this.resizing=!0,/absolute/.test(a.css("position"))?a.css({position:"absolute",top:a.css("top"),left:a.css("left")}):a.is(".oj-draggable")&&a.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),n.containment&&(i+=t(n.containment).scrollLeft()||0,s+=t(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size={width:a.width(),height:a.height()},this.originalSize={width:a.width(),height:a.height()},this.originalPosition={left:i,top:s},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio=this.originalSize.width/this.originalSize.height||1,o=t(".oj-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),a.addClass("oj-resizable-resizing"),this._propagate("start",e),this._alsoresize_start(e),this._containment_start(e),!0},_mouseDrag:function(e){var i,s=this.helper,o={},n=this.originalMousePosition,r=this.axis,a=e.pageX-n.left||0,l=e.pageY-n.top||0,h=this._change[r];return this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height},!!h&&(i=h.apply(this,[e,a,l]),this._updateVirtualBoundaries(e.shiftKey),e.shiftKey&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this._alsoresize_resize(e,this.ui()),this._containment_resize(e,this.ui()),this.position.top!==this.prevPosition.top&&(o.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(o.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(o.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(o.height=this.size.height+"px"),s.css(o),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(o)||this._trigger("resize",e,this.ui()),!1)},_mouseStop:function(e){return this.resizing=!1,t("body").css("cursor","auto"),this.element.removeClass("oj-resizable-resizing"),this._propagate("stop",e),this._alsoresize_stop(e),this._containment_stop(e),!1},_updateVirtualBoundaries:function(e){var t,i,s,o,n,r=this.options;n={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},e&&(t=n.minHeight*this.aspectRatio,s=n.minWidth/this.aspectRatio,i=n.maxHeight*this.aspectRatio,o=n.maxWidth/this.aspectRatio,t>n.minWidth&&(n.minWidth=t),s>n.minHeight&&(n.minHeight=s),i<n.maxWidth&&(n.maxWidth=i),o<n.maxHeight&&(n.maxHeight=o)),this._vBoundaries=n},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,s=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,n=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,r=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,h=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return n&&(e.width=t.minWidth),r&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),n&&h&&(e.left=a-t.minWidth),s&&h&&(e.left=a-t.maxWidth),r&&d&&(e.top=l-t.minHeight),o&&d&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,s,o,n=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(o=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],s=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")],t=0;t<i.length;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(s[t],10)||0);o.css({height:n.height()-this.borderDif[0]-this.borderDif[2]||0,width:n.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element;this.options,this.elementOffset=e.offset(),this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,t){"resize"!==e&&this._trigger(e,t,this.ui())},_alsoresize_start:function(){var e=this.options,i=function(e){t(e).each(function(){var e=t(this);e.data("oj-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof e.alsoResize||e.alsoResize.parentNode?i(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],i(e.alsoResize)):t.each(e.alsoResize,function(e){i(e)})},_alsoresize_resize:function(e,i){var s=this.options,o=this.originalSize,n=this.originalPosition,r={height:this.size.height-o.height||0,width:this.size.width-o.width||0,top:this.position.top-n.top||0,left:this.position.left-n.left||0},a=function(e,s){t(e).each(function(){var e=t(this),o=t(this).data("oj-resizable-alsoresize"),n={},a=s&&s.length?s:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(a,function(e,t){var i=(o[t]||0)+(r[t]||0);i&&i>=0&&(n[t]=i||null)}),e.css(n)})};"object"!=typeof s.alsoResize||s.alsoResize.nodeType?a(s.alsoResize,null):t.each(s.alsoResize,function(e,t){a(e,t)})},_alsoresize_stop:function(){t(this).removeData("oj-resizable-alsoresize")},_containment_start:function(){var e,i,s,o,n,r,a,l=this,h=l.options,d=l.element,c=h.containment,u=c instanceof t?c.get(0):/parent/.test(c)?d.parent().get(0):c;u&&(l.containerElement=t(u),/document/.test(c)||c===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(u),i=[],
t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=l._num(e.css("padding"+s))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=l.containerOffset,o=l.containerSize.height,n=l.containerSize.width,r=l._hasScroll(u,"left")?u.scrollWidth:n,a=l._hasScroll(u)?u.scrollHeight:o,l.parentData={element:u,left:s.left,top:s.top,width:r,height:a}))},_containment_resize:function(e,t){var i,s,o,n,r=this.options,a=this.containerOffset,l=this.position,h=e.shiftKey,d={top:0,left:0},c=this.containerElement,u=!0;c[0]!==document&&/static/.test(c.css("position"))&&(d=a),l.left<(this._helper?a.left:0)&&(this.size.width=this.size.width+(this._helper?this.position.left-a.left:this.position.left-d.left),h&&(this.size.height=this.size.width/this.aspectRatio,u=!1),this.position.left=r.helper?a.left:0),l.top<(this._helper?a.top:0)&&(this.size.height=this.size.height+(this._helper?this.position.top-a.top:this.position.top),h&&(this.size.width=this.size.height*this.aspectRatio,u=!1),this.position.top=this._helper?a.top:0),this.offset.left=this.parentData.left+this.position.left,this.offset.top=this.parentData.top+this.position.top,i=Math.abs((this._helper?this.offset.left-d.left:this.offset.left-a.left)+this.sizeDiff.width),s=Math.abs((this._helper?this.offset.top-d.top:this.offset.top-a.top)+this.sizeDiff.height),o=this.containerElement.get(0)===this.element.parent().get(0),n=/relative|absolute/.test(this.containerElement.css("position")),o&&n&&(i-=Math.abs(this.parentData.left)),i+this.size.width>=this.parentData.width&&(this.size.width=this.parentData.width-i,h&&(this.size.height=this.size.width/this.aspectRatio,u=!1)),s+this.size.height>=this.parentData.height&&(this.size.height=this.parentData.height-s,h&&(this.size.width=this.size.height*this.aspectRatio,u=!1)),u||(this.position.left=t.prevPosition.left,this.position.top=t.prevPosition.top,this.size.width=t.prevSize.width,this.size.height=t.prevSize.height)},_containment_stop:function(){var e=this.options,i=this.containerOffset,s=this.containerPosition,o=this.containerElement,n=t(this.helper),r=n.offset(),a=n.outerWidth()-this.sizeDiff.width,l=n.outerHeight()-this.sizeDiff.height;this._helper&&!e.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-s.left-i.left,width:a,height:l}),this._helper&&!e.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-s.left-i.left,width:a,height:l})},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition,prevSize:this.prevSize,prevPosition:this.prevPosition}}}),e.CustomElementBridge.registerMetadata("oj-dialog","baseComponent",{properties:{cancelBehavior:{type:"string",enumValues:["icon","escape","none"]},dragAffordance:{type:"string",enumValues:["title-bar","none"]},initialVisibility:{type:"string",enumValues:["hide","show"]},modality:{type:"string",enumValues:["modal","modeless"]},position:{type:"object",properties:{my:{type:"object|string",properties:{horizontal:{type:"string",enumValues:["start","end","left","center","right"]},vertical:{type:"string",enumValues:["top","center","bottom"]}}},at:{type:"object|string",properties:{horizontal:{type:"string",enumValues:["start","end","left","center","right"]},vertical:{type:"string",enumValues:["top","center","bottom"]}}},offset:{type:"object",properties:{x:{type:"number"},y:{type:"number"}}},of:{type:"string|{x:number, y:number}"},collision:{type:"string",enumValues:["flip","fit","flipfit","none"]}}},resizeBehavior:{type:"string",enumValues:["resizable","none"]},translations:{type:"Object",properties:{labelCloseIcon:{type:"string",value:"Close"}}}},events:{animateEnd:{},animateStart:{},beforeClose:{},beforeOpen:{},close:{},open:{},focus:{},resize:{},resizeStart:{},resizeStop:{}},methods:{close:{},isOpen:{},open:{},refresh:{}},extension:{_WIDGET_NAME:"ojDialog"}}),e.CustomElementBridge.register("oj-dialog",{metadata:e.CustomElementBridge.getMetadata("oj-dialog")})});
define('ojs/ojformlayout',["ojs/ojcore","ojs/ojcomponentcore","ojs/ojlabel"],function(e){var t={properties:{direction:{type:"string",enumValues:["column","row"],value:"column"},labelEdge:{type:"string",enumValues:["start","top"],value:"top"},labelWidth:{type:"string",value:"33%"},labelWrapping:{type:"string",enumValues:["truncate","wrap"],value:"wrap"},maxColumns:{type:"number",value:1}},extension:{_CONSTRUCTOR:function(t){var o,a,i,r,l,s,d=this,u=t.element,c="-labelled-by",m="data-oj-formlayout-bonus-dom",f="["+m+"]",v=!0;function h(){a&&(a(),a=null)}function b(){o&&(o(),o=null)}function p(t){var n=null;return t instanceof Element&&"labelHint"in t&&(O(t),n=function(e){var t=document.createElement("oj-label");t.setAttribute(m,""),t.setAttribute("data-oj-internal",""),t.setAttribute("data-oj-binding-provider","none"),t.setAttribute("data-oj-context","");var n=document.createElement("span");return n.id=e.id+"|hint",n.textContent=e.labelHint,t.appendChild(n),function(e,t){"labelledBy"in t?(e.id=t.id+c,t.labelledBy=e.id):e.setAttribute("for",t.id)}(t,e),t}(t),t.parentElement.insertBefore(n,t),function(t,n){e.Context.getContext(n).getBusyContext().whenReady().then(function(){var e=t.helpHints;e&&(e.definition||e.source)&&(n.help=e),n.showRequired=t.required})}(t,n),function(e){e.addEventListener("labelHintChanged",g),e.addEventListener("helpHintsChanged",C),e.addEventListener("requiredChanged",y)}(t)),n}function g(e){var t=e.target,n=document.getElementById(t.id+"|hint");n&&(n.innerText=e.detail.value)}function C(e){var t=j(e.target);t&&(t.help=e.detail.value)}function y(e){var t=j(e.target);t&&(t.showRequired=e.detail.value)}function j(e){return"labelledBy"in e?document.getElementById(e.labelledBy):u.querySelector('oj-label[for="'+e.id+'"]')}function x(){return"column"===u.direction?"100%":Math.floor(1e5/u.maxColumns)/1e3+"%"}function E(e){E(e,x())}function E(e,t){var n=w("oj-flex-item");n.style.webkitFlex="0 1 "+t,n.style.flex="0 1 "+t,n.style.maxWidth=t,n.style.width=t,e.appendChild(n)}function L(e,t,n){var o,a,i;o=n?w("oj-flex"):e.previousElementSibling;var r=t?function(){if(!s&&(s=l,"start"===u.labelEdge&&"row"===u.direction)){var e=u.labelWidth.match(/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/);switch(e[2]){case"vw":case"vmin":case"vmax":case"%":s=e[1]/u.maxColumns+e[2]}}return s}():x();return t||E(o,"0px"),a=w("oj-flex-item"),o.appendChild(a),e.parentElement.insertBefore(o,e),a.appendChild(e),a.style.flex="0 0 "+r,a.style.maxWidth=r,a.style.width=r,t&&(i=w("oj-flex-item"),o.appendChild(i),i.appendChild(t),i.style.webkitFlex="1 1 0",i.style.flex="1 1 0"),o}function w(e){var t=document.createElement("div");return t.setAttribute(m,""),t.setAttribute("data-oj-internal",""),t.classList.add(e),t}function B(e){for(var t=e,n=!0;t!==u;){if("OJ-FORM-LAYOUT"===t.tagName){n=!1;break}if(null==(t=t.parentElement)){n=!1;break}}return n}function A(e){for(;e.firstElementChild;)e.parentNode.insertBefore(e.firstElementChild,e);e.parentNode.removeChild(e)}function O(e){e.id||(e.id="oflId_"+n++)}d._rootElementMutationObserver=new MutationObserver(function(e){document.body.contains(u)?(function(e){for(var t=e.length,n=0;n<t;n++){var o=e[n];if("attributes"===o.type&&"class"===o.attributeName){var a=r.indexOf(o.target);if(-1!==a&&o.target.classList.contains("oj-complete")){r.splice(a,1);var i=p(o.target);i&&L(i,o.target,o.target.hasAttribute("data-oj-needs-oj-flex-div"))}}}}(e),function(e){for(var t=e.length,n=0;n<t;n++){var o=e[n];if("childList"===o.type)for(var a=o.addedNodes.length,r=0;r<a;r++){var l=o.addedNodes[r];l.parentNode===u&&i.appendChild(l)}}}(e),function(e){for(var t=!0,n=e.length,o=0;o<n;o++){var a=e[o];if("childList"===a.type&&((i=a.target)===u||i&&"DIV"===i.tagName&&i.hasAttribute(m))&&B(a.target)){t=!1;break}}var i;return t}(e)||(function(e){for(var t=e.length,n=0;n<t;n++){var o=e[n];if("childList"===o.type)for(var a=o.removedNodes.length,i=0;i<a;i++){var r=o.removedNodes[i];1===r.nodeType&&(r.removeEventListener("labelHintChanged",g),r.removeEventListener("helpHintsChanged",C),r.removeEventListener("requiredChanged",y))}}}(e),u.refresh())):this.disconnect()}),this.createDOM=function(){for(u.classList.add("oj-form-layout"),(i=document.createElement("div")).classList.add("oj-form"),i.setAttribute("data-oj-context",""),i.setAttribute("data-oj-internal",""),i.setAttribute(m,"");u.firstChild;)i.appendChild(u.firstChild);u.appendChild(i)},this.updateDOM=function(){!function(){if(!a){var t=e.Context.getContext(u).getBusyContext(),n={description:"The oj-form-layout component with id = '"+u.id+"' is being rendered."};a=t.addBusyState(n)}}(),r=[],s=null,l="start"===u.labelEdge?u.labelWidth:"100%",e.Context.getContext(i).getBusyContext().whenReady().then(function(){!function(){if(!o){var t=e.Context.getContext(i).getBusyContext(),n={description:"The oj-form div for oj-form-layout component with id = '"+u.id+"' is being rendered."};o=t.addBusyState(n)}}(),d._rootElementMutationObserver.disconnect(),function(){var e=u.maxColumns;"start"===u.labelEdge?(i.classList.add("oj-form-cols-labels-inline"),i.classList.add("oj-formlayout-labels-inline"),i.classList.remove("oj-form-cols")):(i.classList.add("oj-form-cols"),i.classList.remove("oj-form-cols-labels-inline"),i.classList.remove("oj-formlayout-labels-inline")),"truncate"===u.labelWrapping?i.classList.add("oj-formlayout-labels-nowrap"):i.classList.remove("oj-formlayout-labels-nowrap"),"row"===u.direction?(e=1,i.classList.add("oj-formlayout-form-across")):(e=u.maxColumns,i.classList.remove("oj-formlayout-form-across")),i.style.columnCount=e,i.style.webkitColumnCount=e,i.style.MozColumnCount=e}(),v||function(){for(var e=i.querySelectorAll(f),t=e.length,n=0;n<t;++n){var o=e[n];B(o)&&("OJ-LABEL"===o.tagName?o.parentElement.removeChild(o):A(o))}}(),function(){for(var e=i.firstElementChild,t=0,n="column"===u.direction;e;){var o=e.tagName.toLowerCase();if(-1!==o.indexOf("-"))if("oj-label"===o){var a=e;if(!(e=e.nextElementSibling))throw O(u),O(a),b(),h(),new Error("oj-form-layout component with id='"+u.id+"' has an oj-label child element with id='"+a.id+"' but has no next sibling element that it is associated with.")}else"oj-label-value"===o?v||e.refresh():e.classList.contains("oj-complete")?p(e):((n||t%u.maxColumns==0)&&e.setAttribute("data-oj-needs-oj-flex-div",""),r.push(e));t++,e=e.nextElementSibling}}(),function(){var e,t,n=[],o=i.children.length,a="column"===u.direction,l=0,s=0;for(function(e,t){for(var n=e.length;n--;)t[n]=e[n]}(i.children,n);l<o;)e=n[l],-1===r.indexOf(e)&&(t=L(e,"oj-label"===e.tagName.toLowerCase()?n[++l]:null,a||s%u.maxColumns==0)),s++,l++;!function(e,t){var n=u.maxColumns,o=t%n;if("column"!=u.direction&&e&&o>0)for(var a=o;a<n;a++)E(e)}(t,s)}(),d._rootElementMutationObserver.observe(u,{childList:!0,subtree:!0,attributes:!0}),b(),h(),v&&(v=!1)})}}}};Object.freeze(t);var n=0;e.CustomElementBridge.registerMetadata("oj-form-layout",null,t),e.CustomElementBridge.register("oj-form-layout",{metadata:e.CustomElementBridge.getMetadata("oj-form-layout")})});
define('ojs/ojlabelvalue',["ojs/ojcore","ojs/ojcomponentcore","ojs/ojlabel"],function(e){var t={properties:{labelEdge:{type:"string",enumValues:["start","top","inherit"],value:"inherit"},labelWidth:{type:"string",value:"inherit"}},extension:{_CONSTRUCTOR:function(e){var t,l,a=e.element;this.createDOM=function(){var e;for(a.classList.add("oj-label-value","oj-form"),(e=document.createElement("div")).classList.add("oj-flex"),e.setAttribute("data-oj-context",""),e.setAttribute("data-oj-internal",""),(t=document.createElement("div")).classList.add("oj-flex-item"),t.setAttribute("data-oj-context",""),t.setAttribute("data-oj-internal",""),(l=document.createElement("div")).classList.add("oj-flex-item"),l.setAttribute("data-oj-context",""),l.setAttribute("data-oj-internal","");a.firstElementChild;){var i=a.firstElementChild;switch(i.getAttribute("slot")){case"label":t.appendChild(i);break;case"value":l.appendChild(i);break;default:a.removeChild(i)}}e.appendChild(t),e.appendChild(l),a.appendChild(e)},this.updateDOM=function(){var e=function(){for(var e=a.parentElement;e;e=e.parentElement)if(-1!==e.tagName.indexOf("-"))return e;return null}(),i=function(e){var t="top";return"inherit"===a.labelEdge?e&&"labelEdge"in e&&(t=e.labelEdge):t=a.labelEdge,t}(e),n="start"===i?function(e){var t="33%";return"inherit"===a.labelWidth?e&&"labelWidth"in e&&(t=e.labelWidth):t=a.labelWidth,t}(e):"100%";"start"===i?a.classList.add("oj-formlayout-labels-inline"):a.classList.remove("oj-formlayout-labels-inline"),t.style.webkitFlex="0 1 "+n,t.style.flex="0 1 "+n,t.style.maxWidth=n,t.style.width=n,l.style.webkitFlex="1 1 0",l.style.flex="1 1 0"}}}};Object.freeze(t),e.CustomElementBridge.registerMetadata("oj-label-value",null,t),e.CustomElementBridge.register("oj-label-value",{metadata:e.CustomElementBridge.getMetadata("oj-label-value")})});
requirejs.config({baseUrl:"js",paths:{knockout:"libs/knockout/knockout-3.4.2",jquery:"libs/jquery/jquery-3.4.1.min","jqueryui-amd":"libs/jquery/jqueryui-amd-1.12.1.min",promise:"libs/es6-promise/es6-promise.min",hammerjs:"libs/hammer/hammer-2.0.8.min",ojdnd:"libs/dnd-polyfill/dnd-polyfill-1.0.0.min",ojs:"libs/oj/v5.1.0/min",ojL10n:"libs/oj/v5.1.0/ojL10n",ojtranslations:"libs/oj/v5.1.0/resources",text:"libs/require/text",signals:"libs/js-signals/signals.min",customElements:"libs/webcomponents/custom-elements.min",css:"libs/require-css/css.min",serviceUtils:"common/serviceUtils",blobjs:"libs/sheetjs/Blob.min","file-saverjs":"libs/sheetjs/FileSaver.min",jzip:"libs/sheetjs/jszip","xlsx-js":"libs/sheetjs/xlsx"},shim:{jquery:{exports:["jQuery","$"]}}}),require(["ojs/ojcore","knockout","appController","ojs/ojknockout","ojs/ojmodule","ojs/ojrouter","ojs/ojnavigationlist","ojs/ojbutton","ojs/ojtoolbar","promise","ojs/ojtable","ojs/ojinputtext","ojs/ojlabel","ojs/ojbutton","ojs/ojarraydataprovider","ojs/ojchart","ojs/ojmasonrylayout","ojs/ojcomposite","customComponents/mainloader","ojs/ojmessages","ojs/ojmessage","ojs/ojpagingcontrol","ojs/ojpagingtabledatasource","ojs/ojcheckboxset","ojs/ojdialog","ojs/ojformlayout","ojs/ojvalidationgroup","ojs/ojlabelvalue","ojs/ojmodel"],function(o,s,e){$(function(){function j(){o.Router.sync().then(function(){e.loadModule(),s.applyBindings(e,document.getElementById("globalBody"))},function(s){o.Logger.error("Error in root start: "+s.message)})}$(document.body).hasClass("oj-hybrid")?document.addEventListener("deviceready",j):j()})});
define("main-temp", function(){});


(function(c){var d=document,a='appendChild',i='styleSheet',s=d.createElement('style');s.type='text/css';d.getElementsByTagName('head')[0][a](s);s[i]?s[i].cssText=c:s[a](d.createTextNode(c));})
('masonry-tile:not(.oj-complete),\r\nmasonry-tile:not(.tile-loaded) {\r\n  background-image: url(\"customComponents/dashboard-masonry-tile/spinner_full.gif\");\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: 40px 40px;\r\n  \r\n}\r\nmasonry-tile {\r\n  font-weight: bold;\r\n}\r\nmasonry-tile:not(.oj-complete) > .tile-content,\r\nmasonry-tile:not(.tile-loaded) > .tile-content {\r\n  display: none;\r\n}\r\n.oj-masonrylayout-tile-1x1 {\r\n  margin: 5px;\r\n  width: 150px;\r\n  height: 150px; }\r\n\r\n.oj-masonrylayout-tile-1x2 {\r\n  margin: 5px;\r\n  width: 150px;\r\n  height: 310px; }\r\n\r\n.oj-masonrylayout-tile-1x3 {\r\n  margin: 5px;\r\n  width: 150px;\r\n  height: 470px; }\r\n\r\n.oj-masonrylayout-tile-1x4 {\r\n  margin: 5px;\r\n  width: 150px;\r\n  height: 630px; }\r\n\r\n.oj-masonrylayout-tile-2x1 {\r\n  margin: 5px;\r\n  width: 310px;\r\n  height: 150px; }\r\n\r\n.oj-masonrylayout-tile-2x2 {\r\n  margin: 5px;\r\n  width: 310px;\r\n  height: 310px; }\r\n\r\n.oj-masonrylayout-tile-2x3 {\r\n  margin: 5px;\r\n  width: 310px;\r\n  height: 470px; }\r\n\r\n.oj-masonrylayout-tile-2x4 {\r\n  margin: 5px;\r\n  width: 310px;\r\n  height: 630px; }\r\n\r\n.oj-masonrylayout-tile-3x1 {\r\n  margin: 5px;\r\n  width: 470px;\r\n  height: 150px; }\r\n\r\n.oj-masonrylayout-tile-3x2 {\r\n  margin: 5px;\r\n  width: 470px;\r\n  height: 310px; }\r\n\r\n.oj-masonrylayout-tile-3x3 {\r\n  margin: 5px;\r\n  width: 470px;\r\n  height: 470px; }\r\n\r\n.oj-masonrylayout-tile-3x4 {\r\n  margin: 5px;\r\n  width: 470px;\r\n  height: 630px; }\r\n\r\n.oj-masonrylayout-tile-4x1 {\r\n  margin: 5px;\r\n  width: 630px;\r\n  height: 150px; }\r\n\r\n.oj-masonrylayout-tile-4x2 {\r\n  margin: 5px;\r\n  width: 630px;\r\n  height: 310px; }\r\n\r\n.oj-masonrylayout-tile-4x3 {\r\n  margin: 5px;\r\n  width: 630px;\r\n  height: 470px; }\r\n\r\n.oj-masonrylayout-tile-4x4 {\r\n  margin: 5px;\r\n  width: 630px;\r\n  height: 630px; }\r\n\r\n.oj-masonrylayout-tile-pie {\r\n  margin: 5px;\r\n  width: 680px;\r\n  height: 450px;\r\n}\r\n.oj-masonrylayout-tile-line, .oj-masonrylayout-tile-bar {\r\n  margin: 5px;\r\n  width: 680px;\r\n  height: 225px;\r\n}\r\n\r\n.demo-custom-tile-sizes-1 .oj-masonrylayout-tile-1x1 {\r\n  margin: 10px;\r\n  width: 174px;\r\n  height: 174px; }\r\n\r\n.demo-custom-tile-sizes-1 .oj-masonrylayout-tile-1x2 {\r\n  margin: 10px;\r\n  width: 174px;\r\n  height: 368px; }\r\n\r\n.demo-custom-tile-sizes-1 .oj-masonrylayout-tile-1x3 {\r\n  margin: 10px;\r\n  width: 174px;\r\n  height: 562px; }\r\n\r\n.demo-custom-tile-sizes-1 .oj-masonrylayout-tile-1x4 {\r\n  margin: 10px;\r\n  width: 174px;\r\n  height: 756px; }\r\n\r\n.demo-custom-tile-sizes-1 .oj-masonrylayout-tile-2x1 {\r\n  margin: 10px;\r\n  width: 368px;\r\n  height: 174px; }\r\n\r\n.demo-custom-tile-sizes-1 .oj-masonrylayout-tile-2x2 {\r\n  margin: 10px;\r\n  width: 368px;\r\n  height: 368px; }\r\n\r\n.demo-custom-tile-sizes-1 .oj-masonrylayout-tile-2x3 {\r\n  margin: 10px;\r\n  width: 368px;\r\n  height: 562px; }\r\n\r\n.demo-custom-tile-sizes-1 .oj-masonrylayout-tile-2x4 {\r\n  margin: 10px;\r\n  width: 368px;\r\n  height: 756px; }\r\n\r\n.demo-custom-tile-sizes-1 .oj-masonrylayout-tile-3x1 {\r\n  margin: 10px;\r\n  width: 562px;\r\n  height: 174px; }\r\n\r\n.demo-custom-tile-sizes-1 .oj-masonrylayout-tile-3x2 {\r\n  margin: 10px;\r\n  width: 562px;\r\n  height: 368px; }\r\n\r\n.demo-custom-tile-sizes-1 .oj-masonrylayout-tile-3x3 {\r\n  margin: 10px;\r\n  width: 562px;\r\n  height: 562px; }\r\n\r\n.demo-custom-tile-sizes-1 .oj-masonrylayout-tile-3x4 {\r\n  margin: 10px;\r\n  width: 562px;\r\n  height: 756px; }\r\n\r\n.demo-custom-tile-sizes-1 .oj-masonrylayout-tile-4x1 {\r\n  margin: 10px;\r\n  width: 756px;\r\n  height: 174px; }\r\n\r\n.demo-custom-tile-sizes-1 .oj-masonrylayout-tile-4x2 {\r\n  margin: 10px;\r\n  width: 756px;\r\n  height: 368px; }\r\n\r\n.demo-custom-tile-sizes-1 .oj-masonrylayout-tile-4x3 {\r\n  margin: 10px;\r\n  width: 756px;\r\n  height: 562px; }\r\n\r\n.demo-custom-tile-sizes-1 .oj-masonrylayout-tile-4x4 {\r\n  margin: 10px;\r\n  width: 756px;\r\n  height: 756px; }\r\n\r\n.demo-custom-tile-sizes-2 .oj-masonrylayout-tile-1x1 {\r\n  margin: 3px;\r\n  width: 125px;\r\n  height: 75px; }\r\n\r\n.demo-custom-tile-sizes-2 .oj-masonrylayout-tile-1x2 {\r\n  margin: 3px;\r\n  width: 125px;\r\n  height: 156px; }\r\n\r\n.demo-custom-tile-sizes-2 .oj-masonrylayout-tile-1x3 {\r\n  margin: 3px;\r\n  width: 125px;\r\n  height: 237px; }\r\n\r\n.demo-custom-tile-sizes-2 .oj-masonrylayout-tile-1x4 {\r\n  margin: 3px;\r\n  width: 125px;\r\n  height: 318px; }\r\n\r\n.demo-custom-tile-sizes-2 .oj-masonrylayout-tile-2x1 {\r\n  margin: 3px;\r\n  width: 256px;\r\n  height: 75px; }\r\n\r\n.demo-custom-tile-sizes-2 .oj-masonrylayout-tile-2x2 {\r\n  margin: 3px;\r\n  width: 256px;\r\n  height: 156px; }\r\n\r\n.demo-custom-tile-sizes-2 .oj-masonrylayout-tile-2x3 {\r\n  margin: 3px;\r\n  width: 256px;\r\n  height: 237px; }\r\n\r\n.demo-custom-tile-sizes-2 .oj-masonrylayout-tile-2x4 {\r\n  margin: 3px;\r\n  width: 256px;\r\n  height: 318px; }\r\n\r\n.demo-custom-tile-sizes-2 .oj-masonrylayout-tile-3x1 {\r\n  margin: 3px;\r\n  width: 387px;\r\n  height: 75px; }\r\n\r\n.demo-custom-tile-sizes-2 .oj-masonrylayout-tile-3x2 {\r\n  margin: 3px;\r\n  width: 387px;\r\n  height: 156px; }\r\n\r\n.demo-custom-tile-sizes-2 .oj-masonrylayout-tile-3x3 {\r\n  margin: 3px;\r\n  width: 387px;\r\n  height: 237px; }\r\n\r\n.demo-custom-tile-sizes-2 .oj-masonrylayout-tile-3x4 {\r\n  margin: 3px;\r\n  width: 387px;\r\n  height: 318px; }\r\n\r\n.demo-custom-tile-sizes-2 .oj-masonrylayout-tile-4x1 {\r\n  margin: 3px;\r\n  width: 518px;\r\n  height: 75px; }\r\n\r\n.demo-custom-tile-sizes-2 .oj-masonrylayout-tile-4x2 {\r\n  margin: 3px;\r\n  width: 518px;\r\n  height: 156px; }\r\n\r\n.demo-custom-tile-sizes-2 .oj-masonrylayout-tile-4x3 {\r\n  margin: 3px;\r\n  width: 518px;\r\n  height: 237px; }\r\n\r\n.demo-custom-tile-sizes-2 .oj-masonrylayout-tile-4x4 {\r\n  margin: 3px;\r\n  width: 518px;\r\n  height: 318px; }\r\n\r\n.demo-custom-tile-sizes-3 .oj-masonrylayout-tile-1x1 {\r\n  margin: 3px;\r\n  width: 100px;\r\n  height: 125px; }\r\n\r\n.demo-custom-tile-sizes-3 .oj-masonrylayout-tile-1x2 {\r\n  margin: 3px;\r\n  width: 100px;\r\n  height: 256px; }\r\n\r\n.demo-custom-tile-sizes-3 .oj-masonrylayout-tile-1x3 {\r\n  margin: 3px;\r\n  width: 100px;\r\n  height: 387px; }\r\n\r\n.demo-custom-tile-sizes-3 .oj-masonrylayout-tile-1x4 {\r\n  margin: 3px;\r\n  width: 100px;\r\n  height: 518px; }\r\n\r\n.demo-custom-tile-sizes-3 .oj-masonrylayout-tile-2x1 {\r\n  margin: 3px;\r\n  width: 206px;\r\n  height: 125px; }\r\n\r\n.demo-custom-tile-sizes-3 .oj-masonrylayout-tile-2x2 {\r\n  margin: 3px;\r\n  width: 206px;\r\n  height: 256px; }\r\n\r\n.demo-custom-tile-sizes-3 .oj-masonrylayout-tile-2x3 {\r\n  margin: 3px;\r\n  width: 206px;\r\n  height: 387px; }\r\n\r\n.demo-custom-tile-sizes-3 .oj-masonrylayout-tile-2x4 {\r\n  margin: 3px;\r\n  width: 206px;\r\n  height: 518px; }\r\n\r\n.demo-custom-tile-sizes-3 .oj-masonrylayout-tile-3x1 {\r\n  margin: 3px;\r\n  width: 312px;\r\n  height: 125px; }\r\n\r\n.demo-custom-tile-sizes-3 .oj-masonrylayout-tile-3x2 {\r\n  margin: 3px;\r\n  width: 312px;\r\n  height: 256px; }\r\n\r\n.demo-custom-tile-sizes-3 .oj-masonrylayout-tile-3x3 {\r\n  margin: 3px;\r\n  width: 312px;\r\n  height: 387px; }\r\n\r\n.demo-custom-tile-sizes-3 .oj-masonrylayout-tile-3x4 {\r\n  margin: 3px;\r\n  width: 312px;\r\n  height: 518px; }\r\n\r\n.demo-custom-tile-sizes-3 .oj-masonrylayout-tile-4x1 {\r\n  margin: 3px;\r\n  width: 418px;\r\n  height: 125px; }\r\n\r\n.demo-custom-tile-sizes-3 .oj-masonrylayout-tile-4x2 {\r\n  margin: 3px;\r\n  width: 418px;\r\n  height: 256px; }\r\n\r\n.demo-custom-tile-sizes-3 .oj-masonrylayout-tile-4x3 {\r\n  margin: 3px;\r\n  width: 418px;\r\n  height: 387px; }\r\n\r\n.demo-custom-tile-sizes-3 .oj-masonrylayout-tile-4x4 {\r\n  margin: 3px;\r\n  width: 418px;\r\n  height: 518px; }\r\n\r\n/****** centering *********/\r\n/* In order to center masonry layout the width needs \r\n   to be restricted to a multiple of the column width\r\n   (the actual tile width plus the margins). */\r\n/* Allow for a maximum of nine columns. */\r\n@media (min-width: 180px) {\r\n  .demo-masonry-layout {\r\n    width: 160px; } }\r\n\r\n@media (min-width: 214px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-1 {\r\n    width: 194px; } }\r\n\r\n@media (min-width: 151px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-2 {\r\n    width: 131px; } }\r\n\r\n@media (min-width: 126px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-3 {\r\n    width: 106px; } }\r\n\r\n@media (min-width: 340px) {\r\n  .demo-masonry-layout {\r\n    width: 320px; } }\r\n\r\n@media (min-width: 408px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-1 {\r\n    width: 388px; } }\r\n\r\n@media (min-width: 282px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-2 {\r\n    width: 262px; } }\r\n\r\n@media (min-width: 232px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-3 {\r\n    width: 212px; } }\r\n\r\n@media (min-width: 500px) {\r\n  .demo-masonry-layout {\r\n    width: 480px; } }\r\n\r\n@media (min-width: 602px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-1 {\r\n    width: 582px; } }\r\n\r\n@media (min-width: 413px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-2 {\r\n    width: 393px; } }\r\n\r\n@media (min-width: 338px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-3 {\r\n    width: 318px; } }\r\n\r\n@media (min-width: 660px) {\r\n  .demo-masonry-layout {\r\n    width: 640px; } }\r\n\r\n@media (min-width: 796px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-1 {\r\n    width: 776px; } }\r\n\r\n@media (min-width: 544px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-2 {\r\n    width: 524px; } }\r\n\r\n@media (min-width: 444px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-3 {\r\n    width: 424px; } }\r\n\r\n@media (min-width: 820px) {\r\n  .demo-masonry-layout {\r\n    width: 800px; } }\r\n\r\n@media (min-width: 990px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-1 {\r\n    width: 970px; } }\r\n\r\n@media (min-width: 675px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-2 {\r\n    width: 655px; } }\r\n\r\n@media (min-width: 550px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-3 {\r\n    width: 530px; } }\r\n\r\n@media (min-width: 980px) {\r\n  .demo-masonry-layout {\r\n    width: 960px; } }\r\n\r\n@media (min-width: 1184px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-1 {\r\n    width: 1164px; } }\r\n\r\n@media (min-width: 806px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-2 {\r\n    width: 786px; } }\r\n\r\n@media (min-width: 656px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-3 {\r\n    width: 636px; } }\r\n\r\n@media (min-width: 1140px) {\r\n  .demo-masonry-layout {\r\n    width: 1120px; } }\r\n\r\n@media (min-width: 1378px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-1 {\r\n    width: 1358px; } }\r\n\r\n@media (min-width: 937px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-2 {\r\n    width: 917px; } }\r\n\r\n@media (min-width: 762px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-3 {\r\n    width: 742px; } }\r\n\r\n@media (min-width: 1300px) {\r\n  .demo-masonry-layout {\r\n    width: 1280px; } }\r\n\r\n@media (min-width: 1572px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-1 {\r\n    width: 1552px; } }\r\n\r\n@media (min-width: 1068px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-2 {\r\n    width: 1048px; } }\r\n\r\n@media (min-width: 868px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-3 {\r\n    width: 848px; } }\r\n\r\n@media (min-width: 1460px) {\r\n  .demo-masonry-layout {\r\n    width: 1440px; } }\r\n\r\n@media (min-width: 1766px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-1 {\r\n    width: 1746px; } }\r\n\r\n@media (min-width: 1199px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-2 {\r\n    width: 1179px; } }\r\n\r\n@media (min-width: 974px) {\r\n  .demo-masonry-layout.demo-custom-tile-sizes-3 {\r\n    width: 954px; } }/* This is to prevent the flash of unstyled content before the composite properties have been setup. */\r\n\r\nlas-table:not(.oj-complete) {\r\n  visibility: hidden;\r\n}\r\n\r\n.dropBtnBar {\r\n   position: relative;\r\n    display: inline-block;\r\n    float: right;\r\n    padding-bottom: 15px;\r\n}\r\n.dropBtnBar .oj-button {     \r\n/*    background-color: #e5131c;*/\r\n/*    color: white;*/\r\n    /*padding: 10px 15px 10px 15px;*/\r\n/*    font-size: 16px;*/\r\n    /*border: none;*/\r\n/*    cursor: pointer;*/\r\n        flex: auto;\r\n}\r\n.oj-button .oj-button-button{\r\n    \r\n}\r\n/*.oj-button.oj-hover .oj-button-button,*/\r\n.oj-button.oj-hover.oj-button-full-chrome .oj-button-button{\r\n    background-color:#e5131c;\r\n    color:#fff;\r\n    border-color:#fff;\r\n}\r\n.oj-button.oj-hover.oj-focus .oj-button-button{\r\n    background-color:#e5131c;\r\n    color:#fff;\r\n    border-color:#fff;\r\n}\r\n\r\n\r\n.dropBtnBar button:disabled{  \r\n    cursor:text;     background-color: #f4f6f7;\r\n    background-image: none;\r\n    border-color: #e0e6eb;\r\n    color: #9e9e9e;\r\n    box-shadow: none;\r\n}\r\n\r\n/* The container <div> - needed to position the dropdown content */\r\n.dropdown {\r\n    display: inline-block;\r\n}\r\n\r\n/* Dropdown Content (Hidden by Default) */\r\n.dropdown-content {\r\n    right:0;\r\n    display: none;\r\n    position: absolute;\r\n    background-color: #f9f9f9;\r\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\r\n    max-height: 200px;\r\n    font-size: 16px;\r\n    min-width: 250px;\r\n    z-index: 9999;\r\n    /*overflow-x: scroll;*/\r\n    overflow-y: scroll;\r\n    white-space: nowrap;\r\n}\r\n\r\n/* Links inside the dropdown */\r\n.dropdown-content input:checkbox {\r\n    color: black;\r\n    padding: 12px 16px;\r\n    text-decoration: none;\r\n    display: block;\r\n}\r\n\r\n\r\n/* Show the dropdown menu on hover */\r\n.dropdown:hover .dropdown-content {\r\n    display: block;\r\n}\r\n\r\n.scrollable-table {\r\n    height: 100%; \r\n    width: 100%; \r\n    overflow-x: auto; \r\n    overflow-y: hidden;\r\n}\r\n\r\n#colDisplay{\r\n    padding: 5px 10px;\r\n}\r\n\r\n/* */\r\n/* This is to prevent the flash of unstyled content before the composite properties have been setup. */\r\n\r\nlas-table:not(.oj-complete) {\r\n    visibility: hidden;\r\n}\r\n\r\n.dropBtnBar {\r\n    position: relative;\r\n    display: inline-block;\r\n    float: right;\r\n    padding-bottom: 15px;\r\n}\r\n.dropBtnBar .oj-button {     \r\n    /*    background-color: #e5131c;*/\r\n    /*    color: white;*/\r\n    /*padding: 10px 15px 10px 15px;*/\r\n    /*    font-size: 16px;*/\r\n    /*border: none;*/\r\n    /*    cursor: pointer;*/\r\n    flex: auto;\r\n}\r\n\r\n.oj-button .oj-button-button{\r\n \r\n}\r\n/*.oj-button.oj-hover .oj-button-button,*/\r\n.oj-button.oj-hover.oj-button-full-chrome .oj-button-button{\r\n    background-color:#e5131c;\r\n    color:#fff;\r\n    border-color:#fff;\r\n}\r\n.oj-button.oj-hover.oj-focus .oj-button-button{\r\n    background-color:#e5131c;\r\n    color:#fff;\r\n    border-color:#fff;\r\n}\r\n\r\n.footer{\r\n    border-radius: 0 0 2px 2px;\r\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\r\n    background-color: #fafafa;\r\n    padding: 4px 6px;\r\n    height: 56px;\r\n    width: 100%;\r\n\r\n}\r\n.dropBtnBar button:disabled{  \r\n    cursor:text;     background-color: #f4f6f7;\r\n    background-image: none;\r\n    border-color: #e0e6eb;\r\n    color: #9e9e9e;\r\n    box-shadow: none;\r\n}\r\n\r\n/* The container <div> - needed to position the dropdown content */\r\n.dropdown {\r\n    display: inline-block;\r\n}\r\n\r\n/* Dropdown Content (Hidden by Default) */\r\n.dropdown-content {\r\n    right:0;\r\n    display: none;\r\n    position: absolute;\r\n    background-color: #f9f9f9;\r\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\r\n    max-height: 250px;\r\n    font-size: 16px;\r\n    min-width: 250px;\r\n    z-index: 9999;\r\n    /*overflow-x: scroll;*/\r\n    overflow-y: scroll;\r\n    white-space: nowrap;\r\n}\r\n\r\n/* Links inside the dropdown */\r\n.dropdown-content input:checkbox {\r\n    color: black;\r\n    padding: 12px 16px;\r\n    text-decoration: none;\r\n    display: block;\r\n}\r\n\r\n\r\n/* Show the dropdown menu on hover */\r\n.dropdown:hover .dropdown-content {\r\n    display: block;\r\n}\r\n\r\n.scrollable-table {\r\n    height: 100%; \r\n    width: 100%; \r\n    overflow-x: auto; \r\n    overflow-y: hidden;\r\n}\r\n\r\n#colDisplay{\r\n    padding: 5px 10px;\r\n}\r\n\r\n/* */\r\n/* This is to prevent the flash of unstyled content before the composite properties have been setup. */\r\n\r\nlas-table:not(.oj-complete) {\r\n  visibility: hidden;\r\n}\r\n\r\n.dropBtnBar {\r\n   position: relative;\r\n    display: inline-block;\r\n    float: right;\r\n    padding-bottom: 15px;\r\n}\r\n.dropBtnBar .oj-button {     \r\n/*    background-color: #e5131c;*/\r\n/*    color: white;*/\r\n    /*padding: 10px 15px 10px 15px;*/\r\n/*    font-size: 16px;*/\r\n    /*border: none;*/\r\n/*    cursor: pointer;*/\r\n        flex: auto;\r\n}\r\n.oj-button .oj-button-button{\r\n    \r\n}\r\n/*.oj-button.oj-hover .oj-button-button,*/\r\n.oj-button.oj-hover.oj-button-full-chrome .oj-button-button{\r\n    background-color:#e5131c;\r\n    color:#fff;\r\n    border-color:#fff;\r\n}\r\n.oj-button.oj-hover.oj-focus .oj-button-button{\r\n    background-color:#e5131c;\r\n    color:#fff;\r\n    border-color:#fff;\r\n}\r\n\r\n\r\n.dropBtnBar button:disabled{  \r\n    cursor:text;     background-color: #f4f6f7;\r\n    background-image: none;\r\n    border-color: #e0e6eb;\r\n    color: #9e9e9e;\r\n    box-shadow: none;\r\n}\r\n\r\n/* The container <div> - needed to position the dropdown content */\r\n.dropdown {\r\n    display: inline-block;\r\n}\r\n\r\n/* Dropdown Content (Hidden by Default) */\r\n.dropdown-content {\r\n    right:0;\r\n    display: none;\r\n    position: absolute;\r\n    background-color: #f9f9f9;\r\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\r\n    max-height: 250px;\r\n    font-size: 16px;\r\n    min-width: 250px;\r\n    z-index: 9999;\r\n    /*overflow-x: scroll;*/\r\n    overflow-y: scroll;\r\n    white-space: nowrap;\r\n}\r\n\r\n/* Links inside the dropdown */\r\n.dropdown-content input:checkbox {\r\n    color: black;\r\n    padding: 12px 16px;\r\n    text-decoration: none;\r\n    display: block;\r\n}\r\n\r\n\r\n/* Show the dropdown menu on hover */\r\n.dropdown:hover .dropdown-content {\r\n    display: block;\r\n}\r\n\r\n.scrollable-table {\r\n    height: 100%; \r\n    width: 100%; \r\n    overflow-x: auto; \r\n    overflow-y: hidden;\r\n}\r\n\r\n#colDisplay{\r\n    padding: 5px 10px;\r\n}\r\n\r\n/* */\r\n/* This is to prevent the flash of unstyled content before the composite properties have been setup. */\r\n\r\nlas-table:not(.oj-complete) {\r\n  visibility: hidden;\r\n}\r\n\r\n.dropBtnBar {\r\n   position: relative;\r\n    display: inline-block;\r\n    float: right;\r\n    padding-bottom: 15px;\r\n}\r\n.dropBtnBar .oj-button {     \r\n/*    background-color: #e5131c;*/\r\n/*    color: white;*/\r\n    /*padding: 10px 15px 10px 15px;*/\r\n/*    font-size: 16px;*/\r\n    /*border: none;*/\r\n/*    cursor: pointer;*/\r\n        flex: auto;\r\n}\r\n.oj-button .oj-button-button{\r\n    \r\n}\r\n/*.oj-button.oj-hover .oj-button-button,*/\r\n.oj-button.oj-hover.oj-button-full-chrome .oj-button-button{\r\n    background-color:#e5131c;\r\n    color:#fff;\r\n    border-color:#fff;\r\n}\r\n.oj-button.oj-hover.oj-focus .oj-button-button{\r\n    background-color:#e5131c;\r\n    color:#fff;\r\n    border-color:#fff;\r\n}\r\n\r\n\r\n.dropBtnBar button:disabled{  \r\n    cursor:text;     background-color: #f4f6f7;\r\n    background-image: none;\r\n    border-color: #e0e6eb;\r\n    color: #9e9e9e;\r\n    box-shadow: none;\r\n}\r\n\r\n/* The container <div> - needed to position the dropdown content */\r\n.dropdown {\r\n    display: inline-block;\r\n}\r\n\r\n/* Dropdown Content (Hidden by Default) */\r\n.dropdown-content {\r\n    right:0;\r\n    display: none;\r\n    position: absolute;\r\n    background-color: #f9f9f9;\r\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\r\n    max-height: 250px;\r\n    font-size: 16px;\r\n    min-width: 250px;\r\n    z-index: 9999;\r\n    /*overflow-x: scroll;*/\r\n    overflow-y: scroll;\r\n    white-space: nowrap;\r\n}\r\n\r\n/* Links inside the dropdown */\r\n.dropdown-content input:checkbox {\r\n    color: black;\r\n    padding: 12px 16px;\r\n    text-decoration: none;\r\n    display: block;\r\n}\r\n\r\n\r\n/* Show the dropdown menu on hover */\r\n.dropdown:hover .dropdown-content {\r\n    display: block;\r\n}\r\n\r\n.scrollable-table {\r\n    height: 100%; \r\n    width: 100%; \r\n    overflow-x: auto; \r\n    overflow-y: hidden;\r\n}\r\n\r\n#colDisplay{\r\n    padding: 5px 10px;\r\n}\r\n\r\n/* */\r\n/* This is to prevent the flash of unstyled content before the composite properties have been setup. */\r\n\r\nlas-table:not(.oj-complete) {\r\n  visibility: hidden;\r\n}\r\n\r\n.dropBtnBar {\r\n   position: relative;\r\n    display: inline-block;\r\n    float: right;\r\n    padding-bottom: 15px;\r\n}\r\n.dropBtnBar .oj-button {     \r\n/*    background-color: #e5131c;*/\r\n/*    color: white;*/\r\n    /*padding: 10px 15px 10px 15px;*/\r\n/*    font-size: 16px;*/\r\n    /*border: none;*/\r\n/*    cursor: pointer;*/\r\n        flex: auto;\r\n}\r\n.oj-button .oj-button-button{\r\n    \r\n}\r\n/*.oj-button.oj-hover .oj-button-button,*/\r\n.oj-button.oj-hover.oj-button-full-chrome .oj-button-button{\r\n    background-color:#e5131c;\r\n    color:#fff;\r\n    border-color:#fff;\r\n}\r\n.oj-button.oj-hover.oj-focus .oj-button-button{\r\n    background-color:#e5131c;\r\n    color:#fff;\r\n    border-color:#fff;\r\n}\r\n\r\n\r\n.dropBtnBar button:disabled{  \r\n    cursor:text;     background-color: #f4f6f7;\r\n    background-image: none;\r\n    border-color: #e0e6eb;\r\n    color: #9e9e9e;\r\n    box-shadow: none;\r\n}\r\n\r\n/* The container <div> - needed to position the dropdown content */\r\n.dropdown {\r\n    display: inline-block;\r\n}\r\n\r\n/* Dropdown Content (Hidden by Default) */\r\n.dropdown-content {\r\n    right:0;\r\n    display: none;\r\n    position: absolute;\r\n    background-color: #f9f9f9;\r\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\r\n    max-height: 250px;\r\n    font-size: 16px;\r\n    min-width: 250px;\r\n    z-index: 9999;\r\n    /*overflow-x: scroll;*/\r\n    overflow-y: scroll;\r\n    white-space: nowrap;\r\n}\r\n\r\n/* Links inside the dropdown */\r\n.dropdown-content input:checkbox {\r\n    color: black;\r\n    padding: 12px 16px;\r\n    text-decoration: none;\r\n    display: block;\r\n}\r\n\r\n\r\n/* Show the dropdown menu on hover */\r\n.dropdown:hover .dropdown-content {\r\n    display: block;\r\n}\r\n\r\n.scrollable-table {\r\n    height: 100%; \r\n    width: 100%; \r\n    overflow-x: auto; \r\n    overflow-y: hidden;\r\n}\r\n\r\n#colDisplay{\r\n    padding: 5px 10px;\r\n}\r\n\r\n/* */\r\n/* This is to prevent the flash of unstyled content before the composite properties have been setup. */\r\n\r\nlas-table:not(.oj-complete) {\r\n    visibility: hidden;\r\n}\r\n\r\n.dropBtnBar {\r\n    position: relative;\r\n    display: inline-block;\r\n    float: right;\r\n    padding-bottom: 15px;\r\n}\r\n.dropBtnBar .oj-button {     \r\n    /*    background-color: #e5131c;*/\r\n    /*    color: white;*/\r\n    /*padding: 10px 15px 10px 15px;*/\r\n    /*    font-size: 16px;*/\r\n    /*border: none;*/\r\n    /*    cursor: pointer;*/\r\n    flex: auto;\r\n}\r\n\r\n.oj-button .oj-button-button{\r\n \r\n}\r\n/*.oj-button.oj-hover .oj-button-button,*/\r\n.oj-button.oj-hover.oj-button-full-chrome .oj-button-button{\r\n    background-color:#e5131c;\r\n    color:#fff;\r\n    border-color:#fff;\r\n}\r\n.oj-button.oj-hover.oj-focus .oj-button-button{\r\n    background-color:#e5131c;\r\n    color:#fff;\r\n    border-color:#fff;\r\n}\r\n\r\n.footer{\r\n    border-radius: 0 0 2px 2px;\r\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\r\n    background-color: #fafafa;\r\n    padding: 4px 6px;\r\n    height: 56px;\r\n    width: 100%;\r\n\r\n}\r\n.dropBtnBar button:disabled{  \r\n    cursor:text;     background-color: #f4f6f7;\r\n    background-image: none;\r\n    border-color: #e0e6eb;\r\n    color: #9e9e9e;\r\n    box-shadow: none;\r\n}\r\n\r\n/* The container <div> - needed to position the dropdown content */\r\n.dropdown {\r\n    display: inline-block;\r\n}\r\n\r\n/* Dropdown Content (Hidden by Default) */\r\n.dropdown-content {\r\n    right:0;\r\n    display: none;\r\n    position: absolute;\r\n    background-color: #f9f9f9;\r\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\r\n    max-height: 250px;\r\n    font-size: 16px;\r\n    min-width: 250px;\r\n    z-index: 9999;\r\n    /*overflow-x: scroll;*/\r\n    overflow-y: scroll;\r\n    white-space: nowrap;\r\n}\r\n\r\n/* Links inside the dropdown */\r\n.dropdown-content input:checkbox {\r\n    color: black;\r\n    padding: 12px 16px;\r\n    text-decoration: none;\r\n    display: block;\r\n}\r\n\r\n\r\n/* Show the dropdown menu on hover */\r\n.dropdown:hover .dropdown-content {\r\n    display: block;\r\n}\r\n\r\n.scrollable-table {\r\n    height: 100%; \r\n    width: 100%; \r\n    overflow-x: auto; \r\n    overflow-y: hidden;\r\n}\r\n\r\n#colDisplay{\r\n    padding: 5px 10px;\r\n}\r\n\r\n/* */\r\n');
